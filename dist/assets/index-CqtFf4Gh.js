(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var oT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jx={exports:{}},Ld={};var lT;function IF(){if(lT)return Ld;lT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,r,i){var a=null;if(i!==void 0&&(a=""+i),r.key!==void 0&&(a=""+r.key),"key"in r){i={};for(var l in r)l!=="key"&&(i[l]=r[l])}else i=r;return r=i.ref,{$$typeof:t,type:s,key:a,ref:r!==void 0?r:null,props:i}}return Ld.Fragment=e,Ld.jsx=n,Ld.jsxs=n,Ld}var cT;function DF(){return cT||(cT=1,jx.exports=IF()),jx.exports}var p=DF(),Ox={exports:{}},vt={};var uT;function PF(){if(uT)return vt;uT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),g=Symbol.iterator;function y(P){return P===null||typeof P!="object"?null:(P=g&&P[g]||P["@@iterator"],typeof P=="function"?P:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function k(P,V,T){this.props=P,this.context=V,this.refs=w,this.updater=T||b}k.prototype.isReactComponent={},k.prototype.setState=function(P,V){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,V,"setState")},k.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=k.prototype;function E(P,V,T){this.props=P,this.context=V,this.refs=w,this.updater=T||b}var A=E.prototype=new C;A.constructor=E,_(A,k.prototype),A.isPureReactComponent=!0;var R=Array.isArray;function N(){}var M={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function q(P,V,T){var Q=T.ref;return{$$typeof:t,type:P,key:V,ref:Q!==void 0?Q:null,props:T}}function B(P,V){return q(P.type,V,P.props)}function K(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function $(P){var V={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(T){return V[T]})}var W=/\/+/g;function Z(P,V){return typeof P=="object"&&P!==null&&P.key!=null?$(""+P.key):V.toString(36)}function G(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(N,N):(P.status="pending",P.then(function(V){P.status==="pending"&&(P.status="fulfilled",P.value=V)},function(V){P.status==="pending"&&(P.status="rejected",P.reason=V)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function L(P,V,T,Q,te){var J=typeof P;(J==="undefined"||J==="boolean")&&(P=null);var ue=!1;if(P===null)ue=!0;else switch(J){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(P.$$typeof){case t:case e:ue=!0;break;case m:return ue=P._init,L(ue(P._payload),V,T,Q,te)}}if(ue)return te=te(P),ue=Q===""?"."+Z(P,0):Q,R(te)?(T="",ue!=null&&(T=ue.replace(W,"$&/")+"/"),L(te,V,T,"",function(et){return et})):te!=null&&(K(te)&&(te=B(te,T+(te.key==null||P&&P.key===te.key?"":(""+te.key).replace(W,"$&/")+"/")+ue)),V.push(te)),1;ue=0;var we=Q===""?".":Q+":";if(R(P))for(var ke=0;ke<P.length;ke++)Q=P[ke],J=we+Z(Q,ke),ue+=L(Q,V,T,J,te);else if(ke=y(P),typeof ke=="function")for(P=ke.call(P),ke=0;!(Q=P.next()).done;)Q=Q.value,J=we+Z(Q,ke++),ue+=L(Q,V,T,J,te);else if(J==="object"){if(typeof P.then=="function")return L(G(P),V,T,Q,te);throw V=String(P),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ue}function Y(P,V,T){if(P==null)return P;var Q=[],te=0;return L(P,Q,"","",function(J){return V.call(T,J,te++)}),Q}function X(P){if(P._status===-1){var V=P._result;V=V(),V.then(function(T){(P._status===0||P._status===-1)&&(P._status=1,P._result=T)},function(T){(P._status===0||P._status===-1)&&(P._status=2,P._result=T)}),P._status===-1&&(P._status=0,P._result=V)}if(P._status===1)return P._result.default;throw P._result}var U=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},O={map:Y,forEach:function(P,V,T){Y(P,function(){V.apply(this,arguments)},T)},count:function(P){var V=0;return Y(P,function(){V++}),V},toArray:function(P){return Y(P,function(V){return V})||[]},only:function(P){if(!K(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return vt.Activity=f,vt.Children=O,vt.Component=k,vt.Fragment=n,vt.Profiler=r,vt.PureComponent=E,vt.StrictMode=s,vt.Suspense=u,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,vt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return M.H.useMemoCache(P)}},vt.cache=function(P){return function(){return P.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(P,V,T){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Q=_({},P.props),te=P.key;if(V!=null)for(J in V.key!==void 0&&(te=""+V.key),V)!I.call(V,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&V.ref===void 0||(Q[J]=V[J]);var J=arguments.length-2;if(J===1)Q.children=T;else if(1<J){for(var ue=Array(J),we=0;we<J;we++)ue[we]=arguments[we+2];Q.children=ue}return q(P.type,te,Q)},vt.createContext=function(P){return P={$$typeof:a,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:i,_context:P},P},vt.createElement=function(P,V,T){var Q,te={},J=null;if(V!=null)for(Q in V.key!==void 0&&(J=""+V.key),V)I.call(V,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(te[Q]=V[Q]);var ue=arguments.length-2;if(ue===1)te.children=T;else if(1<ue){for(var we=Array(ue),ke=0;ke<ue;ke++)we[ke]=arguments[ke+2];te.children=we}if(P&&P.defaultProps)for(Q in ue=P.defaultProps,ue)te[Q]===void 0&&(te[Q]=ue[Q]);return q(P,J,te)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(P){return{$$typeof:l,render:P}},vt.isValidElement=K,vt.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:X}},vt.memo=function(P,V){return{$$typeof:h,type:P,compare:V===void 0?null:V}},vt.startTransition=function(P){var V=M.T,T={};M.T=T;try{var Q=P(),te=M.S;te!==null&&te(T,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(N,U)}catch(J){U(J)}finally{V!==null&&T.types!==null&&(V.types=T.types),M.T=V}},vt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},vt.use=function(P){return M.H.use(P)},vt.useActionState=function(P,V,T){return M.H.useActionState(P,V,T)},vt.useCallback=function(P,V){return M.H.useCallback(P,V)},vt.useContext=function(P){return M.H.useContext(P)},vt.useDebugValue=function(){},vt.useDeferredValue=function(P,V){return M.H.useDeferredValue(P,V)},vt.useEffect=function(P,V){return M.H.useEffect(P,V)},vt.useEffectEvent=function(P){return M.H.useEffectEvent(P)},vt.useId=function(){return M.H.useId()},vt.useImperativeHandle=function(P,V,T){return M.H.useImperativeHandle(P,V,T)},vt.useInsertionEffect=function(P,V){return M.H.useInsertionEffect(P,V)},vt.useLayoutEffect=function(P,V){return M.H.useLayoutEffect(P,V)},vt.useMemo=function(P,V){return M.H.useMemo(P,V)},vt.useOptimistic=function(P,V){return M.H.useOptimistic(P,V)},vt.useReducer=function(P,V,T){return M.H.useReducer(P,V,T)},vt.useRef=function(P){return M.H.useRef(P)},vt.useState=function(P){return M.H.useState(P)},vt.useSyncExternalStore=function(P,V,T){return M.H.useSyncExternalStore(P,V,T)},vt.useTransition=function(){return M.H.useTransition()},vt.version="19.2.3",vt}var hT;function xh(){return hT||(hT=1,Ox.exports=PF()),Ox.exports}var z=xh();const Rs=Mv(z);var Mx={exports:{}},Bd={},Ix={exports:{}},Dx={};var dT;function LF(){return dT||(dT=1,(function(t){function e(L,Y){var X=L.length;L.push(Y);e:for(;0<X;){var U=X-1>>>1,O=L[U];if(0<r(O,Y))L[U]=Y,L[X]=O,X=U;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var Y=L[0],X=L.pop();if(X!==Y){L[0]=X;e:for(var U=0,O=L.length,P=O>>>1;U<P;){var V=2*(U+1)-1,T=L[V],Q=V+1,te=L[Q];if(0>r(T,X))Q<O&&0>r(te,T)?(L[U]=te,L[Q]=X,U=Q):(L[U]=T,L[V]=X,U=V);else if(Q<O&&0>r(te,X))L[U]=te,L[Q]=X,U=Q;else break e}}return Y}function r(L,Y){var X=L.sortIndex-Y.sortIndex;return X!==0?X:L.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],m=1,f=null,g=3,y=!1,b=!1,_=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function A(L){for(var Y=n(h);Y!==null;){if(Y.callback===null)s(h);else if(Y.startTime<=L)s(h),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(h)}}function R(L){if(_=!1,A(L),!b)if(n(u)!==null)b=!0,N||(N=!0,$());else{var Y=n(h);Y!==null&&G(R,Y.startTime-L)}}var N=!1,M=-1,I=5,q=-1;function B(){return w?!0:!(t.unstable_now()-q<I)}function K(){if(w=!1,N){var L=t.unstable_now();q=L;var Y=!0;try{e:{b=!1,_&&(_=!1,C(M),M=-1),y=!0;var X=g;try{t:{for(A(L),f=n(u);f!==null&&!(f.expirationTime>L&&B());){var U=f.callback;if(typeof U=="function"){f.callback=null,g=f.priorityLevel;var O=U(f.expirationTime<=L);if(L=t.unstable_now(),typeof O=="function"){f.callback=O,A(L),Y=!0;break t}f===n(u)&&s(u),A(L)}else s(u);f=n(u)}if(f!==null)Y=!0;else{var P=n(h);P!==null&&G(R,P.startTime-L),Y=!1}}break e}finally{f=null,g=X,y=!1}Y=void 0}}finally{Y?$():N=!1}}}var $;if(typeof E=="function")$=function(){E(K)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Z=W.port2;W.port1.onmessage=K,$=function(){Z.postMessage(null)}}else $=function(){k(K,0)};function G(L,Y){M=k(function(){L(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(L){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var X=g;g=Y;try{return L()}finally{g=X}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=g;g=L;try{return Y()}finally{g=X}},t.unstable_scheduleCallback=function(L,Y,X){var U=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?U+X:U):X=U,L){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=X+O,L={id:m++,callback:Y,priorityLevel:L,startTime:X,expirationTime:O,sortIndex:-1},X>U?(L.sortIndex=X,e(h,L),n(u)===null&&L===n(h)&&(_?(C(M),M=-1):_=!0,G(R,X-U))):(L.sortIndex=O,e(u,L),b||y||(b=!0,N||(N=!0,$()))),L},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(L){var Y=g;return function(){var X=g;g=Y;try{return L.apply(this,arguments)}finally{g=X}}}})(Dx)),Dx}var fT;function BF(){return fT||(fT=1,Ix.exports=LF()),Ix.exports}var Px={exports:{}},ws={};var pT;function $F(){if(pT)return ws;pT=1;var t=xh();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function i(u,h,m){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:f==null?null:""+f,children:u,containerInfo:h,implementation:m}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ws.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ws.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(u,h,null,m)},ws.flushSync=function(u){var h=a.T,m=s.p;try{if(a.T=null,s.p=2,u)return u()}finally{a.T=h,s.p=m,s.d.f()}},ws.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(u,h))},ws.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},ws.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var m=h.as,f=l(m,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?s.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:y}):m==="script"&&s.d.X(u,{crossOrigin:f,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ws.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=l(h.as,h.crossOrigin);s.d.M(u,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(u)},ws.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,f=l(m,h.crossOrigin);s.d.L(u,m,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ws.preloadModule=function(u,h){if(typeof u=="string")if(h){var m=l(h.as,h.crossOrigin);s.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(u)},ws.requestFormReset=function(u){s.d.r(u)},ws.unstable_batchedUpdates=function(u,h){return u(h)},ws.useFormState=function(u,h,m){return a.H.useFormState(u,h,m)},ws.useFormStatus=function(){return a.H.useHostTransitionStatus()},ws.version="19.2.3",ws}var mT;function lD(){if(mT)return Px.exports;mT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Px.exports=$F(),Px.exports}var gT;function zF(){if(gT)return Bd;gT=1;var t=BF(),e=xh(),n=lD();function s(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,d=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(d=c.return),o=c.return;while(o)}return c.tag===3?d:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(s(188))}function h(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(s(188));return c!==o?null:o}for(var d=o,v=c;;){var x=d.return;if(x===null)break;var S=x.alternate;if(S===null){if(v=x.return,v!==null){d=v;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===d)return u(x),o;if(S===v)return u(x),c;S=S.sibling}throw Error(s(188))}if(d.return!==v.return)d=x,v=S;else{for(var j=!1,F=x.child;F;){if(F===d){j=!0,d=x,v=S;break}if(F===v){j=!0,v=x,d=S;break}F=F.sibling}if(!j){for(F=S.child;F;){if(F===d){j=!0,d=S,v=x;break}if(F===v){j=!0,v=S,d=x;break}F=F.sibling}if(!j)throw Error(s(189))}}if(d.alternate!==v)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?o:c}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=m(o),c!==null)return c;o=o.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function $(o){return o===null||typeof o!="object"?null:(o=K&&o[K]||o["@@iterator"],typeof o=="function"?o:null)}var W=Symbol.for("react.client.reference");function Z(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===W?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case _:return"Fragment";case k:return"Profiler";case w:return"StrictMode";case R:return"Suspense";case N:return"SuspenseList";case q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case E:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case A:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return c=o.displayName||null,c!==null?c:Z(o.type)||"Memo";case I:c=o._payload,o=o._init;try{return Z(o(c))}catch{}}return null}var G=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},U=[],O=-1;function P(o){return{current:o}}function V(o){0>O||(o.current=U[O],U[O]=null,O--)}function T(o,c){O++,U[O]=o.current,o.current=c}var Q=P(null),te=P(null),J=P(null),ue=P(null);function we(o,c){switch(T(J,c),T(te,o),T(Q,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?T5(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=T5(c),o=j5(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}V(Q),T(Q,o)}function ke(){V(Q),V(te),V(J)}function et(o){o.memoizedState!==null&&T(ue,o);var c=Q.current,d=j5(c,o.type);c!==d&&(T(te,o),T(Q,d))}function ze(o){te.current===o&&(V(Q),V(te)),ue.current===o&&(V(ue),Md._currentValue=X)}var Ce,Oe;function qe(o){if(Ce===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);Ce=c&&c[1]||"",Oe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+o+Oe}var lt=!1;function at(o,c){if(!o||lt)return"";lt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(pe){var de=pe}Reflect.construct(o,[],be)}else{try{be.call()}catch(pe){de=pe}o.call(be.prototype)}}else{try{throw Error()}catch(pe){de=pe}(be=o())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(pe){if(pe&&de&&typeof pe.stack=="string")return[pe.stack,de.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=v.DetermineComponentFrameRoot(),j=S[0],F=S[1];if(j&&F){var ee=j.split(`
`),ce=F.split(`
`);for(x=v=0;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;for(;x<ce.length&&!ce[x].includes("DetermineComponentFrameRoot");)x++;if(v===ee.length||x===ce.length)for(v=ee.length-1,x=ce.length-1;1<=v&&0<=x&&ee[v]!==ce[x];)x--;for(;1<=v&&0<=x;v--,x--)if(ee[v]!==ce[x]){if(v!==1||x!==1)do if(v--,x--,0>x||ee[v]!==ce[x]){var ge=`
`+ee[v].replace(" at new "," at ");return o.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",o.displayName)),ge}while(1<=v&&0<=x);break}}}finally{lt=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?qe(d):""}function Lt(o,c){switch(o.tag){case 26:case 27:case 5:return qe(o.type);case 16:return qe("Lazy");case 13:return o.child!==c&&c!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return at(o.type,!1);case 11:return at(o.type.render,!1);case 1:return at(o.type,!0);case 31:return qe("Activity");default:return""}}function Bt(o){try{var c="",d=null;do c+=Lt(o,d),d=o,o=o.return;while(o);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var At=Object.prototype.hasOwnProperty,jt=t.unstable_scheduleCallback,De=t.unstable_cancelCallback,He=t.unstable_shouldYield,Ie=t.unstable_requestPaint,Ke=t.unstable_now,Te=t.unstable_getCurrentPriorityLevel,ae=t.unstable_ImmediatePriority,ve=t.unstable_UserBlockingPriority,Ve=t.unstable_NormalPriority,ot=t.unstable_LowPriority,bt=t.unstable_IdlePriority,un=t.log,re=t.unstable_setDisableYieldValue,oe=null,fe=null;function Ne(o){if(typeof un=="function"&&re(o),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(oe,o)}catch{}}var me=Math.clz32?Math.clz32:dt,Ge=Math.log,ht=Math.LN2;function dt(o){return o>>>=0,o===0?32:31-(Ge(o)/ht|0)|0}var Pe=256,Fe=262144,Ye=4194304;function Ze(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function kt(o,c,d){var v=o.pendingLanes;if(v===0)return 0;var x=0,S=o.suspendedLanes,j=o.pingedLanes;o=o.warmLanes;var F=v&134217727;return F!==0?(v=F&~S,v!==0?x=Ze(v):(j&=F,j!==0?x=Ze(j):d||(d=F&~o,d!==0&&(x=Ze(d))))):(F=v&~S,F!==0?x=Ze(F):j!==0?x=Ze(j):d||(d=v&~o,d!==0&&(x=Ze(d)))),x===0?0:c!==0&&c!==x&&(c&S)===0&&(S=x&-x,d=c&-c,S>=d||S===32&&(d&4194048)!==0)?c:x}function qt(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function mn(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ks(){var o=Ye;return Ye<<=1,(Ye&62914560)===0&&(Ye=4194304),o}function jc(o){for(var c=[],d=0;31>d;d++)c.push(o);return c}function al(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function b_(o,c,d,v,x,S){var j=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var F=o.entanglements,ee=o.expirationTimes,ce=o.hiddenUpdates;for(d=j&~d;0<d;){var ge=31-me(d),be=1<<ge;F[ge]=0,ee[ge]=-1;var de=ce[ge];if(de!==null)for(ce[ge]=null,ge=0;ge<de.length;ge++){var pe=de[ge];pe!==null&&(pe.lane&=-536870913)}d&=~be}v!==0&&dA(o,v,0),S!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=S&~(j&~c))}function dA(o,c,d){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-me(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|d&261930}function fA(o,c){var d=o.entangledLanes|=c;for(o=o.entanglements;d;){var v=31-me(d),x=1<<v;x&c|o[v]&c&&(o[v]|=c),d&=~x}}function pA(o,c){var d=c&-c;return d=(d&42)!==0?1:__(d),(d&(o.suspendedLanes|c))!==0?0:d}function __(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function x_(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function mA(){var o=Y.p;return o!==0?o:(o=window.event,o===void 0?32:eT(o.type))}function gA(o,c){var d=Y.p;try{return Y.p=o,c()}finally{Y.p=d}}var Ja=Math.random().toString(36).slice(2),as="__reactFiber$"+Ja,Ws="__reactProps$"+Ja,Oc="__reactContainer$"+Ja,S_="__reactEvents$"+Ja,w7="__reactListeners$"+Ja,k7="__reactHandles$"+Ja,yA="__reactResources$"+Ja,Gh="__reactMarker$"+Ja;function w_(o){delete o[as],delete o[Ws],delete o[S_],delete o[w7],delete o[k7]}function Mc(o){var c=o[as];if(c)return c;for(var d=o.parentNode;d;){if(c=d[Oc]||d[as]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(o=B5(o);o!==null;){if(d=o[as])return d;o=B5(o)}return c}o=d,d=o.parentNode}return null}function Ic(o){if(o=o[as]||o[Oc]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Yh(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(s(33))}function Dc(o){var c=o[yA];return c||(c=o[yA]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Xn(o){o[Gh]=!0}var vA=new Set,bA={};function ol(o,c){Pc(o,c),Pc(o+"Capture",c)}function Pc(o,c){for(bA[o]=c,o=0;o<c.length;o++)vA.add(c[o])}var C7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_A={},xA={};function N7(o){return At.call(xA,o)?!0:At.call(_A,o)?!1:C7.test(o)?xA[o]=!0:(_A[o]=!0,!1)}function Om(o,c,d){if(N7(c))if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+d)}}function Mm(o,c,d){if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+d)}}function ia(o,c,d,v){if(v===null)o.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(c,d,""+v)}}function Lr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function SA(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function E7(o,c,d){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var x=v.get,S=v.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return x.call(this)},set:function(j){d=""+j,S.call(this,j)}}),Object.defineProperty(o,c,{enumerable:v.enumerable}),{getValue:function(){return d},setValue:function(j){d=""+j},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function k_(o){if(!o._valueTracker){var c=SA(o)?"checked":"value";o._valueTracker=E7(o,c,""+o[c])}}function wA(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var d=c.getValue(),v="";return o&&(v=SA(o)?o.checked?"true":"false":o.value),o=v,o!==d?(c.setValue(o),!0):!1}function Im(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var A7=/[\n"\\]/g;function Br(o){return o.replace(A7,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function C_(o,c,d,v,x,S,j,F){o.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?o.type=j:o.removeAttribute("type"),c!=null?j==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Lr(c)):o.value!==""+Lr(c)&&(o.value=""+Lr(c)):j!=="submit"&&j!=="reset"||o.removeAttribute("value"),c!=null?N_(o,j,Lr(c)):d!=null?N_(o,j,Lr(d)):v!=null&&o.removeAttribute("value"),x==null&&S!=null&&(o.defaultChecked=!!S),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?o.name=""+Lr(F):o.removeAttribute("name")}function kA(o,c,d,v,x,S,j,F){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),c!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){k_(o);return}d=d!=null?""+Lr(d):"",c=c!=null?""+Lr(c):d,F||c===o.value||(o.value=c),o.defaultValue=c}v=v??x,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=F?o.checked:!!v,o.defaultChecked=!!v,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(o.name=j),k_(o)}function N_(o,c,d){c==="number"&&Im(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Lc(o,c,d,v){if(o=o.options,c){c={};for(var x=0;x<d.length;x++)c["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=c.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&v&&(o[d].defaultSelected=!0)}else{for(d=""+Lr(d),c=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,v&&(o[x].defaultSelected=!0);return}c!==null||o[x].disabled||(c=o[x])}c!==null&&(c.selected=!0)}}function CA(o,c,d){if(c!=null&&(c=""+Lr(c),c!==o.value&&(o.value=c),d==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=d!=null?""+Lr(d):""}function NA(o,c,d,v){if(c==null){if(v!=null){if(d!=null)throw Error(s(92));if(G(v)){if(1<v.length)throw Error(s(93));v=v[0]}d=v}d==null&&(d=""),c=d}d=Lr(c),o.defaultValue=d,v=o.textContent,v===d&&v!==""&&v!==null&&(o.value=v),k_(o)}function Bc(o,c){if(c){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=c;return}}o.textContent=c}var R7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function EA(o,c,d){var v=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,d):typeof d!="number"||d===0||R7.has(c)?c==="float"?o.cssFloat=d:o[c]=(""+d).trim():o[c]=d+"px"}function AA(o,c,d){if(c!=null&&typeof c!="object")throw Error(s(62));if(o=o.style,d!=null){for(var v in d)!d.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var x in c)v=c[x],c.hasOwnProperty(x)&&d[x]!==v&&EA(o,x,v)}else for(var S in c)c.hasOwnProperty(S)&&EA(o,S,c[S])}function E_(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),j7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dm(o){return j7.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function aa(){}var A_=null;function R_(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var $c=null,zc=null;function RA(o){var c=Ic(o);if(c&&(o=c.stateNode)){var d=o[Ws]||null;e:switch(o=c.stateNode,c.type){case"input":if(C_(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Br(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var v=d[c];if(v!==o&&v.form===o.form){var x=v[Ws]||null;if(!x)throw Error(s(90));C_(v,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<d.length;c++)v=d[c],v.form===o.form&&wA(v)}break e;case"textarea":CA(o,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&Lc(o,!!d.multiple,c,!1)}}}var T_=!1;function TA(o,c,d){if(T_)return o(c,d);T_=!0;try{var v=o(c);return v}finally{if(T_=!1,($c!==null||zc!==null)&&(Sg(),$c&&(c=$c,o=zc,zc=$c=null,RA(c),o)))for(c=0;c<o.length;c++)RA(o[c])}}function Zh(o,c){var d=o.stateNode;if(d===null)return null;var v=d[Ws]||null;if(v===null)return null;d=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(s(231,c,typeof d));return d}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j_=!1;if(oa)try{var Jh={};Object.defineProperty(Jh,"passive",{get:function(){j_=!0}}),window.addEventListener("test",Jh,Jh),window.removeEventListener("test",Jh,Jh)}catch{j_=!1}var Xa=null,O_=null,Pm=null;function jA(){if(Pm)return Pm;var o,c=O_,d=c.length,v,x="value"in Xa?Xa.value:Xa.textContent,S=x.length;for(o=0;o<d&&c[o]===x[o];o++);var j=d-o;for(v=1;v<=j&&c[d-v]===x[S-v];v++);return Pm=x.slice(o,1<v?1-v:void 0)}function Lm(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Bm(){return!0}function OA(){return!1}function Gs(o){function c(d,v,x,S,j){this._reactName=d,this._targetInst=x,this.type=v,this.nativeEvent=S,this.target=j,this.currentTarget=null;for(var F in o)o.hasOwnProperty(F)&&(d=o[F],this[F]=d?d(S):S[F]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Bm:OA,this.isPropagationStopped=OA,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Bm)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Bm)},persist:function(){},isPersistent:Bm}),c}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$m=Gs(ll),Xh=f({},ll,{view:0,detail:0}),O7=Gs(Xh),M_,I_,Qh,zm=f({},Xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P_,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Qh&&(Qh&&o.type==="mousemove"?(M_=o.screenX-Qh.screenX,I_=o.screenY-Qh.screenY):I_=M_=0,Qh=o),M_)},movementY:function(o){return"movementY"in o?o.movementY:I_}}),MA=Gs(zm),M7=f({},zm,{dataTransfer:0}),I7=Gs(M7),D7=f({},Xh,{relatedTarget:0}),D_=Gs(D7),P7=f({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),L7=Gs(P7),B7=f({},ll,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),$7=Gs(B7),z7=f({},ll,{data:0}),IA=Gs(z7),F7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V7(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=H7[o])?!!c[o]:!1}function P_(){return V7}var q7=f({},Xh,{key:function(o){if(o.key){var c=F7[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Lm(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?U7[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P_,charCode:function(o){return o.type==="keypress"?Lm(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Lm(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),K7=Gs(q7),W7=f({},zm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DA=Gs(W7),G7=f({},Xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P_}),Y7=Gs(G7),Z7=f({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),J7=Gs(Z7),X7=f({},zm,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Q7=Gs(X7),e9=f({},ll,{newState:0,oldState:0}),t9=Gs(e9),n9=[9,13,27,32],L_=oa&&"CompositionEvent"in window,ed=null;oa&&"documentMode"in document&&(ed=document.documentMode);var s9=oa&&"TextEvent"in window&&!ed,PA=oa&&(!L_||ed&&8<ed&&11>=ed),LA=" ",BA=!1;function $A(o,c){switch(o){case"keyup":return n9.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zA(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fc=!1;function r9(o,c){switch(o){case"compositionend":return zA(c);case"keypress":return c.which!==32?null:(BA=!0,LA);case"textInput":return o=c.data,o===LA&&BA?null:o;default:return null}}function i9(o,c){if(Fc)return o==="compositionend"||!L_&&$A(o,c)?(o=jA(),Pm=O_=Xa=null,Fc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return PA&&c.locale!=="ko"?null:c.data;default:return null}}var a9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FA(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!a9[o.type]:c==="textarea"}function UA(o,c,d,v){$c?zc?zc.push(v):zc=[v]:$c=v,c=Rg(c,"onChange"),0<c.length&&(d=new $m("onChange","change",null,d,v),o.push({event:d,listeners:c}))}var td=null,nd=null;function o9(o){k5(o,0)}function Fm(o){var c=Yh(o);if(wA(c))return o}function HA(o,c){if(o==="change")return c}var VA=!1;if(oa){var B_;if(oa){var $_="oninput"in document;if(!$_){var qA=document.createElement("div");qA.setAttribute("oninput","return;"),$_=typeof qA.oninput=="function"}B_=$_}else B_=!1;VA=B_&&(!document.documentMode||9<document.documentMode)}function KA(){td&&(td.detachEvent("onpropertychange",WA),nd=td=null)}function WA(o){if(o.propertyName==="value"&&Fm(nd)){var c=[];UA(c,nd,o,R_(o)),TA(o9,c)}}function l9(o,c,d){o==="focusin"?(KA(),td=c,nd=d,td.attachEvent("onpropertychange",WA)):o==="focusout"&&KA()}function c9(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Fm(nd)}function u9(o,c){if(o==="click")return Fm(c)}function h9(o,c){if(o==="input"||o==="change")return Fm(c)}function d9(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var hr=typeof Object.is=="function"?Object.is:d9;function sd(o,c){if(hr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var d=Object.keys(o),v=Object.keys(c);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var x=d[v];if(!At.call(c,x)||!hr(o[x],c[x]))return!1}return!0}function GA(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function YA(o,c){var d=GA(o);o=0;for(var v;d;){if(d.nodeType===3){if(v=o+d.textContent.length,o<=c&&v>=c)return{node:d,offset:c-o};o=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=GA(d)}}function ZA(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?ZA(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function JA(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Im(o.document);c instanceof o.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)o=c.contentWindow;else break;c=Im(o.document)}return c}function z_(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var f9=oa&&"documentMode"in document&&11>=document.documentMode,Uc=null,F_=null,rd=null,U_=!1;function XA(o,c,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;U_||Uc==null||Uc!==Im(v)||(v=Uc,"selectionStart"in v&&z_(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),rd&&sd(rd,v)||(rd=v,v=Rg(F_,"onSelect"),0<v.length&&(c=new $m("onSelect","select",null,c,d),o.push({event:c,listeners:v}),c.target=Uc)))}function cl(o,c){var d={};return d[o.toLowerCase()]=c.toLowerCase(),d["Webkit"+o]="webkit"+c,d["Moz"+o]="moz"+c,d}var Hc={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionrun:cl("Transition","TransitionRun"),transitionstart:cl("Transition","TransitionStart"),transitioncancel:cl("Transition","TransitionCancel"),transitionend:cl("Transition","TransitionEnd")},H_={},QA={};oa&&(QA=document.createElement("div").style,"AnimationEvent"in window||(delete Hc.animationend.animation,delete Hc.animationiteration.animation,delete Hc.animationstart.animation),"TransitionEvent"in window||delete Hc.transitionend.transition);function ul(o){if(H_[o])return H_[o];if(!Hc[o])return o;var c=Hc[o],d;for(d in c)if(c.hasOwnProperty(d)&&d in QA)return H_[o]=c[d];return o}var e4=ul("animationend"),t4=ul("animationiteration"),n4=ul("animationstart"),p9=ul("transitionrun"),m9=ul("transitionstart"),g9=ul("transitioncancel"),s4=ul("transitionend"),r4=new Map,V_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");V_.push("scrollEnd");function hi(o,c){r4.set(o,c),ol(c,[o])}var Um=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},$r=[],Vc=0,q_=0;function Hm(){for(var o=Vc,c=q_=Vc=0;c<o;){var d=$r[c];$r[c++]=null;var v=$r[c];$r[c++]=null;var x=$r[c];$r[c++]=null;var S=$r[c];if($r[c++]=null,v!==null&&x!==null){var j=v.pending;j===null?x.next=x:(x.next=j.next,j.next=x),v.pending=x}S!==0&&i4(d,x,S)}}function Vm(o,c,d,v){$r[Vc++]=o,$r[Vc++]=c,$r[Vc++]=d,$r[Vc++]=v,q_|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function K_(o,c,d,v){return Vm(o,c,d,v),qm(o)}function hl(o,c){return Vm(o,null,null,c),qm(o)}function i4(o,c,d){o.lanes|=d;var v=o.alternate;v!==null&&(v.lanes|=d);for(var x=!1,S=o.return;S!==null;)S.childLanes|=d,v=S.alternate,v!==null&&(v.childLanes|=d),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(x=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,x&&c!==null&&(x=31-me(d),o=S.hiddenUpdates,v=o[x],v===null?o[x]=[c]:v.push(c),c.lane=d|536870912),S):null}function qm(o){if(50<Nd)throw Nd=0,tx=null,Error(s(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var qc={};function y9(o,c,d,v){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(o,c,d,v){return new y9(o,c,d,v)}function W_(o){return o=o.prototype,!(!o||!o.isReactComponent)}function la(o,c){var d=o.alternate;return d===null?(d=dr(o.tag,c,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=c,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,c=o.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function a4(o,c){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,c=d.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Km(o,c,d,v,x,S){var j=0;if(v=o,typeof o=="function")W_(o)&&(j=1);else if(typeof o=="string")j=SF(o,d,Q.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case q:return o=dr(31,d,c,x),o.elementType=q,o.lanes=S,o;case _:return dl(d.children,x,S,c);case w:j=8,x|=24;break;case k:return o=dr(12,d,c,x|2),o.elementType=k,o.lanes=S,o;case R:return o=dr(13,d,c,x),o.elementType=R,o.lanes=S,o;case N:return o=dr(19,d,c,x),o.elementType=N,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:j=10;break e;case C:j=9;break e;case A:j=11;break e;case M:j=14;break e;case I:j=16,v=null;break e}j=29,d=Error(s(130,o===null?"null":typeof o,"")),v=null}return c=dr(j,d,c,x),c.elementType=o,c.type=v,c.lanes=S,c}function dl(o,c,d,v){return o=dr(7,o,v,c),o.lanes=d,o}function G_(o,c,d){return o=dr(6,o,null,c),o.lanes=d,o}function o4(o){var c=dr(18,null,null,0);return c.stateNode=o,c}function Y_(o,c,d){return c=dr(4,o.children!==null?o.children:[],o.key,c),c.lanes=d,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var l4=new WeakMap;function zr(o,c){if(typeof o=="object"&&o!==null){var d=l4.get(o);return d!==void 0?d:(c={value:o,source:c,stack:Bt(c)},l4.set(o,c),c)}return{value:o,source:c,stack:Bt(c)}}var Kc=[],Wc=0,Wm=null,id=0,Fr=[],Ur=0,Qa=null,Ai=1,Ri="";function ca(o,c){Kc[Wc++]=id,Kc[Wc++]=Wm,Wm=o,id=c}function c4(o,c,d){Fr[Ur++]=Ai,Fr[Ur++]=Ri,Fr[Ur++]=Qa,Qa=o;var v=Ai;o=Ri;var x=32-me(v)-1;v&=~(1<<x),d+=1;var S=32-me(c)+x;if(30<S){var j=x-x%5;S=(v&(1<<j)-1).toString(32),v>>=j,x-=j,Ai=1<<32-me(c)+x|d<<x|v,Ri=S+o}else Ai=1<<S|d<<x|v,Ri=o}function Z_(o){o.return!==null&&(ca(o,1),c4(o,1,0))}function J_(o){for(;o===Wm;)Wm=Kc[--Wc],Kc[Wc]=null,id=Kc[--Wc],Kc[Wc]=null;for(;o===Qa;)Qa=Fr[--Ur],Fr[Ur]=null,Ri=Fr[--Ur],Fr[Ur]=null,Ai=Fr[--Ur],Fr[Ur]=null}function u4(o,c){Fr[Ur++]=Ai,Fr[Ur++]=Ri,Fr[Ur++]=Qa,Ai=c.id,Ri=c.overflow,Qa=o}var os=null,an=null,$t=!1,eo=null,Hr=!1,X_=Error(s(519));function to(o){var c=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ad(zr(c,o)),X_}function h4(o){var c=o.stateNode,d=o.type,v=o.memoizedProps;switch(c[as]=o,c[Ws]=v,d){case"dialog":Mt("cancel",c),Mt("close",c);break;case"iframe":case"object":case"embed":Mt("load",c);break;case"video":case"audio":for(d=0;d<Ad.length;d++)Mt(Ad[d],c);break;case"source":Mt("error",c);break;case"img":case"image":case"link":Mt("error",c),Mt("load",c);break;case"details":Mt("toggle",c);break;case"input":Mt("invalid",c),kA(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Mt("invalid",c);break;case"textarea":Mt("invalid",c),NA(c,v.value,v.defaultValue,v.children)}d=v.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||v.suppressHydrationWarning===!0||A5(c.textContent,d)?(v.popover!=null&&(Mt("beforetoggle",c),Mt("toggle",c)),v.onScroll!=null&&Mt("scroll",c),v.onScrollEnd!=null&&Mt("scrollend",c),v.onClick!=null&&(c.onclick=aa),c=!0):c=!1,c||to(o,!0)}function d4(o){for(os=o.return;os;)switch(os.tag){case 5:case 31:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:os=os.return}}function Gc(o){if(o!==os)return!1;if(!$t)return d4(o),$t=!0,!1;var c=o.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||gx(o.type,o.memoizedProps)),d=!d),d&&an&&to(o),d4(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));an=L5(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));an=L5(o)}else c===27?(c=an,go(o.type)?(o=xx,xx=null,an=o):an=c):an=os?qr(o.stateNode.nextSibling):null;return!0}function fl(){an=os=null,$t=!1}function Q_(){var o=eo;return o!==null&&(Xs===null?Xs=o:Xs.push.apply(Xs,o),eo=null),o}function ad(o){eo===null?eo=[o]:eo.push(o)}var e1=P(null),pl=null,ua=null;function no(o,c,d){T(e1,c._currentValue),c._currentValue=d}function ha(o){o._currentValue=e1.current,V(e1)}function t1(o,c,d){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===d)break;o=o.return}}function n1(o,c,d,v){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var S=x.dependencies;if(S!==null){var j=x.child;S=S.firstContext;e:for(;S!==null;){var F=S;S=x;for(var ee=0;ee<c.length;ee++)if(F.context===c[ee]){S.lanes|=d,F=S.alternate,F!==null&&(F.lanes|=d),t1(S.return,d,o),v||(j=null);break e}S=F.next}}else if(x.tag===18){if(j=x.return,j===null)throw Error(s(341));j.lanes|=d,S=j.alternate,S!==null&&(S.lanes|=d),t1(j,d,o),j=null}else j=x.child;if(j!==null)j.return=x;else for(j=x;j!==null;){if(j===o){j=null;break}if(x=j.sibling,x!==null){x.return=j.return,j=x;break}j=j.return}x=j}}function Yc(o,c,d,v){o=null;for(var x=c,S=!1;x!==null;){if(!S){if((x.flags&524288)!==0)S=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var j=x.alternate;if(j===null)throw Error(s(387));if(j=j.memoizedProps,j!==null){var F=x.type;hr(x.pendingProps.value,j.value)||(o!==null?o.push(F):o=[F])}}else if(x===ue.current){if(j=x.alternate,j===null)throw Error(s(387));j.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Md):o=[Md])}x=x.return}o!==null&&n1(c,o,d,v),c.flags|=262144}function Gm(o){for(o=o.firstContext;o!==null;){if(!hr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ml(o){pl=o,ua=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ls(o){return f4(pl,o)}function Ym(o,c){return pl===null&&ml(o),f4(o,c)}function f4(o,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},ua===null){if(o===null)throw Error(s(308));ua=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ua=ua.next=c;return d}var v9=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(d,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(d){return d()})}},b9=t.unstable_scheduleCallback,_9=t.unstable_NormalPriority,jn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function s1(){return{controller:new v9,data:new Map,refCount:0}}function od(o){o.refCount--,o.refCount===0&&b9(_9,function(){o.controller.abort()})}var ld=null,r1=0,Zc=0,Jc=null;function x9(o,c){if(ld===null){var d=ld=[];r1=0,Zc=ox(),Jc={status:"pending",value:void 0,then:function(v){d.push(v)}}}return r1++,c.then(p4,p4),c}function p4(){if(--r1===0&&ld!==null){Jc!==null&&(Jc.status="fulfilled");var o=ld;ld=null,Zc=0,Jc=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function S9(o,c){var d=[],v={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var x=0;x<d.length;x++)(0,d[x])(c)},function(x){for(v.status="rejected",v.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),v}var m4=L.S;L.S=function(o,c){XR=Ke(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&x9(o,c),m4!==null&&m4(o,c)};var gl=P(null);function i1(){var o=gl.current;return o!==null?o:tn.pooledCache}function Zm(o,c){c===null?T(gl,gl.current):T(gl,c.pool)}function g4(){var o=i1();return o===null?null:{parent:jn._currentValue,pool:o}}var Xc=Error(s(460)),a1=Error(s(474)),Jm=Error(s(542)),Xm={then:function(){}};function y4(o){return o=o.status,o==="fulfilled"||o==="rejected"}function v4(o,c,d){switch(d=o[d],d===void 0?o.push(c):d!==c&&(c.then(aa,aa),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,_4(o),o;default:if(typeof c.status=="string")c.then(aa,aa);else{if(o=tn,o!==null&&100<o.shellSuspendCounter)throw Error(s(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=v}},function(v){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,_4(o),o}throw vl=c,Xc}}function yl(o){try{var c=o._init;return c(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(vl=d,Xc):d}}var vl=null;function b4(){if(vl===null)throw Error(s(459));var o=vl;return vl=null,o}function _4(o){if(o===Xc||o===Jm)throw Error(s(483))}var Qc=null,cd=0;function Qm(o){var c=cd;return cd+=1,Qc===null&&(Qc=[]),v4(Qc,o,c)}function ud(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function eg(o,c){throw c.$$typeof===g?Error(s(525)):(o=Object.prototype.toString.call(c),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function x4(o){function c(ie,ne){if(o){var le=ie.deletions;le===null?(ie.deletions=[ne],ie.flags|=16):le.push(ne)}}function d(ie,ne){if(!o)return null;for(;ne!==null;)c(ie,ne),ne=ne.sibling;return null}function v(ie){for(var ne=new Map;ie!==null;)ie.key!==null?ne.set(ie.key,ie):ne.set(ie.index,ie),ie=ie.sibling;return ne}function x(ie,ne){return ie=la(ie,ne),ie.index=0,ie.sibling=null,ie}function S(ie,ne,le){return ie.index=le,o?(le=ie.alternate,le!==null?(le=le.index,le<ne?(ie.flags|=67108866,ne):le):(ie.flags|=67108866,ne)):(ie.flags|=1048576,ne)}function j(ie){return o&&ie.alternate===null&&(ie.flags|=67108866),ie}function F(ie,ne,le,ye){return ne===null||ne.tag!==6?(ne=G_(le,ie.mode,ye),ne.return=ie,ne):(ne=x(ne,le),ne.return=ie,ne)}function ee(ie,ne,le,ye){var rt=le.type;return rt===_?ge(ie,ne,le.props.children,ye,le.key):ne!==null&&(ne.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===I&&yl(rt)===ne.type)?(ne=x(ne,le.props),ud(ne,le),ne.return=ie,ne):(ne=Km(le.type,le.key,le.props,null,ie.mode,ye),ud(ne,le),ne.return=ie,ne)}function ce(ie,ne,le,ye){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==le.containerInfo||ne.stateNode.implementation!==le.implementation?(ne=Y_(le,ie.mode,ye),ne.return=ie,ne):(ne=x(ne,le.children||[]),ne.return=ie,ne)}function ge(ie,ne,le,ye,rt){return ne===null||ne.tag!==7?(ne=dl(le,ie.mode,ye,rt),ne.return=ie,ne):(ne=x(ne,le),ne.return=ie,ne)}function be(ie,ne,le){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=G_(""+ne,ie.mode,le),ne.return=ie,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:return le=Km(ne.type,ne.key,ne.props,null,ie.mode,le),ud(le,ne),le.return=ie,le;case b:return ne=Y_(ne,ie.mode,le),ne.return=ie,ne;case I:return ne=yl(ne),be(ie,ne,le)}if(G(ne)||$(ne))return ne=dl(ne,ie.mode,le,null),ne.return=ie,ne;if(typeof ne.then=="function")return be(ie,Qm(ne),le);if(ne.$$typeof===E)return be(ie,Ym(ie,ne),le);eg(ie,ne)}return null}function de(ie,ne,le,ye){var rt=ne!==null?ne.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return rt!==null?null:F(ie,ne,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return le.key===rt?ee(ie,ne,le,ye):null;case b:return le.key===rt?ce(ie,ne,le,ye):null;case I:return le=yl(le),de(ie,ne,le,ye)}if(G(le)||$(le))return rt!==null?null:ge(ie,ne,le,ye,null);if(typeof le.then=="function")return de(ie,ne,Qm(le),ye);if(le.$$typeof===E)return de(ie,ne,Ym(ie,le),ye);eg(ie,le)}return null}function pe(ie,ne,le,ye,rt){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ie=ie.get(le)||null,F(ne,ie,""+ye,rt);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case y:return ie=ie.get(ye.key===null?le:ye.key)||null,ee(ne,ie,ye,rt);case b:return ie=ie.get(ye.key===null?le:ye.key)||null,ce(ne,ie,ye,rt);case I:return ye=yl(ye),pe(ie,ne,le,ye,rt)}if(G(ye)||$(ye))return ie=ie.get(le)||null,ge(ne,ie,ye,rt,null);if(typeof ye.then=="function")return pe(ie,ne,le,Qm(ye),rt);if(ye.$$typeof===E)return pe(ie,ne,le,Ym(ne,ye),rt);eg(ne,ye)}return null}function Xe(ie,ne,le,ye){for(var rt=null,Ut=null,nt=ne,Ct=ne=0,Pt=null;nt!==null&&Ct<le.length;Ct++){nt.index>Ct?(Pt=nt,nt=null):Pt=nt.sibling;var Ht=de(ie,nt,le[Ct],ye);if(Ht===null){nt===null&&(nt=Pt);break}o&&nt&&Ht.alternate===null&&c(ie,nt),ne=S(Ht,ne,Ct),Ut===null?rt=Ht:Ut.sibling=Ht,Ut=Ht,nt=Pt}if(Ct===le.length)return d(ie,nt),$t&&ca(ie,Ct),rt;if(nt===null){for(;Ct<le.length;Ct++)nt=be(ie,le[Ct],ye),nt!==null&&(ne=S(nt,ne,Ct),Ut===null?rt=nt:Ut.sibling=nt,Ut=nt);return $t&&ca(ie,Ct),rt}for(nt=v(nt);Ct<le.length;Ct++)Pt=pe(nt,ie,Ct,le[Ct],ye),Pt!==null&&(o&&Pt.alternate!==null&&nt.delete(Pt.key===null?Ct:Pt.key),ne=S(Pt,ne,Ct),Ut===null?rt=Pt:Ut.sibling=Pt,Ut=Pt);return o&&nt.forEach(function(xo){return c(ie,xo)}),$t&&ca(ie,Ct),rt}function ut(ie,ne,le,ye){if(le==null)throw Error(s(151));for(var rt=null,Ut=null,nt=ne,Ct=ne=0,Pt=null,Ht=le.next();nt!==null&&!Ht.done;Ct++,Ht=le.next()){nt.index>Ct?(Pt=nt,nt=null):Pt=nt.sibling;var xo=de(ie,nt,Ht.value,ye);if(xo===null){nt===null&&(nt=Pt);break}o&&nt&&xo.alternate===null&&c(ie,nt),ne=S(xo,ne,Ct),Ut===null?rt=xo:Ut.sibling=xo,Ut=xo,nt=Pt}if(Ht.done)return d(ie,nt),$t&&ca(ie,Ct),rt;if(nt===null){for(;!Ht.done;Ct++,Ht=le.next())Ht=be(ie,Ht.value,ye),Ht!==null&&(ne=S(Ht,ne,Ct),Ut===null?rt=Ht:Ut.sibling=Ht,Ut=Ht);return $t&&ca(ie,Ct),rt}for(nt=v(nt);!Ht.done;Ct++,Ht=le.next())Ht=pe(nt,ie,Ct,Ht.value,ye),Ht!==null&&(o&&Ht.alternate!==null&&nt.delete(Ht.key===null?Ct:Ht.key),ne=S(Ht,ne,Ct),Ut===null?rt=Ht:Ut.sibling=Ht,Ut=Ht);return o&&nt.forEach(function(MF){return c(ie,MF)}),$t&&ca(ie,Ct),rt}function Qt(ie,ne,le,ye){if(typeof le=="object"&&le!==null&&le.type===_&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case y:e:{for(var rt=le.key;ne!==null;){if(ne.key===rt){if(rt=le.type,rt===_){if(ne.tag===7){d(ie,ne.sibling),ye=x(ne,le.props.children),ye.return=ie,ie=ye;break e}}else if(ne.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===I&&yl(rt)===ne.type){d(ie,ne.sibling),ye=x(ne,le.props),ud(ye,le),ye.return=ie,ie=ye;break e}d(ie,ne);break}else c(ie,ne);ne=ne.sibling}le.type===_?(ye=dl(le.props.children,ie.mode,ye,le.key),ye.return=ie,ie=ye):(ye=Km(le.type,le.key,le.props,null,ie.mode,ye),ud(ye,le),ye.return=ie,ie=ye)}return j(ie);case b:e:{for(rt=le.key;ne!==null;){if(ne.key===rt)if(ne.tag===4&&ne.stateNode.containerInfo===le.containerInfo&&ne.stateNode.implementation===le.implementation){d(ie,ne.sibling),ye=x(ne,le.children||[]),ye.return=ie,ie=ye;break e}else{d(ie,ne);break}else c(ie,ne);ne=ne.sibling}ye=Y_(le,ie.mode,ye),ye.return=ie,ie=ye}return j(ie);case I:return le=yl(le),Qt(ie,ne,le,ye)}if(G(le))return Xe(ie,ne,le,ye);if($(le)){if(rt=$(le),typeof rt!="function")throw Error(s(150));return le=rt.call(le),ut(ie,ne,le,ye)}if(typeof le.then=="function")return Qt(ie,ne,Qm(le),ye);if(le.$$typeof===E)return Qt(ie,ne,Ym(ie,le),ye);eg(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ne!==null&&ne.tag===6?(d(ie,ne.sibling),ye=x(ne,le),ye.return=ie,ie=ye):(d(ie,ne),ye=G_(le,ie.mode,ye),ye.return=ie,ie=ye),j(ie)):d(ie,ne)}return function(ie,ne,le,ye){try{cd=0;var rt=Qt(ie,ne,le,ye);return Qc=null,rt}catch(nt){if(nt===Xc||nt===Jm)throw nt;var Ut=dr(29,nt,null,ie.mode);return Ut.lanes=ye,Ut.return=ie,Ut}}}var bl=x4(!0),S4=x4(!1),so=!1;function o1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function l1(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ro(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function io(o,c,d){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Kt&2)!==0){var x=v.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),v.pending=c,c=qm(o),i4(o,null,d),c}return Vm(o,v,c,d),qm(o)}function hd(o,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,d|=v,c.lanes=d,fA(o,d)}}function c1(o,c){var d=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var x=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var j={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?x=S=j:S=S.next=j,d=d.next}while(d!==null);S===null?x=S=c:S=S.next=c}else x=S=c;d={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:v.shared,callbacks:v.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=c}var u1=!1;function dd(){if(u1){var o=Jc;if(o!==null)throw o}}function fd(o,c,d,v){u1=!1;var x=o.updateQueue;so=!1;var S=x.firstBaseUpdate,j=x.lastBaseUpdate,F=x.shared.pending;if(F!==null){x.shared.pending=null;var ee=F,ce=ee.next;ee.next=null,j===null?S=ce:j.next=ce,j=ee;var ge=o.alternate;ge!==null&&(ge=ge.updateQueue,F=ge.lastBaseUpdate,F!==j&&(F===null?ge.firstBaseUpdate=ce:F.next=ce,ge.lastBaseUpdate=ee))}if(S!==null){var be=x.baseState;j=0,ge=ce=ee=null,F=S;do{var de=F.lane&-536870913,pe=de!==F.lane;if(pe?(Dt&de)===de:(v&de)===de){de!==0&&de===Zc&&(u1=!0),ge!==null&&(ge=ge.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Xe=o,ut=F;de=c;var Qt=d;switch(ut.tag){case 1:if(Xe=ut.payload,typeof Xe=="function"){be=Xe.call(Qt,be,de);break e}be=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=ut.payload,de=typeof Xe=="function"?Xe.call(Qt,be,de):Xe,de==null)break e;be=f({},be,de);break e;case 2:so=!0}}de=F.callback,de!==null&&(o.flags|=64,pe&&(o.flags|=8192),pe=x.callbacks,pe===null?x.callbacks=[de]:pe.push(de))}else pe={lane:de,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ge===null?(ce=ge=pe,ee=be):ge=ge.next=pe,j|=de;if(F=F.next,F===null){if(F=x.shared.pending,F===null)break;pe=F,F=pe.next,pe.next=null,x.lastBaseUpdate=pe,x.shared.pending=null}}while(!0);ge===null&&(ee=be),x.baseState=ee,x.firstBaseUpdate=ce,x.lastBaseUpdate=ge,S===null&&(x.shared.lanes=0),uo|=j,o.lanes=j,o.memoizedState=be}}function w4(o,c){if(typeof o!="function")throw Error(s(191,o));o.call(c)}function k4(o,c){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)w4(d[o],c)}var eu=P(null),tg=P(0);function C4(o,c){o=_a,T(tg,o),T(eu,c),_a=o|c.baseLanes}function h1(){T(tg,_a),T(eu,eu.current)}function d1(){_a=tg.current,V(eu),V(tg)}var fr=P(null),Vr=null;function ao(o){var c=o.alternate;T(kn,kn.current&1),T(fr,o),Vr===null&&(c===null||eu.current!==null||c.memoizedState!==null)&&(Vr=o)}function f1(o){T(kn,kn.current),T(fr,o),Vr===null&&(Vr=o)}function N4(o){o.tag===22?(T(kn,kn.current),T(fr,o),Vr===null&&(Vr=o)):oo()}function oo(){T(kn,kn.current),T(fr,fr.current)}function pr(o){V(fr),Vr===o&&(Vr=null),V(kn)}var kn=P(0);function ng(o){for(var c=o;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||bx(d)||_x(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var da=0,St=null,Jt=null,On=null,sg=!1,tu=!1,_l=!1,rg=0,pd=0,nu=null,w9=0;function _n(){throw Error(s(321))}function p1(o,c){if(c===null)return!1;for(var d=0;d<c.length&&d<o.length;d++)if(!hr(o[d],c[d]))return!1;return!0}function m1(o,c,d,v,x,S){return da=S,St=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,L.H=o===null||o.memoizedState===null?cR:T1,_l=!1,S=d(v,x),_l=!1,tu&&(S=A4(c,d,v,x)),E4(o),S}function E4(o){L.H=yd;var c=Jt!==null&&Jt.next!==null;if(da=0,On=Jt=St=null,sg=!1,pd=0,nu=null,c)throw Error(s(300));o===null||Mn||(o=o.dependencies,o!==null&&Gm(o)&&(Mn=!0))}function A4(o,c,d,v){St=o;var x=0;do{if(tu&&(nu=null),pd=0,tu=!1,25<=x)throw Error(s(301));if(x+=1,On=Jt=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}L.H=uR,S=c(d,v)}while(tu);return S}function k9(){var o=L.H,c=o.useState()[0];return c=typeof c.then=="function"?md(c):c,o=o.useState()[0],(Jt!==null?Jt.memoizedState:null)!==o&&(St.flags|=1024),c}function g1(){var o=rg!==0;return rg=0,o}function y1(o,c,d){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~d}function v1(o){if(sg){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}sg=!1}da=0,On=Jt=St=null,tu=!1,pd=rg=0,nu=null}function Ms(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?St.memoizedState=On=o:On=On.next=o,On}function Cn(){if(Jt===null){var o=St.alternate;o=o!==null?o.memoizedState:null}else o=Jt.next;var c=On===null?St.memoizedState:On.next;if(c!==null)On=c,Jt=o;else{if(o===null)throw St.alternate===null?Error(s(467)):Error(s(310));Jt=o,o={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},On===null?St.memoizedState=On=o:On=On.next=o}return On}function ig(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function md(o){var c=pd;return pd+=1,nu===null&&(nu=[]),o=v4(nu,o,c),c=St,(On===null?c.memoizedState:On.next)===null&&(c=c.alternate,L.H=c===null||c.memoizedState===null?cR:T1),o}function ag(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return md(o);if(o.$$typeof===E)return ls(o)}throw Error(s(438,String(o)))}function b1(o){var c=null,d=St.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var v=St.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=ig(),St.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(o),v=0;v<o;v++)d[v]=B;return c.index++,d}function fa(o,c){return typeof c=="function"?c(o):c}function og(o){var c=Cn();return _1(c,Jt,o)}function _1(o,c,d){var v=o.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=d;var x=o.baseQueue,S=v.pending;if(S!==null){if(x!==null){var j=x.next;x.next=S.next,S.next=j}c.baseQueue=x=S,v.pending=null}if(S=o.baseState,x===null)o.memoizedState=S;else{c=x.next;var F=j=null,ee=null,ce=c,ge=!1;do{var be=ce.lane&-536870913;if(be!==ce.lane?(Dt&be)===be:(da&be)===be){var de=ce.revertLane;if(de===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),be===Zc&&(ge=!0);else if((da&de)===de){ce=ce.next,de===Zc&&(ge=!0);continue}else be={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},ee===null?(F=ee=be,j=S):ee=ee.next=be,St.lanes|=de,uo|=de;be=ce.action,_l&&d(S,be),S=ce.hasEagerState?ce.eagerState:d(S,be)}else de={lane:be,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},ee===null?(F=ee=de,j=S):ee=ee.next=de,St.lanes|=be,uo|=be;ce=ce.next}while(ce!==null&&ce!==c);if(ee===null?j=S:ee.next=F,!hr(S,o.memoizedState)&&(Mn=!0,ge&&(d=Jc,d!==null)))throw d;o.memoizedState=S,o.baseState=j,o.baseQueue=ee,v.lastRenderedState=S}return x===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function x1(o){var c=Cn(),d=c.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=o;var v=d.dispatch,x=d.pending,S=c.memoizedState;if(x!==null){d.pending=null;var j=x=x.next;do S=o(S,j.action),j=j.next;while(j!==x);hr(S,c.memoizedState)||(Mn=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),d.lastRenderedState=S}return[S,v]}function R4(o,c,d){var v=St,x=Cn(),S=$t;if(S){if(d===void 0)throw Error(s(407));d=d()}else d=c();var j=!hr((Jt||x).memoizedState,d);if(j&&(x.memoizedState=d,Mn=!0),x=x.queue,k1(O4.bind(null,v,x,o),[o]),x.getSnapshot!==c||j||On!==null&&On.memoizedState.tag&1){if(v.flags|=2048,su(9,{destroy:void 0},j4.bind(null,v,x,d,c),null),tn===null)throw Error(s(349));S||(da&127)!==0||T4(v,c,d)}return d}function T4(o,c,d){o.flags|=16384,o={getSnapshot:c,value:d},c=St.updateQueue,c===null?(c=ig(),St.updateQueue=c,c.stores=[o]):(d=c.stores,d===null?c.stores=[o]:d.push(o))}function j4(o,c,d,v){c.value=d,c.getSnapshot=v,M4(c)&&I4(o)}function O4(o,c,d){return d(function(){M4(c)&&I4(o)})}function M4(o){var c=o.getSnapshot;o=o.value;try{var d=c();return!hr(o,d)}catch{return!0}}function I4(o){var c=hl(o,2);c!==null&&Qs(c,o,2)}function S1(o){var c=Ms();if(typeof o=="function"){var d=o;if(o=d(),_l){Ne(!0);try{d()}finally{Ne(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:o},c}function D4(o,c,d,v){return o.baseState=d,_1(o,Jt,typeof v=="function"?v:fa)}function C9(o,c,d,v,x){if(ug(o))throw Error(s(485));if(o=c.action,o!==null){var S={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){S.listeners.push(j)}};L.T!==null?d(!0):S.isTransition=!1,v(S),d=c.pending,d===null?(S.next=c.pending=S,P4(c,S)):(S.next=d.next,c.pending=d.next=S)}}function P4(o,c){var d=c.action,v=c.payload,x=o.state;if(c.isTransition){var S=L.T,j={};L.T=j;try{var F=d(x,v),ee=L.S;ee!==null&&ee(j,F),L4(o,c,F)}catch(ce){w1(o,c,ce)}finally{S!==null&&j.types!==null&&(S.types=j.types),L.T=S}}else try{S=d(x,v),L4(o,c,S)}catch(ce){w1(o,c,ce)}}function L4(o,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(v){B4(o,c,v)},function(v){return w1(o,c,v)}):B4(o,c,d)}function B4(o,c,d){c.status="fulfilled",c.value=d,$4(c),o.state=d,c=o.pending,c!==null&&(d=c.next,d===c?o.pending=null:(d=d.next,c.next=d,P4(o,d)))}function w1(o,c,d){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=d,$4(c),c=c.next;while(c!==v)}o.action=null}function $4(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function z4(o,c){return c}function F4(o,c){if($t){var d=tn.formState;if(d!==null){e:{var v=St;if($t){if(an){t:{for(var x=an,S=Hr;x.nodeType!==8;){if(!S){x=null;break t}if(x=qr(x.nextSibling),x===null){x=null;break t}}S=x.data,x=S==="F!"||S==="F"?x:null}if(x){an=qr(x.nextSibling),v=x.data==="F!";break e}}to(v)}v=!1}v&&(c=d[0])}}return d=Ms(),d.memoizedState=d.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z4,lastRenderedState:c},d.queue=v,d=aR.bind(null,St,v),v.dispatch=d,v=S1(!1),S=R1.bind(null,St,!1,v.queue),v=Ms(),x={state:c,dispatch:null,action:o,pending:null},v.queue=x,d=C9.bind(null,St,x,S,d),x.dispatch=d,v.memoizedState=o,[c,d,!1]}function U4(o){var c=Cn();return H4(c,Jt,o)}function H4(o,c,d){if(c=_1(o,c,z4)[0],o=og(fa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=md(c)}catch(j){throw j===Xc?Jm:j}else v=c;c=Cn();var x=c.queue,S=x.dispatch;return d!==c.memoizedState&&(St.flags|=2048,su(9,{destroy:void 0},N9.bind(null,x,d),null)),[v,S,o]}function N9(o,c){o.action=c}function V4(o){var c=Cn(),d=Jt;if(d!==null)return H4(c,d,o);Cn(),c=c.memoizedState,d=Cn();var v=d.queue.dispatch;return d.memoizedState=o,[c,v,!1]}function su(o,c,d,v){return o={tag:o,create:d,deps:v,inst:c,next:null},c=St.updateQueue,c===null&&(c=ig(),St.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=o.next=o:(v=d.next,d.next=o,o.next=v,c.lastEffect=o),o}function q4(){return Cn().memoizedState}function lg(o,c,d,v){var x=Ms();St.flags|=o,x.memoizedState=su(1|c,{destroy:void 0},d,v===void 0?null:v)}function cg(o,c,d,v){var x=Cn();v=v===void 0?null:v;var S=x.memoizedState.inst;Jt!==null&&v!==null&&p1(v,Jt.memoizedState.deps)?x.memoizedState=su(c,S,d,v):(St.flags|=o,x.memoizedState=su(1|c,S,d,v))}function K4(o,c){lg(8390656,8,o,c)}function k1(o,c){cg(2048,8,o,c)}function E9(o){St.flags|=4;var c=St.updateQueue;if(c===null)c=ig(),St.updateQueue=c,c.events=[o];else{var d=c.events;d===null?c.events=[o]:d.push(o)}}function W4(o){var c=Cn().memoizedState;return E9({ref:c,nextImpl:o}),function(){if((Kt&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}function G4(o,c){return cg(4,2,o,c)}function Y4(o,c){return cg(4,4,o,c)}function Z4(o,c){if(typeof c=="function"){o=o();var d=c(o);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function J4(o,c,d){d=d!=null?d.concat([o]):null,cg(4,4,Z4.bind(null,c,o),d)}function C1(){}function X4(o,c){var d=Cn();c=c===void 0?null:c;var v=d.memoizedState;return c!==null&&p1(c,v[1])?v[0]:(d.memoizedState=[o,c],o)}function Q4(o,c){var d=Cn();c=c===void 0?null:c;var v=d.memoizedState;if(c!==null&&p1(c,v[1]))return v[0];if(v=o(),_l){Ne(!0);try{o()}finally{Ne(!1)}}return d.memoizedState=[v,c],v}function N1(o,c,d){return d===void 0||(da&1073741824)!==0&&(Dt&261930)===0?o.memoizedState=c:(o.memoizedState=d,o=e5(),St.lanes|=o,uo|=o,d)}function eR(o,c,d,v){return hr(d,c)?d:eu.current!==null?(o=N1(o,d,v),hr(o,c)||(Mn=!0),o):(da&42)===0||(da&1073741824)!==0&&(Dt&261930)===0?(Mn=!0,o.memoizedState=d):(o=e5(),St.lanes|=o,uo|=o,c)}function tR(o,c,d,v,x){var S=Y.p;Y.p=S!==0&&8>S?S:8;var j=L.T,F={};L.T=F,R1(o,!1,c,d);try{var ee=x(),ce=L.S;if(ce!==null&&ce(F,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ge=S9(ee,v);gd(o,c,ge,yr(o))}else gd(o,c,v,yr(o))}catch(be){gd(o,c,{then:function(){},status:"rejected",reason:be},yr())}finally{Y.p=S,j!==null&&F.types!==null&&(j.types=F.types),L.T=j}}function A9(){}function E1(o,c,d,v){if(o.tag!==5)throw Error(s(476));var x=nR(o).queue;tR(o,x,c,X,d===null?A9:function(){return sR(o),d(v)})}function nR(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:X},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:d},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function sR(o){var c=nR(o);c.next===null&&(c=o.alternate.memoizedState),gd(o,c.next.queue,{},yr())}function A1(){return ls(Md)}function rR(){return Cn().memoizedState}function iR(){return Cn().memoizedState}function R9(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var d=yr();o=ro(d);var v=io(c,o,d);v!==null&&(Qs(v,c,d),hd(v,c,d)),c={cache:s1()},o.payload=c;return}c=c.return}}function T9(o,c,d){var v=yr();d={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ug(o)?oR(c,d):(d=K_(o,c,d,v),d!==null&&(Qs(d,o,v),lR(d,c,v)))}function aR(o,c,d){var v=yr();gd(o,c,d,v)}function gd(o,c,d,v){var x={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(ug(o))oR(c,x);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var j=c.lastRenderedState,F=S(j,d);if(x.hasEagerState=!0,x.eagerState=F,hr(F,j))return Vm(o,c,x,0),tn===null&&Hm(),!1}catch{}if(d=K_(o,c,x,v),d!==null)return Qs(d,o,v),lR(d,c,v),!0}return!1}function R1(o,c,d,v){if(v={lane:2,revertLane:ox(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},ug(o)){if(c)throw Error(s(479))}else c=K_(o,d,v,2),c!==null&&Qs(c,o,2)}function ug(o){var c=o.alternate;return o===St||c!==null&&c===St}function oR(o,c){tu=sg=!0;var d=o.pending;d===null?c.next=c:(c.next=d.next,d.next=c),o.pending=c}function lR(o,c,d){if((d&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,d|=v,c.lanes=d,fA(o,d)}}var yd={readContext:ls,use:ag,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};yd.useEffectEvent=_n;var cR={readContext:ls,use:ag,useCallback:function(o,c){return Ms().memoizedState=[o,c===void 0?null:c],o},useContext:ls,useEffect:K4,useImperativeHandle:function(o,c,d){d=d!=null?d.concat([o]):null,lg(4194308,4,Z4.bind(null,c,o),d)},useLayoutEffect:function(o,c){return lg(4194308,4,o,c)},useInsertionEffect:function(o,c){lg(4,2,o,c)},useMemo:function(o,c){var d=Ms();c=c===void 0?null:c;var v=o();if(_l){Ne(!0);try{o()}finally{Ne(!1)}}return d.memoizedState=[v,c],v},useReducer:function(o,c,d){var v=Ms();if(d!==void 0){var x=d(c);if(_l){Ne(!0);try{d(c)}finally{Ne(!1)}}}else x=c;return v.memoizedState=v.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},v.queue=o,o=o.dispatch=T9.bind(null,St,o),[v.memoizedState,o]},useRef:function(o){var c=Ms();return o={current:o},c.memoizedState=o},useState:function(o){o=S1(o);var c=o.queue,d=aR.bind(null,St,c);return c.dispatch=d,[o.memoizedState,d]},useDebugValue:C1,useDeferredValue:function(o,c){var d=Ms();return N1(d,o,c)},useTransition:function(){var o=S1(!1);return o=tR.bind(null,St,o.queue,!0,!1),Ms().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,d){var v=St,x=Ms();if($t){if(d===void 0)throw Error(s(407));d=d()}else{if(d=c(),tn===null)throw Error(s(349));(Dt&127)!==0||T4(v,c,d)}x.memoizedState=d;var S={value:d,getSnapshot:c};return x.queue=S,K4(O4.bind(null,v,S,o),[o]),v.flags|=2048,su(9,{destroy:void 0},j4.bind(null,v,S,d,c),null),d},useId:function(){var o=Ms(),c=tn.identifierPrefix;if($t){var d=Ri,v=Ai;d=(v&~(1<<32-me(v)-1)).toString(32)+d,c="_"+c+"R_"+d,d=rg++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=w9++,c="_"+c+"r_"+d.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:A1,useFormState:F4,useActionState:F4,useOptimistic:function(o){var c=Ms();c.memoizedState=c.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=R1.bind(null,St,!0,d),d.dispatch=c,[o,c]},useMemoCache:b1,useCacheRefresh:function(){return Ms().memoizedState=R9.bind(null,St)},useEffectEvent:function(o){var c=Ms(),d={impl:o};return c.memoizedState=d,function(){if((Kt&2)!==0)throw Error(s(440));return d.impl.apply(void 0,arguments)}}},T1={readContext:ls,use:ag,useCallback:X4,useContext:ls,useEffect:k1,useImperativeHandle:J4,useInsertionEffect:G4,useLayoutEffect:Y4,useMemo:Q4,useReducer:og,useRef:q4,useState:function(){return og(fa)},useDebugValue:C1,useDeferredValue:function(o,c){var d=Cn();return eR(d,Jt.memoizedState,o,c)},useTransition:function(){var o=og(fa)[0],c=Cn().memoizedState;return[typeof o=="boolean"?o:md(o),c]},useSyncExternalStore:R4,useId:rR,useHostTransitionStatus:A1,useFormState:U4,useActionState:U4,useOptimistic:function(o,c){var d=Cn();return D4(d,Jt,o,c)},useMemoCache:b1,useCacheRefresh:iR};T1.useEffectEvent=W4;var uR={readContext:ls,use:ag,useCallback:X4,useContext:ls,useEffect:k1,useImperativeHandle:J4,useInsertionEffect:G4,useLayoutEffect:Y4,useMemo:Q4,useReducer:x1,useRef:q4,useState:function(){return x1(fa)},useDebugValue:C1,useDeferredValue:function(o,c){var d=Cn();return Jt===null?N1(d,o,c):eR(d,Jt.memoizedState,o,c)},useTransition:function(){var o=x1(fa)[0],c=Cn().memoizedState;return[typeof o=="boolean"?o:md(o),c]},useSyncExternalStore:R4,useId:rR,useHostTransitionStatus:A1,useFormState:V4,useActionState:V4,useOptimistic:function(o,c){var d=Cn();return Jt!==null?D4(d,Jt,o,c):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:b1,useCacheRefresh:iR};uR.useEffectEvent=W4;function j1(o,c,d,v){c=o.memoizedState,d=d(v,c),d=d==null?c:f({},c,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var O1={enqueueSetState:function(o,c,d){o=o._reactInternals;var v=yr(),x=ro(v);x.payload=c,d!=null&&(x.callback=d),c=io(o,x,v),c!==null&&(Qs(c,o,v),hd(c,o,v))},enqueueReplaceState:function(o,c,d){o=o._reactInternals;var v=yr(),x=ro(v);x.tag=1,x.payload=c,d!=null&&(x.callback=d),c=io(o,x,v),c!==null&&(Qs(c,o,v),hd(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var d=yr(),v=ro(d);v.tag=2,c!=null&&(v.callback=c),c=io(o,v,d),c!==null&&(Qs(c,o,d),hd(c,o,d))}};function hR(o,c,d,v,x,S,j){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,S,j):c.prototype&&c.prototype.isPureReactComponent?!sd(d,v)||!sd(x,S):!0}function dR(o,c,d,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,v),c.state!==o&&O1.enqueueReplaceState(c,c.state,null)}function xl(o,c){var d=c;if("ref"in c){d={};for(var v in c)v!=="ref"&&(d[v]=c[v])}if(o=o.defaultProps){d===c&&(d=f({},d));for(var x in o)d[x]===void 0&&(d[x]=o[x])}return d}function fR(o){Um(o)}function pR(o){console.error(o)}function mR(o){Um(o)}function hg(o,c){try{var d=o.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function gR(o,c,d){try{var v=o.onCaughtError;v(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function M1(o,c,d){return d=ro(d),d.tag=3,d.payload={element:null},d.callback=function(){hg(o,c)},d}function yR(o){return o=ro(o),o.tag=3,o}function vR(o,c,d,v){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var S=v.value;o.payload=function(){return x(S)},o.callback=function(){gR(c,d,v)}}var j=d.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(o.callback=function(){gR(c,d,v),typeof x!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var F=v.stack;this.componentDidCatch(v.value,{componentStack:F!==null?F:""})})}function j9(o,c,d,v,x){if(d.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=d.alternate,c!==null&&Yc(c,d,x,!0),d=fr.current,d!==null){switch(d.tag){case 31:case 13:return Vr===null?wg():d.alternate===null&&xn===0&&(xn=3),d.flags&=-257,d.flags|=65536,d.lanes=x,v===Xm?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([v]):c.add(v),rx(o,v,x)),!1;case 22:return d.flags|=65536,v===Xm?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([v]):d.add(v)),rx(o,v,x)),!1}throw Error(s(435,d.tag))}return rx(o,v,x),wg(),!1}if($t)return c=fr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,v!==X_&&(o=Error(s(422),{cause:v}),ad(zr(o,d)))):(v!==X_&&(c=Error(s(423),{cause:v}),ad(zr(c,d))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,v=zr(v,d),x=M1(o.stateNode,v,x),c1(o,x),xn!==4&&(xn=2)),!1;var S=Error(s(520),{cause:v});if(S=zr(S,d),Cd===null?Cd=[S]:Cd.push(S),xn!==4&&(xn=2),c===null)return!0;v=zr(v,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,o=x&-x,d.lanes|=o,o=M1(d.stateNode,v,o),c1(d,o),!1;case 1:if(c=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ho===null||!ho.has(S))))return d.flags|=65536,x&=-x,d.lanes|=x,x=yR(x),vR(x,o,d,v),c1(d,x),!1}d=d.return}while(d!==null);return!1}var I1=Error(s(461)),Mn=!1;function cs(o,c,d,v){c.child=o===null?S4(c,null,d,v):bl(c,o.child,d,v)}function bR(o,c,d,v,x){d=d.render;var S=c.ref;if("ref"in v){var j={};for(var F in v)F!=="ref"&&(j[F]=v[F])}else j=v;return ml(c),v=m1(o,c,d,j,S,x),F=g1(),o!==null&&!Mn?(y1(o,c,x),pa(o,c,x)):($t&&F&&Z_(c),c.flags|=1,cs(o,c,v,x),c.child)}function _R(o,c,d,v,x){if(o===null){var S=d.type;return typeof S=="function"&&!W_(S)&&S.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=S,xR(o,c,S,v,x)):(o=Km(d.type,null,v,c,c.mode,x),o.ref=c.ref,o.return=c,c.child=o)}if(S=o.child,!U1(o,x)){var j=S.memoizedProps;if(d=d.compare,d=d!==null?d:sd,d(j,v)&&o.ref===c.ref)return pa(o,c,x)}return c.flags|=1,o=la(S,v),o.ref=c.ref,o.return=c,c.child=o}function xR(o,c,d,v,x){if(o!==null){var S=o.memoizedProps;if(sd(S,v)&&o.ref===c.ref)if(Mn=!1,c.pendingProps=v=S,U1(o,x))(o.flags&131072)!==0&&(Mn=!0);else return c.lanes=o.lanes,pa(o,c,x)}return D1(o,c,d,v,x)}function SR(o,c,d,v){var x=v.children,S=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,o!==null){for(v=c.child=o.child,x=0;v!==null;)x=x|v.lanes|v.childLanes,v=v.sibling;v=x&~S}else v=0,c.child=null;return wR(o,c,S,d,v)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Zm(c,S!==null?S.cachePool:null),S!==null?C4(c,S):h1(),N4(c);else return v=c.lanes=536870912,wR(o,c,S!==null?S.baseLanes|d:d,d,v)}else S!==null?(Zm(c,S.cachePool),C4(c,S),oo(),c.memoizedState=null):(o!==null&&Zm(c,null),h1(),oo());return cs(o,c,x,d),c.child}function vd(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function wR(o,c,d,v,x){var S=i1();return S=S===null?null:{parent:jn._currentValue,pool:S},c.memoizedState={baseLanes:d,cachePool:S},o!==null&&Zm(c,null),h1(),N4(c),o!==null&&Yc(o,c,v,!0),c.childLanes=x,null}function dg(o,c){return c=pg({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function kR(o,c,d){return bl(c,o.child,null,d),o=dg(c,c.pendingProps),o.flags|=2,pr(c),c.memoizedState=null,o}function O9(o,c,d){var v=c.pendingProps,x=(c.flags&128)!==0;if(c.flags&=-129,o===null){if($t){if(v.mode==="hidden")return o=dg(c,v),c.lanes=536870912,vd(null,o);if(f1(c),(o=an)?(o=P5(o,Hr),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Qa!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},d=o4(o),d.return=c,c.child=d,os=c,an=null)):o=null,o===null)throw to(c);return c.lanes=536870912,null}return dg(c,v)}var S=o.memoizedState;if(S!==null){var j=S.dehydrated;if(f1(c),x)if(c.flags&256)c.flags&=-257,c=kR(o,c,d);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(s(558));else if(Mn||Yc(o,c,d,!1),x=(d&o.childLanes)!==0,Mn||x){if(v=tn,v!==null&&(j=pA(v,d),j!==0&&j!==S.retryLane))throw S.retryLane=j,hl(o,j),Qs(v,o,j),I1;wg(),c=kR(o,c,d)}else o=S.treeContext,an=qr(j.nextSibling),os=c,$t=!0,eo=null,Hr=!1,o!==null&&u4(c,o),c=dg(c,v),c.flags|=4096;return c}return o=la(o.child,{mode:v.mode,children:v.children}),o.ref=c.ref,c.child=o,o.return=c,o}function fg(o,c){var d=c.ref;if(d===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(o===null||o.ref!==d)&&(c.flags|=4194816)}}function D1(o,c,d,v,x){return ml(c),d=m1(o,c,d,v,void 0,x),v=g1(),o!==null&&!Mn?(y1(o,c,x),pa(o,c,x)):($t&&v&&Z_(c),c.flags|=1,cs(o,c,d,x),c.child)}function CR(o,c,d,v,x,S){return ml(c),c.updateQueue=null,d=A4(c,v,d,x),E4(o),v=g1(),o!==null&&!Mn?(y1(o,c,S),pa(o,c,S)):($t&&v&&Z_(c),c.flags|=1,cs(o,c,d,S),c.child)}function NR(o,c,d,v,x){if(ml(c),c.stateNode===null){var S=qc,j=d.contextType;typeof j=="object"&&j!==null&&(S=ls(j)),S=new d(v,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=O1,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=v,S.state=c.memoizedState,S.refs={},o1(c),j=d.contextType,S.context=typeof j=="object"&&j!==null?ls(j):qc,S.state=c.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&(j1(c,d,j,v),S.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(j=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),j!==S.state&&O1.enqueueReplaceState(S,S.state,null),fd(c,v,S,x),dd(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){S=c.stateNode;var F=c.memoizedProps,ee=xl(d,F);S.props=ee;var ce=S.context,ge=d.contextType;j=qc,typeof ge=="object"&&ge!==null&&(j=ls(ge));var be=d.getDerivedStateFromProps;ge=typeof be=="function"||typeof S.getSnapshotBeforeUpdate=="function",F=c.pendingProps!==F,ge||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F||ce!==j)&&dR(c,S,v,j),so=!1;var de=c.memoizedState;S.state=de,fd(c,v,S,x),dd(),ce=c.memoizedState,F||de!==ce||so?(typeof be=="function"&&(j1(c,d,be,v),ce=c.memoizedState),(ee=so||hR(c,d,ee,v,de,ce,j))?(ge||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=ce),S.props=v,S.state=ce,S.context=j,v=ee):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{S=c.stateNode,l1(o,c),j=c.memoizedProps,ge=xl(d,j),S.props=ge,be=c.pendingProps,de=S.context,ce=d.contextType,ee=qc,typeof ce=="object"&&ce!==null&&(ee=ls(ce)),F=d.getDerivedStateFromProps,(ce=typeof F=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j!==be||de!==ee)&&dR(c,S,v,ee),so=!1,de=c.memoizedState,S.state=de,fd(c,v,S,x),dd();var pe=c.memoizedState;j!==be||de!==pe||so||o!==null&&o.dependencies!==null&&Gm(o.dependencies)?(typeof F=="function"&&(j1(c,d,F,v),pe=c.memoizedState),(ge=so||hR(c,d,ge,v,de,pe,ee)||o!==null&&o.dependencies!==null&&Gm(o.dependencies))?(ce||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(v,pe,ee),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(v,pe,ee)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||j===o.memoizedProps&&de===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&de===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=pe),S.props=v,S.state=pe,S.context=ee,v=ge):(typeof S.componentDidUpdate!="function"||j===o.memoizedProps&&de===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&de===o.memoizedState||(c.flags|=1024),v=!1)}return S=v,fg(o,c),v=(c.flags&128)!==0,S||v?(S=c.stateNode,d=v&&typeof d.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,o!==null&&v?(c.child=bl(c,o.child,null,x),c.child=bl(c,null,d,x)):cs(o,c,d,x),c.memoizedState=S.state,o=c.child):o=pa(o,c,x),o}function ER(o,c,d,v){return fl(),c.flags|=256,cs(o,c,d,v),c.child}var P1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function L1(o){return{baseLanes:o,cachePool:g4()}}function B1(o,c,d){return o=o!==null?o.childLanes&~d:0,c&&(o|=gr),o}function AR(o,c,d){var v=c.pendingProps,x=!1,S=(c.flags&128)!==0,j;if((j=S)||(j=o!==null&&o.memoizedState===null?!1:(kn.current&2)!==0),j&&(x=!0,c.flags&=-129),j=(c.flags&32)!==0,c.flags&=-33,o===null){if($t){if(x?ao(c):oo(),(o=an)?(o=P5(o,Hr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Qa!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},d=o4(o),d.return=c,c.child=d,os=c,an=null)):o=null,o===null)throw to(c);return _x(o)?c.lanes=32:c.lanes=536870912,null}var F=v.children;return v=v.fallback,x?(oo(),x=c.mode,F=pg({mode:"hidden",children:F},x),v=dl(v,x,d,null),F.return=c,v.return=c,F.sibling=v,c.child=F,v=c.child,v.memoizedState=L1(d),v.childLanes=B1(o,j,d),c.memoizedState=P1,vd(null,v)):(ao(c),$1(c,F))}var ee=o.memoizedState;if(ee!==null&&(F=ee.dehydrated,F!==null)){if(S)c.flags&256?(ao(c),c.flags&=-257,c=z1(o,c,d)):c.memoizedState!==null?(oo(),c.child=o.child,c.flags|=128,c=null):(oo(),F=v.fallback,x=c.mode,v=pg({mode:"visible",children:v.children},x),F=dl(F,x,d,null),F.flags|=2,v.return=c,F.return=c,v.sibling=F,c.child=v,bl(c,o.child,null,d),v=c.child,v.memoizedState=L1(d),v.childLanes=B1(o,j,d),c.memoizedState=P1,c=vd(null,v));else if(ao(c),_x(F)){if(j=F.nextSibling&&F.nextSibling.dataset,j)var ce=j.dgst;j=ce,v=Error(s(419)),v.stack="",v.digest=j,ad({value:v,source:null,stack:null}),c=z1(o,c,d)}else if(Mn||Yc(o,c,d,!1),j=(d&o.childLanes)!==0,Mn||j){if(j=tn,j!==null&&(v=pA(j,d),v!==0&&v!==ee.retryLane))throw ee.retryLane=v,hl(o,v),Qs(j,o,v),I1;bx(F)||wg(),c=z1(o,c,d)}else bx(F)?(c.flags|=192,c.child=o.child,c=null):(o=ee.treeContext,an=qr(F.nextSibling),os=c,$t=!0,eo=null,Hr=!1,o!==null&&u4(c,o),c=$1(c,v.children),c.flags|=4096);return c}return x?(oo(),F=v.fallback,x=c.mode,ee=o.child,ce=ee.sibling,v=la(ee,{mode:"hidden",children:v.children}),v.subtreeFlags=ee.subtreeFlags&65011712,ce!==null?F=la(ce,F):(F=dl(F,x,d,null),F.flags|=2),F.return=c,v.return=c,v.sibling=F,c.child=v,vd(null,v),v=c.child,F=o.child.memoizedState,F===null?F=L1(d):(x=F.cachePool,x!==null?(ee=jn._currentValue,x=x.parent!==ee?{parent:ee,pool:ee}:x):x=g4(),F={baseLanes:F.baseLanes|d,cachePool:x}),v.memoizedState=F,v.childLanes=B1(o,j,d),c.memoizedState=P1,vd(o.child,v)):(ao(c),d=o.child,o=d.sibling,d=la(d,{mode:"visible",children:v.children}),d.return=c,d.sibling=null,o!==null&&(j=c.deletions,j===null?(c.deletions=[o],c.flags|=16):j.push(o)),c.child=d,c.memoizedState=null,d)}function $1(o,c){return c=pg({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function pg(o,c){return o=dr(22,o,null,c),o.lanes=0,o}function z1(o,c,d){return bl(c,o.child,null,d),o=$1(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function RR(o,c,d){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),t1(o.return,c,d)}function F1(o,c,d,v,x,S){var j=o.memoizedState;j===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:x,treeForkCount:S}:(j.isBackwards=c,j.rendering=null,j.renderingStartTime=0,j.last=v,j.tail=d,j.tailMode=x,j.treeForkCount=S)}function TR(o,c,d){var v=c.pendingProps,x=v.revealOrder,S=v.tail;v=v.children;var j=kn.current,F=(j&2)!==0;if(F?(j=j&1|2,c.flags|=128):j&=1,T(kn,j),cs(o,c,v,d),v=$t?id:0,!F&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&RR(o,d,c);else if(o.tag===19)RR(o,d,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(d=c.child,x=null;d!==null;)o=d.alternate,o!==null&&ng(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=c.child,c.child=null):(x=d.sibling,d.sibling=null),F1(c,!1,x,d,S,v);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=c.child,c.child=null;x!==null;){if(o=x.alternate,o!==null&&ng(o)===null){c.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}F1(c,!0,d,null,S,v);break;case"together":F1(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function pa(o,c,d){if(o!==null&&(c.dependencies=o.dependencies),uo|=c.lanes,(d&c.childLanes)===0)if(o!==null){if(Yc(o,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(s(153));if(c.child!==null){for(o=c.child,d=la(o,o.pendingProps),c.child=d,d.return=c;o.sibling!==null;)o=o.sibling,d=d.sibling=la(o,o.pendingProps),d.return=c;d.sibling=null}return c.child}function U1(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Gm(o)))}function M9(o,c,d){switch(c.tag){case 3:we(c,c.stateNode.containerInfo),no(c,jn,o.memoizedState.cache),fl();break;case 27:case 5:et(c);break;case 4:we(c,c.stateNode.containerInfo);break;case 10:no(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,f1(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(ao(c),c.flags|=128,null):(d&c.child.childLanes)!==0?AR(o,c,d):(ao(c),o=pa(o,c,d),o!==null?o.sibling:null);ao(c);break;case 19:var x=(o.flags&128)!==0;if(v=(d&c.childLanes)!==0,v||(Yc(o,c,d,!1),v=(d&c.childLanes)!==0),x){if(v)return TR(o,c,d);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),T(kn,kn.current),v)break;return null;case 22:return c.lanes=0,SR(o,c,d,c.pendingProps);case 24:no(c,jn,o.memoizedState.cache)}return pa(o,c,d)}function jR(o,c,d){if(o!==null)if(o.memoizedProps!==c.pendingProps)Mn=!0;else{if(!U1(o,d)&&(c.flags&128)===0)return Mn=!1,M9(o,c,d);Mn=(o.flags&131072)!==0}else Mn=!1,$t&&(c.flags&1048576)!==0&&c4(c,id,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(o=yl(c.elementType),c.type=o,typeof o=="function")W_(o)?(v=xl(o,v),c.tag=1,c=NR(null,c,o,v,d)):(c.tag=0,c=D1(null,c,o,v,d));else{if(o!=null){var x=o.$$typeof;if(x===A){c.tag=11,c=bR(null,c,o,v,d);break e}else if(x===M){c.tag=14,c=_R(null,c,o,v,d);break e}}throw c=Z(o)||o,Error(s(306,c,""))}}return c;case 0:return D1(o,c,c.type,c.pendingProps,d);case 1:return v=c.type,x=xl(v,c.pendingProps),NR(o,c,v,x,d);case 3:e:{if(we(c,c.stateNode.containerInfo),o===null)throw Error(s(387));v=c.pendingProps;var S=c.memoizedState;x=S.element,l1(o,c),fd(c,v,null,d);var j=c.memoizedState;if(v=j.cache,no(c,jn,v),v!==S.cache&&n1(c,[jn],d,!0),dd(),v=j.element,S.isDehydrated)if(S={element:v,isDehydrated:!1,cache:j.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=ER(o,c,v,d);break e}else if(v!==x){x=zr(Error(s(424)),c),ad(x),c=ER(o,c,v,d);break e}else for(o=c.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,an=qr(o.firstChild),os=c,$t=!0,eo=null,Hr=!0,d=S4(c,null,v,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(fl(),v===x){c=pa(o,c,d);break e}cs(o,c,v,d)}c=c.child}return c;case 26:return fg(o,c),o===null?(d=U5(c.type,null,c.pendingProps,null))?c.memoizedState=d:$t||(d=c.type,o=c.pendingProps,v=Tg(J.current).createElement(d),v[as]=c,v[Ws]=o,us(v,d,o),Xn(v),c.stateNode=v):c.memoizedState=U5(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return et(c),o===null&&$t&&(v=c.stateNode=$5(c.type,c.pendingProps,J.current),os=c,Hr=!0,x=an,go(c.type)?(xx=x,an=qr(v.firstChild)):an=x),cs(o,c,c.pendingProps.children,d),fg(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&$t&&((x=v=an)&&(v=cF(v,c.type,c.pendingProps,Hr),v!==null?(c.stateNode=v,os=c,an=qr(v.firstChild),Hr=!1,x=!0):x=!1),x||to(c)),et(c),x=c.type,S=c.pendingProps,j=o!==null?o.memoizedProps:null,v=S.children,gx(x,S)?v=null:j!==null&&gx(x,j)&&(c.flags|=32),c.memoizedState!==null&&(x=m1(o,c,k9,null,null,d),Md._currentValue=x),fg(o,c),cs(o,c,v,d),c.child;case 6:return o===null&&$t&&((o=d=an)&&(d=uF(d,c.pendingProps,Hr),d!==null?(c.stateNode=d,os=c,an=null,o=!0):o=!1),o||to(c)),null;case 13:return AR(o,c,d);case 4:return we(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=bl(c,null,v,d):cs(o,c,v,d),c.child;case 11:return bR(o,c,c.type,c.pendingProps,d);case 7:return cs(o,c,c.pendingProps,d),c.child;case 8:return cs(o,c,c.pendingProps.children,d),c.child;case 12:return cs(o,c,c.pendingProps.children,d),c.child;case 10:return v=c.pendingProps,no(c,c.type,v.value),cs(o,c,v.children,d),c.child;case 9:return x=c.type._context,v=c.pendingProps.children,ml(c),x=ls(x),v=v(x),c.flags|=1,cs(o,c,v,d),c.child;case 14:return _R(o,c,c.type,c.pendingProps,d);case 15:return xR(o,c,c.type,c.pendingProps,d);case 19:return TR(o,c,d);case 31:return O9(o,c,d);case 22:return SR(o,c,d,c.pendingProps);case 24:return ml(c),v=ls(jn),o===null?(x=i1(),x===null&&(x=tn,S=s1(),x.pooledCache=S,S.refCount++,S!==null&&(x.pooledCacheLanes|=d),x=S),c.memoizedState={parent:v,cache:x},o1(c),no(c,jn,x)):((o.lanes&d)!==0&&(l1(o,c),fd(c,null,null,d),dd()),x=o.memoizedState,S=c.memoizedState,x.parent!==v?(x={parent:v,cache:v},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),no(c,jn,v)):(v=S.cache,no(c,jn,v),v!==x.cache&&n1(c,[jn],d,!0))),cs(o,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(s(156,c.tag))}function ma(o){o.flags|=4}function H1(o,c,d,v,x){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(r5())o.flags|=8192;else throw vl=Xm,a1}else o.flags&=-16777217}function OR(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!W5(c))if(r5())o.flags|=8192;else throw vl=Xm,a1}function mg(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Ks():536870912,o.lanes|=c,ou|=c)}function bd(o,c){if(!$t)switch(o.tailMode){case"hidden":c=o.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function on(o){var c=o.alternate!==null&&o.alternate.child===o.child,d=0,v=0;if(c)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,v|=x.subtreeFlags&65011712,v|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=v,o.childLanes=d,c}function I9(o,c,d){var v=c.pendingProps;switch(J_(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(c),null;case 1:return on(c),null;case 3:return d=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),ha(jn),ke(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Gc(c)?ma(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Q_())),on(c),null;case 26:var x=c.type,S=c.memoizedState;return o===null?(ma(c),S!==null?(on(c),OR(c,S)):(on(c),H1(c,x,null,v,d))):S?S!==o.memoizedState?(ma(c),on(c),OR(c,S)):(on(c),c.flags&=-16777217):(o=o.memoizedProps,o!==v&&ma(c),on(c),H1(c,x,o,v,d)),null;case 27:if(ze(c),d=J.current,x=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&ma(c);else{if(!v){if(c.stateNode===null)throw Error(s(166));return on(c),null}o=Q.current,Gc(c)?h4(c):(o=$5(x,v,d),c.stateNode=o,ma(c))}return on(c),null;case 5:if(ze(c),x=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&ma(c);else{if(!v){if(c.stateNode===null)throw Error(s(166));return on(c),null}if(S=Q.current,Gc(c))h4(c);else{var j=Tg(J.current);switch(S){case 1:S=j.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:S=j.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":S=j.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":S=j.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":S=j.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof v.is=="string"?j.createElement("select",{is:v.is}):j.createElement("select"),v.multiple?S.multiple=!0:v.size&&(S.size=v.size);break;default:S=typeof v.is=="string"?j.createElement(x,{is:v.is}):j.createElement(x)}}S[as]=c,S[Ws]=v;e:for(j=c.child;j!==null;){if(j.tag===5||j.tag===6)S.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===c)break e;for(;j.sibling===null;){if(j.return===null||j.return===c)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}c.stateNode=S;e:switch(us(S,x,v),x){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&ma(c)}}return on(c),H1(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,d),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&ma(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(s(166));if(o=J.current,Gc(c)){if(o=c.stateNode,d=c.memoizedProps,v=null,x=os,x!==null)switch(x.tag){case 27:case 5:v=x.memoizedProps}o[as]=c,o=!!(o.nodeValue===d||v!==null&&v.suppressHydrationWarning===!0||A5(o.nodeValue,d)),o||to(c,!0)}else o=Tg(o).createTextNode(v),o[as]=c,c.stateNode=o}return on(c),null;case 31:if(d=c.memoizedState,o===null||o.memoizedState!==null){if(v=Gc(c),d!==null){if(o===null){if(!v)throw Error(s(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(557));o[as]=c}else fl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;on(c),o=!1}else d=Q_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return c.flags&256?(pr(c),c):(pr(c),null);if((c.flags&128)!==0)throw Error(s(558))}return on(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=Gc(c),v!==null&&v.dehydrated!==null){if(o===null){if(!x)throw Error(s(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[as]=c}else fl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;on(c),x=!1}else x=Q_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(pr(c),c):(pr(c),null)}return pr(c),(c.flags&128)!==0?(c.lanes=d,c):(d=v!==null,o=o!==null&&o.memoizedState!==null,d&&(v=c.child,x=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(x=v.alternate.memoizedState.cachePool.pool),S=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(S=v.memoizedState.cachePool.pool),S!==x&&(v.flags|=2048)),d!==o&&d&&(c.child.flags|=8192),mg(c,c.updateQueue),on(c),null);case 4:return ke(),o===null&&hx(c.stateNode.containerInfo),on(c),null;case 10:return ha(c.type),on(c),null;case 19:if(V(kn),v=c.memoizedState,v===null)return on(c),null;if(x=(c.flags&128)!==0,S=v.rendering,S===null)if(x)bd(v,!1);else{if(xn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(S=ng(o),S!==null){for(c.flags|=128,bd(v,!1),o=S.updateQueue,c.updateQueue=o,mg(c,o),c.subtreeFlags=0,o=d,d=c.child;d!==null;)a4(d,o),d=d.sibling;return T(kn,kn.current&1|2),$t&&ca(c,v.treeForkCount),c.child}o=o.sibling}v.tail!==null&&Ke()>_g&&(c.flags|=128,x=!0,bd(v,!1),c.lanes=4194304)}else{if(!x)if(o=ng(S),o!==null){if(c.flags|=128,x=!0,o=o.updateQueue,c.updateQueue=o,mg(c,o),bd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!$t)return on(c),null}else 2*Ke()-v.renderingStartTime>_g&&d!==536870912&&(c.flags|=128,x=!0,bd(v,!1),c.lanes=4194304);v.isBackwards?(S.sibling=c.child,c.child=S):(o=v.last,o!==null?o.sibling=S:c.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Ke(),o.sibling=null,d=kn.current,T(kn,x?d&1|2:d&1),$t&&ca(c,v.treeForkCount),o):(on(c),null);case 22:case 23:return pr(c),d1(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(d&536870912)!==0&&(c.flags&128)===0&&(on(c),c.subtreeFlags&6&&(c.flags|=8192)):on(c),d=c.updateQueue,d!==null&&mg(c,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==d&&(c.flags|=2048),o!==null&&V(gl),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),ha(jn),on(c),null;case 25:return null;case 30:return null}throw Error(s(156,c.tag))}function D9(o,c){switch(J_(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ha(jn),ke(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return ze(c),null;case 31:if(c.memoizedState!==null){if(pr(c),c.alternate===null)throw Error(s(340));fl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(pr(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(s(340));fl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return V(kn),null;case 4:return ke(),null;case 10:return ha(c.type),null;case 22:case 23:return pr(c),d1(),o!==null&&V(gl),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ha(jn),null;case 25:return null;default:return null}}function MR(o,c){switch(J_(c),c.tag){case 3:ha(jn),ke();break;case 26:case 27:case 5:ze(c);break;case 4:ke();break;case 31:c.memoizedState!==null&&pr(c);break;case 13:pr(c);break;case 19:V(kn);break;case 10:ha(c.type);break;case 22:case 23:pr(c),d1(),o!==null&&V(gl);break;case 24:ha(jn)}}function _d(o,c){try{var d=c.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var x=v.next;d=x;do{if((d.tag&o)===o){v=void 0;var S=d.create,j=d.inst;v=S(),j.destroy=v}d=d.next}while(d!==x)}}catch(F){Yt(c,c.return,F)}}function lo(o,c,d){try{var v=c.updateQueue,x=v!==null?v.lastEffect:null;if(x!==null){var S=x.next;v=S;do{if((v.tag&o)===o){var j=v.inst,F=j.destroy;if(F!==void 0){j.destroy=void 0,x=c;var ee=d,ce=F;try{ce()}catch(ge){Yt(x,ee,ge)}}}v=v.next}while(v!==S)}}catch(ge){Yt(c,c.return,ge)}}function IR(o){var c=o.updateQueue;if(c!==null){var d=o.stateNode;try{k4(c,d)}catch(v){Yt(o,o.return,v)}}}function DR(o,c,d){d.props=xl(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(v){Yt(o,c,v)}}function xd(o,c){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof d=="function"?o.refCleanup=d(v):d.current=v}}catch(x){Yt(o,c,x)}}function Ti(o,c){var d=o.ref,v=o.refCleanup;if(d!==null)if(typeof v=="function")try{v()}catch(x){Yt(o,c,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Yt(o,c,x)}else d.current=null}function PR(o){var c=o.type,d=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&v.focus();break e;case"img":d.src?v.src=d.src:d.srcSet&&(v.srcset=d.srcSet)}}catch(x){Yt(o,o.return,x)}}function V1(o,c,d){try{var v=o.stateNode;sF(v,o.type,d,c),v[Ws]=c}catch(x){Yt(o,o.return,x)}}function LR(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&go(o.type)||o.tag===4}function q1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||LR(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&go(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function K1(o,c,d){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(o),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=aa));else if(v!==4&&(v===27&&go(o.type)&&(d=o.stateNode,c=null),o=o.child,o!==null))for(K1(o,c,d),o=o.sibling;o!==null;)K1(o,c,d),o=o.sibling}function gg(o,c,d){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?d.insertBefore(o,c):d.appendChild(o);else if(v!==4&&(v===27&&go(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(gg(o,c,d),o=o.sibling;o!==null;)gg(o,c,d),o=o.sibling}function BR(o){var c=o.stateNode,d=o.memoizedProps;try{for(var v=o.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);us(c,v,d),c[as]=o,c[Ws]=d}catch(S){Yt(o,o.return,S)}}var ga=!1,In=!1,W1=!1,$R=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function P9(o,c){if(o=o.containerInfo,px=Lg,o=JA(o),z_(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var x=v.anchorOffset,S=v.focusNode;v=v.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var j=0,F=-1,ee=-1,ce=0,ge=0,be=o,de=null;t:for(;;){for(var pe;be!==d||x!==0&&be.nodeType!==3||(F=j+x),be!==S||v!==0&&be.nodeType!==3||(ee=j+v),be.nodeType===3&&(j+=be.nodeValue.length),(pe=be.firstChild)!==null;)de=be,be=pe;for(;;){if(be===o)break t;if(de===d&&++ce===x&&(F=j),de===S&&++ge===v&&(ee=j),(pe=be.nextSibling)!==null)break;be=de,de=be.parentNode}be=pe}d=F===-1||ee===-1?null:{start:F,end:ee}}else d=null}d=d||{start:0,end:0}}else d=null;for(mx={focusedElem:o,selectionRange:d},Lg=!1,Qn=c;Qn!==null;)if(c=Qn,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Qn=o;else for(;Qn!==null;){switch(c=Qn,S=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)x=o[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,d=c,x=S.memoizedProps,S=S.memoizedState,v=d.stateNode;try{var Xe=xl(d.type,x);o=v.getSnapshotBeforeUpdate(Xe,S),v.__reactInternalSnapshotBeforeUpdate=o}catch(ut){Yt(d,d.return,ut)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,d=o.nodeType,d===9)vx(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":vx(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(s(163))}if(o=c.sibling,o!==null){o.return=c.return,Qn=o;break}Qn=c.return}}function zR(o,c,d){var v=d.flags;switch(d.tag){case 0:case 11:case 15:va(o,d),v&4&&_d(5,d);break;case 1:if(va(o,d),v&4)if(o=d.stateNode,c===null)try{o.componentDidMount()}catch(j){Yt(d,d.return,j)}else{var x=xl(d.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(x,c,o.__reactInternalSnapshotBeforeUpdate)}catch(j){Yt(d,d.return,j)}}v&64&&IR(d),v&512&&xd(d,d.return);break;case 3:if(va(o,d),v&64&&(o=d.updateQueue,o!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{k4(o,c)}catch(j){Yt(d,d.return,j)}}break;case 27:c===null&&v&4&&BR(d);case 26:case 5:va(o,d),c===null&&v&4&&PR(d),v&512&&xd(d,d.return);break;case 12:va(o,d);break;case 31:va(o,d),v&4&&HR(o,d);break;case 13:va(o,d),v&4&&VR(o,d),v&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=q9.bind(null,d),hF(o,d))));break;case 22:if(v=d.memoizedState!==null||ga,!v){c=c!==null&&c.memoizedState!==null||In,x=ga;var S=In;ga=v,(In=c)&&!S?ba(o,d,(d.subtreeFlags&8772)!==0):va(o,d),ga=x,In=S}break;case 30:break;default:va(o,d)}}function FR(o){var c=o.alternate;c!==null&&(o.alternate=null,FR(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&w_(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var hn=null,Ys=!1;function ya(o,c,d){for(d=d.child;d!==null;)UR(o,c,d),d=d.sibling}function UR(o,c,d){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(oe,d)}catch{}switch(d.tag){case 26:In||Ti(d,c),ya(o,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:In||Ti(d,c);var v=hn,x=Ys;go(d.type)&&(hn=d.stateNode,Ys=!1),ya(o,c,d),Td(d.stateNode),hn=v,Ys=x;break;case 5:In||Ti(d,c);case 6:if(v=hn,x=Ys,hn=null,ya(o,c,d),hn=v,Ys=x,hn!==null)if(Ys)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(d.stateNode)}catch(S){Yt(d,c,S)}else try{hn.removeChild(d.stateNode)}catch(S){Yt(d,c,S)}break;case 18:hn!==null&&(Ys?(o=hn,I5(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),mu(o)):I5(hn,d.stateNode));break;case 4:v=hn,x=Ys,hn=d.stateNode.containerInfo,Ys=!0,ya(o,c,d),hn=v,Ys=x;break;case 0:case 11:case 14:case 15:lo(2,d,c),In||lo(4,d,c),ya(o,c,d);break;case 1:In||(Ti(d,c),v=d.stateNode,typeof v.componentWillUnmount=="function"&&DR(d,c,v)),ya(o,c,d);break;case 21:ya(o,c,d);break;case 22:In=(v=In)||d.memoizedState!==null,ya(o,c,d),In=v;break;default:ya(o,c,d)}}function HR(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{mu(o)}catch(d){Yt(c,c.return,d)}}}function VR(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{mu(o)}catch(d){Yt(c,c.return,d)}}function L9(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new $R),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new $R),c;default:throw Error(s(435,o.tag))}}function yg(o,c){var d=L9(o);c.forEach(function(v){if(!d.has(v)){d.add(v);var x=K9.bind(null,o,v);v.then(x,x)}})}function Zs(o,c){var d=c.deletions;if(d!==null)for(var v=0;v<d.length;v++){var x=d[v],S=o,j=c,F=j;e:for(;F!==null;){switch(F.tag){case 27:if(go(F.type)){hn=F.stateNode,Ys=!1;break e}break;case 5:hn=F.stateNode,Ys=!1;break e;case 3:case 4:hn=F.stateNode.containerInfo,Ys=!0;break e}F=F.return}if(hn===null)throw Error(s(160));UR(S,j,x),hn=null,Ys=!1,S=x.alternate,S!==null&&(S.return=null),x.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)qR(c,o),c=c.sibling}var di=null;function qR(o,c){var d=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Zs(c,o),Js(o),v&4&&(lo(3,o,o.return),_d(3,o),lo(5,o,o.return));break;case 1:Zs(c,o),Js(o),v&512&&(In||d===null||Ti(d,d.return)),v&64&&ga&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?v:d.concat(v))));break;case 26:var x=di;if(Zs(c,o),Js(o),v&512&&(In||d===null||Ti(d,d.return)),v&4){var S=d!==null?d.memoizedState:null;if(v=o.memoizedState,d===null)if(v===null)if(o.stateNode===null){e:{v=o.type,d=o.memoizedProps,x=x.ownerDocument||x;t:switch(v){case"title":S=x.getElementsByTagName("title")[0],(!S||S[Gh]||S[as]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=x.createElement(v),x.head.insertBefore(S,x.querySelector("head > title"))),us(S,v,d),S[as]=o,Xn(S),v=S;break e;case"link":var j=q5("link","href",x).get(v+(d.href||""));if(j){for(var F=0;F<j.length;F++)if(S=j[F],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){j.splice(F,1);break t}}S=x.createElement(v),us(S,v,d),x.head.appendChild(S);break;case"meta":if(j=q5("meta","content",x).get(v+(d.content||""))){for(F=0;F<j.length;F++)if(S=j[F],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){j.splice(F,1);break t}}S=x.createElement(v),us(S,v,d),x.head.appendChild(S);break;default:throw Error(s(468,v))}S[as]=o,Xn(S),v=S}o.stateNode=v}else K5(x,o.type,o.stateNode);else o.stateNode=V5(x,v,o.memoizedProps);else S!==v?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,v===null?K5(x,o.type,o.stateNode):V5(x,v,o.memoizedProps)):v===null&&o.stateNode!==null&&V1(o,o.memoizedProps,d.memoizedProps)}break;case 27:Zs(c,o),Js(o),v&512&&(In||d===null||Ti(d,d.return)),d!==null&&v&4&&V1(o,o.memoizedProps,d.memoizedProps);break;case 5:if(Zs(c,o),Js(o),v&512&&(In||d===null||Ti(d,d.return)),o.flags&32){x=o.stateNode;try{Bc(x,"")}catch(Xe){Yt(o,o.return,Xe)}}v&4&&o.stateNode!=null&&(x=o.memoizedProps,V1(o,x,d!==null?d.memoizedProps:x)),v&1024&&(W1=!0);break;case 6:if(Zs(c,o),Js(o),v&4){if(o.stateNode===null)throw Error(s(162));v=o.memoizedProps,d=o.stateNode;try{d.nodeValue=v}catch(Xe){Yt(o,o.return,Xe)}}break;case 3:if(Mg=null,x=di,di=jg(c.containerInfo),Zs(c,o),di=x,Js(o),v&4&&d!==null&&d.memoizedState.isDehydrated)try{mu(c.containerInfo)}catch(Xe){Yt(o,o.return,Xe)}W1&&(W1=!1,KR(o));break;case 4:v=di,di=jg(o.stateNode.containerInfo),Zs(c,o),Js(o),di=v;break;case 12:Zs(c,o),Js(o);break;case 31:Zs(c,o),Js(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,yg(o,v)));break;case 13:Zs(c,o),Js(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(bg=Ke()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,yg(o,v)));break;case 22:x=o.memoizedState!==null;var ee=d!==null&&d.memoizedState!==null,ce=ga,ge=In;if(ga=ce||x,In=ge||ee,Zs(c,o),In=ge,ga=ce,Js(o),v&8192)e:for(c=o.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(d===null||ee||ga||In||Sl(o)),d=null,c=o;;){if(c.tag===5||c.tag===26){if(d===null){ee=d=c;try{if(S=ee.stateNode,x)j=S.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{F=ee.stateNode;var be=ee.memoizedProps.style,de=be!=null&&be.hasOwnProperty("display")?be.display:null;F.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Xe){Yt(ee,ee.return,Xe)}}}else if(c.tag===6){if(d===null){ee=c;try{ee.stateNode.nodeValue=x?"":ee.memoizedProps}catch(Xe){Yt(ee,ee.return,Xe)}}}else if(c.tag===18){if(d===null){ee=c;try{var pe=ee.stateNode;x?D5(pe,!0):D5(ee.stateNode,!1)}catch(Xe){Yt(ee,ee.return,Xe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(d=v.retryQueue,d!==null&&(v.retryQueue=null,yg(o,d))));break;case 19:Zs(c,o),Js(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,yg(o,v)));break;case 30:break;case 21:break;default:Zs(c,o),Js(o)}}function Js(o){var c=o.flags;if(c&2){try{for(var d,v=o.return;v!==null;){if(LR(v)){d=v;break}v=v.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var x=d.stateNode,S=q1(o);gg(o,S,x);break;case 5:var j=d.stateNode;d.flags&32&&(Bc(j,""),d.flags&=-33);var F=q1(o);gg(o,F,j);break;case 3:case 4:var ee=d.stateNode.containerInfo,ce=q1(o);K1(o,ce,ee);break;default:throw Error(s(161))}}catch(ge){Yt(o,o.return,ge)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function KR(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;KR(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function va(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)zR(o,c.alternate,c),c=c.sibling}function Sl(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:lo(4,c,c.return),Sl(c);break;case 1:Ti(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&DR(c,c.return,d),Sl(c);break;case 27:Td(c.stateNode);case 26:case 5:Ti(c,c.return),Sl(c);break;case 22:c.memoizedState===null&&Sl(c);break;case 30:Sl(c);break;default:Sl(c)}o=o.sibling}}function ba(o,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,x=o,S=c,j=S.flags;switch(S.tag){case 0:case 11:case 15:ba(x,S,d),_d(4,S);break;case 1:if(ba(x,S,d),v=S,x=v.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ce){Yt(v,v.return,ce)}if(v=S,x=v.updateQueue,x!==null){var F=v.stateNode;try{var ee=x.shared.hiddenCallbacks;if(ee!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ee.length;x++)w4(ee[x],F)}catch(ce){Yt(v,v.return,ce)}}d&&j&64&&IR(S),xd(S,S.return);break;case 27:BR(S);case 26:case 5:ba(x,S,d),d&&v===null&&j&4&&PR(S),xd(S,S.return);break;case 12:ba(x,S,d);break;case 31:ba(x,S,d),d&&j&4&&HR(x,S);break;case 13:ba(x,S,d),d&&j&4&&VR(x,S);break;case 22:S.memoizedState===null&&ba(x,S,d),xd(S,S.return);break;case 30:break;default:ba(x,S,d)}c=c.sibling}}function G1(o,c){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&od(d))}function Y1(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&od(o))}function fi(o,c,d,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)WR(o,c,d,v),c=c.sibling}function WR(o,c,d,v){var x=c.flags;switch(c.tag){case 0:case 11:case 15:fi(o,c,d,v),x&2048&&_d(9,c);break;case 1:fi(o,c,d,v);break;case 3:fi(o,c,d,v),x&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&od(o)));break;case 12:if(x&2048){fi(o,c,d,v),o=c.stateNode;try{var S=c.memoizedProps,j=S.id,F=S.onPostCommit;typeof F=="function"&&F(j,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ee){Yt(c,c.return,ee)}}else fi(o,c,d,v);break;case 31:fi(o,c,d,v);break;case 13:fi(o,c,d,v);break;case 23:break;case 22:S=c.stateNode,j=c.alternate,c.memoizedState!==null?S._visibility&2?fi(o,c,d,v):Sd(o,c):S._visibility&2?fi(o,c,d,v):(S._visibility|=2,ru(o,c,d,v,(c.subtreeFlags&10256)!==0||!1)),x&2048&&G1(j,c);break;case 24:fi(o,c,d,v),x&2048&&Y1(c.alternate,c);break;default:fi(o,c,d,v)}}function ru(o,c,d,v,x){for(x=x&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=o,j=c,F=d,ee=v,ce=j.flags;switch(j.tag){case 0:case 11:case 15:ru(S,j,F,ee,x),_d(8,j);break;case 23:break;case 22:var ge=j.stateNode;j.memoizedState!==null?ge._visibility&2?ru(S,j,F,ee,x):Sd(S,j):(ge._visibility|=2,ru(S,j,F,ee,x)),x&&ce&2048&&G1(j.alternate,j);break;case 24:ru(S,j,F,ee,x),x&&ce&2048&&Y1(j.alternate,j);break;default:ru(S,j,F,ee,x)}c=c.sibling}}function Sd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=o,v=c,x=v.flags;switch(v.tag){case 22:Sd(d,v),x&2048&&G1(v.alternate,v);break;case 24:Sd(d,v),x&2048&&Y1(v.alternate,v);break;default:Sd(d,v)}c=c.sibling}}var wd=8192;function iu(o,c,d){if(o.subtreeFlags&wd)for(o=o.child;o!==null;)GR(o,c,d),o=o.sibling}function GR(o,c,d){switch(o.tag){case 26:iu(o,c,d),o.flags&wd&&o.memoizedState!==null&&wF(d,di,o.memoizedState,o.memoizedProps);break;case 5:iu(o,c,d);break;case 3:case 4:var v=di;di=jg(o.stateNode.containerInfo),iu(o,c,d),di=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=wd,wd=16777216,iu(o,c,d),wd=v):iu(o,c,d));break;default:iu(o,c,d)}}function YR(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function kd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var v=c[d];Qn=v,JR(v,o)}YR(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ZR(o),o=o.sibling}function ZR(o){switch(o.tag){case 0:case 11:case 15:kd(o),o.flags&2048&&lo(9,o,o.return);break;case 3:kd(o);break;case 12:kd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,vg(o)):kd(o);break;default:kd(o)}}function vg(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var v=c[d];Qn=v,JR(v,o)}YR(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:lo(8,c,c.return),vg(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,vg(c));break;default:vg(c)}o=o.sibling}}function JR(o,c){for(;Qn!==null;){var d=Qn;switch(d.tag){case 0:case 11:case 15:lo(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var v=d.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:od(d.memoizedState.cache)}if(v=d.child,v!==null)v.return=d,Qn=v;else e:for(d=o;Qn!==null;){v=Qn;var x=v.sibling,S=v.return;if(FR(v),v===d){Qn=null;break e}if(x!==null){x.return=S,Qn=x;break e}Qn=S}}}var B9={getCacheForType:function(o){var c=ls(jn),d=c.data.get(o);return d===void 0&&(d=o(),c.data.set(o,d)),d},cacheSignal:function(){return ls(jn).controller.signal}},$9=typeof WeakMap=="function"?WeakMap:Map,Kt=0,tn=null,Ot=null,Dt=0,Gt=0,mr=null,co=!1,au=!1,Z1=!1,_a=0,xn=0,uo=0,wl=0,J1=0,gr=0,ou=0,Cd=null,Xs=null,X1=!1,bg=0,XR=0,_g=1/0,xg=null,ho=null,Fn=0,fo=null,lu=null,xa=0,Q1=0,ex=null,QR=null,Nd=0,tx=null;function yr(){return(Kt&2)!==0&&Dt!==0?Dt&-Dt:L.T!==null?ox():mA()}function e5(){if(gr===0)if((Dt&536870912)===0||$t){var o=Fe;Fe<<=1,(Fe&3932160)===0&&(Fe=262144),gr=o}else gr=536870912;return o=fr.current,o!==null&&(o.flags|=32),gr}function Qs(o,c,d){(o===tn&&(Gt===2||Gt===9)||o.cancelPendingCommit!==null)&&(cu(o,0),po(o,Dt,gr,!1)),al(o,d),((Kt&2)===0||o!==tn)&&(o===tn&&((Kt&2)===0&&(wl|=d),xn===4&&po(o,Dt,gr,!1)),ji(o))}function t5(o,c,d){if((Kt&6)!==0)throw Error(s(327));var v=!d&&(c&127)===0&&(c&o.expiredLanes)===0||qt(o,c),x=v?U9(o,c):sx(o,c,!0),S=v;do{if(x===0){au&&!v&&po(o,c,0,!1);break}else{if(d=o.current.alternate,S&&!z9(d)){x=sx(o,c,!1),S=!1;continue}if(x===2){if(S=c,o.errorRecoveryDisabledLanes&S)var j=0;else j=o.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){c=j;e:{var F=o;x=Cd;var ee=F.current.memoizedState.isDehydrated;if(ee&&(cu(F,j).flags|=256),j=sx(F,j,!1),j!==2){if(Z1&&!ee){F.errorRecoveryDisabledLanes|=S,wl|=S,x=4;break e}S=Xs,Xs=x,S!==null&&(Xs===null?Xs=S:Xs.push.apply(Xs,S))}x=j}if(S=!1,x!==2)continue}}if(x===1){cu(o,0),po(o,c,0,!0);break}e:{switch(v=o,S=x,S){case 0:case 1:throw Error(s(345));case 4:if((c&4194048)!==c)break;case 6:po(v,c,gr,!co);break e;case 2:Xs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((c&62914560)===c&&(x=bg+300-Ke(),10<x)){if(po(v,c,gr,!co),kt(v,0,!0)!==0)break e;xa=c,v.timeoutHandle=O5(n5.bind(null,v,d,Xs,xg,X1,c,gr,wl,ou,co,S,"Throttled",-0,0),x);break e}n5(v,d,Xs,xg,X1,c,gr,wl,ou,co,S,null,-0,0)}}break}while(!0);ji(o)}function n5(o,c,d,v,x,S,j,F,ee,ce,ge,be,de,pe){if(o.timeoutHandle=-1,be=c.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:aa},GR(c,S,be);var Xe=(S&62914560)===S?bg-Ke():(S&4194048)===S?XR-Ke():0;if(Xe=kF(be,Xe),Xe!==null){xa=S,o.cancelPendingCommit=Xe(u5.bind(null,o,c,S,d,v,x,j,F,ee,ge,be,null,de,pe)),po(o,S,j,!ce);return}}u5(o,c,S,d,v,x,j,F,ee)}function z9(o){for(var c=o;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var v=0;v<d.length;v++){var x=d[v],S=x.getSnapshot;x=x.value;try{if(!hr(S(),x))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function po(o,c,d,v){c&=~J1,c&=~wl,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var x=c;0<x;){var S=31-me(x),j=1<<S;v[S]=-1,x&=~j}d!==0&&dA(o,d,c)}function Sg(){return(Kt&6)===0?(Ed(0),!1):!0}function nx(){if(Ot!==null){if(Gt===0)var o=Ot.return;else o=Ot,ua=pl=null,v1(o),Qc=null,cd=0,o=Ot;for(;o!==null;)MR(o.alternate,o),o=o.return;Ot=null}}function cu(o,c){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,aF(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),xa=0,nx(),tn=o,Ot=d=la(o.current,null),Dt=c,Gt=0,mr=null,co=!1,au=qt(o,c),Z1=!1,ou=gr=J1=wl=uo=xn=0,Xs=Cd=null,X1=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var x=31-me(v),S=1<<x;c|=o[x],v&=~S}return _a=c,Hm(),d}function s5(o,c){St=null,L.H=yd,c===Xc||c===Jm?(c=b4(),Gt=3):c===a1?(c=b4(),Gt=4):Gt=c===I1?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,mr=c,Ot===null&&(xn=1,hg(o,zr(c,o.current)))}function r5(){var o=fr.current;return o===null?!0:(Dt&4194048)===Dt?Vr===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?o===Vr:!1}function i5(){var o=L.H;return L.H=yd,o===null?yd:o}function a5(){var o=L.A;return L.A=B9,o}function wg(){xn=4,co||(Dt&4194048)!==Dt&&fr.current!==null||(au=!0),(uo&134217727)===0&&(wl&134217727)===0||tn===null||po(tn,Dt,gr,!1)}function sx(o,c,d){var v=Kt;Kt|=2;var x=i5(),S=a5();(tn!==o||Dt!==c)&&(xg=null,cu(o,c)),c=!1;var j=xn;e:do try{if(Gt!==0&&Ot!==null){var F=Ot,ee=mr;switch(Gt){case 8:nx(),j=6;break e;case 3:case 2:case 9:case 6:fr.current===null&&(c=!0);var ce=Gt;if(Gt=0,mr=null,uu(o,F,ee,ce),d&&au){j=0;break e}break;default:ce=Gt,Gt=0,mr=null,uu(o,F,ee,ce)}}F9(),j=xn;break}catch(ge){s5(o,ge)}while(!0);return c&&o.shellSuspendCounter++,ua=pl=null,Kt=v,L.H=x,L.A=S,Ot===null&&(tn=null,Dt=0,Hm()),j}function F9(){for(;Ot!==null;)o5(Ot)}function U9(o,c){var d=Kt;Kt|=2;var v=i5(),x=a5();tn!==o||Dt!==c?(xg=null,_g=Ke()+500,cu(o,c)):au=qt(o,c);e:do try{if(Gt!==0&&Ot!==null){c=Ot;var S=mr;t:switch(Gt){case 1:Gt=0,mr=null,uu(o,c,S,1);break;case 2:case 9:if(y4(S)){Gt=0,mr=null,l5(c);break}c=function(){Gt!==2&&Gt!==9||tn!==o||(Gt=7),ji(o)},S.then(c,c);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:y4(S)?(Gt=0,mr=null,l5(c)):(Gt=0,mr=null,uu(o,c,S,7));break;case 5:var j=null;switch(Ot.tag){case 26:j=Ot.memoizedState;case 5:case 27:var F=Ot;if(j?W5(j):F.stateNode.complete){Gt=0,mr=null;var ee=F.sibling;if(ee!==null)Ot=ee;else{var ce=F.return;ce!==null?(Ot=ce,kg(ce)):Ot=null}break t}}Gt=0,mr=null,uu(o,c,S,5);break;case 6:Gt=0,mr=null,uu(o,c,S,6);break;case 8:nx(),xn=6;break e;default:throw Error(s(462))}}H9();break}catch(ge){s5(o,ge)}while(!0);return ua=pl=null,L.H=v,L.A=x,Kt=d,Ot!==null?0:(tn=null,Dt=0,Hm(),xn)}function H9(){for(;Ot!==null&&!He();)o5(Ot)}function o5(o){var c=jR(o.alternate,o,_a);o.memoizedProps=o.pendingProps,c===null?kg(o):Ot=c}function l5(o){var c=o,d=c.alternate;switch(c.tag){case 15:case 0:c=CR(d,c,c.pendingProps,c.type,void 0,Dt);break;case 11:c=CR(d,c,c.pendingProps,c.type.render,c.ref,Dt);break;case 5:v1(c);default:MR(d,c),c=Ot=a4(c,_a),c=jR(d,c,_a)}o.memoizedProps=o.pendingProps,c===null?kg(o):Ot=c}function uu(o,c,d,v){ua=pl=null,v1(c),Qc=null,cd=0;var x=c.return;try{if(j9(o,x,c,d,Dt)){xn=1,hg(o,zr(d,o.current)),Ot=null;return}}catch(S){if(x!==null)throw Ot=x,S;xn=1,hg(o,zr(d,o.current)),Ot=null;return}c.flags&32768?($t||v===1?o=!0:au||(Dt&536870912)!==0?o=!1:(co=o=!0,(v===2||v===9||v===3||v===6)&&(v=fr.current,v!==null&&v.tag===13&&(v.flags|=16384))),c5(c,o)):kg(c)}function kg(o){var c=o;do{if((c.flags&32768)!==0){c5(c,co);return}o=c.return;var d=I9(c.alternate,c,_a);if(d!==null){Ot=d;return}if(c=c.sibling,c!==null){Ot=c;return}Ot=c=o}while(c!==null);xn===0&&(xn=5)}function c5(o,c){do{var d=D9(o.alternate,o);if(d!==null){d.flags&=32767,Ot=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(o=o.sibling,o!==null)){Ot=o;return}Ot=o=d}while(o!==null);xn=6,Ot=null}function u5(o,c,d,v,x,S,j,F,ee){o.cancelPendingCommit=null;do Cg();while(Fn!==0);if((Kt&6)!==0)throw Error(s(327));if(c!==null){if(c===o.current)throw Error(s(177));if(S=c.lanes|c.childLanes,S|=q_,b_(o,d,S,j,F,ee),o===tn&&(Ot=tn=null,Dt=0),lu=c,fo=o,xa=d,Q1=S,ex=x,QR=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,W9(Ve,function(){return m5(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=L.T,L.T=null,x=Y.p,Y.p=2,j=Kt,Kt|=4;try{P9(o,c,d)}finally{Kt=j,Y.p=x,L.T=v}}Fn=1,h5(),d5(),f5()}}function h5(){if(Fn===1){Fn=0;var o=fo,c=lu,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=L.T,L.T=null;var v=Y.p;Y.p=2;var x=Kt;Kt|=4;try{qR(c,o);var S=mx,j=JA(o.containerInfo),F=S.focusedElem,ee=S.selectionRange;if(j!==F&&F&&F.ownerDocument&&ZA(F.ownerDocument.documentElement,F)){if(ee!==null&&z_(F)){var ce=ee.start,ge=ee.end;if(ge===void 0&&(ge=ce),"selectionStart"in F)F.selectionStart=ce,F.selectionEnd=Math.min(ge,F.value.length);else{var be=F.ownerDocument||document,de=be&&be.defaultView||window;if(de.getSelection){var pe=de.getSelection(),Xe=F.textContent.length,ut=Math.min(ee.start,Xe),Qt=ee.end===void 0?ut:Math.min(ee.end,Xe);!pe.extend&&ut>Qt&&(j=Qt,Qt=ut,ut=j);var ie=YA(F,ut),ne=YA(F,Qt);if(ie&&ne&&(pe.rangeCount!==1||pe.anchorNode!==ie.node||pe.anchorOffset!==ie.offset||pe.focusNode!==ne.node||pe.focusOffset!==ne.offset)){var le=be.createRange();le.setStart(ie.node,ie.offset),pe.removeAllRanges(),ut>Qt?(pe.addRange(le),pe.extend(ne.node,ne.offset)):(le.setEnd(ne.node,ne.offset),pe.addRange(le))}}}}for(be=[],pe=F;pe=pe.parentNode;)pe.nodeType===1&&be.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<be.length;F++){var ye=be[F];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Lg=!!px,mx=px=null}finally{Kt=x,Y.p=v,L.T=d}}o.current=c,Fn=2}}function d5(){if(Fn===2){Fn=0;var o=fo,c=lu,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=L.T,L.T=null;var v=Y.p;Y.p=2;var x=Kt;Kt|=4;try{zR(o,c.alternate,c)}finally{Kt=x,Y.p=v,L.T=d}}Fn=3}}function f5(){if(Fn===4||Fn===3){Fn=0,Ie();var o=fo,c=lu,d=xa,v=QR;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Fn=5:(Fn=0,lu=fo=null,p5(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(ho=null),x_(d),c=c.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(oe,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=L.T,x=Y.p,Y.p=2,L.T=null;try{for(var S=o.onRecoverableError,j=0;j<v.length;j++){var F=v[j];S(F.value,{componentStack:F.stack})}}finally{L.T=c,Y.p=x}}(xa&3)!==0&&Cg(),ji(o),x=o.pendingLanes,(d&261930)!==0&&(x&42)!==0?o===tx?Nd++:(Nd=0,tx=o):Nd=0,Ed(0)}}function p5(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,od(c)))}function Cg(){return h5(),d5(),f5(),m5()}function m5(){if(Fn!==5)return!1;var o=fo,c=Q1;Q1=0;var d=x_(xa),v=L.T,x=Y.p;try{Y.p=32>d?32:d,L.T=null,d=ex,ex=null;var S=fo,j=xa;if(Fn=0,lu=fo=null,xa=0,(Kt&6)!==0)throw Error(s(331));var F=Kt;if(Kt|=4,ZR(S.current),WR(S,S.current,j,d),Kt=F,Ed(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(oe,S)}catch{}return!0}finally{Y.p=x,L.T=v,p5(o,c)}}function g5(o,c,d){c=zr(d,c),c=M1(o.stateNode,c,2),o=io(o,c,2),o!==null&&(al(o,2),ji(o))}function Yt(o,c,d){if(o.tag===3)g5(o,o,d);else for(;c!==null;){if(c.tag===3){g5(c,o,d);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ho===null||!ho.has(v))){o=zr(d,o),d=yR(2),v=io(c,d,2),v!==null&&(vR(d,v,c,o),al(v,2),ji(v));break}}c=c.return}}function rx(o,c,d){var v=o.pingCache;if(v===null){v=o.pingCache=new $9;var x=new Set;v.set(c,x)}else x=v.get(c),x===void 0&&(x=new Set,v.set(c,x));x.has(d)||(Z1=!0,x.add(d),o=V9.bind(null,o,c,d),c.then(o,o))}function V9(o,c,d){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,tn===o&&(Dt&d)===d&&(xn===4||xn===3&&(Dt&62914560)===Dt&&300>Ke()-bg?(Kt&2)===0&&cu(o,0):J1|=d,ou===Dt&&(ou=0)),ji(o)}function y5(o,c){c===0&&(c=Ks()),o=hl(o,c),o!==null&&(al(o,c),ji(o))}function q9(o){var c=o.memoizedState,d=0;c!==null&&(d=c.retryLane),y5(o,d)}function K9(o,c){var d=0;switch(o.tag){case 31:case 13:var v=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(s(314))}v!==null&&v.delete(c),y5(o,d)}function W9(o,c){return jt(o,c)}var Ng=null,hu=null,ix=!1,Eg=!1,ax=!1,mo=0;function ji(o){o!==hu&&o.next===null&&(hu===null?Ng=hu=o:hu=hu.next=o),Eg=!0,ix||(ix=!0,Y9())}function Ed(o,c){if(!ax&&Eg){ax=!0;do for(var d=!1,v=Ng;v!==null;){if(o!==0){var x=v.pendingLanes;if(x===0)var S=0;else{var j=v.suspendedLanes,F=v.pingedLanes;S=(1<<31-me(42|o)+1)-1,S&=x&~(j&~F),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,x5(v,S))}else S=Dt,S=kt(v,v===tn?S:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(S&3)===0||qt(v,S)||(d=!0,x5(v,S));v=v.next}while(d);ax=!1}}function G9(){v5()}function v5(){Eg=ix=!1;var o=0;mo!==0&&iF()&&(o=mo);for(var c=Ke(),d=null,v=Ng;v!==null;){var x=v.next,S=b5(v,c);S===0?(v.next=null,d===null?Ng=x:d.next=x,x===null&&(hu=d)):(d=v,(o!==0||(S&3)!==0)&&(Eg=!0)),v=x}Fn!==0&&Fn!==5||Ed(o),mo!==0&&(mo=0)}function b5(o,c){for(var d=o.suspendedLanes,v=o.pingedLanes,x=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var j=31-me(S),F=1<<j,ee=x[j];ee===-1?((F&d)===0||(F&v)!==0)&&(x[j]=mn(F,c)):ee<=c&&(o.expiredLanes|=F),S&=~F}if(c=tn,d=Dt,d=kt(o,o===c?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,d===0||o===c&&(Gt===2||Gt===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&De(v),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||qt(o,d)){if(c=d&-d,c===o.callbackPriority)return c;switch(v!==null&&De(v),x_(d)){case 2:case 8:d=ve;break;case 32:d=Ve;break;case 268435456:d=bt;break;default:d=Ve}return v=_5.bind(null,o),d=jt(d,v),o.callbackPriority=c,o.callbackNode=d,c}return v!==null&&v!==null&&De(v),o.callbackPriority=2,o.callbackNode=null,2}function _5(o,c){if(Fn!==0&&Fn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(Cg()&&o.callbackNode!==d)return null;var v=Dt;return v=kt(o,o===tn?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(t5(o,v,c),b5(o,Ke()),o.callbackNode!=null&&o.callbackNode===d?_5.bind(null,o):null)}function x5(o,c){if(Cg())return null;t5(o,c,!0)}function Y9(){oF(function(){(Kt&6)!==0?jt(ae,G9):v5()})}function ox(){if(mo===0){var o=Zc;o===0&&(o=Pe,Pe<<=1,(Pe&261888)===0&&(Pe=256)),mo=o}return mo}function S5(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Dm(""+o)}function w5(o,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,o.id&&d.setAttribute("form",o.id),c.parentNode.insertBefore(d,c),o=new FormData(o),d.parentNode.removeChild(d),o}function Z9(o,c,d,v,x){if(c==="submit"&&d&&d.stateNode===x){var S=S5((x[Ws]||null).action),j=v.submitter;j&&(c=(c=j[Ws]||null)?S5(c.formAction):j.getAttribute("formAction"),c!==null&&(S=c,j=null));var F=new $m("action","action",null,v,x);o.push({event:F,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(mo!==0){var ee=j?w5(x,j):new FormData(x);E1(d,{pending:!0,data:ee,method:x.method,action:S},null,ee)}}else typeof S=="function"&&(F.preventDefault(),ee=j?w5(x,j):new FormData(x),E1(d,{pending:!0,data:ee,method:x.method,action:S},S,ee))},currentTarget:x}]})}}for(var lx=0;lx<V_.length;lx++){var cx=V_[lx],J9=cx.toLowerCase(),X9=cx[0].toUpperCase()+cx.slice(1);hi(J9,"on"+X9)}hi(e4,"onAnimationEnd"),hi(t4,"onAnimationIteration"),hi(n4,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(p9,"onTransitionRun"),hi(m9,"onTransitionStart"),hi(g9,"onTransitionCancel"),hi(s4,"onTransitionEnd"),Pc("onMouseEnter",["mouseout","mouseover"]),Pc("onMouseLeave",["mouseout","mouseover"]),Pc("onPointerEnter",["pointerout","pointerover"]),Pc("onPointerLeave",["pointerout","pointerover"]),ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ol("onBeforeInput",["compositionend","keypress","textInput","paste"]),ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ad));function k5(o,c){c=(c&4)!==0;for(var d=0;d<o.length;d++){var v=o[d],x=v.event;v=v.listeners;e:{var S=void 0;if(c)for(var j=v.length-1;0<=j;j--){var F=v[j],ee=F.instance,ce=F.currentTarget;if(F=F.listener,ee!==S&&x.isPropagationStopped())break e;S=F,x.currentTarget=ce;try{S(x)}catch(ge){Um(ge)}x.currentTarget=null,S=ee}else for(j=0;j<v.length;j++){if(F=v[j],ee=F.instance,ce=F.currentTarget,F=F.listener,ee!==S&&x.isPropagationStopped())break e;S=F,x.currentTarget=ce;try{S(x)}catch(ge){Um(ge)}x.currentTarget=null,S=ee}}}}function Mt(o,c){var d=c[S_];d===void 0&&(d=c[S_]=new Set);var v=o+"__bubble";d.has(v)||(C5(c,o,2,!1),d.add(v))}function ux(o,c,d){var v=0;c&&(v|=4),C5(d,o,v,c)}var Ag="_reactListening"+Math.random().toString(36).slice(2);function hx(o){if(!o[Ag]){o[Ag]=!0,vA.forEach(function(d){d!=="selectionchange"&&(Q9.has(d)||ux(d,!1,o),ux(d,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Ag]||(c[Ag]=!0,ux("selectionchange",!1,c))}}function C5(o,c,d,v){switch(eT(c)){case 2:var x=EF;break;case 8:x=AF;break;default:x=Nx}d=x.bind(null,c,d,o),x=void 0,!j_||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),v?x!==void 0?o.addEventListener(c,d,{capture:!0,passive:x}):o.addEventListener(c,d,!0):x!==void 0?o.addEventListener(c,d,{passive:x}):o.addEventListener(c,d,!1)}function dx(o,c,d,v,x){var S=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var j=v.tag;if(j===3||j===4){var F=v.stateNode.containerInfo;if(F===x)break;if(j===4)for(j=v.return;j!==null;){var ee=j.tag;if((ee===3||ee===4)&&j.stateNode.containerInfo===x)return;j=j.return}for(;F!==null;){if(j=Mc(F),j===null)return;if(ee=j.tag,ee===5||ee===6||ee===26||ee===27){v=S=j;continue e}F=F.parentNode}}v=v.return}TA(function(){var ce=S,ge=R_(d),be=[];e:{var de=r4.get(o);if(de!==void 0){var pe=$m,Xe=o;switch(o){case"keypress":if(Lm(d)===0)break e;case"keydown":case"keyup":pe=K7;break;case"focusin":Xe="focus",pe=D_;break;case"focusout":Xe="blur",pe=D_;break;case"beforeblur":case"afterblur":pe=D_;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=MA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=I7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Y7;break;case e4:case t4:case n4:pe=L7;break;case s4:pe=J7;break;case"scroll":case"scrollend":pe=O7;break;case"wheel":pe=Q7;break;case"copy":case"cut":case"paste":pe=$7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=DA;break;case"toggle":case"beforetoggle":pe=t9}var ut=(c&4)!==0,Qt=!ut&&(o==="scroll"||o==="scrollend"),ie=ut?de!==null?de+"Capture":null:de;ut=[];for(var ne=ce,le;ne!==null;){var ye=ne;if(le=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||le===null||ie===null||(ye=Zh(ne,ie),ye!=null&&ut.push(Rd(ne,ye,le))),Qt)break;ne=ne.return}0<ut.length&&(de=new pe(de,Xe,null,d,ge),be.push({event:de,listeners:ut}))}}if((c&7)===0){e:{if(de=o==="mouseover"||o==="pointerover",pe=o==="mouseout"||o==="pointerout",de&&d!==A_&&(Xe=d.relatedTarget||d.fromElement)&&(Mc(Xe)||Xe[Oc]))break e;if((pe||de)&&(de=ge.window===ge?ge:(de=ge.ownerDocument)?de.defaultView||de.parentWindow:window,pe?(Xe=d.relatedTarget||d.toElement,pe=ce,Xe=Xe?Mc(Xe):null,Xe!==null&&(Qt=i(Xe),ut=Xe.tag,Xe!==Qt||ut!==5&&ut!==27&&ut!==6)&&(Xe=null)):(pe=null,Xe=ce),pe!==Xe)){if(ut=MA,ye="onMouseLeave",ie="onMouseEnter",ne="mouse",(o==="pointerout"||o==="pointerover")&&(ut=DA,ye="onPointerLeave",ie="onPointerEnter",ne="pointer"),Qt=pe==null?de:Yh(pe),le=Xe==null?de:Yh(Xe),de=new ut(ye,ne+"leave",pe,d,ge),de.target=Qt,de.relatedTarget=le,ye=null,Mc(ge)===ce&&(ut=new ut(ie,ne+"enter",Xe,d,ge),ut.target=le,ut.relatedTarget=Qt,ye=ut),Qt=ye,pe&&Xe)t:{for(ut=eF,ie=pe,ne=Xe,le=0,ye=ie;ye;ye=ut(ye))le++;ye=0;for(var rt=ne;rt;rt=ut(rt))ye++;for(;0<le-ye;)ie=ut(ie),le--;for(;0<ye-le;)ne=ut(ne),ye--;for(;le--;){if(ie===ne||ne!==null&&ie===ne.alternate){ut=ie;break t}ie=ut(ie),ne=ut(ne)}ut=null}else ut=null;pe!==null&&N5(be,de,pe,ut,!1),Xe!==null&&Qt!==null&&N5(be,Qt,Xe,ut,!0)}}e:{if(de=ce?Yh(ce):window,pe=de.nodeName&&de.nodeName.toLowerCase(),pe==="select"||pe==="input"&&de.type==="file")var Ut=HA;else if(FA(de))if(VA)Ut=h9;else{Ut=c9;var nt=l9}else pe=de.nodeName,!pe||pe.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&E_(ce.elementType)&&(Ut=HA):Ut=u9;if(Ut&&(Ut=Ut(o,ce))){UA(be,Ut,d,ge);break e}nt&&nt(o,de,ce),o==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&N_(de,"number",de.value)}switch(nt=ce?Yh(ce):window,o){case"focusin":(FA(nt)||nt.contentEditable==="true")&&(Uc=nt,F_=ce,rd=null);break;case"focusout":rd=F_=Uc=null;break;case"mousedown":U_=!0;break;case"contextmenu":case"mouseup":case"dragend":U_=!1,XA(be,d,ge);break;case"selectionchange":if(f9)break;case"keydown":case"keyup":XA(be,d,ge)}var Ct;if(L_)e:{switch(o){case"compositionstart":var Pt="onCompositionStart";break e;case"compositionend":Pt="onCompositionEnd";break e;case"compositionupdate":Pt="onCompositionUpdate";break e}Pt=void 0}else Fc?$A(o,d)&&(Pt="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Pt="onCompositionStart");Pt&&(PA&&d.locale!=="ko"&&(Fc||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Fc&&(Ct=jA()):(Xa=ge,O_="value"in Xa?Xa.value:Xa.textContent,Fc=!0)),nt=Rg(ce,Pt),0<nt.length&&(Pt=new IA(Pt,o,null,d,ge),be.push({event:Pt,listeners:nt}),Ct?Pt.data=Ct:(Ct=zA(d),Ct!==null&&(Pt.data=Ct)))),(Ct=s9?r9(o,d):i9(o,d))&&(Pt=Rg(ce,"onBeforeInput"),0<Pt.length&&(nt=new IA("onBeforeInput","beforeinput",null,d,ge),be.push({event:nt,listeners:Pt}),nt.data=Ct)),Z9(be,o,ce,d,ge)}k5(be,c)})}function Rd(o,c,d){return{instance:o,listener:c,currentTarget:d}}function Rg(o,c){for(var d=c+"Capture",v=[];o!==null;){var x=o,S=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||S===null||(x=Zh(o,d),x!=null&&v.unshift(Rd(o,x,S)),x=Zh(o,c),x!=null&&v.push(Rd(o,x,S))),o.tag===3)return v;o=o.return}return[]}function eF(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function N5(o,c,d,v,x){for(var S=c._reactName,j=[];d!==null&&d!==v;){var F=d,ee=F.alternate,ce=F.stateNode;if(F=F.tag,ee!==null&&ee===v)break;F!==5&&F!==26&&F!==27||ce===null||(ee=ce,x?(ce=Zh(d,S),ce!=null&&j.unshift(Rd(d,ce,ee))):x||(ce=Zh(d,S),ce!=null&&j.push(Rd(d,ce,ee)))),d=d.return}j.length!==0&&o.push({event:c,listeners:j})}var tF=/\r\n?/g,nF=/\u0000|\uFFFD/g;function E5(o){return(typeof o=="string"?o:""+o).replace(tF,`
`).replace(nF,"")}function A5(o,c){return c=E5(c),E5(o)===c}function Xt(o,c,d,v,x,S){switch(d){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Bc(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Bc(o,""+v);break;case"className":Mm(o,"class",v);break;case"tabIndex":Mm(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Mm(o,d,v);break;case"style":AA(o,v,S);break;case"data":if(c!=="object"){Mm(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||d!=="href")){o.removeAttribute(d);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(d);break}v=Dm(""+v),o.setAttribute(d,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(c!=="input"&&Xt(o,c,"name",x.name,x,null),Xt(o,c,"formEncType",x.formEncType,x,null),Xt(o,c,"formMethod",x.formMethod,x,null),Xt(o,c,"formTarget",x.formTarget,x,null)):(Xt(o,c,"encType",x.encType,x,null),Xt(o,c,"method",x.method,x,null),Xt(o,c,"target",x.target,x,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(d);break}v=Dm(""+v),o.setAttribute(d,v);break;case"onClick":v!=null&&(o.onclick=aa);break;case"onScroll":v!=null&&Mt("scroll",o);break;case"onScrollEnd":v!=null&&Mt("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(s(61));if(d=v.__html,d!=null){if(x.children!=null)throw Error(s(60));o.innerHTML=d}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}d=Dm(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(d,""+v):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":v===!0?o.setAttribute(d,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(d,v):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(d,v):o.removeAttribute(d);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(d):o.setAttribute(d,v);break;case"popover":Mt("beforetoggle",o),Mt("toggle",o),Om(o,"popover",v);break;case"xlinkActuate":ia(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":ia(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":ia(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":ia(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":ia(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":ia(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":ia(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":ia(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":ia(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Om(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=T7.get(d)||d,Om(o,d,v))}}function fx(o,c,d,v,x,S){switch(d){case"style":AA(o,v,S);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(s(61));if(d=v.__html,d!=null){if(x.children!=null)throw Error(s(60));o.innerHTML=d}}break;case"children":typeof v=="string"?Bc(o,v):(typeof v=="number"||typeof v=="bigint")&&Bc(o,""+v);break;case"onScroll":v!=null&&Mt("scroll",o);break;case"onScrollEnd":v!=null&&Mt("scrollend",o);break;case"onClick":v!=null&&(o.onclick=aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bA.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),c=d.slice(2,x?d.length-7:void 0),S=o[Ws]||null,S=S!=null?S[d]:null,typeof S=="function"&&o.removeEventListener(c,S,x),typeof v=="function")){typeof S!="function"&&S!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(c,v,x);break e}d in o?o[d]=v:v===!0?o.setAttribute(d,""):Om(o,d,v)}}}function us(o,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",o),Mt("load",o);var v=!1,x=!1,S;for(S in d)if(d.hasOwnProperty(S)){var j=d[S];if(j!=null)switch(S){case"src":v=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,c));default:Xt(o,c,S,j,d,null)}}x&&Xt(o,c,"srcSet",d.srcSet,d,null),v&&Xt(o,c,"src",d.src,d,null);return;case"input":Mt("invalid",o);var F=S=j=x=null,ee=null,ce=null;for(v in d)if(d.hasOwnProperty(v)){var ge=d[v];if(ge!=null)switch(v){case"name":x=ge;break;case"type":j=ge;break;case"checked":ee=ge;break;case"defaultChecked":ce=ge;break;case"value":S=ge;break;case"defaultValue":F=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,c));break;default:Xt(o,c,v,ge,d,null)}}kA(o,S,F,ee,ce,j,x,!1);return;case"select":Mt("invalid",o),v=j=S=null;for(x in d)if(d.hasOwnProperty(x)&&(F=d[x],F!=null))switch(x){case"value":S=F;break;case"defaultValue":j=F;break;case"multiple":v=F;default:Xt(o,c,x,F,d,null)}c=S,d=j,o.multiple=!!v,c!=null?Lc(o,!!v,c,!1):d!=null&&Lc(o,!!v,d,!0);return;case"textarea":Mt("invalid",o),S=x=v=null;for(j in d)if(d.hasOwnProperty(j)&&(F=d[j],F!=null))switch(j){case"value":v=F;break;case"defaultValue":x=F;break;case"children":S=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(91));break;default:Xt(o,c,j,F,d,null)}NA(o,v,x,S);return;case"option":for(ee in d)d.hasOwnProperty(ee)&&(v=d[ee],v!=null)&&(ee==="selected"?o.selected=v&&typeof v!="function"&&typeof v!="symbol":Xt(o,c,ee,v,d,null));return;case"dialog":Mt("beforetoggle",o),Mt("toggle",o),Mt("cancel",o),Mt("close",o);break;case"iframe":case"object":Mt("load",o);break;case"video":case"audio":for(v=0;v<Ad.length;v++)Mt(Ad[v],o);break;case"image":Mt("error",o),Mt("load",o);break;case"details":Mt("toggle",o);break;case"embed":case"source":case"link":Mt("error",o),Mt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in d)if(d.hasOwnProperty(ce)&&(v=d[ce],v!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,c));default:Xt(o,c,ce,v,d,null)}return;default:if(E_(c)){for(ge in d)d.hasOwnProperty(ge)&&(v=d[ge],v!==void 0&&fx(o,c,ge,v,d,void 0));return}}for(F in d)d.hasOwnProperty(F)&&(v=d[F],v!=null&&Xt(o,c,F,v,d,null))}function sF(o,c,d,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,S=null,j=null,F=null,ee=null,ce=null,ge=null;for(pe in d){var be=d[pe];if(d.hasOwnProperty(pe)&&be!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":ee=be;default:v.hasOwnProperty(pe)||Xt(o,c,pe,null,v,be)}}for(var de in v){var pe=v[de];if(be=d[de],v.hasOwnProperty(de)&&(pe!=null||be!=null))switch(de){case"type":S=pe;break;case"name":x=pe;break;case"checked":ce=pe;break;case"defaultChecked":ge=pe;break;case"value":j=pe;break;case"defaultValue":F=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,c));break;default:pe!==be&&Xt(o,c,de,pe,v,be)}}C_(o,j,F,ee,ce,ge,S,x);return;case"select":pe=j=F=de=null;for(S in d)if(ee=d[S],d.hasOwnProperty(S)&&ee!=null)switch(S){case"value":break;case"multiple":pe=ee;default:v.hasOwnProperty(S)||Xt(o,c,S,null,v,ee)}for(x in v)if(S=v[x],ee=d[x],v.hasOwnProperty(x)&&(S!=null||ee!=null))switch(x){case"value":de=S;break;case"defaultValue":F=S;break;case"multiple":j=S;default:S!==ee&&Xt(o,c,x,S,v,ee)}c=F,d=j,v=pe,de!=null?Lc(o,!!d,de,!1):!!v!=!!d&&(c!=null?Lc(o,!!d,c,!0):Lc(o,!!d,d?[]:"",!1));return;case"textarea":pe=de=null;for(F in d)if(x=d[F],d.hasOwnProperty(F)&&x!=null&&!v.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Xt(o,c,F,null,v,x)}for(j in v)if(x=v[j],S=d[j],v.hasOwnProperty(j)&&(x!=null||S!=null))switch(j){case"value":de=x;break;case"defaultValue":pe=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==S&&Xt(o,c,j,x,v,S)}CA(o,de,pe);return;case"option":for(var Xe in d)de=d[Xe],d.hasOwnProperty(Xe)&&de!=null&&!v.hasOwnProperty(Xe)&&(Xe==="selected"?o.selected=!1:Xt(o,c,Xe,null,v,de));for(ee in v)de=v[ee],pe=d[ee],v.hasOwnProperty(ee)&&de!==pe&&(de!=null||pe!=null)&&(ee==="selected"?o.selected=de&&typeof de!="function"&&typeof de!="symbol":Xt(o,c,ee,de,v,pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in d)de=d[ut],d.hasOwnProperty(ut)&&de!=null&&!v.hasOwnProperty(ut)&&Xt(o,c,ut,null,v,de);for(ce in v)if(de=v[ce],pe=d[ce],v.hasOwnProperty(ce)&&de!==pe&&(de!=null||pe!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,c));break;default:Xt(o,c,ce,de,v,pe)}return;default:if(E_(c)){for(var Qt in d)de=d[Qt],d.hasOwnProperty(Qt)&&de!==void 0&&!v.hasOwnProperty(Qt)&&fx(o,c,Qt,void 0,v,de);for(ge in v)de=v[ge],pe=d[ge],!v.hasOwnProperty(ge)||de===pe||de===void 0&&pe===void 0||fx(o,c,ge,de,v,pe);return}}for(var ie in d)de=d[ie],d.hasOwnProperty(ie)&&de!=null&&!v.hasOwnProperty(ie)&&Xt(o,c,ie,null,v,de);for(be in v)de=v[be],pe=d[be],!v.hasOwnProperty(be)||de===pe||de==null&&pe==null||Xt(o,c,be,de,v,pe)}function R5(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rF(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,d=performance.getEntriesByType("resource"),v=0;v<d.length;v++){var x=d[v],S=x.transferSize,j=x.initiatorType,F=x.duration;if(S&&F&&R5(j)){for(j=0,F=x.responseEnd,v+=1;v<d.length;v++){var ee=d[v],ce=ee.startTime;if(ce>F)break;var ge=ee.transferSize,be=ee.initiatorType;ge&&R5(be)&&(ee=ee.responseEnd,j+=ge*(ee<F?1:(F-ce)/(ee-ce)))}if(--v,c+=8*(S+j)/(x.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var px=null,mx=null;function Tg(o){return o.nodeType===9?o:o.ownerDocument}function T5(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j5(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function gx(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var yx=null;function iF(){var o=window.event;return o&&o.type==="popstate"?o===yx?!1:(yx=o,!0):(yx=null,!1)}var O5=typeof setTimeout=="function"?setTimeout:void 0,aF=typeof clearTimeout=="function"?clearTimeout:void 0,M5=typeof Promise=="function"?Promise:void 0,oF=typeof queueMicrotask=="function"?queueMicrotask:typeof M5<"u"?function(o){return M5.resolve(null).then(o).catch(lF)}:O5;function lF(o){setTimeout(function(){throw o})}function go(o){return o==="head"}function I5(o,c){var d=c,v=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(v===0){o.removeChild(x),mu(c);return}v--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")v++;else if(d==="html")Td(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Td(d);for(var S=d.firstChild;S;){var j=S.nextSibling,F=S.nodeName;S[Gh]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=j}}else d==="body"&&Td(o.ownerDocument.body);d=x}while(d);mu(c)}function D5(o,c){var d=o;o=0;do{var v=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=v}while(d)}function vx(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":vx(d),w_(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function cF(o,c,d,v){for(;o.nodeType===1;){var x=d;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[Gh])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var S=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=qr(o.nextSibling),o===null)break}return null}function uF(o,c,d){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=qr(o.nextSibling),o===null))return null;return o}function P5(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=qr(o.nextSibling),o===null))return null;return o}function bx(o){return o.data==="$?"||o.data==="$~"}function _x(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function hF(o,c){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||d.readyState!=="loading")c();else{var v=function(){c(),d.removeEventListener("DOMContentLoaded",v)};d.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function qr(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var xx=null;function L5(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(c===0)return qr(o.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}o=o.nextSibling}return null}function B5(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return o;c--}else d!=="/$"&&d!=="/&"||c++}o=o.previousSibling}return null}function $5(o,c,d){switch(c=Tg(d),o){case"html":if(o=c.documentElement,!o)throw Error(s(452));return o;case"head":if(o=c.head,!o)throw Error(s(453));return o;case"body":if(o=c.body,!o)throw Error(s(454));return o;default:throw Error(s(451))}}function Td(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);w_(o)}var Kr=new Map,z5=new Set;function jg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Sa=Y.d;Y.d={f:dF,r:fF,D:pF,C:mF,L:gF,m:yF,X:bF,S:vF,M:_F};function dF(){var o=Sa.f(),c=Sg();return o||c}function fF(o){var c=Ic(o);c!==null&&c.tag===5&&c.type==="form"?sR(c):Sa.r(o)}var du=typeof document>"u"?null:document;function F5(o,c,d){var v=du;if(v&&typeof c=="string"&&c){var x=Br(c);x='link[rel="'+o+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),z5.has(x)||(z5.add(x),o={rel:o,crossOrigin:d,href:c},v.querySelector(x)===null&&(c=v.createElement("link"),us(c,"link",o),Xn(c),v.head.appendChild(c)))}}function pF(o){Sa.D(o),F5("dns-prefetch",o,null)}function mF(o,c){Sa.C(o,c),F5("preconnect",o,c)}function gF(o,c,d){Sa.L(o,c,d);var v=du;if(v&&o&&c){var x='link[rel="preload"][as="'+Br(c)+'"]';c==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Br(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Br(d.imageSizes)+'"]')):x+='[href="'+Br(o)+'"]';var S=x;switch(c){case"style":S=fu(o);break;case"script":S=pu(o)}Kr.has(S)||(o=f({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:o,as:c},d),Kr.set(S,o),v.querySelector(x)!==null||c==="style"&&v.querySelector(jd(S))||c==="script"&&v.querySelector(Od(S))||(c=v.createElement("link"),us(c,"link",o),Xn(c),v.head.appendChild(c)))}}function yF(o,c){Sa.m(o,c);var d=du;if(d&&o){var v=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+Br(v)+'"][href="'+Br(o)+'"]',S=x;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=pu(o)}if(!Kr.has(S)&&(o=f({rel:"modulepreload",href:o},c),Kr.set(S,o),d.querySelector(x)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Od(S)))return}v=d.createElement("link"),us(v,"link",o),Xn(v),d.head.appendChild(v)}}}function vF(o,c,d){Sa.S(o,c,d);var v=du;if(v&&o){var x=Dc(v).hoistableStyles,S=fu(o);c=c||"default";var j=x.get(S);if(!j){var F={loading:0,preload:null};if(j=v.querySelector(jd(S)))F.loading=5;else{o=f({rel:"stylesheet",href:o,"data-precedence":c},d),(d=Kr.get(S))&&Sx(o,d);var ee=j=v.createElement("link");Xn(ee),us(ee,"link",o),ee._p=new Promise(function(ce,ge){ee.onload=ce,ee.onerror=ge}),ee.addEventListener("load",function(){F.loading|=1}),ee.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Og(j,c,v)}j={type:"stylesheet",instance:j,count:1,state:F},x.set(S,j)}}}function bF(o,c){Sa.X(o,c);var d=du;if(d&&o){var v=Dc(d).hoistableScripts,x=pu(o),S=v.get(x);S||(S=d.querySelector(Od(x)),S||(o=f({src:o,async:!0},c),(c=Kr.get(x))&&wx(o,c),S=d.createElement("script"),Xn(S),us(S,"link",o),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},v.set(x,S))}}function _F(o,c){Sa.M(o,c);var d=du;if(d&&o){var v=Dc(d).hoistableScripts,x=pu(o),S=v.get(x);S||(S=d.querySelector(Od(x)),S||(o=f({src:o,async:!0,type:"module"},c),(c=Kr.get(x))&&wx(o,c),S=d.createElement("script"),Xn(S),us(S,"link",o),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},v.set(x,S))}}function U5(o,c,d,v){var x=(x=J.current)?jg(x):null;if(!x)throw Error(s(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=fu(d.href),d=Dc(x).hoistableStyles,v=d.get(c),v||(v={type:"style",instance:null,count:0,state:null},d.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=fu(d.href);var S=Dc(x).hoistableStyles,j=S.get(o);if(j||(x=x.ownerDocument||x,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,j),(S=x.querySelector(jd(o)))&&!S._p&&(j.instance=S,j.state.loading=5),Kr.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Kr.set(o,d),S||xF(x,o,d,j.state))),c&&v===null)throw Error(s(528,""));return j}if(c&&v!==null)throw Error(s(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=pu(d),d=Dc(x).hoistableScripts,v=d.get(c),v||(v={type:"script",instance:null,count:0,state:null},d.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,o))}}function fu(o){return'href="'+Br(o)+'"'}function jd(o){return'link[rel="stylesheet"]['+o+"]"}function H5(o){return f({},o,{"data-precedence":o.precedence,precedence:null})}function xF(o,c,d,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),us(c,"link",d),Xn(c),o.head.appendChild(c))}function pu(o){return'[src="'+Br(o)+'"]'}function Od(o){return"script[async]"+o}function V5(o,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+Br(d.href)+'"]');if(v)return c.instance=v,Xn(v),v;var x=f({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),Xn(v),us(v,"style",x),Og(v,d.precedence,o),c.instance=v;case"stylesheet":x=fu(d.href);var S=o.querySelector(jd(x));if(S)return c.state.loading|=4,c.instance=S,Xn(S),S;v=H5(d),(x=Kr.get(x))&&Sx(v,x),S=(o.ownerDocument||o).createElement("link"),Xn(S);var j=S;return j._p=new Promise(function(F,ee){j.onload=F,j.onerror=ee}),us(S,"link",v),c.state.loading|=4,Og(S,d.precedence,o),c.instance=S;case"script":return S=pu(d.src),(x=o.querySelector(Od(S)))?(c.instance=x,Xn(x),x):(v=d,(x=Kr.get(S))&&(v=f({},d),wx(v,x)),o=o.ownerDocument||o,x=o.createElement("script"),Xn(x),us(x,"link",v),o.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(s(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,Og(v,d.precedence,o));return c.instance}function Og(o,c,d){for(var v=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=v.length?v[v.length-1]:null,S=x,j=0;j<v.length;j++){var F=v[j];if(F.dataset.precedence===c)S=F;else if(S!==x)break}S?S.parentNode.insertBefore(o,S.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(o,c.firstChild))}function Sx(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function wx(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Mg=null;function q5(o,c,d){if(Mg===null){var v=new Map,x=Mg=new Map;x.set(d,v)}else x=Mg,v=x.get(d),v||(v=new Map,x.set(d,v));if(v.has(o))return v;for(v.set(o,null),d=d.getElementsByTagName(o),x=0;x<d.length;x++){var S=d[x];if(!(S[Gh]||S[as]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var j=S.getAttribute(c)||"";j=o+j;var F=v.get(j);F?F.push(S):v.set(j,[S])}}return v}function K5(o,c,d){o=o.ownerDocument||o,o.head.insertBefore(d,c==="title"?o.querySelector("head > title"):null)}function SF(o,c,d){if(d===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(o=c.disabled,typeof c.precedence=="string"&&o==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function W5(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function wF(o,c,d,v){if(d.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=fu(v.href),S=c.querySelector(jd(x));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=Ig.bind(o),c.then(o,o)),d.state.loading|=4,d.instance=S,Xn(S);return}S=c.ownerDocument||c,v=H5(v),(x=Kr.get(x))&&Sx(v,x),S=S.createElement("link"),Xn(S);var j=S;j._p=new Promise(function(F,ee){j.onload=F,j.onerror=ee}),us(S,"link",v),d.instance=S}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=Ig.bind(o),c.addEventListener("load",d),c.addEventListener("error",d))}}var kx=0;function kF(o,c){return o.stylesheets&&o.count===0&&Pg(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var v=setTimeout(function(){if(o.stylesheets&&Pg(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4+c);0<o.imgBytes&&kx===0&&(kx=62500*rF());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Pg(o,o.stylesheets),o.unsuspend)){var S=o.unsuspend;o.unsuspend=null,S()}},(o.imgBytes>kx?50:800)+c);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(x)}}:null}function Ig(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Dg=null;function Pg(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Dg=new Map,c.forEach(CF,o),Dg=null,Ig.call(o))}function CF(o,c){if(!(c.state.loading&4)){var d=Dg.get(o);if(d)var v=d.get(null);else{d=new Map,Dg.set(o,d);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<x.length;S++){var j=x[S];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(d.set(j.dataset.precedence,j),v=j)}v&&d.set(null,v)}x=c.instance,j=x.getAttribute("data-precedence"),S=d.get(j)||v,S===v&&d.set(null,x),d.set(j,x),this.count++,v=Ig.bind(this),x.addEventListener("load",v),x.addEventListener("error",v),S?S.parentNode.insertBefore(x,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),c.state.loading|=4}}var Md={$$typeof:E,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function NF(o,c,d,v,x,S,j,F,ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.hiddenUpdates=jc(null),this.identifierPrefix=v,this.onUncaughtError=x,this.onCaughtError=S,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function G5(o,c,d,v,x,S,j,F,ee,ce,ge,be){return o=new NF(o,c,d,j,ee,ce,ge,be,F),c=1,S===!0&&(c|=24),S=dr(3,null,null,c),o.current=S,S.stateNode=o,c=s1(),c.refCount++,o.pooledCache=c,c.refCount++,S.memoizedState={element:v,isDehydrated:d,cache:c},o1(S),o}function Y5(o){return o?(o=qc,o):qc}function Z5(o,c,d,v,x,S){x=Y5(x),v.context===null?v.context=x:v.pendingContext=x,v=ro(c),v.payload={element:d},S=S===void 0?null:S,S!==null&&(v.callback=S),d=io(o,v,c),d!==null&&(Qs(d,o,c),hd(d,o,c))}function J5(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<c?d:c}}function Cx(o,c){J5(o,c),(o=o.alternate)&&J5(o,c)}function X5(o){if(o.tag===13||o.tag===31){var c=hl(o,67108864);c!==null&&Qs(c,o,67108864),Cx(o,67108864)}}function Q5(o){if(o.tag===13||o.tag===31){var c=yr();c=__(c);var d=hl(o,c);d!==null&&Qs(d,o,c),Cx(o,c)}}var Lg=!0;function EF(o,c,d,v){var x=L.T;L.T=null;var S=Y.p;try{Y.p=2,Nx(o,c,d,v)}finally{Y.p=S,L.T=x}}function AF(o,c,d,v){var x=L.T;L.T=null;var S=Y.p;try{Y.p=8,Nx(o,c,d,v)}finally{Y.p=S,L.T=x}}function Nx(o,c,d,v){if(Lg){var x=Ex(v);if(x===null)dx(o,c,v,Bg,d),tT(o,v);else if(TF(x,o,c,d,v))v.stopPropagation();else if(tT(o,v),c&4&&-1<RF.indexOf(o)){for(;x!==null;){var S=Ic(x);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var j=Ze(S.pendingLanes);if(j!==0){var F=S;for(F.pendingLanes|=2,F.entangledLanes|=2;j;){var ee=1<<31-me(j);F.entanglements[1]|=ee,j&=~ee}ji(S),(Kt&6)===0&&(_g=Ke()+500,Ed(0))}}break;case 31:case 13:F=hl(S,2),F!==null&&Qs(F,S,2),Sg(),Cx(S,2)}if(S=Ex(v),S===null&&dx(o,c,v,Bg,d),S===x)break;x=S}x!==null&&v.stopPropagation()}else dx(o,c,v,null,d)}}function Ex(o){return o=R_(o),Ax(o)}var Bg=null;function Ax(o){if(Bg=null,o=Mc(o),o!==null){var c=i(o);if(c===null)o=null;else{var d=c.tag;if(d===13){if(o=a(c),o!==null)return o;o=null}else if(d===31){if(o=l(c),o!==null)return o;o=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Bg=o,null}function eT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case ae:return 2;case ve:return 8;case Ve:case ot:return 32;case bt:return 268435456;default:return 32}default:return 32}}var Rx=!1,yo=null,vo=null,bo=null,Id=new Map,Dd=new Map,_o=[],RF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tT(o,c){switch(o){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":Id.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dd.delete(c.pointerId)}}function Pd(o,c,d,v,x,S){return o===null||o.nativeEvent!==S?(o={blockedOn:c,domEventName:d,eventSystemFlags:v,nativeEvent:S,targetContainers:[x]},c!==null&&(c=Ic(c),c!==null&&X5(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),o)}function TF(o,c,d,v,x){switch(c){case"focusin":return yo=Pd(yo,o,c,d,v,x),!0;case"dragenter":return vo=Pd(vo,o,c,d,v,x),!0;case"mouseover":return bo=Pd(bo,o,c,d,v,x),!0;case"pointerover":var S=x.pointerId;return Id.set(S,Pd(Id.get(S)||null,o,c,d,v,x)),!0;case"gotpointercapture":return S=x.pointerId,Dd.set(S,Pd(Dd.get(S)||null,o,c,d,v,x)),!0}return!1}function nT(o){var c=Mc(o.target);if(c!==null){var d=i(c);if(d!==null){if(c=d.tag,c===13){if(c=a(d),c!==null){o.blockedOn=c,gA(o.priority,function(){Q5(d)});return}}else if(c===31){if(c=l(d),c!==null){o.blockedOn=c,gA(o.priority,function(){Q5(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function $g(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var d=Ex(o.nativeEvent);if(d===null){d=o.nativeEvent;var v=new d.constructor(d.type,d);A_=v,d.target.dispatchEvent(v),A_=null}else return c=Ic(d),c!==null&&X5(c),o.blockedOn=d,!1;c.shift()}return!0}function sT(o,c,d){$g(o)&&d.delete(c)}function jF(){Rx=!1,yo!==null&&$g(yo)&&(yo=null),vo!==null&&$g(vo)&&(vo=null),bo!==null&&$g(bo)&&(bo=null),Id.forEach(sT),Dd.forEach(sT)}function zg(o,c){o.blockedOn===c&&(o.blockedOn=null,Rx||(Rx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jF)))}var Fg=null;function rT(o){Fg!==o&&(Fg=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fg===o&&(Fg=null);for(var c=0;c<o.length;c+=3){var d=o[c],v=o[c+1],x=o[c+2];if(typeof v!="function"){if(Ax(v||d)===null)continue;break}var S=Ic(d);S!==null&&(o.splice(c,3),c-=3,E1(S,{pending:!0,data:x,method:d.method,action:v},v,x))}}))}function mu(o){function c(ee){return zg(ee,o)}yo!==null&&zg(yo,o),vo!==null&&zg(vo,o),bo!==null&&zg(bo,o),Id.forEach(c),Dd.forEach(c);for(var d=0;d<_o.length;d++){var v=_o[d];v.blockedOn===o&&(v.blockedOn=null)}for(;0<_o.length&&(d=_o[0],d.blockedOn===null);)nT(d),d.blockedOn===null&&_o.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(v=0;v<d.length;v+=3){var x=d[v],S=d[v+1],j=x[Ws]||null;if(typeof S=="function")j||rT(d);else if(j){var F=null;if(S&&S.hasAttribute("formAction")){if(x=S,j=S[Ws]||null)F=j.formAction;else if(Ax(x)!==null)continue}else F=j.action;typeof F=="function"?d[v+1]=F:(d.splice(v,3),v-=3),rT(d)}}}function iT(){function o(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(j){return x=j})},focusReset:"manual",scroll:"manual"})}function c(){x!==null&&(x(),x=null),v||setTimeout(d,20)}function d(){if(!v&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),x!==null&&(x(),x=null)}}}function Tx(o){this._internalRoot=o}Ug.prototype.render=Tx.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(s(409));var d=c.current,v=yr();Z5(d,v,o,c,null,null)},Ug.prototype.unmount=Tx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Z5(o.current,2,null,o,null,null),Sg(),c[Oc]=null}};function Ug(o){this._internalRoot=o}Ug.prototype.unstable_scheduleHydration=function(o){if(o){var c=mA();o={blockedOn:null,target:o,priority:c};for(var d=0;d<_o.length&&c!==0&&c<_o[d].priority;d++);_o.splice(d,0,o),d===0&&nT(o)}};var aT=e.version;if(aT!=="19.2.3")throw Error(s(527,aT,"19.2.3"));Y.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return o=h(c),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var OF={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hg.isDisabled&&Hg.supportsFiber)try{oe=Hg.inject(OF),fe=Hg}catch{}}return Bd.createRoot=function(o,c){if(!r(o))throw Error(s(299));var d=!1,v="",x=fR,S=pR,j=mR;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(j=c.onRecoverableError)),c=G5(o,1,!1,null,null,d,v,null,x,S,j,iT),o[Oc]=c.current,hx(o),new Tx(c)},Bd.hydrateRoot=function(o,c,d){if(!r(o))throw Error(s(299));var v=!1,x="",S=fR,j=pR,F=mR,ee=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(j=d.onCaughtError),d.onRecoverableError!==void 0&&(F=d.onRecoverableError),d.formState!==void 0&&(ee=d.formState)),c=G5(o,1,!0,c,d??null,v,x,ee,S,j,F,iT),c.context=Y5(null),d=c.current,v=yr(),v=__(v),x=ro(v),x.callback=null,io(d,x,v),d=v,c.current.lanes=d,al(c,d),ji(c),o[Oc]=c.current,hx(o),new Ug(c)},Bd.version="19.2.3",Bd}var yT;function FF(){if(yT)return Mx.exports;yT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mx.exports=zF(),Mx.exports}var UF=FF();const kw=new WeakMap,HF=new WeakMap,cy={current:[]};let Lx=!1,Kf=0;const lf=new Set,Vg=new Map;function cD(t){for(const e of t){if(cy.current.includes(e))continue;cy.current.push(e),e.recompute();const n=HF.get(e);if(n)for(const s of n){const r=kw.get(s);r?.length&&cD(r)}}}function VF(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function qF(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function uD(t){if(Kf>0&&!Vg.has(t)&&Vg.set(t,t.prevState),lf.add(t),!(Kf>0)&&!Lx)try{for(Lx=!0;lf.size>0;){const e=Array.from(lf);lf.clear();for(const n of e){const s=Vg.get(n)??n.prevState;n.prevState=s,VF(n)}for(const n of e){const s=kw.get(n);s&&(cy.current.push(n),cD(s))}for(const n of e){const s=kw.get(n);if(s)for(const r of s)qF(r)}}}finally{Lx=!1,cy.current=[],Vg.clear()}}function Wf(t){Kf++;try{t()}finally{if(Kf--,Kf===0){const e=lf.values().next().value;e&&uD(e)}}}function KF(t){return typeof t=="function"}class WF{constructor(e,n){this.listeners=new Set,this.subscribe=s=>{var r,i;this.listeners.add(s);const a=(i=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:i.call(r,s,this);return()=>{this.listeners.delete(s),a?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,s,r;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):KF(e)?this.state=e(this.prevState):this.state=e,(r=(s=this.options)==null?void 0:s.onUpdate)==null||r.call(s),uD(this)}}const $o="__TSR_index",vT="popstate",bT="beforeunload";function GF(t){let e=t.getLocation();const n=new Set,s=a=>{e=t.getLocation(),n.forEach(l=>l({location:e,action:a}))},r=a=>{t.notifyOnIndexChange??!0?s(a):e=t.getLocation()},i=async({task:a,navigateOpts:l,...u})=>{if(l?.ignoreBlocker??!1){a();return}const m=t.getBlockers?.()??[],f=u.type==="PUSH"||u.type==="REPLACE";if(typeof document<"u"&&m.length&&f)for(const g of m){const y=uy(u.path,u.state);if(await g.blockerFn({currentLocation:e,nextLocation:y,action:u.type})){t.onBlocked?.();return}}a()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:a=>(n.add(a),()=>{n.delete(a)}),push:(a,l,u)=>{const h=e.state[$o];l=_T(h+1,l),i({task:()=>{t.pushState(a,l),s({type:"PUSH"})},navigateOpts:u,type:"PUSH",path:a,state:l})},replace:(a,l,u)=>{const h=e.state[$o];l=_T(h,l),i({task:()=>{t.replaceState(a,l),s({type:"REPLACE"})},navigateOpts:u,type:"REPLACE",path:a,state:l})},go:(a,l)=>{i({task:()=>{t.go(a),r({type:"GO",index:a})},navigateOpts:l,type:"GO"})},back:a=>{i({task:()=>{t.back(a?.ignoreBlocker??!1),r({type:"BACK"})},navigateOpts:a,type:"BACK"})},forward:a=>{i({task:()=>{t.forward(a?.ignoreBlocker??!1),r({type:"FORWARD"})},navigateOpts:a,type:"FORWARD"})},canGoBack:()=>e.state[$o]!==0,createHref:a=>t.createHref(a),block:a=>{if(!t.setBlockers)return()=>{};const l=t.getBlockers?.()??[];return t.setBlockers([...l,a]),()=>{const u=t.getBlockers?.()??[];t.setBlockers?.(u.filter(h=>h!==a))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:s}}function _T(t,e){e||(e={});const n=NC();return{...e,key:n,__TSR_key:n,[$o]:t}}function YF(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,s=e.history.replaceState;let r=[];const i=()=>r,a=I=>r=I,l=(I=>I),u=(()=>uy(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const I=NC();e.history.replaceState({[$o]:0,key:I,__TSR_key:I},"")}let h=u(),m,f=!1,g=!1,y=!1,b=!1;const _=()=>h;let w,k;const C=()=>{w&&(M._ignoreSubscribers=!0,(w.isPush?e.history.pushState:e.history.replaceState)(w.state,"",w.href),M._ignoreSubscribers=!1,w=void 0,k=void 0,m=void 0)},E=(I,q,B)=>{const K=l(q);k||(m=h),h=uy(q,B),w={href:K,state:B,isPush:w?.isPush||I==="push"},k||(k=Promise.resolve().then(()=>C()))},A=I=>{h=u(),M.notify({type:I})},R=async()=>{if(g){g=!1;return}const I=u(),q=I.state[$o]-h.state[$o],B=q===1,K=q===-1,$=!B&&!K||f;f=!1;const W=$?"GO":K?"BACK":"FORWARD",Z=$?{type:"GO",index:q}:{type:K?"BACK":"FORWARD"};if(y)y=!1;else{const G=i();if(typeof document<"u"&&G.length){for(const L of G)if(await L.blockerFn({currentLocation:h,nextLocation:I,action:W})){g=!0,e.history.go(1),M.notify(Z);return}}}h=u(),M.notify(Z)},N=I=>{if(b){b=!1;return}let q=!1;const B=i();if(typeof document<"u"&&B.length)for(const K of B){const $=K.enableBeforeUnload??!0;if($===!0){q=!0;break}if(typeof $=="function"&&$()===!0){q=!0;break}}if(q)return I.preventDefault(),I.returnValue=""},M=GF({getLocation:_,getLength:()=>e.history.length,pushState:(I,q)=>E("push",I,q),replaceState:(I,q)=>E("replace",I,q),back:I=>(I&&(y=!0),b=!0,e.history.back()),forward:I=>{I&&(y=!0),b=!0,e.history.forward()},go:I=>{f=!0,e.history.go(I)},createHref:I=>l(I),flush:C,destroy:()=>{e.history.pushState=n,e.history.replaceState=s,e.removeEventListener(bT,N,{capture:!0}),e.removeEventListener(vT,R)},onBlocked:()=>{m&&h!==m&&(h=m)},getBlockers:i,setBlockers:a,notifyOnIndexChange:!1});return e.addEventListener(bT,N,{capture:!0}),e.addEventListener(vT,R),e.history.pushState=function(...I){const q=n.apply(e.history,I);return M._ignoreSubscribers||A("PUSH"),q},e.history.replaceState=function(...I){const q=s.apply(e.history,I);return M._ignoreSubscribers||A("REPLACE"),q},M}function uy(t,e){const n=t.indexOf("#"),s=t.indexOf("?"),r=NC();return{href:t,pathname:t.substring(0,n>0?s>0?Math.min(n,s):n:s>0?s:t.length),hash:n>-1?t.substring(n):"",search:s>-1?t.slice(s,n===-1?void 0:n):"",state:e||{[$o]:0,key:r,__TSR_key:r}}}function NC(){return(Math.random()+1).toString(36).substring(7)}function hy(t){return t[t.length-1]}function ZF(t){return typeof t=="function"}function jo(t,e){return ZF(t)?t(e):t}const JF=Object.prototype.hasOwnProperty;function Yr(t,e){if(t===e)return t;const n=e,s=wT(t)&&wT(n);if(!s&&!(dy(t)&&dy(n)))return n;const r=s?t:xT(t);if(!r)return n;const i=s?n:xT(n);if(!i)return n;const a=r.length,l=i.length,u=s?new Array(l):{};let h=0;for(let m=0;m<l;m++){const f=s?m:i[m],g=t[f],y=n[f];if(g===y){u[f]=g,(s?m<a:JF.call(t,f))&&h++;continue}if(g===null||y===null||typeof g!="object"||typeof y!="object"){u[f]=y;continue}const b=Yr(g,y);u[f]=b,b===g&&h++}return a===l&&h===a?t:u}function xT(t){const e=[],n=Object.getOwnPropertyNames(t);for(const r of n){if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;e.push(r)}const s=Object.getOwnPropertySymbols(t);for(const r of s){if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;e.push(r)}return e}function dy(t){if(!ST(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!ST(n)||!n.hasOwnProperty("isPrototypeOf"))}function ST(t){return Object.prototype.toString.call(t)==="[object Object]"}function wT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hl(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let s=0,r=t.length;s<r;s++)if(!Hl(t[s],e[s],n))return!1;return!0}if(dy(t)&&dy(e)){const s=n?.ignoreUndefined??!0;if(n?.partial){for(const a in e)if((!s||e[a]!==void 0)&&!Hl(t[a],e[a],n))return!1;return!0}let r=0;if(!s)r=Object.keys(t).length;else for(const a in t)t[a]!==void 0&&r++;let i=0;for(const a in e)if((!s||e[a]!==void 0)&&(i++,i>r||!Hl(t[a],e[a],n)))return!1;return r===i}return!1}function eh(t){let e,n;const s=new Promise((r,i)=>{e=r,n=i});return s.status="pending",s.resolve=r=>{s.status="resolved",s.value=r,e(r),t?.(r)},s.reject=r=>{s.status="rejected",n(r)},s}function zo(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function kT(t){try{return decodeURI(t)}catch{return t.replaceAll(/%[0-9A-F]{2}/gi,e=>{try{return decodeURI(e)}catch{return e}})}}function CT(t,e){if(!t)return t;const n=/%25|%5C/gi;let s=0,r="",i;for(;(i=n.exec(t))!==null;)r+=kT(t.slice(s,i.index))+i[0],s=n.lastIndex;return r+kT(s?t.slice(s):t)}var XF="Invariant failed";function Da(t,e){if(!t)throw new Error(XF)}function fy(t){const e=new Map;let n,s;const r=i=>{i.next&&(i.prev?(i.prev.next=i.next,i.next.prev=i.prev,i.next=void 0,s&&(s.next=i,i.prev=s)):(i.next.prev=void 0,n=i.next,i.next=void 0,s&&(i.prev=s,s.next=i)),s=i)};return{get(i){const a=e.get(i);if(a)return r(a),a.value},set(i,a){if(e.size>=t&&n){const u=n;e.delete(u.key),u.next&&(n=u.next,u.next.prev=void 0),u===s&&(s=void 0)}const l=e.get(i);if(l)l.value=a,r(l);else{const u={key:i,value:a,prev:s};s&&(s.next=u),s=u,n||(n=u),e.set(i,u)}},clear(){e.clear(),n=void 0,s=void 0}}}const th=0,Xl=1,Ql=2,vp=3,Du=4,QF=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,eU=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,tU=/^([^{]*)\{\$\}([^}]*)$/;function EC(t,e,n=new Uint16Array(6)){const s=t.indexOf("/",e),r=s===-1?t.length:s,i=t.substring(e,r);if(!i||!i.includes("$"))return n[0]=th,n[1]=e,n[2]=e,n[3]=r,n[4]=r,n[5]=r,n;if(i==="$"){const h=t.length;return n[0]=Ql,n[1]=e,n[2]=e,n[3]=h,n[4]=h,n[5]=h,n}if(i.charCodeAt(0)===36)return n[0]=Xl,n[1]=e,n[2]=e+1,n[3]=r,n[4]=r,n[5]=r,n;const a=i.match(tU);if(a){const m=a[1].length;return n[0]=Ql,n[1]=e+m,n[2]=e+m+1,n[3]=e+m+2,n[4]=e+m+3,n[5]=t.length,n}const l=i.match(eU);if(l){const h=l[1],m=l[2],f=l[3],g=h.length;return n[0]=vp,n[1]=e+g,n[2]=e+g+3,n[3]=e+g+3+m.length,n[4]=r-f.length,n[5]=r,n}const u=i.match(QF);if(u){const h=u[1],m=u[2],f=u[3],g=h.length;return n[0]=Xl,n[1]=e+g,n[2]=e+g+2,n[3]=e+g+2+m.length,n[4]=r-f.length,n[5]=r,n}return n[0]=th,n[1]=e,n[2]=e,n[3]=r,n[4]=r,n[5]=r,n}function Iv(t,e,n,s,r,i,a){a?.(n);let l=s;{const u=n.fullPath??n.from,h=u.length,m=n.options?.caseSensitive??t;for(;l<h;){const g=EC(u,l,e);let y;const b=l,_=g[5];switch(l=_+1,i++,g[0]){case th:{const k=u.substring(g[2],g[3]);if(m){const C=r.static?.get(k);if(C)y=C;else{r.static??=new Map;const E=qu(n.fullPath??n.from);E.parent=r,E.depth=i,y=E,r.static.set(k,E)}}else{const C=k.toLowerCase(),E=r.staticInsensitive?.get(C);if(E)y=E;else{r.staticInsensitive??=new Map;const A=qu(n.fullPath??n.from);A.parent=r,A.depth=i,y=A,r.staticInsensitive.set(C,A)}}break}case Xl:{const k=u.substring(b,g[1]),C=u.substring(g[4],_),E=m&&!!(k||C),A=k?E?k:k.toLowerCase():void 0,R=C?E?C:C.toLowerCase():void 0,N=r.dynamic?.find(M=>M.caseSensitive===E&&M.prefix===A&&M.suffix===R);if(N)y=N;else{const M=$x(Xl,n.fullPath??n.from,E,A,R);y=M,M.depth=i,M.parent=r,r.dynamic??=[],r.dynamic.push(M)}break}case vp:{const k=u.substring(b,g[1]),C=u.substring(g[4],_),E=m&&!!(k||C),A=k?E?k:k.toLowerCase():void 0,R=C?E?C:C.toLowerCase():void 0,N=r.optional?.find(M=>M.caseSensitive===E&&M.prefix===A&&M.suffix===R);if(N)y=N;else{const M=$x(vp,n.fullPath??n.from,E,A,R);y=M,M.parent=r,M.depth=i,r.optional??=[],r.optional.push(M)}break}case Ql:{const k=u.substring(b,g[1]),C=u.substring(g[4],_),E=m&&!!(k||C),A=k?E?k:k.toLowerCase():void 0,R=C?E?C:C.toLowerCase():void 0,N=$x(Ql,n.fullPath??n.from,E,A,R);y=N,N.parent=r,N.depth=i,r.wildcard??=[],r.wildcard.push(N)}}r=y}const f=(n.path||!n.children)&&!n.isRoot;if(f&&u.endsWith("/")){const g=qu(n.fullPath??n.from);g.kind=Du,g.parent=r,i++,g.depth=i,r.index=g,r=g}f&&!r.route&&(r.route=n,r.fullPath=n.fullPath??n.from)}if(n.children)for(const u of n.children)Iv(t,e,u,l,r,i,a)}function Bx(t,e){if(t.prefix&&e.prefix&&t.prefix!==e.prefix){if(t.prefix.startsWith(e.prefix))return-1;if(e.prefix.startsWith(t.prefix))return 1}if(t.suffix&&e.suffix&&t.suffix!==e.suffix){if(t.suffix.endsWith(e.suffix))return-1;if(e.suffix.endsWith(t.suffix))return 1}return t.prefix&&!e.prefix?-1:!t.prefix&&e.prefix?1:t.suffix&&!e.suffix?-1:!t.suffix&&e.suffix?1:t.caseSensitive&&!e.caseSensitive?-1:!t.caseSensitive&&e.caseSensitive?1:0}function Ol(t){if(t.static)for(const e of t.static.values())Ol(e);if(t.staticInsensitive)for(const e of t.staticInsensitive.values())Ol(e);if(t.dynamic?.length){t.dynamic.sort(Bx);for(const e of t.dynamic)Ol(e)}if(t.optional?.length){t.optional.sort(Bx);for(const e of t.optional)Ol(e)}if(t.wildcard?.length){t.wildcard.sort(Bx);for(const e of t.wildcard)Ol(e)}}function qu(t){return{kind:th,depth:0,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null}}function $x(t,e,n,s,r){return{kind:t,depth:0,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,caseSensitive:n,prefix:s,suffix:r}}function nU(t,e){const n=qu("/"),s=new Uint16Array(6);for(const r of t)Iv(!1,s,r,1,n,0);Ol(n),e.masksTree=n,e.flatCache=fy(1e3)}function sU(t,e){t||="/";const n=e.flatCache.get(t);if(n)return n;const s=AC(t,e.masksTree);return e.flatCache.set(t,s),s}function rU(t,e,n,s,r){t||="/",s||="/";const i=e?`case\0${t}`:t;let a=r.singleCache.get(i);if(!a){a=qu("/");const l=new Uint16Array(6);Iv(e,l,{from:t},1,a,0),r.singleCache.set(i,a)}return AC(s,a,n)}function iU(t,e,n=!1){const s=n?t:`nofuzz\0${t}`,r=e.matchCache.get(s);if(r!==void 0)return r;t||="/";const i=AC(t,e.segmentTree,n);return i&&(i.branch=cU(i.route)),e.matchCache.set(s,i),i}function aU(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function oU(t,e=!1,n){const s=qu(t.fullPath),r=new Uint16Array(6),i={},a={};let l=0;return Iv(e,r,t,1,s,0,h=>{if(n?.(h,l),Da(!(h.id in i),`Duplicate routes found with id: ${String(h.id)}`),i[h.id]=h,l!==0&&h.path){const m=aU(h.fullPath);(!a[m]||h.fullPath.endsWith("/"))&&(a[m]=h)}l++}),Ol(s),{processedTree:{segmentTree:s,singleCache:fy(1e3),matchCache:fy(1e3),flatCache:null,masksTree:null},routesById:i,routesByPath:a}}function AC(t,e,n=!1){const s=t.split("/"),r=hU(t,s,e,n);if(!r)return null;const i=lU(t,s,r);return"**"in r&&(i["**"]=r["**"]),{route:r.node.route,params:i}}function lU(t,e,n){const s=uU(n.node);let r=null;const i={};for(let a=0,l=0,u=0;l<s.length;a++,l++,u++){const h=s[l],m=e[a],f=u;if(m&&(u+=m.length),h.kind===Xl){r??=n.node.fullPath.split("/");const g=r[l],y=h.prefix?.length??0;if(g.charCodeAt(y)===123){const _=h.suffix?.length??0,w=g.substring(y+2,g.length-_-1),k=m.substring(y,m.length-_);i[w]=decodeURIComponent(k)}else{const _=g.substring(1);i[_]=decodeURIComponent(m)}}else if(h.kind===vp){if(n.skipped&1<<l){a--;continue}r??=n.node.fullPath.split("/");const g=r[l],y=h.prefix?.length??0,b=h.suffix?.length??0,_=g.substring(y+3,g.length-b-1),w=h.suffix||h.prefix?m.substring(y,m.length-b):m;w&&(i[_]=decodeURIComponent(w))}else if(h.kind===Ql){const g=h,y=t.substring(f+(g.prefix?.length??0),t.length-(g.suffix?.length??0)),b=decodeURIComponent(y);i["*"]=b,i._splat=b;break}}return i}function cU(t){const e=[t];for(;t.parentRoute;)t=t.parentRoute,e.push(t);return e.reverse(),e}function uU(t){const e=Array(t.depth+1);do e[t.depth]=t,t=t.parent;while(t);return e}function hU(t,e,n,s){if(t==="/"&&n.index)return{node:n.index,skipped:0};const r=!hy(e),i=r&&t!=="/",a=e.length-(r?1:0),l=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let u=null,h=null,m=null;for(;l.length;){const f=l.pop();let{node:g,index:y,skipped:b,depth:_,statics:w,dynamics:k,optionals:C}=f;s&&g.route&&g.kind!==Du&&$d(h,f)&&(h=f);const E=y===a;if(E&&(g.route&&!i&&$d(m,f)&&(m=f),!g.optional&&!g.wildcard&&!g.index))continue;const A=E?void 0:e[y];let R;if(E&&g.index){const N={node:g.index,index:y,skipped:b,depth:_+1,statics:w,dynamics:k,optionals:C};if(w===a&&!k&&!C&&!b)return N;$d(m,N)&&(m=N)}if(g.wildcard&&$d(u,f))for(const N of g.wildcard){const{prefix:M,suffix:I}=N;if(!(M&&(E||!(N.caseSensitive?A:R??=A.toLowerCase()).startsWith(M)))){if(I){if(E)continue;const q=e.slice(y).join("/").slice(-I.length);if((N.caseSensitive?q:q.toLowerCase())!==I)continue}u={node:N,index:a,skipped:b,depth:_,statics:w,dynamics:k,optionals:C};break}}if(g.optional){const N=b|1<<_,M=_+1;for(let I=g.optional.length-1;I>=0;I--){const q=g.optional[I];l.push({node:q,index:y,skipped:N,depth:M,statics:w,dynamics:k,optionals:C})}if(!E)for(let I=g.optional.length-1;I>=0;I--){const q=g.optional[I],{prefix:B,suffix:K}=q;if(B||K){const $=q.caseSensitive?A:R??=A.toLowerCase();if(B&&!$.startsWith(B)||K&&!$.endsWith(K))continue}l.push({node:q,index:y+1,skipped:b,depth:M,statics:w,dynamics:k,optionals:C+1})}}if(!E&&g.dynamic&&A)for(let N=g.dynamic.length-1;N>=0;N--){const M=g.dynamic[N],{prefix:I,suffix:q}=M;if(I||q){const B=M.caseSensitive?A:R??=A.toLowerCase();if(I&&!B.startsWith(I)||q&&!B.endsWith(q))continue}l.push({node:M,index:y+1,skipped:b,depth:_+1,statics:w,dynamics:k+1,optionals:C})}if(!E&&g.staticInsensitive){const N=g.staticInsensitive.get(R??=A.toLowerCase());N&&l.push({node:N,index:y+1,skipped:b,depth:_+1,statics:w+1,dynamics:k,optionals:C})}if(!E&&g.static){const N=g.static.get(A);N&&l.push({node:N,index:y+1,skipped:b,depth:_+1,statics:w+1,dynamics:k,optionals:C})}}if(m&&u)return $d(u,m)?m:u;if(m)return m;if(u)return u;if(s&&h){let f=h.index;for(let y=0;y<h.index;y++)f+=e[y].length;const g=f===t.length?"/":t.slice(f);return{node:h.node,skipped:h.skipped,"**":decodeURIComponent(g)}}return null}function $d(t,e){return t?e.statics>t.statics||e.statics===t.statics&&(e.dynamics>t.dynamics||e.dynamics===t.dynamics&&(e.optionals>t.optionals||e.optionals===t.optionals&&((e.node.kind===Du)>(t.node.kind===Du)||e.node.kind===Du==(t.node.kind===Du)&&e.depth>t.depth))):!0}function D0(t){return RC(t.filter(e=>e!==void 0).join("/"))}function RC(t){return t.replace(/\/{2,}/g,"/")}function hD(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Vl(t){const e=t.length;return e>1&&t[e-1]==="/"?t.replace(/\/{1,}$/,""):t}function dD(t){return Vl(hD(t))}function py(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function dU(t,e,n){return py(t,n)===py(e,n)}function fU({base:t,to:e,trailingSlash:n="never",cache:s}){const r=e.startsWith("/"),i=!r&&e===".";let a;if(s){a=r?e:i?t:t+"\0"+e;const f=s.get(a);if(f)return f}let l;if(i)l=t.split("/");else if(r)l=e.split("/");else{for(l=t.split("/");l.length>1&&hy(l)==="";)l.pop();const f=e.split("/");for(let g=0,y=f.length;g<y;g++){const b=f[g];b===""?g?g===y-1&&l.push(b):l=[b]:b===".."?l.pop():b==="."||l.push(b)}}l.length>1&&(hy(l)===""?n==="never"&&l.pop():n==="always"&&l.push(""));let u,h="";for(let f=0;f<l.length;f++){f>0&&(h+="/");const g=l[f];if(!g)continue;u=EC(g,0,u);const y=u[0];if(y===th){h+=g;continue}const b=u[5],_=g.substring(0,u[1]),w=g.substring(u[4],b),k=g.substring(u[2],u[3]);y===Xl?h+=_||w?`${_}{$${k}}${w}`:`$${k}`:y===Ql?h+=_||w?`${_}{$}${w}`:"$":h+=`${_}{-$${k}}${w}`}h=RC(h);const m=h||"/";return a&&s&&s.set(a,m),m}function zx(t,e,n){const s=e[t];return typeof s!="string"?s:t==="_splat"?encodeURI(s):pU(s,n)}function Fx({path:t,params:e,decodeCharMap:n}){let s=!1;const r={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:r,isMissingParams:s};if(!t.includes("$"))return{interpolatedPath:t,usedParams:r,isMissingParams:s};const i=t.length;let a=0,l,u="";for(;a<i;){const m=a;l=EC(t,m,l);const f=l[5];if(a=f+1,m===f)continue;const g=l[0];if(g===th){u+="/"+t.substring(m,f);continue}if(g===Ql){const y=e._splat;r._splat=y,r["*"]=y;const b=t.substring(m,l[1]),_=t.substring(l[4],f);if(!y){s=!0,(b||_)&&(u+="/"+b+_);continue}const w=zx("_splat",e,n);u+="/"+b+w+_;continue}if(g===Xl){const y=t.substring(l[2],l[3]);!s&&!(y in e)&&(s=!0),r[y]=e[y];const b=t.substring(m,l[1]),_=t.substring(l[4],f),w=zx(y,e,n)??"undefined";u+="/"+b+w+_;continue}if(g===vp){const y=t.substring(l[2],l[3]),b=e[y];if(b==null)continue;r[y]=b;const _=t.substring(m,l[1]),w=t.substring(l[4],f),k=zx(y,e,n)??"";u+="/"+_+k+w;continue}}return t.endsWith("/")&&(u+="/"),{usedParams:r,interpolatedPath:u||"/",isMissingParams:s}}function pU(t,e){let n=encodeURIComponent(t);if(e)for(const[s,r]of e)n=n.replaceAll(s,r);return n}function Rr(t){return!!t?.isNotFound}function mU(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const my="tsr-scroll-restoration-v1_3",gU=(t,e)=>{let n;return(...s)=>{n||(n=setTimeout(()=>{t(...s),n=null},e))}};function yU(){const t=mU();if(!t)return null;const e=t.getItem(my);let n=e?JSON.parse(e):{};return{state:n,set:s=>(n=jo(s,n)||n,t.setItem(my,JSON.stringify(n)))}}const qg=yU(),Cw=t=>t.state.__TSR_key||t.href;function vU(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let gy=!1;function fD({storageKey:t,key:e,behavior:n,shouldScrollRestoration:s,scrollToTopSelectors:r,location:i}){let a;try{a=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(h){console.error(h);return}const l=e||window.history.state?.__TSR_key,u=a[l];gy=!0;e:{if(s&&u&&Object.keys(u).length>0){for(const f in u){const g=u[f];if(f==="window")window.scrollTo({top:g.scrollY,left:g.scrollX,behavior:n});else if(f){const y=document.querySelector(f);y&&(y.scrollLeft=g.scrollX,y.scrollTop=g.scrollY)}}break e}const h=(i??window.location).hash.split("#",2)[1];if(h){const f=window.history.state?.__hashScrollIntoViewOptions??!0;if(f){const g=document.getElementById(h);g&&g.scrollIntoView(f)}break e}const m={top:0,left:0,behavior:n};if(window.scrollTo(m),r)for(const f of r){if(f==="window")continue;const g=typeof f=="function"?f():document.querySelector(f);g&&g.scrollTo(m)}}gy=!1}function bU(t,e){if(!qg&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!qg))return;t.isScrollRestorationSetup=!0,gy=!1;const s=t.options.getScrollRestorationKey||Cw;window.history.scrollRestoration="manual";const r=i=>{if(gy||!t.isScrollRestoring)return;let a="";if(i.target===document||i.target===window)a="window";else{const u=i.target.getAttribute("data-scroll-restoration-id");u?a=`[data-scroll-restoration-id="${u}"]`:a=vU(i.target)}const l=s(t.state.location);qg.set(u=>{const h=u[l]||={},m=h[a]||={};if(a==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(a){const f=document.querySelector(a);f&&(m.scrollX=f.scrollLeft||0,m.scrollY=f.scrollTop||0)}return u})};typeof document<"u"&&document.addEventListener("scroll",gU(r,100),!0),t.subscribe("onRendered",i=>{const a=s(i.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(fD({storageKey:my,key:a,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&qg.set(l=>(l[a]||={},l)))})}function _U(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function xU(t,e=String){const n=new URLSearchParams;for(const s in t){const r=t[s];r!==void 0&&n.set(s,e(r))}return n.toString()}function Ux(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function SU(t){const e=new URLSearchParams(t),n={};for(const[s,r]of e.entries()){const i=n[s];i==null?n[s]=Ux(r):Array.isArray(i)?i.push(Ux(r)):n[s]=[i,Ux(r)]}return n}const wU=CU(JSON.parse),kU=NU(JSON.stringify,JSON.parse);function CU(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=SU(e);for(const s in n){const r=n[s];if(typeof r=="string")try{n[s]=t(r)}catch{}}return n}}function NU(t,e){const n=typeof e=="function";function s(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(n&&typeof r=="string")try{return e(r),t(r)}catch{}return r}return r=>{const i=xU(r,s);return i?`?${i}`:""}}const Cr="__root__";function TC(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function ei(t){return t instanceof Response&&!!t.options}const P0=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},Dv=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),jC=(t,e,n=!0)=>{const s={...t.router.options.context??{}},r=n?e:e-1;for(let i=0;i<=r;i++){const a=t.matches[i];if(!a)continue;const l=t.router.getMatch(a.id);l&&Object.assign(s,l.__routeContext,l.__beforeLoadContext)}return s},pD=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),Da(n.options.notFoundComponent);const s=t.matches.find(r=>r.routeId===n.id);Da(s,"Could not find match for route: "+n.id),t.updateMatch(s.id,r=>({...r,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,pD(t,e))},Oo=(t,e,n)=>{if(!(!ei(n)&&!Rr(n))){if(ei(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const s=ei(n)?"redirected":"notFound";e._nonReactive.error=n,t.updateMatch(e.id,r=>({...r,status:s,isFetching:!1,error:n})),Rr(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw ei(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(pD(t,n),n)}},mD=(t,e)=>{const n=t.router.getMatch(e);return!!(!t.router.isServer&&n._nonReactive.dehydrated||t.router.isServer&&n.ssr===!1)},zd=(t,e,n,s)=>{const{id:r,routeId:i}=t.matches[e],a=t.router.looseRoutesById[i];if(n instanceof Promise)throw n;n.routerCode=s,t.firstBadMatchIndex??=e,Oo(t,t.router.getMatch(r),n);try{a.options.onError?.(n)}catch(l){n=l,Oo(t,t.router.getMatch(r),n)}t.updateMatch(r,l=>(l._nonReactive.beforeLoadPromise?.resolve(),l._nonReactive.beforeLoadPromise=void 0,l._nonReactive.loadPromise?.resolve(),{...l,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},EU=(t,e,n,s)=>{const r=t.router.getMatch(e),i=t.matches[n-1]?.id,a=i?t.router.getMatch(i):void 0;if(t.router.isShell()){r.ssr=s.id===Cr;return}if(a?.ssr===!1){r.ssr=!1;return}const l=y=>y===!0&&a?.ssr==="data-only"?"data-only":y,u=t.router.options.defaultSsr??!0;if(s.options.ssr===void 0){r.ssr=l(u);return}if(typeof s.options.ssr!="function"){r.ssr=l(s.options.ssr);return}const{search:h,params:m}=r,f={search:Kg(h,r.searchError),params:Kg(m,r.paramsError),location:t.location,matches:t.matches.map(y=>({index:y.index,pathname:y.pathname,fullPath:y.fullPath,staticData:y.staticData,id:y.id,routeId:y.routeId,search:Kg(y.search,y.searchError),params:Kg(y.params,y.paramsError),ssr:y.ssr}))},g=s.options.ssr(f);if(zo(g))return g.then(y=>{r.ssr=l(y??u)});r.ssr=l(g??u)},gD=(t,e,n,s)=>{if(s._nonReactive.pendingTimeout!==void 0)return;const r=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!Dv(t,e)&&(n.options.loader||n.options.beforeLoad||bD(n))&&typeof r=="number"&&r!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const a=setTimeout(()=>{P0(t)},r);s._nonReactive.pendingTimeout=a}},AU=(t,e,n)=>{const s=t.router.getMatch(e);if(!s._nonReactive.beforeLoadPromise&&!s._nonReactive.loaderPromise)return;gD(t,e,n,s);const r=()=>{const i=t.router.getMatch(e);i.preload&&(i.status==="redirected"||i.status==="notFound")&&Oo(t,i,i.error)};return s._nonReactive.beforeLoadPromise?s._nonReactive.beforeLoadPromise.then(r):r()},RU=(t,e,n,s)=>{const r=t.router.getMatch(e),i=r._nonReactive.loadPromise;r._nonReactive.loadPromise=eh(()=>{i?.resolve()});const{paramsError:a,searchError:l}=r;a&&zd(t,n,a,"PARSE_PARAMS"),l&&zd(t,n,l,"VALIDATE_SEARCH"),gD(t,e,s,r);const u=new AbortController,h=t.matches[n-1]?.id;(h?t.router.getMatch(h):void 0)?.context??t.router.options.context;let f=!1;const g=()=>{f||(f=!0,t.updateMatch(e,N=>({...N,isFetching:"beforeLoad",fetchCount:N.fetchCount+1,abortController:u})))},y=()=>{r._nonReactive.beforeLoadPromise?.resolve(),r._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,N=>({...N,isFetching:!1}))};if(!s.options.beforeLoad){Wf(()=>{g(),y()});return}r._nonReactive.beforeLoadPromise=eh();const b={...jC(t,n,!1),...r.__routeContext},{search:_,params:w,cause:k}=r,C=Dv(t,e),E={search:_,abortController:u,params:w,preload:C,context:b,location:t.location,navigate:N=>t.router.navigate({...N,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:C?"preload":k,matches:t.matches,...t.router.options.additionalContext},A=N=>{if(N===void 0){Wf(()=>{g(),y()});return}(ei(N)||Rr(N))&&(g(),zd(t,n,N,"BEFORE_LOAD")),Wf(()=>{g(),t.updateMatch(e,M=>({...M,__beforeLoadContext:N})),y()})};let R;try{if(R=s.options.beforeLoad(E),zo(R))return g(),R.catch(N=>{zd(t,n,N,"BEFORE_LOAD")}).then(A)}catch(N){g(),zd(t,n,N,"BEFORE_LOAD")}A(R)},TU=(t,e)=>{const{id:n,routeId:s}=t.matches[e],r=t.router.looseRoutesById[s],i=()=>{if(t.router.isServer){const u=EU(t,n,e,r);if(zo(u))return u.then(l)}return l()},a=()=>RU(t,n,e,r),l=()=>{if(mD(t,n))return;const u=AU(t,n,r);return zo(u)?u.then(a):a()};return i()},jU=(t,e,n)=>{const s=t.router.getMatch(e);if(!s||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const r={matches:t.matches,match:s,params:s.params,loaderData:s.loaderData};return Promise.all([n.options.head?.(r),n.options.scripts?.(r),n.options.headers?.(r)]).then(([i,a,l])=>{const u=i?.meta,h=i?.links,m=i?.scripts,f=i?.styles;return{meta:u,links:h,headScripts:m,headers:l,scripts:a,styles:f}})},yD=(t,e,n,s)=>{const r=t.matchPromises[n-1],{params:i,loaderDeps:a,abortController:l,cause:u}=t.router.getMatch(e),h=jC(t,n),m=Dv(t,e);return{params:i,deps:a,preload:!!m,parentMatchPromise:r,abortController:l,context:h,location:t.location,navigate:f=>t.router.navigate({...f,_fromLocation:t.location}),cause:m?"preload":u,route:s,...t.router.options.additionalContext}},NT=async(t,e,n,s)=>{try{const r=t.router.getMatch(e);try{(!t.router.isServer||r.ssr===!0)&&vD(s);const i=s.options.loader?.(yD(t,e,n,s)),a=s.options.loader&&zo(i);if((a||s._lazyPromise||s._componentsPromise||s.options.head||s.options.scripts||s.options.headers||r._nonReactive.minPendingPromise)&&t.updateMatch(e,h=>({...h,isFetching:"loader"})),s.options.loader){const h=a?await i:i;Oo(t,t.router.getMatch(e),h),h!==void 0&&t.updateMatch(e,m=>({...m,loaderData:h}))}s._lazyPromise&&await s._lazyPromise;const u=r._nonReactive.minPendingPromise;u&&await u,s._componentsPromise&&await s._componentsPromise,t.updateMatch(e,h=>({...h,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(i){let a=i;const l=r._nonReactive.minPendingPromise;l&&await l,Rr(i)&&await s.options.notFoundComponent?.preload?.(),Oo(t,t.router.getMatch(e),i);try{s.options.onError?.(i)}catch(u){a=u,Oo(t,t.router.getMatch(e),u)}t.updateMatch(e,u=>({...u,error:a,status:"error",isFetching:!1}))}}catch(r){const i=t.router.getMatch(e);i&&(i._nonReactive.loaderPromise=void 0),Oo(t,i,r)}},OU=async(t,e)=>{const{id:n,routeId:s}=t.matches[e];let r=!1,i=!1;const a=t.router.looseRoutesById[s],l=()=>{t.updateMatch(n,m=>({...m,context:jC(t,e)}))};if(mD(t,n)){if(t.router.isServer)return t.router.getMatch(n)}else{const m=t.router.getMatch(n);if(m._nonReactive.loaderPromise){if(m.status==="success"&&!t.sync&&!m.preload)return m;await m._nonReactive.loaderPromise;const f=t.router.getMatch(n),g=f._nonReactive.error||f.error;g&&Oo(t,f,g)}else{const f=Date.now()-m.updatedAt,g=Dv(t,n),y=g?a.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:a.options.staleTime??t.router.options.defaultStaleTime??0,b=a.options.shouldReload,_=typeof b=="function"?b(yD(t,n,e,a)):b,w=!!g&&!t.router.state.matches.some(A=>A.id===n),k=t.router.getMatch(n);k._nonReactive.loaderPromise=eh(),w!==k.preload&&t.updateMatch(n,A=>({...A,preload:w}));const{status:C,invalid:E}=k;r=C==="success"&&(E||(_??f>y)),g&&a.options.preload===!1||(r&&!t.sync?(i=!0,(async()=>{try{await NT(t,n,e,a),l();const A=t.router.getMatch(n);A._nonReactive.loaderPromise?.resolve(),A._nonReactive.loadPromise?.resolve(),A._nonReactive.loaderPromise=void 0}catch(A){ei(A)&&await t.router.navigate(A.options)}})()):(C!=="success"||r&&t.sync)&&await NT(t,n,e,a))}}const u=t.router.getMatch(n);i||(u._nonReactive.loaderPromise?.resolve(),u._nonReactive.loadPromise?.resolve()),clearTimeout(u._nonReactive.pendingTimeout),u._nonReactive.pendingTimeout=void 0,i||(u._nonReactive.loaderPromise=void 0),u._nonReactive.dehydrated=void 0,i||l();const h=i?u.isFetching:!1;return h!==u.isFetching||u.invalid!==!1?(t.updateMatch(n,m=>({...m,isFetching:h,invalid:!1})),t.router.getMatch(n)):u};async function ET(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(n=>n._forcePending)&&P0(e);try{for(let l=0;l<e.matches.length;l++){const u=TU(e,l);zo(u)&&await u}const n=e.firstBadMatchIndex??e.matches.length;for(let l=0;l<n;l++)e.matchPromises.push(OU(e,l));const r=(await Promise.allSettled(e.matchPromises)).filter(l=>l.status==="rejected").map(l=>l.reason);let i;for(const l of r){if(ei(l))throw l;!i&&Rr(l)&&(i=l)}for(const l of e.matches){const{id:u,routeId:h}=l,m=e.router.looseRoutesById[h];try{const f=jU(e,u,m);if(f){const g=await f;e.updateMatch(u,y=>({...y,...g}))}}catch(f){console.error(`Error executing head for route ${h}:`,f)}}if(i)throw i;const a=P0(e);zo(a)&&await a}catch(n){if(Rr(n)&&!e.preload){const s=P0(e);throw zo(s)&&await s,n}if(ei(n))throw n}return e.matches}async function vD(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...s}=e.options;Object.assign(t.options,s),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const s of _D){const r=t.options[s]?.preload;r&&n.push(r())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function Kg(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function bD(t){for(const e of _D)if(t.options[e]?.preload)return!0;return!1}const _D=["component","errorComponent","pendingComponent","notFoundComponent"];function MU(t){return{input:({url:e})=>{for(const n of t)e=xD(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=SD(t[n],e);return e}}}function IU(t){const e=dD(t.basepath),n=`/${e}`,s=`${n}/`,r=t.caseSensitive?n:n.toLowerCase(),i=t.caseSensitive?s:s.toLowerCase();return{input:({url:a})=>{const l=t.caseSensitive?a.pathname:a.pathname.toLowerCase();return l===r?a.pathname="/":l.startsWith(i)&&(a.pathname=a.pathname.slice(n.length)),a},output:({url:a})=>(a.pathname=D0(["/",e,a.pathname]),a)}}function xD(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function SD(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function ql(t){const e=t.resolvedLocation,n=t.location,s=e?.pathname!==n.pathname,r=e?.href!==n.href,i=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:s,hrefChanged:r,hashChanged:i}}class DU{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options,r=this.basepath??s?.basepath??"/",i=this.basepath===void 0,a=s?.rewrite;this.options={...s,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(g=>[encodeURIComponent(g),g])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=YF())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new WF(LU(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(g=>!["redirected"].includes(g.status))}}}),bU(this));let l=!1;const u=this.options.basepath??"/",h=this.options.rewrite;if(i||r!==u||a!==h){this.basepath=u;const g=[];dD(u)!==""&&g.push(IU({basepath:u})),h&&g.push(h),this.rewrite=g.length===0?void 0:g.length===1?g[0]:MU(g),this.history&&this.updateLatestLocation(),l=!0}l&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:s,processedTree:r}=oU(this.routeTree,this.options.caseSensitive,(a,l)=>{a.init({originalIndex:l})});this.options.routeMasks&&nU(this.options.routeMasks,r),this.routesById=n,this.routesByPath=s,this.processedTree=r;const i=this.options.notFoundRoute;i&&(i.init({originalIndex:99999999999}),this.routesById[i.id]=i)},this.subscribe=(n,s)=>{const r={eventType:n,fn:s};return this.subscribers.add(r),()=>{this.subscribers.delete(r)}},this.emit=n=>{this.subscribers.forEach(s=>{s.eventType===n.type&&s.fn(n)})},this.parseLocation=(n,s)=>{const r=({href:u,state:h})=>{const m=new URL(u,this.origin),f=xD(this.rewrite,m),g=this.options.parseSearch(f.search),y=this.options.stringifySearch(g);return f.search=y,{href:f.href.replace(f.origin,""),publicHref:u,url:f,pathname:CT(f.pathname),searchStr:y,search:Yr(s?.search,g),hash:f.hash.split("#").reverse()[0]??"",state:Yr(s?.state,h)}},i=r(n),{__tempLocation:a,__tempKey:l}=i.state;if(a&&(!l||l===this.tempLocationKey)){const u=r(a);return u.state.key=i.state.key,u.state.__TSR_key=i.state.__TSR_key,delete u.state.__tempLocation,{...u,maskedLocation:i}}return i},this.resolvePathCache=fy(1e3),this.resolvePathWithBase=(n,s)=>fU({base:n,to:RC(s),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,s,r)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:s},r):this.matchRoutesInternal(n,s),this.getMatchedRoutes=n=>BU({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const s=this.getMatch(n);s&&(s.abortController.abort(),clearTimeout(s._nonReactive.pendingTimeout),s._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(i=>i.status==="pending"),s=this.state.matches.filter(i=>i.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...s]).forEach(i=>{this.cancelMatch(i.id)})},this.buildLocation=n=>{const s=(i={})=>{const a=i._fromLocation||this.pendingBuiltLocation||this.latestLocation,l=this.matchRoutes(a,{_buildLocation:!0}),u=hy(l);i.from;const h=i.unsafeRelative==="path"?a.pathname:i.from??u.fullPath,m=this.resolvePathWithBase(h,"."),f=u.search,g={...u.params},y=i.to?this.resolvePathWithBase(m,`${i.to}`):this.resolvePathWithBase(m,"."),b=i.params===!1||i.params===null?{}:(i.params??!0)===!0?g:Object.assign(g,jo(i.params,g)),_=Fx({path:y,params:b}).interpolatedPath,w=this.matchRoutes(_,void 0,{_buildLocation:!0}).map(B=>this.looseRoutesById[B.routeId]);if(Object.keys(b).length>0)for(const B of w){const K=B.options.params?.stringify??B.options.stringifyParams;K&&Object.assign(b,K(b))}const k=n.leaveParams?y:CT(Fx({path:y,params:b,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let C=f;if(n._includeValidateSearch&&this.options.search?.strict){const B={};w.forEach(K=>{if(K.options.validateSearch)try{Object.assign(B,Nw(K.options.validateSearch,{...B,...C}))}catch{}}),C=B}C=$U({search:C,dest:i,destRoutes:w,_includeValidateSearch:n._includeValidateSearch}),C=Yr(f,C);const E=this.options.stringifySearch(C),A=i.hash===!0?a.hash:i.hash?jo(i.hash,a.hash):void 0,R=A?`#${A}`:"";let N=i.state===!0?a.state:i.state?jo(i.state,a.state):{};N=Yr(a.state,N);const M=`${k}${E}${R}`,I=new URL(M,this.origin),q=SD(this.rewrite,I);return{publicHref:q.pathname+q.search+q.hash,href:M,url:q,pathname:k,search:C,searchStr:E,state:N,hash:A??"",unmaskOnReload:i.unmaskOnReload}},r=(i={},a)=>{const l=s(i);let u=a?s(a):void 0;if(!u){const h={};if(this.options.routeMasks){const m=sU(l.pathname,this.processedTree);if(m){Object.assign(h,m.params);const{from:f,params:g,...y}=m.route,b=g===!1||g===null?{}:(g??!0)===!0?h:Object.assign(h,jo(g,h));a={from:n.from,...y,params:b},u=s(a)}}}return u&&(l.maskedLocation=u),l};return n.mask?r(n,{from:n.from,...n.mask}):r(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:s,...r})=>{const i=()=>{const u=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];u.forEach(m=>{r.state[m]=this.latestLocation.state[m]});const h=Hl(r.state,this.latestLocation.state);return u.forEach(m=>{delete r.state[m]}),h},a=Vl(this.latestLocation.href)===Vl(r.href),l=this.commitLocationPromise;if(this.commitLocationPromise=eh(()=>{l?.resolve()}),a&&i())this.load();else{let{maskedLocation:u,hashScrollIntoView:h,url:m,...f}=r;u&&(f={...u,state:{...u.state,__tempKey:void 0,__tempLocation:{...f,search:f.searchStr,state:{...f.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(f.unmaskOnReload??this.options.unmaskOnReload??!1)&&(f.state.__tempKey=this.tempLocationKey)),f.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[r.replace?"replace":"push"](f.publicHref,f.state,{ignoreBlocker:s})}return this.resetNextScroll=r.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:s,hashScrollIntoView:r,viewTransition:i,ignoreBlocker:a,href:l,...u}={})=>{if(l){const f=this.history.location.state.__TSR_index,g=uy(l,{__TSR_index:n?f:f+1});u.to=g.pathname,u.search=this.options.parseSearch(g.search),u.hash=g.hash.slice(1)}const h=this.buildLocation({...u,_includeValidateSearch:!0});this.pendingBuiltLocation=h;const m=this.commitLocation({...h,viewTransition:i,replace:n,resetScroll:s,hashScrollIntoView:r,ignoreBlocker:a});return Promise.resolve().then(()=>{this.pendingBuiltLocation===h&&(this.pendingBuiltLocation=void 0)}),m},this.navigate=async({to:n,reloadDocument:s,href:r,publicHref:i,...a})=>{let l=!1;if(r)try{new URL(`${r}`),l=!0}catch{}if(l&&!s&&(s=!0),s){if(!r||!i&&!l){const h=this.buildLocation({to:n,...a});r=r??h.url.href,i=i??h.url.href}const u=!l&&i?i:r;if(!a.ignoreBlocker){const m=this.history.getBlockers?.()??[];for(const f of m)if(f?.blockerFn&&await f.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return a.replace?window.location.replace(u):window.location.href=u,Promise.resolve()}return this.buildAndCommitLocation({...a,href:r,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const s=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(this.latestLocation.publicHref!==s.publicHref||s.url.origin!==this.origin){const r=this.getParsedLocationHref(s);throw TC({href:r})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:s.cachedMatches.filter(r=>!n.some(i=>i.id===r.id))}))},this.load=async n=>{let s,r,i;for(i=new Promise(l=>{this.startTransition(async()=>{try{this.beforeLoad();const u=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...ql({resolvedLocation:h,location:u})}),this.emit({type:"onBeforeLoad",...ql({resolvedLocation:h,location:u})}),await ET({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:u,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let m=[],f=[],g=[];Wf(()=>{this.__store.setState(y=>{const b=y.matches,_=y.pendingMatches||y.matches;return m=b.filter(w=>!_.some(k=>k.id===w.id)),f=_.filter(w=>!b.some(k=>k.id===w.id)),g=_.filter(w=>b.some(k=>k.id===w.id)),{...y,isLoading:!1,loadedAt:Date.now(),matches:_,pendingMatches:void 0,cachedMatches:[...y.cachedMatches,...m.filter(w=>w.status!=="error"&&w.status!=="notFound")]}}),this.clearExpiredCache()}),[[m,"onLeave"],[f,"onEnter"],[g,"onStay"]].forEach(([y,b])=>{y.forEach(_=>{this.looseRoutesById[_.routeId].options[b]?.(_)})})})})}})}catch(u){ei(u)?(s=u,this.isServer||this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):Rr(u)&&(r=u),this.__store.setState(h=>({...h,statusCode:s?s.status:r?404:h.matches.some(m=>m.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===i&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),l()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise;let a;this.hasNotFoundMatch()?a=404:this.__store.state.matches.some(l=>l.status==="error")&&(a=500),a!==void 0&&this.__store.setState(l=>({...l,statusCode:a}))},this.startViewTransition=n=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let r;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const i=this.latestLocation,a=this.state.resolvedLocation,l=typeof s.types=="function"?s.types(ql({resolvedLocation:a,location:i})):s.types;if(l===!1){n();return}r={update:n,types:l}}else r=n;document.startViewTransition(r)}else n()},this.updateMatch=(n,s)=>{this.startTransition(()=>{const r=this.state.pendingMatches?.some(i=>i.id===n)?"pendingMatches":this.state.matches.some(i=>i.id===n)?"matches":this.state.cachedMatches.some(i=>i.id===n)?"cachedMatches":"";r&&this.__store.setState(i=>({...i,[r]:i[r]?.map(a=>a.id===n?s(a):a)}))})},this.getMatch=n=>{const s=r=>r.id===n;return this.state.cachedMatches.find(s)??this.state.pendingMatches?.find(s)??this.state.matches.find(s)},this.invalidate=n=>{const s=r=>n?.filter?.(r)??!0?{...r,invalid:!0,...n?.forcePending||r.status==="error"||r.status==="notFound"?{status:"pending",error:void 0}:void 0}:r;return this.__store.setState(r=>({...r,matches:r.matches.map(s),cachedMatches:r.cachedMatches.map(s),pendingMatches:r.pendingMatches?.map(s)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.getParsedLocationHref=n=>{let s=n.url.href;return this.origin&&n.url.origin===this.origin&&(s=s.replace(this.origin,"")||"/"),s},this.resolveRedirect=n=>{if(!n.options.href){const s=this.buildLocation(n.options),r=this.getParsedLocationHref(s);n.options.href=s.href,n.headers.set("Location",r)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const s=n?.filter;s!==void 0?this.__store.setState(r=>({...r,cachedMatches:r.cachedMatches.filter(i=>!s(i))})):this.__store.setState(r=>({...r,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=s=>{const r=this.looseRoutesById[s.routeId];if(!r.options.loader)return!0;const i=(s.preload?r.options.preloadGcTime??this.options.defaultPreloadGcTime:r.options.gcTime??this.options.defaultGcTime)??300*1e3;return s.status==="error"?!0:Date.now()-s.updatedAt>=i};this.clearCache({filter:n})},this.loadRouteChunk=vD,this.preloadRoute=async n=>{const s=this.buildLocation(n);let r=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:n});const i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),a=new Set([...i,...this.state.cachedMatches.map(l=>l.id)]);Wf(()=>{r.forEach(l=>{a.has(l.id)||this.__store.setState(u=>({...u,cachedMatches:[...u.cachedMatches,l]}))})});try{return r=await ET({router:this,matches:r,location:s,preload:!0,updateMatch:(l,u)=>{i.has(l)?r=r.map(h=>h.id===l?u(h):h):this.updateMatch(l,u)}}),r}catch(l){if(ei(l))return l.options.reloadDocument?void 0:await this.preloadRoute({...l.options,_fromLocation:s});Rr(l)||console.error(l);return}},this.matchRoute=(n,s)=>{const r={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},i=this.buildLocation(r);if(s?.pending&&this.state.status!=="pending")return!1;const l=(s?.pending===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,u=rU(i.pathname,s?.caseSensitive??!1,s?.fuzzy??!1,l.pathname,this.processedTree);return!u||n.params&&!Hl(u.params,n.params,{partial:!0})?!1:s?.includeSearch??!0?Hl(l.search,i.search,{partial:!0})?u.params:!1:u.params},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??kU,parseSearch:e.parseSearch??wU}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const s=this.getMatchedRoutes(e.pathname),{foundRoute:r,routeParams:i}=s;let{matchedRoutes:a}=s,l=!1;(r?r.path!=="/"&&i["**"]:Vl(e.pathname))&&(this.options.notFoundRoute?a=[...a,this.options.notFoundRoute]:l=!0);const u=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let f=a.length-1;f>=0;f--){const g=a[f];if(g.children)return g.id}return Cr}})(),h=[],m=f=>f?.id?f.context??this.options.context??void 0:this.options.context??void 0;return a.forEach((f,g)=>{const y=h[g-1],[b,_,w]=(()=>{const W=y?.search??e.search,Z=y?._strictSearch??void 0;try{const G=Nw(f.options.validateSearch,{...W})??void 0;return[{...W,...G},{...Z,...G},void 0]}catch(G){let L=G;if(G instanceof yy||(L=new yy(G.message,{cause:G})),n?.throwOnError)throw L;return[W,{},L]}})(),k=f.options.loaderDeps?.({search:b})??"",C=k?JSON.stringify(k):"",{interpolatedPath:E,usedParams:A}=Fx({path:f.fullPath,params:i,decodeCharMap:this.pathParamsDecodeCharMap}),R=f.id+E+C,N=this.getMatch(R),M=this.state.matches.find(W=>W.routeId===f.id),I=N?._strictParams??A;let q;if(!N){const W=f.options.params?.parse??f.options.parseParams;if(W)try{Object.assign(I,W(I))}catch(Z){if(Rr(Z)||ei(Z)?q=Z:q=new PU(Z.message,{cause:Z}),n?.throwOnError)throw q}}Object.assign(i,I);const B=M?"stay":"enter";let K;if(N)K={...N,cause:B,params:M?Yr(M.params,i):i,_strictParams:I,search:Yr(M?M.search:N.search,b),_strictSearch:_};else{const W=f.options.loader||f.options.beforeLoad||f.lazyFn||bD(f)?"pending":"success";K={id:R,ssr:this.isServer?void 0:f.options.ssr,index:g,routeId:f.id,params:M?Yr(M.params,i):i,_strictParams:I,pathname:E,updatedAt:Date.now(),search:M?Yr(M.search,b):b,_strictSearch:_,searchError:void 0,status:W,isFetching:!1,error:void 0,paramsError:q,__routeContext:void 0,_nonReactive:{loadPromise:eh()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:B,loaderDeps:M?Yr(M.loaderDeps,k):k,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:f.options.staticData||{},fullPath:f.fullPath}}n?.preload||(K.globalNotFound=u===f.id),K.searchError=w;const $=m(y);K.context={...$,...K.__routeContext,...K.__beforeLoadContext},h.push(K)}),h.forEach((f,g)=>{const y=this.looseRoutesById[f.routeId];if(!this.getMatch(f.id)&&n?._buildLocation!==!0){const _=h[g-1],w=m(_);if(y.options.context){const k={deps:f.loaderDeps,params:f.params,context:w??{},location:e,navigate:C=>this.navigate({...C,_fromLocation:e}),buildLocation:this.buildLocation,cause:f.cause,abortController:f.abortController,preload:!!f.preload,matches:h};f.__routeContext=y.options.context(k)??void 0}f.context={...w,...f.__routeContext,...f.__beforeLoadContext}}}),h}}class yy extends Error{}class PU extends Error{}function LU(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Nw(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new yy("Async validation not supported");if(n.issues)throw new yy(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function BU({pathname:t,routesById:e,processedTree:n}){const s={},r=Vl(t);let i;const a=iU(r,n,!0);return a&&(i=a.route,Object.assign(s,a.params)),{matchedRoutes:a?.branch||[e[Cr]],routeParams:s,foundRoute:i}}function $U({search:t,dest:e,destRoutes:n,_includeValidateSearch:s}){const r=n.reduce((l,u)=>{const h=[];if("search"in u.options)u.options.search?.middlewares&&h.push(...u.options.search.middlewares);else if(u.options.preSearchFilters||u.options.postSearchFilters){const m=({search:f,next:g})=>{let y=f;"preSearchFilters"in u.options&&u.options.preSearchFilters&&(y=u.options.preSearchFilters.reduce((_,w)=>w(_),f));const b=g(y);return"postSearchFilters"in u.options&&u.options.postSearchFilters?u.options.postSearchFilters.reduce((_,w)=>w(_),b):b};h.push(m)}if(s&&u.options.validateSearch){const m=({search:f,next:g})=>{const y=g(f);try{return{...y,...Nw(u.options.validateSearch,y)??void 0}}catch{return y}};h.push(m)}return l.concat(h)},[])??[],i=({search:l})=>e.search?e.search===!0?l:jo(e.search,l):{};r.push(i);const a=(l,u)=>{if(l>=r.length)return u;const h=r[l];return h({search:u,next:f=>a(l+1,f)})};return a(0,t)}const zU="Error preloading route! ";class wD{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const s=this.options,r=!s?.path&&!s?.id;this.parentRoute=this.options.getParentRoute?.(),r?this._path=Cr:this.parentRoute||Da(!1);let i=r?Cr:s?.path;i&&i!=="/"&&(i=hD(i));const a=s?.id||i;let l=r?Cr:D0([this.parentRoute.id===Cr?"":this.parentRoute.id,a]);i===Cr&&(i="/"),l!==Cr&&(l=D0(["/",l]));const u=l===Cr?"/":D0([this.parentRoute.fullPath,i]);this._path=i,this._id=l,this._fullPath=u,this._to=u},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class FU extends wD{constructor(e){super(e)}}function OC(t){const e=t.errorComponent??Pv;return p.jsx(UU,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:s})=>n?z.createElement(e,{error:n,reset:s}):t.children})}class UU extends z.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Pv({error:t}){const[e,n]=z.useState(!1);return p.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[p.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),p.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(s=>!s),children:e?"Hide Error":"Show Error"})]}),p.jsx("div",{style:{height:".25rem"}}),e?p.jsx("div",{children:p.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?p.jsx("code",{children:t.message}):null})}):null]})}function HU({children:t,fallback:e=null}){return VU()?p.jsx(Rs.Fragment,{children:t}):p.jsx(Rs.Fragment,{children:e})}function VU(){return Rs.useSyncExternalStore(qU,()=>!0,()=>!1)}function qU(){return()=>{}}var Hx={exports:{}},Vx={},qx={exports:{}},Kx={};var AT;function KU(){if(AT)return Kx;AT=1;var t=xh();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,r=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function l(f,g){var y=g(),b=s({inst:{value:y,getSnapshot:g}}),_=b[0].inst,w=b[1];return i(function(){_.value=y,_.getSnapshot=g,u(_)&&w({inst:_})},[f,y,g]),r(function(){return u(_)&&w({inst:_}),f(function(){u(_)&&w({inst:_})})},[f]),a(y),y}function u(f){var g=f.getSnapshot;f=f.value;try{var y=g();return!n(f,y)}catch{return!0}}function h(f,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return Kx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Kx}var RT;function WU(){return RT||(RT=1,qx.exports=KU()),qx.exports}var TT;function GU(){if(TT)return Vx;TT=1;var t=xh(),e=WU();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var s=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Vx.useSyncExternalStoreWithSelector=function(h,m,f,g,y){var b=i(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=l(function(){function k(N){if(!C){if(C=!0,E=N,N=g(N),y!==void 0&&_.hasValue){var M=_.value;if(y(M,N))return A=M}return A=N}if(M=A,s(E,N))return M;var I=g(N);return y!==void 0&&y(M,I)?(E=N,M):(E=N,A=I)}var C=!1,E,A,R=f===void 0?null:f;return[function(){return k(m())},R===null?void 0:function(){return k(R())}]},[m,f,g,y]);var w=r(h,b[0],b[1]);return a(function(){_.hasValue=!0,_.value=w},[w]),u(w),w},Vx}var jT;function YU(){return jT||(jT=1,Hx.exports=GU()),Hx.exports}var ZU=YU();function JU(t,e=s=>s,n={}){const s=n.equal??XU;return ZU.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,s)}function XU(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[s,r]of t)if(!e.has(s)||!Object.is(r,e.get(s)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=OT(t);if(n.length!==OT(e).length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!Object.is(t[n[s]],e[n[s]]))return!1;return!0}function OT(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const Wx=z.createContext(null);function kD(){return typeof document>"u"?Wx:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Wx,Wx)}function Mr(t){const e=z.useContext(kD());return t?.warn,e}function ar(t){const e=Mr({warn:t?.router===void 0}),n=t?.router||e,s=z.useRef(void 0);return JU(n.__store,r=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const i=Yr(s.current,t.select(r));return s.current=i,i}return t.select(r)}return r})}const Lv=z.createContext(void 0),QU=z.createContext(void 0);function qi(t){const e=z.useContext(t.from?QU:Lv);return ar({select:s=>{const r=s.matches.find(i=>t.from?t.from===i.routeId:i.id===e);if(Da(!((t.shouldThrow??!0)&&!r),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),r!==void 0)return t.select?t.select(r):r},structuralSharing:t.structuralSharing})}function MC(t){return qi({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function IC(t){const{select:e,...n}=t;return qi({...n,select:s=>e?e(s.loaderDeps):s.loaderDeps})}function Wp(t){return qi({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function Bv(t){return qi({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}const Wg=typeof window<"u"?z.useLayoutEffect:z.useEffect;function Gx(t){const e=z.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function eH(t,e,n={},s={}){z.useEffect(()=>{if(!t.current||s.disabled||typeof IntersectionObserver!="function")return;const r=new IntersectionObserver(([i])=>{e(i)},n);return r.observe(t.current),()=>{r.disconnect()}},[e,n,s.disabled,t])}function tH(t){const e=z.useRef(null);return z.useImperativeHandle(t,()=>e.current,[]),e}function Sh(t){const e=Mr();return z.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}var DC=lD();function nH(t,e){const n=Mr(),[s,r]=z.useState(!1),i=z.useRef(!1),a=tH(e),{activeProps:l,inactiveProps:u,activeOptions:h,to:m,preload:f,preloadDelay:g,hashScrollIntoView:y,replace:b,startTransition:_,resetScroll:w,viewTransition:k,children:C,target:E,disabled:A,style:R,className:N,onClick:M,onFocus:I,onMouseEnter:q,onMouseLeave:B,onTouchStart:K,ignoreBlocker:$,params:W,search:Z,hash:G,state:L,mask:Y,reloadDocument:X,unsafeRelative:U,from:O,_fromLocation:P,...V}=t,T=ar({select:Ie=>Ie.location.search,structuralSharing:!0}),Q=t.from,te=z.useMemo(()=>({...t,from:Q}),[n,T,Q,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),J=z.useMemo(()=>n.buildLocation({...te}),[n,te]),ue=z.useMemo(()=>{if(A)return;let Ie=J.maskedLocation?J.maskedLocation.url.href:J.url.href,Ke=!1;return n.origin&&(Ie.startsWith(n.origin)?Ie=n.history.createHref(Ie.replace(n.origin,""))||"/":Ke=!0),{href:Ie,external:Ke}},[A,J.maskedLocation,J.url,n.origin,n.history]),we=z.useMemo(()=>{if(ue?.external)return ue.href;try{return new URL(m),m}catch{}},[m,ue]),ke=t.reloadDocument||we?!1:f??n.options.defaultPreload,et=g??n.options.defaultPreloadDelay??0,ze=ar({select:Ie=>{if(we)return!1;if(h?.exact){if(!dU(Ie.location.pathname,J.pathname,n.basepath))return!1}else{const Ke=py(Ie.location.pathname,n.basepath),Te=py(J.pathname,n.basepath);if(!(Ke.startsWith(Te)&&(Ke.length===Te.length||Ke[Te.length]==="/")))return!1}return(h?.includeSearch??!0)&&!Hl(Ie.location.search,J.search,{partial:!h?.exact,ignoreUndefined:!h?.explicitUndefined})?!1:h?.includeHash?Ie.location.hash===J.hash:!0}}),Ce=z.useCallback(()=>{n.preloadRoute({...te}).catch(Ie=>{console.warn(Ie),console.warn(zU)})},[n,te]),Oe=z.useCallback(Ie=>{Ie?.isIntersecting&&Ce()},[Ce]);eH(a,Oe,oH,{disabled:!!A||ke!=="viewport"}),z.useEffect(()=>{i.current||!A&&ke==="render"&&(Ce(),i.current=!0)},[A,Ce,ke]);const qe=Ie=>{const Ke=Ie.currentTarget.getAttribute("target"),Te=E!==void 0?E:Ke;if(!A&&!lH(Ie)&&!Ie.defaultPrevented&&(!Te||Te==="_self")&&Ie.button===0){Ie.preventDefault(),DC.flushSync(()=>{r(!0)});const ae=n.subscribe("onResolved",()=>{ae(),r(!1)});n.navigate({...te,replace:b,resetScroll:w,hashScrollIntoView:y,startTransition:_,viewTransition:k,ignoreBlocker:$})}};if(we)return{...V,ref:a,href:we,...C&&{children:C},...E&&{target:E},...A&&{disabled:A},...R&&{style:R},...N&&{className:N},...M&&{onClick:M},...I&&{onFocus:I},...q&&{onMouseEnter:q},...B&&{onMouseLeave:B},...K&&{onTouchStart:K}};const lt=Ie=>{A||ke&&Ce()},at=lt,Lt=Ie=>{if(!(A||!ke))if(!et)Ce();else{const Ke=Ie.target;if(Fd.has(Ke))return;const Te=setTimeout(()=>{Fd.delete(Ke),Ce()},et);Fd.set(Ke,Te)}},Bt=Ie=>{if(A||!ke||!et)return;const Ke=Ie.target,Te=Fd.get(Ke);Te&&(clearTimeout(Te),Fd.delete(Ke))},At=ze?jo(l,{})??sH:Yx,jt=ze?Yx:jo(u,{})??Yx,De=[N,At.className,jt.className].filter(Boolean).join(" "),He=(R||At.style||jt.style)&&{...R,...At.style,...jt.style};return{...V,...At,...jt,href:ue?.href,ref:a,onClick:Ud([M,qe]),onFocus:Ud([I,lt]),onMouseEnter:Ud([q,Lt]),onMouseLeave:Ud([B,Bt]),onTouchStart:Ud([K,at]),disabled:!!A,target:E,...He&&{style:He},...De&&{className:De},...A&&rH,...ze&&iH,...s&&aH}}const Yx={},sH={className:"active"},rH={role:"link","aria-disabled":!0},iH={"data-status":"active","aria-current":"page"},aH={"data-transitioning":"transitioning"},Fd=new WeakMap,oH={rootMargin:"100px"},Ud=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}},Zi=z.forwardRef((t,e)=>{const{_asChild:n,...s}=t,{type:r,ref:i,...a}=nH(s,e),l=typeof s.children=="function"?s.children({isActive:a["data-status"]==="active"}):s.children;return n===void 0&&delete a.disabled,z.createElement(n||"a",{...a,ref:i},l)});function lH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}let cH=class extends wD{constructor(e){super(e),this.useMatch=n=>qi({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>qi({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>Bv({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Wp({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>IC({...n,from:this.id}),this.useLoaderData=n=>MC({...n,from:this.id}),this.useNavigate=()=>Sh({from:this.fullPath}),this.Link=Rs.forwardRef((n,s)=>p.jsx(Zi,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function Ji(t){return new cH(t)}class uH extends FU{constructor(e){super(e),this.useMatch=n=>qi({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>qi({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>Bv({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Wp({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>IC({...n,from:this.id}),this.useLoaderData=n=>MC({...n,from:this.id}),this.useNavigate=()=>Sh({from:this.fullPath}),this.Link=Rs.forwardRef((n,s)=>p.jsx(Zi,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function hH(t){return new uH(t)}function MT(t){return typeof t=="object"?new IT(t,{silent:!0}).createRoute(t):new IT(t,{silent:!0}).createRoute}class IT{constructor(e,n){this.path=e,this.createRoute=s=>{this.silent;const r=Ji(s);return r.isRoot=!1,r},this.silent=n?.silent}}class DT{constructor(e){this.useMatch=n=>qi({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>qi({from:this.options.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>Bv({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>Wp({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>IC({...n,from:this.options.id}),this.useLoaderData=n=>MC({...n,from:this.options.id}),this.useNavigate=()=>{const n=Mr();return Sh({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function PT(t){return typeof t=="object"?new DT(t):e=>new DT({id:t,...e})}function dH(){const t=Mr(),e=z.useRef({router:t,mounted:!1}),[n,s]=z.useState(!1),{hasPendingMatches:r,isLoading:i}=ar({select:f=>({isLoading:f.isLoading,hasPendingMatches:f.matches.some(g=>g.status==="pending")}),structuralSharing:!0}),a=Gx(i),l=i||n||r,u=Gx(l),h=i||r,m=Gx(h);return t.startTransition=f=>{s(!0),z.startTransition(()=>{f(),s(!1)})},z.useEffect(()=>{const f=t.history.subscribe(t.load),g=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Vl(t.latestLocation.publicHref)!==Vl(g.publicHref)&&t.commitLocation({...g,replace:!0}),()=>{f()}},[t,t.history]),Wg(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(g){console.error(g)}})()},[t]),Wg(()=>{a&&!i&&t.emit({type:"onLoad",...ql(t.state)})},[a,t,i]),Wg(()=>{m&&!h&&t.emit({type:"onBeforeRouteMount",...ql(t.state)})},[h,m,t]),Wg(()=>{if(u&&!l){const f=ql(t.state);t.emit({type:"onResolved",...f}),t.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),f.hrefChanged&&_U(t)}},[l,u,t]),null}function fH(t){const e=ar({select:n=>`not-found-${n.location.pathname}-${n.status}`});return p.jsx(OC,{getResetKey:()=>e,onCatch:(n,s)=>{if(Rr(n))t.onCatch?.(n,s);else throw n},errorComponent:({error:n})=>{if(Rr(n))return t.fallback?.(n);throw n},children:t.children})}function pH(){return p.jsx("p",{children:"Not Found"})}function Eu(t){return p.jsx(p.Fragment,{children:t.children})}function CD(t,e,n){return e.options.notFoundComponent?p.jsx(e.options.notFoundComponent,{...n}):t.options.defaultNotFoundComponent?p.jsx(t.options.defaultNotFoundComponent,{...n}):p.jsx(pH,{})}function mH({children:t}){const e=Mr();return e.isServer?p.jsx("script",{nonce:e.options.ssr?.nonce,dangerouslySetInnerHTML:{__html:t+";document.currentScript.remove()"}}):null}function gH(){const t=Mr();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const n=(t.options.getScrollRestorationKey||Cw)(t.latestLocation),s=n!==Cw(t.latestLocation)?n:void 0,r={storageKey:my,shouldScrollRestoration:!0};return s&&(r.key=s),p.jsx(mH,{children:`(${fD.toString()})(${JSON.stringify(r)})`})}const ND=z.memo(function({matchId:e}){const n=Mr(),s=ar({select:k=>{const C=k.matches.find(E=>E.id===e);return Da(C),{routeId:C.routeId,ssr:C.ssr,_displayPending:C._displayPending}},structuralSharing:!0}),r=n.routesById[s.routeId],i=r.options.pendingComponent??n.options.defaultPendingComponent,a=i?p.jsx(i,{}):null,l=r.options.errorComponent??n.options.defaultErrorComponent,u=r.options.onCatch??n.options.defaultOnCatch,h=r.isRoot?r.options.notFoundComponent??n.options.notFoundRoute?.options.component:r.options.notFoundComponent,m=s.ssr===!1||s.ssr==="data-only",f=(!r.isRoot||r.options.wrapInSuspense||m)&&(r.options.wrapInSuspense??i??(r.options.errorComponent?.preload||m))?z.Suspense:Eu,g=l?OC:Eu,y=h?fH:Eu,b=ar({select:k=>k.loadedAt}),_=ar({select:k=>{const C=k.matches.findIndex(E=>E.id===e);return k.matches[C-1]?.routeId}}),w=r.isRoot?r.options.shellComponent??Eu:Eu;return p.jsxs(w,{children:[p.jsx(Lv.Provider,{value:e,children:p.jsx(f,{fallback:a,children:p.jsx(g,{getResetKey:()=>b,errorComponent:l||Pv,onCatch:(k,C)=>{if(Rr(k))throw k;u?.(k,C)},children:p.jsx(y,{fallback:k=>{if(!h||k.routeId&&k.routeId!==s.routeId||!k.routeId&&!r.isRoot)throw k;return z.createElement(h,k)},children:m||s._displayPending?p.jsx(HU,{fallback:a,children:p.jsx(LT,{matchId:e})}):p.jsx(LT,{matchId:e})})})})}),_===Cr&&n.options.scrollRestoration?p.jsxs(p.Fragment,{children:[p.jsx(yH,{}),p.jsx(gH,{})]}):null]})});function yH(){const t=Mr(),e=z.useRef(void 0);return p.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...ql(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const LT=z.memo(function({matchId:e}){const n=Mr(),{match:s,key:r,routeId:i}=ar({select:u=>{const h=u.matches.find(b=>b.id===e),m=h.routeId,g=(n.routesById[m].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:m,loaderDeps:h.loaderDeps,params:h._strictParams,search:h._strictSearch});return{key:g?JSON.stringify(g):void 0,routeId:m,match:{id:h.id,status:h.status,error:h.error,invalid:h.invalid,_forcePending:h._forcePending,_displayPending:h._displayPending}}},structuralSharing:!0}),a=n.routesById[i],l=z.useMemo(()=>{const u=a.options.component??n.options.defaultComponent;return u?p.jsx(u,{},r):p.jsx(ED,{})},[r,a.options.component,n.options.defaultComponent]);if(s._displayPending)throw n.getMatch(s.id)?._nonReactive.displayPendingPromise;if(s._forcePending)throw n.getMatch(s.id)?._nonReactive.minPendingPromise;if(s.status==="pending"){const u=a.options.pendingMinMs??n.options.defaultPendingMinMs;if(u){const h=n.getMatch(s.id);if(h&&!h._nonReactive.minPendingPromise&&!n.isServer){const m=eh();h._nonReactive.minPendingPromise=m,setTimeout(()=>{m.resolve(),h._nonReactive.minPendingPromise=void 0},u)}}throw n.getMatch(s.id)?._nonReactive.loadPromise}if(s.status==="notFound")return Da(Rr(s.error)),CD(n,a,s.error);if(s.status==="redirected")throw Da(ei(s.error)),n.getMatch(s.id)?._nonReactive.loadPromise;if(s.status==="error"){if(n.isServer){const u=(a.options.errorComponent??n.options.defaultErrorComponent)||Pv;return p.jsx(u,{error:s.error,reset:void 0,info:{componentStack:""}})}throw s.error}return l}),ED=z.memo(function(){const e=Mr(),n=z.useContext(Lv),s=ar({select:h=>h.matches.find(m=>m.id===n)?.routeId}),r=e.routesById[s],i=ar({select:h=>{const f=h.matches.find(g=>g.id===n);return Da(f),f.globalNotFound}}),a=ar({select:h=>{const m=h.matches,f=m.findIndex(g=>g.id===n);return m[f+1]?.id}}),l=e.options.defaultPendingComponent?p.jsx(e.options.defaultPendingComponent,{}):null;if(i)return CD(e,r,void 0);if(!a)return null;const u=p.jsx(ND,{matchId:a});return s===Cr?p.jsx(z.Suspense,{fallback:l,children:u}):u});function vH(){const t=Mr(),n=t.routesById[Cr].options.pendingComponent??t.options.defaultPendingComponent,s=n?p.jsx(n,{}):null,r=t.isServer||typeof document<"u"&&t.ssr?Eu:z.Suspense,i=p.jsxs(r,{fallback:s,children:[!t.isServer&&p.jsx(dH,{}),p.jsx(bH,{})]});return t.options.InnerWrap?p.jsx(t.options.InnerWrap,{children:i}):i}function bH(){const t=Mr(),e=ar({select:r=>r.matches[0]?.id}),n=ar({select:r=>r.loadedAt}),s=e?p.jsx(ND,{matchId:e}):null;return p.jsx(Lv.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?s:p.jsx(OC,{getResetKey:()=>n,errorComponent:Pv,onCatch:r=>{r.message||r.toString()},children:s})})}const _H=t=>new xH(t);class xH extends DU{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=MT,globalThis.createLazyFileRoute=PT):typeof window<"u"&&(window.createFileRoute=MT,window.createLazyFileRoute=PT);function SH({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const s=kD(),r=p.jsx(s.Provider,{value:t,children:e});return t.options.Wrap?p.jsx(t.options.Wrap,{children:r}):r}function wH({router:t,...e}){return p.jsx(SH,{router:t,...e,children:p.jsx(vH,{})})}let cf={};async function kH(){try{const t=await fetch("/config.json");if(t.ok){const e=await t.json();cf={...cf,...e}}else console.warn("Failed to load config.json, using defaults");return cf}catch(t){return console.warn("Error loading config:",t),cf}}function Ki(){return cf}function CH(t,e){return e.some(n=>n.includes("*")?new RegExp(`^${n.replace(/\*/g,".*")}$`).test(t):n===t)}var Gp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},NH={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},EH=class{#t=NH;#e=!1;setTimeoutProvider(t){this.#t=t}setTimeout(t,e){return this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},Dl=new EH;function AH(t){setTimeout(t,0)}var ec=typeof window>"u"||"Deno"in globalThis;function sr(){}function RH(t,e){return typeof t=="function"?t(e):t}function Ew(t){return typeof t=="number"&&t>=0&&t!==1/0}function AD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fo(t,e){return typeof t=="function"?t(e):t}function Zr(t,e){return typeof t=="function"?t(e):t}function BT(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:l}=t;if(a){if(s){if(e.queryHash!==PC(a,e.options))return!1}else if(!_p(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||i&&!i(e))}function $T(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(bp(e.options.mutationKey)!==bp(i))return!1}else if(!_p(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function PC(t,e){return(e?.queryKeyHashFn||bp)(t)}function bp(t){return JSON.stringify(t,(e,n)=>Rw(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function _p(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>_p(t[n],e[n])):!1}var TH=Object.prototype.hasOwnProperty;function RD(t,e){if(t===e)return t;const n=zT(t)&&zT(e);if(!n&&!(Rw(t)&&Rw(e)))return e;const r=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,l=n?new Array(a):{};let u=0;for(let h=0;h<a;h++){const m=n?h:i[h],f=t[m],g=e[m];if(f===g){l[m]=f,(n?h<r:TH.call(t,m))&&u++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){l[m]=g;continue}const y=RD(f,g);l[m]=y,y===f&&u++}return r===a&&u===r?t:l}function Aw(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function zT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Rw(t){if(!FT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!FT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function FT(t){return Object.prototype.toString.call(t)==="[object Object]"}function jH(t){return new Promise(e=>{Dl.setTimeout(e,t)})}function Tw(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?RD(t,e):e}function UT(t){return t}function OH(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function MH(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var LC=Symbol();function TD(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===LC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function jD(t,e){return typeof t=="function"?t(...e):!!t}function IH(t,e,n){let s=!1,r;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(r??=e(),s||(s=!0,r.aborted?n():r.addEventListener("abort",n,{once:!0})),r)}),t}var DH=class extends Gp{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!ec&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},BC=new DH;function jw(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}var PH=AH;function LH(){let t=[],e=0,n=l=>{l()},s=l=>{l()},r=PH;const i=l=>{e?t.push(l):r(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&r(()=>{s(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{r=l}}}var ps=LH(),BH=class extends Gp{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!ec&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},vy=new BH;function $H(t){return Math.min(1e3*2**t,3e4)}function OD(t){return(t??"online")==="online"?vy.isOnline():!0}var Ow=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function MD(t){let e=!1,n=0,s;const r=jw(),i=()=>r.status!=="pending",a=_=>{if(!i()){const w=new Ow(_);g(w),t.onCancel?.(w)}},l=()=>{e=!0},u=()=>{e=!1},h=()=>BC.isFocused()&&(t.networkMode==="always"||vy.isOnline())&&t.canRun(),m=()=>OD(t.networkMode)&&t.canRun(),f=_=>{i()||(s?.(),r.resolve(_))},g=_=>{i()||(s?.(),r.reject(_))},y=()=>new Promise(_=>{s=w=>{(i()||h())&&_(w)},t.onPause?.()}).then(()=>{s=void 0,i()||t.onContinue?.()}),b=()=>{if(i())return;let _;const w=n===0?t.initialPromise:void 0;try{_=w??t.fn()}catch(k){_=Promise.reject(k)}Promise.resolve(_).then(f).catch(k=>{if(i())return;const C=t.retry??(ec?0:3),E=t.retryDelay??$H,A=typeof E=="function"?E(n,k):E,R=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,k);if(e||!R){g(k);return}n++,t.onFail?.(n,k),jH(A).then(()=>h()?void 0:y()).then(()=>{e?g(k):b()})})};return{promise:r,status:()=>r.status,cancel:a,continue:()=>(s?.(),r),cancelRetry:l,continueRetry:u,canStart:m,start:()=>(m()?b():y().then(b),r)}}var ID=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ew(this.gcTime)&&(this.#t=Dl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ec?1/0:300*1e3))}clearGcTimeout(){this.#t&&(Dl.clearTimeout(this.#t),this.#t=void 0)}},zH=class extends ID{#t;#e;#n;#r;#s;#o;#i;constructor(t){super(),this.#i=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=VT(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=VT(this.options);e.data!==void 0&&(this.setState(HT(e.data,e.dataUpdatedAt)),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Tw(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#s?.promise;return this.#s?.cancel(t),e?e.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Zr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===LC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Fo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!AD(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#s&&(this.#i?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,s=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},r=()=>{const l=TD(this.options,e),h=(()=>{const m={client:this.#r,queryKey:this.queryKey,meta:this.meta};return s(m),m})();return this.#i=!1,this.options.persister?this.options.persister(l,h,this):l(h)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};return s(l),l})();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#a({type:"fetch",meta:a.fetchOptions?.meta}),this.#s=MD({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof Ow&&l.revert&&this.setState({...this.#e,fetchStatus:"idle"}),n.abort()},onFail:(l,u)=>{this.#a({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#s.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof Ow){if(l.silent)return this.#s.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#a({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...DD(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...HT(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?s:void 0,s;case"error":const r=t.error;return{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),ps.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function DD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HT(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function VT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var FH=class extends Gp{constructor(t,e){super(),this.options=e,this.#t=t,this.#a=null,this.#i=jw(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#s;#o;#i;#a;#p;#m;#c;#u;#l;#h;#d=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),qT(this.#e,this.options)?this.#f():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mw(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mw(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#x(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),e._defaulted&&!Aw(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const s=this.hasListeners();s&&KT(this.#e,n,this.options,e)&&this.#f(),this.updateResult(),s&&(this.#e!==n||Zr(this.options.enabled,this.#e)!==Zr(e.enabled,this.#e)||Fo(this.options.staleTime,this.#e)!==Fo(e.staleTime,this.#e))&&this.#g();const r=this.#y();s&&(this.#e!==n||Zr(this.options.enabled,this.#e)!==Zr(e.enabled,this.#e)||r!==this.#h)&&this.#v(r)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return HH(this,n)&&(this.#r=n,this.#o=this.options,this.#s=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),e?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){this.#d.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#f(t){this.#S();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(sr)),e}#g(){this.#_();const t=Fo(this.options.staleTime,this.#e);if(ec||this.#r.isStale||!Ew(t))return;const n=AD(this.#r.dataUpdatedAt,t)+1;this.#u=Dl.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#h=t,!(ec||Zr(this.options.enabled,this.#e)===!1||!Ew(this.#h)||this.#h===0)&&(this.#l=Dl.setInterval(()=>{(this.options.refetchIntervalInBackground||BC.isFocused())&&this.#f()},this.#h))}#b(){this.#g(),this.#v(this.#y())}#_(){this.#u&&(Dl.clearTimeout(this.#u),this.#u=void 0)}#x(){this.#l&&(Dl.clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const n=this.#e,s=this.options,r=this.#r,i=this.#s,a=this.#o,u=t!==n?t.state:this.#n,{state:h}=t;let m={...h},f=!1,g;if(e._optimisticResults){const I=this.hasListeners(),q=!I&&qT(t,e),B=I&&KT(t,n,e,s);(q||B)&&(m={...m,...DD(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:_}=m;g=m.data;let w=!1;if(e.placeholderData!==void 0&&g===void 0&&_==="pending"){let I;r?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(I=r.data,w=!0):I=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,I!==void 0&&(_="success",g=Tw(r?.data,I,e),f=!0)}if(e.select&&g!==void 0&&!w)if(r&&g===i?.data&&e.select===this.#p)g=this.#m;else try{this.#p=e.select,g=e.select(g),g=Tw(r?.data,g,e),this.#m=g,this.#a=null}catch(I){this.#a=I}this.#a&&(y=this.#a,g=this.#m,b=Date.now(),_="error");const k=m.fetchStatus==="fetching",C=_==="pending",E=_==="error",A=C&&k,R=g!==void 0,M={status:_,fetchStatus:m.fetchStatus,isPending:C,isSuccess:_==="success",isError:E,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:k,isRefetching:k&&!C,isLoadingError:E&&!R,isPaused:m.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:E&&R,isStale:$C(t,e),refetch:this.refetch,promise:this.#i,isEnabled:Zr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=K=>{M.status==="error"?K.reject(M.error):M.data!==void 0&&K.resolve(M.data)},q=()=>{const K=this.#i=M.promise=jw();I(K)},B=this.#i;switch(B.status){case"pending":t.queryHash===n.queryHash&&I(B);break;case"fulfilled":(M.status==="error"||M.data!==B.value)&&q();break;case"rejected":(M.status!=="error"||M.error!==B.reason)&&q();break}}return M}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#o=this.options,this.#s.data!==void 0&&(this.#c=this.#e),Aw(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,r=typeof s=="function"?s():s;if(r==="all"||!r&&!this.#d.size)return!0;const i=new Set(r??this.#d);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(a=>{const l=a;return this.#r[l]!==t[l]&&i.has(l)})};this.#w({listeners:n()})}#S(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#w(t){ps.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function UH(t,e){return Zr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qT(t,e){return UH(t,e)||t.state.data!==void 0&&Mw(t,e,e.refetchOnMount)}function Mw(t,e,n){if(Zr(e.enabled,t)!==!1&&Fo(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&$C(t,e)}return!1}function KT(t,e,n,s){return(t!==e||Zr(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&$C(t,n)}function $C(t,e){return Zr(e.enabled,t)!==!1&&t.isStaleByTime(Fo(e.staleTime,t))}function HH(t,e){return!Aw(t.getCurrentResult(),e)}function WT(t){return{onFetch:(e,n)=>{const s=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const h=async()=>{let m=!1;const f=b=>{IH(b,()=>e.signal,()=>m=!0)},g=TD(e.options,e.fetchOptions),y=async(b,_,w)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:_,direction:w?"backward":"forward",meta:e.options.meta};return f(N),N})(),E=await g(C),{maxPages:A}=e.options,R=w?MH:OH;return{pages:R(b.pages,E,A),pageParams:R(b.pageParams,_,A)}};if(r&&i.length){const b=r==="backward",_=b?VH:GT,w={pages:i,pageParams:a},k=_(s,w);l=await y(w,k,b)}else{const b=t??i.length;do{const _=u===0?a[0]??s.initialPageParam:GT(s,l);if(u>0&&_==null)break;l=await y(l,_),u++}while(u<b)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function GT(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function VH(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var qH=class extends ID{#t;#e;#n;#r;constructor(t){super(),this.#t=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#e=[],this.state=t.state||KH(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#s({type:"continue"})},n={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=MD({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#s({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#s({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",r=!this.#r.canStart();try{if(s)e();else{this.#s({type:"pending",variables:t,isPaused:r}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#s({type:"pending",context:a,variables:t,isPaused:r})}const i=await this.#r.start();return await this.#n.config.onSuccess?.(i,t,this.state.context,this,n),await this.options.onSuccess?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,t,this.state.context,n),this.#s({type:"success",data:i}),i}catch(i){try{await this.#n.config.onError?.(i,t,this.state.context,this,n)}catch(a){Promise.reject(a)}try{await this.options.onError?.(i,t,this.state.context,n)}catch(a){Promise.reject(a)}try{await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,i,t,this.state.context,n)}catch(a){Promise.reject(a)}throw this.#s({type:"error",error:i}),i}finally{this.#n.runNext(this)}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),ps.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function KH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var WH=class extends Gp{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(t,e,n){const s=new qH({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#t.add(t);const e=Gg(t);if(typeof e=="string"){const n=this.#e.get(e);n?n.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Gg(t);if(typeof e=="string"){const n=this.#e.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Gg(t);if(typeof e=="string"){const s=this.#e.get(e)?.find(r=>r.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=Gg(t);return typeof e=="string"?this.#e.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ps.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>$T(e,n))}findAll(t={}){return this.getAll().filter(e=>$T(t,e))}notify(t){ps.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return ps.batch(()=>Promise.all(t.map(e=>e.continue().catch(sr))))}};function Gg(t){return t.options.scope?.id}var GH=class extends Gp{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const s=e.queryKey,r=e.queryHash??PC(s,e);let i=this.get(r);return i||(i=new zH({client:t,queryKey:s,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ps.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>BT(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>BT(t,n)):e}notify(t){ps.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){ps.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ps.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},YH=class{#t;#e;#n;#r;#s;#o;#i;#a;constructor(t={}){this.#t=t.queryCache||new GH,this.#e=t.mutationCache||new WH,this.#n=t.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=BC.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=vy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#t.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Fo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),i=this.#t.get(s.queryHash)?.state.data,a=RH(e,i);if(a!==void 0)return this.#t.build(this,s).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return ps.batch(()=>this.#t.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;ps.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#t;return ps.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=ps.batch(()=>this.#t.findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(sr).catch(sr)}invalidateQueries(t,e={}){return ps.batch(()=>(this.#t.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=ps.batch(()=>this.#t.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(sr)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(sr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#t.build(this,e);return n.isStaleByTime(Fo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sr).catch(sr)}fetchInfiniteQuery(t){return t.behavior=WT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sr).catch(sr)}ensureInfiniteQueryData(t){return t.behavior=WT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return vy.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(bp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{_p(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#s.set(bp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{_p(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=PC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===LC&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},PD=z.createContext(void 0),ZH=t=>{const e=z.useContext(PD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},JH=({client:t,children:e})=>(z.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(PD.Provider,{value:t,children:e})),LD=z.createContext(!1),XH=()=>z.useContext(LD);LD.Provider;function QH(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var eV=z.createContext(QH()),tV=()=>z.useContext(eV),nV=(t,e,n)=>{const s=n?.state.error&&typeof t.throwOnError=="function"?jD(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||s)&&(e.isReset()||(t.retryOnMount=!1))},sV=t=>{z.useEffect(()=>{t.clearReset()},[t])},rV=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&t.data===void 0||jD(n,[t.error,s])),iV=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...r)=>n(s(...r)):n(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},aV=(t,e)=>t.isLoading&&t.isFetching&&!e,oV=(t,e)=>t?.suspense&&e.isPending,YT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function lV(t,e,n){const s=XH(),r=tV(),i=ZH(),a=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const l=i.getQueryCache().get(a.queryHash);a._optimisticResults=s?"isRestoring":"optimistic",iV(a),nV(a,r,l),sV(r);const u=!i.getQueryCache().get(a.queryHash),[h]=z.useState(()=>new e(i,a)),m=h.getOptimisticResult(a),f=!s&&t.subscribed!==!1;if(z.useSyncExternalStore(z.useCallback(g=>{const y=f?h.subscribe(ps.batchCalls(g)):sr;return h.updateResult(),y},[h,f]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),z.useEffect(()=>{h.setOptions(a)},[a,h]),oV(a,m))throw YT(a,h,r);if(rV({result:m,errorResetBoundary:r,throwOnError:a.throwOnError,query:l,suspense:a.suspense}))throw m.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,m),a.experimental_prefetchInRender&&!ec&&aV(m,s)&&(u?YT(a,h,r):l?.promise)?.catch(sr).finally(()=>{h.updateResult()}),a.notifyOnChangeProps?m:h.trackResult(m)}function by(t,e){return lV(t,FH)}function Se(t,e,n){function s(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),l._zod.traits.has(t))return;l._zod.traits.add(t),e(l,u);const h=a.prototype,m=Object.keys(h);for(let f=0;f<m.length;f++){const g=m[f];g in l||(l[g]=h[g].bind(l))}}const r=n?.Parent??Object;class i extends r{}Object.defineProperty(i,"name",{value:t});function a(l){var u;const h=n?.Parent?new i:this;s(h,l),(u=h._zod).deferred??(u.deferred=[]);for(const m of h._zod.deferred)m();return h}return Object.defineProperty(a,"init",{value:s}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>n?.Parent&&l instanceof n.Parent?!0:l?._zod?.traits?.has(t)}),Object.defineProperty(a,"name",{value:t}),a}class Ku extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class BD extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const $D={};function tc(t){return $D}function zD(t){const e=Object.values(t).filter(s=>typeof s=="number");return Object.entries(t).filter(([s,r])=>e.indexOf(+s)===-1).map(([s,r])=>r)}function Iw(t,e){return typeof e=="bigint"?e.toString():e}function zC(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function FC(t){return t==null}function UC(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const ZT=Symbol("evaluating");function Zt(t,e,n){let s;Object.defineProperty(t,e,{get(){if(s!==ZT)return s===void 0&&(s=ZT,s=n()),s},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function _c(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function el(...t){const e={};for(const n of t){const s=Object.getOwnPropertyDescriptors(n);Object.assign(e,s)}return Object.defineProperties({},e)}function JT(t){return JSON.stringify(t)}function cV(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const FD="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function _y(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const uV=zC(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function xp(t){if(_y(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(_y(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function UD(t){return xp(t)?{...t}:Array.isArray(t)?[...t]:t}const hV=new Set(["string","number","symbol"]);function $v(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function tl(t,e,n){const s=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(s._zod.parent=t),s}function yt(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function dV(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function fV(t,e){const n=t._zod.def,s=n.checks;if(s&&s.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=el(t._zod.def,{get shape(){const a={};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(a[l]=n.shape[l])}return _c(this,"shape",a),a},checks:[]});return tl(t,i)}function pV(t,e){const n=t._zod.def,s=n.checks;if(s&&s.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=el(t._zod.def,{get shape(){const a={...t._zod.def.shape};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete a[l]}return _c(this,"shape",a),a},checks:[]});return tl(t,i)}function mV(t,e){if(!xp(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const i=t._zod.def.shape;for(const a in e)if(Object.getOwnPropertyDescriptor(i,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=el(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return _c(this,"shape",i),i}});return tl(t,r)}function gV(t,e){if(!xp(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=el(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return _c(this,"shape",s),s}});return tl(t,n)}function yV(t,e){const n=el(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e._zod.def.shape};return _c(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return tl(t,n)}function vV(t,e,n){const r=e._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=el(e._zod.def,{get shape(){const l=e._zod.def.shape,u={...l};if(n)for(const h in n){if(!(h in l))throw new Error(`Unrecognized key: "${h}"`);n[h]&&(u[h]=t?new t({type:"optional",innerType:l[h]}):l[h])}else for(const h in l)u[h]=t?new t({type:"optional",innerType:l[h]}):l[h];return _c(this,"shape",u),u},checks:[]});return tl(e,a)}function bV(t,e,n){const s=el(e._zod.def,{get shape(){const r=e._zod.def.shape,i={...r};if(n)for(const a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=new t({type:"nonoptional",innerType:r[a]}))}else for(const a in r)i[a]=new t({type:"nonoptional",innerType:r[a]});return _c(this,"shape",i),i}});return tl(e,s)}function Pu(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function HD(t,e){return e.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(t),n})}function Yg(t){return typeof t=="string"?t:t?.message}function nc(t,e,n){const s={...t,path:t.path??[]};if(!t.message){const r=Yg(t.inst?._zod.def?.error?.(t))??Yg(e?.error?.(t))??Yg(n.customError?.(t))??Yg(n.localeError?.(t))??"Invalid input";s.message=r}return delete s.inst,delete s.continue,e?.reportInput||delete s.input,s}function HC(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Sp(...t){const[e,n,s]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:s}:{...e}}const VD=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Iw,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},qD=Se("$ZodError",VD),KD=Se("$ZodError",VD,{Parent:Error});function _V(t,e=n=>n.message){const n={},s=[];for(const r of t.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:n}}function xV(t,e=n=>n.message){const n={_errors:[]},s=r=>{for(const i of r.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>s({issues:a}));else if(i.code==="invalid_key")s({issues:i.issues});else if(i.code==="invalid_element")s({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let a=n,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(e(i))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(t),n}const VC=t=>(e,n,s,r)=>{const i=s?Object.assign(s,{async:!1}):{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new Ku;if(a.issues.length){const l=new(r?.Err??t)(a.issues.map(u=>nc(u,i,tc())));throw FD(l,r?.callee),l}return a.value},qC=t=>async(e,n,s,r)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new(r?.Err??t)(a.issues.map(u=>nc(u,i,tc())));throw FD(l,r?.callee),l}return a.value},zv=t=>(e,n,s)=>{const r=s?{...s,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},r);if(i instanceof Promise)throw new Ku;return i.issues.length?{success:!1,error:new(t??qD)(i.issues.map(a=>nc(a,r,tc())))}:{success:!0,data:i.value}},SV=zv(KD),Fv=t=>async(e,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},r);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(a=>nc(a,r,tc())))}:{success:!0,data:i.value}},wV=Fv(KD),kV=t=>(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return VC(t)(e,n,r)},CV=t=>(e,n,s)=>VC(t)(e,n,s),NV=t=>async(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return qC(t)(e,n,r)},EV=t=>async(e,n,s)=>qC(t)(e,n,s),AV=t=>(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return zv(t)(e,n,r)},RV=t=>(e,n,s)=>zv(t)(e,n,s),TV=t=>async(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Fv(t)(e,n,r)},jV=t=>async(e,n,s)=>Fv(t)(e,n,s),OV=/^[cC][^\s-]{8,}$/,MV=/^[0-9a-z]+$/,IV=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,DV=/^[0-9a-vA-V]{20}$/,PV=/^[A-Za-z0-9]{27}$/,LV=/^[a-zA-Z0-9_-]{21}$/,BV=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,$V=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,XT=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,zV=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,FV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function UV(){return new RegExp(FV,"u")}const HV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,VV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,qV=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,KV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,WV=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,WD=/^[A-Za-z0-9_-]*$/,GV=/^\+[1-9]\d{6,14}$/,GD="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",YV=new RegExp(`^${GD}$`);function YD(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ZV(t){return new RegExp(`^${YD(t)}$`)}function JV(t){const e=YD({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${n.join("|")})`;return new RegExp(`^${GD}T(?:${s})$`)}const XV=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},QV=/^[^A-Z]*$/,eq=/^[^a-z]*$/,Xi=Se("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),tq=Se("$ZodCheckMaxLength",(t,e)=>{var n;Xi.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!FC(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(s._zod.bag.maximum=e.maximum)}),t._zod.check=s=>{const r=s.value;if(r.length<=e.maximum)return;const a=HC(r);s.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),nq=Se("$ZodCheckMinLength",(t,e)=>{var n;Xi.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!FC(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(s._zod.bag.minimum=e.minimum)}),t._zod.check=s=>{const r=s.value;if(r.length>=e.minimum)return;const a=HC(r);s.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),sq=Se("$ZodCheckLengthEquals",(t,e)=>{var n;Xi.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!FC(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),t._zod.check=s=>{const r=s.value,i=r.length;if(i===e.length)return;const a=HC(r),l=i>e.length;s.issues.push({origin:a,...l?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:t,continue:!e.abort})}}),Uv=Se("$ZodCheckStringFormat",(t,e)=>{var n,s;Xi.init(t,e),t._zod.onattach.push(r=>{const i=r._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(s=t._zod).check??(s.check=()=>{})}),rq=Se("$ZodCheckRegex",(t,e)=>{Uv.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),iq=Se("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=QV),Uv.init(t,e)}),aq=Se("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=eq),Uv.init(t,e)}),oq=Se("$ZodCheckIncludes",(t,e)=>{Xi.init(t,e);const n=$v(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=s,t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(s)}),t._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:t,continue:!e.abort})}}),lq=Se("$ZodCheckStartsWith",(t,e)=>{Xi.init(t,e);const n=new RegExp(`^${$v(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:t,continue:!e.abort})}}),cq=Se("$ZodCheckEndsWith",(t,e)=>{Xi.init(t,e);const n=new RegExp(`.*${$v(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:t,continue:!e.abort})}}),uq=Se("$ZodCheckOverwrite",(t,e)=>{Xi.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class hq{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(a=>a),r=Math.min(...s.map(a=>a.length-a.trimStart().length)),i=s.map(a=>a.slice(r)).map(a=>" ".repeat(this.indent*2)+a);for(const a of i)this.content.push(a)}compile(){const e=Function,n=this?.args,r=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...n,r.join(`
`))}}const dq={major:4,minor:3,patch:4},Yn=Se("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=dq;const s=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&s.unshift(t);for(const r of s)for(const i of r._zod.onattach)i(t);if(s.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const r=(a,l,u)=>{let h=Pu(a),m;for(const f of l){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(h)continue;const g=a.issues.length,y=f._zod.check(a);if(y instanceof Promise&&u?.async===!1)throw new Ku;if(m||y instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await y,a.issues.length!==g&&(h||(h=Pu(a,g)))});else{if(a.issues.length===g)continue;h||(h=Pu(a,g))}}return m?m.then(()=>a):a},i=(a,l,u)=>{if(Pu(a))return a.aborted=!0,a;const h=r(l,s,u);if(h instanceof Promise){if(u.async===!1)throw new Ku;return h.then(m=>t._zod.parse(m,u))}return t._zod.parse(h,u)};t._zod.run=(a,l)=>{if(l.skipChecks)return t._zod.parse(a,l);if(l.direction==="backward"){const h=t._zod.parse({value:a.value,issues:[]},{...l,skipChecks:!0});return h instanceof Promise?h.then(m=>i(m,a,l)):i(h,a,l)}const u=t._zod.parse(a,l);if(u instanceof Promise){if(l.async===!1)throw new Ku;return u.then(h=>r(h,s,l))}return r(u,s,l)}}Zt(t,"~standard",()=>({validate:r=>{try{const i=SV(t,r);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return wV(t,r).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),KC=Se("$ZodString",(t,e)=>{Yn.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??XV(t._zod.bag),t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),pn=Se("$ZodStringFormat",(t,e)=>{Uv.init(t,e),KC.init(t,e)}),fq=Se("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=$V),pn.init(t,e)}),pq=Se("$ZodUUID",(t,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=XT(s))}else e.pattern??(e.pattern=XT());pn.init(t,e)}),mq=Se("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=zV),pn.init(t,e)}),gq=Se("$ZodURL",(t,e)=>{pn.init(t,e),t._zod.check=n=>{try{const s=n.value.trim(),r=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=r.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),yq=Se("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=UV()),pn.init(t,e)}),vq=Se("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=LV),pn.init(t,e)}),bq=Se("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=OV),pn.init(t,e)}),_q=Se("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=MV),pn.init(t,e)}),xq=Se("$ZodULID",(t,e)=>{e.pattern??(e.pattern=IV),pn.init(t,e)}),Sq=Se("$ZodXID",(t,e)=>{e.pattern??(e.pattern=DV),pn.init(t,e)}),wq=Se("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=PV),pn.init(t,e)}),kq=Se("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=JV(e)),pn.init(t,e)}),Cq=Se("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=YV),pn.init(t,e)}),Nq=Se("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=ZV(e)),pn.init(t,e)}),Eq=Se("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=BV),pn.init(t,e)}),Aq=Se("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=HV),pn.init(t,e),t._zod.bag.format="ipv4"}),Rq=Se("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=VV),pn.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),Tq=Se("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=qV),pn.init(t,e)}),jq=Se("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=KV),pn.init(t,e),t._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[r,i]=s;if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function ZD(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Oq=Se("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=WV),pn.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{ZD(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function Mq(t){if(!WD.test(t))return!1;const e=t.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return ZD(n)}const Iq=Se("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=WD),pn.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{Mq(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),Dq=Se("$ZodE164",(t,e)=>{e.pattern??(e.pattern=GV),pn.init(t,e)});function Pq(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&r?.typ!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}const Lq=Se("$ZodJWT",(t,e)=>{pn.init(t,e),t._zod.check=n=>{Pq(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Bq=Se("$ZodUnknown",(t,e)=>{Yn.init(t,e),t._zod.parse=n=>n}),$q=Se("$ZodNever",(t,e)=>{Yn.init(t,e),t._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function QT(t,e,n){t.issues.length&&e.issues.push(...HD(n,t.issues)),e.value[n]=t.value}const zq=Se("$ZodArray",(t,e)=>{Yn.init(t,e),t._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),n;n.value=Array(r.length);const i=[];for(let a=0;a<r.length;a++){const l=r[a],u=e.element._zod.run({value:l,issues:[]},s);u instanceof Promise?i.push(u.then(h=>QT(h,n,a))):QT(u,n,a)}return i.length?Promise.all(i).then(()=>n):n}});function xy(t,e,n,s,r){if(t.issues.length){if(r&&!(n in s))return;e.issues.push(...HD(n,t.issues))}t.value===void 0?n in s&&(e.value[n]=void 0):e.value[n]=t.value}function JD(t){const e=Object.keys(t.shape);for(const s of e)if(!t.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const n=dV(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function XD(t,e,n,s,r,i){const a=[],l=r.keySet,u=r.catchall._zod,h=u.def.type,m=u.optout==="optional";for(const f in e){if(l.has(f))continue;if(h==="never"){a.push(f);continue}const g=u.run({value:e[f],issues:[]},s);g instanceof Promise?t.push(g.then(y=>xy(y,n,f,e,m))):xy(g,n,f,e,m)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const Fq=Se("$ZodObject",(t,e)=>{if(Yn.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const l=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...l};return Object.defineProperty(e,"shape",{value:u}),u}})}const s=zC(()=>JD(e));Zt(t._zod,"propValues",()=>{const l=e.shape,u={};for(const h in l){const m=l[h]._zod;if(m.values){u[h]??(u[h]=new Set);for(const f of m.values)u[h].add(f)}}return u});const r=_y,i=e.catchall;let a;t._zod.parse=(l,u)=>{a??(a=s.value);const h=l.value;if(!r(h))return l.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),l;l.value={};const m=[],f=a.shape;for(const g of a.keys){const y=f[g],b=y._zod.optout==="optional",_=y._zod.run({value:h[g],issues:[]},u);_ instanceof Promise?m.push(_.then(w=>xy(w,l,g,h,b))):xy(_,l,g,h,b)}return i?XD(m,h,l,u,s.value,t):m.length?Promise.all(m).then(()=>l):l}}),Uq=Se("$ZodObjectJIT",(t,e)=>{Fq.init(t,e);const n=t._zod.parse,s=zC(()=>JD(e)),r=g=>{const y=new hq(["shape","payload","ctx"]),b=s.value,_=E=>{const A=JT(E);return`shape[${A}]._zod.run({ value: input[${A}], issues: [] }, ctx)`};y.write("const input = payload.value;");const w=Object.create(null);let k=0;for(const E of b.keys)w[E]=`key_${k++}`;y.write("const newResult = {};");for(const E of b.keys){const A=w[E],R=JT(E),M=g[E]?._zod?.optout==="optional";y.write(`const ${A} = ${_(E)};`),M?y.write(`
        if (${A}.issues.length) {
          if (${R} in input) {
            payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${R}, ...iss.path] : [${R}]
            })));
          }
        }
        
        if (${A}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${A}.value;
        }
        
      `):y.write(`
        if (${A}.issues.length) {
          payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${R}, ...iss.path] : [${R}]
          })));
        }
        
        if (${A}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${A}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const C=y.compile();return(E,A)=>C(g,E,A)};let i;const a=_y,l=!$D.jitless,h=l&&uV.value,m=e.catchall;let f;t._zod.parse=(g,y)=>{f??(f=s.value);const b=g.value;return a(b)?l&&h&&y?.async===!1&&y.jitless!==!0?(i||(i=r(e.shape)),g=i(g,y),m?XD([],b,g,y,f,t):g):n(g,y):(g.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),g)}});function e3(t,e,n,s){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const r=t.filter(i=>!Pu(i));return r.length===1?(e.value=r[0].value,r[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(a=>nc(a,s,tc())))}),e)}const Hq=Se("$ZodUnion",(t,e)=>{Yn.init(t,e),Zt(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),Zt(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),Zt(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),Zt(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${r.map(i=>UC(i.source)).join("|")})$`)}});const n=e.options.length===1,s=e.options[0]._zod.run;t._zod.parse=(r,i)=>{if(n)return s(r,i);let a=!1;const l=[];for(const u of e.options){const h=u._zod.run({value:r.value,issues:[]},i);if(h instanceof Promise)l.push(h),a=!0;else{if(h.issues.length===0)return h;l.push(h)}}return a?Promise.all(l).then(u=>e3(u,r,t,i)):e3(l,r,t,i)}}),Vq=Se("$ZodIntersection",(t,e)=>{Yn.init(t,e),t._zod.parse=(n,s)=>{const r=n.value,i=e.left._zod.run({value:r,issues:[]},s),a=e.right._zod.run({value:r,issues:[]},s);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([u,h])=>t3(n,u,h)):t3(n,i,a)}});function Dw(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(xp(t)&&xp(e)){const n=Object.keys(e),s=Object.keys(t).filter(i=>n.indexOf(i)!==-1),r={...t,...e};for(const i of s){const a=Dw(t[i],e[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};r[i]=a.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<t.length;s++){const r=t[s],i=e[s],a=Dw(r,i);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function t3(t,e,n){const s=new Map;let r;for(const l of e.issues)if(l.code==="unrecognized_keys"){r??(r=l);for(const u of l.keys)s.has(u)||s.set(u,{}),s.get(u).l=!0}else t.issues.push(l);for(const l of n.issues)if(l.code==="unrecognized_keys")for(const u of l.keys)s.has(u)||s.set(u,{}),s.get(u).r=!0;else t.issues.push(l);const i=[...s].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(i.length&&r&&t.issues.push({...r,keys:i}),Pu(t))return t;const a=Dw(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const qq=Se("$ZodEnum",(t,e)=>{Yn.init(t,e);const n=zD(e.entries),s=new Set(n);t._zod.values=s,t._zod.pattern=new RegExp(`^(${n.filter(r=>hV.has(typeof r)).map(r=>typeof r=="string"?$v(r):r.toString()).join("|")})$`),t._zod.parse=(r,i)=>{const a=r.value;return s.has(a)||r.issues.push({code:"invalid_value",values:n,input:a,inst:t}),r}}),Kq=Se("$ZodTransform",(t,e)=>{Yn.init(t,e),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new BD(t.constructor.name);const r=e.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(a=>(n.value=a,n));if(r instanceof Promise)throw new Ku;return n.value=r,n}});function n3(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const QD=Se("$ZodOptional",(t,e)=>{Yn.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Zt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Zt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${UC(n.source)})?$`):void 0}),t._zod.parse=(n,s)=>{if(e.innerType._zod.optin==="optional"){const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>n3(i,n.value)):n3(r,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,s)}}),Wq=Se("$ZodExactOptional",(t,e)=>{QD.init(t,e),Zt(t._zod,"values",()=>e.innerType._zod.values),Zt(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,s)=>e.innerType._zod.run(n,s)}),Gq=Se("$ZodNullable",(t,e)=>{Yn.init(t,e),Zt(t._zod,"optin",()=>e.innerType._zod.optin),Zt(t._zod,"optout",()=>e.innerType._zod.optout),Zt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${UC(n.source)}|null)$`):void 0}),Zt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,s)=>n.value===null?n:e.innerType._zod.run(n,s)}),Yq=Se("$ZodDefault",(t,e)=>{Yn.init(t,e),t._zod.optin="optional",Zt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);if(n.value===void 0)return n.value=e.defaultValue,n;const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>s3(i,e)):s3(r,e)}});function s3(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const Zq=Se("$ZodPrefault",(t,e)=>{Yn.init(t,e),t._zod.optin="optional",Zt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,s))}),Jq=Se("$ZodNonOptional",(t,e)=>{Yn.init(t,e),Zt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),t._zod.parse=(n,s)=>{const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>r3(i,t)):r3(r,t)}});function r3(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const Xq=Se("$ZodCatch",(t,e)=>{Yn.init(t,e),Zt(t._zod,"optin",()=>e.innerType._zod.optin),Zt(t._zod,"optout",()=>e.innerType._zod.optout),Zt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(a=>nc(a,s,tc()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=e.catchValue({...n,error:{issues:r.issues.map(i=>nc(i,s,tc()))},input:n.value}),n.issues=[]),n)}}),Qq=Se("$ZodPipe",(t,e)=>{Yn.init(t,e),Zt(t._zod,"values",()=>e.in._zod.values),Zt(t._zod,"optin",()=>e.in._zod.optin),Zt(t._zod,"optout",()=>e.out._zod.optout),Zt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,s)=>{if(s.direction==="backward"){const i=e.out._zod.run(n,s);return i instanceof Promise?i.then(a=>Zg(a,e.in,s)):Zg(i,e.in,s)}const r=e.in._zod.run(n,s);return r instanceof Promise?r.then(i=>Zg(i,e.out,s)):Zg(r,e.out,s)}});function Zg(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const eK=Se("$ZodReadonly",(t,e)=>{Yn.init(t,e),Zt(t._zod,"propValues",()=>e.innerType._zod.propValues),Zt(t._zod,"values",()=>e.innerType._zod.values),Zt(t._zod,"optin",()=>e.innerType?._zod?.optin),Zt(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i3):i3(r)}});function i3(t){return t.value=Object.freeze(t.value),t}const tK=Se("$ZodCustom",(t,e)=>{Xi.init(t,e),Yn.init(t,e),t._zod.parse=(n,s)=>n,t._zod.check=n=>{const s=n.value,r=e.fn(s);if(r instanceof Promise)return r.then(i=>a3(i,n,s,t));a3(r,n,s,t)}});function a3(t,e,n,s){if(!t){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),e.issues.push(Sp(r))}}var o3;class nK{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const s=n[0];return this._map.set(e,s),s&&typeof s=="object"&&"id"in s&&this._idmap.set(s.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const r={...s,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function sK(){return new nK}(o3=globalThis).__zod_globalRegistry??(o3.__zod_globalRegistry=sK());const uf=globalThis.__zod_globalRegistry;function rK(t,e){return new t({type:"string",...yt(e)})}function iK(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...yt(e)})}function l3(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...yt(e)})}function aK(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...yt(e)})}function oK(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...yt(e)})}function lK(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...yt(e)})}function cK(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...yt(e)})}function uK(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...yt(e)})}function hK(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...yt(e)})}function dK(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...yt(e)})}function fK(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...yt(e)})}function pK(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...yt(e)})}function mK(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...yt(e)})}function gK(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...yt(e)})}function yK(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...yt(e)})}function vK(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...yt(e)})}function bK(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...yt(e)})}function _K(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...yt(e)})}function xK(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...yt(e)})}function SK(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...yt(e)})}function wK(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...yt(e)})}function kK(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...yt(e)})}function CK(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...yt(e)})}function NK(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...yt(e)})}function EK(t,e){return new t({type:"string",format:"date",check:"string_format",...yt(e)})}function AK(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...yt(e)})}function RK(t,e){return new t({type:"string",format:"duration",check:"string_format",...yt(e)})}function TK(t){return new t({type:"unknown"})}function jK(t,e){return new t({type:"never",...yt(e)})}function e6(t,e){return new tq({check:"max_length",...yt(e),maximum:t})}function Sy(t,e){return new nq({check:"min_length",...yt(e),minimum:t})}function t6(t,e){return new sq({check:"length_equals",...yt(e),length:t})}function OK(t,e){return new rq({check:"string_format",format:"regex",...yt(e),pattern:t})}function MK(t){return new iq({check:"string_format",format:"lowercase",...yt(t)})}function IK(t){return new aq({check:"string_format",format:"uppercase",...yt(t)})}function DK(t,e){return new oq({check:"string_format",format:"includes",...yt(e),includes:t})}function PK(t,e){return new lq({check:"string_format",format:"starts_with",...yt(e),prefix:t})}function LK(t,e){return new cq({check:"string_format",format:"ends_with",...yt(e),suffix:t})}function wh(t){return new uq({check:"overwrite",tx:t})}function BK(t){return wh(e=>e.normalize(t))}function $K(){return wh(t=>t.trim())}function zK(){return wh(t=>t.toLowerCase())}function FK(){return wh(t=>t.toUpperCase())}function UK(){return wh(t=>cV(t))}function HK(t,e,n){return new t({type:"array",element:e,...yt(n)})}function VK(t,e,n){return new t({type:"custom",check:"custom",fn:e,...yt(n)})}function qK(t){const e=KK(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(Sp(s,n.value,e._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),n.issues.push(Sp(r))}},t(n.value,n)));return e}function KK(t,e){const n=new Xi({check:"custom",...yt(e)});return n._zod.check=t,n}function n6(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??uf,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function bs(t,e,n={path:[],schemaPath:[]}){var s;const r=t._zod.def,i=e.seen.get(t);if(i)return i.count++,n.schemaPath.includes(t)&&(i.cycle=n.path),i.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,a);const l=t._zod.toJSONSchema?.();if(l)a.schema=l;else{const m={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,a.schema,m);else{const g=a.schema,y=e.processors[r.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);y(t,e,g,m)}const f=t._zod.parent;f&&(a.ref||(a.ref=f),bs(f,e,m),e.seen.get(f).isParent=!0)}const u=e.metadataRegistry.get(t);return u&&Object.assign(a.schema,u),e.io==="input"&&Is(t)&&(delete a.schema.examples,delete a.schema.default),e.io==="input"&&a.schema._prefault&&((s=a.schema).default??(s.default=a.schema._prefault)),delete a.schema._prefault,e.seen.get(t).schema}function s6(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=new Map;for(const a of t.seen.entries()){const l=t.metadataRegistry.get(a[0])?.id;if(l){const u=s.get(l);if(u&&u!==a[0])throw new Error(`Duplicate schema id "${l}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);s.set(l,a[0])}}const r=a=>{const l=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const f=t.external.registry.get(a[0])?.id,g=t.external.uri??(b=>b);if(f)return{ref:g(f)};const y=a[1].defId??a[1].schema.id??`schema${t.counter++}`;return a[1].defId=y,{defId:y,ref:`${g("__shared")}#/${l}/${y}`}}if(a[1]===n)return{ref:"#"};const h=`#/${l}/`,m=a[1].schema.id??`__schema${t.counter++}`;return{defId:m,ref:h+m}},i=a=>{if(a[1].schema.$ref)return;const l=a[1],{ref:u,defId:h}=r(a);l.def={...l.schema},h&&(l.defId=h);const m=l.schema;for(const f in m)delete m[f];m.$ref=u};if(t.cycles==="throw")for(const a of t.seen.entries()){const l=a[1];if(l.cycle)throw new Error(`Cycle detected: #/${l.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of t.seen.entries()){const l=a[1];if(e===a[0]){i(a);continue}if(t.external){const h=t.external.registry.get(a[0])?.id;if(e!==a[0]&&h){i(a);continue}}if(t.metadataRegistry.get(a[0])?.id){i(a);continue}if(l.cycle){i(a);continue}if(l.count>1&&t.reused==="ref"){i(a);continue}}}function r6(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=a=>{const l=t.seen.get(a);if(l.ref===null)return;const u=l.def??l.schema,h={...u},m=l.ref;if(l.ref=null,m){s(m);const g=t.seen.get(m),y=g.schema;if(y.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(y)):Object.assign(u,y),Object.assign(u,h),a._zod.parent===m)for(const _ in u)_==="$ref"||_==="allOf"||_ in h||delete u[_];if(y.$ref)for(const _ in u)_==="$ref"||_==="allOf"||_ in g.def&&JSON.stringify(u[_])===JSON.stringify(g.def[_])&&delete u[_]}const f=a._zod.parent;if(f&&f!==m){s(f);const g=t.seen.get(f);if(g?.schema.$ref&&(u.$ref=g.schema.$ref,g.def))for(const y in u)y==="$ref"||y==="allOf"||y in g.def&&JSON.stringify(u[y])===JSON.stringify(g.def[y])&&delete u[y]}t.override({zodSchema:a,jsonSchema:u,path:l.path??[]})};for(const a of[...t.seen.entries()].reverse())s(a[0]);const r={};if(t.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const a=t.external.registry.get(e)?.id;if(!a)throw new Error("Schema is missing an `id` property");r.$id=t.external.uri(a)}Object.assign(r,n.def??n.schema);const i=t.external?.defs??{};for(const a of t.seen.entries()){const l=a[1];l.def&&l.defId&&(i[l.defId]=l.def)}t.external||Object.keys(i).length>0&&(t.target==="draft-2020-12"?r.$defs=i:r.definitions=i);try{const a=JSON.parse(JSON.stringify(r));return Object.defineProperty(a,"~standard",{value:{...e["~standard"],jsonSchema:{input:wy(e,"input",t.processors),output:wy(e,"output",t.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function Is(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const s=t._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return Is(s.element,n);if(s.type==="set")return Is(s.valueType,n);if(s.type==="lazy")return Is(s.getter(),n);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return Is(s.innerType,n);if(s.type==="intersection")return Is(s.left,n)||Is(s.right,n);if(s.type==="record"||s.type==="map")return Is(s.keyType,n)||Is(s.valueType,n);if(s.type==="pipe")return Is(s.in,n)||Is(s.out,n);if(s.type==="object"){for(const r in s.shape)if(Is(s.shape[r],n))return!0;return!1}if(s.type==="union"){for(const r of s.options)if(Is(r,n))return!0;return!1}if(s.type==="tuple"){for(const r of s.items)if(Is(r,n))return!0;return!!(s.rest&&Is(s.rest,n))}return!1}const WK=(t,e={})=>n=>{const s=n6({...n,processors:e});return bs(t,s),s6(s,t),r6(s,t)},wy=(t,e,n={})=>s=>{const{libraryOptions:r,target:i}=s??{},a=n6({...r??{},target:i,io:e,processors:n});return bs(t,a),s6(a,t),r6(a,t)},GK={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},YK=(t,e,n,s)=>{const r=n;r.type="string";const{minimum:i,maximum:a,format:l,patterns:u,contentEncoding:h}=t._zod.bag;if(typeof i=="number"&&(r.minLength=i),typeof a=="number"&&(r.maxLength=a),l&&(r.format=GK[l]??l,r.format===""&&delete r.format,l==="time"&&delete r.format),h&&(r.contentEncoding=h),u&&u.size>0){const m=[...u];m.length===1?r.pattern=m[0].source:m.length>1&&(r.allOf=[...m.map(f=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:f.source}))])}},ZK=(t,e,n,s)=>{n.not={}},JK=(t,e,n,s)=>{},XK=(t,e,n,s)=>{const r=t._zod.def,i=zD(r.entries);i.every(a=>typeof a=="number")&&(n.type="number"),i.every(a=>typeof a=="string")&&(n.type="string"),n.enum=i},QK=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},eW=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},tW=(t,e,n,s)=>{const r=n,i=t._zod.def,{minimum:a,maximum:l}=t._zod.bag;typeof a=="number"&&(r.minItems=a),typeof l=="number"&&(r.maxItems=l),r.type="array",r.items=bs(i.element,e,{...s,path:[...s.path,"items"]})},nW=(t,e,n,s)=>{const r=n,i=t._zod.def;r.type="object",r.properties={};const a=i.shape;for(const h in a)r.properties[h]=bs(a[h],e,{...s,path:[...s.path,"properties",h]});const l=new Set(Object.keys(a)),u=new Set([...l].filter(h=>{const m=i.shape[h]._zod;return e.io==="input"?m.optin===void 0:m.optout===void 0}));u.size>0&&(r.required=Array.from(u)),i.catchall?._zod.def.type==="never"?r.additionalProperties=!1:i.catchall?i.catchall&&(r.additionalProperties=bs(i.catchall,e,{...s,path:[...s.path,"additionalProperties"]})):e.io==="output"&&(r.additionalProperties=!1)},sW=(t,e,n,s)=>{const r=t._zod.def,i=r.inclusive===!1,a=r.options.map((l,u)=>bs(l,e,{...s,path:[...s.path,i?"oneOf":"anyOf",u]}));i?n.oneOf=a:n.anyOf=a},rW=(t,e,n,s)=>{const r=t._zod.def,i=bs(r.left,e,{...s,path:[...s.path,"allOf",0]}),a=bs(r.right,e,{...s,path:[...s.path,"allOf",1]}),l=h=>"allOf"in h&&Object.keys(h).length===1,u=[...l(i)?i.allOf:[i],...l(a)?a.allOf:[a]];n.allOf=u},iW=(t,e,n,s)=>{const r=t._zod.def,i=bs(r.innerType,e,s),a=e.seen.get(t);e.target==="openapi-3.0"?(a.ref=r.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},aW=(t,e,n,s)=>{const r=t._zod.def;bs(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType},oW=(t,e,n,s)=>{const r=t._zod.def;bs(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},lW=(t,e,n,s)=>{const r=t._zod.def;bs(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},cW=(t,e,n,s)=>{const r=t._zod.def;bs(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType;let a;try{a=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},uW=(t,e,n,s)=>{const r=t._zod.def,i=e.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;bs(i,e,s);const a=e.seen.get(t);a.ref=i},hW=(t,e,n,s)=>{const r=t._zod.def;bs(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType,n.readOnly=!0},i6=(t,e,n,s)=>{const r=t._zod.def;bs(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType},dW=Se("ZodISODateTime",(t,e)=>{kq.init(t,e),bn.init(t,e)});function fW(t){return NK(dW,t)}const pW=Se("ZodISODate",(t,e)=>{Cq.init(t,e),bn.init(t,e)});function mW(t){return EK(pW,t)}const gW=Se("ZodISOTime",(t,e)=>{Nq.init(t,e),bn.init(t,e)});function yW(t){return AK(gW,t)}const vW=Se("ZodISODuration",(t,e)=>{Eq.init(t,e),bn.init(t,e)});function bW(t){return RK(vW,t)}const _W=(t,e)=>{qD.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>xV(t,n)},flatten:{value:n=>_V(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Iw,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Iw,2)}},isEmpty:{get(){return t.issues.length===0}}})},li=Se("ZodError",_W,{Parent:Error}),xW=VC(li),SW=qC(li),wW=zv(li),kW=Fv(li),CW=kV(li),NW=CV(li),EW=NV(li),AW=EV(li),RW=AV(li),TW=RV(li),jW=TV(li),OW=jV(li),Zn=Se("ZodType",(t,e)=>(Yn.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:wy(t,"input"),output:wy(t,"output")}}),t.toJSONSchema=WK(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(el(e,{checks:[...e.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),{parent:!0}),t.with=t.check,t.clone=(n,s)=>tl(t,n,s),t.brand=()=>t,t.register=((n,s)=>(n.add(t,s),t)),t.parse=(n,s)=>xW(t,n,s,{callee:t.parse}),t.safeParse=(n,s)=>wW(t,n,s),t.parseAsync=async(n,s)=>SW(t,n,s,{callee:t.parseAsync}),t.safeParseAsync=async(n,s)=>kW(t,n,s),t.spa=t.safeParseAsync,t.encode=(n,s)=>CW(t,n,s),t.decode=(n,s)=>NW(t,n,s),t.encodeAsync=async(n,s)=>EW(t,n,s),t.decodeAsync=async(n,s)=>AW(t,n,s),t.safeEncode=(n,s)=>RW(t,n,s),t.safeDecode=(n,s)=>TW(t,n,s),t.safeEncodeAsync=async(n,s)=>jW(t,n,s),t.safeDecodeAsync=async(n,s)=>OW(t,n,s),t.refine=(n,s)=>t.check(wG(n,s)),t.superRefine=n=>t.check(kG(n)),t.overwrite=n=>t.check(wh(n)),t.optional=()=>h3(t),t.exactOptional=()=>uG(t),t.nullable=()=>d3(t),t.nullish=()=>h3(d3(t)),t.nonoptional=n=>gG(t,n),t.array=()=>tG(t),t.or=n=>rG([t,n]),t.and=n=>aG(t,n),t.transform=n=>f3(t,lG(n)),t.default=n=>fG(t,n),t.prefault=n=>mG(t,n),t.catch=n=>vG(t,n),t.pipe=n=>f3(t,n),t.readonly=()=>xG(t),t.describe=n=>{const s=t.clone();return uf.add(s,{description:n}),s},Object.defineProperty(t,"description",{get(){return uf.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return uf.get(t);const s=t.clone();return uf.add(s,n[0]),s},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),a6=Se("_ZodString",(t,e)=>{KC.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(s,r,i)=>YK(t,s,r);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...s)=>t.check(OK(...s)),t.includes=(...s)=>t.check(DK(...s)),t.startsWith=(...s)=>t.check(PK(...s)),t.endsWith=(...s)=>t.check(LK(...s)),t.min=(...s)=>t.check(Sy(...s)),t.max=(...s)=>t.check(e6(...s)),t.length=(...s)=>t.check(t6(...s)),t.nonempty=(...s)=>t.check(Sy(1,...s)),t.lowercase=s=>t.check(MK(s)),t.uppercase=s=>t.check(IK(s)),t.trim=()=>t.check($K()),t.normalize=(...s)=>t.check(BK(...s)),t.toLowerCase=()=>t.check(zK()),t.toUpperCase=()=>t.check(FK()),t.slugify=()=>t.check(UK())}),MW=Se("ZodString",(t,e)=>{KC.init(t,e),a6.init(t,e),t.email=n=>t.check(iK(IW,n)),t.url=n=>t.check(uK(DW,n)),t.jwt=n=>t.check(CK(ZW,n)),t.emoji=n=>t.check(hK(PW,n)),t.guid=n=>t.check(l3(c3,n)),t.uuid=n=>t.check(aK(Jg,n)),t.uuidv4=n=>t.check(oK(Jg,n)),t.uuidv6=n=>t.check(lK(Jg,n)),t.uuidv7=n=>t.check(cK(Jg,n)),t.nanoid=n=>t.check(dK(LW,n)),t.guid=n=>t.check(l3(c3,n)),t.cuid=n=>t.check(fK(BW,n)),t.cuid2=n=>t.check(pK($W,n)),t.ulid=n=>t.check(mK(zW,n)),t.base64=n=>t.check(SK(WW,n)),t.base64url=n=>t.check(wK(GW,n)),t.xid=n=>t.check(gK(FW,n)),t.ksuid=n=>t.check(yK(UW,n)),t.ipv4=n=>t.check(vK(HW,n)),t.ipv6=n=>t.check(bK(VW,n)),t.cidrv4=n=>t.check(_K(qW,n)),t.cidrv6=n=>t.check(xK(KW,n)),t.e164=n=>t.check(kK(YW,n)),t.datetime=n=>t.check(fW(n)),t.date=n=>t.check(mW(n)),t.time=n=>t.check(yW(n)),t.duration=n=>t.check(bW(n))});function gs(t){return rK(MW,t)}const bn=Se("ZodStringFormat",(t,e)=>{pn.init(t,e),a6.init(t,e)}),IW=Se("ZodEmail",(t,e)=>{mq.init(t,e),bn.init(t,e)}),c3=Se("ZodGUID",(t,e)=>{fq.init(t,e),bn.init(t,e)}),Jg=Se("ZodUUID",(t,e)=>{pq.init(t,e),bn.init(t,e)}),DW=Se("ZodURL",(t,e)=>{gq.init(t,e),bn.init(t,e)}),PW=Se("ZodEmoji",(t,e)=>{yq.init(t,e),bn.init(t,e)}),LW=Se("ZodNanoID",(t,e)=>{vq.init(t,e),bn.init(t,e)}),BW=Se("ZodCUID",(t,e)=>{bq.init(t,e),bn.init(t,e)}),$W=Se("ZodCUID2",(t,e)=>{_q.init(t,e),bn.init(t,e)}),zW=Se("ZodULID",(t,e)=>{xq.init(t,e),bn.init(t,e)}),FW=Se("ZodXID",(t,e)=>{Sq.init(t,e),bn.init(t,e)}),UW=Se("ZodKSUID",(t,e)=>{wq.init(t,e),bn.init(t,e)}),HW=Se("ZodIPv4",(t,e)=>{Aq.init(t,e),bn.init(t,e)}),VW=Se("ZodIPv6",(t,e)=>{Rq.init(t,e),bn.init(t,e)}),qW=Se("ZodCIDRv4",(t,e)=>{Tq.init(t,e),bn.init(t,e)}),KW=Se("ZodCIDRv6",(t,e)=>{jq.init(t,e),bn.init(t,e)}),WW=Se("ZodBase64",(t,e)=>{Oq.init(t,e),bn.init(t,e)}),GW=Se("ZodBase64URL",(t,e)=>{Iq.init(t,e),bn.init(t,e)}),YW=Se("ZodE164",(t,e)=>{Dq.init(t,e),bn.init(t,e)}),ZW=Se("ZodJWT",(t,e)=>{Lq.init(t,e),bn.init(t,e)}),JW=Se("ZodUnknown",(t,e)=>{Bq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>JK()});function u3(){return TK(JW)}const XW=Se("ZodNever",(t,e)=>{$q.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>ZK(t,n,s)});function QW(t){return jK(XW,t)}const eG=Se("ZodArray",(t,e)=>{zq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>tW(t,n,s,r),t.element=e.element,t.min=(n,s)=>t.check(Sy(n,s)),t.nonempty=n=>t.check(Sy(1,n)),t.max=(n,s)=>t.check(e6(n,s)),t.length=(n,s)=>t.check(t6(n,s)),t.unwrap=()=>t.element});function tG(t,e){return HK(eG,t,e)}const nG=Se("ZodObject",(t,e)=>{Uq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>nW(t,n,s,r),Zt(t,"shape",()=>e.shape),t.keyof=()=>ky(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:u3()}),t.loose=()=>t.clone({...t._zod.def,catchall:u3()}),t.strict=()=>t.clone({...t._zod.def,catchall:QW()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>mV(t,n),t.safeExtend=n=>gV(t,n),t.merge=n=>yV(t,n),t.pick=n=>fV(t,n),t.omit=n=>pV(t,n),t.partial=(...n)=>vV(o6,t,n[0]),t.required=(...n)=>bV(l6,t,n[0])});function Qi(t,e){const n={type:"object",shape:t??{},...yt(e)};return new nG(n)}const sG=Se("ZodUnion",(t,e)=>{Hq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>sW(t,n,s,r),t.options=e.options});function rG(t,e){return new sG({type:"union",options:t,...yt(e)})}const iG=Se("ZodIntersection",(t,e)=>{Vq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>rW(t,n,s,r)});function aG(t,e){return new iG({type:"intersection",left:t,right:e})}const Pw=Se("ZodEnum",(t,e)=>{qq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(s,r,i)=>XK(t,s,r),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(s,r)=>{const i={};for(const a of s)if(n.has(a))i[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Pw({...e,checks:[],...yt(r),entries:i})},t.exclude=(s,r)=>{const i={...e.entries};for(const a of s)if(n.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new Pw({...e,checks:[],...yt(r),entries:i})}});function ky(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new Pw({type:"enum",entries:n,...yt(e)})}const oG=Se("ZodTransform",(t,e)=>{Kq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>eW(t,n),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new BD(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Sp(i,n.value,e));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),n.issues.push(Sp(a))}};const r=e.transform(n.value,n);return r instanceof Promise?r.then(i=>(n.value=i,n)):(n.value=r,n)}});function lG(t){return new oG({type:"transform",transform:t})}const o6=Se("ZodOptional",(t,e)=>{QD.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>i6(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function h3(t){return new o6({type:"optional",innerType:t})}const cG=Se("ZodExactOptional",(t,e)=>{Wq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>i6(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function uG(t){return new cG({type:"optional",innerType:t})}const hG=Se("ZodNullable",(t,e)=>{Gq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>iW(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function d3(t){return new hG({type:"nullable",innerType:t})}const dG=Se("ZodDefault",(t,e)=>{Yq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>oW(t,n,s,r),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function fG(t,e){return new dG({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():UD(e)}})}const pG=Se("ZodPrefault",(t,e)=>{Zq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>lW(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function mG(t,e){return new pG({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():UD(e)}})}const l6=Se("ZodNonOptional",(t,e)=>{Jq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>aW(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function gG(t,e){return new l6({type:"nonoptional",innerType:t,...yt(e)})}const yG=Se("ZodCatch",(t,e)=>{Xq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>cW(t,n,s,r),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function vG(t,e){return new yG({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const bG=Se("ZodPipe",(t,e)=>{Qq.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>uW(t,n,s,r),t.in=e.in,t.out=e.out});function f3(t,e){return new bG({type:"pipe",in:t,out:e})}const _G=Se("ZodReadonly",(t,e)=>{eK.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>hW(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function xG(t){return new _G({type:"readonly",innerType:t})}const SG=Se("ZodCustom",(t,e)=>{tK.init(t,e),Zn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>QK(t,n)});function wG(t,e={}){return VK(SG,t,e)}function kG(t){return qK(t)}const CG=new YH({defaultOptions:{queries:{staleTime:0,refetchInterval:5e3,refetchOnWindowFocus:!1,retry:!1}}});var Zx={exports:{}},Jx={};var p3;function NG(){if(p3)return Jx;p3=1;var t=xh().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return Jx.c=function(e){return t.H.useMemoCache(e)},Jx}var m3;function EG(){return m3||(m3=1,Zx.exports=NG()),Zx.exports}var Le=EG();const AG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RG=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),g3=t=>{const e=RG(t);return e.charAt(0).toUpperCase()+e.slice(1)},c6=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),TG=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var jG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OG=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...l},u)=>z.createElement("svg",{ref:u,...jG,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:c6("lucide",r),...!i&&!TG(l)&&{"aria-hidden":"true"},...l},[...a.map(([h,m])=>z.createElement(h,m)),...Array.isArray(i)?i:[i]]));const Me=(t,e)=>{const n=z.forwardRef(({className:s,...r},i)=>z.createElement(OG,{ref:i,iconNode:e,className:c6(`lucide-${AG(g3(t))}`,`lucide-${t}`,s),...r}));return n.displayName=g3(t),n};const MG=[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]],u6=Me("app-window",MG);const IG=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],ki=Me("box",IG);const DG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],h6=Me("calendar",DG);const PG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],An=Me("check",PG);const LG=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vs=Me("chevron-down",LG);const BG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],si=Me("chevron-right",BG);const $G=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zG=Me("chevron-up",$G);const FG=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],UG=Me("chevrons-up-down",FG);const HG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kh=Me("circle-alert",HG);const VG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qG=Me("circle-check-big",VG);const KG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ci=Me("circle-check",KG);const WG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yp=Me("circle-question-mark",WG);const GG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Fa=Me("circle-x",GG);const YG=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ua=Me("clock",YG);const ZG=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],JG=Me("cloud",ZG);const XG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],QG=Me("columns-3",XG);const eY=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],y3=Me("container",eY);const tY=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ns=Me("copy",tY);const nY=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Hv=Me("cpu",nY);const sY=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],xc=Me("database",sY);const rY=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],iY=Me("diamond",rY);const aY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],WC=Me("disc",aY);const oY=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],GC=Me("external-link",oY);const lY=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],YC=Me("eye-off",lY);const cY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZC=Me("eye",cY);const uY=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Cy=Me("file-check",uY);const hY=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],dY=Me("file-down",hY);const fY=[["path",{d:"M10.65 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v10.1",key:"1a2hbp"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m10 15 1 1",key:"1h4vmv"}],["path",{d:"m11 14-4.586 4.586",key:"maylof"}],["circle",{cx:"5",cy:"20",r:"2",key:"860zyv"}]],d6=Me("file-key",fY);const pY=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ai=Me("file-text",pY);const mY=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Vv=Me("folder-open",mY);const gY=[["path",{d:"M2 9.35V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h7",key:"y8kt7d"}],["path",{d:"m8 16 3-3-3-3",key:"rlqrt1"}]],yY=Me("folder-symlink",gY);const vY=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],bY=Me("folder-tree",vY);const _Y=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xY=Me("funnel",_Y);const SY=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],JC=Me("ghost",SY);const wY=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Ny=Me("git-branch",wY);const kY=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],CY=Me("git-compare",kY);const NY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Tr=Me("globe",NY);const EY=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],js=Me("hard-drive",EY);const AY=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Lw=Me("hash",AY);const RY=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],qv=Me("hexagon",RY);const TY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jY=Me("info",TY);const OY=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Zp=Me("key-round",OY);const MY=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Jp=Me("key",MY);const IY=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],xi=Me("layers",IY);const DY=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],f6=Me("layout-grid",DY);const PY=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Sc=Me("link",PY);const LY=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],BY=Me("list",LY);const $Y=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ma=Me("loader-circle",$Y);const zY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xp=Me("lock",zY);const FY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],UY=Me("mail",FY);const HY=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],VY=Me("maximize-2",HY);const qY=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Wn=Me("network",qY);const KY=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],WY=Me("newspaper",KY);const GY=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],p6=Me("package",GY);const YY=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],wp=Me("pause",YY);const ZY=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Wu=Me("play",ZY);const JY=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M17 8a1 1 0 0 1 1 1v4a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1z",key:"1xoxul"}],["path",{d:"M9 8V2",key:"14iosj"}]],m6=Me("plug",JY);const XY=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],QY=Me("puzzle",XY);const eZ=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tZ=Me("radio",eZ);const nZ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$n=Me("refresh-cw",nZ);const sZ=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],XC=Me("rocket",sZ);const rZ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],iZ=Me("rotate-ccw",rZ);const aZ=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],kp=Me("route",aZ);const oZ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lZ=Me("save",oZ);const cZ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],QC=Me("search",cZ);const uZ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hZ=Me("send",uZ);const dZ=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Si=Me("server",dZ);const fZ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pZ=Me("settings",fZ);const mZ=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],gZ=Me("share-2",mZ);const yZ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],g6=Me("shield-check",yZ);const vZ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ch=Me("shield",vZ);const bZ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],y6=Me("sparkles",bZ);const _Z=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Bw=Me("square",_Z);const xZ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],v6=Me("tag",xZ);const SZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wZ=Me("target",SZ);const kZ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qp=Me("trash-2",kZ);const CZ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ey=Me("triangle-alert",CZ);const NZ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],b6=Me("user",NZ);const EZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kv=Me("x",EZ);const AZ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],eN=Me("zap",AZ);const RZ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],TZ=Me("zoom-in",RZ);const jZ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],OZ=Me("zoom-out",jZ),Ay=new Map,Ry=new Map,Gf=new Map;function MZ(t){t?(Ay.delete(t),Ry.delete(t),Gf.delete(t)):(Ay.clear(),Ry.clear(),Gf.clear())}function v3(t){return t===""?0:t==="apps"?1:t==="batch"?2:t==="networking.k8s.io"?3:t==="storage.k8s.io"?4:t==="rbac.authorization.k8s.io"?5:t.endsWith(".k8s.io")?10:100}function IZ(t){const e=t.group||"";return e?`${t.name}.${e}`:t.name}function Kl(t){const e=t.group||"",n=t.version||"v1";return e?`/apis/${e}/${n}`:"/api/v1"}function b3(t,e,n){const s=IZ(n);t.set(s,n);const r=v3(n.group||""),i=a=>{const l=e.get(a);if(!l)e.set(a,n);else{const u=v3(l.group||"");r<u&&e.set(a,n)}};if(i(n.name),n.singularName&&i(n.singularName),n.shortNames)for(const a of n.shortNames)i(a)}async function Xx(t,e){const n=`/contexts/${e}${t}`,s=await fetch(n);if(!s.ok)throw new Error(`API request failed: ${s.status} ${s.statusText}`);return s.json()}async function Wv(t){const e=Ry.get(t);if(e)return e;const n=Gf.get(t);if(n)return n;const s=(async()=>{const r=new Map,i=new Map;try{const a=await Xx("/api/v1",t);for(const l of a.resources){if(l.name.includes("/"))continue;const u={...l,group:"",version:"v1"};b3(r,i,u)}}catch(a){console.warn("Failed to fetch core v1 resources:",a)}try{const a=await Xx("/apis",t);await Promise.all(a.groups.map(async l=>{const u=l.preferredVersion?.version||l.versions[0]?.version;if(!u)return;const h=`/apis/${l.name}/${u}`;try{const m=await Xx(h,t);for(const f of m.resources){if(f.name.includes("/"))continue;const g={...f,group:f.group||l.name,version:f.version||u};b3(r,i,g)}}catch(m){console.warn(`Failed to fetch resources for ${h}:`,m)}}))}catch(a){console.warn("Failed to fetch API groups:",a)}return Ay.set(t,r),Ry.set(t,i),Gf.delete(t),i})();return Gf.set(t,s),s}async function Zo(t,e){return(await Wv(t)).get(e)}async function _6(t,e){return await Wv(t),Ay.get(t)?.get(e)}async function DZ(t,e,n){const s=await Wv(t);let r="";n&&n.includes("/")&&(r=n.split("/")[0]);for(const i of s.values())if(i.kind===e)if(n){if((i.group||"")===r)return i}else return i;if(n){for(const i of s.values())if(i.kind===e)return i}}function PZ(t){Wv(t).catch(console.error)}function LZ(t){const e=t.spec;if(!e)throw new Error("CRD is missing spec");const n=e.versions.find(i=>i.storage),s=e.versions.find(i=>i.served),r=n?.name||s?.name||e.versions[0]?.name;return{name:e.names.plural,singularName:e.names.singular||"",namespaced:e.scope==="Namespaced",group:e.group,version:r,kind:e.names.kind,verbs:["get","list","watch","create","update","patch","delete"],shortNames:e.names.shortNames}}async function Ha(t,e){const n=e?`/contexts/${e}${t}`:t,s=await fetch(n);if(!s.ok)throw new Error(`API request failed: ${s.status} ${s.statusText}`);return s.json()}async function BZ(t){return Ha("/api/v1/namespaces",t)}async function $Z(t){return(await Ha("/apis/apiextensions.k8s.io/v1/customresourcedefinitions",t)).items}async function zZ(t,e,n,s){const r=Kl(e),i=e.namespaced&&s?`${r}/namespaces/${s}/${e.name}/${n}`:`${r}/${e.name}/${n}`;return Ha(i,t)}async function FZ(t,e,n,s,r){const i=Kl(e),a=e.namespaced&&r?`${i}/namespaces/${r}/${e.name}/${n}`:`${i}/${e.name}/${n}`,l=`/contexts/${t}${a}`,u=await fetch(l,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!u.ok){const h=await u.text();let m=`API request failed: ${u.status} ${u.statusText}`;try{const f=JSON.parse(h);f.message&&(m=f.message)}catch{}throw new Error(m)}return u.json()}async function tN(t,e,n){const s=Kl(e),r=e.namespaced&&n?`${s}/namespaces/${n}/${e.name}`:`${s}/${e.name}`;return(await Ha(r,t)).items}async function UZ(t,e,n){const s=n?`involvedObject.name=${e},involvedObject.namespace=${n}`:`involvedObject.name=${e}`,r=n?`/api/v1/namespaces/${n}/events?fieldSelector=${encodeURIComponent(s)}`:`/api/v1/events?fieldSelector=${encodeURIComponent(s)}`;return(await Ha(r,t)).items.sort((a,l)=>{const u=a.lastTimestamp||a.eventTime||a.metadata?.creationTimestamp||"",h=l.lastTimestamp||l.eventTime||l.metadata?.creationTimestamp||"";return new Date(h).getTime()-new Date(u).getTime()})}const Yf=new Map,Zf=new Map;function HZ(t){t?(Yf.delete(t),Zf.delete(t)):(Yf.clear(),Zf.clear())}async function nN(t){const e=Yf.get(t);if(e!==void 0)return e;const n=Zf.get(t);if(n)return n;const s=(async()=>{try{const i=await _6(t,"pods.metrics.k8s.io")!==void 0;return Yf.set(t,i),i}catch(r){return console.warn("Failed to check metrics availability:",r),Yf.set(t,!1),!1}finally{Zf.delete(t)}})();return Zf.set(t,s),s}function Uo(t){if(!t)return 0;if(t.endsWith("n"))return parseInt(t.slice(0,-1),10)||0;if(t.endsWith("m"))return(parseInt(t.slice(0,-1),10)||0)*1e6;const e=parseFloat(t);return isNaN(e)?0:e*1e9}function Ho(t){if(!t)return 0;const e=t.match(/^(\d+(?:\.\d+)?)(Ki|Mi|Gi|Ti|K|M|G|T|k|m|g|t)?$/);if(!e){const r=parseInt(t,10);return isNaN(r)?0:r}const n=parseFloat(e[1]),s=e[2];if(!s)return n;switch(s){case"Ki":return n*1024;case"Mi":return n*1024*1024;case"Gi":return n*1024*1024*1024;case"Ti":return n*1024*1024*1024*1024;case"K":case"k":return n*1e3;case"M":case"m":return n*1e3*1e3;case"G":case"g":return n*1e3*1e3*1e3;case"T":case"t":return n*1e3*1e3*1e3*1e3;default:return n}}function Cp(t){if(t>=1e9){const e=t/1e9;return e>=10?`${Math.round(e)}`:`${e.toFixed(1)}`}return`${Math.round(t/1e6)}m`}function Np(t){return t>=1024*1024*1024?`${(t/(1024*1024*1024)).toFixed(1)}Gi`:t>=1024*1024?`${(t/(1024*1024)).toFixed(0)}Mi`:t>=1024?`${(t/1024).toFixed(0)}Ki`:`${t}B`}async function VZ(t,e,n){try{return await nN(t)?await Ha(`/apis/metrics.k8s.io/v1beta1/namespaces/${n}/pods/${e}`,t):null}catch{return null}}async function sN(t,e,n){try{if(!await nN(t))return[];const s=Object.entries(n).map(([i,a])=>`${i}=${a}`).join(",");return(await Ha(`/apis/metrics.k8s.io/v1beta1/namespaces/${e}/pods?labelSelector=${encodeURIComponent(s)}`,t)).items||[]}catch{return[]}}async function qZ(t,e){try{return await nN(t)?await Ha(`/apis/metrics.k8s.io/v1beta1/nodes/${e}`,t):null}catch{return null}}function rN(t){const e=new Map;for(const s of t)for(const r of s.containers){const i=e.get(r.name)||{cpuNanos:0,memoryBytes:0,count:0};i.cpuNanos+=Uo(r.usage.cpu),i.memoryBytes+=Ho(r.usage.memory),i.count++,e.set(r.name,i)}const n=new Map;for(const[s,r]of e)n.set(s,{cpu:{usage:Cp(r.cpuNanos),usageNanoCores:r.cpuNanos},memory:{usage:Np(r.memoryBytes),usageBytes:r.memoryBytes}});return n}function KZ({namespaces:t,selectedNamespace:e,onSelectNamespace:n,disabled:s=!1,spaceLabels:r=[],platformNamespaces:i=[]}){const[a,l]=z.useState(!1),[u,h]=z.useState(""),[m,f]=z.useState(-1),g=z.useRef(null),y=z.useRef(null),b=z.useRef(null),_=z.useMemo(()=>I=>CH(I,i),[i]),w=z.useMemo(()=>{const I=[],q=new Set;for(const $ of r){const W=new Map;for(const Z of t){const G=Z.metadata?.name;if(!G||q.has(G))continue;const L=Z.metadata?.labels?.[$];L&&(W.has(L)||W.set(L,[]),W.get(L).push(Z),q.add(G))}for(const[Z,G]of Array.from(W.entries()).sort(([L],[Y])=>L.localeCompare(Y)))I.push({label:Z,namespaces:G.sort((L,Y)=>(L.metadata?.name||"").localeCompare(Y.metadata?.name||""))})}const B=t.filter($=>{const W=$.metadata?.name;return W&&!q.has(W)&&!_(W)}).sort(($,W)=>($.metadata?.name||"").localeCompare(W.metadata?.name||""));B.length>0&&I.push({label:"User",namespaces:B});const K=t.filter($=>{const W=$.metadata?.name;return W&&!q.has(W)&&_(W)}).sort(($,W)=>($.metadata?.name||"").localeCompare(W.metadata?.name||""));return K.length>0&&I.push({label:"Platform",namespaces:K}),I},[t,r,_]),k=z.useMemo(()=>u===""?w:w.map(I=>({...I,namespaces:I.namespaces.filter(q=>q.metadata?.name?.toLowerCase().includes(u.toLowerCase()))})).filter(I=>I.namespaces.length>0),[w,u]),C=z.useMemo(()=>{const I=[];(u===""||"all namespaces".includes(u.toLowerCase()))&&I.push({value:"",label:"All Namespaces"});for(const B of k)for(const K of B.namespaces){const $=K.metadata?.name;$&&I.push({value:$,label:$})}return I},[k,u]),E=k.some(I=>I.namespaces.length>0),A=u===""||"all namespaces".includes(u.toLowerCase());z.useEffect(()=>{if(!a)return;function I(q){g.current&&!g.current.contains(q.target)&&(l(!1),h(""))}return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[a]),z.useEffect(()=>{a&&(y.current?.focus(),f(-1))},[a]);const R=I=>{n(I||void 0),l(!1),h("")},N=I=>{switch(I.key){case"ArrowDown":I.preventDefault(),f(q=>Math.min(q+1,C.length-1));break;case"ArrowUp":I.preventDefault(),f(q=>Math.max(q-1,0));break;case"Enter":I.preventDefault(),m>=0&&m<C.length&&R(C[m].value);break;case"Escape":l(!1),h("");break}};z.useEffect(()=>{m>=0&&b.current&&b.current.querySelector(`[data-index="${m}"]`)?.scrollIntoView({block:"nearest"})},[m]);let M=-1;return p.jsxs("div",{className:"relative",ref:g,children:[p.jsxs("div",{className:"relative",children:[p.jsx("input",{ref:y,type:"text",className:"w-full px-3 py-1.5 pr-8 bg-neutral-50 dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-lg text-sm text-left disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-1 focus:ring-neutral-400/50 dark:focus:ring-neutral-500/50 cursor-default placeholder:text-neutral-400",value:a?u:s?"Cluster":e||"All Namespaces",onChange:I=>h(I.target.value),onFocus:()=>!s&&l(!0),onKeyDown:N,placeholder:a?"Search...":void 0,disabled:s,readOnly:!a}),p.jsx("button",{type:"button",onClick:()=>!s&&l(!a),className:"absolute inset-y-0 right-0 flex items-center pr-2",disabled:s,children:p.jsx(vs,{size:16,className:"text-neutral-400 dark:text-neutral-500"})})]}),a&&p.jsx("div",{ref:b,className:"absolute z-50 w-full mt-1 bg-white dark:bg-neutral-950 rounded-lg shadow-xl max-h-96 overflow-y-auto focus:outline-none border border-neutral-200 dark:border-neutral-700",children:!E&&!A?p.jsx("div",{className:"px-3 py-3 text-sm text-neutral-500 dark:text-neutral-400",children:"No namespaces found"}):p.jsxs(p.Fragment,{children:[A&&p.jsxs("div",{"data-index":++M,onClick:()=>R(""),className:`px-3 py-2 cursor-pointer text-sm flex items-center justify-between ${m===M?"bg-neutral-100 dark:bg-neutral-700":""} ${e===void 0?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400"}`,children:[p.jsx("span",{className:"truncate",children:"All Namespaces"}),e===void 0&&p.jsx(An,{size:16,className:"text-neutral-500 dark:text-neutral-400"})]}),k.map(I=>p.jsxs("div",{className:"py-1",children:[p.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 dark:text-neutral-500 uppercase tracking-wider",children:I.label}),I.namespaces.map(q=>{const B=q.metadata?.name;if(!B)return null;const K=++M,$=e===B,W=m===K;return p.jsxs("div",{"data-index":K,onClick:()=>R(B),className:`mx-1 px-2.5 py-1.5 rounded-md cursor-pointer text-sm flex items-center justify-between ${W?"bg-neutral-100 dark:bg-neutral-700":""} ${$?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400"}`,children:[p.jsx("span",{className:"truncate",children:B}),$&&p.jsx(An,{size:16,className:"text-neutral-500 dark:text-neutral-400"})]},B)})]},I.label))]})})]})}async function WZ(t,e){const n=`/contexts/${e}${t}`,s=await fetch(n,{headers:{Accept:"application/json;as=Table;v=v1;g=meta.k8s.io"}});if(!s.ok)throw new Error(`API request failed: ${s.status} ${s.statusText}`);return s.json()}async function x6(t,e,n){const s=Kl(e),r=e.namespaced&&n?`${s}/namespaces/${n}/${e.name}`:`${s}/${e.name}`;return WZ(r,t)}function _3(t,e){return t.name===e.name&&(t.group||"")===(e.group||"")}const x3=[{kind:"pods",label:"Pods",icon:ki,category:"workloads"},{kind:"deployments",label:"Deployments",icon:XC,category:"workloads"},{kind:"daemonsets",label:"DaemonSets",icon:JC,category:"workloads"},{kind:"statefulsets",label:"StatefulSets",icon:xc,category:"workloads"},{kind:"replicasets",label:"ReplicaSets",icon:xi,category:"workloads"},{kind:"jobs",label:"Jobs",icon:eN,category:"workloads"},{kind:"cronjobs",label:"CronJobs",icon:Ua,category:"workloads"},{kind:"secrets",label:"Secrets",icon:Zp,category:"config"},{kind:"configmaps",label:"ConfigMaps",icon:ai,category:"config"},{kind:"applications",label:"Applications",icon:u6,category:"config"},{kind:"applicationsets",label:"ApplicationSets",icon:f6,category:"config"},{kind:"certificates",label:"Certificates",icon:g6,category:"config"},{kind:"certificaterequests",label:"CertificateRequests",icon:Cy,category:"config"},{kind:"services",label:"Services",icon:m6,category:"network"},{kind:"ingresses",label:"Ingresses",icon:Tr,category:"network"},{kind:"gateways",label:"Gateways",icon:Wn,category:"network"},{kind:"httproutes",label:"HTTPRoutes",icon:Tr,category:"network"},{kind:"grpcroutes",label:"GRPCRoutes",icon:Tr,category:"network"},{kind:"tcproutes",label:"TCPRoutes",icon:Wn,category:"network"},{kind:"udproutes",label:"UDPRoutes",icon:Wn,category:"network"},{kind:"tlsroutes",label:"TLSRoutes",icon:Wn,category:"network"},{kind:"persistentvolumes",label:"PersistentVolumes",icon:js,category:"storage"},{kind:"persistentvolumeclaims",label:"PersistentVolumeClaims",icon:WC,category:"storage"},{kind:"namespaces",label:"Namespaces",icon:Vv,category:"cluster"},{kind:"nodes",label:"Nodes",icon:Si,category:"cluster"},{kind:"events",label:"Events",icon:WY,category:"cluster"}],S3={workloads:"Workloads",config:"Config",network:"Network",storage:"Storage",cluster:"Cluster",crd:"Custom Resources"};function GZ(t){const e=Le.c(47),{context:n,namespace:s,namespaces:r,selectedResource:i,onSelectResource:a,onSelectNamespace:l,isOverviewSelected:u,isWelcome:h}=t;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=new Map,e[0]=m):m=e[0];const[f,g]=z.useState(m);let y;e[1]===Symbol.for("react.memo_cache_sentinel")?(y=[],e[1]=y):y=e[1];const[b,_]=z.useState(y);let w;e[2]===Symbol.for("react.memo_cache_sentinel")?(w={workloads:!0,config:!0,network:!0,storage:!0,cluster:!0,crd:!1},e[2]=w):w=e[2];const[k,C]=z.useState(w);let E,A;e[3]!==n?(E=()=>{(async()=>{const Y=new Map;for(const X of x3){const U=await Zo(n,X.kind);U&&Y.set(X.kind,U)}g(Y)})()},A=[n],e[3]=n,e[4]=E,e[5]=A):(E=e[4],A=e[5]),z.useEffect(E,A);let R,N;e[6]!==n?(R=()=>{$Z(n).then(L=>{const Y=L.map(LZ);Y.sort(QZ),_(Y)}).catch(XZ)},N=[n],e[6]=n,e[7]=R,e[8]=N):(R=e[7],N=e[8]),z.useEffect(R,N);let M;e[9]===Symbol.for("react.memo_cache_sentinel")?(M=L=>{C(Y=>({...Y,[L]:!Y[L]}))},e[9]=M):M=e[9];const I=M;let q,B,K,$,W;if(e[10]!==f||e[11]!==b||e[12]!==k||e[13]!==u||e[14]!==h||e[15]!==s||e[16]!==r||e[17]!==l||e[18]!==a||e[19]!==i){const L=x3.reduce(JZ,{}),Y=b.reduce(ZZ,{}),X=Object.entries(Y).sort(YZ),U=i!==null&&!i.namespaced;let O,P;e[25]===Symbol.for("react.memo_cache_sentinel")?(O=Ki().kubernetes?.tenancyLabels,P=Ki().kubernetes?.platformNamespaces,e[25]=O,e[26]=P):(O=e[25],P=e[26]),e[27]!==s||e[28]!==r||e[29]!==l||e[30]!==U?($=p.jsx("div",{className:"shrink-0 px-3 pb-2",children:p.jsx(KZ,{namespaces:r,selectedNamespace:s,onSelectNamespace:l,disabled:U,spaceLabels:O,platformNamespaces:P})}),e[27]=s,e[28]=r,e[29]=l,e[30]=U,e[31]=$):$=e[31],W="flex-1 py-1 overflow-y-auto overflow-x-hidden min-h-0";const V=`flex items-center w-full px-3 py-2 text-sm rounded-lg transition-colors ${u&&!h?"bg-white/90 text-neutral-900 shadow-sm dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-white/50 hover:text-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-800/50 dark:hover:text-neutral-200"}`;let T;e[32]!==a?(T=()=>a(null),e[32]=a,e[33]=T):T=e[33];let Q,te;e[34]===Symbol.for("react.memo_cache_sentinel")?(Q=p.jsx(Wn,{size:16,className:"mr-2.5 shrink-0 opacity-70"}),te=p.jsx("span",{className:"font-medium",children:"Overview"}),e[34]=Q,e[35]=te):(Q=e[34],te=e[35]),e[36]!==V||e[37]!==T?(q=p.jsx("div",{className:"mb-2 px-2",children:p.jsxs("button",{className:V,onClick:T,children:[Q,te]})}),e[36]=V,e[37]=T,e[38]=q):q=e[38],B=Object.entries(L).map(J=>{const[ue,we]=J;return p.jsxs("div",{className:"mb-1",children:[p.jsxs("button",{className:"flex items-center w-full px-4 py-1.5 text-[11px] font-semibold uppercase tracking-wider text-neutral-500 hover:text-neutral-700 dark:text-neutral-500 dark:hover:text-neutral-400 transition-colors",onClick:()=>I(ue),children:[p.jsx("span",{className:"mr-1.5 opacity-60",children:k[ue]?p.jsx(vs,{size:12}):p.jsx(si,{size:12})}),p.jsx("span",{children:S3[ue]})]}),k[ue]&&p.jsx("ul",{className:"px-2",children:we.map(ke=>{const et=f.get(ke.kind);if(!et)return null;const ze=i!==null&&_3(et,i);return p.jsx("li",{children:p.jsxs("button",{className:`flex items-center w-full px-3 py-2 text-sm rounded-lg transition-colors ${ze?"bg-white/90 text-neutral-900 shadow-sm dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-white/50 hover:text-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-800/50 dark:hover:text-neutral-200"}`,onClick:()=>a(et),children:[p.jsx(ke.icon,{size:16,className:"mr-2.5 shrink-0 opacity-70"}),p.jsx("span",{className:"truncate",children:ke.label})]})},ke.kind)})})]},ue)}),K=b.length>0&&p.jsxs("div",{className:"mb-1",children:[p.jsxs("button",{className:"flex items-center w-full px-4 py-1.5 text-[11px] font-semibold uppercase tracking-wider text-neutral-500 hover:text-neutral-700 dark:text-neutral-500 dark:hover:text-neutral-400 transition-colors",onClick:()=>I("crd"),children:[p.jsx("span",{className:"mr-1.5 opacity-60",children:k.crd?p.jsx(vs,{size:12}):p.jsx(si,{size:12})}),p.jsx("span",{children:S3.crd}),p.jsx("span",{className:"ml-auto px-1.5 py-0.5 bg-neutral-300/60 rounded text-[10px] text-neutral-500 dark:bg-neutral-700 dark:text-neutral-500",children:b.length})]}),k.crd&&p.jsx("div",{className:"px-2",children:X.map(J=>{const[ue,we]=J;return p.jsxs("div",{className:"mb-1",children:[p.jsx("div",{className:"px-3 py-1 text-[10px] text-neutral-400 truncate lowercase dark:text-neutral-600",title:ue,children:ue}),p.jsx("ul",{children:we.map(ke=>{const et=i!==null&&_3(ke,i);return p.jsx("li",{children:p.jsxs("button",{className:`flex items-center w-full px-3 py-2 text-sm rounded-lg transition-colors ${et?"bg-white/90 text-neutral-900 shadow-sm dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-white/50 hover:text-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-800/50 dark:hover:text-neutral-200"}`,onClick:()=>a(ke),title:`${ke.kind} (${ke.group})`,children:[p.jsx(qv,{size:16,className:"mr-2.5 shrink-0 opacity-70"}),p.jsx("span",{className:"truncate",children:ke.kind})]})},`${ke.group||""}/${ke.name}`)})})]},ue)})})]}),e[10]=f,e[11]=b,e[12]=k,e[13]=u,e[14]=h,e[15]=s,e[16]=r,e[17]=l,e[18]=a,e[19]=i,e[20]=q,e[21]=B,e[22]=K,e[23]=$,e[24]=W}else q=e[20],B=e[21],K=e[22],$=e[23],W=e[24];let Z;e[39]!==q||e[40]!==B||e[41]!==K||e[42]!==W?(Z=p.jsxs("nav",{className:W,children:[q,B,K]}),e[39]=q,e[40]=B,e[41]=K,e[42]=W,e[43]=Z):Z=e[43];let G;return e[44]!==$||e[45]!==Z?(G=p.jsxs(p.Fragment,{children:[$,Z]}),e[44]=$,e[45]=Z,e[46]=G):G=e[46],G}function YZ(t,e){const[n]=t,[s]=e,r=n.split(".").reverse().join("."),i=s.split(".").reverse().join(".");return r.localeCompare(i)}function ZZ(t,e){const n=e.group||"core";return t[n]||(t[n]=[]),t[n].push(e),t}function JZ(t,e){return t[e.category]||(t[e.category]=[]),t[e.category].push(e),t}function XZ(t){console.error("Failed to load CRDs:",t)}function QZ(t,e){return t.kind.localeCompare(e.kind)}const eJ="docker";function S6(t){const e=Le.c(32),{mode:n,contexts:s,selectedContext:r,onSelectContext:i,dockerContexts:a,selectedDockerContext:l,onSelectDockerContext:u}=t;let h;e[0]!==a?(h=a===void 0?[]:a,e[0]=a,e[1]=h):h=e[1];const m=h,[f,g]=z.useState(!1),y=z.useRef(null);let b,_;e[2]!==f?(b=()=>{if(!f)return;const L=function(X){y.current&&!y.current.contains(X.target)&&g(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},_=[f],e[2]=f,e[3]=b,e[4]=_):(b=e[3],_=e[4]),z.useEffect(b,_);let w;e[5]!==i||e[6]!==u?(w=(L,Y)=>{Y?u&&u(L):i(L),g(!1)},e[5]=i,e[6]=u,e[7]=w):w=e[7];const k=w,C=n==="docker",E=C?l||eJ:r,A=C?y3:Si,R=s.length,N=m.length;if(R+N<=1)return null;let I;e[8]!==f?(I=()=>g(!f),e[8]=f,e[9]=I):I=e[9];let q;e[10]!==A?(q=p.jsx(A,{size:12,className:"opacity-60 group-hover:opacity-80"}),e[10]=A,e[11]=q):q=e[11];let B;e[12]!==E?(B=p.jsx("span",{className:"truncate flex-1 text-left",children:E}),e[12]=E,e[13]=B):B=e[13];const K=`opacity-40 group-hover:opacity-60 transition-transform ${f?"rotate-180":""}`;let $;e[14]!==K?($=p.jsx(vs,{size:12,className:K}),e[14]=K,e[15]=$):$=e[15];let W;e[16]!==$||e[17]!==I||e[18]!==q||e[19]!==B?(W=p.jsxs("button",{type:"button",onClick:I,className:"flex items-center gap-1.5 w-full px-1 py-0.5 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors rounded group",children:[q,B,$]}),e[16]=$,e[17]=I,e[18]=q,e[19]=B,e[20]=W):W=e[20];let Z;e[21]!==s||e[22]!==m||e[23]!==k||e[24]!==C||e[25]!==f||e[26]!==r||e[27]!==l?(Z=f&&p.jsx("div",{className:"absolute z-50 left-0 right-0 mt-1 bg-white dark:bg-neutral-950 rounded-lg shadow-xl max-h-64 overflow-y-auto border border-neutral-200 dark:border-neutral-700",children:p.jsxs("div",{className:"py-1",children:[m.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 dark:text-neutral-500 uppercase tracking-wider",children:"Docker"}),m.map(L=>{const Y=C&&l===L;return p.jsxs("div",{onClick:()=>k(L,!0),className:`mx-1 px-2.5 py-1.5 rounded-md cursor-pointer text-sm flex items-center justify-between hover:bg-neutral-100 dark:hover:bg-neutral-800 ${Y?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 truncate",children:[p.jsx(y3,{size:14,className:"opacity-50 shrink-0"}),p.jsx("span",{className:"truncate",children:L})]}),Y&&p.jsx(An,{size:14,className:"text-neutral-500 dark:text-neutral-400 shrink-0"})]},`docker-${L}`)})]}),s.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:`px-3 py-1 text-[10px] font-semibold text-neutral-400 dark:text-neutral-500 uppercase tracking-wider ${m.length>0?"mt-1":""}`,children:"Kubernetes"}),s.map(L=>{const Y=!C&&r===L;return p.jsxs("div",{onClick:()=>k(L,!1),className:`mx-1 px-2.5 py-1.5 rounded-md cursor-pointer text-sm flex items-center justify-between hover:bg-neutral-100 dark:hover:bg-neutral-800 ${Y?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 truncate",children:[p.jsx(Si,{size:14,className:"opacity-50 shrink-0"}),p.jsx("span",{className:"truncate",children:L})]}),Y&&p.jsx(An,{size:14,className:"text-neutral-500 dark:text-neutral-400 shrink-0"})]},L)})]})]})}),e[21]=s,e[22]=m,e[23]=k,e[24]=C,e[25]=f,e[26]=r,e[27]=l,e[28]=Z):Z=e[28];let G;return e[29]!==W||e[30]!==Z?(G=p.jsxs("div",{className:"relative",ref:y,children:[W,Z]}),e[29]=W,e[30]=Z,e[31]=G):G=e[31],G}function gu(t){return t.toLowerCase().replace(/[-_.]/g,"")}function w6(t){const e=Le.c(92),{isOpen:n,onClose:s,adapter:r}=t,[i,a]=z.useState(""),[l,u]=z.useState(0);let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[0]=h):h=e[0];const[m,f]=z.useState(h),[g,y]=z.useState(!1),[b,_]=z.useState(!1),[w,k]=z.useState(r.id),[C,E]=z.useState(!1),A=z.useRef(null),R=z.useRef(null),N=z.useRef(null);r.id!==w&&(k(r.id),_(!1));let M,I;e[1]!==r?(M=()=>{let me=!1;return r.initialize().then(()=>{me||_(!0)}),()=>{me=!0}},I=[r],e[1]=r,e[2]=M,e[3]=I):(M=e[2],I=e[3]),z.useEffect(M,I),n&&!C?(E(!0),a(""),u(0),f([])):!n&&C&&E(!1);let q;if(e[4]!==r.searchModePrefixes||e[5]!==i){e:{const me=[...r.searchModePrefixes].sort(sJ);for(const{prefix:dt,mode:Pe}of me)if(i.startsWith(dt)){q={searchMode:Pe,searchQuery:i.slice(dt.length).trim()};break e}let Ge;e[7]!==i?(Ge=i.trim(),e[7]=i,e[8]=Ge):Ge=e[8];let ht;e[9]!==Ge?(ht={searchMode:"search",searchQuery:Ge},e[9]=Ge,e[10]=ht):ht=e[10],q=ht}e[4]=r.searchModePrefixes,e[5]=i,e[6]=q}else q=e[6];const{searchMode:B,searchQuery:K}=q;let $;e:{if(!b){let Ge;e[11]===Symbol.for("react.memo_cache_sentinel")?(Ge=[],e[11]=Ge):Ge=e[11],$=Ge;break e}let me;e[12]!==r?(me=r.getAvailableResourceTypes(),e[12]=r,e[13]=me):me=e[13],$=me}const W=$;let Z;if(e[14]!==W||e[15]!==K){const me=gu(K);Z=W.filter(Ge=>gu(Ge.label).includes(me)||gu(Ge.kind).includes(me)||gu(Ge.category).includes(me)),e[14]=W,e[15]=K,e[16]=Z}else Z=e[16];const G=Z;let L;e:{if(!r.supportsNamespaces){let Ge;e[17]===Symbol.for("react.memo_cache_sentinel")?(Ge=[],e[17]=Ge):Ge=e[17],L=Ge;break e}let me;if(e[18]!==r||e[19]!==K){const Ge=gu(K);me=r.getNamespaces().filter(ht=>gu(ht.name).includes(Ge)),e[18]=r,e[19]=K,e[20]=me}else me=e[20];L=me}const Y=L;let X;e:{if(B==="resources"){let Ge;if(e[21]!==r||e[22]!==G){let ht;e[24]!==r?(ht=dt=>r.resourceTypeToSearchResult(dt),e[24]=r,e[25]=ht):ht=e[25],Ge=G.map(ht),e[21]=r,e[22]=G,e[23]=Ge}else Ge=e[23];X=Ge;break e}if(B==="namespaces"&&r.supportsNamespaces&&r.namespaceToSearchResult){let Ge;if(e[26]!==r.namespaceToSearchResult||e[27]!==Y){let ht;e[29]!==r.namespaceToSearchResult?(ht=dt=>r.namespaceToSearchResult(dt),e[29]=r.namespaceToSearchResult,e[30]=ht):ht=e[30],Ge=Y.map(ht),e[26]=r.namespaceToSearchResult,e[27]=Y,e[28]=Ge}else Ge=e[28];X=Ge;break e}let me;e[31]===Symbol.for("react.memo_cache_sentinel")?(me=[],e[31]=me):me=e[31],X=me}const U=X,O=B==="search"||B==="searchAll"?m:U,P=(B==="search"||B==="searchAll")&&K.length>=2&&b,[V,T]=z.useState(B),[Q,te]=z.useState(U.length);B!==V?(T(B),te(U.length),B!=="search"&&B!=="searchAll"&&u(0)):B!=="search"&&B!=="searchAll"&&U.length!==Q&&(te(U.length),u(0));const[J,ue]=z.useState(P);P&&!J?(ue(!0),y(!0)):!P&&J&&ue(!1);let we,ke;e[32]!==r||e[33]!==B||e[34]!==K||e[35]!==P?(ke=()=>(N.current&&clearTimeout(N.current),P&&(N.current=setTimeout(async()=>{const me=await r.searchResources(K,B==="searchAll");f(me),u(0),y(!1)},300)),()=>{N.current&&clearTimeout(N.current)}),we=[P,B,K,r],e[32]=r,e[33]=B,e[34]=K,e[35]=P,e[36]=we,e[37]=ke):(we=e[36],ke=e[37]),z.useEffect(ke,we),(B==="search"||B==="searchAll")&&K.length<2&&m.length>0&&(f([]),y(!1));let ze;e[38]!==r?(ze=me=>{r.handleSelect(me)},e[38]=r,e[39]=ze):ze=e[39];const Ce=ze;let Oe;e[40]!==l||e[41]!==Ce||e[42]!==s||e[43]!==O?(Oe=me=>{e:switch(me.key){case"ArrowDown":{me.preventDefault(),u(Ge=>Math.min(Ge+1,O.length-1));break e}case"ArrowUp":{me.preventDefault(),u(nJ);break e}case"Enter":{me.preventDefault(),O[l]&&Ce(O[l]);break e}case"Escape":me.preventDefault(),s()}},e[40]=l,e[41]=Ce,e[42]=s,e[43]=O,e[44]=Oe):Oe=e[44];const qe=Oe;let lt,at;e[45]!==n?(lt=()=>{n&&setTimeout(()=>A.current?.focus(),0)},at=[n],e[45]=n,e[46]=lt,e[47]=at):(lt=e[46],at=e[47]),z.useEffect(lt,at);let Lt,Bt;e[48]!==l?(Lt=()=>{l>=0&&R.current&&R.current.querySelector(`[data-index="${l}"]`)?.scrollIntoView({block:"nearest"})},Bt=[l],e[48]=l,e[49]=Lt,e[50]=Bt):(Lt=e[49],Bt=e[50]),z.useEffect(Lt,Bt);let At;e[51]!==r||e[52]!==B?(At=r.getPlaceholder(B,r.getCurrentScopeLabel?.()??void 0),e[51]=r,e[52]=B,e[53]=At):At=e[53];const jt=At;let De;e[54]!==r?(De=r.getHelpItems(),e[54]=r,e[55]=De):De=e[55];const He=De;if(!n)return null;let Ie,Ke;e[56]!==s?(Ie=me=>{me.target===me.currentTarget&&s()},Ke=p.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),e[56]=s,e[57]=Ie,e[58]=Ke):(Ie=e[57],Ke=e[58]);let Te;e[59]===Symbol.for("react.memo_cache_sentinel")?(Te=p.jsx(QC,{size:20,className:"text-neutral-400 dark:text-neutral-500 shrink-0"}),e[59]=Te):Te=e[59];let ae;e[60]===Symbol.for("react.memo_cache_sentinel")?(ae=me=>a(me.target.value),e[60]=ae):ae=e[60];let ve;e[61]!==qe||e[62]!==jt||e[63]!==i?(ve=p.jsx("input",{ref:A,type:"text",className:"flex-1 bg-transparent text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 outline-none text-base",value:i,onChange:ae,onKeyDown:qe,placeholder:jt,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}),e[61]=qe,e[62]=jt,e[63]=i,e[64]=ve):ve=e[64];let Ve;e[65]!==g?(Ve=g&&p.jsx("div",{className:"shrink-0 w-4 h-4 border-2 border-neutral-300 dark:border-neutral-600 border-t-neutral-500 dark:border-t-neutral-400 rounded-full animate-spin"}),e[65]=g,e[66]=Ve):Ve=e[66];let ot;e[67]!==ve||e[68]!==Ve?(ot=p.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-neutral-200 dark:border-neutral-700",children:[Te,ve,Ve]}),e[67]=ve,e[68]=Ve,e[69]=ot):ot=e[69];let bt;e[70]!==l||e[71]!==Ce||e[72]!==He||e[73]!==g||e[74]!==O||e[75]!==B||e[76]!==K?(bt=p.jsx("div",{ref:R,className:"max-h-[60vh] overflow-y-auto",children:O.length===0?p.jsx("div",{className:"px-4 py-8 text-center text-neutral-500 dark:text-neutral-400",children:g?"Searching...":K.length>0&&(B==="search"||B==="searchAll")&&K.length<2?"Type at least 2 characters to search":K.length>0?"No results found":p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{children:"Type to search or use prefixes:"}),p.jsx("div",{className:"text-sm space-y-1",children:He.map(tJ)})]})}):p.jsx("div",{className:"py-2",children:O.map((me,Ge)=>{const ht=me.icon,dt=Ge===l;return p.jsxs("div",{"data-index":Ge,onClick:()=>Ce(me),className:`flex items-center gap-3 px-4 py-2.5 cursor-pointer ${dt?"bg-neutral-100 dark:bg-neutral-800":"hover:bg-neutral-50 dark:hover:bg-neutral-800/50"}`,children:[p.jsx(ht,{size:18,className:`shrink-0 ${me.type==="namespace"?"text-blue-500":me.type==="resource"?"text-green-500":"text-neutral-400 dark:text-neutral-500"}`}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"text-sm text-neutral-900 dark:text-neutral-100 truncate",children:me.label}),me.sublabel&&p.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:me.sublabel})]}),p.jsxs("div",{className:"shrink-0 text-xs text-neutral-400 dark:text-neutral-500",children:[me.type==="resource-type"&&"Type",me.type==="namespace"&&"Namespace",me.type==="resource"&&"Resource"]})]},me.id)})})}),e[70]=l,e[71]=Ce,e[72]=He,e[73]=g,e[74]=O,e[75]=B,e[76]=K,e[77]=bt):bt=e[77];let un;e[78]===Symbol.for("react.memo_cache_sentinel")?(un=p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("span",{children:[p.jsx("kbd",{className:"px-1 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded",children:""})," Navigate"]}),p.jsxs("span",{children:[p.jsx("kbd",{className:"px-1 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded",children:""})," Select"]}),p.jsxs("span",{children:[p.jsx("kbd",{className:"px-1 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded",children:"esc"})," Close"]})]}),e[78]=un):un=e[78];let re;e[79]!==r||e[80]!==B?(re=r.getCurrentScopeLabel?.()&&B==="search"&&p.jsxs("span",{children:["Scope: ",r.getCurrentScopeLabel()]}),e[79]=r,e[80]=B,e[81]=re):re=e[81];let oe;e[82]!==re?(oe=p.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t border-neutral-200 dark:border-neutral-700 text-xs text-neutral-400 dark:text-neutral-500",children:[un,re]}),e[82]=re,e[83]=oe):oe=e[83];let fe;e[84]!==ot||e[85]!==bt||e[86]!==oe?(fe=p.jsxs("div",{className:"relative w-full max-w-2xl mx-4 bg-white dark:bg-neutral-900 rounded-xl shadow-2xl border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[ot,bt,oe]}),e[84]=ot,e[85]=bt,e[86]=oe,e[87]=fe):fe=e[87];let Ne;return e[88]!==Ie||e[89]!==Ke||e[90]!==fe?(Ne=DC.createPortal(p.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[15vh]",onClick:Ie,children:[Ke,fe]}),document.body),e[88]=Ie,e[89]=Ke,e[90]=fe,e[91]=Ne):Ne=e[91],Ne}function tJ(t){return p.jsxs("p",{children:[p.jsx("kbd",{className:"px-1.5 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded text-xs",children:t.prefix})," ",t.label]},t.prefix)}function nJ(t){return Math.max(t-1,0)}function sJ(t,e){return e.prefix.length-t.prefix.length}function Xg(t){return t.toLowerCase().replace(/[-_.]/g,"")}const Qg=[{kind:"pods",label:"Pods",icon:ki,category:"Workloads"},{kind:"deployments",label:"Deployments",icon:XC,category:"Workloads"},{kind:"daemonsets",label:"DaemonSets",icon:JC,category:"Workloads"},{kind:"statefulsets",label:"StatefulSets",icon:xc,category:"Workloads"},{kind:"replicasets",label:"ReplicaSets",icon:xi,category:"Workloads"},{kind:"jobs",label:"Jobs",icon:eN,category:"Workloads"},{kind:"cronjobs",label:"CronJobs",icon:Ua,category:"Workloads"},{kind:"secrets",label:"Secrets",icon:Zp,category:"Config"},{kind:"configmaps",label:"ConfigMaps",icon:ai,category:"Config"},{kind:"applications",label:"Applications",icon:u6,category:"Config"},{kind:"applicationsets",label:"ApplicationSets",icon:f6,category:"Config"},{kind:"certificates",label:"Certificates",icon:g6,category:"Config"},{kind:"certificaterequests",label:"CertificateRequests",icon:Cy,category:"Config"},{kind:"services",label:"Services",icon:m6,category:"Network"},{kind:"ingresses",label:"Ingresses",icon:Tr,category:"Network"},{kind:"gateways",label:"Gateways",icon:Wn,category:"Network"},{kind:"httproutes",label:"HTTPRoutes",icon:Tr,category:"Network"},{kind:"grpcroutes",label:"GRPCRoutes",icon:Tr,category:"Network"},{kind:"tcproutes",label:"TCPRoutes",icon:Wn,category:"Network"},{kind:"udproutes",label:"UDPRoutes",icon:Wn,category:"Network"},{kind:"tlsroutes",label:"TLSRoutes",icon:Wn,category:"Network"},{kind:"persistentvolumes",label:"PersistentVolumes",icon:js,category:"Storage"},{kind:"persistentvolumeclaims",label:"PersistentVolumeClaims",icon:WC,category:"Storage"},{kind:"namespaces",label:"Namespaces",icon:Vv,category:"Cluster"},{kind:"nodes",label:"Nodes",icon:Si,category:"Cluster"}];function rJ(t){const{context:e,namespace:n,namespaces:s,setNamespace:r,setSelectedResource:i,setSelectedItem:a,onClose:l}=t;let u=new Map;return{id:"kubernetes",resourceTypes:Qg,supportsNamespaces:!0,searchModePrefixes:[{prefix:"@@",mode:"searchAll"},{prefix:">",mode:"resources"},{prefix:"@",mode:"namespaces"}],async initialize(){const m=new Map;for(const f of Qg)try{const g=await Zo(e,f.kind);g&&m.set(f.kind,g)}catch{}u=m},getAvailableResourceTypes(){return Qg.filter(m=>u.has(m.kind))},getNamespaces(){return s.filter(m=>m.metadata?.name).map(m=>({name:m.metadata.name}))},resourceTypeToSearchResult(m){return{id:`type-${m.kind}`,type:"resource-type",label:m.label,sublabel:m.category,icon:m.icon,category:m.category,data:{resourceConfig:u.get(m.kind)}}},namespaceToSearchResult(m){return{id:`ns-${m.name}`,type:"namespace",label:m.name,icon:Vv,data:{namespace:m.name}}},async searchResources(m,f){if(!m||m.length<2)return[];const g=[],y=Xg(m),b=f?void 0:n,_=Qg.filter(k=>u.has(k.kind)).map(async k=>{const C=u.get(k.kind);if(!C)return[];try{const E=await x6(e,C,b),A=[];for(const R of E.rows){if(!R.object.metadata)continue;const N=R.object.metadata.name,M=R.object.metadata.namespace;N&&Xg(N).includes(y)&&A.push({id:`${k.kind}/${M||""}/${N}`,type:"resource",label:N,sublabel:M?`${k.label} in ${M}`:k.label,icon:k.icon,category:k.category,data:{resourceConfig:C,namespace:M,resourceName:N}})}return A}catch{return[]}}),w=await Promise.all(_);for(const k of w)g.push(...k);return g.sort((k,C)=>{const E=Xg(k.label)===y,A=Xg(C.label)===y;return E&&!A?-1:!E&&A?1:k.label.localeCompare(C.label)}),g.slice(0,50)},handleSelect(m){if(m.type==="resource-type"){const f=m.data.resourceConfig;f&&i(f)}else if(m.type==="namespace")r(m.data.namespace);else if(m.type==="resource"){const f=m.data.resourceConfig,g=m.data.namespace,y=m.data.resourceName;g&&g!==n&&r(g),f&&y?a(f.name,y,g):f&&i(f)}l()},getPlaceholder(m,f){switch(m){case"resources":return"Search resource types...";case"namespaces":return"Search namespaces...";case"searchAll":return"Search resources across all namespaces...";default:return`Search resources in ${f||n||"current namespace"}... (> types, @ ns, @@ all)`}},getHelpItems(){return[{prefix:">",label:"Resource types"},{prefix:"@",label:"Namespaces"},{prefix:"@@",label:"Search all namespaces"}]},getCurrentScopeLabel(){return n||null}}}function w3(t){const e=Math.floor((Date.now()-t.getTime())/1e3);if(e<60)return`${e}s ago`;const n=Math.floor(e/60);if(n<60)return`${n}m ago`;const s=Math.floor(n/60);return s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`}function Hd(t){const e=t.match(/^(\d+)(Ki|Mi|Gi|Ti|K|M|G|T)?$/);if(!e)return t;const n=parseInt(e[1],10),s=e[2];return s?s==="Ki"&&n>=1024*1024?`${(n/(1024*1024)).toFixed(1)}Gi`:s==="Ki"&&n>=1024?`${(n/1024).toFixed(1)}Mi`:s==="Mi"&&n>=1024?`${(n/1024).toFixed(1)}Gi`:t:n>=1024*1024*1024?`${(n/(1024*1024*1024)).toFixed(1)}Gi`:n>=1024*1024?`${(n/(1024*1024)).toFixed(1)}Mi`:n>=1024?`${(n/1024).toFixed(1)}Ki`:`${n}B`}function k6(t){switch(t){case"ReadWriteOnce":return"bg-blue-500/20 text-blue-400 border border-blue-500/30";case"ReadOnlyMany":return"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30";case"ReadWriteMany":return"bg-purple-500/20 text-purple-400 border border-purple-500/30";case"ReadWriteOncePod":return"bg-amber-500/20 text-amber-400 border border-amber-500/30";default:return"bg-gray-700 text-gray-300"}}function C6(t){switch(t){case"ReadWriteOnce":return"RWO";case"ReadOnlyMany":return"ROX";case"ReadWriteMany":return"RWX";case"ReadWriteOncePod":return"RWOP";default:return t}}function iJ(t){const e=t.split(" ");if(e.length!==5)return t;const[n,s,r,i,a]=e;if(t==="* * * * *")return"Every minute";if(t==="0 * * * *")return"Every hour";if(t==="0 0 * * *")return"Every day at midnight";if(t==="0 0 * * 0")return"Every Sunday at midnight";if(t==="0 0 1 * *")return"First day of every month at midnight";const l=[];if(n!=="*"&&l.push(`at minute ${n}`),s!=="*"&&l.push(`at hour ${s}`),r!=="*"&&l.push(`on day ${r}`),i!=="*"&&l.push(`in month ${i}`),a!=="*"){const u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=parseInt(a);l.push(`on ${isNaN(h)?a:u[h]||a}`)}return l.length>0?l.join(", "):"Custom schedule"}function k3(t){return{name:t.name,image:t.image||"",resources:t.resources?{requests:t.resources.requests,limits:t.resources.limits}:void 0,ports:t.ports?.map(e=>({name:e.name,containerPort:e.containerPort,protocol:e.protocol})),command:t.command,args:t.args,mounts:t.volumeMounts?.map(e=>({name:e.name,mountPath:e.mountPath,readOnly:e.readOnly,subPath:e.subPath})),env:t.env?.map(N6),envFrom:t.envFrom?.map(E6).filter(e=>e!==null)}}function Nh(t,e,n){const s=[];return e&&e.length>0&&s.push({id:"init-containers",title:"Init Containers",data:{type:"containers",items:e.map(k3)}}),t&&t.length>0&&s.push({id:"containers",title:"Containers",data:{type:"containers",items:t.map(k3),metricsLoader:n}}),s}function aJ(t){if(!t||t.length===0)return null;let e=0,n=0,s=0,r=0,i=!1,a=!1,l=!1,u=!1;for(const h of t){const m=h.resources;if(!m)continue;const f=m.requests,g=m.limits;f?.cpu&&(e+=Uo(f.cpu),i=!0),g?.cpu&&(n+=Uo(g.cpu),a=!0),f?.memory&&(s+=Ho(f.memory),l=!0),g?.memory&&(r+=Ho(g.memory),u=!0)}return!i&&!a&&!l&&!u?null:{cpu:{requests:i?Cp(e):void 0,requestsNanoCores:i?e:void 0,limits:a?Cp(n):void 0,limitsNanoCores:a?n:void 0},memory:{requests:l?Np(s):void 0,requestsBytes:l?s:void 0,limits:u?Np(r):void 0,limitsBytes:u?r:void 0}}}function wc(t){const e=aJ(t);return e?{id:"resource-quota",data:{type:"resource-quota",data:e}}:null}function N6(t){if(t.value!==void 0)return{name:t.name,value:t.value};if(t.valueFrom){if(t.valueFrom.secretKeyRef)return{name:t.name,valueFrom:{type:"secretKeyRef",source:t.valueFrom.secretKeyRef.name??"",key:t.valueFrom.secretKeyRef.key}};if(t.valueFrom.configMapKeyRef)return{name:t.name,valueFrom:{type:"configMapKeyRef",source:t.valueFrom.configMapKeyRef.name??"",key:t.valueFrom.configMapKeyRef.key}};if(t.valueFrom.fieldRef)return{name:t.name,valueFrom:{type:"fieldRef",source:t.valueFrom.fieldRef.fieldPath}};if(t.valueFrom.resourceFieldRef){const e=t.valueFrom.resourceFieldRef.resource,n=t.valueFrom.resourceFieldRef.containerName;return{name:t.name,valueFrom:{type:"resourceFieldRef",source:n?`${n}/${e}`:e}}}}return{name:t.name,value:""}}function E6(t){return t.configMapRef?{name:t.configMapRef.name??"",type:"configMap",prefix:t.prefix}:t.secretRef?{name:t.secretRef.name??"",type:"secret",prefix:t.prefix}:null}const oJ={kinds:["Deployment","Deployments"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,i=r?.namespace;if(!n)return{sections:[]};const a=n.replicas??1,l=s?.readyReplicas??0,u=s?.updatedReplicas??0,h=s?.availableReplicas??0,m=async()=>{const y=n.selector?.matchLabels;if(!i||!y||Object.keys(y).length===0)return null;const b=await sN(t,i,y);return b.length===0?null:rN(b)},f=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],g=wc(f);return{sections:[{id:"replicas",title:"Replica Status",data:{type:"gauges",items:[{label:"Ready",current:l,total:a,color:"emerald"},{label:"Updated",current:u,total:a,color:"blue"},{label:"Available",current:h,total:a,color:"cyan"}],showPodGrid:{total:a,ready:l,available:h,icon:"box"}}},{id:"strategy",data:{type:"info-grid",items:[{label:"Strategy",value:n.strategy?.type||"RollingUpdate"},...n.strategy?.rollingUpdate?[{label:"Max Surge",value:String(n.strategy.rollingUpdate.maxSurge??"25%"),color:"text-cyan-400"},{label:"Max Unavailable",value:String(n.strategy.rollingUpdate.maxUnavailable??"25%"),color:"text-amber-400"}]:[]],columns:3}},{id:"replicasets",data:{type:"related-replicasets",title:"ReplicaSets",loader:async()=>{if(!i||!r?.name)return[];try{const y=await Zo(t,"replicasets");if(!y)return[];const b=await tN(t,y,i),_=r.name??"",w=r.uid;return b.filter(k=>{const C=k.metadata,E=C.name;if(C.ownerReferences?.some(R=>R.kind==="Deployment"&&R.name===_||R.uid===w))return!0;if(E.startsWith(_+"-")){const R=E.slice(_.length+1);return/^[a-z0-9]{7,10}$/.test(R)}return!1}).map(k=>{const C=k.metadata,E=k.spec,A=k.status;return{name:C.name,replicas:A?.replicas??0,readyReplicas:A?.readyReplicas??0,images:E?.template?.spec?.containers?.map(R=>R.image)??[],isCurrent:(A?.replicas??0)>0,namespace:i,context:t}}).sort((k,C)=>k.isCurrent&&!C.isCurrent?-1:!k.isCurrent&&C.isCurrent?1:C.name.localeCompare(k.name))}catch(y){return console.error("Failed to fetch ReplicaSets:",y),[]}}}},...Nh(n.template?.spec?.containers,n.template?.spec?.initContainers,m),...g?[g]:[]]}}},lJ={kinds:["Pod","Pods"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,i=r?.namespace;if(!n)return{sections:[]};const a=n.containers??[],l=n.initContainers??[],u=s?.containerStatuses??[],h=s?.initContainerStatuses??[],m=u.reduce((b,_)=>b+(_.restartCount??0),0),f=async()=>{const b=r?.name,_=i;if(!b||!_)return null;const w=await VZ(t,b,_);if(!w)return null;const k=new Map;for(const C of w.containers)k.set(C.name,{cpu:{usage:Cp(Uo(C.usage.cpu)),usageNanoCores:Uo(C.usage.cpu)},memory:{usage:Np(Ho(C.usage.memory)),usageBytes:Ho(C.usage.memory)}});return k},g=[...a,...l],y=wc(g);return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Phase",value:s?.phase||"Unknown",status:uJ(s?.phase)},{label:"Pod IP",value:s?.podIP||"Pending"},{label:"Node",value:n.nodeName||"Not scheduled"},{label:"Restarts",value:m,status:m>0?"warning":"success"}]}},...y?[y]:[],...l.length>0?[{id:"init-containers",title:"Init Containers",data:{type:"containers",items:l.map(b=>C3(b,h))}}]:[],{id:"containers",title:"Containers",data:{type:"containers",items:a.map(b=>C3(b,u)),metricsLoader:f}},...n.volumes?.length?[{id:"volumes",title:"Volumes",data:{type:"volumes",items:n.volumes.map(b=>cJ(b,[...a,...l]))}}]:[]]}}};function C3(t,e){const n=e.find(a=>a.name===t.name),s=hJ(n),r=n?.lastState?.terminated,i=n?.state?.terminated;return{name:t.name,image:t.image||"",state:s.state,stateReason:s.reason,stateMessage:s.message,ready:n?.ready,restartCount:n?.restartCount,currentTermination:i?{reason:i.reason,message:i.message,exitCode:i.exitCode,signal:i.signal,startedAt:i.startedAt?.toISOString?.()??i.startedAt,finishedAt:i.finishedAt?.toISOString?.()??i.finishedAt}:void 0,lastTermination:r?{reason:r.reason,exitCode:r.exitCode,signal:r.signal,finishedAt:r.finishedAt?.toISOString?.()??r.finishedAt}:void 0,resources:t.resources?{requests:t.resources.requests,limits:t.resources.limits}:void 0,ports:t.ports?.map(a=>({name:a.name,containerPort:a.containerPort,protocol:a.protocol})),command:t.command,args:t.args,mounts:t.volumeMounts?.map(a=>({name:a.name,mountPath:a.mountPath,readOnly:a.readOnly,subPath:a.subPath})),env:t.env?.map(N6),envFrom:t.envFrom?.map(E6).filter(a=>a!==null)}}function cJ(t,e){const n=dJ(t),s=[];for(const r of e)if(r.volumeMounts)for(const i of r.volumeMounts)i.name===t.name&&s.push({container:r.name,mountPath:i.mountPath,readOnly:i.readOnly??!1,subPath:i.subPath});return{name:t.name,type:n.type,source:n.detail,extra:n.extra,mounts:s}}function uJ(t){switch(t?.toLowerCase()){case"running":return"success";case"succeeded":return"success";case"pending":return"warning";case"failed":return"error";default:return"neutral"}}function hJ(t){return t?.state?t.state.running?{state:"running"}:t.state.waiting?{state:"waiting",reason:t.state.waiting.reason,message:t.state.waiting.message}:t.state.terminated?{state:"terminated",reason:t.state.terminated.reason,message:t.state.terminated.message}:{}:{}}function e0(t){const e=t.toString(8).padStart(4,"0"),n=parseInt(e[e.length-4]||"0",10),s=parseInt(e[e.length-3],10),r=parseInt(e[e.length-2],10),i=parseInt(e[e.length-1],10),a=(n&4)!==0,l=(n&2)!==0,u=(n&1)!==0,h=b=>b&4?"r":"-",m=b=>b&2?"w":"-",f=s&1?a?"s":"x":a?"S":"-",g=r&1?l?"s":"x":l?"S":"-",y=i&1?u?"t":"x":u?"T":"-";return h(s)+m(s)+f+h(r)+m(r)+g+h(i)+m(i)+y}function dJ(t){if(t.configMap)return{type:"ConfigMap",detail:t.configMap.name||"",extra:{...t.configMap.optional!==void 0&&{optional:String(t.configMap.optional)},...t.configMap.defaultMode!==void 0&&{mode:e0(t.configMap.defaultMode)}}};if(t.secret)return{type:"Secret",detail:t.secret.secretName||"",extra:{...t.secret.optional!==void 0&&{optional:String(t.secret.optional)},...t.secret.defaultMode!==void 0&&{mode:e0(t.secret.defaultMode)}}};if(t.emptyDir)return{type:"EmptyDir",detail:t.emptyDir.medium||"default",extra:{...t.emptyDir.sizeLimit&&{sizeLimit:t.emptyDir.sizeLimit}}};if(t.hostPath)return{type:"HostPath",detail:t.hostPath.path,extra:{...t.hostPath.type&&{type:t.hostPath.type}}};if(t.persistentVolumeClaim)return{type:"PVC",detail:t.persistentVolumeClaim.claimName,extra:{...t.persistentVolumeClaim.readOnly&&{readOnly:"true"}}};if(t.projected){const e=t.projected.sources||[],n=e.map(s=>s.configMap?"ConfigMap":s.secret?"Secret":s.serviceAccountToken?"ServiceAccountToken":s.downwardAPI?"DownwardAPI":"Unknown");return{type:"Projected",detail:`${e.length} sources`,extra:{sources:n.join(", "),...t.projected.defaultMode!==void 0&&{mode:e0(t.projected.defaultMode)}}}}return t.downwardAPI?{type:"DownwardAPI",detail:`${t.downwardAPI.items?.length||0} items`,extra:{...t.downwardAPI.defaultMode!==void 0&&{mode:e0(t.downwardAPI.defaultMode)}}}:t.nfs?{type:"NFS",detail:`${t.nfs.server}:${t.nfs.path}`,extra:{...t.nfs.readOnly&&{readOnly:"true"}}}:t.csi?{type:"CSI",detail:t.csi.driver,extra:{...t.csi.fsType&&{fsType:t.csi.fsType},...t.csi.readOnly&&{readOnly:"true"}}}:{type:"Unknown",detail:""}}const fJ={kinds:["StatefulSet","StatefulSets"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,i=r?.namespace;if(!n)return{sections:[]};const a=n.replicas??1,l=s?.readyReplicas??0,u=s?.currentReplicas??0,h=s?.updatedReplicas??0,m=s?.availableReplicas??0,f=Array.from({length:a},(_,w)=>`${r?.name}-${w}`),g=async()=>{const _=n.selector?.matchLabels;if(!i||!_||Object.keys(_).length===0)return null;const w=await sN(t,i,_);return w.length===0?null:rN(w)},y=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],b=wc(y);return{sections:[{id:"replicas",title:"Replica Status",data:{type:"gauges",items:[{label:"Ready",current:l,total:a,color:"emerald"},{label:"Current",current:u,total:a,color:"blue"},{label:"Updated",current:h,total:a,color:"cyan"}],showPodGrid:{total:a,ready:l,available:m,showOrdinal:!0,icon:"database",podTitles:f}}},{id:"config",data:{type:"info-grid",items:[{label:"Service Name",value:n.serviceName,color:"text-cyan-400"},{label:"Pod Management",value:n.podManagementPolicy||"OrderedReady"},{label:"Update Strategy",value:n.updateStrategy?.type||"RollingUpdate"},...n.updateStrategy?.rollingUpdate?.partition!==void 0?[{label:"Partition",value:n.updateStrategy.rollingUpdate.partition,color:"text-amber-400"}]:[]],columns:2}},...s?.currentRevision?[{id:"revisions",title:"Revisions",data:{type:"info-grid",items:[{label:"Current",value:s.currentRevision,color:"text-cyan-400"},...s.updateRevision&&s.updateRevision!==s.currentRevision?[{label:"Update",value:s.updateRevision,color:"text-amber-400"}]:[]],columns:1}}]:[],...n.volumeClaimTemplates?.length?[{id:"volume-templates",title:"Volume Claim Templates",data:{type:"volume-claim-templates",items:n.volumeClaimTemplates.map(_=>({name:_.metadata?.name||"",size:_.spec?.resources?.requests?.storage,storageClass:_.spec?.storageClassName,accessModes:_.spec?.accessModes}))}}]:[],{id:"pvcs",data:{type:"related-pvcs",title:"Persistent Volume Claims",loader:async()=>{if(!i||!r?.name)return[];try{const _=await Zo(t,"persistentvolumeclaims");if(!_)return[];const w=await tN(t,_,i),k=r.name,C=n?.volumeClaimTemplates?.map(E=>E.metadata?.name)??[];return w.filter(E=>{const R=E.metadata.name;return C.some(N=>R.startsWith(`${N}-${k}-`))}).map(E=>{const A=E.metadata,R=E.spec,N=E.status;return{name:A.name,status:N?.phase??"Unknown",capacity:N?.capacity?.storage,storageClass:R?.storageClassName,namespace:i,context:t}})}catch(_){return console.error("Failed to fetch PVCs:",_),[]}}}},...Nh(n.template?.spec?.containers,n.template?.spec?.initContainers,g),...b?[b]:[]]}}},pJ={kinds:["DaemonSet","DaemonSets"],adapt(t,e){const n=e.spec,s=e.status,i=e.metadata?.namespace;if(!n)return{sections:[]};const a=s?.desiredNumberScheduled??0,l=s?.currentNumberScheduled??0,u=s?.numberReady??0,h=s?.numberAvailable??0,m=s?.numberMisscheduled??0,f=s?.updatedNumberScheduled??0,g=async()=>{const _=n.selector?.matchLabels;if(!i||!_||Object.keys(_).length===0)return null;const w=await sN(t,i,_);return w.length===0?null:rN(w)},y=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],b=wc(y);return{sections:[{id:"distribution",title:"Node Distribution",data:{type:"gauges",items:[{label:"Scheduled",current:l,total:a,color:"blue"},{label:"Ready",current:u,total:a,color:"emerald"},{label:"Available",current:h,total:a,color:"cyan"}],showPodGrid:{total:a,ready:u,current:l,icon:"server"}}},{id:"status",data:{type:"info-grid",items:[{label:"Update Strategy",value:n.updateStrategy?.type||"RollingUpdate"},{label:"Updated",value:`${f}/${a}`,color:"text-cyan-400"},...m>0?[{label:"Misscheduled",value:`${m} pods on wrong nodes`,color:"text-red-400"}]:[]],columns:2}},...n.updateStrategy?.rollingUpdate?[{id:"rolling-update",title:"Rolling Update Config",data:{type:"info-grid",items:[{label:"Max Unavailable",value:String(n.updateStrategy.rollingUpdate.maxUnavailable??1),color:"text-amber-400"},...n.updateStrategy.rollingUpdate.maxSurge?[{label:"Max Surge",value:String(n.updateStrategy.rollingUpdate.maxSurge),color:"text-cyan-400"}]:[]],columns:2}}]:[],...n.template?.spec?.nodeSelector&&Object.keys(n.template.spec.nodeSelector).length>0?[{id:"node-selector",data:{type:"labels",labels:n.template.spec.nodeSelector,title:"Node Selector"}}]:[],...Nh(n.template?.spec?.containers,n.template?.spec?.initContainers,g),...b?[b]:[]]}}},mJ={kinds:["Node","Nodes"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata;if(!s)return{sections:[]};const i=s.nodeInfo,a=s.conditions??[],l=s.addresses??[],u=s.capacity??{},h=s.allocatable??{},m=n?.taints??[],f=r?.labels??{},y=a.find(_=>_.type==="Ready")?.status==="True",b=Object.keys(f).filter(_=>_.startsWith("node-role.kubernetes.io/")).map(_=>_.replace("node-role.kubernetes.io/",""));return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:y?"Ready":"NotReady",status:y?"success":"error",icon:y?p.jsx(Ci,{size:14}):p.jsx(Fa,{size:14})},{label:"Role",value:b.length>0?b.join(", "):"worker",icon:p.jsx(Si,{size:14,className:"text-purple-400"})}]}},{id:"metrics",data:{type:"node-metrics",title:"Resource Usage",loader:async()=>{const _=r?.name;if(!_)return null;const w=await qZ(t,_);if(!w)return null;const k=h.cpu??"0",C=h.memory??"0";return{cpu:{usage:Cp(Uo(w.usage.cpu)),usageNanoCores:Uo(w.usage.cpu),allocatable:k,allocatableNanoCores:Uo(k)},memory:{usage:Np(Ho(w.usage.memory)),usageBytes:Ho(w.usage.memory),allocatable:Hd(C),allocatableBytes:Ho(C)}}}}},...l.length>0?[{id:"addresses",title:"Addresses",data:{type:"addresses",addresses:l.map(_=>({type:_.type||"",address:_.address||""}))}}]:[],{id:"resources",title:"Resources",data:{type:"capacity-bars",items:[{label:"CPU",icon:p.jsx(Hv,{size:14,className:"text-blue-400"}),capacity:u.cpu??"0",allocatable:h.cpu??"0"},{label:"Memory",icon:p.jsx(js,{size:14,className:"text-purple-400"}),capacity:Hd(u.memory??"0"),allocatable:Hd(h.memory??"0")},{label:"Pods",icon:p.jsx(ki,{size:14,className:"text-emerald-400"}),capacity:u.pods??"0",allocatable:h.pods??"0"},...u["ephemeral-storage"]?[{label:"Storage",icon:p.jsx(js,{size:14,className:"text-amber-400"}),capacity:Hd(u["ephemeral-storage"]),allocatable:Hd(h["ephemeral-storage"]??"0")}]:[]]}},...i?[{id:"system-info",title:"System Info",data:{type:"info-grid",items:[{label:"OS",value:i.operatingSystem},{label:"Arch",value:i.architecture},{label:"Kernel",value:i.kernelVersion},{label:"OS Image",value:i.osImage},{label:"Container Runtime",value:i.containerRuntimeVersion},{label:"Kubelet",value:i.kubeletVersion},{label:"Kube-Proxy",value:i.kubeProxyVersion}],columns:2}}]:[],...m.length>0?[{id:"taints",title:"Taints",data:{type:"taints",items:m.map(_=>({key:_.key||"",value:_.value,effect:_.effect||""}))}}]:[]]}}},gJ={kinds:["CronJob","CronJobs"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,i=r?.namespace;if(!n)return{sections:[]};const a=n.suspend??!1,l=n.schedule,u=s?.lastScheduleTime?new Date(s.lastScheduleTime):null,h=s?.lastSuccessfulTime?new Date(s.lastSuccessfulTime):null,m=s?.active?.length??0,f=iJ(l),g=[...n.jobTemplate?.spec?.template?.spec?.containers??[],...n.jobTemplate?.spec?.template?.spec?.initContainers??[]],y=wc(g);return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:a?"Suspended":"Active",status:a?"warning":"success",icon:a?p.jsx(wp,{size:14}):p.jsx(Wu,{size:14})},{label:"Active Jobs",value:String(m),status:m>0?"warning":"neutral",icon:p.jsx(Ua,{size:14,className:"text-blue-400"})}]}},...y?[y]:[],{id:"schedule",data:{type:"schedule",schedule:l,description:f}},{id:"timing",data:{type:"info-grid",items:[...u?[{label:"Last Scheduled",value:w3(u),color:"text-purple-400"}]:[],...h?[{label:"Last Successful",value:w3(h),color:"text-emerald-400"}]:[]],columns:2}},{id:"job-config",title:"Job Configuration",data:{type:"info-grid",items:[{label:"Concurrency Policy",value:n.concurrencyPolicy||"Allow",color:yJ(n.concurrencyPolicy)},...n.startingDeadlineSeconds?[{label:"Starting Deadline",value:`${n.startingDeadlineSeconds}s`}]:[],{label:"Successful History",value:n.successfulJobsHistoryLimit??3},{label:"Failed History",value:n.failedJobsHistoryLimit??1},...n.jobTemplate?.spec?.backoffLimit!==void 0?[{label:"Backoff Limit",value:n.jobTemplate.spec.backoffLimit}]:[],...n.jobTemplate?.spec?.activeDeadlineSeconds?[{label:"Job Deadline",value:`${n.jobTemplate.spec.activeDeadlineSeconds}s`,color:"text-amber-400"}]:[]],columns:2}},{id:"jobs",data:{type:"related-jobs",title:"Recent Jobs",loader:async()=>{if(!i||!r?.name)return[];try{const b=await Zo(t,"jobs");if(!b)return[];const _=await tN(t,b,i),w=r.name??"",k=r.uid;return _.filter(C=>{const E=C.metadata,A=E.name;if(E.ownerReferences?.some(N=>N.kind==="CronJob"&&N.name===w||N.uid===k))return!0;if(A.startsWith(w+"-")){const N=A.slice(w.length+1);return/^\d{10}$/.test(N)}return!1}).map(C=>{const E=C.metadata,A=C.status,R=A?.conditions,N=R?.some(I=>I.type==="Complete"&&I.status==="True"),M=R?.some(I=>I.type==="Failed"&&I.status==="True");return{name:E.name,status:N?"Complete":M?"Failed":"Running",startTime:A?.startTime,completionTime:A?.completionTime,succeeded:A?.succeeded,failed:A?.failed,namespace:i,context:t}}).sort((C,E)=>{const A=C.startTime?new Date(C.startTime).getTime():0;return(E.startTime?new Date(E.startTime).getTime():0)-A})}catch(b){return console.error("Failed to fetch Jobs:",b),[]}}}},...Nh(n.jobTemplate?.spec?.template?.spec?.containers,n.jobTemplate?.spec?.template?.spec?.initContainers)]}}};function yJ(t){switch(t){case"Forbid":return"text-red-400";case"Replace":return"text-amber-400";default:return"text-emerald-400"}}const vJ={kinds:["Job","Jobs"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=n.completions??1,i=n.parallelism??1,a=s?.succeeded??0,l=s?.failed??0,u=s?.active??0,h=n.backoffLimit??6,m=a>=r,f=s?.conditions?.some(k=>k.type==="Failed"&&k.status==="True"),g=m?"Complete":f?"Failed":u>0?"Running":"Pending",y=s?.startTime?new Date(s.startTime):void 0,b=s?.completionTime?new Date(s.completionTime):void 0,_=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],w=wc(_);return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:g,status:m?"success":f?"error":u>0?"warning":"neutral",icon:m?p.jsx(Ci,{size:14}):f?p.jsx(Fa,{size:14}):p.jsx(Wu,{size:14})},...y?[{label:"Duration",value:bJ(y,b),icon:p.jsx(Ua,{size:14,className:"text-blue-400"})}]:[]]}},...w?[w]:[],{id:"progress",title:"Progress",data:{type:"job-progress",completions:r,succeeded:a,failed:l,active:u}},{id:"config",data:{type:"info-grid",items:[{label:"Parallelism",value:i,color:"text-cyan-400"},{label:"Backoff Limit",value:`${h}${l>0?` (${l} failures)`:""}`,color:l>=h?"text-red-400":l>0?"text-amber-400":void 0},...n.activeDeadlineSeconds?[{label:"Deadline",value:`${n.activeDeadlineSeconds}s`,color:"text-amber-400"}]:[],...n.ttlSecondsAfterFinished!==void 0?[{label:"TTL After Finished",value:`${n.ttlSecondsAfterFinished}s`}]:[],...n.completionMode?[{label:"Completion Mode",value:n.completionMode,color:"text-purple-400"}]:[]],columns:2}},...y?[{id:"timeline",title:"Timeline",data:{type:"timeline",startTime:y,completionTime:b}}]:[],...Nh(n.template?.spec?.containers,n.template?.spec?.initContainers)]}}};function bJ(t,e){const s=(e??new Date).getTime()-t.getTime(),r=Math.floor(s/1e3),i=Math.floor(r/60),a=Math.floor(i/60),l=Math.floor(a/24);return l>0?`${l}d ${a%24}h`:a>0?`${a}h ${i%60}m`:i>0?`${i}m ${r%60}s`:`${r}s`}const _J={kinds:["ReplicaSet","ReplicaSets"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,i=r?.namespace;if(!n)return{sections:[]};const a=n.replicas??1,l=s?.replicas??0,u=s?.readyReplicas??0,h=s?.availableReplicas??0,m=r?.ownerReferences?.[0],f=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],g=wc(f),y=b=>({Deployment:"deployments",StatefulSet:"statefulsets",DaemonSet:"daemonsets",Job:"jobs"})[b]||b.toLowerCase()+"s";return{sections:[...m?[{id:"owner",data:{type:"custom",render:()=>{const b=p.jsxs("div",{className:`bg-blue-500/10 border border-blue-500/30 rounded-lg p-3 ${i?"hover:bg-blue-500/15 transition-colors cursor-pointer":""}`,children:[p.jsxs("div",{className:"text-xs text-neutral-500 mb-1 flex items-center gap-1",children:[p.jsx(Sc,{size:10})," Owned By"]}),p.jsxs("div",{className:"text-sm flex items-center gap-2",children:[p.jsxs("span",{className:"text-neutral-500",children:[m.kind,":"]}),p.jsx("span",{className:"text-cyan-400",children:m.name})]})]});return i?p.jsx(Zi,{to:"/cluster/$context/$resourceType/$name",params:{context:t,resourceType:y(m.kind),name:m.name},search:_=>({..._,namespace:i}),children:b}):b}}}]:[],{id:"replicas",title:"Replica Status",data:{type:"gauges",items:[{label:"Ready",current:u,total:a,color:"emerald"},{label:"Current",current:l,total:a,color:"blue"},{label:"Available",current:h,total:a,color:"cyan"}],showPodGrid:{total:Math.max(a,l),ready:u,available:h,current:l,icon:"box"}}},...g?[g]:[],...n.selector?.matchLabels?[{id:"selector",data:{type:"labels",labels:n.selector.matchLabels,title:"Selector"}}]:[],...Nh(n.template?.spec?.containers,n.template?.spec?.initContainers)]}}},xJ={kinds:["PersistentVolume","PersistentVolumes"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=s?.phase??"Unknown",i=n.capacity?.storage??"Unknown";return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Phase",value:r,status:SJ(r)},{label:"Capacity",value:i,icon:p.jsx(js,{size:14,className:"text-purple-400"})},{label:"Reclaim Policy",value:n.persistentVolumeReclaimPolicy??"Delete",status:n.persistentVolumeReclaimPolicy==="Retain"?"warning":"neutral"},{label:"Volume Mode",value:n.volumeMode??"Filesystem"}]}},...n.accessModes?.length?[{id:"access-modes",title:"Access Modes",data:{type:"custom",render:()=>p.jsx("div",{className:"flex flex-wrap gap-2",children:n.accessModes.map((a,l)=>p.jsx("span",{className:`text-xs px-2 py-1 rounded ${k6(a)}`,children:C6(a)},l))})}}]:[],...n.storageClassName?[{id:"storage-class",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Storage Class"}),p.jsxs("div",{className:"text-sm text-purple-600 dark:text-purple-400 flex items-center gap-2",children:[p.jsx(xc,{size:14}),n.storageClassName]})]})}}]:[],...n.claimRef?[{id:"claim-ref",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[p.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[p.jsx(Sc,{size:10})," Bound To"]}),p.jsxs("div",{className:"text-sm",children:[p.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[n.claimRef.namespace,"/"]}),p.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:n.claimRef.name})]})]})}}]:[],{id:"source",title:"Volume Source",data:{type:"custom",render:()=>{const a=wJ(n),l=a.find(h=>h.label==="Type")?.value||"Unknown",u=a.filter(h=>h.label!=="Type");return p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3 space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:"Type:"}),p.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-purple-500/20 text-purple-700 dark:text-purple-400",children:l})]}),u.length>0&&p.jsx("div",{className:"space-y-1 pl-1",children:u.map((h,m)=>p.jsxs("div",{className:"text-xs",children:[p.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[h.label,":"]})," ",p.jsx("span",{className:h.color?`${h.color.replace("text-cyan-400","text-cyan-600 dark:text-cyan-400").replace("text-purple-400","text-purple-600 dark:text-purple-400")}`:"text-neutral-900 dark:text-neutral-300",children:h.value})]},m))})]})}}},...n.nodeAffinity?.required?.nodeSelectorTerms?[{id:"node-affinity",title:"Node Affinity",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:n.nodeAffinity.required.nodeSelectorTerms.map((a,l)=>p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-2",children:a.matchExpressions?.map((u,h)=>p.jsxs("div",{className:"text-xs",children:[p.jsx("span",{className:"text-purple-400",children:u.key}),p.jsx("span",{className:"text-neutral-500 mx-1",children:u.operator}),u.values&&p.jsx("span",{className:"text-cyan-400",children:u.values.join(", ")})]},h))},l))})}}]:[],...n.mountOptions?.length?[{id:"mount-options",title:"Mount Options",data:{type:"custom",render:()=>p.jsx("div",{className:"flex flex-wrap gap-1",children:n.mountOptions.map((a,l)=>p.jsx("span",{className:"text-xs bg-neutral-200 dark:bg-neutral-800 px-2 py-1 rounded text-neutral-800 dark:text-neutral-300",children:a},l))})}}]:[]]}}};function SJ(t){switch(t){case"Bound":return"success";case"Available":return"success";case"Released":return"warning";case"Failed":return"error";default:return"neutral"}}function wJ(t){if(!t)return[];const e=[];return t.hostPath?(e.push({label:"Type",value:"HostPath"}),e.push({label:"Path",value:t.hostPath.path,color:"text-cyan-400"})):t.nfs?(e.push({label:"Type",value:"NFS"}),e.push({label:"Server",value:t.nfs.server,color:"text-cyan-400"}),e.push({label:"Path",value:t.nfs.path,color:"text-cyan-400"})):t.csi?(e.push({label:"Type",value:"CSI"}),e.push({label:"Driver",value:t.csi.driver,color:"text-purple-400"}),t.csi.volumeHandle&&e.push({label:"Handle",value:t.csi.volumeHandle,color:"text-cyan-400"})):t.local?(e.push({label:"Type",value:"Local"}),e.push({label:"Path",value:t.local.path,color:"text-cyan-400"})):t.awsElasticBlockStore?(e.push({label:"Type",value:"AWS EBS"}),e.push({label:"Volume ID",value:t.awsElasticBlockStore.volumeID,color:"text-cyan-400"})):t.gcePersistentDisk?(e.push({label:"Type",value:"GCE PD"}),e.push({label:"PD Name",value:t.gcePersistentDisk.pdName,color:"text-cyan-400"})):t.azureDisk?(e.push({label:"Type",value:"Azure Disk"}),e.push({label:"Disk Name",value:t.azureDisk.diskName,color:"text-cyan-400"})):e.push({label:"Type",value:"Unknown"}),e}const kJ={kinds:["PersistentVolumeClaim","PersistentVolumeClaims"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=s?.phase??"Unknown",i=n.volumeName,a=n.resources?.requests?.storage,l=s?.capacity?.storage,u=[{id:"status",data:{type:"status-cards",items:[{label:"Phase",value:r,status:CJ(r)},{label:"Requested",value:a??"Not specified",icon:p.jsx(js,{size:14,className:"text-purple-400"})},...l?[{label:"Actual Capacity",value:l,status:"success"}]:[],{label:"Volume Mode",value:n.volumeMode??"Filesystem"}]}}];return n.accessModes?.length&&u.push({id:"access-modes",title:"Access Modes",data:{type:"custom",render:()=>p.jsx("div",{className:"flex flex-wrap gap-2",children:n.accessModes.map((h,m)=>p.jsx("span",{className:`text-xs px-2 py-1 rounded ${k6(h)}`,children:C6(h)},m))})}}),n.storageClassName&&u.push({id:"storage-class",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Storage Class"}),p.jsxs("div",{className:"text-sm text-purple-600 dark:text-purple-400 flex items-center gap-2",children:[p.jsx(xc,{size:14}),n.storageClassName]})]})}}),i?u.push({id:"bound-volume",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[p.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[p.jsx(Sc,{size:10})," Bound To"]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"text-neutral-700 dark:text-neutral-400",children:"platform/"}),p.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:i})]})]})}}):u.push({id:"no-volume",data:{type:"custom",render:()=>p.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:p.jsxs("div",{className:"text-yellow-400 text-sm flex items-center gap-2",children:[p.jsx(GC,{size:14}),"Not bound to any volume"]})})}}),n.selector?.matchLabels&&Object.keys(n.selector.matchLabels).length>0&&u.push({id:"selector",title:"Volume Selector",data:{type:"labels",labels:n.selector.matchLabels}}),{sections:u}}};function CJ(t){switch(t){case"Bound":return"success";case"Pending":return"warning";case"Lost":return"error";default:return"neutral"}}const NJ="/apis/argoproj.io/v1alpha1";async function A6(t,e,n,s){const r=`/contexts/${t}${NJ}/namespaces/${n}/applications/${e}`,i=await fetch(r,{method:"PATCH",headers:{"Content-Type":"application/merge-patch+json"},body:JSON.stringify(s)});if(!i.ok){const a=await i.text();throw new Error(`Failed to patch application: ${i.status} ${i.statusText} - ${a}`)}return i}async function N3(t,e,n="argocd",s={}){const i={operation:{sync:{syncStrategy:s.strategy==="apply"?{apply:{}}:{hook:{}},...s.revision&&{revision:s.revision},...s.prune!==void 0&&{prune:s.prune},...s.dryRun!==void 0&&{dryRun:s.dryRun}}}};await A6(t,e,n,i)}async function E3(t,e,n="argocd",s=!1){await A6(t,e,n,{metadata:{annotations:{"argocd.argoproj.io/refresh":s?"hard":"normal"}}})}function EJ(t){switch(t){case"Synced":return"success";case"OutOfSync":return"warning";default:return"neutral"}}function AJ(t){switch(t){case"Healthy":return"success";case"Progressing":return"warning";case"Degraded":case"Missing":return"error";case"Suspended":return"warning";default:return"neutral"}}function RJ(t){switch(t){case"Synced":return p.jsx(Ci,{size:14,className:"text-emerald-400"});case"OutOfSync":return p.jsx($n,{size:14,className:"text-amber-400"});default:return p.jsx(kh,{size:14,className:"text-gray-400"})}}function TJ(t){switch(t){case"Healthy":return p.jsx(Ci,{size:14,className:"text-emerald-400"});case"Progressing":return p.jsx($n,{size:14,className:"text-blue-400 animate-spin"});case"Degraded":return p.jsx(Fa,{size:14,className:"text-red-400"});case"Missing":return p.jsx(kh,{size:14,className:"text-red-400"});case"Suspended":return p.jsx(wp,{size:14,className:"text-amber-400"});default:return p.jsx(Yp,{size:14,className:"text-gray-400"})}}function jJ(t,e=12){switch(t){case"Healthy":return p.jsx(Ci,{size:e,className:"text-emerald-400 shrink-0"});case"Progressing":return p.jsx($n,{size:e,className:"text-blue-400 animate-spin shrink-0"});case"Degraded":return p.jsx(Fa,{size:e,className:"text-red-400 shrink-0"});case"Missing":return p.jsx(kh,{size:e,className:"text-red-400 shrink-0"});case"Suspended":return p.jsx(wp,{size:e,className:"text-amber-400 shrink-0"});default:return p.jsx(Yp,{size:e,className:"text-gray-400 shrink-0"})}}function OJ(t){const e={Synced:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",OutOfSync:"bg-amber-500/20 text-amber-400 border-amber-500/30",Unknown:"bg-gray-500/20 text-gray-400 border-gray-500/30"},n=e[t]||e.Unknown;return p.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${n}`,children:t||"Unknown"})}function Qx(t){if(!t)return"Unknown";const e=new Date(t),s=Math.floor((new Date().getTime()-e.getTime())/1e3);return s<60?`${s}s ago`:s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:`${Math.floor(s/86400)}d ago`}function MJ(t){if(!t)return"Unknown";const e=t.match(/[:/]([^/:]+\/[^/:]+?)(?:\.git)?$/);return e?e[1]:t}const IJ={kinds:["Application","Applications"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=n.source||n.sources?.[0],i=s?.sync?.status||"Unknown",a=s?.health?.status||"Unknown",l=s?.operationState?.phase,u={healthy:0,progressing:0,degraded:0,missing:0,suspended:0,unknown:0};s?.resources?.forEach(m=>{const f=m.health?.status;let g;f?g=f.toLowerCase():g=m.status==="Synced"?"healthy":"unknown",g in u&&u[g]++});const h=s?.resources?.length||0;return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Sync Status",value:i,status:EJ(i),icon:RJ(i)},{label:"Health",value:a,status:AJ(a),icon:TJ(a)},...l?[{label:"Operation",value:l,status:l==="Succeeded"?"success":l==="Failed"?"error":"warning",icon:l==="Running"?p.jsx($n,{size:14,className:"animate-spin"}):void 0}]:[]]}},...h>0?[{id:"resource-health",title:"Resource Health",data:{type:"gauges",items:[{label:"Healthy",current:u.healthy,total:h,color:"emerald"},{label:"Progressing",current:u.progressing,total:h,color:"blue"},{label:"Degraded",current:u.degraded+u.missing,total:h,color:"amber"}]}}]:[],...s?.resources?.length?[{id:"resources",title:"Managed Resources",data:{type:"custom",render:()=>{const m=new Map;s.resources.forEach(g=>{const y=g.kind||"Unknown";m.has(y)||m.set(y,[]),m.get(y).push(g)});const f=Array.from(m.keys()).sort((g,y)=>{const b=m.get(g),_=m.get(y),w=b.some(C=>C.health?.status!=="Healthy"),k=_.some(C=>C.health?.status!=="Healthy");return w&&!k?-1:!w&&k?1:g.localeCompare(y)});return p.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:f.map(g=>{const y=m.get(g),b=[...y].sort((_,w)=>{const k=_.health?.status==="Healthy",C=w.health?.status==="Healthy";return!k&&C?-1:k&&!C?1:(_.name||"").localeCompare(w.name||"")});return p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-2",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[p.jsx(p6,{size:12,className:"text-neutral-500"}),p.jsx("span",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400",children:g}),p.jsxs("span",{className:"text-[10px] text-neutral-500 dark:text-neutral-600",children:["(",y.length,")"]})]}),p.jsx("div",{className:"space-y-1",children:b.map((_,w)=>p.jsxs("div",{className:"flex items-center gap-2 text-xs pl-4",children:[jJ(_.health?.status),p.jsx("span",{className:"text-neutral-700 dark:text-neutral-300 truncate flex-1",title:_.name,children:_.name}),_.namespace&&p.jsx("span",{className:"text-neutral-500 dark:text-neutral-600 text-[10px]",children:_.namespace}),OJ(_.status),_.requiresPruning&&p.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border bg-red-500/20 text-red-400 border-red-500/30",children:"Prune"})]},`${_.namespace}-${_.name}-${w}`))})]},g)})})}}}]:[],{id:"source",title:"Source",data:{type:"info-grid",items:[{label:"Repository",value:MJ(r?.repoURL),color:"text-cyan-400"},{label:"Path",value:r?.path||r?.chart||"/",color:"text-purple-400"},{label:"Target Revision",value:r?.targetRevision||"HEAD",color:"text-blue-400"},...s?.sync?.revision?[{label:"Current Revision",value:s.sync.revision.substring(0,7),color:"text-emerald-400"}]:[]],columns:2}},{id:"destination",title:"Destination",data:{type:"info-grid",items:[{label:"Server",value:n.destination?.name||n.destination?.server||"Unknown"},{label:"Namespace",value:n.destination?.namespace||"default",color:"text-cyan-400"},{label:"Project",value:n.project||"default",color:"text-purple-400"}],columns:2}},...n.syncPolicy?[{id:"sync-policy",title:"Sync Policy",data:{type:"info-grid",items:[...n.syncPolicy.automated?[{label:"Auto Sync",value:"Enabled",color:"text-emerald-400"},{label:"Prune",value:n.syncPolicy.automated.prune?"Yes":"No",color:n.syncPolicy.automated.prune?"text-amber-400":void 0},{label:"Self Heal",value:n.syncPolicy.automated.selfHeal?"Yes":"No",color:n.syncPolicy.automated.selfHeal?"text-emerald-400":void 0}]:[{label:"Auto Sync",value:"Disabled",color:"text-gray-400"}],...n.syncPolicy.retry?.limit?[{label:"Retry Limit",value:n.syncPolicy.retry.limit}]:[]],columns:2}}]:[],...n.syncPolicy?.syncOptions?.length?[{id:"sync-options",data:{type:"labels",labels:Object.fromEntries(n.syncPolicy.syncOptions.map(m=>{const[f,g]=m.split("=");return[f,g||"true"]})),title:"Sync Options"}}]:[],...s?.reconciledAt||s?.operationState?.finishedAt?[{id:"timing",data:{type:"info-grid",items:[...s?.reconciledAt?[{label:"Last Reconciled",value:Qx(s.reconciledAt)}]:[],...s?.operationState?.startedAt?[{label:"Operation Started",value:Qx(s.operationState.startedAt)}]:[],...s?.operationState?.finishedAt?[{label:"Operation Finished",value:Qx(s.operationState.finishedAt)}]:[]],columns:2}}]:[],...s?.health?.message?[{id:"health-message",title:"Health Message",data:{type:"info-grid",items:[{label:"Message",value:s.health.message}],columns:1}}]:[],...s?.operationState?.message?[{id:"operation-message",title:"Operation Message",data:{type:"info-grid",items:[{label:"Message",value:s.operationState.message}],columns:1}}]:[],...s?.summary?.images?.length?[{id:"images",title:"Images",data:{type:"container-images",containers:s.summary.images.map((m,f)=>({name:`image-${f+1}`,image:m}))}}]:[]]}},actions:[{id:"sync",label:"Sync",icon:p.jsx(Wu,{size:14}),variant:"primary",confirm:{title:"Sync Application",message:"This will sync the application to match the desired state in Git. Continue?",confirmLabel:"Sync"},execute:async(t,e)=>{const n=e.metadata?.name,s=e.metadata?.namespace||"argocd";if(!n)throw new Error("Application name is required");await N3(t,n,s)},isDisabled:t=>t.status?.operationState?.phase==="Running"?"Sync already in progress":!1},{id:"sync-prune",label:"Sync (Prune)",icon:p.jsx(iY,{size:14}),variant:"warning",confirm:{title:"Sync with Prune",message:"This will sync the application and DELETE resources that are no longer in Git. This action cannot be undone. Continue?",confirmLabel:"Sync & Prune"},execute:async(t,e)=>{const n=e.metadata?.name,s=e.metadata?.namespace||"argocd";if(!n)throw new Error("Application name is required");await N3(t,n,s,{prune:!0})},isDisabled:t=>t.status?.operationState?.phase==="Running"?"Sync already in progress":!1},{id:"refresh",label:"Refresh",icon:p.jsx($n,{size:14}),variant:"secondary",execute:async(t,e)=>{const n=e.metadata?.name,s=e.metadata?.namespace||"argocd";if(!n)throw new Error("Application name is required");await E3(t,n,s)}},{id:"hard-refresh",label:"Hard Refresh",icon:p.jsx(CY,{size:14}),variant:"secondary",execute:async(t,e)=>{const n=e.metadata?.name,s=e.metadata?.namespace||"argocd";if(!n)throw new Error("Application name is required");await E3(t,n,s,!0)}}]};function DJ(t){return!t||t.length===0?{status:"Unknown",level:"neutral"}:t.find(r=>r.type==="ErrorOccurred"&&r.status==="True")?{status:"Error",level:"error"}:t.find(r=>r.type==="ResourcesUpToDate")?.status==="True"?{status:"Healthy",level:"success"}:t.find(r=>r.type==="ParametersGenerated")?.status==="True"?{status:"Progressing",level:"warning"}:{status:"Unknown",level:"neutral"}}function PJ(t){switch(t){case"success":return p.jsx(Ci,{size:14,className:"text-emerald-400"});case"warning":return p.jsx($n,{size:14,className:"text-amber-400"});case"error":return p.jsx(Fa,{size:14,className:"text-red-400"});default:return p.jsx(Yp,{size:14,className:"text-gray-400"})}}function LJ(t){if(t.list){const e=t.list.elements?.length||0;return{name:"List",icon:p.jsx(BY,{size:12,className:"text-blue-400"}),details:`${e} element${e!==1?"s":""}`}}if(t.clusters)return{name:"Clusters",icon:p.jsx(Si,{size:12,className:"text-purple-400"}),details:t.clusters.selector?.matchLabels?Object.entries(t.clusters.selector.matchLabels).map(([e,n])=>`${e}=${n}`).join(", "):"All clusters"};if(t.git){const e=t.git.directories&&t.git.directories.length>0,n=t.git.files&&t.git.files.length>0;return{name:n?"Git Files":"Git Directories",icon:p.jsx(Ny,{size:12,className:"text-cyan-400"}),details:e?t.git.directories?.map(s=>s.path).join(", "):n?t.git.files?.map(s=>s.path).join(", "):t.git.revision||"HEAD"}}if(t.matrix){const e=t.matrix.generators?.length||0;return{name:"Matrix",icon:p.jsx(xi,{size:12,className:"text-amber-400"}),details:`${e} generator${e!==1?"s":""}`}}if(t.merge){const e=t.merge.generators?.length||0;return{name:"Merge",icon:p.jsx(xi,{size:12,className:"text-orange-400"}),details:`${e} generator${e!==1?"s":""}`}}return t.scmProvider?{name:`SCM Provider (${t.scmProvider.github?"GitHub":t.scmProvider.gitlab?"GitLab":t.scmProvider.bitbucket?"Bitbucket":t.scmProvider.bitbucketServer?"Bitbucket Server":t.scmProvider.gitea?"Gitea":t.scmProvider.azureDevOps?"Azure DevOps":"Unknown"})`,icon:p.jsx(JG,{size:12,className:"text-green-400"}),details:t.scmProvider.github?.organization||t.scmProvider.gitlab?.group||t.scmProvider.bitbucket?.owner||t.scmProvider.azureDevOps?.organization}:t.pullRequest?{name:`Pull Request (${t.pullRequest.github?"GitHub":t.pullRequest.gitlab?"GitLab":t.pullRequest.bitbucketServer?"Bitbucket Server":"Unknown"})`,icon:p.jsx(Ny,{size:12,className:"text-pink-400"}),details:t.pullRequest.github?.repo||t.pullRequest.gitlab?.project||t.pullRequest.bitbucketServer?.repo}:t.clusterDecisionResource?{name:"Cluster Decision Resource",icon:p.jsx(bY,{size:12,className:"text-indigo-400"}),details:t.clusterDecisionResource.configMapRef}:{name:"Unknown",icon:p.jsx(Yp,{size:12,className:"text-gray-400"})}}function BJ(t){if(!t)return"Unknown";const e=t.match(/[:/]([^/:]+\/[^/:]+?)(?:\.git)?$/);return e?e[1]:t}function $J(t){if(!t)return"Unknown";const e=new Date(t),s=Math.floor((new Date().getTime()-e.getTime())/1e3);return s<60?`${s}s ago`:s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:`${Math.floor(s/86400)}d ago`}const zJ={kinds:["ApplicationSet","ApplicationSets"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata;if(!n)return{sections:[]};const i=n.template,a=i?.spec?.source||i?.spec?.sources?.[0],l=DJ(s?.conditions),u=s?.applicationStatus?.length||0;return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:l.status,status:l.level,icon:PJ(l.level)},{label:"Applications",value:u,status:u>0?"success":"neutral",icon:p.jsx(p6,{size:14,className:u>0?"text-emerald-400":"text-gray-400"})},{label:"Generators",value:n.generators?.length||0,status:"neutral",icon:p.jsx(xi,{size:14,className:"text-blue-400"})}]}},...n.generators?.length?[{id:"generators",title:"Generators",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:n.generators.map((h,m)=>{const f=LJ(h);return p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-2.5 flex items-center gap-3",children:[p.jsx("div",{className:"p-1.5 bg-neutral-200 dark:bg-neutral-700/50 rounded",children:f.icon}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-200",children:f.name}),f.details&&p.jsx("div",{className:"text-[10px] text-neutral-500 truncate",title:f.details,children:f.details})]})]},m)})})}}]:[],...s?.applicationStatus?.length?[{id:"applications",title:"Generated Applications",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto",children:s.applicationStatus.map((h,m)=>{const f=h.status==="Successful"||h.status==="Healthy"?"success":h.status==="Waiting"||h.status==="Progressing"?"warning":h.status==="Error"||h.status==="Failed"?"error":"neutral";return p.jsxs("div",{className:"flex items-center gap-2 text-xs bg-neutral-100 dark:bg-neutral-800/30 rounded px-2 py-1.5",children:[f==="success"&&p.jsx(Ci,{size:12,className:"text-emerald-400 shrink-0"}),f==="warning"&&p.jsx($n,{size:12,className:"text-amber-400 shrink-0"}),f==="error"&&p.jsx(Fa,{size:12,className:"text-red-400 shrink-0"}),f==="neutral"&&p.jsx(Yp,{size:12,className:"text-gray-400 shrink-0"}),p.jsx("span",{className:"text-neutral-700 dark:text-neutral-300 truncate flex-1",title:h.application,children:h.application||"Unknown"}),h.status&&p.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${f==="success"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":f==="warning"?"bg-amber-500/20 text-amber-400 border-amber-500/30":f==="error"?"bg-red-500/20 text-red-400 border-red-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"}`,children:h.status})]},h.application||m)})})}}]:[],...a?[{id:"template-source",title:"Template Source",data:{type:"info-grid",items:[{label:"Repository",value:BJ(a.repoURL),color:"text-cyan-400"},{label:"Path",value:a.path||a.chart||"/",color:"text-purple-400"},{label:"Revision",value:a.targetRevision||"HEAD",color:"text-blue-400"}],columns:2}}]:[],...i?.spec?.destination?[{id:"template-destination",title:"Template Destination",data:{type:"info-grid",items:[{label:"Server",value:i.spec.destination.name||i.spec.destination.server||"{{server}}"},{label:"Namespace",value:i.spec.destination.namespace||"{{namespace}}",color:"text-cyan-400"},{label:"Project",value:i.spec.project||"default",color:"text-purple-400"}],columns:2}}]:[],...n.syncPolicy?[{id:"sync-policy",title:"Sync Policy",data:{type:"info-grid",items:[{label:"Preserve Resources on Deletion",value:n.syncPolicy.preserveResourcesOnDeletion?"Yes":"No",color:n.syncPolicy.preserveResourcesOnDeletion?"text-amber-400":void 0},...n.syncPolicy.applicationsSync?[{label:"Applications Sync",value:n.syncPolicy.applicationsSync,color:"text-blue-400"}]:[]],columns:2}}]:[],...n.strategy?[{id:"strategy",title:"Rollout Strategy",data:{type:"info-grid",items:[{label:"Type",value:n.strategy.type||"AllAtOnce",color:n.strategy.type==="RollingSync"?"text-cyan-400":void 0},...n.strategy.rollingSync?.steps?.length?[{label:"Steps",value:n.strategy.rollingSync.steps.length}]:[]],columns:2}}]:[],...n.goTemplate!==void 0?[{id:"template-options",title:"Template Options",data:{type:"info-grid",items:[{label:"Go Template",value:n.goTemplate?"Enabled":"Disabled",color:n.goTemplate?"text-emerald-400":"text-gray-400"},...n.goTemplateOptions?.length?[{label:"Options",value:n.goTemplateOptions.join(", ")}]:[]],columns:2}}]:[],...r?.creationTimestamp?[{id:"timing",data:{type:"info-grid",items:[{label:"Created",value:$J(r.creationTimestamp)}],columns:1}}]:[]]}}};function FJ(t){const e=t?.find(n=>n.type==="Ready");return e?{ready:e.status==="True",reason:e.reason,message:e.message}:{ready:!1}}function UJ(t,e){return t?"success":e==="Issuing"||e==="Pending"?"warning":"error"}function HJ(t,e){return t?p.jsx(Ci,{size:14,className:"text-emerald-400"}):e==="Issuing"||e==="Pending"?p.jsx($n,{size:14,className:"text-amber-400 animate-spin"}):p.jsx(Fa,{size:14,className:"text-red-400"})}function VJ(t){if(!t)return"Default (90d)";const e=t.match(/^(\d+)h$/);if(e){const n=parseInt(e[1],10);return n>=8760?`${Math.round(n/8760)}y`:n>=720?`${Math.round(n/720)}mo`:n>=24?`${Math.round(n/24)}d`:`${n}h`}return t}function t0(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function qJ(t){if(!t)return{text:"Unknown",status:"neutral"};const e=new Date,s=new Date(t).getTime()-e.getTime(),r=Math.floor(s/(1e3*60*60*24));return s<0?{text:"Expired",status:"error"}:r<7?{text:`${r}d remaining`,status:"error"}:r<30?{text:`${r}d remaining`,status:"warning"}:r>365?{text:`${Math.floor(r/365)}y remaining`,status:"success"}:r>30?{text:`${Math.floor(r/30)}mo remaining`,status:"success"}:{text:`${r}d remaining`,status:"success"}}function KJ(t){if(!t)return"RSA 2048";const e=t.algorithm??"RSA",n=t.size??(e==="ECDSA"?256:2048);return`${e} ${n}`}const WJ={kinds:["Certificate","Certificates"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata?.namespace;if(!n)return{sections:[]};const{ready:i,reason:a}=FJ(s?.conditions),l=qJ(s?.notAfter),u=[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:i?"Ready":a??"Not Ready",status:UJ(i,a),icon:HJ(i,a)},{label:"Expires",value:l.text,status:l.status,icon:p.jsx(Ua,{size:14,className:l.status==="error"?"text-red-400":l.status==="warning"?"text-amber-400":"text-emerald-400"})},{label:"Type",value:n.isCA?"CA Certificate":"TLS Certificate",status:"neutral",icon:p.jsx(Ch,{size:14,className:n.isCA?"text-purple-400":"text-blue-400"})},{label:"Revision",value:s?.revision??1,status:"neutral"}]}}];u.push({id:"details",title:"Certificate Details",data:{type:"info-grid",columns:2,items:[{label:"Secret Name",value:n.secretName},...n.commonName?[{label:"Common Name",value:n.commonName}]:[],{label:"Duration",value:VJ(n.duration)},{label:"Algorithm",value:KJ(n.privateKey)},...s?.notBefore?[{label:"Valid From",value:t0(s.notBefore)}]:[],...s?.notAfter?[{label:"Valid Until",value:t0(s.notAfter)}]:[],...s?.renewalTime?[{label:"Renewal Time",value:t0(s.renewalTime)}]:[]]}});const h=n.issuerRef.kind??"Issuer",m=h==="ClusterIssuer",f=m?"clusterissuers.cert-manager.io":"issuers.cert-manager.io";if(u.push({id:"issuer",title:"Issuer",data:{type:"custom",render:()=>{const g=p.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3 hover:bg-purple-500/15 transition-colors cursor-pointer",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Jp,{size:14,className:"text-purple-400"}),p.jsx("span",{className:"text-sm font-medium text-purple-300",children:h}),p.jsx(Sc,{size:12,className:"text-purple-400/60 ml-auto"})]}),p.jsx("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:n.issuerRef.name}),n.issuerRef.group&&p.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:n.issuerRef.group})]}),y=m?b=>b:b=>({...b,namespace:r});return p.jsx(Zi,{to:"/cluster/$context/$resourceType/$name",params:{context:t,resourceType:f,name:n.issuerRef.name},search:y,children:g})}}}),n.dnsNames?.length&&u.push({id:"dns-names",title:"DNS Names",data:{type:"custom",render:()=>p.jsx("div",{className:"flex flex-wrap gap-2",children:n.dnsNames.map((g,y)=>p.jsx("span",{className:"text-xs px-2 py-1 rounded bg-blue-500/20 text-blue-300 border border-blue-500/30",children:g},y))})}}),n.ipAddresses?.length&&u.push({id:"ip-addresses",title:"IP Addresses",data:{type:"custom",render:()=>p.jsx("div",{className:"flex flex-wrap gap-2",children:n.ipAddresses.map((g,y)=>p.jsx("span",{className:"text-xs px-2 py-1 rounded bg-cyan-500/20 text-cyan-300 border border-cyan-500/30",children:g},y))})}}),n.uris?.length&&u.push({id:"uris",title:"URIs",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-1",children:n.uris.map((g,y)=>p.jsx("div",{className:"text-xs text-neutral-700 dark:text-neutral-300 font-mono",children:g},y))})}}),n.emailAddresses?.length&&u.push({id:"email-addresses",title:"Email Addresses",data:{type:"custom",render:()=>p.jsx("div",{className:"flex flex-wrap gap-2",children:n.emailAddresses.map((g,y)=>p.jsx("span",{className:"text-xs px-2 py-1 rounded bg-amber-500/20 text-amber-300 border border-amber-500/30",children:g},y))})}}),n.usages?.length&&u.push({id:"usages",title:"Key Usages",data:{type:"custom",render:()=>p.jsx("div",{className:"flex flex-wrap gap-2",children:n.usages.map((g,y)=>p.jsx("span",{className:"text-xs px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300",children:g},y))})}}),n.privateKey&&u.push({id:"private-key",title:"Private Key",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Xp,{size:14,className:"text-neutral-400"}),p.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Configuration"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-neutral-500",children:"Algorithm:"}),p.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-300",children:n.privateKey.algorithm??"RSA"})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-neutral-500",children:"Size:"}),p.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-300",children:n.privateKey.size??2048})]}),n.privateKey.encoding&&p.jsxs("div",{children:[p.jsx("span",{className:"text-neutral-500",children:"Encoding:"}),p.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-300",children:n.privateKey.encoding})]}),n.privateKey.rotationPolicy&&p.jsxs("div",{children:[p.jsx("span",{className:"text-neutral-500",children:"Rotation:"}),p.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-300",children:n.privateKey.rotationPolicy})]})]})]})}}),n.subject&&Object.keys(n.subject).some(g=>{const y=n.subject[g];return Array.isArray(y)?y.length>0:!!y})){const g=[];n.subject.organizations?.length&&g.push(`O=${n.subject.organizations.join(", ")}`),n.subject.organizationalUnits?.length&&g.push(`OU=${n.subject.organizationalUnits.join(", ")}`),n.subject.countries?.length&&g.push(`C=${n.subject.countries.join(", ")}`),n.subject.localities?.length&&g.push(`L=${n.subject.localities.join(", ")}`),n.subject.provinces?.length&&g.push(`ST=${n.subject.provinces.join(", ")}`),u.push({id:"subject",title:"Subject",data:{type:"custom",render:()=>p.jsx("div",{className:"text-xs text-neutral-700 dark:text-neutral-300 font-mono bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:g.join(", ")})}})}if(n.keystores){const g=[];n.keystores.jks?.create&&g.push("JKS"),n.keystores.pkcs12?.create&&g.push("PKCS#12"),g.length>0&&u.push({id:"keystores",title:"Keystores",data:{type:"custom",render:()=>p.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((y,b)=>p.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/20 text-green-300 border border-green-500/30",children:y},b))})}})}return s?.failedIssuanceAttempts&&s.failedIssuanceAttempts>0&&u.push({id:"failed-issuance",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[p.jsx(kh,{size:14}),p.jsxs("span",{className:"text-sm font-medium",children:["Failed Issuance Attempts: ",s.failedIssuanceAttempts]})]}),s.lastFailureTime&&p.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:["Last failure: ",t0(s.lastFailureTime)]})]})}}),{sections:u}}};var A3={};var R3;function GJ(){if(R3)return A3;R3=1;var t;return(function(e){(function(n){var s=typeof globalThis=="object"?globalThis:typeof oT=="object"?oT:typeof self=="object"?self:typeof this=="object"?this:u(),r=i(e);typeof s.Reflect<"u"&&(r=i(s.Reflect,r)),n(r,s),typeof s.Reflect>"u"&&(s.Reflect=e);function i(h,m){return function(f,g){Object.defineProperty(h,f,{configurable:!0,writable:!0,value:g}),m&&m(f,g)}}function a(){try{return Function("return this;")()}catch{}}function l(){try{return(0,eval)("(function() { return this; })()")}catch{}}function u(){return a()||l()}})(function(n,s){var r=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",a=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",l=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",u=typeof Object.create=="function",h={__proto__:[]}instanceof Array,m=!u&&!h,f={create:u?function(){return un(Object.create(null))}:h?function(){return un({__proto__:null})}:function(){return un({})},has:m?function(re,oe){return r.call(re,oe)}:function(re,oe){return oe in re},get:m?function(re,oe){return r.call(re,oe)?re[oe]:void 0}:function(re,oe){return re[oe]}},g=Object.getPrototypeOf(Function),y=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Ve(),b=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ot(),_=typeof WeakMap=="function"?WeakMap:bt(),w=i?Symbol.for("@reflect-metadata:registry"):void 0,k=Ke(),C=Te(k);function E(re,oe,fe,Ne){if(T(fe)){if(!Ce(re))throw new TypeError;if(!qe(oe))throw new TypeError;return W(re,oe)}else{if(!Ce(re))throw new TypeError;if(!J(oe))throw new TypeError;if(!J(Ne)&&!T(Ne)&&!Q(Ne))throw new TypeError;return Q(Ne)&&(Ne=void 0),fe=ze(fe),Z(re,oe,fe,Ne)}}n("decorate",E);function A(re,oe){function fe(Ne,me){if(!J(Ne))throw new TypeError;if(!T(me)&&!lt(me))throw new TypeError;U(re,oe,Ne,me)}return fe}n("metadata",A);function R(re,oe,fe,Ne){if(!J(fe))throw new TypeError;return T(Ne)||(Ne=ze(Ne)),U(re,oe,fe,Ne)}n("defineMetadata",R);function N(re,oe,fe){if(!J(oe))throw new TypeError;return T(fe)||(fe=ze(fe)),G(re,oe,fe)}n("hasMetadata",N);function M(re,oe,fe){if(!J(oe))throw new TypeError;return T(fe)||(fe=ze(fe)),L(re,oe,fe)}n("hasOwnMetadata",M);function I(re,oe,fe){if(!J(oe))throw new TypeError;return T(fe)||(fe=ze(fe)),Y(re,oe,fe)}n("getMetadata",I);function q(re,oe,fe){if(!J(oe))throw new TypeError;return T(fe)||(fe=ze(fe)),X(re,oe,fe)}n("getOwnMetadata",q);function B(re,oe){if(!J(re))throw new TypeError;return T(oe)||(oe=ze(oe)),O(re,oe)}n("getMetadataKeys",B);function K(re,oe){if(!J(re))throw new TypeError;return T(oe)||(oe=ze(oe)),P(re,oe)}n("getOwnMetadataKeys",K);function $(re,oe,fe){if(!J(oe))throw new TypeError;if(T(fe)||(fe=ze(fe)),!J(oe))throw new TypeError;T(fe)||(fe=ze(fe));var Ne=ve(oe,fe,!1);return T(Ne)?!1:Ne.OrdinaryDeleteMetadata(re,oe,fe)}n("deleteMetadata",$);function W(re,oe){for(var fe=re.length-1;fe>=0;--fe){var Ne=re[fe],me=Ne(oe);if(!T(me)&&!Q(me)){if(!qe(me))throw new TypeError;oe=me}}return oe}function Z(re,oe,fe,Ne){for(var me=re.length-1;me>=0;--me){var Ge=re[me],ht=Ge(oe,fe,Ne);if(!T(ht)&&!Q(ht)){if(!J(ht))throw new TypeError;Ne=ht}}return Ne}function G(re,oe,fe){var Ne=L(re,oe,fe);if(Ne)return!0;var me=He(oe);return Q(me)?!1:G(re,me,fe)}function L(re,oe,fe){var Ne=ve(oe,fe,!1);return T(Ne)?!1:ke(Ne.OrdinaryHasOwnMetadata(re,oe,fe))}function Y(re,oe,fe){var Ne=L(re,oe,fe);if(Ne)return X(re,oe,fe);var me=He(oe);if(!Q(me))return Y(re,me,fe)}function X(re,oe,fe){var Ne=ve(oe,fe,!1);if(!T(Ne))return Ne.OrdinaryGetOwnMetadata(re,oe,fe)}function U(re,oe,fe,Ne){var me=ve(fe,Ne,!0);me.OrdinaryDefineOwnMetadata(re,oe,fe,Ne)}function O(re,oe){var fe=P(re,oe),Ne=He(re);if(Ne===null)return fe;var me=O(Ne,oe);if(me.length<=0)return fe;if(fe.length<=0)return me;for(var Ge=new b,ht=[],dt=0,Pe=fe;dt<Pe.length;dt++){var Fe=Pe[dt],Ye=Ge.has(Fe);Ye||(Ge.add(Fe),ht.push(Fe))}for(var Ze=0,kt=me;Ze<kt.length;Ze++){var Fe=kt[Ze],Ye=Ge.has(Fe);Ye||(Ge.add(Fe),ht.push(Fe))}return ht}function P(re,oe){var fe=ve(re,oe,!1);return fe?fe.OrdinaryOwnMetadataKeys(re,oe):[]}function V(re){if(re===null)return 1;switch(typeof re){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return re===null?1:6;default:return 6}}function T(re){return re===void 0}function Q(re){return re===null}function te(re){return typeof re=="symbol"}function J(re){return typeof re=="object"?re!==null:typeof re=="function"}function ue(re,oe){switch(V(re)){case 0:return re;case 1:return re;case 2:return re;case 3:return re;case 4:return re;case 5:return re}var fe="string",Ne=Lt(re,a);if(Ne!==void 0){var me=Ne.call(re,fe);if(J(me))throw new TypeError;return me}return we(re)}function we(re,oe){var fe,Ne,me;{var Ge=re.toString;if(Oe(Ge)){var Ne=Ge.call(re);if(!J(Ne))return Ne}var fe=re.valueOf;if(Oe(fe)){var Ne=fe.call(re);if(!J(Ne))return Ne}}throw new TypeError}function ke(re){return!!re}function et(re){return""+re}function ze(re){var oe=ue(re);return te(oe)?oe:et(oe)}function Ce(re){return Array.isArray?Array.isArray(re):re instanceof Object?re instanceof Array:Object.prototype.toString.call(re)==="[object Array]"}function Oe(re){return typeof re=="function"}function qe(re){return typeof re=="function"}function lt(re){switch(V(re)){case 3:return!0;case 4:return!0;default:return!1}}function at(re,oe){return re===oe||re!==re&&oe!==oe}function Lt(re,oe){var fe=re[oe];if(fe!=null){if(!Oe(fe))throw new TypeError;return fe}}function Bt(re){var oe=Lt(re,l);if(!Oe(oe))throw new TypeError;var fe=oe.call(re);if(!J(fe))throw new TypeError;return fe}function At(re){return re.value}function jt(re){var oe=re.next();return oe.done?!1:oe}function De(re){var oe=re.return;oe&&oe.call(re)}function He(re){var oe=Object.getPrototypeOf(re);if(typeof re!="function"||re===g||oe!==g)return oe;var fe=re.prototype,Ne=fe&&Object.getPrototypeOf(fe);if(Ne==null||Ne===Object.prototype)return oe;var me=Ne.constructor;return typeof me!="function"||me===re?oe:me}function Ie(){var re;!T(w)&&typeof s.Reflect<"u"&&!(w in s.Reflect)&&typeof s.Reflect.defineMetadata=="function"&&(re=ae(s.Reflect));var oe,fe,Ne,me=new _,Ge={registerProvider:ht,getProvider:Pe,setProvider:Ye};return Ge;function ht(Ze){if(!Object.isExtensible(Ge))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case re===Ze:break;case T(oe):oe=Ze;break;case oe===Ze:break;case T(fe):fe=Ze;break;case fe===Ze:break;default:Ne===void 0&&(Ne=new b),Ne.add(Ze);break}}function dt(Ze,kt){if(!T(oe)){if(oe.isProviderFor(Ze,kt))return oe;if(!T(fe)){if(fe.isProviderFor(Ze,kt))return oe;if(!T(Ne))for(var qt=Bt(Ne);;){var mn=jt(qt);if(!mn)return;var Ks=At(mn);if(Ks.isProviderFor(Ze,kt))return De(qt),Ks}}}if(!T(re)&&re.isProviderFor(Ze,kt))return re}function Pe(Ze,kt){var qt=me.get(Ze),mn;return T(qt)||(mn=qt.get(kt)),T(mn)&&(mn=dt(Ze,kt),T(mn)||(T(qt)&&(qt=new y,me.set(Ze,qt)),qt.set(kt,mn))),mn}function Fe(Ze){if(T(Ze))throw new TypeError;return oe===Ze||fe===Ze||!T(Ne)&&Ne.has(Ze)}function Ye(Ze,kt,qt){if(!Fe(qt))throw new Error("Metadata provider not registered.");var mn=Pe(Ze,kt);if(mn!==qt){if(!T(mn))return!1;var Ks=me.get(Ze);T(Ks)&&(Ks=new y,me.set(Ze,Ks)),Ks.set(kt,qt)}return!0}}function Ke(){var re;return!T(w)&&J(s.Reflect)&&Object.isExtensible(s.Reflect)&&(re=s.Reflect[w]),T(re)&&(re=Ie()),!T(w)&&J(s.Reflect)&&Object.isExtensible(s.Reflect)&&Object.defineProperty(s.Reflect,w,{enumerable:!1,configurable:!1,writable:!1,value:re}),re}function Te(re){var oe=new _,fe={isProviderFor:function(Fe,Ye){var Ze=oe.get(Fe);return T(Ze)?!1:Ze.has(Ye)},OrdinaryDefineOwnMetadata:ht,OrdinaryHasOwnMetadata:me,OrdinaryGetOwnMetadata:Ge,OrdinaryOwnMetadataKeys:dt,OrdinaryDeleteMetadata:Pe};return k.registerProvider(fe),fe;function Ne(Fe,Ye,Ze){var kt=oe.get(Fe),qt=!1;if(T(kt)){if(!Ze)return;kt=new y,oe.set(Fe,kt),qt=!0}var mn=kt.get(Ye);if(T(mn)){if(!Ze)return;if(mn=new y,kt.set(Ye,mn),!re.setProvider(Fe,Ye,fe))throw kt.delete(Ye),qt&&oe.delete(Fe),new Error("Wrong provider for target.")}return mn}function me(Fe,Ye,Ze){var kt=Ne(Ye,Ze,!1);return T(kt)?!1:ke(kt.has(Fe))}function Ge(Fe,Ye,Ze){var kt=Ne(Ye,Ze,!1);if(!T(kt))return kt.get(Fe)}function ht(Fe,Ye,Ze,kt){var qt=Ne(Ze,kt,!0);qt.set(Fe,Ye)}function dt(Fe,Ye){var Ze=[],kt=Ne(Fe,Ye,!1);if(T(kt))return Ze;for(var qt=kt.keys(),mn=Bt(qt),Ks=0;;){var jc=jt(mn);if(!jc)return Ze.length=Ks,Ze;var al=At(jc);try{Ze[Ks]=al}catch(b_){try{De(mn)}finally{throw b_}}Ks++}}function Pe(Fe,Ye,Ze){var kt=Ne(Ye,Ze,!1);if(T(kt)||!kt.delete(Fe))return!1;if(kt.size===0){var qt=oe.get(Ye);T(qt)||(qt.delete(Ze),qt.size===0&&oe.delete(qt))}return!0}}function ae(re){var oe=re.defineMetadata,fe=re.hasOwnMetadata,Ne=re.getOwnMetadata,me=re.getOwnMetadataKeys,Ge=re.deleteMetadata,ht=new _,dt={isProviderFor:function(Pe,Fe){var Ye=ht.get(Pe);return!T(Ye)&&Ye.has(Fe)?!0:me(Pe,Fe).length?(T(Ye)&&(Ye=new b,ht.set(Pe,Ye)),Ye.add(Fe),!0):!1},OrdinaryDefineOwnMetadata:oe,OrdinaryHasOwnMetadata:fe,OrdinaryGetOwnMetadata:Ne,OrdinaryOwnMetadataKeys:me,OrdinaryDeleteMetadata:Ge};return dt}function ve(re,oe,fe){var Ne=k.getProvider(re,oe);if(!T(Ne))return Ne;if(fe){if(k.setProvider(re,oe,C))return C;throw new Error("Illegal state.")}}function Ve(){var re={},oe=[],fe=(function(){function dt(Pe,Fe,Ye){this._index=0,this._keys=Pe,this._values=Fe,this._selector=Ye}return dt.prototype["@@iterator"]=function(){return this},dt.prototype[l]=function(){return this},dt.prototype.next=function(){var Pe=this._index;if(Pe>=0&&Pe<this._keys.length){var Fe=this._selector(this._keys[Pe],this._values[Pe]);return Pe+1>=this._keys.length?(this._index=-1,this._keys=oe,this._values=oe):this._index++,{value:Fe,done:!1}}return{value:void 0,done:!0}},dt.prototype.throw=function(Pe){throw this._index>=0&&(this._index=-1,this._keys=oe,this._values=oe),Pe},dt.prototype.return=function(Pe){return this._index>=0&&(this._index=-1,this._keys=oe,this._values=oe),{value:Pe,done:!0}},dt})(),Ne=(function(){function dt(){this._keys=[],this._values=[],this._cacheKey=re,this._cacheIndex=-2}return Object.defineProperty(dt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),dt.prototype.has=function(Pe){return this._find(Pe,!1)>=0},dt.prototype.get=function(Pe){var Fe=this._find(Pe,!1);return Fe>=0?this._values[Fe]:void 0},dt.prototype.set=function(Pe,Fe){var Ye=this._find(Pe,!0);return this._values[Ye]=Fe,this},dt.prototype.delete=function(Pe){var Fe=this._find(Pe,!1);if(Fe>=0){for(var Ye=this._keys.length,Ze=Fe+1;Ze<Ye;Ze++)this._keys[Ze-1]=this._keys[Ze],this._values[Ze-1]=this._values[Ze];return this._keys.length--,this._values.length--,at(Pe,this._cacheKey)&&(this._cacheKey=re,this._cacheIndex=-2),!0}return!1},dt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=re,this._cacheIndex=-2},dt.prototype.keys=function(){return new fe(this._keys,this._values,me)},dt.prototype.values=function(){return new fe(this._keys,this._values,Ge)},dt.prototype.entries=function(){return new fe(this._keys,this._values,ht)},dt.prototype["@@iterator"]=function(){return this.entries()},dt.prototype[l]=function(){return this.entries()},dt.prototype._find=function(Pe,Fe){if(!at(this._cacheKey,Pe)){this._cacheIndex=-1;for(var Ye=0;Ye<this._keys.length;Ye++)if(at(this._keys[Ye],Pe)){this._cacheIndex=Ye;break}}return this._cacheIndex<0&&Fe&&(this._cacheIndex=this._keys.length,this._keys.push(Pe),this._values.push(void 0)),this._cacheIndex},dt})();return Ne;function me(dt,Pe){return dt}function Ge(dt,Pe){return Pe}function ht(dt,Pe){return[dt,Pe]}}function ot(){var re=(function(){function oe(){this._map=new y}return Object.defineProperty(oe.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),oe.prototype.has=function(fe){return this._map.has(fe)},oe.prototype.add=function(fe){return this._map.set(fe,fe),this},oe.prototype.delete=function(fe){return this._map.delete(fe)},oe.prototype.clear=function(){this._map.clear()},oe.prototype.keys=function(){return this._map.keys()},oe.prototype.values=function(){return this._map.keys()},oe.prototype.entries=function(){return this._map.entries()},oe.prototype["@@iterator"]=function(){return this.keys()},oe.prototype[l]=function(){return this.keys()},oe})();return re}function bt(){var re=16,oe=f.create(),fe=Ne();return(function(){function Pe(){this._key=Ne()}return Pe.prototype.has=function(Fe){var Ye=me(Fe,!1);return Ye!==void 0?f.has(Ye,this._key):!1},Pe.prototype.get=function(Fe){var Ye=me(Fe,!1);return Ye!==void 0?f.get(Ye,this._key):void 0},Pe.prototype.set=function(Fe,Ye){var Ze=me(Fe,!0);return Ze[this._key]=Ye,this},Pe.prototype.delete=function(Fe){var Ye=me(Fe,!1);return Ye!==void 0?delete Ye[this._key]:!1},Pe.prototype.clear=function(){this._key=Ne()},Pe})();function Ne(){var Pe;do Pe="@@WeakMap@@"+dt();while(f.has(oe,Pe));return oe[Pe]=!0,Pe}function me(Pe,Fe){if(!r.call(Pe,fe)){if(!Fe)return;Object.defineProperty(Pe,fe,{value:f.create()})}return Pe[fe]}function Ge(Pe,Fe){for(var Ye=0;Ye<Fe;++Ye)Pe[Ye]=Math.random()*255|0;return Pe}function ht(Pe){if(typeof Uint8Array=="function"){var Fe=new Uint8Array(Pe);return typeof crypto<"u"?crypto.getRandomValues(Fe):typeof msCrypto<"u"?msCrypto.getRandomValues(Fe):Ge(Fe,Pe),Fe}return Ge(new Array(Pe),Pe)}function dt(){var Pe=ht(re);Pe[6]=Pe[6]&79|64,Pe[8]=Pe[8]&191|128;for(var Fe="",Ye=0;Ye<re;++Ye){var Ze=Pe[Ye];(Ye===4||Ye===6||Ye===8)&&(Fe+="-"),Ze<16&&(Fe+="0"),Fe+=Ze.toString(16).toLowerCase()}return Fe}}function un(re){return re.__=void 0,delete re.__,re}})})(t||(t={})),A3}GJ();const YJ="[object ArrayBuffer]";class Be{static isArrayBuffer(e){return Object.prototype.toString.call(e)===YJ}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,n){if(e.constructor===n)return e;if(this.isArrayBuffer(e))return new n(e);if(this.isArrayBufferView(e))return new n(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,n){const s=Be.toUint8Array(e),r=Be.toUint8Array(n);if(s.length!==r.byteLength)return!1;for(let i=0;i<s.length;i++)if(s[i]!==r[i])return!1;return!0}static concat(...e){let n;Array.isArray(e[0])&&!(e[1]instanceof Function)||Array.isArray(e[0])&&e[1]instanceof Function?n=e[0]:e[e.length-1]instanceof Function?n=e.slice(0,e.length-1):n=e;let s=0;for(const a of n)s+=a.byteLength;const r=new Uint8Array(s);let i=0;for(const a of n){const l=this.toUint8Array(a);r.set(l,i),i+=l.length}return e[e.length-1]instanceof Function?this.toView(r,e[e.length-1]):r.buffer}}const eS="string",ZJ=/^[0-9a-f\s]+$/i,JJ=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,XJ=/^[a-zA-Z0-9-_]+$/;class T3{static fromString(e){const n=unescape(encodeURIComponent(e)),s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s.buffer}static toString(e){const n=Be.toUint8Array(e);let s="";for(let i=0;i<n.length;i++)s+=String.fromCharCode(n[i]);return decodeURIComponent(escape(s))}}class Oi{static toString(e,n=!1){const s=Be.toArrayBuffer(e),r=new DataView(s);let i="";for(let a=0;a<s.byteLength;a+=2){const l=r.getUint16(a,n);i+=String.fromCharCode(l)}return i}static fromString(e,n=!1){const s=new ArrayBuffer(e.length*2),r=new DataView(s);for(let i=0;i<e.length;i++)r.setUint16(i*2,e.charCodeAt(i),n);return s}}class tt{static isHex(e){return typeof e===eS&&ZJ.test(e)}static isBase64(e){return typeof e===eS&&JJ.test(e)}static isBase64Url(e){return typeof e===eS&&XJ.test(e)}static ToString(e,n="utf8"){const s=Be.toUint8Array(e);switch(n.toLowerCase()){case"utf8":return this.ToUtf8String(s);case"binary":return this.ToBinary(s);case"hex":return this.ToHex(s);case"base64":return this.ToBase64(s);case"base64url":return this.ToBase64Url(s);case"utf16le":return Oi.toString(s,!0);case"utf16":case"utf16be":return Oi.toString(s);default:throw new Error(`Unknown type of encoding '${n}'`)}}static FromString(e,n="utf8"){if(!e)return new ArrayBuffer(0);switch(n.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return Oi.fromString(e,!0);case"utf16":case"utf16be":return Oi.fromString(e);default:throw new Error(`Unknown type of encoding '${n}'`)}}static ToBase64(e){const n=Be.toUint8Array(e);if(typeof btoa<"u"){const s=this.ToString(n,"binary");return btoa(s)}else return Buffer.from(n).toString("base64")}static FromBase64(e){const n=this.formatString(e);if(!n)return new ArrayBuffer(0);if(!tt.isBase64(n))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(n)):new Uint8Array(Buffer.from(n,"base64")).buffer}static FromBase64Url(e){const n=this.formatString(e);if(!n)return new ArrayBuffer(0);if(!tt.isBase64Url(n))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(n.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,n=tt.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.FromBinary(e);case"utf8":return T3.fromString(e);case"utf16":case"utf16be":return Oi.fromString(e);case"utf16le":case"usc2":return Oi.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${n}'`)}}static ToUtf8String(e,n=tt.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.ToBinary(e);case"utf8":return T3.toString(e);case"utf16":case"utf16be":return Oi.toString(e);case"utf16le":case"usc2":return Oi.toString(e,!0);default:throw new Error(`Unknown type of encoding '${n}'`)}}static FromBinary(e){const n=e.length,s=new Uint8Array(n);for(let r=0;r<n;r++)s[r]=e.charCodeAt(r);return s.buffer}static ToBinary(e){const n=Be.toUint8Array(e);let s="";for(let r=0;r<n.length;r++)s+=String.fromCharCode(n[r]);return s}static ToHex(e){const n=Be.toUint8Array(e);let s="";const r=n.length;for(let i=0;i<r;i++){const a=n[i];a<16&&(s+="0"),s+=a.toString(16)}return s}static FromHex(e){let n=this.formatString(e);if(!n)return new ArrayBuffer(0);if(!tt.isHex(n))throw new TypeError("Argument 'hexString' is not HEX encoded");n.length%2&&(n=`0${n}`);const s=new Uint8Array(n.length/2);for(let r=0;r<n.length;r=r+2){const i=n.slice(r,r+2);s[r/2]=parseInt(i,16)}return s.buffer}static ToUtf16String(e,n=!1){return Oi.toString(e,n)}static FromUtf16String(e,n=!1){return Oi.fromString(e,n)}static Base64Padding(e){const n=4-e.length%4;if(n<4)for(let s=0;s<n;s++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}}tt.DEFAULT_UTF8_ENCODING="utf8";function QJ(...t){const e=t.map(r=>r.byteLength).reduce((r,i)=>r+i),n=new Uint8Array(e);let s=0;return t.map(r=>new Uint8Array(r)).forEach(r=>{for(const i of r)n[s++]=i}),n.buffer}function R6(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;const n=new Uint8Array(t),s=new Uint8Array(e);for(let r=0;r<t.byteLength;r++)if(n[r]!==s[r])return!1;return!0}function nh(t,e){let n=0;if(t.length===1)return t[0];for(let s=t.length-1;s>=0;s--)n+=t[t.length-1-s]*Math.pow(2,e*s);return n}function sc(t,e,n=-1){const s=n;let r=t,i=0,a=Math.pow(2,e);for(let l=1;l<8;l++){if(t<a){let u;if(s<0)u=new ArrayBuffer(l),i=l;else{if(s<l)return new ArrayBuffer(0);u=new ArrayBuffer(s),i=s}const h=new Uint8Array(u);for(let m=l-1;m>=0;m--){const f=Math.pow(2,m*e);h[i-m-1]=Math.floor(r/f),r-=h[i-m-1]*f}return u}a*=Math.pow(2,e)}return new ArrayBuffer(0)}function $w(...t){let e=0,n=0;for(const i of t)e+=i.length;const s=new ArrayBuffer(e),r=new Uint8Array(s);for(const i of t)r.set(i,n),n+=i.length;return r}function T6(){const t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const l=t[0]===255&&t[1]&128,u=t[0]===0&&(t[1]&128)===0;(l||u)&&this.warnings.push("Needlessly long format")}const e=new ArrayBuffer(this.valueHex.byteLength),n=new Uint8Array(e);for(let l=0;l<this.valueHex.byteLength;l++)n[l]=0;n[0]=t[0]&128;const s=nh(n,8),r=new ArrayBuffer(this.valueHex.byteLength),i=new Uint8Array(r);for(let l=0;l<this.valueHex.byteLength;l++)i[l]=t[l];return i[0]&=127,nh(i,8)-s}function eX(t){const e=t<0?t*-1:t;let n=128;for(let s=1;s<8;s++){if(e<=n){if(t<0){const a=n-e,l=sc(a,8,s),u=new Uint8Array(l);return u[0]|=128,l}let r=sc(e,8,s),i=new Uint8Array(r);if(i[0]&128){const a=r.slice(0),l=new Uint8Array(a);r=new ArrayBuffer(r.byteLength+1),i=new Uint8Array(r);for(let u=0;u<a.byteLength;u++)i[u+1]=l[u];i[0]=0}return r}n*=Math.pow(2,8)}return new ArrayBuffer(0)}function tX(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new Uint8Array(t),s=new Uint8Array(e);for(let r=0;r<n.length;r++)if(n[r]!==s[r])return!1;return!0}function Nr(t,e){const n=t.toString(10);if(e<n.length)return"";const s=e-n.length,r=new Array(s);for(let a=0;a<s;a++)r[a]="0";return r.join("").concat(n)}function Ty(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function iN(t){let e=0,n=0;for(let r=0;r<t.length;r++){const i=t[r];e+=i.byteLength}const s=new Uint8Array(e);for(let r=0;r<t.length;r++){const i=t[r];s.set(new Uint8Array(i),n),n+=i.byteLength}return s.buffer}function Va(t,e,n,s){return e instanceof Uint8Array?e.byteLength?n<0?(t.error="Wrong parameter: inputOffset less than zero",!1):s<0?(t.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-n-s<0?(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(t.error="Wrong parameter: inputBuffer has zero length",!1):(t.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class Gv{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return iN(this.items)}}const Vd=[new Uint8Array([1])],j3="0123456789",tS="name",O3="valueHexView",nX="isHexOnly",sX="idBlock",rX="tagClass",iX="tagNumber",aX="isConstructed",oX="fromBER",lX="toBER",cX="local",rr="",ea=new ArrayBuffer(0),Yv=new Uint8Array(0),Ep="EndOfContent",j6="OCTET STRING",O6="BIT STRING";function ta(t){var e;return e=class extends t{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(s){this.valueHexView=new Uint8Array(s)}constructor(...s){var r;super(...s);const i=s[0]||{};this.isHexOnly=(r=i.isHexOnly)!==null&&r!==void 0?r:!1,this.valueHexView=i.valueHex?Be.toUint8Array(i.valueHex):Yv}fromBER(s,r,i){const a=s instanceof ArrayBuffer?new Uint8Array(s):s;if(!Va(this,a,r,i))return-1;const l=r+i;return this.valueHexView=a.subarray(r,l),this.valueHexView.length?(this.blockLength=i,l):(this.warnings.push("Zero buffer length"),r)}toBER(s=!1){return this.isHexOnly?s?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",ea)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:tt.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}class kc{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}constructor({blockLength:e=0,error:n=rr,warnings:s=[],valueBeforeDecode:r=Yv}={}){this.blockLength=e,this.error=n,this.warnings=s,this.valueBeforeDecodeView=Be.toUint8Array(r)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:tt.ToHex(this.valueBeforeDecodeView)}}}kc.NAME="baseBlock";class Hs extends kc{fromBER(e,n,s){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}Hs.NAME="valueBlock";class M6 extends ta(kc){constructor({idBlock:e={}}={}){var n,s,r,i;super(),e?(this.isHexOnly=(n=e.isHexOnly)!==null&&n!==void 0?n:!1,this.valueHexView=e.valueHex?Be.toUint8Array(e.valueHex):Yv,this.tagClass=(s=e.tagClass)!==null&&s!==void 0?s:-1,this.tagNumber=(r=e.tagNumber)!==null&&r!==void 0?r:-1,this.isConstructed=(i=e.isConstructed)!==null&&i!==void 0?i:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let n=0;switch(this.tagClass){case 1:n|=0;break;case 2:n|=64;break;case 3:n|=128;break;case 4:n|=192;break;default:return this.error="Unknown tag class",ea}if(this.isConstructed&&(n|=32),this.tagNumber<31&&!this.isHexOnly){const r=new Uint8Array(1);if(!e){let i=this.tagNumber;i&=31,n|=i,r[0]=n}return r.buffer}if(!this.isHexOnly){const r=sc(this.tagNumber,7),i=new Uint8Array(r),a=r.byteLength,l=new Uint8Array(a+1);if(l[0]=n|31,!e){for(let u=0;u<a-1;u++)l[u+1]=i[u]|128;l[a]=i[a-1]}return l.buffer}const s=new Uint8Array(this.valueHexView.byteLength+1);if(s[0]=n|31,!e){const r=this.valueHexView;for(let i=0;i<r.length-1;i++)s[i+1]=r[i]|128;s[this.valueHexView.byteLength]=r[r.length-1]}return s.buffer}fromBER(e,n,s){const r=Be.toUint8Array(e);if(!Va(this,r,n,s))return-1;const i=r.subarray(n,n+s);if(i.length===0)return this.error="Zero buffer length",-1;switch(i[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(i[0]&32)===32,this.isHexOnly=!1;const l=i[0]&31;if(l!==31)this.tagNumber=l,this.blockLength=1;else{let u=1,h=this.valueHexView=new Uint8Array(255),m=255;for(;i[u]&128;){if(h[u-1]=i[u]&127,u++,u>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(u===m){m+=255;const g=new Uint8Array(m);for(let y=0;y<h.length;y++)g[y]=h[y];h=this.valueHexView=new Uint8Array(m)}}this.blockLength=u+1,h[u-1]=i[u]&127;const f=new Uint8Array(u);for(let g=0;g<u;g++)f[g]=h[g];h=this.valueHexView=new Uint8Array(u),h.set(f),this.blockLength<=9?this.tagNumber=nh(h,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return n+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}M6.NAME="identificationBlock";class I6 extends kc{constructor({lenBlock:e={}}={}){var n,s,r;super(),this.isIndefiniteForm=(n=e.isIndefiniteForm)!==null&&n!==void 0?n:!1,this.longFormUsed=(s=e.longFormUsed)!==null&&s!==void 0?s:!1,this.length=(r=e.length)!==null&&r!==void 0?r:0}fromBER(e,n,s){const r=Be.toUint8Array(e);if(!Va(this,r,n,s))return-1;const i=r.subarray(n,n+s);if(i.length===0)return this.error="Zero buffer length",-1;if(i[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=i[0]===128,this.isIndefiniteForm)return this.blockLength=1,n+this.blockLength;if(this.longFormUsed=!!(i[0]&128),this.longFormUsed===!1)return this.length=i[0],this.blockLength=1,n+this.blockLength;const a=i[0]&127;if(a>8)return this.error="Too big integer",-1;if(a+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const l=n+1,u=r.subarray(l,l+a);return u[a-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=nh(u,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=a+1,n+this.blockLength}toBER(e=!1){let n,s;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return n=new ArrayBuffer(1),e===!1&&(s=new Uint8Array(n),s[0]=128),n;if(this.longFormUsed){const r=sc(this.length,8);if(r.byteLength>127)return this.error="Too big length",ea;if(n=new ArrayBuffer(r.byteLength+1),e)return n;const i=new Uint8Array(r);s=new Uint8Array(n),s[0]=r.byteLength|128;for(let a=0;a<r.byteLength;a++)s[a+1]=i[a];return n}return n=new ArrayBuffer(1),e===!1&&(s=new Uint8Array(n),s[0]=this.length),n}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}I6.NAME="lengthBlock";const Je={};class _s extends kc{constructor({name:e=rr,optional:n=!1,primitiveSchema:s,...r}={},i){super(r),this.name=e,this.optional=n,s&&(this.primitiveSchema=s),this.idBlock=new M6(r),this.lenBlock=new I6(r),this.valueBlock=i?new i(r):new Hs(r)}fromBER(e,n,s){const r=this.valueBlock.fromBER(e,n,this.lenBlock.isIndefiniteForm?s:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}toBER(e,n){const s=n||new Gv;n||D6(this);const r=this.idBlock.toBER(e);if(s.write(r),this.lenBlock.isIndefiniteForm)s.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,s),s.write(new ArrayBuffer(2));else{const i=this.valueBlock.toBER(e);this.lenBlock.length=i.byteLength;const a=this.lenBlock.toBER(e);s.write(a),s.write(i)}return n?ea:s.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():tt.ToHex(this.toBER())}onAsciiEncoding(){const e=this.constructor.NAME,n=tt.ToHex(this.valueBlock.valueBeforeDecodeView);return`${e} : ${n}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;const n=this.toBER(),s=e.toBER();return tX(n,s)}}_s.NAME="BaseBlock";function D6(t){var e;if(t instanceof Je.Constructed)for(const n of t.valueBlock.value)D6(n)&&(t.lenBlock.isIndefiniteForm=!0);return!!(!((e=t.lenBlock)===null||e===void 0)&&e.isIndefiniteForm)}class aN extends _s{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor({value:e=rr,...n}={},s){super(n,s),e&&this.fromString(e)}fromBER(e,n,s){const r=this.valueBlock.fromBER(e,n,this.lenBlock.isIndefiniteForm?s:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}aN.NAME="BaseStringBlock";class P6 extends ta(Hs){constructor({isHexOnly:e=!0,...n}={}){super(n),this.isHexOnly=e}}P6.NAME="PrimitiveValueBlock";var L6;class em extends _s{constructor(e={}){super(e,P6),this.idBlock.isConstructed=!1}}L6=em;Je.Primitive=L6;em.NAME="PRIMITIVE";function uX(t,e){if(t instanceof e)return t;const n=new e;return n.idBlock=t.idBlock,n.lenBlock=t.lenBlock,n.warnings=t.warnings,n.valueBeforeDecodeView=t.valueBeforeDecodeView,n}function Eh(t,e=0,n=t.length){const s=e;let r=new _s({},Hs);const i=new kc;if(!Va(i,t,e,n))return r.error=i.error,{offset:-1,result:r};if(!t.subarray(e,e+n).length)return r.error="Zero buffer length",{offset:-1,result:r};let l=r.idBlock.fromBER(t,e,n);if(r.idBlock.warnings.length&&r.warnings.concat(r.idBlock.warnings),l===-1)return r.error=r.idBlock.error,{offset:-1,result:r};if(e=l,n-=r.idBlock.blockLength,l=r.lenBlock.fromBER(t,e,n),r.lenBlock.warnings.length&&r.warnings.concat(r.lenBlock.warnings),l===-1)return r.error=r.lenBlock.error,{offset:-1,result:r};if(e=l,n-=r.lenBlock.blockLength,!r.idBlock.isConstructed&&r.lenBlock.isIndefiniteForm)return r.error="Indefinite length form used for primitive encoding form",{offset:-1,result:r};let u=_s;switch(r.idBlock.tagClass){case 1:if(r.idBlock.tagNumber>=37&&r.idBlock.isHexOnly===!1)return r.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:r};switch(r.idBlock.tagNumber){case 0:if(r.idBlock.isConstructed&&r.lenBlock.length>0)return r.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:r};u=Je.EndOfContent;break;case 1:u=Je.Boolean;break;case 2:u=Je.Integer;break;case 3:u=Je.BitString;break;case 4:u=Je.OctetString;break;case 5:u=Je.Null;break;case 6:u=Je.ObjectIdentifier;break;case 10:u=Je.Enumerated;break;case 12:u=Je.Utf8String;break;case 13:u=Je.RelativeObjectIdentifier;break;case 14:u=Je.TIME;break;case 15:return r.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:r};case 16:u=Je.Sequence;break;case 17:u=Je.Set;break;case 18:u=Je.NumericString;break;case 19:u=Je.PrintableString;break;case 20:u=Je.TeletexString;break;case 21:u=Je.VideotexString;break;case 22:u=Je.IA5String;break;case 23:u=Je.UTCTime;break;case 24:u=Je.GeneralizedTime;break;case 25:u=Je.GraphicString;break;case 26:u=Je.VisibleString;break;case 27:u=Je.GeneralString;break;case 28:u=Je.UniversalString;break;case 29:u=Je.CharacterString;break;case 30:u=Je.BmpString;break;case 31:u=Je.DATE;break;case 32:u=Je.TimeOfDay;break;case 33:u=Je.DateTime;break;case 34:u=Je.Duration;break;default:{const h=r.idBlock.isConstructed?new Je.Constructed:new Je.Primitive;h.idBlock=r.idBlock,h.lenBlock=r.lenBlock,h.warnings=r.warnings,r=h}}break;default:u=r.idBlock.isConstructed?Je.Constructed:Je.Primitive}return r=uX(r,u),l=r.fromBER(t,e,r.lenBlock.isIndefiniteForm?n:r.lenBlock.length),r.valueBeforeDecodeView=t.subarray(s,s+r.blockLength),{offset:l,result:r}}function Gu(t){if(!t.byteLength){const e=new _s({},Hs);return e.error="Input buffer has zero length",{offset:-1,result:e}}return Eh(Be.toUint8Array(t).slice(),0,t.byteLength)}function hX(t,e){return t?1:e}class Vo extends Hs{constructor({value:e=[],isIndefiniteForm:n=!1,...s}={}){super(s),this.value=e,this.isIndefiniteForm=n}fromBER(e,n,s){const r=Be.toUint8Array(e);if(!Va(this,r,n,s))return-1;if(this.valueBeforeDecodeView=r.subarray(n,n+s),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),n;let i=n;for(;hX(this.isIndefiniteForm,s)>0;){const a=Eh(r,i,s);if(a.offset===-1)return this.error=a.result.error,this.warnings.concat(a.result.warnings),-1;if(i=a.offset,this.blockLength+=a.result.blockLength,s-=a.result.blockLength,this.value.push(a.result),this.isIndefiniteForm&&a.result.constructor.NAME===Ep)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Ep?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,n){const s=n||new Gv;for(let r=0;r<this.value.length;r++)this.value[r].toBER(e,s);return n?ea:s.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const n of this.value)e.value.push(n.toJSON());return e}}Vo.NAME="ConstructedValueBlock";var B6;class zs extends _s{constructor(e={}){super(e,Vo),this.idBlock.isConstructed=!0}fromBER(e,n,s){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const r=this.valueBlock.fromBER(e,n,this.lenBlock.isIndefiniteForm?s:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}onAsciiEncoding(){const e=[];for(const s of this.valueBlock.value)e.push(s.toString("ascii").split(`
`).map(r=>`  ${r}`).join(`
`));const n=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${n} :
${e.join(`
`)}`:`${n} :`}}B6=zs;Je.Constructed=B6;zs.NAME="CONSTRUCTED";class $6 extends Hs{fromBER(e,n,s){return n}toBER(e){return ea}}$6.override="EndOfContentValueBlock";var z6;class oN extends _s{constructor(e={}){super(e,$6),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}z6=oN;Je.EndOfContent=z6;oN.NAME=Ep;var F6;class rc extends _s{constructor(e={}){super(e,Hs),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,n,s){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=s,n+s>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):n+s}toBER(e,n){const s=new ArrayBuffer(2);if(!e){const r=new Uint8Array(s);r[0]=5,r[1]=0}return n&&n.write(s),s}onAsciiEncoding(){return`${this.constructor.NAME}`}}F6=rc;Je.Null=F6;rc.NAME="NULL";class U6 extends ta(Hs){get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}constructor({value:e,...n}={}){super(n),n.valueHex?this.valueHexView=Be.toUint8Array(n.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}fromBER(e,n,s){const r=Be.toUint8Array(e);return Va(this,r,n,s)?(this.valueHexView=r.subarray(n,n+s),s>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,T6.call(this),this.blockLength=s,n+s):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}U6.NAME="BooleanValueBlock";var H6;let Zv=class extends _s{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor(e={}){super(e,U6),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};H6=Zv;Je.Boolean=H6;Zv.NAME="BOOLEAN";class V6 extends ta(Vo){constructor({isConstructed:e=!1,...n}={}){super(n),this.isConstructed=e}fromBER(e,n,s){let r=0;if(this.isConstructed){if(this.isHexOnly=!1,r=Vo.prototype.fromBER.call(this,e,n,s),r===-1)return r;for(let i=0;i<this.value.length;i++){const a=this.value[i].constructor.NAME;if(a===Ep){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(a!==j6)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,r=super.fromBER(e,n,s),this.blockLength=s;return r}toBER(e,n){return this.isConstructed?Vo.prototype.toBER.call(this,e,n):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}V6.NAME="OctetStringValueBlock";var lN;let Wl=class extends _s{constructor({idBlock:e={},lenBlock:n={},...s}={}){var r,i;(r=s.isConstructed)!==null&&r!==void 0||(s.isConstructed=!!(!((i=s.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:s.isConstructed,...e},lenBlock:{...n,isIndefiniteForm:!!s.isIndefiniteForm},...s},V6),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,n,s){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,s===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),n;if(!this.valueBlock.isConstructed){const i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(n,n+s);try{if(i.byteLength){const a=Eh(i,0,i.byteLength);a.offset!==-1&&a.offset===s&&(this.valueBlock.value=[a.result])}}catch{}}return super.fromBER(e,n,s)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return zs.prototype.onAsciiEncoding.call(this);const e=this.constructor.NAME,n=tt.ToHex(this.valueBlock.valueHexView);return`${e} : ${n}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const n of this.valueBlock.value)n instanceof lN&&e.push(n.valueBlock.valueHexView);return Be.concat(e)}};lN=Wl;Je.OctetString=lN;Wl.NAME=j6;class q6 extends ta(Vo){constructor({unusedBits:e=0,isConstructed:n=!1,...s}={}){super(s),this.unusedBits=e,this.isConstructed=n,this.blockLength=this.valueHexView.byteLength}fromBER(e,n,s){if(!s)return n;let r=-1;if(this.isConstructed){if(r=Vo.prototype.fromBER.call(this,e,n,s),r===-1)return r;for(const l of this.value){const u=l.constructor.NAME;if(u===Ep){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(u!==O6)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const h=l.valueBlock;if(this.unusedBits>0&&h.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=h.unusedBits}return r}const i=Be.toUint8Array(e);if(!Va(this,i,n,s))return-1;const a=i.subarray(n,n+s);if(this.unusedBits=a[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const l=a.subarray(1);try{if(l.byteLength){const u=Eh(l,0,l.byteLength);u.offset!==-1&&u.offset===s-1&&(this.value=[u.result])}}catch{}}return this.valueHexView=a.subarray(1),this.blockLength=a.length,n+s}toBER(e,n){if(this.isConstructed)return Vo.prototype.toBER.call(this,e,n);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength){const r=new Uint8Array(1);return r[0]=0,r.buffer}const s=new Uint8Array(this.valueHexView.length+1);return s[0]=this.unusedBits,s.set(this.valueHexView,1),s.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}q6.NAME="BitStringValueBlock";var K6;let Gl=class extends _s{constructor({idBlock:e={},lenBlock:n={},...s}={}){var r,i;(r=s.isConstructed)!==null&&r!==void 0||(s.isConstructed=!!(!((i=s.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:s.isConstructed,...e},lenBlock:{...n,isIndefiniteForm:!!s.isIndefiniteForm},...s},q6),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,n,s){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,n,s)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return zs.prototype.onAsciiEncoding.call(this);{const e=[],n=this.valueBlock.valueHexView;for(const a of n)e.push(a.toString(2).padStart(8,"0"));const s=e.join(""),r=this.constructor.NAME,i=s.substring(0,s.length-this.valueBlock.unusedBits);return`${r} : ${i}`}}};K6=Gl;Je.BitString=K6;Gl.NAME=O6;var W6;function dX(t,e){const n=new Uint8Array([0]),s=new Uint8Array(t),r=new Uint8Array(e);let i=s.slice(0);const a=i.length-1,l=r.slice(0),u=l.length-1;let h=0;const m=u<a?a:u;let f=0;for(let g=m;g>=0;g--,f++)!0===f<l.length?h=i[a-f]+l[u-f]+n[0]:h=i[a-f]+n[0],n[0]=h/10,!0===f>=i.length?i=$w(new Uint8Array([h%10]),i):i[a-f]=h%10;return n[0]>0&&(i=$w(n,i)),i}function M3(t){if(t>=Vd.length)for(let e=Vd.length;e<=t;e++){const n=new Uint8Array([0]);let s=Vd[e-1].slice(0);for(let r=s.length-1;r>=0;r--){const i=new Uint8Array([(s[r]<<1)+n[0]]);n[0]=i[0]/10,s[r]=i[0]%10}n[0]>0&&(s=$w(n,s)),Vd.push(s)}return Vd[t]}function fX(t,e){let n=0;const s=new Uint8Array(t),r=new Uint8Array(e),i=s.slice(0),a=i.length-1,l=r.slice(0),u=l.length-1;let h,m=0;for(let f=u;f>=0;f--,m++)h=i[a-m]-l[u-m]-n,!0===h<0?(n=1,i[a-m]=h+10):(n=0,i[a-m]=h);if(n>0)for(let f=a-u+1;f>=0;f--,m++)if(h=i[a-m]-n,h<0)n=1,i[a-m]=h+10;else{n=0,i[a-m]=h;break}return i.slice()}class cN extends ta(Hs){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=T6.call(this)))}constructor({value:e,...n}={}){super(n),this._valueDec=0,n.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(eX(e))}get valueDec(){return this._valueDec}fromDER(e,n,s,r=0){const i=this.fromBER(e,n,s);if(i===-1)return i;const a=this.valueHexView;return a[0]===0&&(a[1]&128)!==0?this.valueHexView=a.subarray(1):r!==0&&a.length<r&&(r-a.length>1&&(r=a.length+1),this.valueHexView=a.subarray(r-a.length)),i}toDER(e=!1){const n=this.valueHexView;switch(!0){case(n[0]&128)!==0:{const s=new Uint8Array(this.valueHexView.length+1);s[0]=0,s.set(n,1),this.valueHexView=s}break;case(n[0]===0&&(n[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,n,s){const r=super.fromBER(e,n,s);return r===-1||this.setValueHex(),r}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=this.valueHexView.length*8-1;let n=new Uint8Array(this.valueHexView.length*8/3),s=0,r;const i=this.valueHexView;let a="",l=!1;for(let u=i.byteLength-1;u>=0;u--){r=i[u];for(let h=0;h<8;h++)(r&1)===1&&(s===e?(n=fX(M3(s),n),a="-"):n=dX(n,M3(s))),s++,r>>=1}for(let u=0;u<n.length;u++)n[u]&&(l=!0),l&&(a+=j3.charAt(n[u]));return l===!1&&(a+=j3.charAt(0)),a}}W6=cN;cN.NAME="IntegerValueBlock";Object.defineProperty(W6.prototype,"valueHex",{set:function(t){this.valueHexView=new Uint8Array(t),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var Jf;class Ah extends _s{constructor(e={}){super(e,cN),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return Ty(),BigInt(this.valueBlock.toString())}static fromBigInt(e){Ty();const n=BigInt(e),s=new Gv,r=n.toString(16).replace(/^-/,""),i=new Uint8Array(tt.FromHex(r));if(n<0){const l=new Uint8Array(i.length+(i[0]&128?1:0));l[0]|=128;const h=BigInt(`0x${tt.ToHex(l)}`)+n,m=Be.toUint8Array(tt.FromHex(h.toString(16)));m[0]|=128,s.write(m)}else i[0]&128&&s.write(new Uint8Array([0])),s.write(i);return new Jf({valueHex:s.final()})}convertToDER(){const e=new Jf({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new Jf({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Jf=Ah;Je.Integer=Jf;Ah.NAME="INTEGER";var G6;class Jv extends Ah{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}G6=Jv;Je.Enumerated=G6;Jv.NAME="ENUMERATED";class zw extends ta(Hs){constructor({valueDec:e=-1,isFirstSid:n=!1,...s}={}){super(s),this.valueDec=e,this.isFirstSid=n}fromBER(e,n,s){if(!s)return n;const r=Be.toUint8Array(e);if(!Va(this,r,n,s))return-1;const i=r.subarray(n,n+s);this.valueHexView=new Uint8Array(s);for(let l=0;l<s&&(this.valueHexView[l]=i[l]&127,this.blockLength++,(i[l]&128)!==0);l++);const a=new Uint8Array(this.blockLength);for(let l=0;l<this.blockLength;l++)a[l]=this.valueHexView[l];return this.valueHexView=a,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=nh(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}set valueBigInt(e){Ty();let n=BigInt(e).toString(2);for(;n.length%7;)n="0"+n;const s=new Uint8Array(n.length/7);for(let r=0;r<s.length;r++)s[r]=parseInt(n.slice(r*7,r*7+7),2)+(r+1<s.length?128:0);this.fromBER(s.buffer,0,s.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const r=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=r[a]|128;return i[this.blockLength-1]=r[this.blockLength-1],i.buffer}const n=sc(this.valueDec,7);if(n.byteLength===0)return this.error="Error during encoding SID value",ea;const s=new Uint8Array(n.byteLength);if(!e){const r=new Uint8Array(n),i=n.byteLength-1;for(let a=0;a<i;a++)s[a]=r[a]|128;s[i]=r[i]}return s}toString(){let e="";if(this.isHexOnly)e=tt.ToHex(this.valueHexView);else if(this.isFirstSid){let n=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",n-=40):(e="2.",n-=80),e+=n.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}zw.NAME="sidBlock";class Y6 extends Hs{constructor({value:e=rr,...n}={}){super(n),this.value=[],e&&this.fromString(e)}fromBER(e,n,s){let r=n;for(;s>0;){const i=new zw;if(r=i.fromBER(e,r,s),r===-1)return this.blockLength=0,this.error=i.error,r;this.value.length===0&&(i.isFirstSid=!0),this.blockLength+=i.blockLength,s-=i.blockLength,this.value.push(i)}return r}toBER(e){const n=[];for(let s=0;s<this.value.length;s++){const r=this.value[s].toBER(e);if(r.byteLength===0)return this.error=this.value[s].error,ea;n.push(r)}return iN(n)}fromString(e){this.value=[];let n=0,s=0,r="",i=!1;do if(s=e.indexOf(".",n),s===-1?r=e.substring(n):r=e.substring(n,s),n=s+1,i){const a=this.value[0];let l=0;switch(a.valueDec){case 0:break;case 1:l=40;break;case 2:l=80;break;default:this.value=[];return}const u=parseInt(r,10);if(isNaN(u))return;a.valueDec=u+l,i=!1}else{const a=new zw;if(r>Number.MAX_SAFE_INTEGER){Ty();const l=BigInt(r);a.valueBigInt=l}else if(a.valueDec=parseInt(r,10),isNaN(a.valueDec))return;this.value.length||(a.isFirstSid=!0,i=!0),this.value.push(a)}while(s!==-1)}toString(){let e="",n=!1;for(let s=0;s<this.value.length;s++){n=this.value[s].isHexOnly;let r=this.value[s].toString();s!==0&&(e=`${e}.`),n?(r=`{${r}}`,this.value[s].isFirstSid?e=`2.{${r} - 80}`:e+=r):e+=r}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)e.sidArray.push(this.value[n].toJSON());return e}}Y6.NAME="ObjectIdentifierValueBlock";var Z6;class Xv extends _s{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,Y6),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Z6=Xv;Je.ObjectIdentifier=Z6;Xv.NAME="OBJECT IDENTIFIER";class Fw extends ta(kc){constructor({valueDec:e=0,...n}={}){super(n),this.valueDec=e}fromBER(e,n,s){if(s===0)return n;const r=Be.toUint8Array(e);if(!Va(this,r,n,s))return-1;const i=r.subarray(n,n+s);this.valueHexView=new Uint8Array(s);for(let l=0;l<s&&(this.valueHexView[l]=i[l]&127,this.blockLength++,(i[l]&128)!==0);l++);const a=new Uint8Array(this.blockLength);for(let l=0;l<this.blockLength;l++)a[l]=this.valueHexView[l];return this.valueHexView=a,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=nh(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const r=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=r[a]|128;return i[this.blockLength-1]=r[this.blockLength-1],i.buffer}const n=sc(this.valueDec,7);if(n.byteLength===0)return this.error="Error during encoding SID value",ea;const s=new Uint8Array(n.byteLength);if(!e){const r=new Uint8Array(n),i=n.byteLength-1;for(let a=0;a<i;a++)s[a]=r[a]|128;s[i]=r[i]}return s.buffer}toString(){let e="";return this.isHexOnly?e=tt.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}Fw.NAME="relativeSidBlock";class J6 extends Hs{constructor({value:e=rr,...n}={}){super(n),this.value=[],e&&this.fromString(e)}fromBER(e,n,s){let r=n;for(;s>0;){const i=new Fw;if(r=i.fromBER(e,r,s),r===-1)return this.blockLength=0,this.error=i.error,r;this.blockLength+=i.blockLength,s-=i.blockLength,this.value.push(i)}return r}toBER(e,n){const s=[];for(let r=0;r<this.value.length;r++){const i=this.value[r].toBER(e);if(i.byteLength===0)return this.error=this.value[r].error,ea;s.push(i)}return iN(s)}fromString(e){this.value=[];let n=0,s=0,r="";do{s=e.indexOf(".",n),s===-1?r=e.substring(n):r=e.substring(n,s),n=s+1;const i=new Fw;if(i.valueDec=parseInt(r,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(s!==-1);return!0}toString(){let e="",n=!1;for(let s=0;s<this.value.length;s++){n=this.value[s].isHexOnly;let r=this.value[s].toString();s!==0&&(e=`${e}.`),n&&(r=`{${r}}`),e+=r}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)e.sidArray.push(this.value[n].toJSON());return e}}J6.NAME="RelativeObjectIdentifierValueBlock";var X6;class uN extends _s{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,J6),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}X6=uN;Je.RelativeObjectIdentifier=X6;uN.NAME="RelativeObjectIdentifier";var Q6;class vi extends zs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}Q6=vi;Je.Sequence=Q6;vi.NAME="SEQUENCE";var eP;let Ui=class extends zs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};eP=Ui;Je.Set=eP;Ui.NAME="SET";class tP extends ta(Hs){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=rr}toJSON(){return{...super.toJSON(),value:this.value}}}tP.NAME="StringValueBlock";class nP extends tP{}nP.NAME="SimpleStringValueBlock";class Ir extends aN{constructor({...e}={}){super(e,nP)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,Be.toUint8Array(e))}fromString(e){const n=e.length,s=this.valueBlock.valueHexView=new Uint8Array(n);for(let r=0;r<n;r++)s[r]=e.charCodeAt(r);this.valueBlock.value=e}}Ir.NAME="SIMPLE STRING";class sP extends Ir{fromBuffer(e){this.valueBlock.valueHexView=Be.toUint8Array(e);try{this.valueBlock.value=tt.ToUtf8String(e)}catch(n){this.warnings.push(`Error during "decodeURIComponent": ${n}, using raw string`),this.valueBlock.value=tt.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(tt.FromUtf8String(e)),this.valueBlock.value=e}}sP.NAME="Utf8StringValueBlock";var rP;class qa extends sP{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}rP=qa;Je.Utf8String=rP;qa.NAME="UTF8String";class iP extends Ir{fromBuffer(e){this.valueBlock.value=tt.ToUtf16String(e),this.valueBlock.valueHexView=Be.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(tt.FromUtf16String(e))}}iP.NAME="BmpStringValueBlock";var aP;class Qv extends iP{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}aP=Qv;Je.BmpString=aP;Qv.NAME="BMPString";class oP extends Ir{fromBuffer(e){const n=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),s=new Uint8Array(n);for(let r=0;r<s.length;r+=4)s[r]=s[r+3],s[r+1]=s[r+2],s[r+2]=0,s[r+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(n))}fromString(e){const n=e.length,s=this.valueBlock.valueHexView=new Uint8Array(n*4);for(let r=0;r<n;r++){const i=sc(e.charCodeAt(r),8),a=new Uint8Array(i);if(a.length>4)continue;const l=4-a.length;for(let u=a.length-1;u>=0;u--)s[r*4+u+l]=a[u]}this.valueBlock.value=e}}oP.NAME="UniversalStringValueBlock";var lP;class eb extends oP{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}lP=eb;Je.UniversalString=lP;eb.NAME="UniversalString";var cP;class tb extends Ir{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}cP=tb;Je.NumericString=cP;tb.NAME="NumericString";var uP;class nb extends Ir{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}uP=nb;Je.PrintableString=uP;nb.NAME="PrintableString";var hP;class sb extends Ir{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}hP=sb;Je.TeletexString=hP;sb.NAME="TeletexString";var dP;class rb extends Ir{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}dP=rb;Je.VideotexString=dP;rb.NAME="VideotexString";var fP;class ib extends Ir{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}fP=ib;Je.IA5String=fP;ib.NAME="IA5String";var pP;class ab extends Ir{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}pP=ab;Je.GraphicString=pP;ab.NAME="GraphicString";var mP;class tm extends Ir{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}mP=tm;Je.VisibleString=mP;tm.NAME="VisibleString";var gP;class ob extends Ir{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}gP=ob;Je.GeneralString=gP;ob.NAME="GeneralString";var yP;class lb extends Ir{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}yP=lb;Je.CharacterString=yP;lb.NAME="CharacterString";var vP;class nm extends tm{constructor({value:e,valueDate:n,...s}={}){if(super(s),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let r=0;r<e.length;r++)this.valueBlock.valueHexView[r]=e.charCodeAt(r)}n&&(this.fromDate(n),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,Be.toUint8Array(e)))}toBuffer(){const e=this.toString(),n=new ArrayBuffer(e.length),s=new Uint8Array(n);for(let r=0;r<e.length;r++)s[r]=e.charCodeAt(r);return n}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const s=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(s===null){this.error="Wrong input string for conversion";return}const r=parseInt(s[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(s[2],10),this.day=parseInt(s[3],10),this.hour=parseInt(s[4],10),this.minute=parseInt(s[5],10),this.second=parseInt(s[6],10)}toString(e="iso"){if(e==="iso"){const n=new Array(7);return n[0]=Nr(this.year<2e3?this.year-1900:this.year-2e3,2),n[1]=Nr(this.month,2),n[2]=Nr(this.day,2),n[3]=Nr(this.hour,2),n[4]=Nr(this.minute,2),n[5]=Nr(this.second,2),n[6]="Z",n.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}vP=nm;Je.UTCTime=vP;nm.NAME="UTCTime";var bP;class cb extends nm{constructor(e={}){var n;super(e),(n=this.millisecond)!==null&&n!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){const e=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(e)}fromString(e){let n=!1,s="",r="",i=0,a,l=0,u=0;if(e[e.length-1]==="Z")s=e.substring(0,e.length-1),n=!0;else{const f=new Number(e[e.length-1]);if(isNaN(f.valueOf()))throw new Error("Wrong input string for conversion");s=e}if(n){if(s.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(s.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let f=1,g=s.indexOf("+"),y="";if(g===-1&&(g=s.indexOf("-"),f=-1),g!==-1){if(y=s.substring(g+1),s=s.substring(0,g),y.length!==2&&y.length!==4)throw new Error("Wrong input string for conversion");let b=parseInt(y.substring(0,2),10);if(isNaN(b.valueOf()))throw new Error("Wrong input string for conversion");if(l=f*b,y.length===4){if(b=parseInt(y.substring(2,4),10),isNaN(b.valueOf()))throw new Error("Wrong input string for conversion");u=f*b}}}let h=s.indexOf(".");if(h===-1&&(h=s.indexOf(",")),h!==-1){const f=new Number(`0${s.substring(h)}`);if(isNaN(f.valueOf()))throw new Error("Wrong input string for conversion");i=f.valueOf(),r=s.substring(0,h)}else r=s;switch(!0){case r.length===8:if(a=/(\d{4})(\d{2})(\d{2})/ig,h!==-1)throw new Error("Wrong input string for conversion");break;case r.length===10:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,h!==-1){let f=60*i;this.minute=Math.floor(f),f=60*(f-this.minute),this.second=Math.floor(f),f=1e3*(f-this.second),this.millisecond=Math.floor(f)}break;case r.length===12:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,h!==-1){let f=60*i;this.second=Math.floor(f),f=1e3*(f-this.second),this.millisecond=Math.floor(f)}break;case r.length===14:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,h!==-1){const f=1e3*i;this.millisecond=Math.floor(f)}break;default:throw new Error("Wrong input string for conversion")}const m=a.exec(r);if(m===null)throw new Error("Wrong input string for conversion");for(let f=1;f<m.length;f++)switch(f){case 1:this.year=parseInt(m[f],10);break;case 2:this.month=parseInt(m[f],10);break;case 3:this.day=parseInt(m[f],10);break;case 4:this.hour=parseInt(m[f],10)+l;break;case 5:this.minute=parseInt(m[f],10)+u;break;case 6:this.second=parseInt(m[f],10);break;default:throw new Error("Wrong input string for conversion")}if(n===!1){const f=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=f.getUTCFullYear(),this.month=f.getUTCMonth(),this.day=f.getUTCDay(),this.hour=f.getUTCHours(),this.minute=f.getUTCMinutes(),this.second=f.getUTCSeconds(),this.millisecond=f.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){const n=[];return n.push(Nr(this.year,4)),n.push(Nr(this.month,2)),n.push(Nr(this.day,2)),n.push(Nr(this.hour,2)),n.push(Nr(this.minute,2)),n.push(Nr(this.second,2)),this.millisecond!==0&&(n.push("."),n.push(Nr(this.millisecond,3))),n.push("Z"),n.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}bP=cb;Je.GeneralizedTime=bP;cb.NAME="GeneralizedTime";var _P;let hN=class extends qa{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}};_P=hN;Je.DATE=_P;hN.NAME="DATE";var xP;class dN extends qa{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}xP=dN;Je.TimeOfDay=xP;dN.NAME="TimeOfDay";var SP;class fN extends qa{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}SP=fN;Je.DateTime=SP;fN.NAME="DateTime";var wP;class pN extends qa{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}wP=pN;Je.Duration=wP;pN.NAME="Duration";var kP;class mN extends qa{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}kP=mN;Je.TIME=kP;mN.NAME="TIME";class ic{constructor({name:e=rr,optional:n=!1}={}){this.name=e,this.optional=n}}class gN extends ic{constructor({value:e=[],...n}={}){super(n),this.value=e}}class jy extends ic{constructor({value:e=new ic,local:n=!1,...s}={}){super(s),this.value=e,this.local=n}}class pX{get data(){return this.dataView.slice().buffer}set data(e){this.dataView=Be.toUint8Array(e)}constructor({data:e=Yv}={}){this.dataView=Be.toUint8Array(e)}fromBER(e,n,s){const r=n+s;return this.dataView=Be.toUint8Array(e).subarray(n,r),r}toBER(e){return this.dataView.slice().buffer}}function Mo(t,e,n){if(n instanceof gN){for(const i of n.value)if(Mo(t,e,i).verified)return{verified:!0,result:t};{const i={verified:!1,result:{error:"Wrong values for Choice type"}};return n.hasOwnProperty(tS)&&(i.name=n.name),i}}if(n instanceof ic)return n.hasOwnProperty(tS)&&(t[n.name]=e),{verified:!0,result:t};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(n instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(sX in n))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(oX in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(lX in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const s=n.idBlock.toBER(!1);if(s.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(n.idBlock.fromBER(s,0,s.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(n.idBlock.hasOwnProperty(rX)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:t};if(n.idBlock.hasOwnProperty(iX)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:t};if(n.idBlock.hasOwnProperty(aX)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:t};if(!(nX in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:t};if(n.idBlock.isHexOnly){if(!(O3 in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const i=n.idBlock.valueHexView,a=e.idBlock.valueHexView;if(i.length!==a.length)return{verified:!1,result:t};for(let l=0;l<i.length;l++)if(i[l]!==a[1])return{verified:!1,result:t}}if(n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,rr),n.name&&(t[n.name]=e)),n instanceof Je.Constructed){let i=0,a={verified:!1,result:{error:"Unknown error"}},l=n.valueBlock.value.length;if(l>0&&n.valueBlock.value[0]instanceof jy&&(l=e.valueBlock.value.length),l===0)return{verified:!0,result:t};if(e.valueBlock.value.length===0&&n.valueBlock.value.length!==0){let u=!0;for(let h=0;h<n.valueBlock.value.length;h++)u=u&&(n.valueBlock.value[h].optional||!1);return u?{verified:!0,result:t}:(n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,rr),n.name&&delete t[n.name]),t.error="Inconsistent object length",{verified:!1,result:t})}for(let u=0;u<l;u++)if(u-i>=e.valueBlock.value.length){if(n.valueBlock.value[u].optional===!1){const h={verified:!1,result:t};return t.error="Inconsistent length between ASN.1 data and schema",n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,rr),n.name&&(delete t[n.name],h.name=n.name)),h}}else if(n.valueBlock.value[0]instanceof jy){if(a=Mo(t,e.valueBlock.value[u],n.valueBlock.value[0].value),a.verified===!1)if(n.valueBlock.value[0].optional)i++;else return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,rr),n.name&&delete t[n.name]),a;if(tS in n.valueBlock.value[0]&&n.valueBlock.value[0].name.length>0){let h={};cX in n.valueBlock.value[0]&&n.valueBlock.value[0].local?h=e:h=t,typeof h[n.valueBlock.value[0].name]>"u"&&(h[n.valueBlock.value[0].name]=[]),h[n.valueBlock.value[0].name].push(e.valueBlock.value[u])}}else if(a=Mo(t,e.valueBlock.value[u-i],n.valueBlock.value[u]),a.verified===!1)if(n.valueBlock.value[u].optional)i++;else return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,rr),n.name&&delete t[n.name]),a;if(a.verified===!1){const u={verified:!1,result:t};return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,rr),n.name&&(delete t[n.name],u.name=n.name)),u}return{verified:!0,result:t}}if(n.primitiveSchema&&O3 in e.valueBlock){const i=Eh(e.valueBlock.valueHexView);if(i.offset===-1){const a={verified:!1,result:i.result};return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,rr),n.name&&(delete t[n.name],a.name=n.name)),a}return Mo(t,i.result,n.primitiveSchema)}return{verified:!0,result:t}}function mX(t,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const n=Eh(Be.toUint8Array(t));return n.offset===-1?{verified:!1,result:n.result}:Mo(n.result,n.result,e)}const CP=Object.freeze(Object.defineProperty({__proto__:null,Any:ic,BaseBlock:_s,BaseStringBlock:aN,BitString:Gl,BmpString:Qv,Boolean:Zv,CharacterString:lb,Choice:gN,Constructed:zs,DATE:hN,DateTime:fN,Duration:pN,EndOfContent:oN,Enumerated:Jv,GeneralString:ob,GeneralizedTime:cb,GraphicString:ab,HexBlock:ta,IA5String:ib,Integer:Ah,Null:rc,NumericString:tb,ObjectIdentifier:Xv,OctetString:Wl,Primitive:em,PrintableString:nb,RawData:pX,RelativeObjectIdentifier:uN,Repeated:jy,Sequence:vi,Set:Ui,TIME:mN,TeletexString:sb,TimeOfDay:dN,UTCTime:nm,UniversalString:eb,Utf8String:qa,ValueBlock:Hs,VideotexString:rb,ViewWriter:Gv,VisibleString:tm,compareSchema:Mo,fromBER:Gu,verifySchema:mX},Symbol.toStringTag,{value:"Module"}));var xe;(function(t){t[t.Sequence=0]="Sequence",t[t.Set=1]="Set",t[t.Choice=2]="Choice"})(xe||(xe={}));var se;(function(t){t[t.Any=1]="Any",t[t.Boolean=2]="Boolean",t[t.OctetString=3]="OctetString",t[t.BitString=4]="BitString",t[t.Integer=5]="Integer",t[t.Enumerated=6]="Enumerated",t[t.ObjectIdentifier=7]="ObjectIdentifier",t[t.Utf8String=8]="Utf8String",t[t.BmpString=9]="BmpString",t[t.UniversalString=10]="UniversalString",t[t.NumericString=11]="NumericString",t[t.PrintableString=12]="PrintableString",t[t.TeletexString=13]="TeletexString",t[t.VideotexString=14]="VideotexString",t[t.IA5String=15]="IA5String",t[t.GraphicString=16]="GraphicString",t[t.VisibleString=17]="VisibleString",t[t.GeneralString=18]="GeneralString",t[t.CharacterString=19]="CharacterString",t[t.UTCTime=20]="UTCTime",t[t.GeneralizedTime=21]="GeneralizedTime",t[t.DATE=22]="DATE",t[t.TimeOfDay=23]="TimeOfDay",t[t.DateTime=24]="DateTime",t[t.Duration=25]="Duration",t[t.TIME=26]="TIME",t[t.Null=27]="Null"})(se||(se={}));class ub{constructor(e,n=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(Be.isBufferSource(e))this.unusedBits=n,this.value=Be.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof Gl))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new Gl({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new Gl({name:e})}toNumber(){let e="";const n=new Uint8Array(this.value);for(const s of n)e+=s.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let n=e.toString(2);const s=n.length+7>>3;this.unusedBits=(s<<3)-n.length;const r=new Uint8Array(s);n=n.padStart(s<<3,"0").split("").reverse().join("");let i=0;for(;i<s;)r[i]=parseInt(n.slice(i<<3,(i<<3)+8),2),i++;this.value=r.buffer}}class Ft{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):Be.isBufferSource(e)?this.buffer=Be.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}fromASN(e){if(!(e instanceof Wl))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new Wl({valueHex:this.buffer})}toSchema(e){return new Wl({name:e})}}const gX={fromASN:t=>t instanceof rc?null:t.valueBeforeDecodeView,toASN:t=>{if(t===null)return new rc;const e=Gu(t);if(e.result.error)throw new Error(e.result.error);return e.result}},yX={fromASN:t=>t.valueBlock.valueHexView.byteLength>=4?t.valueBlock.toString():t.valueBlock.valueDec,toASN:t=>new Ah({value:+t})},vX={fromASN:t=>t.valueBlock.valueDec,toASN:t=>new Jv({value:t})},cn={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Ah({valueHex:t})},bX={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Gl({valueHex:t})},_X={fromASN:t=>t.valueBlock.toString(),toASN:t=>new Xv({value:t})},xX={fromASN:t=>t.valueBlock.value,toASN:t=>new Zv({value:t})},Oy={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Wl({valueHex:t})},SX={fromASN:t=>new Ft(t.getValue()),toASN:t=>t.toASN()};function ci(t){return{fromASN:e=>e.valueBlock.value,toASN:e=>new t({value:e})}}const NP=ci(qa),wX=ci(Qv),kX=ci(eb),CX=ci(tb),NX=ci(nb),EX=ci(sb),AX=ci(rb),RX=ci(ib),TX=ci(ab),jX=ci(tm),OX=ci(ob),MX=ci(lb),IX={fromASN:t=>t.toDate(),toASN:t=>new nm({valueDate:t})},DX={fromASN:t=>t.toDate(),toASN:t=>new cb({valueDate:t})},PX={fromASN:()=>null,toASN:()=>new rc};function Xf(t){switch(t){case se.Any:return gX;case se.BitString:return bX;case se.BmpString:return wX;case se.Boolean:return xX;case se.CharacterString:return MX;case se.Enumerated:return vX;case se.GeneralString:return OX;case se.GeneralizedTime:return DX;case se.GraphicString:return TX;case se.IA5String:return RX;case se.Integer:return yX;case se.Null:return PX;case se.NumericString:return CX;case se.ObjectIdentifier:return _X;case se.OctetString:return Oy;case se.PrintableString:return NX;case se.TeletexString:return EX;case se.UTCTime:return IX;case se.UniversalString:return kX;case se.Utf8String:return NP;case se.VideotexString:return AX;case se.VisibleString:return jX;default:return null}}function Ta(t){return typeof t=="function"&&t.prototype?t.prototype.toASN&&t.prototype.fromASN?!0:Ta(t.prototype):!!(t&&typeof t=="object"&&"toASN"in t&&"fromASN"in t)}function EP(t){var e;if(t){const n=Object.getPrototypeOf(t);return((e=n?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:EP(n)}return!1}function LX(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;const n=new Uint8Array(t),s=new Uint8Array(e);for(let r=0;r<t.byteLength;r++)if(n[r]!==s[r])return!1;return!0}class BX{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,n=!1){const s=this.items.get(e);if(!s)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(n&&!s.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return s}cache(e){const n=this.get(e);n.schema||(n.schema=this.create(e,!0))}createDefault(e){const n={type:xe.Sequence,items:{}},s=this.findParentSchema(e);return s&&(Object.assign(n,s),n.items=Object.assign({},n.items,s.items)),n}create(e,n){const s=this.items.get(e)||this.createDefault(e),r=[];for(const i in s.items){const a=s.items[i],l=n?i:"";let u;if(typeof a.type=="number"){const m=se[a.type],f=CP[m];if(!f)throw new Error(`Cannot get ASN1 class by name '${m}'`);u=new f({name:l})}else Ta(a.type)?u=new a.type().toSchema(l):a.optional?this.get(a.type).type===xe.Choice?u=new ic({name:l}):(u=this.create(a.type,!1),u.name=l):u=new ic({name:l});const h=!!a.optional||a.defaultValue!==void 0;if(a.repeated){u.name="";const m=a.repeated==="set"?Ui:vi;u=new m({name:"",value:[new jy({name:l,value:u})]})}if(a.context!==null&&a.context!==void 0)if(a.implicit)if(typeof a.type=="number"||Ta(a.type)){const m=a.repeated?zs:em;r.push(new m({name:l,optional:h,idBlock:{tagClass:3,tagNumber:a.context}}))}else{this.cache(a.type);const m=!!a.repeated;let f=m?u:this.get(a.type,!0).schema;f="valueBlock"in f?f.valueBlock.value:f.value,r.push(new zs({name:m?"":l,optional:h,idBlock:{tagClass:3,tagNumber:a.context},value:f}))}else r.push(new zs({optional:h,idBlock:{tagClass:3,tagNumber:a.context},value:[u]}));else u.optional=h,r.push(u)}switch(s.type){case xe.Sequence:return new vi({value:r,name:""});case xe.Set:return new Ui({value:r,name:""});case xe.Choice:return new gN({value:r,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,n){return this.items.set(e,n),this}findParentSchema(e){const n=Object.getPrototypeOf(e);return n?this.items.get(n)||this.findParentSchema(n):null}}const fs=new BX,Ae=t=>e=>{let n;fs.has(e)?n=fs.get(e):(n=fs.createDefault(e),fs.set(e,n)),Object.assign(n,t)},H=t=>(e,n)=>{let s;fs.has(e.constructor)?s=fs.get(e.constructor):(s=fs.createDefault(e.constructor),fs.set(e.constructor,s));const r=Object.assign({},t);if(typeof r.type=="number"&&!r.converter){const i=Xf(t.type);if(!i)throw new Error(`Cannot get default converter for property '${n}' of ${e.constructor.name}`);r.converter=i}r.raw=t.raw,s.items[n]=r};class qd extends Error{constructor(){super(...arguments),this.schemas=[]}}class $X{static parse(e,n){const s=Gu(e);if(s.result.error)throw new Error(s.result.error);return this.fromASN(s.result,n)}static fromASN(e,n){try{if(Ta(n))return new n().fromASN(e);const s=fs.get(n);fs.cache(n);let r=s.schema;const i=this.handleChoiceTypes(e,s,n,r);if(i?.result)return i.result;i?.targetSchema&&(r=i.targetSchema);const a=this.handleSequenceTypes(e,s,n,r),l=new n;return EP(n)?this.handleArrayTypes(e,s,n):(this.processSchemaItems(s,a,l),l)}catch(s){throw s instanceof qd&&s.schemas.push(n.name),s}}static handleChoiceTypes(e,n,s,r){if(e.constructor===zs&&n.type===xe.Choice&&e.idBlock.tagClass===3)for(const i in n.items){const a=n.items[i];if(a.context===e.idBlock.tagNumber&&a.implicit&&typeof a.type=="function"&&fs.has(a.type)){const l=fs.get(a.type);if(l&&l.type===xe.Sequence){const u=new vi;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in u.valueBlock){u.valueBlock.value=e.valueBlock.value;const h=this.fromASN(u,a.type),m=new s;return m[i]=h,{result:m}}}}}else if(e.constructor===zs&&n.type!==xe.Choice){const i=new zs({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:n.schema.valueBlock.value});for(const a in n.items)delete e[a];return{targetSchema:i}}return null}static handleSequenceTypes(e,n,s,r){if(n.type===xe.Sequence){const i=Mo({},e,r);if(!i.verified)throw new qd(`Data does not match to ${s.name} ASN1 schema.${i.result.error?` ${i.result.error}`:""}`);return i}else{const i=Mo({},e,r);if(!i.verified)throw new qd(`Data does not match to ${s.name} ASN1 schema.${i.result.error?` ${i.result.error}`:""}`);return i}}static processRepeatedField(e,n,s){let r=e.slice(n);if(r.length===1&&r[0].constructor.name==="Sequence"){const i=r[0];i.valueBlock&&i.valueBlock.value&&Array.isArray(i.valueBlock.value)&&(r=i.valueBlock.value)}if(typeof s.type=="number"){const i=Xf(s.type);if(!i)throw new Error(`No converter for ASN.1 type ${s.type}`);return r.filter(a=>a&&a.valueBlock).map(a=>{try{return i.fromASN(a)}catch{return}}).filter(a=>a!==void 0)}else return r.filter(i=>i&&i.valueBlock).map(i=>{try{return this.fromASN(i,s.type)}catch{return}}).filter(i=>i!==void 0)}static processPrimitiveField(e,n){const s=Xf(n.type);if(!s)throw new Error(`No converter for ASN.1 type ${n.type}`);return s.fromASN(e)}static isOptionalChoiceField(e){return e.optional&&typeof e.type=="function"&&fs.has(e.type)&&fs.get(e.type).type===xe.Choice}static processOptionalChoiceField(e,n){try{return{processed:!0,value:this.fromASN(e,n.type)}}catch(s){if(s instanceof qd&&/Wrong values for Choice type/.test(s.message))return{processed:!1};throw s}}static handleArrayTypes(e,n,s){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const r=n.itemType;if(typeof r=="number"){const i=Xf(r);if(!i)throw new Error(`Cannot get default converter for array item of ${s.name} ASN1 schema`);return s.from(e.valueBlock.value,a=>i.fromASN(a))}else return s.from(e.valueBlock.value,i=>this.fromASN(i,r))}static processSchemaItems(e,n,s){for(const r in e.items){const i=n.result[r];if(!i)continue;const a=e.items[r],l=a.type;let u;typeof l=="number"||Ta(l)?u=this.processPrimitiveSchemaItem(i,a,l):u=this.processComplexSchemaItem(i,a,l),u&&typeof u=="object"&&"value"in u&&"raw"in u?(s[r]=u.value,s[`${r}Raw`]=u.raw):s[r]=u}}static processPrimitiveSchemaItem(e,n,s){var r;const i=(r=n.converter)!==null&&r!==void 0?r:Ta(s)?new s:null;if(!i)throw new Error("Converter is empty");return n.repeated?this.processRepeatedPrimitiveItem(e,n,i):this.processSinglePrimitiveItem(e,n,s,i)}static processRepeatedPrimitiveItem(e,n,s){if(n.implicit){const r=n.repeated==="sequence"?vi:Ui,i=new r;i.valueBlock=e.valueBlock;const a=Gu(i.toBER(!1));if(a.offset===-1)throw new Error(`Cannot parse the child item. ${a.result.error}`);if(!("value"in a.result.valueBlock&&Array.isArray(a.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const l=a.result.valueBlock.value;return Array.from(l,u=>s.fromASN(u))}else return Array.from(e,r=>s.fromASN(r))}static processSinglePrimitiveItem(e,n,s,r){let i=e;if(n.implicit){let a;if(Ta(s))a=new s().toSchema("");else{const l=se[s],u=CP[l];if(!u)throw new Error(`Cannot get '${l}' class from asn1js module`);a=new u}a.valueBlock=i.valueBlock,i=Gu(a.toBER(!1)).result}return r.fromASN(i)}static processComplexSchemaItem(e,n,s){if(n.repeated){if(!Array.isArray(e))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");return Array.from(e,r=>this.fromASN(r,s))}else{const r=this.handleImplicitTagging(e,n,s);if(this.isOptionalChoiceField(n))try{return this.fromASN(r,s)}catch(i){if(i instanceof qd&&/Wrong values for Choice type/.test(i.message))return;throw i}else{const i=this.fromASN(r,s);return n.raw?{value:i,raw:e.valueBeforeDecodeView}:i}}}static handleImplicitTagging(e,n,s){if(n.implicit&&typeof n.context=="number"){const r=fs.get(s);if(r.type===xe.Sequence){const i=new vi;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in i.valueBlock)return i.valueBlock.value=e.valueBlock.value,i}else if(r.type===xe.Set){const i=new Ui;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in i.valueBlock)return i.valueBlock.value=e.valueBlock.value,i}}return e}}class yN{static serialize(e){return e instanceof _s?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&Ta(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");const n=e.constructor,s=fs.get(n);fs.cache(n);let r=[];if(s.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof s.itemType=="number"){const a=Xf(s.itemType);if(!a)throw new Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);r=e.map(l=>a.toASN(l))}else r=e.map(a=>this.toAsnItem({type:s.itemType},"[]",n,a))}else for(const a in s.items){const l=s.items[a],u=e[a];if(u===void 0||l.defaultValue===u||typeof l.defaultValue=="object"&&typeof u=="object"&&LX(this.serialize(l.defaultValue),this.serialize(u)))continue;const h=yN.toAsnItem(l,a,n,u);if(typeof l.context=="number")if(l.implicit)if(!l.repeated&&(typeof l.type=="number"||Ta(l.type))){const m={};m.valueHex=h instanceof rc?h.valueBeforeDecodeView:h.valueBlock.toBER(),r.push(new em({optional:l.optional,idBlock:{tagClass:3,tagNumber:l.context},...m}))}else r.push(new zs({optional:l.optional,idBlock:{tagClass:3,tagNumber:l.context},value:h.valueBlock.value}));else r.push(new zs({optional:l.optional,idBlock:{tagClass:3,tagNumber:l.context},value:[h]}));else l.repeated?r=r.concat(h):r.push(h)}let i;switch(s.type){case xe.Sequence:i=new vi({value:r});break;case xe.Set:i=new Ui({value:r});break;case xe.Choice:if(!r[0])throw new Error(`Schema '${n.name}' has wrong data. Choice cannot be empty.`);i=r[0];break}return i}static toAsnItem(e,n,s,r){let i;if(typeof e.type=="number"){const a=e.converter;if(!a)throw new Error(`Property '${n}' doesn't have converter for type ${se[e.type]} in schema '${s.name}'`);if(e.repeated){if(!Array.isArray(r))throw new TypeError("Parameter 'objProp' should be type of Array.");const l=Array.from(r,h=>a.toASN(h)),u=e.repeated==="sequence"?vi:Ui;i=new u({value:l})}else i=a.toASN(r)}else if(e.repeated){if(!Array.isArray(r))throw new TypeError("Parameter 'objProp' should be type of Array.");const a=Array.from(r,u=>this.toASN(u)),l=e.repeated==="sequence"?vi:Ui;i=new l({value:a})}else i=this.toASN(r);return i}}class Wt extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(const n of e)this.push(n)}}}class $e{static serialize(e){return yN.serialize(e)}static parse(e,n){return $X.parse(e,n)}static toString(e){const n=Be.isBufferSource(e)?Be.toArrayBuffer(e):$e.serialize(e),s=Gu(n);if(s.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${s.result.error}`);return s.result.toString()}}function D(t,e,n,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,s);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(r<3?a(i):r>3?a(e,n,i):a(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function wt(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}function dn(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n}class I3{static isIPv4(e){return/^(\d{1,3}\.){3}\d{1,3}$/.test(e)}static parseIPv4(e){const n=e.split(".");if(n.length!==4)throw new Error("Invalid IPv4 address");return n.map(s=>{const r=parseInt(s,10);if(isNaN(r)||r<0||r>255)throw new Error("Invalid IPv4 address part");return r})}static parseIPv6(e){const s=this.expandIPv6(e).split(":");if(s.length!==8)throw new Error("Invalid IPv6 address");return s.reduce((r,i)=>{const a=parseInt(i,16);if(isNaN(a)||a<0||a>65535)throw new Error("Invalid IPv6 address part");return r.push(a>>8&255),r.push(a&255),r},[])}static expandIPv6(e){if(!e.includes("::"))return e;const n=e.split("::");if(n.length>2)throw new Error("Invalid IPv6 address");const s=n[0]?n[0].split(":"):[],r=n[1]?n[1].split(":"):[],i=8-(s.length+r.length);if(i<0)throw new Error("Invalid IPv6 address");return[...s,...Array(i).fill("0"),...r].join(":")}static formatIPv6(e){const n=[];for(let s=0;s<16;s+=2)n.push((e[s]<<8|e[s+1]).toString(16));return this.compressIPv6(n.join(":"))}static compressIPv6(e){const n=e.split(":");let s=-1,r=0,i=-1,a=0;for(let l=0;l<n.length;l++)n[l]==="0"?(i===-1&&(i=l),a++):(a>r&&(s=i,r=a),i=-1,a=0);if(a>r&&(s=i,r=a),r>1){const l=n.slice(0,s).join(":"),u=n.slice(s+r).join(":");return`${l}::${u}`}return e}static parseCIDR(e){const[n,s]=e.split("/"),r=parseInt(s,10);if(this.isIPv4(n)){if(r<0||r>32)throw new Error("Invalid IPv4 prefix length");return[this.parseIPv4(n),r]}else{if(r<0||r>128)throw new Error("Invalid IPv6 prefix length");return[this.parseIPv6(n),r]}}static decodeIP(e){if(e.length===64&&parseInt(e,16)===0)return"::/0";if(e.length!==16)return e;const n=parseInt(e.slice(8),16).toString(2).split("").reduce((r,i)=>r+ +i,0);let s=e.slice(0,8).replace(/(.{2})/g,r=>`${parseInt(r,16)}.`);return s=s.slice(0,-1),`${s}/${n}`}static toString(e){const n=new Uint8Array(e);if(n.length===4)return Array.from(n).join(".");if(n.length===16)return this.formatIPv6(n);if(n.length===8||n.length===32){const s=n.length/2,r=n.slice(0,s),i=n.slice(s);if(n.every(u=>u===0))return n.length===8?"0.0.0.0/0":"::/0";const l=i.reduce((u,h)=>u+(h.toString(2).match(/1/g)||[]).length,0);return n.length===8?`${Array.from(r).join(".")}/${l}`:`${this.formatIPv6(r)}/${l}`}return this.decodeIP(tt.ToHex(e))}static fromString(e){if(e.includes("/")){const[s,r]=this.parseCIDR(e),i=new Uint8Array(s.length);let a=r;for(let u=0;u<i.length;u++)a>=8?(i[u]=255,a-=8):a>0&&(i[u]=255<<8-a,a=0);const l=new Uint8Array(s.length*2);return l.set(s,0),l.set(i,s.length),l.buffer}const n=this.isIPv4(e)?this.parseIPv4(e):this.parseIPv6(e);return new Uint8Array(n).buffer}}var Uw,Hw,Vw;let xs=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};D([H({type:se.TeletexString})],xs.prototype,"teletexString",void 0);D([H({type:se.PrintableString})],xs.prototype,"printableString",void 0);D([H({type:se.UniversalString})],xs.prototype,"universalString",void 0);D([H({type:se.Utf8String})],xs.prototype,"utf8String",void 0);D([H({type:se.BmpString})],xs.prototype,"bmpString",void 0);xs=D([Ae({type:xe.Choice})],xs);let sh=class extends xs{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?tt.ToHex(this.anyValue):super.toString())}};D([H({type:se.IA5String})],sh.prototype,"ia5String",void 0);D([H({type:se.Any})],sh.prototype,"anyValue",void 0);sh=D([Ae({type:xe.Choice})],sh);class hb{constructor(e={}){this.type="",this.value=new sh,Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],hb.prototype,"type",void 0);D([H({type:sh})],hb.prototype,"value",void 0);let rh=Uw=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Uw.prototype)}};rh=Uw=D([Ae({type:xe.Set,itemType:hb})],rh);let qw=Hw=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Hw.prototype)}};qw=Hw=D([Ae({type:xe.Sequence,itemType:rh})],qw);let Kn=Vw=class extends qw{constructor(e){super(e),Object.setPrototypeOf(this,Vw.prototype)}};Kn=Vw=D([Ae({type:xe.Sequence})],Kn);const zX={fromASN:t=>I3.toString(Oy.fromASN(t)),toASN:t=>Oy.toASN(I3.fromString(t))};class Ap{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],Ap.prototype,"typeId",void 0);D([H({type:se.Any,context:0})],Ap.prototype,"value",void 0);class vN{constructor(e={}){this.partyName=new xs,Object.assign(this,e)}}D([H({type:xs,optional:!0,context:0,implicit:!0})],vN.prototype,"nameAssigner",void 0);D([H({type:xs,context:1,implicit:!0})],vN.prototype,"partyName",void 0);let _t=class{constructor(e={}){Object.assign(this,e)}};D([H({type:Ap,context:0,implicit:!0})],_t.prototype,"otherName",void 0);D([H({type:se.IA5String,context:1,implicit:!0})],_t.prototype,"rfc822Name",void 0);D([H({type:se.IA5String,context:2,implicit:!0})],_t.prototype,"dNSName",void 0);D([H({type:se.Any,context:3,implicit:!0})],_t.prototype,"x400Address",void 0);D([H({type:Kn,context:4,implicit:!1})],_t.prototype,"directoryName",void 0);D([H({type:vN,context:5})],_t.prototype,"ediPartyName",void 0);D([H({type:se.IA5String,context:6,implicit:!0})],_t.prototype,"uniformResourceIdentifier",void 0);D([H({type:se.OctetString,context:7,implicit:!0,converter:zX})],_t.prototype,"iPAddress",void 0);D([H({type:se.ObjectIdentifier,context:8,implicit:!0})],_t.prototype,"registeredID",void 0);_t=D([Ae({type:xe.Choice})],_t);const bN="1.3.6.1.5.5.7",FX=`${bN}.1`,Rh=`${bN}.3`,db=`${bN}.48`,D3=`${db}.1`,P3=`${db}.2`,L3=`${db}.3`,B3=`${db}.5`,Ka="2.5.29";var Kw;const Ww=`${FX}.1`;class sm{constructor(e={}){this.accessMethod="",this.accessLocation=new _t,Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],sm.prototype,"accessMethod",void 0);D([H({type:_t})],sm.prototype,"accessLocation",void 0);let Lu=Kw=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Kw.prototype)}};Lu=Kw=D([Ae({type:xe.Sequence,itemType:sm})],Lu);const Gw=`${Ka}.35`;class _N extends Ft{}class Pl{constructor(e={}){e&&Object.assign(this,e)}}D([H({type:_N,context:0,optional:!0,implicit:!0})],Pl.prototype,"keyIdentifier",void 0);D([H({type:_t,context:1,optional:!0,implicit:!0,repeated:"sequence"})],Pl.prototype,"authorityCertIssuer",void 0);D([H({type:se.Integer,context:2,optional:!0,implicit:!0,converter:cn})],Pl.prototype,"authorityCertSerialNumber",void 0);const AP=`${Ka}.19`;class My{constructor(e={}){this.cA=!1,Object.assign(this,e)}}D([H({type:se.Boolean,defaultValue:!1})],My.prototype,"cA",void 0);D([H({type:se.Integer,optional:!0})],My.prototype,"pathLenConstraint",void 0);var Yw;let Ts=Yw=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Yw.prototype)}};Ts=Yw=D([Ae({type:xe.Sequence,itemType:_t})],Ts);var Zw;let $3=Zw=class extends Ts{constructor(e){super(e),Object.setPrototypeOf(this,Zw.prototype)}};$3=Zw=D([Ae({type:xe.Sequence})],$3);var Jw;const RP=`${Ka}.32`;let Pa=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};D([H({type:se.IA5String})],Pa.prototype,"ia5String",void 0);D([H({type:se.VisibleString})],Pa.prototype,"visibleString",void 0);D([H({type:se.BmpString})],Pa.prototype,"bmpString",void 0);D([H({type:se.Utf8String})],Pa.prototype,"utf8String",void 0);Pa=D([Ae({type:xe.Choice})],Pa);class xN{constructor(e={}){this.organization=new Pa,this.noticeNumbers=[],Object.assign(this,e)}}D([H({type:Pa})],xN.prototype,"organization",void 0);D([H({type:se.Integer,repeated:"sequence"})],xN.prototype,"noticeNumbers",void 0);class SN{constructor(e={}){Object.assign(this,e)}}D([H({type:xN,optional:!0})],SN.prototype,"noticeRef",void 0);D([H({type:Pa,optional:!0})],SN.prototype,"explicitText",void 0);let Iy=class{constructor(e={}){Object.assign(this,e)}};D([H({type:se.IA5String})],Iy.prototype,"cPSuri",void 0);D([H({type:SN})],Iy.prototype,"userNotice",void 0);Iy=D([Ae({type:xe.Choice})],Iy);class wN{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],wN.prototype,"policyQualifierId",void 0);D([H({type:se.Any})],wN.prototype,"qualifier",void 0);class fb{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],fb.prototype,"policyIdentifier",void 0);D([H({type:wN,repeated:"sequence",optional:!0})],fb.prototype,"policyQualifiers",void 0);let Dy=Jw=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Jw.prototype)}};Dy=Jw=D([Ae({type:xe.Sequence,itemType:fb})],Dy);let Py=class{constructor(e=0){this.value=e}};D([H({type:se.Integer})],Py.prototype,"value",void 0);Py=D([Ae({type:xe.Choice})],Py);let z3=class extends Py{};z3=D([Ae({type:xe.Choice})],z3);var Xw;const Qw=`${Ka}.31`;var mi;(function(t){t[t.unused=1]="unused",t[t.keyCompromise=2]="keyCompromise",t[t.cACompromise=4]="cACompromise",t[t.affiliationChanged=8]="affiliationChanged",t[t.superseded=16]="superseded",t[t.cessationOfOperation=32]="cessationOfOperation",t[t.certificateHold=64]="certificateHold",t[t.privilegeWithdrawn=128]="privilegeWithdrawn",t[t.aACompromise=256]="aACompromise"})(mi||(mi={}));class TP extends ub{toJSON(){const e=[],n=this.toNumber();return n&mi.aACompromise&&e.push("aACompromise"),n&mi.affiliationChanged&&e.push("affiliationChanged"),n&mi.cACompromise&&e.push("cACompromise"),n&mi.certificateHold&&e.push("certificateHold"),n&mi.cessationOfOperation&&e.push("cessationOfOperation"),n&mi.keyCompromise&&e.push("keyCompromise"),n&mi.privilegeWithdrawn&&e.push("privilegeWithdrawn"),n&mi.superseded&&e.push("superseded"),n&mi.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}}let ac=class{constructor(e={}){Object.assign(this,e)}};D([H({type:_t,context:0,repeated:"sequence",implicit:!0})],ac.prototype,"fullName",void 0);D([H({type:rh,context:1,implicit:!0})],ac.prototype,"nameRelativeToCRLIssuer",void 0);ac=D([Ae({type:xe.Choice})],ac);class Th{constructor(e={}){Object.assign(this,e)}}D([H({type:ac,context:0,optional:!0})],Th.prototype,"distributionPoint",void 0);D([H({type:TP,context:1,optional:!0,implicit:!0})],Th.prototype,"reasons",void 0);D([H({type:_t,context:2,optional:!0,repeated:"sequence",implicit:!0})],Th.prototype,"cRLIssuer",void 0);let Yu=Xw=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Xw.prototype)}};Yu=Xw=D([Ae({type:xe.Sequence,itemType:Th})],Yu);var ek;let F3=ek=class extends Yu{constructor(e){super(e),Object.setPrototypeOf(this,ek.prototype)}};F3=ek=D([Ae({type:xe.Sequence,itemType:Th})],F3);class Es{constructor(e={}){this.onlyContainsUserCerts=Es.ONLY,this.onlyContainsCACerts=Es.ONLY,this.indirectCRL=Es.ONLY,this.onlyContainsAttributeCerts=Es.ONLY,Object.assign(this,e)}}Es.ONLY=!1;D([H({type:ac,context:0,optional:!0})],Es.prototype,"distributionPoint",void 0);D([H({type:se.Boolean,context:1,defaultValue:Es.ONLY,implicit:!0})],Es.prototype,"onlyContainsUserCerts",void 0);D([H({type:se.Boolean,context:2,defaultValue:Es.ONLY,implicit:!0})],Es.prototype,"onlyContainsCACerts",void 0);D([H({type:TP,context:3,optional:!0,implicit:!0})],Es.prototype,"onlySomeReasons",void 0);D([H({type:se.Boolean,context:4,defaultValue:Es.ONLY,implicit:!0})],Es.prototype,"indirectCRL",void 0);D([H({type:se.Boolean,context:5,defaultValue:Es.ONLY,implicit:!0})],Es.prototype,"onlyContainsAttributeCerts",void 0);var Qf;(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(Qf||(Qf={}));let tk=class{constructor(e=Qf.unspecified){this.reason=Qf.unspecified,this.reason=e}toJSON(){return Qf[this.reason]}toString(){return this.toJSON()}};D([H({type:se.Enumerated})],tk.prototype,"reason",void 0);tk=D([Ae({type:xe.Choice})],tk);var nk;const jP=`${Ka}.37`;let Ly=nk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,nk.prototype)}};Ly=nk=D([Ae({type:xe.Sequence,itemType:se.ObjectIdentifier})],Ly);const UX=`${Rh}.1`,HX=`${Rh}.2`,VX=`${Rh}.3`,qX=`${Rh}.4`,KX=`${Rh}.8`,WX=`${Rh}.9`;let sk=class{constructor(e=new ArrayBuffer(0)){this.value=e}};D([H({type:se.Integer,converter:cn})],sk.prototype,"value",void 0);sk=D([Ae({type:xe.Choice})],sk);let rk=class{constructor(e){this.value=new Date,e&&(this.value=e)}};D([H({type:se.GeneralizedTime})],rk.prototype,"value",void 0);rk=D([Ae({type:xe.Choice})],rk);var ik;const OP=`${Ka}.18`;let U3=ik=class extends Ts{constructor(e){super(e),Object.setPrototypeOf(this,ik.prototype)}};U3=ik=D([Ae({type:xe.Sequence})],U3);const MP=`${Ka}.15`;var gi;(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(gi||(gi={}));class nS extends ub{toJSON(){const e=this.toNumber(),n=[];return e&gi.cRLSign&&n.push("crlSign"),e&gi.dataEncipherment&&n.push("dataEncipherment"),e&gi.decipherOnly&&n.push("decipherOnly"),e&gi.digitalSignature&&n.push("digitalSignature"),e&gi.encipherOnly&&n.push("encipherOnly"),e&gi.keyAgreement&&n.push("keyAgreement"),e&gi.keyCertSign&&n.push("keyCertSign"),e&gi.keyEncipherment&&n.push("keyEncipherment"),e&gi.nonRepudiation&&n.push("nonRepudiation"),n}toString(){return`[${this.toJSON().join(", ")}]`}}var ak;class pb{constructor(e={}){this.base=new _t,this.minimum=0,Object.assign(this,e)}}D([H({type:_t})],pb.prototype,"base",void 0);D([H({type:se.Integer,context:0,defaultValue:0,implicit:!0})],pb.prototype,"minimum",void 0);D([H({type:se.Integer,context:1,optional:!0,implicit:!0})],pb.prototype,"maximum",void 0);let By=ak=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,ak.prototype)}};By=ak=D([Ae({type:xe.Sequence,itemType:pb})],By);class IP{constructor(e={}){Object.assign(this,e)}}D([H({type:By,context:0,optional:!0,implicit:!0})],IP.prototype,"permittedSubtrees",void 0);D([H({type:By,context:1,optional:!0,implicit:!0})],IP.prototype,"excludedSubtrees",void 0);class DP{constructor(e={}){Object.assign(this,e)}}D([H({type:se.Integer,context:0,implicit:!0,optional:!0,converter:cn})],DP.prototype,"requireExplicitPolicy",void 0);D([H({type:se.Integer,context:1,implicit:!0,optional:!0,converter:cn})],DP.prototype,"inhibitPolicyMapping",void 0);var ok;class kN{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],kN.prototype,"issuerDomainPolicy",void 0);D([H({type:se.ObjectIdentifier})],kN.prototype,"subjectDomainPolicy",void 0);let H3=ok=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,ok.prototype)}};H3=ok=D([Ae({type:xe.Sequence,itemType:kN})],H3);var lk;const PP=`${Ka}.17`;let ck=lk=class extends Ts{constructor(e){super(e),Object.setPrototypeOf(this,lk.prototype)}};ck=lk=D([Ae({type:xe.Sequence})],ck);let La=class{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}};D([H({type:se.ObjectIdentifier})],La.prototype,"type",void 0);D([H({type:se.Any,repeated:"set"})],La.prototype,"values",void 0);var uk;let V3=uk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,uk.prototype)}};V3=uk=D([Ae({type:xe.Sequence,itemType:La})],V3);const LP=`${Ka}.14`;class qo extends _N{}class BP{constructor(e={}){Object.assign(this,e)}}D([H({type:se.GeneralizedTime,context:0,implicit:!0,optional:!0})],BP.prototype,"notBefore",void 0);D([H({type:se.GeneralizedTime,context:1,implicit:!0,optional:!0})],BP.prototype,"notAfter",void 0);var ep;(function(t){t[t.keyUpdateAllowed=1]="keyUpdateAllowed",t[t.newExtensions=2]="newExtensions",t[t.pKIXCertificate=4]="pKIXCertificate"})(ep||(ep={}));class $P extends ub{toJSON(){const e=[],n=this.toNumber();return n&ep.pKIXCertificate&&e.push("pKIXCertificate"),n&ep.newExtensions&&e.push("newExtensions"),n&ep.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}}class zP{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new $P,Object.assign(this,e)}}D([H({type:se.GeneralString})],zP.prototype,"entrustVers",void 0);D([H({type:$P})],zP.prototype,"entrustInfoFlags",void 0);var hk;let q3=hk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,hk.prototype)}};q3=hk=D([Ae({type:xe.Sequence,itemType:sm})],q3);class We{constructor(e={}){this.algorithm="",Object.assign(this,e)}isEqual(e){return e instanceof We&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&R6(e.parameters,this.parameters)||e.parameters===this.parameters)}}D([H({type:se.ObjectIdentifier})],We.prototype,"algorithm",void 0);D([H({type:se.Any,optional:!0})],We.prototype,"parameters",void 0);class $i{constructor(e={}){this.algorithm=new We,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:We})],$i.prototype,"algorithm",void 0);D([H({type:se.BitString})],$i.prototype,"subjectPublicKey",void 0);let ys=class{constructor(e){if(e)if(typeof e=="string"||typeof e=="number"||e instanceof Date){const n=new Date(e);n.getUTCFullYear()>2049?this.generalTime=n:this.utcTime=n}else Object.assign(this,e)}getTime(){const e=this.utcTime||this.generalTime;if(!e)throw new Error("Cannot get time from CHOICE object");return e}};D([H({type:se.UTCTime})],ys.prototype,"utcTime",void 0);D([H({type:se.GeneralizedTime})],ys.prototype,"generalTime",void 0);ys=D([Ae({type:xe.Choice})],ys);class mb{constructor(e){this.notBefore=new ys(new Date),this.notAfter=new ys(new Date),e&&(this.notBefore=new ys(e.notBefore),this.notAfter=new ys(e.notAfter))}}D([H({type:ys})],mb.prototype,"notBefore",void 0);D([H({type:ys})],mb.prototype,"notAfter",void 0);var dk;let wi=class FP{constructor(e={}){this.extnID="",this.critical=FP.CRITICAL,this.extnValue=new Ft,Object.assign(this,e)}};wi.CRITICAL=!1;D([H({type:se.ObjectIdentifier})],wi.prototype,"extnID",void 0);D([H({type:se.Boolean,defaultValue:wi.CRITICAL})],wi.prototype,"critical",void 0);D([H({type:Ft})],wi.prototype,"extnValue",void 0);let oc=dk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,dk.prototype)}};oc=dk=D([Ae({type:xe.Sequence,itemType:wi})],oc);var ih;(function(t){t[t.v1=0]="v1",t[t.v2=1]="v2",t[t.v3=2]="v3"})(ih||(ih={}));class ui{constructor(e={}){this.version=ih.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new We,this.issuer=new Kn,this.validity=new mb,this.subject=new Kn,this.subjectPublicKeyInfo=new $i,Object.assign(this,e)}}D([H({type:se.Integer,context:0,defaultValue:ih.v1})],ui.prototype,"version",void 0);D([H({type:se.Integer,converter:cn})],ui.prototype,"serialNumber",void 0);D([H({type:We})],ui.prototype,"signature",void 0);D([H({type:Kn})],ui.prototype,"issuer",void 0);D([H({type:mb})],ui.prototype,"validity",void 0);D([H({type:Kn})],ui.prototype,"subject",void 0);D([H({type:$i})],ui.prototype,"subjectPublicKeyInfo",void 0);D([H({type:se.BitString,context:1,implicit:!0,optional:!0})],ui.prototype,"issuerUniqueID",void 0);D([H({type:se.BitString,context:2,implicit:!0,optional:!0})],ui.prototype,"subjectUniqueID",void 0);D([H({type:oc,context:3,optional:!0})],ui.prototype,"extensions",void 0);class ah{constructor(e={}){this.tbsCertificate=new ui,this.signatureAlgorithm=new We,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:ui,raw:!0})],ah.prototype,"tbsCertificate",void 0);D([H({type:We})],ah.prototype,"signatureAlgorithm",void 0);D([H({type:se.BitString})],ah.prototype,"signatureValue",void 0);class gb{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new ys,Object.assign(this,e)}}D([H({type:se.Integer,converter:cn})],gb.prototype,"userCertificate",void 0);D([H({type:ys})],gb.prototype,"revocationDate",void 0);D([H({type:wi,optional:!0,repeated:"sequence"})],gb.prototype,"crlEntryExtensions",void 0);class Wa{constructor(e={}){this.signature=new We,this.issuer=new Kn,this.thisUpdate=new ys,Object.assign(this,e)}}D([H({type:se.Integer,optional:!0})],Wa.prototype,"version",void 0);D([H({type:We})],Wa.prototype,"signature",void 0);D([H({type:Kn})],Wa.prototype,"issuer",void 0);D([H({type:ys})],Wa.prototype,"thisUpdate",void 0);D([H({type:ys,optional:!0})],Wa.prototype,"nextUpdate",void 0);D([H({type:gb,repeated:"sequence",optional:!0})],Wa.prototype,"revokedCertificates",void 0);D([H({type:wi,optional:!0,context:0,repeated:"sequence"})],Wa.prototype,"crlExtensions",void 0);class CN{constructor(e={}){this.tbsCertList=new Wa,this.signatureAlgorithm=new We,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:Wa,raw:!0})],CN.prototype,"tbsCertList",void 0);D([H({type:We})],CN.prototype,"signatureAlgorithm",void 0);D([H({type:se.BitString})],CN.prototype,"signature",void 0);class jh{constructor(e={}){this.issuer=new Kn,this.serialNumber=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:Kn})],jh.prototype,"issuer",void 0);D([H({type:se.Integer,converter:cn})],jh.prototype,"serialNumber",void 0);let oh=class{constructor(e={}){Object.assign(this,e)}};D([H({type:qo,context:0,implicit:!0})],oh.prototype,"subjectKeyIdentifier",void 0);D([H({type:jh})],oh.prototype,"issuerAndSerialNumber",void 0);oh=D([Ae({type:xe.Choice})],oh);var Ba;(function(t){t[t.v0=0]="v0",t[t.v1=1]="v1",t[t.v2=2]="v2",t[t.v3=3]="v3",t[t.v4=4]="v4",t[t.v5=5]="v5"})(Ba||(Ba={}));let Rp=class extends We{};Rp=D([Ae({type:xe.Sequence})],Rp);let $y=class extends We{};$y=D([Ae({type:xe.Sequence})],$y);let Wi=class extends We{};Wi=D([Ae({type:xe.Sequence})],Wi);let zy=class extends We{};zy=D([Ae({type:xe.Sequence})],zy);let K3=class extends We{};K3=D([Ae({type:xe.Sequence})],K3);let fk=class extends We{};fk=D([Ae({type:xe.Sequence})],fk);let Oh=class{constructor(e={}){this.attrType="",this.attrValues=[],Object.assign(this,e)}};D([H({type:se.ObjectIdentifier})],Oh.prototype,"attrType",void 0);D([H({type:se.Any,repeated:"set"})],Oh.prototype,"attrValues",void 0);var pk;class na{constructor(e={}){this.version=Ba.v0,this.sid=new oh,this.digestAlgorithm=new Rp,this.signatureAlgorithm=new $y,this.signature=new Ft,Object.assign(this,e)}}D([H({type:se.Integer})],na.prototype,"version",void 0);D([H({type:oh})],na.prototype,"sid",void 0);D([H({type:Rp})],na.prototype,"digestAlgorithm",void 0);D([H({type:Oh,repeated:"set",context:0,implicit:!0,optional:!0,raw:!0})],na.prototype,"signedAttrs",void 0);D([H({type:$y})],na.prototype,"signatureAlgorithm",void 0);D([H({type:Ft})],na.prototype,"signature",void 0);D([H({type:Oh,repeated:"set",context:1,implicit:!0,optional:!0})],na.prototype,"unsignedAttrs",void 0);let Fy=pk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,pk.prototype)}};Fy=pk=D([Ae({type:xe.Set,itemType:na})],Fy);let W3=class extends na{};W3=D([Ae({type:xe.Sequence})],W3);let G3=class extends ys{};G3=D([Ae({type:xe.Choice})],G3);class NN{constructor(e={}){this.acIssuer=new _t,this.acSerial=0,this.attrs=[],Object.assign(this,e)}}D([H({type:_t})],NN.prototype,"acIssuer",void 0);D([H({type:se.Integer})],NN.prototype,"acSerial",void 0);D([H({type:La,repeated:"sequence"})],NN.prototype,"attrs",void 0);var mk;let Uy=mk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,mk.prototype)}};Uy=mk=D([Ae({type:xe.Sequence,itemType:se.ObjectIdentifier})],Uy);class yb{constructor(e={}){this.permitUnSpecified=!0,Object.assign(this,e)}}D([H({type:se.Integer,optional:!0})],yb.prototype,"pathLenConstraint",void 0);D([H({type:Uy,implicit:!0,context:0,optional:!0})],yb.prototype,"permittedAttrs",void 0);D([H({type:Uy,implicit:!0,context:1,optional:!0})],yb.prototype,"excludedAttrs",void 0);D([H({type:se.Boolean,defaultValue:!0})],yb.prototype,"permitUnSpecified",void 0);class Cc{constructor(e={}){this.issuer=new Ts,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:Ts})],Cc.prototype,"issuer",void 0);D([H({type:se.Integer,converter:cn})],Cc.prototype,"serial",void 0);D([H({type:se.BitString,optional:!0})],Cc.prototype,"issuerUID",void 0);var gk;(function(t){t[t.publicKey=0]="publicKey",t[t.publicKeyCert=1]="publicKeyCert",t[t.otherObjectTypes=2]="otherObjectTypes"})(gk||(gk={}));class Nc{constructor(e={}){this.digestedObjectType=gk.publicKey,this.digestAlgorithm=new We,this.objectDigest=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.Enumerated})],Nc.prototype,"digestedObjectType",void 0);D([H({type:se.ObjectIdentifier,optional:!0})],Nc.prototype,"otherObjectTypeID",void 0);D([H({type:We})],Nc.prototype,"digestAlgorithm",void 0);D([H({type:se.BitString})],Nc.prototype,"objectDigest",void 0);class vb{constructor(e={}){Object.assign(this,e)}}D([H({type:Ts,optional:!0})],vb.prototype,"issuerName",void 0);D([H({type:Cc,context:0,implicit:!0,optional:!0})],vb.prototype,"baseCertificateID",void 0);D([H({type:Nc,context:1,implicit:!0,optional:!0})],vb.prototype,"objectDigestInfo",void 0);let lh=class{constructor(e={}){Object.assign(this,e)}};D([H({type:_t,repeated:"sequence"})],lh.prototype,"v1Form",void 0);D([H({type:vb,context:0,implicit:!0})],lh.prototype,"v2Form",void 0);lh=D([Ae({type:xe.Choice})],lh);class bb{constructor(e={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,e)}}D([H({type:se.GeneralizedTime})],bb.prototype,"notBeforeTime",void 0);D([H({type:se.GeneralizedTime})],bb.prototype,"notAfterTime",void 0);class rm{constructor(e={}){Object.assign(this,e)}}D([H({type:Cc,implicit:!0,context:0,optional:!0})],rm.prototype,"baseCertificateID",void 0);D([H({type:Ts,implicit:!0,context:1,optional:!0})],rm.prototype,"entityName",void 0);D([H({type:Nc,implicit:!0,context:2,optional:!0})],rm.prototype,"objectDigestInfo",void 0);var yk;(function(t){t[t.v2=1]="v2"})(yk||(yk={}));class Ni{constructor(e={}){this.version=yk.v2,this.holder=new rm,this.issuer=new lh,this.signature=new We,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new bb,this.attributes=[],Object.assign(this,e)}}D([H({type:se.Integer})],Ni.prototype,"version",void 0);D([H({type:rm})],Ni.prototype,"holder",void 0);D([H({type:lh})],Ni.prototype,"issuer",void 0);D([H({type:We})],Ni.prototype,"signature",void 0);D([H({type:se.Integer,converter:cn})],Ni.prototype,"serialNumber",void 0);D([H({type:bb})],Ni.prototype,"attrCertValidityPeriod",void 0);D([H({type:La,repeated:"sequence"})],Ni.prototype,"attributes",void 0);D([H({type:se.BitString,optional:!0})],Ni.prototype,"issuerUniqueID",void 0);D([H({type:oc,optional:!0})],Ni.prototype,"extensions",void 0);class _b{constructor(e={}){this.acinfo=new Ni,this.signatureAlgorithm=new We,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:Ni})],_b.prototype,"acinfo",void 0);D([H({type:We})],_b.prototype,"signatureAlgorithm",void 0);D([H({type:se.BitString})],_b.prototype,"signatureValue",void 0);var Hy;(function(t){t[t.unmarked=1]="unmarked",t[t.unclassified=2]="unclassified",t[t.restricted=4]="restricted",t[t.confidential=8]="confidential",t[t.secret=16]="secret",t[t.topSecret=32]="topSecret"})(Hy||(Hy={}));class vk extends ub{}class EN{constructor(e={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.ObjectIdentifier,implicit:!0,context:0})],EN.prototype,"type",void 0);D([H({type:se.Any,implicit:!0,context:1})],EN.prototype,"value",void 0);class AN{constructor(e={}){this.policyId="",this.classList=new vk(Hy.unclassified),Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],AN.prototype,"policyId",void 0);D([H({type:vk,defaultValue:new vk(Hy.unclassified)})],AN.prototype,"classList",void 0);D([H({type:EN,repeated:"set"})],AN.prototype,"securityCategories",void 0);class xb{constructor(e={}){Object.assign(this,e)}}D([H({type:Ft})],xb.prototype,"cotets",void 0);D([H({type:se.ObjectIdentifier})],xb.prototype,"oid",void 0);D([H({type:se.Utf8String})],xb.prototype,"string",void 0);class UP{constructor(e={}){this.values=[],Object.assign(this,e)}}D([H({type:Ts,implicit:!0,context:0,optional:!0})],UP.prototype,"policyAuthority",void 0);D([H({type:xb,repeated:"sequence"})],UP.prototype,"values",void 0);var bk;class Sb{constructor(e={}){this.targetCertificate=new Cc,Object.assign(this,e)}}D([H({type:Cc})],Sb.prototype,"targetCertificate",void 0);D([H({type:_t,optional:!0})],Sb.prototype,"targetName",void 0);D([H({type:Nc,optional:!0})],Sb.prototype,"certDigestInfo",void 0);let ch=class{constructor(e={}){Object.assign(this,e)}};D([H({type:_t,context:0,implicit:!0})],ch.prototype,"targetName",void 0);D([H({type:_t,context:1,implicit:!0})],ch.prototype,"targetGroup",void 0);D([H({type:Sb,context:2,implicit:!0})],ch.prototype,"targetCert",void 0);ch=D([Ae({type:xe.Choice})],ch);let _k=bk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,bk.prototype)}};_k=bk=D([Ae({type:xe.Sequence,itemType:ch})],_k);var xk;let Y3=xk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,xk.prototype)}};Y3=xk=D([Ae({type:xe.Sequence,itemType:_k})],Y3);class HP{constructor(e={}){Object.assign(this,e)}}D([H({type:Ts,implicit:!0,context:0,optional:!0})],HP.prototype,"roleAuthority",void 0);D([H({type:_t,implicit:!0,context:1})],HP.prototype,"roleName",void 0);class RN{constructor(e={}){this.service=new _t,this.ident=new _t,Object.assign(this,e)}}D([H({type:_t})],RN.prototype,"service",void 0);D([H({type:_t})],RN.prototype,"ident",void 0);D([H({type:Ft,optional:!0})],RN.prototype,"authInfo",void 0);var Sk;class TN{constructor(e={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],TN.prototype,"otherCertFormat",void 0);D([H({type:se.Any})],TN.prototype,"otherCert",void 0);let uh=class{constructor(e={}){Object.assign(this,e)}};D([H({type:ah})],uh.prototype,"certificate",void 0);D([H({type:_b,context:2,implicit:!0})],uh.prototype,"v2AttrCert",void 0);D([H({type:TN,context:3,implicit:!0})],uh.prototype,"other",void 0);uh=D([Ae({type:xe.Choice})],uh);let Vy=Sk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Sk.prototype)}};Vy=Sk=D([Ae({type:xe.Set,itemType:uh})],Vy);class Mh{constructor(e={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],Mh.prototype,"contentType",void 0);D([H({type:se.Any,context:0})],Mh.prototype,"content",void 0);let Tp=class{constructor(e={}){Object.assign(this,e)}};D([H({type:Ft})],Tp.prototype,"single",void 0);D([H({type:se.Any})],Tp.prototype,"any",void 0);Tp=D([Ae({type:xe.Choice})],Tp);class wb{constructor(e={}){this.eContentType="",Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],wb.prototype,"eContentType",void 0);D([H({type:Tp,context:0,optional:!0})],wb.prototype,"eContent",void 0);let jp=class{constructor(e={}){Object.assign(this,e)}};D([H({type:Ft,context:0,implicit:!0,optional:!0})],jp.prototype,"value",void 0);D([H({type:Ft,converter:SX,context:0,implicit:!0,optional:!0,repeated:"sequence"})],jp.prototype,"constructedValue",void 0);jp=D([Ae({type:xe.Choice})],jp);class im{constructor(e={}){this.contentType="",this.contentEncryptionAlgorithm=new zy,Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],im.prototype,"contentType",void 0);D([H({type:zy})],im.prototype,"contentEncryptionAlgorithm",void 0);D([H({type:jp,optional:!0})],im.prototype,"encryptedContent",void 0);class kb{constructor(e={}){this.keyAttrId="",Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],kb.prototype,"keyAttrId",void 0);D([H({type:se.Any,optional:!0})],kb.prototype,"keyAttr",void 0);var wk;class Cb{constructor(e={}){this.subjectKeyIdentifier=new qo,Object.assign(this,e)}}D([H({type:qo})],Cb.prototype,"subjectKeyIdentifier",void 0);D([H({type:se.GeneralizedTime,optional:!0})],Cb.prototype,"date",void 0);D([H({type:kb,optional:!0})],Cb.prototype,"other",void 0);let hh=class{constructor(e={}){Object.assign(this,e)}};D([H({type:Cb,context:0,implicit:!0,optional:!0})],hh.prototype,"rKeyId",void 0);D([H({type:jh,optional:!0})],hh.prototype,"issuerAndSerialNumber",void 0);hh=D([Ae({type:xe.Choice})],hh);class jN{constructor(e={}){this.rid=new hh,this.encryptedKey=new Ft,Object.assign(this,e)}}D([H({type:hh})],jN.prototype,"rid",void 0);D([H({type:Ft})],jN.prototype,"encryptedKey",void 0);let qy=wk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,wk.prototype)}};qy=wk=D([Ae({type:xe.Sequence,itemType:jN})],qy);class ON{constructor(e={}){this.algorithm=new We,this.publicKey=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:We})],ON.prototype,"algorithm",void 0);D([H({type:se.BitString})],ON.prototype,"publicKey",void 0);let lc=class{constructor(e={}){Object.assign(this,e)}};D([H({type:qo,context:0,implicit:!0,optional:!0})],lc.prototype,"subjectKeyIdentifier",void 0);D([H({type:ON,context:1,implicit:!0,optional:!0})],lc.prototype,"originatorKey",void 0);D([H({type:jh,optional:!0})],lc.prototype,"issuerAndSerialNumber",void 0);lc=D([Ae({type:xe.Choice})],lc);class Ih{constructor(e={}){this.version=Ba.v3,this.originator=new lc,this.keyEncryptionAlgorithm=new Wi,this.recipientEncryptedKeys=new qy,Object.assign(this,e)}}D([H({type:se.Integer})],Ih.prototype,"version",void 0);D([H({type:lc,context:0})],Ih.prototype,"originator",void 0);D([H({type:Ft,context:1,optional:!0})],Ih.prototype,"ukm",void 0);D([H({type:Wi})],Ih.prototype,"keyEncryptionAlgorithm",void 0);D([H({type:qy})],Ih.prototype,"recipientEncryptedKeys",void 0);let dh=class{constructor(e={}){Object.assign(this,e)}};D([H({type:qo,context:0,implicit:!0})],dh.prototype,"subjectKeyIdentifier",void 0);D([H({type:jh})],dh.prototype,"issuerAndSerialNumber",void 0);dh=D([Ae({type:xe.Choice})],dh);class am{constructor(e={}){this.version=Ba.v0,this.rid=new dh,this.keyEncryptionAlgorithm=new Wi,this.encryptedKey=new Ft,Object.assign(this,e)}}D([H({type:se.Integer})],am.prototype,"version",void 0);D([H({type:dh})],am.prototype,"rid",void 0);D([H({type:Wi})],am.prototype,"keyEncryptionAlgorithm",void 0);D([H({type:Ft})],am.prototype,"encryptedKey",void 0);class om{constructor(e={}){this.keyIdentifier=new Ft,Object.assign(this,e)}}D([H({type:Ft})],om.prototype,"keyIdentifier",void 0);D([H({type:se.GeneralizedTime,optional:!0})],om.prototype,"date",void 0);D([H({type:kb,optional:!0})],om.prototype,"other",void 0);class lm{constructor(e={}){this.version=Ba.v4,this.kekid=new om,this.keyEncryptionAlgorithm=new Wi,this.encryptedKey=new Ft,Object.assign(this,e)}}D([H({type:se.Integer})],lm.prototype,"version",void 0);D([H({type:om})],lm.prototype,"kekid",void 0);D([H({type:Wi})],lm.prototype,"keyEncryptionAlgorithm",void 0);D([H({type:Ft})],lm.prototype,"encryptedKey",void 0);class cm{constructor(e={}){this.version=Ba.v0,this.keyEncryptionAlgorithm=new Wi,this.encryptedKey=new Ft,Object.assign(this,e)}}D([H({type:se.Integer})],cm.prototype,"version",void 0);D([H({type:fk,context:0,optional:!0})],cm.prototype,"keyDerivationAlgorithm",void 0);D([H({type:Wi})],cm.prototype,"keyEncryptionAlgorithm",void 0);D([H({type:Ft})],cm.prototype,"encryptedKey",void 0);class MN{constructor(e={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],MN.prototype,"oriType",void 0);D([H({type:se.Any})],MN.prototype,"oriValue",void 0);let Jo=class{constructor(e={}){Object.assign(this,e)}};D([H({type:am,optional:!0})],Jo.prototype,"ktri",void 0);D([H({type:Ih,context:1,implicit:!0,optional:!0})],Jo.prototype,"kari",void 0);D([H({type:lm,context:2,implicit:!0,optional:!0})],Jo.prototype,"kekri",void 0);D([H({type:cm,context:3,implicit:!0,optional:!0})],Jo.prototype,"pwri",void 0);D([H({type:MN,context:4,implicit:!0,optional:!0})],Jo.prototype,"ori",void 0);Jo=D([Ae({type:xe.Choice})],Jo);var kk;let Ky=kk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,kk.prototype)}};Ky=kk=D([Ae({type:xe.Set,itemType:Jo})],Ky);var Ck;class Nb{constructor(e={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],Nb.prototype,"otherRevInfoFormat",void 0);D([H({type:se.Any})],Nb.prototype,"otherRevInfo",void 0);let Wy=class{constructor(e={}){this.other=new Nb,Object.assign(this,e)}};D([H({type:Nb,context:1,implicit:!0})],Wy.prototype,"other",void 0);Wy=D([Ae({type:xe.Choice})],Wy);let Gy=Ck=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Ck.prototype)}};Gy=Ck=D([Ae({type:xe.Set,itemType:Wy})],Gy);class IN{constructor(e={}){Object.assign(this,e)}}D([H({type:Vy,context:0,implicit:!0,optional:!0})],IN.prototype,"certs",void 0);D([H({type:Gy,context:1,implicit:!0,optional:!0})],IN.prototype,"crls",void 0);var Nk;let Ek=Nk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Nk.prototype)}};Ek=Nk=D([Ae({type:xe.Set,itemType:Oh})],Ek);class um{constructor(e={}){this.version=Ba.v0,this.recipientInfos=new Ky,this.encryptedContentInfo=new im,Object.assign(this,e)}}D([H({type:se.Integer})],um.prototype,"version",void 0);D([H({type:IN,context:0,implicit:!0,optional:!0})],um.prototype,"originatorInfo",void 0);D([H({type:Ky})],um.prototype,"recipientInfos",void 0);D([H({type:im})],um.prototype,"encryptedContentInfo",void 0);D([H({type:Ek,context:1,implicit:!0,optional:!0})],um.prototype,"unprotectedAttrs",void 0);const GX="1.2.840.113549.1.7.2";var Ak;let Yy=Ak=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Ak.prototype)}};Yy=Ak=D([Ae({type:xe.Set,itemType:Rp})],Yy);class Dh{constructor(e={}){this.version=Ba.v0,this.digestAlgorithms=new Yy,this.encapContentInfo=new wb,this.signerInfos=new Fy,Object.assign(this,e)}}D([H({type:se.Integer})],Dh.prototype,"version",void 0);D([H({type:Yy})],Dh.prototype,"digestAlgorithms",void 0);D([H({type:wb})],Dh.prototype,"encapContentInfo",void 0);D([H({type:Vy,context:0,implicit:!0,optional:!0})],Dh.prototype,"certificates",void 0);D([H({type:Gy,context:1,implicit:!0,optional:!0})],Dh.prototype,"crls",void 0);D([H({type:Fy})],Dh.prototype,"signerInfos",void 0);const Op="1.2.840.10045.2.1",DN="1.2.840.10045.4.1",VP="1.2.840.10045.4.3.1",PN="1.2.840.10045.4.3.2",LN="1.2.840.10045.4.3.3",BN="1.2.840.10045.4.3.4",Z3="1.2.840.10045.3.1.7",J3="1.3.132.0.34",X3="1.3.132.0.35";function hm(t){return new We({algorithm:t})}const YX=hm(DN);hm(VP);const ZX=hm(PN),JX=hm(LN),XX=hm(BN);let Mp=class{constructor(e={}){Object.assign(this,e)}};D([H({type:se.ObjectIdentifier})],Mp.prototype,"fieldType",void 0);D([H({type:se.Any})],Mp.prototype,"parameters",void 0);Mp=D([Ae({type:xe.Sequence})],Mp);class QX extends Ft{}let fh=class{constructor(e={}){Object.assign(this,e)}};D([H({type:se.OctetString})],fh.prototype,"a",void 0);D([H({type:se.OctetString})],fh.prototype,"b",void 0);D([H({type:se.BitString,optional:!0})],fh.prototype,"seed",void 0);fh=D([Ae({type:xe.Sequence})],fh);var Rk;(function(t){t[t.ecpVer1=1]="ecpVer1"})(Rk||(Rk={}));let $a=class{constructor(e={}){this.version=Rk.ecpVer1,Object.assign(this,e)}};D([H({type:se.Integer})],$a.prototype,"version",void 0);D([H({type:Mp})],$a.prototype,"fieldID",void 0);D([H({type:fh})],$a.prototype,"curve",void 0);D([H({type:QX})],$a.prototype,"base",void 0);D([H({type:se.Integer,converter:cn})],$a.prototype,"order",void 0);D([H({type:se.Integer,optional:!0})],$a.prototype,"cofactor",void 0);$a=D([Ae({type:xe.Sequence})],$a);let Xo=class{constructor(e={}){Object.assign(this,e)}};D([H({type:se.ObjectIdentifier})],Xo.prototype,"namedCurve",void 0);D([H({type:se.Null})],Xo.prototype,"implicitCurve",void 0);D([H({type:$a})],Xo.prototype,"specifiedCurve",void 0);Xo=D([Ae({type:xe.Choice})],Xo);class Eb{constructor(e={}){this.version=1,this.privateKey=new Ft,Object.assign(this,e)}}D([H({type:se.Integer})],Eb.prototype,"version",void 0);D([H({type:Ft})],Eb.prototype,"privateKey",void 0);D([H({type:Xo,context:0,optional:!0})],Eb.prototype,"parameters",void 0);D([H({type:se.BitString,context:1,optional:!0})],Eb.prototype,"publicKey",void 0);class Zy{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.Integer,converter:cn})],Zy.prototype,"r",void 0);D([H({type:se.Integer,converter:cn})],Zy.prototype,"s",void 0);const lr="1.2.840.113549.1.1",cc=`${lr}.1`,eQ=`${lr}.7`,tQ=`${lr}.9`,tp=`${lr}.10`,nQ=`${lr}.2`,sQ=`${lr}.4`,Jy=`${lr}.5`,rQ=`${lr}.14`,Tk=`${lr}.11`,Xy=`${lr}.12`,Qy=`${lr}.13`,qP=`${lr}.15`,KP=`${lr}.16`,ev="1.3.14.3.2.26",WP="2.16.840.1.101.3.4.2.4",tv="2.16.840.1.101.3.4.2.1",nv="2.16.840.1.101.3.4.2.2",sv="2.16.840.1.101.3.4.2.3",iQ="2.16.840.1.101.3.4.2.5",aQ="2.16.840.1.101.3.4.2.6",oQ="1.2.840.113549.2.2",lQ="1.2.840.113549.2.5",Ab=`${lr}.8`;function Jn(t){return new We({algorithm:t,parameters:null})}Jn(oQ);Jn(lQ);const uc=Jn(ev);Jn(WP);Jn(tv);Jn(nv);Jn(sv);Jn(iQ);Jn(aQ);const GP=new We({algorithm:Ab,parameters:$e.serialize(uc)}),YP=new We({algorithm:tQ,parameters:$e.serialize(Oy.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});Jn(cc);Jn(nQ);Jn(sQ);Jn(Jy);Jn(qP);Jn(KP);Jn(Xy);Jn(Qy);Jn(qP);Jn(KP);class Rb{constructor(e={}){this.hashAlgorithm=new We(uc),this.maskGenAlgorithm=new We({algorithm:Ab,parameters:$e.serialize(uc)}),this.pSourceAlgorithm=new We(YP),Object.assign(this,e)}}D([H({type:We,context:0,defaultValue:uc})],Rb.prototype,"hashAlgorithm",void 0);D([H({type:We,context:1,defaultValue:GP})],Rb.prototype,"maskGenAlgorithm",void 0);D([H({type:We,context:2,defaultValue:YP})],Rb.prototype,"pSourceAlgorithm",void 0);new We({algorithm:eQ,parameters:$e.serialize(new Rb)});class hc{constructor(e={}){this.hashAlgorithm=new We(uc),this.maskGenAlgorithm=new We({algorithm:Ab,parameters:$e.serialize(uc)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}}D([H({type:We,context:0,defaultValue:uc})],hc.prototype,"hashAlgorithm",void 0);D([H({type:We,context:1,defaultValue:GP})],hc.prototype,"maskGenAlgorithm",void 0);D([H({type:se.Integer,context:2,defaultValue:20})],hc.prototype,"saltLength",void 0);D([H({type:se.Integer,context:3,defaultValue:1})],hc.prototype,"trailerField",void 0);new We({algorithm:tp,parameters:$e.serialize(new hc)});class Tb{constructor(e={}){this.digestAlgorithm=new We,this.digest=new Ft,Object.assign(this,e)}}D([H({type:We})],Tb.prototype,"digestAlgorithm",void 0);D([H({type:Ft})],Tb.prototype,"digest",void 0);var jk;class jb{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.Integer,converter:cn})],jb.prototype,"prime",void 0);D([H({type:se.Integer,converter:cn})],jb.prototype,"exponent",void 0);D([H({type:se.Integer,converter:cn})],jb.prototype,"coefficient",void 0);let Ok=jk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,jk.prototype)}};Ok=jk=D([Ae({type:xe.Sequence,itemType:jb})],Ok);class sa{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.Integer})],sa.prototype,"version",void 0);D([H({type:se.Integer,converter:cn})],sa.prototype,"modulus",void 0);D([H({type:se.Integer,converter:cn})],sa.prototype,"publicExponent",void 0);D([H({type:se.Integer,converter:cn})],sa.prototype,"privateExponent",void 0);D([H({type:se.Integer,converter:cn})],sa.prototype,"prime1",void 0);D([H({type:se.Integer,converter:cn})],sa.prototype,"prime2",void 0);D([H({type:se.Integer,converter:cn})],sa.prototype,"exponent1",void 0);D([H({type:se.Integer,converter:cn})],sa.prototype,"exponent2",void 0);D([H({type:se.Integer,converter:cn})],sa.prototype,"coefficient",void 0);D([H({type:Ok,optional:!0})],sa.prototype,"otherPrimeInfos",void 0);class $N{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.Integer,converter:cn})],$N.prototype,"modulus",void 0);D([H({type:se.Integer,converter:cn})],$N.prototype,"publicExponent",void 0);var Mk;(function(t){t[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton",t[t.ResolutionScoped=2]="ResolutionScoped",t[t.ContainerScoped=3]="ContainerScoped"})(Mk||(Mk={}));const er=Mk;var Ik=function(t,e){return Ik=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var r in s)s.hasOwnProperty(r)&&(n[r]=s[r])},Ik(t,e)};function zN(t,e){Ik(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function cQ(t,e,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(m){try{h(s.next(m))}catch(f){a(f)}}function u(m){try{h(s.throw(m))}catch(f){a(f)}}function h(m){m.done?i(m.value):r(m.value).then(l,u)}h((s=s.apply(t,[])).next())})}function uQ(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,r,i,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(m){return u([h,m])}}function u(h){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,r&&(i=h[0]&2?r.return:h[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,h[1])).done)return i;switch(r=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,r=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){n.label=h[1];break}if(h[0]===6&&n.label<i[1]){n.label=i[1],i=h;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(h);break}i[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(m){h=[6,m],r=0}finally{s=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function n0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rv(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),r,i=[],a;try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return i}function Ml(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rv(arguments[e]));return t}var hQ="injectionTokens";function dQ(t){var e=Reflect.getMetadata("design:paramtypes",t)||[],n=Reflect.getOwnMetadata(hQ,t)||{};return Object.keys(n).forEach(function(s){e[+s]=n[s]}),e}function ZP(t){return!!t.useClass}function Dk(t){return!!t.useFactory}var JP=(function(){function t(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return t.prototype.createProxy=function(e){var n=this,s={},r=!1,i,a=function(){return r||(i=e(n.wrap()),r=!0),i};return new Proxy(s,this.createHandler(a))},t.prototype.createHandler=function(e){var n={},s=function(r){n[r]=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];i[0]=e();var l=Reflect[r];return l.apply(void 0,Ml(i))}};return this.reflectMethods.forEach(s),n},t})();function yu(t){return typeof t=="string"||typeof t=="symbol"}function fQ(t){return typeof t=="object"&&"token"in t&&"multiple"in t}function Q3(t){return typeof t=="object"&&"token"in t&&"transform"in t}function pQ(t){return typeof t=="function"||t instanceof JP}function L0(t){return!!t.useToken}function B0(t){return t.useValue!=null}function mQ(t){return ZP(t)||B0(t)||L0(t)||Dk(t)}var FN=(function(){function t(){this._registryMap=new Map}return t.prototype.entries=function(){return this._registryMap.entries()},t.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},t.prototype.get=function(e){this.ensure(e);var n=this._registryMap.get(e);return n[n.length-1]||null},t.prototype.set=function(e,n){this.ensure(e),this._registryMap.get(e).push(n)},t.prototype.setAll=function(e,n){this._registryMap.set(e,n)},t.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},t.prototype.clear=function(){this._registryMap.clear()},t.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},t})(),gQ=(function(t){zN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(FN),s0=(function(){function t(){this.scopedResolutions=new Map}return t})();function yQ(t,e){if(t===null)return"at position #"+e;var n=t.split(",")[e].trim();return'"'+n+'" at position #'+e}function vQ(t,e,n){return n===void 0&&(n="    "),Ml([t],e.message.split(`
`).map(function(s){return n+s})).join(`
`)}function bQ(t,e,n){var s=rv(t.toString().match(/constructor\(([\w, ]+)\)/)||[],2),r=s[1],i=r===void 0?null:r,a=yQ(i,e);return vQ("Cannot inject the dependency "+a+' of "'+t.name+'" constructor. Reason:',n)}function _Q(t){if(typeof t.dispose!="function")return!1;var e=t.dispose;return!(e.length>0)}var xQ=(function(t){zN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(FN),SQ=(function(t){zN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(FN),wQ=(function(){function t(){this.preResolution=new xQ,this.postResolution=new SQ}return t})(),XP=new Map,kQ=(function(){function t(e){this.parent=e,this._registry=new gQ,this.interceptors=new wQ,this.disposed=!1,this.disposables=new Set}return t.prototype.register=function(e,n,s){s===void 0&&(s={lifecycle:er.Transient}),this.ensureNotDisposed();var r;if(mQ(n)?r=n:r={useClass:n},L0(r))for(var i=[e],a=r;a!=null;){var l=a.useToken;if(i.includes(l))throw new Error("Token registration cycle detected! "+Ml(i,[l]).join(" -> "));i.push(l);var u=this._registry.get(l);u&&L0(u.provider)?a=u.provider:a=null}if((s.lifecycle===er.Singleton||s.lifecycle==er.ContainerScoped||s.lifecycle==er.ResolutionScoped)&&(B0(r)||Dk(r)))throw new Error('Cannot use lifecycle "'+er[s.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:r,options:s}),this},t.prototype.registerType=function(e,n){return this.ensureNotDisposed(),yu(n)?this.register(e,{useToken:n}):this.register(e,{useClass:n})},t.prototype.registerInstance=function(e,n){return this.ensureNotDisposed(),this.register(e,{useValue:n})},t.prototype.registerSingleton=function(e,n){if(this.ensureNotDisposed(),yu(e)){if(yu(n))return this.register(e,{useToken:n},{lifecycle:er.Singleton});if(n)return this.register(e,{useClass:n},{lifecycle:er.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var s=e;return n&&!yu(n)&&(s=n),this.register(e,{useClass:s},{lifecycle:er.Singleton})},t.prototype.resolve=function(e,n,s){n===void 0&&(n=new s0),s===void 0&&(s=!1),this.ensureNotDisposed();var r=this.getRegistration(e);if(!r&&yu(e)){if(s)return;throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"Single"),r){var i=this.resolveRegistration(r,n);return this.executePostResolutionInterceptor(e,i,"Single"),i}if(pQ(e)){var i=this.construct(e,n);return this.executePostResolutionInterceptor(e,i,"Single"),i}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},t.prototype.executePreResolutionInterceptor=function(e,n){var s,r;if(this.interceptors.preResolution.has(e)){var i=[];try{for(var a=n0(this.interceptors.preResolution.getAll(e)),l=a.next();!l.done;l=a.next()){var u=l.value;u.options.frequency!="Once"&&i.push(u),u.callback(e,n)}}catch(h){s={error:h}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(s)throw s.error}}this.interceptors.preResolution.setAll(e,i)}},t.prototype.executePostResolutionInterceptor=function(e,n,s){var r,i;if(this.interceptors.postResolution.has(e)){var a=[];try{for(var l=n0(this.interceptors.postResolution.getAll(e)),u=l.next();!u.done;u=l.next()){var h=u.value;h.options.frequency!="Once"&&a.push(h),h.callback(e,n,s)}}catch(m){r={error:m}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}this.interceptors.postResolution.setAll(e,a)}},t.prototype.resolveRegistration=function(e,n){if(this.ensureNotDisposed(),e.options.lifecycle===er.ResolutionScoped&&n.scopedResolutions.has(e))return n.scopedResolutions.get(e);var s=e.options.lifecycle===er.Singleton,r=e.options.lifecycle===er.ContainerScoped,i=s||r,a;return B0(e.provider)?a=e.provider.useValue:L0(e.provider)?a=i?e.instance||(e.instance=this.resolve(e.provider.useToken,n)):this.resolve(e.provider.useToken,n):ZP(e.provider)?a=i?e.instance||(e.instance=this.construct(e.provider.useClass,n)):this.construct(e.provider.useClass,n):Dk(e.provider)?a=e.provider.useFactory(this):a=this.construct(e.provider,n),e.options.lifecycle===er.ResolutionScoped&&n.scopedResolutions.set(e,a),a},t.prototype.resolveAll=function(e,n,s){var r=this;n===void 0&&(n=new s0),s===void 0&&(s=!1),this.ensureNotDisposed();var i=this.getAllRegistrations(e);if(!i&&yu(e)){if(s)return[];throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"All"),i){var a=i.map(function(u){return r.resolveRegistration(u,n)});return this.executePostResolutionInterceptor(e,a,"All"),a}var l=[this.construct(e,n)];return this.executePostResolutionInterceptor(e,l,"All"),l},t.prototype.isRegistered=function(e,n){return n===void 0&&(n=!1),this.ensureNotDisposed(),this._registry.has(e)||n&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},t.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},t.prototype.clearInstances=function(){var e,n;this.ensureNotDisposed();try{for(var s=n0(this._registry.entries()),r=s.next();!r.done;r=s.next()){var i=rv(r.value,2),a=i[0],l=i[1];this._registry.setAll(a,l.filter(function(u){return!B0(u.provider)}).map(function(u){return u.instance=void 0,u}))}}catch(u){e={error:u}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.createChildContainer=function(){var e,n;this.ensureNotDisposed();var s=new t(this);try{for(var r=n0(this._registry.entries()),i=r.next();!i.done;i=r.next()){var a=rv(i.value,2),l=a[0],u=a[1];u.some(function(h){var m=h.options;return m.lifecycle===er.ContainerScoped})&&s._registry.setAll(l,u.map(function(h){return h.options.lifecycle===er.ContainerScoped?{provider:h.provider,options:h.options}:h}))}}catch(h){e={error:h}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return s},t.prototype.beforeResolution=function(e,n,s){s===void 0&&(s={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:n,options:s})},t.prototype.afterResolution=function(e,n,s){s===void 0&&(s={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:n,options:s})},t.prototype.dispose=function(){return cQ(this,void 0,void 0,function(){var e;return uQ(this,function(n){switch(n.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach(function(s){var r=s.dispose();r&&e.push(r)}),[4,Promise.all(e)];case 1:return n.sent(),[2]}})})},t.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},t.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},t.prototype.construct=function(e,n){var s=this;if(e instanceof JP)return e.createProxy(function(i){return s.resolve(i,n)});var r=(function(){var i=XP.get(e);if(!i||i.length===0){if(e.length===0)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var a=i.map(s.resolveParams(n,e));return new(e.bind.apply(e,Ml([void 0],a)))})();return _Q(r)&&this.disposables.add(r),r},t.prototype.resolveParams=function(e,n){var s=this;return function(r,i){var a,l,u;try{return fQ(r)?Q3(r)?r.multiple?(a=s.resolve(r.transform)).transform.apply(a,Ml([s.resolveAll(r.token,new s0,r.isOptional)],r.transformArgs)):(l=s.resolve(r.transform)).transform.apply(l,Ml([s.resolve(r.token,e,r.isOptional)],r.transformArgs)):r.multiple?s.resolveAll(r.token,new s0,r.isOptional):s.resolve(r.token,e,r.isOptional):Q3(r)?(u=s.resolve(r.transform,e)).transform.apply(u,Ml([s.resolve(r.token,e)],r.transformArgs)):s.resolve(r,e)}catch(h){throw new Error(bQ(n,i,h))}}},t.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},t})(),Us=new kQ;function Ob(t){return function(e){XP.set(e,dQ(e))}}if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);var Pk;class Mb{constructor(e={}){this.attrId="",this.attrValues=[],Object.assign(e)}}D([H({type:se.ObjectIdentifier})],Mb.prototype,"attrId",void 0);D([H({type:se.Any,repeated:"set"})],Mb.prototype,"attrValues",void 0);let ej=Pk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Pk.prototype)}};ej=Pk=D([Ae({type:xe.Sequence,itemType:Mb})],ej);var Lk;let tj=Lk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Lk.prototype)}};tj=Lk=D([Ae({type:xe.Sequence,itemType:Mh})],tj);class QP{constructor(e={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],QP.prototype,"certId",void 0);D([H({type:se.Any,context:0})],QP.prototype,"certValue",void 0);class eL{constructor(e={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],eL.prototype,"crlId",void 0);D([H({type:se.Any,context:0})],eL.prototype,"crltValue",void 0);class tL extends Ft{}let Ib=class{constructor(e={}){this.encryptionAlgorithm=new We,this.encryptedData=new tL,Object.assign(this,e)}};D([H({type:We})],Ib.prototype,"encryptionAlgorithm",void 0);D([H({type:tL})],Ib.prototype,"encryptedData",void 0);var Bk,$k;(function(t){t[t.v1=0]="v1"})($k||($k={}));class nL extends Ft{}let zk=Bk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Bk.prototype)}};zk=Bk=D([Ae({type:xe.Sequence,itemType:La})],zk);class dm{constructor(e={}){this.version=$k.v1,this.privateKeyAlgorithm=new We,this.privateKey=new nL,Object.assign(this,e)}}D([H({type:se.Integer})],dm.prototype,"version",void 0);D([H({type:We})],dm.prototype,"privateKeyAlgorithm",void 0);D([H({type:nL})],dm.prototype,"privateKey",void 0);D([H({type:zk,implicit:!0,context:0,optional:!0})],dm.prototype,"attributes",void 0);let nj=class extends dm{};nj=D([Ae({type:xe.Sequence})],nj);let sj=class extends Ib{};sj=D([Ae({type:xe.Sequence})],sj);class sL{constructor(e={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],sL.prototype,"secretTypeId",void 0);D([H({type:se.Any,context:0})],sL.prototype,"secretValue",void 0);class fm{constructor(e={}){this.mac=new Tb,this.macSalt=new Ft,this.iterations=1,Object.assign(this,e)}}D([H({type:Tb})],fm.prototype,"mac",void 0);D([H({type:Ft})],fm.prototype,"macSalt",void 0);D([H({type:se.Integer,defaultValue:1})],fm.prototype,"iterations",void 0);class Db{constructor(e={}){this.version=3,this.authSafe=new Mh,this.macData=new fm,Object.assign(this,e)}}D([H({type:se.Integer})],Db.prototype,"version",void 0);D([H({type:Mh})],Db.prototype,"authSafe",void 0);D([H({type:fm,optional:!0})],Db.prototype,"macData",void 0);var Fk;class Pb{constructor(e={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:se.ObjectIdentifier})],Pb.prototype,"bagId",void 0);D([H({type:se.Any,context:0})],Pb.prototype,"bagValue",void 0);D([H({type:Mb,repeated:"set",optional:!0})],Pb.prototype,"bagAttributes",void 0);let rj=Fk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Fk.prototype)}};rj=Fk=D([Ae({type:xe.Sequence,itemType:Pb})],rj);var Uk,Hk,Vk;const rL="1.2.840.113549.1.9",iL=`${rL}.7`,UN=`${rL}.14`;let iv=class extends xs{constructor(e={}){super(e)}toString(){return this.ia5String||super.toString()}};D([H({type:se.IA5String})],iv.prototype,"ia5String",void 0);iv=D([Ae({type:xe.Choice})],iv);let ij=class extends Mh{};ij=D([Ae({type:xe.Sequence})],ij);let aj=class extends Db{};aj=D([Ae({type:xe.Sequence})],aj);let oj=class extends Ib{};oj=D([Ae({type:xe.Sequence})],oj);let qk=class{constructor(e=""){this.value=e}toString(){return this.value}};D([H({type:se.IA5String})],qk.prototype,"value",void 0);qk=D([Ae({type:xe.Choice})],qk);let lj=class extends iv{};lj=D([Ae({type:xe.Choice})],lj);let cj=class extends xs{};cj=D([Ae({type:xe.Choice})],cj);let Kk=class{constructor(e=new Date){this.value=e}};D([H({type:se.GeneralizedTime})],Kk.prototype,"value",void 0);Kk=D([Ae({type:xe.Choice})],Kk);let uj=class extends xs{};uj=D([Ae({type:xe.Choice})],uj);let Wk=class{constructor(e="M"){this.value=e}toString(){return this.value}};D([H({type:se.PrintableString})],Wk.prototype,"value",void 0);Wk=D([Ae({type:xe.Choice})],Wk);let av=class{constructor(e=""){this.value=e}toString(){return this.value}};D([H({type:se.PrintableString})],av.prototype,"value",void 0);av=D([Ae({type:xe.Choice})],av);let hj=class extends av{};hj=D([Ae({type:xe.Choice})],hj);let dj=class extends xs{};dj=D([Ae({type:xe.Choice})],dj);let Gk=class{constructor(e=""){this.value=e}toString(){return this.value}};D([H({type:se.ObjectIdentifier})],Gk.prototype,"value",void 0);Gk=D([Ae({type:xe.Choice})],Gk);let fj=class extends ys{};fj=D([Ae({type:xe.Choice})],fj);let Yk=class{constructor(e=0){this.value=e}toString(){return this.value.toString()}};D([H({type:se.Integer})],Yk.prototype,"value",void 0);Yk=D([Ae({type:xe.Choice})],Yk);let pj=class extends na{};pj=D([Ae({type:xe.Sequence})],pj);let ov=class extends xs{};ov=D([Ae({type:xe.Choice})],ov);let mj=Uk=class extends oc{constructor(e){super(e),Object.setPrototypeOf(this,Uk.prototype)}};mj=Uk=D([Ae({type:xe.Sequence})],mj);let gj=Hk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Hk.prototype)}};gj=Hk=D([Ae({type:xe.Set,itemType:Oh})],gj);let Zk=class{constructor(e=""){this.value=e}toString(){return this.value}};D([H({type:se.BmpString})],Zk.prototype,"value",void 0);Zk=D([Ae({type:xe.Choice})],Zk);let Jk=class extends We{};Jk=D([Ae({type:xe.Sequence})],Jk);let yj=Vk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Vk.prototype)}};yj=Vk=D([Ae({type:xe.Sequence,itemType:Jk})],yj);var Xk;let lv=Xk=class extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Xk.prototype)}};lv=Xk=D([Ae({type:xe.Sequence,itemType:La})],lv);class Ph{constructor(e={}){this.version=0,this.subject=new Kn,this.subjectPKInfo=new $i,this.attributes=new lv,Object.assign(this,e)}}D([H({type:se.Integer})],Ph.prototype,"version",void 0);D([H({type:Kn})],Ph.prototype,"subject",void 0);D([H({type:$i})],Ph.prototype,"subjectPKInfo",void 0);D([H({type:lv,implicit:!0,context:0,optional:!0})],Ph.prototype,"attributes",void 0);class Ip{constructor(e={}){this.certificationRequestInfo=new Ph,this.signatureAlgorithm=new We,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}D([H({type:Ph,raw:!0})],Ip.prototype,"certificationRequestInfo",void 0);D([H({type:We})],Ip.prototype,"signatureAlgorithm",void 0);D([H({type:se.BitString})],Ip.prototype,"signature",void 0);const pm="crypto.algorithm";class CQ{getAlgorithms(){return Us.resolveAll(pm)}toAsnAlgorithm(e){({...e});for(const n of this.getAlgorithms()){const s=n.toAsnAlgorithm(e);if(s)return s}if(/^[0-9.]+$/.test(e.name)){const n=new We({algorithm:e.name});if("parameters"in e){const s=e;n.parameters=s.parameters}return n}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(e){for(const s of this.getAlgorithms()){const r=s.toWebAlgorithm(e);if(r)return r}return{name:e.algorithm,parameters:e.parameters}}}const ph="crypto.algorithmProvider";Us.registerSingleton(ph,CQ);var $0;const cr="1.3.36.3.3.2.8.1.1",vj=`${cr}.1`,bj=`${cr}.2`,_j=`${cr}.3`,xj=`${cr}.4`,Sj=`${cr}.5`,wj=`${cr}.6`,kj=`${cr}.7`,Cj=`${cr}.8`,Nj=`${cr}.9`,Ej=`${cr}.10`,Aj=`${cr}.11`,Rj=`${cr}.12`,Tj=`${cr}.13`,jj=`${cr}.14`,Oj="brainpoolP160r1",Mj="brainpoolP160t1",Ij="brainpoolP192r1",Dj="brainpoolP192t1",Pj="brainpoolP224r1",Lj="brainpoolP224t1",Bj="brainpoolP256r1",$j="brainpoolP256t1",zj="brainpoolP320r1",Fj="brainpoolP320t1",Uj="brainpoolP384r1",Hj="brainpoolP384t1",Vj="brainpoolP512r1",qj="brainpoolP512t1",gn="ECDSA";let Dp=$0=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case gn.toLowerCase():if("hash"in e)switch((typeof e.hash=="string"?e.hash:e.hash.name).toLowerCase()){case"sha-1":return YX;case"sha-256":return ZX;case"sha-384":return JX;case"sha-512":return XX}else if("namedCurve"in e){let n="";switch(e.namedCurve){case"P-256":n=Z3;break;case"K-256":n=$0.SECP256K1;break;case"P-384":n=J3;break;case"P-521":n=X3;break;case Oj:n=vj;break;case Mj:n=bj;break;case Ij:n=_j;break;case Dj:n=xj;break;case Pj:n=Sj;break;case Lj:n=wj;break;case Bj:n=kj;break;case $j:n=Cj;break;case zj:n=Nj;break;case Fj:n=Ej;break;case Uj:n=Aj;break;case Hj:n=Rj;break;case Vj:n=Tj;break;case qj:n=jj;break}if(n)return new We({algorithm:Op,parameters:$e.serialize(new Xo({namedCurve:n}))})}}return null}toWebAlgorithm(e){switch(e.algorithm){case DN:return{name:gn,hash:{name:"SHA-1"}};case PN:return{name:gn,hash:{name:"SHA-256"}};case LN:return{name:gn,hash:{name:"SHA-384"}};case BN:return{name:gn,hash:{name:"SHA-512"}};case Op:{if(!e.parameters)throw new TypeError("Cannot get required parameters from EC algorithm");switch($e.parse(e.parameters,Xo).namedCurve){case Z3:return{name:gn,namedCurve:"P-256"};case $0.SECP256K1:return{name:gn,namedCurve:"K-256"};case J3:return{name:gn,namedCurve:"P-384"};case X3:return{name:gn,namedCurve:"P-521"};case vj:return{name:gn,namedCurve:Oj};case bj:return{name:gn,namedCurve:Mj};case _j:return{name:gn,namedCurve:Ij};case xj:return{name:gn,namedCurve:Dj};case Sj:return{name:gn,namedCurve:Pj};case wj:return{name:gn,namedCurve:Lj};case kj:return{name:gn,namedCurve:Bj};case Cj:return{name:gn,namedCurve:$j};case Nj:return{name:gn,namedCurve:zj};case Ej:return{name:gn,namedCurve:Fj};case Aj:return{name:gn,namedCurve:Uj};case Rj:return{name:gn,namedCurve:Hj};case Tj:return{name:gn,namedCurve:Vj};case jj:return{name:gn,namedCurve:qj}}}}return null}};Dp.SECP256K1="1.3.132.0.10";Dp=$0=D([Ob()],Dp);Us.registerSingleton(pm,Dp);const aL=Symbol("name"),oL=Symbol("value");class Vt{constructor(e,n={},s=""){this[aL]=e,this[oL]=s;for(const r in n)this[r]=n[r]}}Vt.NAME=aL;Vt.VALUE=oL;class NQ{static toTextObject(e){const n=new Vt("Algorithm Identifier",{},nl.toString(e.algorithm));if(e.parameters)if(e.algorithm===Op){const s=new Dp().toWebAlgorithm(e);s&&"namedCurve"in s?n["Named Curve"]=s.namedCurve:n.Parameters=e.parameters}else n.Parameters=e.parameters;return n}}class nl{static toString(e){const n=this.items[e];return n||e}}nl.items={[ev]:"sha1",[WP]:"sha224",[tv]:"sha256",[nv]:"sha384",[sv]:"sha512",[cc]:"rsaEncryption",[Jy]:"sha1WithRSAEncryption",[rQ]:"sha224WithRSAEncryption",[Tk]:"sha256WithRSAEncryption",[Xy]:"sha384WithRSAEncryption",[Qy]:"sha512WithRSAEncryption",[Op]:"ecPublicKey",[DN]:"ecdsaWithSHA1",[VP]:"ecdsaWithSHA224",[PN]:"ecdsaWithSHA256",[LN]:"ecdsaWithSHA384",[BN]:"ecdsaWithSHA512",[UX]:"TLS WWW server authentication",[HX]:"TLS WWW client authentication",[VX]:"Code Signing",[qX]:"E-mail Protection",[KX]:"Time Stamping",[WX]:"OCSP Signing",[GX]:"Signed Data"};class dc{static serialize(e){return this.serializeObj(e).join(`
`)}static pad(e=0){return"".padStart(2*e," ")}static serializeObj(e,n=0){const s=[];let r=this.pad(n++),i="";const a=e[Vt.VALUE];a&&(i=` ${a}`),s.push(`${r}${e[Vt.NAME]}:${i}`),r=this.pad(n);for(const l in e){if(typeof l=="symbol")continue;const u=e[l],h=l?`${l}: `:"";if(typeof u=="string"||typeof u=="number"||typeof u=="boolean")s.push(`${r}${h}${u}`);else if(u instanceof Date)s.push(`${r}${h}${u.toUTCString()}`);else if(Array.isArray(u))for(const m of u)m[Vt.NAME]=l,s.push(...this.serializeObj(m,n));else if(u instanceof Vt)u[Vt.NAME]=l,s.push(...this.serializeObj(u,n));else if(Be.isBufferSource(u))l?(s.push(`${r}${h}`),s.push(...this.serializeBufferSource(u,n+1))):s.push(...this.serializeBufferSource(u,n));else if("toTextObject"in u){const m=u.toTextObject();m[Vt.NAME]=l,s.push(...this.serializeObj(m,n))}else throw new TypeError("Cannot serialize data in text format. Unsupported type.")}return s}static serializeBufferSource(e,n=0){const s=this.pad(n),r=Be.toUint8Array(e),i=[];for(let a=0;a<r.length;){const l=[];for(let u=0;u<16&&a<r.length;u++){u===8&&l.push("");const h=r[a++].toString(16).padStart(2,"0");l.push(h)}i.push(`${s}${l.join(" ")}`)}return i}static serializeAlgorithm(e){return this.algorithmSerializer.toTextObject(e)}}dc.oidSerializer=nl;dc.algorithmSerializer=NQ;var Au;class sl{get rawData(){return wt(this,Au,"f")||dn(this,Au,$e.serialize(this.asn),"f"),wt(this,Au,"f")}constructor(...e){Au.set(this,void 0),Be.isBufferSource(e[0])?(this.asn=$e.parse(e[0],e[1]),dn(this,Au,Be.toArrayBuffer(e[0]),"f"),this.onInit(this.asn)):(this.asn=e[0],this.onInit(this.asn))}equal(e){return e instanceof sl?R6(e.rawData,this.rawData):!1}toString(e="text"){switch(e){case"asn":return $e.toString(this.rawData);case"text":return dc.serialize(this.toTextObject());case"hex":return tt.ToHex(this.rawData);case"base64":return tt.ToBase64(this.rawData);case"base64url":return tt.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){return this.constructor.NAME}toTextObject(){const e=this.toTextObjectEmpty();return e[""]=this.rawData,e}toTextObjectEmpty(e){return new Vt(this.getTextName(),{},e)}}Au=new WeakMap;sl.NAME="ASN";class Dr extends sl{constructor(...e){let n;Be.isBufferSource(e[0])?n=Be.toArrayBuffer(e[0]):n=$e.serialize(new wi({extnID:e[0],critical:e[1],extnValue:new Ft(Be.toArrayBuffer(e[2]))})),super(n,wi)}onInit(e){this.type=e.extnID,this.critical=e.critical,this.value=e.extnValue.buffer}toTextObject(){const e=this.toTextObjectWithoutValue();return e[""]=this.value,e}toTextObjectWithoutValue(){const e=this.toTextObjectEmpty(this.critical?"critical":void 0);return e[Vt.NAME]===Dr.NAME&&(e[Vt.NAME]=nl.toString(this.type)),e}}var lL;class Io{static isCryptoKeyPair(e){return e&&e.privateKey&&e.publicKey}static isCryptoKey(e){return e&&e.usages&&e.type&&e.algorithm&&e.extractable!==void 0}constructor(){this.items=new Map,this[lL]="CryptoProvider",typeof self<"u"&&typeof crypto<"u"?this.set(Io.DEFAULT,crypto):typeof global<"u"&&global.crypto&&global.crypto.subtle&&this.set(Io.DEFAULT,global.crypto)}clear(){this.items.clear()}delete(e){return this.items.delete(e)}forEach(e,n){return this.items.forEach(e,n)}has(e){return this.items.has(e)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(e=Io.DEFAULT){const n=this.items.get(e.toLowerCase());if(!n)throw new Error(`Cannot get Crypto by name '${e}'`);return n}set(e,n){if(typeof e=="string"){if(!n)throw new TypeError("Argument 'value' is required");this.items.set(e.toLowerCase(),n)}else this.items.set(Io.DEFAULT,e);return this}}lL=Symbol.toStringTag;Io.DEFAULT="default";const Bs=new Io,EQ=/^[0-2](?:\.[1-9][0-9]*)+$/;function AQ(t){return new RegExp(EQ).test(t)}class cL{constructor(e={}){this.items={};for(const n in e)this.register(n,e[n])}get(e){return this.items[e]||null}findId(e){return AQ(e)?e:this.get(e)}register(e,n){this.items[e]=n,this.items[n]=e}}const or=new cL;or.register("CN","2.5.4.3");or.register("L","2.5.4.7");or.register("ST","2.5.4.8");or.register("O","2.5.4.10");or.register("OU","2.5.4.11");or.register("C","2.5.4.6");or.register("DC","0.9.2342.19200300.100.1.25");or.register("E","1.2.840.113549.1.9.1");or.register("G","2.5.4.42");or.register("I","2.5.4.43");or.register("SN","2.5.4.4");or.register("T","2.5.4.12");function RQ(t,e){return`\\${tt.ToHex(tt.FromUtf8String(e)).toUpperCase()}`}function TQ(t){return t.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,RQ)}class fc{static isASCII(e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)>255)return!1;return!0}static isPrintableString(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/g.test(e)}constructor(e,n={}){this.extraNames=new cL,this.asn=new Kn;for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)){const r=n[s];this.extraNames.register(s,r)}typeof e=="string"?this.asn=this.fromString(e):e instanceof Kn?this.asn=e:Be.isBufferSource(e)?this.asn=$e.parse(e,Kn):this.asn=this.fromJSON(e)}getField(e){const n=this.extraNames.findId(e)||or.findId(e),s=[];for(const r of this.asn)for(const i of r)i.type===n&&s.push(i.value.toString());return s}getName(e){return this.extraNames.get(e)||or.get(e)}toString(){return this.asn.map(e=>e.map(n=>{const s=this.getName(n.type)||n.type,r=n.value.anyValue?`#${tt.ToHex(n.value.anyValue)}`:TQ(n.value.toString());return`${s}=${r}`}).join("+")).join(", ")}toJSON(){var e;const n=[];for(const s of this.asn){const r={};for(const i of s){const a=this.getName(i.type)||i.type;(e=r[a])!==null&&e!==void 0||(r[a]=[]),r[a].push(i.value.anyValue?`#${tt.ToHex(i.value.anyValue)}`:i.value.toString())}n.push(r)}return n}fromString(e){const n=new Kn,s=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+"\\](?=[,+]|$))|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g;let r=null,i=",";for(;r=s.exec(`${e},`);){let[,a,l]=r;const u=l[l.length-1];(u===","||u==="+")&&(l=l.slice(0,l.length-1),r[3]=u);const h=r[3];a=this.getTypeOid(a);const m=this.createAttribute(a,l);i==="+"?n[n.length-1].push(m):n.push(new rh([m])),i=h}return n}fromJSON(e){const n=new Kn;for(const s of e){const r=new rh;for(const i in s){const a=this.getTypeOid(i),l=s[i];for(const u of l){const h=this.createAttribute(a,u);r.push(h)}}n.push(r)}return n}getTypeOid(e){if(/[\d.]+/.test(e)||(e=this.getName(e)||""),!e)throw new Error(`Cannot get OID for name type '${e}'`);return e}createAttribute(e,n){const s=new hb({type:e});if(typeof n=="object")for(const r in n)switch(r){case"ia5String":s.value.ia5String=n[r];break;case"utf8String":s.value.utf8String=n[r];break;case"universalString":s.value.universalString=n[r];break;case"bmpString":s.value.bmpString=n[r];break;case"printableString":s.value.printableString=n[r];break}else if(n[0]==="#")s.value.anyValue=tt.FromHex(n.slice(1));else{const r=this.processStringValue(n);e===this.getName("E")||e===this.getName("DC")?s.value.ia5String=r:fc.isPrintableString(r)?s.value.printableString=r:s.value.utf8String=r}return s}processStringValue(e){const n=/"(.*?[^\\])?"/.exec(e);return n&&(e=n[1]),e.replace(/\\0a/ig,`
`).replace(/\\0d/ig,"\r").replace(/\\0g/ig,"	").replace(/\\(.)/g,"$1")}toArrayBuffer(){return $e.serialize(this.asn)}async getThumbprint(...e){var n;let s,r="SHA-1";return e.length>=1&&!(!((n=e[0])===null||n===void 0)&&n.subtle)?(r=e[0]||r,s=e[1]||Bs.get()):s=e[0]||Bs.get(),await s.subtle.digest(r,this.toArrayBuffer())}}const uL="Cannot initialize GeneralName from ASN.1 data.",Kj=`${uL} Unsupported string format in use.`,jQ=`${uL} Value doesn't match to GUID regular expression.`,Wj=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i,Gj="1.3.6.1.4.1.311.25.1",Yj="1.3.6.1.4.1.311.20.2.3",sS="dns",rS="dn",iS="email",aS="ip",oS="url",lS="guid",cS="upn",r0="id";class Do extends sl{constructor(...e){let n;if(e.length===2)switch(e[0]){case rS:{const s=new fc(e[1]).toArrayBuffer(),r=$e.parse(s,Kn);n=new _t({directoryName:r});break}case sS:n=new _t({dNSName:e[1]});break;case iS:n=new _t({rfc822Name:e[1]});break;case lS:{const s=new RegExp(Wj,"i").exec(e[1]);if(!s)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");const r=s.slice(1).map((i,a)=>a<3?tt.ToHex(new Uint8Array(tt.FromHex(i)).reverse()):i).join("");n=new _t({otherName:new Ap({typeId:Gj,value:$e.serialize(new Ft(tt.FromHex(r)))})});break}case aS:n=new _t({iPAddress:e[1]});break;case r0:n=new _t({registeredID:e[1]});break;case cS:{n=new _t({otherName:new Ap({typeId:Yj,value:$e.serialize(NP.toASN(e[1]))})});break}case oS:n=new _t({uniformResourceIdentifier:e[1]});break;default:throw new Error("Cannot create GeneralName. Unsupported type of the name")}else Be.isBufferSource(e[0])?n=$e.parse(e[0],_t):n=e[0];super(n)}onInit(e){if(e.dNSName!=null)this.type=sS,this.value=e.dNSName;else if(e.rfc822Name!=null)this.type=iS,this.value=e.rfc822Name;else if(e.iPAddress!=null)this.type=aS,this.value=e.iPAddress;else if(e.uniformResourceIdentifier!=null)this.type=oS,this.value=e.uniformResourceIdentifier;else if(e.registeredID!=null)this.type=r0,this.value=e.registeredID;else if(e.directoryName!=null)this.type=rS,this.value=new fc(e.directoryName).toString();else if(e.otherName!=null)if(e.otherName.typeId===Gj){this.type=lS;const n=$e.parse(e.otherName.value,Ft),s=new RegExp(Wj,"i").exec(tt.ToHex(n));if(!s)throw new Error(jQ);this.value=s.slice(1).map((r,i)=>i<3?tt.ToHex(new Uint8Array(tt.FromHex(r)).reverse()):r).join("-")}else if(e.otherName.typeId===Yj)this.type=cS,this.value=$e.parse(e.otherName.value,xs).toString();else throw new Error(Kj);else throw new Error(Kj)}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let e;switch(this.type){case rS:case sS:case lS:case aS:case r0:case cS:case oS:e=this.type.toUpperCase();break;case iS:e="Email";break;default:throw new Error("Unsupported GeneralName type")}let n=this.value;return this.type===r0&&(n=nl.toString(n)),new Vt(e,void 0,n)}}class pc extends sl{constructor(e){let n;if(e instanceof Ts)n=e;else if(Array.isArray(e)){const s=[];for(const r of e)if(r instanceof _t)s.push(r);else{const i=$e.parse(new Do(r.type,r.value).rawData,_t);s.push(i)}n=new Ts(s)}else if(Be.isBufferSource(e))n=$e.parse(e,Ts);else throw new Error("Cannot initialize GeneralNames. Incorrect incoming arguments");super(n)}onInit(e){const n=[];for(const s of e){let r=null;try{r=new Do(s)}catch{continue}n.push(r)}this.items=n}toJSON(){return this.items.map(e=>e.toJSON())}toTextObject(){const e=super.toTextObjectEmpty();for(const n of this.items){const s=n.toTextObject();let r=e[s[Vt.NAME]];Array.isArray(r)||(r=[],e[s[Vt.NAME]]=r),r.push(s)}return e}}pc.NAME="GeneralNames";const np="-{5}",Pp="\\n",OQ=`[^${Pp}]+`,MQ=`${np}BEGIN (${OQ}(?=${np}))${np}`,IQ=`${np}END \\1${np}`,mh="\\n",DQ=`[^:${Pp}]+`,PQ=`(?:[^${Pp}]+${mh}(?: +[^${Pp}]+${mh})*)`,LQ="[a-zA-Z0-9=+/]+",BQ=`(?:${LQ}${mh})+`,Zj=`${MQ}${mh}(?:((?:${DQ}: ${PQ})+))?${mh}?(${BQ})${IQ}`;class Ar{static isPem(e){return typeof e=="string"&&new RegExp(Zj,"g").test(e.replace(/\r/g,""))}static decodeWithHeaders(e){e=e.replace(/\r/g,"");const n=new RegExp(Zj,"g"),s=[];let r=null;for(;r=n.exec(e);){const i=r[3].replace(new RegExp(`[${Pp}]+`,"g"),""),a={type:r[1],headers:[],rawData:tt.FromBase64(i)},l=r[2];if(l){const u=l.split(new RegExp(mh,"g"));let h=null;for(const m of u){const[f,g]=m.split(/:(.*)/);if(g===void 0){if(!h)throw new Error("Cannot parse PEM string. Incorrect header value");h.value+=f.trim()}else h&&a.headers.push(h),h={key:f,value:g.trim()}}h&&a.headers.push(h)}s.push(a)}return s}static decode(e){return this.decodeWithHeaders(e).map(s=>s.rawData)}static decodeFirst(e){const n=this.decode(e);if(!n.length)throw new RangeError("PEM string doesn't contain any objects");return n[0]}static encode(e,n){if(Array.isArray(e)){const s=new Array;return n?e.forEach(r=>{if(!Be.isBufferSource(r))throw new TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource");s.push(this.encodeStruct({type:n,rawData:Be.toArrayBuffer(r)}))}):e.forEach(r=>{if(!("type"in r))throw new TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut");s.push(this.encodeStruct(r))}),s.join(`
`)}else{if(!n)throw new Error("Required argument 'tag' is missed");return this.encodeStruct({type:n,rawData:Be.toArrayBuffer(e)})}}static encodeStruct(e){var n;const s=e.type.toLocaleUpperCase(),r=[];if(r.push(`-----BEGIN ${s}-----`),!((n=e.headers)===null||n===void 0)&&n.length){for(const h of e.headers)r.push(`${h.key}: ${h.value}`);r.push("")}const i=tt.ToBase64(e.rawData);let a,l=0;const u=Array();for(;l<i.length&&(i.length-l<64?a=i.substring(l):(a=i.substring(l,l+64),l+=64),a.length!==0);)if(u.push(a),a.length<64)break;return r.push(...u),r.push(`-----END ${s}-----`),r.join(`
`)}}Ar.CertificateTag="CERTIFICATE";Ar.CrlTag="CRL";Ar.CertificateRequestTag="CERTIFICATE REQUEST";Ar.PublicKeyTag="PUBLIC KEY";Ar.PrivateKeyTag="PRIVATE KEY";class za extends sl{static isAsnEncoded(e){return Be.isBufferSource(e)||typeof e=="string"}static toArrayBuffer(e){if(typeof e=="string"){if(Ar.isPem(e))return Ar.decode(e)[0];if(tt.isHex(e))return tt.FromHex(e);if(tt.isBase64(e))return tt.FromBase64(e);if(tt.isBase64Url(e))return tt.FromBase64Url(e);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}else{const n=Be.toUint8Array(e);if(n.length>0&&n[0]===48)return Be.toArrayBuffer(e);const s=tt.ToBinary(e);if(Ar.isPem(s))return Ar.decode(s)[0];if(tt.isHex(s))return tt.FromHex(s);if(tt.isBase64(s))return tt.FromBase64(s);if(tt.isBase64Url(s))return tt.FromBase64Url(s);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}}constructor(...e){za.isAsnEncoded(e[0])?super(za.toArrayBuffer(e[0]),e[1]):super(e[0])}toString(e="pem"){return e==="pem"?Ar.encode(this.rawData,this.tag):super.toString(e)}}class Hi extends za{static async create(e,n=Bs.get()){if(e instanceof Hi)return e;if(Io.isCryptoKey(e)){if(e.type!=="public")throw new TypeError("Public key is required");const s=await n.subtle.exportKey("spki",e);return new Hi(s)}else{if(e.publicKey)return e.publicKey;if(Be.isBufferSource(e))return new Hi(e);throw new TypeError("Unsupported PublicKeyType")}}constructor(e){za.isAsnEncoded(e)?super(e,$i):super(e),this.tag=Ar.PublicKeyTag}async export(...e){let n,s=["verify"],r={hash:"SHA-256",...this.algorithm};e.length>1?(r=e[0]||r,s=e[1]||s,n=e[2]||Bs.get()):n=e[0]||Bs.get();let i=this.rawData;const a=$e.parse(this.rawData,$i);return a.algorithm.algorithm===tp&&(i=$Q(a,i)),n.subtle.importKey("spki",i,r,!0,s)}onInit(e){const n=Us.resolve(ph),s=this.algorithm=n.toWebAlgorithm(e.algorithm);if(e.algorithm.algorithm===cc){const r=$e.parse(e.subjectPublicKey,$N),i=Be.toUint8Array(r.modulus);s.publicExponent=Be.toUint8Array(r.publicExponent),s.modulusLength=(i[0]?i:i.slice(1)).byteLength<<3}}async getThumbprint(...e){var n;let s,r="SHA-1";return e.length>=1&&!(!((n=e[0])===null||n===void 0)&&n.subtle)?(r=e[0]||r,s=e[1]||Bs.get()):s=e[0]||Bs.get(),await s.subtle.digest(r,this.rawData)}async getKeyIdentifier(...e){let n,s="SHA-1";e.length===1?typeof e[0]=="string"?(s=e[0],n=Bs.get()):n=e[0]:e.length===2?(s=e[0],n=e[1]):n=Bs.get();const r=$e.parse(this.rawData,$i);return await n.subtle.digest(s,r.subjectPublicKey)}toTextObject(){const e=this.toTextObjectEmpty(),n=$e.parse(this.rawData,$i);switch(e.Algorithm=dc.serializeAlgorithm(n.algorithm),n.algorithm.algorithm){case Op:e["EC Point"]=n.subjectPublicKey;break;case cc:default:e["Raw Data"]=n.subjectPublicKey}return e}}function $Q(t,e){return t.algorithm=new We({algorithm:cc,parameters:null}),e=$e.serialize(t),e}class Lp extends Dr{static async create(e,n=!1,s=Bs.get()){if("name"in e&&"serialNumber"in e)return new Lp(e,n);const i=await(await Hi.create(e,s)).getKeyIdentifier(s);return new Lp(tt.ToHex(i),n)}constructor(...e){if(Be.isBufferSource(e[0]))super(e[0]);else if(typeof e[0]=="string"){const n=new Pl({keyIdentifier:new _N(tt.FromHex(e[0]))});super(Gw,e[1],$e.serialize(n))}else{const n=e[0],s=n.name instanceof pc?$e.parse(n.name.rawData,Ts):n.name,r=new Pl({authorityCertIssuer:s,authorityCertSerialNumber:tt.FromHex(n.serialNumber)});super(Gw,e[1],$e.serialize(r))}}onInit(e){super.onInit(e);const n=$e.parse(e.extnValue,Pl);n.keyIdentifier&&(this.keyId=tt.ToHex(n.keyIdentifier)),(n.authorityCertIssuer||n.authorityCertSerialNumber)&&(this.certId={name:n.authorityCertIssuer||[],serialNumber:n.authorityCertSerialNumber?tt.ToHex(n.authorityCertSerialNumber):""})}toTextObject(){const e=this.toTextObjectWithoutValue(),n=$e.parse(this.value,Pl);return n.authorityCertIssuer&&(e["Authority Issuer"]=new pc(n.authorityCertIssuer).toTextObject()),n.authorityCertSerialNumber&&(e["Authority Serial Number"]=n.authorityCertSerialNumber),n.keyIdentifier&&(e[""]=n.keyIdentifier),e}}Lp.NAME="Authority Key Identifier";class hL extends Dr{constructor(...e){if(Be.isBufferSource(e[0])){super(e[0]);const n=$e.parse(this.value,My);this.ca=n.cA,this.pathLength=n.pathLenConstraint}else{const n=new My({cA:e[0],pathLenConstraint:e[1]});super(AP,e[2],$e.serialize(n)),this.ca=e[0],this.pathLength=e[1]}}toTextObject(){const e=this.toTextObjectWithoutValue();return this.ca&&(e.CA=this.ca),this.pathLength!==void 0&&(e["Path Length"]=this.pathLength),e}}hL.NAME="Basic Constraints";var Jj;(function(t){t.serverAuth="1.3.6.1.5.5.7.3.1",t.clientAuth="1.3.6.1.5.5.7.3.2",t.codeSigning="1.3.6.1.5.5.7.3.3",t.emailProtection="1.3.6.1.5.5.7.3.4",t.timeStamping="1.3.6.1.5.5.7.3.8",t.ocspSigning="1.3.6.1.5.5.7.3.9"})(Jj||(Jj={}));class dL extends Dr{constructor(...e){if(Be.isBufferSource(e[0])){super(e[0]);const n=$e.parse(this.value,Ly);this.usages=n.map(s=>s)}else{const n=new Ly(e[0]);super(jP,e[1],$e.serialize(n)),this.usages=e[0]}}toTextObject(){const e=this.toTextObjectWithoutValue();return e[""]=this.usages.map(n=>nl.toString(n)).join(", "),e}}dL.NAME="Extended Key Usages";var Ea;(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(Ea||(Ea={}));class fL extends Dr{constructor(...e){if(Be.isBufferSource(e[0])){super(e[0]);const n=$e.parse(this.value,nS);this.usages=n.toNumber()}else{const n=new nS(e[0]);super(MP,e[1],$e.serialize(n)),this.usages=e[0]}}toTextObject(){const e=this.toTextObjectWithoutValue(),n=$e.parse(this.value,nS);return e[""]=n.toJSON().join(", "),e}}fL.NAME="Key Usages";class Lb extends Dr{static async create(e,n=!1,s=Bs.get()){const i=await(await Hi.create(e,s)).getKeyIdentifier(s);return new Lb(tt.ToHex(i),n)}constructor(...e){if(Be.isBufferSource(e[0])){super(e[0]);const n=$e.parse(this.value,qo);this.keyId=tt.ToHex(n)}else{const n=typeof e[0]=="string"?tt.FromHex(e[0]):e[0],s=new qo(n);super(LP,e[1],$e.serialize(s)),this.keyId=tt.ToHex(n)}}toTextObject(){const e=this.toTextObjectWithoutValue(),n=$e.parse(this.value,qo);return e[""]=n,e}}Lb.NAME="Subject Key Identifier";class pL extends Dr{constructor(...e){Be.isBufferSource(e[0])?super(e[0]):super(PP,e[1],new pc(e[0]||[]).rawData)}onInit(e){super.onInit(e);const n=$e.parse(e.extnValue,ck);this.names=new pc(n)}toTextObject(){const e=this.toTextObjectWithoutValue(),n=this.names.toTextObject();for(const s in n)e[s]=n[s];return e}}pL.NAME="Subject Alternative Name";class Pr{static register(e,n){this.items.set(e,n)}static create(e){const n=new Dr(e),s=this.items.get(n.type);return s?new s(e):n}}Pr.items=new Map;class mL extends Dr{constructor(...e){var n;if(Be.isBufferSource(e[0])){super(e[0]);const s=$e.parse(this.value,Dy);this.policies=s.map(r=>r.policyIdentifier)}else{const s=e[0],r=(n=e[1])!==null&&n!==void 0?n:!1,i=new Dy(s.map(a=>new fb({policyIdentifier:a})));super(RP,r,$e.serialize(i)),this.policies=s}}toTextObject(){const e=this.toTextObjectWithoutValue();return e.Policy=this.policies.map(n=>new Vt("",{},nl.toString(n))),e}}mL.NAME="Certificate Policies";Pr.register(RP,mL);class gL extends Dr{constructor(...e){var n;if(Be.isBufferSource(e[0]))super(e[0]);else if(Array.isArray(e[0])&&typeof e[0][0]=="string"){const r=e[0].map(a=>new Th({distributionPoint:new ac({fullName:[new _t({uniformResourceIdentifier:a})]})})),i=new Yu(r);super(Qw,e[1],$e.serialize(i))}else{const s=new Yu(e[0]);super(Qw,e[1],$e.serialize(s))}(n=this.distributionPoints)!==null&&n!==void 0||(this.distributionPoints=[])}onInit(e){super.onInit(e);const n=$e.parse(e.extnValue,Yu);this.distributionPoints=n}toTextObject(){const e=this.toTextObjectWithoutValue();return e["Distribution Point"]=this.distributionPoints.map(n=>{var s;const r={};return n.distributionPoint&&(r[""]=(s=n.distributionPoint.fullName)===null||s===void 0?void 0:s.map(i=>new Do(i).toString()).join(", ")),n.reasons&&(r.Reasons=n.reasons.toString()),n.cRLIssuer&&(r["CRL Issuer"]=n.cRLIssuer.map(i=>i.toString()).join(", ")),r}),e}}gL.NAME="CRL Distribution Points";class yL extends Dr{constructor(...e){var n,s,r,i;if(Be.isBufferSource(e[0]))super(e[0]);else if(e[0]instanceof Lu){const a=new Lu(e[0]);super(Ww,e[1],$e.serialize(a))}else{const a=e[0],l=new Lu;a0(l,a,D3,"ocsp"),a0(l,a,P3,"caIssuers"),a0(l,a,L3,"timeStamping"),a0(l,a,B3,"caRepository"),super(Ww,e[1],$e.serialize(l))}(n=this.ocsp)!==null&&n!==void 0||(this.ocsp=[]),(s=this.caIssuers)!==null&&s!==void 0||(this.caIssuers=[]),(r=this.timeStamping)!==null&&r!==void 0||(this.timeStamping=[]),(i=this.caRepository)!==null&&i!==void 0||(this.caRepository=[])}onInit(e){super.onInit(e),this.ocsp=[],this.caIssuers=[],this.timeStamping=[],this.caRepository=[],$e.parse(e.extnValue,Lu).forEach(s=>{switch(s.accessMethod){case D3:this.ocsp.push(new Do(s.accessLocation));break;case P3:this.caIssuers.push(new Do(s.accessLocation));break;case L3:this.timeStamping.push(new Do(s.accessLocation));break;case B3:this.caRepository.push(new Do(s.accessLocation));break}})}toTextObject(){const e=this.toTextObjectWithoutValue();return this.ocsp.length&&i0(e,"OCSP",this.ocsp),this.caIssuers.length&&i0(e,"CA Issuers",this.caIssuers),this.timeStamping.length&&i0(e,"Time Stamping",this.timeStamping),this.caRepository.length&&i0(e,"CA Repository",this.caRepository),e}}yL.NAME="Authority Info Access";function i0(t,e,n){if(n.length===1)t[e]=n[0].toTextObject();else{const s=new Vt("");n.forEach((r,i)=>{const a=r.toTextObject(),l=`${a[Vt.NAME]} ${i+1}`;let u=s[l];Array.isArray(u)||(u=[],s[l]=u),u.push(a)}),t[e]=s}}function a0(t,e,n,s){const r=e[s];r&&(Array.isArray(r)?r:[r]).forEach(a=>{typeof a=="string"&&(a=new Do("url",a)),t.push(new sm({accessMethod:n,accessLocation:$e.parse(a.rawData,_t)}))})}class vL extends Dr{constructor(...e){Be.isBufferSource(e[0])?super(e[0]):super(OP,e[1],new pc(e[0]||[]).rawData)}onInit(e){super.onInit(e);const n=$e.parse(e.extnValue,Ts);this.names=new pc(n)}toTextObject(){const e=this.toTextObjectWithoutValue(),n=this.names.toTextObject();for(const s in n)e[s]=n[s];return e}}vL.NAME="Issuer Alternative Name";class Lh extends sl{constructor(...e){let n;if(Be.isBufferSource(e[0]))n=Be.toArrayBuffer(e[0]);else{const s=e[0],r=Array.isArray(e[1])?e[1].map(i=>Be.toArrayBuffer(i)):[];n=$e.serialize(new La({type:s,values:r}))}super(n,La)}onInit(e){this.type=e.type,this.values=e.values}toTextObject(){const e=this.toTextObjectWithoutValue();return e.Value=this.values.map(n=>new Vt("",{"":n})),e}toTextObjectWithoutValue(){const e=this.toTextObjectEmpty();return e[Vt.NAME]===Lh.NAME&&(e[Vt.NAME]=nl.toString(this.type)),e}}Lh.NAME="Attribute";class bL extends Lh{constructor(...e){var n;if(Be.isBufferSource(e[0]))super(e[0]);else{const s=new ov({printableString:e[0]});super(iL,[$e.serialize(s)])}(n=this.password)!==null&&n!==void 0||(this.password="")}onInit(e){if(super.onInit(e),this.values[0]){const n=$e.parse(this.values[0],ov);this.password=n.toString()}}toTextObject(){const e=this.toTextObjectWithoutValue();return e[Vt.VALUE]=this.password,e}}bL.NAME="Challenge Password";class HN extends Lh{constructor(...e){var n;if(Be.isBufferSource(e[0]))super(e[0]);else{const s=e[0],r=new oc;for(const i of s)r.push($e.parse(i.rawData,wi));super(UN,[$e.serialize(r)])}(n=this.items)!==null&&n!==void 0||(this.items=[])}onInit(e){if(super.onInit(e),this.values[0]){const n=$e.parse(this.values[0],oc);this.items=n.map(s=>Pr.create($e.serialize(s)))}}toTextObject(){const e=this.toTextObjectWithoutValue(),n=this.items.map(s=>s.toTextObject());for(const s of n)e[s[Vt.NAME]]=s;return e}}HN.NAME="Extensions";class Bb{static register(e,n){this.items.set(e,n)}static create(e){const n=new Lh(e),s=this.items.get(n.type);return s?new s(e):n}}Bb.items=new Map;const $b="crypto.signatureFormatter";class zQ{toAsnSignature(e,n){return Be.toArrayBuffer(n)}toWebSignature(e,n){return Be.toArrayBuffer(n)}}var z0;let Qk=z0=class{static createPssParams(e,n){const s=z0.getHashAlgorithm(e);return s?new hc({hashAlgorithm:s,maskGenAlgorithm:new We({algorithm:Ab,parameters:$e.serialize(s)}),saltLength:n}):null}static getHashAlgorithm(e){const n=Us.resolve(ph);return typeof e=="string"?n.toAsnAlgorithm({name:e}):typeof e=="object"&&e&&"name"in e?n.toAsnAlgorithm(e):null}toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"rsassa-pkcs1-v1_5":if("hash"in e){let n;if(typeof e.hash=="string")n=e.hash;else if(e.hash&&typeof e.hash=="object"&&"name"in e.hash&&typeof e.hash.name=="string")n=e.hash.name.toUpperCase();else throw new Error("Cannot get hash algorithm name");switch(n.toLowerCase()){case"sha-1":return new We({algorithm:Jy,parameters:null});case"sha-256":return new We({algorithm:Tk,parameters:null});case"sha-384":return new We({algorithm:Xy,parameters:null});case"sha-512":return new We({algorithm:Qy,parameters:null})}}else return new We({algorithm:cc,parameters:null});break;case"rsa-pss":if("hash"in e){if(!("saltLength"in e&&typeof e.saltLength=="number"))throw new Error("Cannot get 'saltLength' from 'alg' argument");const n=z0.createPssParams(e.hash,e.saltLength);if(!n)throw new Error("Cannot create PSS parameters");return new We({algorithm:tp,parameters:$e.serialize(n)})}else return new We({algorithm:tp,parameters:null})}return null}toWebAlgorithm(e){switch(e.algorithm){case cc:return{name:"RSASSA-PKCS1-v1_5"};case Jy:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case Tk:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case Xy:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case Qy:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case tp:if(e.parameters){const n=$e.parse(e.parameters,hc);return{name:"RSA-PSS",hash:Us.resolve(ph).toWebAlgorithm(n.hashAlgorithm),saltLength:n.saltLength}}else return{name:"RSA-PSS"}}return null}};Qk=z0=D([Ob()],Qk);Us.registerSingleton(pm,Qk);let e2=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"sha-1":return new We({algorithm:ev});case"sha-256":return new We({algorithm:tv});case"sha-384":return new We({algorithm:nv});case"sha-512":return new We({algorithm:sv})}return null}toWebAlgorithm(e){switch(e.algorithm){case ev:return{name:"SHA-1"};case tv:return{name:"SHA-256"};case nv:return{name:"SHA-384"};case sv:return{name:"SHA-512"}}return null}};e2=D([Ob()],e2);Us.registerSingleton(pm,e2);class ti{addPadding(e,n){const s=Be.toUint8Array(n),r=new Uint8Array(e);return r.set(s,e-s.length),r.buffer}removePadding(e,n=!1){let s=Be.toUint8Array(e);for(let r=0;r<s.length;r++)if(s[r]){s=s.slice(r);break}if(n&&s[0]>127){const r=new Uint8Array(s.length+1);return r.set(s,1),r.buffer}return s.buffer}toAsnSignature(e,n){if(e.name==="ECDSA"){const s=e.namedCurve,r=ti.namedCurveSize.get(s)||ti.defaultNamedCurveSize,i=new Zy,a=Be.toUint8Array(n);return i.r=this.removePadding(a.slice(0,r),!0),i.s=this.removePadding(a.slice(r,r+r),!0),$e.serialize(i)}return null}toWebSignature(e,n){if(e.name==="ECDSA"){const s=$e.parse(n,Zy),r=e.namedCurve,i=ti.namedCurveSize.get(r)||ti.defaultNamedCurveSize,a=this.addPadding(i,this.removePadding(s.r)),l=this.addPadding(i,this.removePadding(s.s));return QJ(a,l)}return null}}ti.namedCurveSize=new Map;ti.defaultNamedCurveSize=32;const uS="1.3.101.110",Xj="1.3.101.111",hS="1.3.101.112",Qj="1.3.101.113";let t2=class{toAsnAlgorithm(e){let n=null;switch(e.name.toLowerCase()){case"ed25519":n=hS;break;case"x25519":n=uS;break;case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":n=hS;break;case"ed448":n=Qj;break}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":n=uS;break;case"x448":n=Xj;break}}return n?new We({algorithm:n}):null}toWebAlgorithm(e){switch(e.algorithm){case hS:return{name:"Ed25519"};case Qj:return{name:"EdDSA",namedCurve:"Ed448"};case uS:return{name:"X25519"};case Xj:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};t2=D([Ob()],t2);Us.registerSingleton(pm,t2);var hf,df,ff,pf,mf,gf,yf,Ru;class FQ extends za{get subjectName(){return wt(this,df,"f")||dn(this,df,new fc(this.asn.certificationRequestInfo.subject),"f"),wt(this,df,"f")}get subject(){return wt(this,ff,"f")||dn(this,ff,this.subjectName.toString(),"f"),wt(this,ff,"f")}get signatureAlgorithm(){if(!wt(this,pf,"f")){const e=Us.resolve(ph);dn(this,pf,e.toWebAlgorithm(this.asn.signatureAlgorithm),"f")}return wt(this,pf,"f")}get signature(){return wt(this,mf,"f")||dn(this,mf,this.asn.signature,"f"),wt(this,mf,"f")}get publicKey(){return wt(this,gf,"f")||dn(this,gf,new Hi(this.asn.certificationRequestInfo.subjectPKInfo),"f"),wt(this,gf,"f")}get attributes(){return wt(this,yf,"f")||dn(this,yf,this.asn.certificationRequestInfo.attributes.map(e=>Bb.create($e.serialize(e))),"f"),wt(this,yf,"f")}get extensions(){if(!wt(this,Ru,"f")){dn(this,Ru,[],"f");const e=this.getAttribute(UN);e instanceof HN&&dn(this,Ru,e.items,"f")}return wt(this,Ru,"f")}get tbs(){return wt(this,hf,"f")||dn(this,hf,this.asn.certificationRequestInfoRaw||$e.serialize(this.asn.certificationRequestInfo),"f"),wt(this,hf,"f")}constructor(e){const n=za.isAsnEncoded(e)?[e,Ip]:[e];super(n[0],n[1]),hf.set(this,void 0),df.set(this,void 0),ff.set(this,void 0),pf.set(this,void 0),mf.set(this,void 0),gf.set(this,void 0),yf.set(this,void 0),Ru.set(this,void 0),this.tag=Ar.CertificateRequestTag}onInit(e){}getAttribute(e){for(const n of this.attributes)if(n.type===e)return n;return null}getAttributes(e){return this.attributes.filter(n=>n.type===e)}getExtension(e){for(const n of this.extensions)if(n.type===e)return n;return null}getExtensions(e){return this.extensions.filter(n=>n.type===e)}async verify(e=Bs.get()){const n={...this.publicKey.algorithm,...this.signatureAlgorithm},s=await this.publicKey.export(n,["verify"],e),r=Us.resolveAll($b).reverse();let i=null;for(const l of r)if(i=l.toWebSignature(n,this.signature),i)break;if(!i)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await e.subtle.verify(this.signatureAlgorithm,s,i,this.tbs)}toTextObject(){const e=this.toTextObjectEmpty(),n=$e.parse(this.rawData,Ip),s=n.certificationRequestInfo,r=new Vt("",{Version:`${ih[s.version]} (${s.version})`,Subject:this.subject,"Subject Public Key Info":this.publicKey});if(this.attributes.length){const i=new Vt("");for(const a of this.attributes){const l=a.toTextObject();i[l[Vt.NAME]]=l}r.Attributes=i}return e.Data=r,e.Signature=new Vt("",{Algorithm:dc.serializeAlgorithm(n.signatureAlgorithm),"":n.signature}),e}}hf=new WeakMap,df=new WeakMap,ff=new WeakMap,pf=new WeakMap,mf=new WeakMap,gf=new WeakMap,yf=new WeakMap,Ru=new WeakMap;FQ.NAME="PKCS#10 Certificate Request";var vf,bf,_f,xf,Sf,wf,kf,Cf,Nf,Ef,Tu,Af;class _L extends za{get publicKey(){return wt(this,Af,"f")||dn(this,Af,new Hi(this.asn.tbsCertificate.subjectPublicKeyInfo),"f"),wt(this,Af,"f")}get serialNumber(){if(!wt(this,bf,"f")){const e=this.asn.tbsCertificate;let n=new Uint8Array(e.serialNumber);n.length>1&&n[0]===0&&n[1]>127&&(n=n.slice(1)),dn(this,bf,tt.ToHex(n),"f")}return wt(this,bf,"f")}get subjectName(){return wt(this,_f,"f")||dn(this,_f,new fc(this.asn.tbsCertificate.subject),"f"),wt(this,_f,"f")}get subject(){return wt(this,xf,"f")||dn(this,xf,this.subjectName.toString(),"f"),wt(this,xf,"f")}get issuerName(){return wt(this,Sf,"f")||dn(this,Sf,new fc(this.asn.tbsCertificate.issuer),"f"),wt(this,Sf,"f")}get issuer(){return wt(this,wf,"f")||dn(this,wf,this.issuerName.toString(),"f"),wt(this,wf,"f")}get notBefore(){if(!wt(this,kf,"f")){const e=this.asn.tbsCertificate.validity.notBefore.utcTime||this.asn.tbsCertificate.validity.notBefore.generalTime;if(!e)throw new Error("Cannot get 'notBefore' value");dn(this,kf,e,"f")}return wt(this,kf,"f")}get notAfter(){if(!wt(this,Cf,"f")){const e=this.asn.tbsCertificate.validity.notAfter.utcTime||this.asn.tbsCertificate.validity.notAfter.generalTime;if(!e)throw new Error("Cannot get 'notAfter' value");dn(this,Cf,e,"f")}return wt(this,Cf,"f")}get signatureAlgorithm(){if(!wt(this,Nf,"f")){const e=Us.resolve(ph);dn(this,Nf,e.toWebAlgorithm(this.asn.signatureAlgorithm),"f")}return wt(this,Nf,"f")}get signature(){return wt(this,Ef,"f")||dn(this,Ef,this.asn.signatureValue,"f"),wt(this,Ef,"f")}get extensions(){return wt(this,Tu,"f")||(dn(this,Tu,[],"f"),this.asn.tbsCertificate.extensions&&dn(this,Tu,this.asn.tbsCertificate.extensions.map(e=>Pr.create($e.serialize(e))),"f")),wt(this,Tu,"f")}get tbs(){return wt(this,vf,"f")||dn(this,vf,this.asn.tbsCertificateRaw||$e.serialize(this.asn.tbsCertificate),"f"),wt(this,vf,"f")}constructor(e){const n=za.isAsnEncoded(e)?[e,ah]:[e];super(n[0],n[1]),vf.set(this,void 0),bf.set(this,void 0),_f.set(this,void 0),xf.set(this,void 0),Sf.set(this,void 0),wf.set(this,void 0),kf.set(this,void 0),Cf.set(this,void 0),Nf.set(this,void 0),Ef.set(this,void 0),Tu.set(this,void 0),Af.set(this,void 0),this.tag=Ar.CertificateTag}onInit(e){}getExtension(e){for(const n of this.extensions)if(typeof e=="string"){if(n.type===e)return n}else if(n instanceof e)return n;return null}getExtensions(e){return this.extensions.filter(n=>typeof e=="string"?n.type===e:n instanceof e)}async verify(e={},n=Bs.get()){let s,r;const i=e.publicKey;try{if(!i)s={...this.publicKey.algorithm,...this.signatureAlgorithm},r=await this.publicKey.export(s,["verify"],n);else if("publicKey"in i)s={...i.publicKey.algorithm,...this.signatureAlgorithm},r=await i.publicKey.export(s,["verify"],n);else if(i instanceof Hi)s={...i.algorithm,...this.signatureAlgorithm},r=await i.export(s,["verify"],n);else if(Be.isBufferSource(i)){const h=new Hi(i);s={...h.algorithm,...this.signatureAlgorithm},r=await h.export(s,["verify"],n)}else s={...i.algorithm,...this.signatureAlgorithm},r=i}catch{return!1}const a=Us.resolveAll($b).reverse();let l=null;for(const h of a)if(l=h.toWebSignature(s,this.signature),l)break;if(!l)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");const u=await n.subtle.verify(this.signatureAlgorithm,r,l,this.tbs);if(e.signatureOnly)return u;{const m=(e.date||new Date).getTime();return u&&this.notBefore.getTime()<m&&m<this.notAfter.getTime()}}async getThumbprint(...e){let n,s="SHA-1";return e[0]&&(e[0].subtle?n=e[0]:(s=e[0]||s,n=e[1])),n??(n=Bs.get()),await n.subtle.digest(s,this.rawData)}async isSelfSigned(e=Bs.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:!0},e)}toTextObject(){const e=this.toTextObjectEmpty(),n=$e.parse(this.rawData,ah),s=n.tbsCertificate,r=new Vt("",{Version:`${ih[s.version]} (${s.version})`,"Serial Number":s.serialNumber,"Signature Algorithm":dc.serializeAlgorithm(s.signature),Issuer:this.issuer,Validity:new Vt("",{"Not Before":s.validity.notBefore.getTime(),"Not After":s.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(s.issuerUniqueID&&(r["Issuer Unique ID"]=s.issuerUniqueID),s.subjectUniqueID&&(r["Subject Unique ID"]=s.subjectUniqueID),this.extensions.length){const i=new Vt("");for(const a of this.extensions){const l=a.toTextObject();i[l[Vt.NAME]]=l}r.Extensions=i}return e.Data=r,e.Signature=new Vt("",{Algorithm:dc.serializeAlgorithm(n.signatureAlgorithm),"":n.signatureValue}),e}}vf=new WeakMap,bf=new WeakMap,_f=new WeakMap,xf=new WeakMap,Sf=new WeakMap,wf=new WeakMap,kf=new WeakMap,Cf=new WeakMap,Nf=new WeakMap,Ef=new WeakMap,Tu=new WeakMap,Af=new WeakMap;_L.NAME="Certificate";var eO;(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(eO||(eO={}));Pr.register(AP,hL);Pr.register(jP,dL);Pr.register(MP,fL);Pr.register(LP,Lb);Pr.register(Gw,Lp);Pr.register(PP,pL);Pr.register(Qw,gL);Pr.register(Ww,yL);Pr.register(OP,vL);Bb.register(iL,bL);Bb.register(UN,HN);Us.registerSingleton($b,zQ);Us.registerSingleton($b,ti);ti.namedCurveSize.set("P-256",32);ti.namedCurveSize.set("K-256",32);ti.namedCurveSize.set("P-384",48);ti.namedCurveSize.set("P-521",66);const UQ=["-----BEGIN CERTIFICATE-----","-----BEGIN X509 CERTIFICATE-----","-----BEGIN TRUSTED CERTIFICATE-----"],HQ=["-----BEGIN PRIVATE KEY-----","-----BEGIN RSA PRIVATE KEY-----","-----BEGIN EC PRIVATE KEY-----","-----BEGIN ENCRYPTED PRIVATE KEY-----"],VQ=["-----BEGIN PUBLIC KEY-----","-----BEGIN RSA PUBLIC KEY-----"],qQ=["-----BEGIN CERTIFICATE REQUEST-----","-----BEGIN NEW CERTIFICATE REQUEST-----"];function KQ(t){const e=t.trim();for(const n of UQ)if(e.startsWith(n))return{type:"certificate",content:e};for(const n of HQ)if(e.startsWith(n))return{type:"private-key",content:e};for(const n of VQ)if(e.startsWith(n))return{type:"public-key",content:e};for(const n of qQ)if(e.startsWith(n))return{type:"csr",content:e};return null}function WQ(t){try{const e=new _L(t),n=new Date,s={};for(const k of e.subject.split(", ")){const[C,E]=k.split("=");C&&E&&(s[C]=E)}const r={};for(const k of e.issuer.split(", ")){const[C,E]=k.split("=");C&&E&&(r[C]=E)}const i=e.notBefore,a=e.notAfter,l=n>a,u=n<i,h=Math.ceil((a.getTime()-n.getTime())/(1e3*60*60*24)),m=e.subject===e.issuer;let f="Unknown";try{const k=e.publicKey;f=k.algorithm.name||"Unknown","namedCurve"in k.algorithm&&(f+=` (${k.algorithm.namedCurve})`),"modulusLength"in k.algorithm&&(f+=` ${k.algorithm.modulusLength}-bit`)}catch{}const g=e.signatureAlgorithm.name||"Unknown";let y,b,_,w=!1;for(const k of e.extensions){if(k.type==="2.5.29.15")try{const C=k;y=[],C.usages&Ea.digitalSignature&&y.push("Digital Signature"),C.usages&Ea.keyEncipherment&&y.push("Key Encipherment"),C.usages&Ea.dataEncipherment&&y.push("Data Encipherment"),C.usages&Ea.keyAgreement&&y.push("Key Agreement"),C.usages&Ea.keyCertSign&&y.push("Certificate Signing"),C.usages&Ea.cRLSign&&y.push("CRL Signing"),C.usages&Ea.nonRepudiation&&y.push("Non-Repudiation")}catch{}if(k.type==="2.5.29.37")try{b=k.usages.map(E=>{const A=String(E);return{"1.3.6.1.5.5.7.3.1":"Server Authentication","1.3.6.1.5.5.7.3.2":"Client Authentication","1.3.6.1.5.5.7.3.3":"Code Signing","1.3.6.1.5.5.7.3.4":"Email Protection","1.3.6.1.5.5.7.3.8":"Time Stamping","1.3.6.1.5.5.7.3.9":"OCSP Signing"}[A]||A})}catch{}if(k.type==="2.5.29.17")try{_=k.names.items.map(E=>E.type==="dns"?`DNS:${E.value}`:E.type==="ip"?`IP:${E.value}`:E.type==="email"?`Email:${E.value}`:E.type==="url"?`URI:${E.value}`:String(E.value))}catch{}if(k.type==="2.5.29.19")try{w=k.ca}catch{}}return{subject:s,issuer:r,serialNumber:e.serialNumber,notBefore:i,notAfter:a,isExpired:l,isNotYetValid:u,daysUntilExpiry:h,keyAlgorithm:f,signatureAlgorithm:g,keyUsage:y,extKeyUsage:b,subjectAltNames:_,isSelfSigned:m,isCA:w}}catch(e){return console.error("Failed to parse certificate:",e),null}}function tO(t){return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"})}function dS(t){const e=["CN","O","OU","L","ST","C"],n=[];for(const s of e)t[s]&&n.push(`${s}=${t[s]}`);for(const[s,r]of Object.entries(t))e.includes(s)||n.push(`${s}=${r}`);return n.join(", ")}function n2(t){const e=Le.c(33),{name:n,pem:s}=t,[r,i]=z.useState(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>i(JQ),e[0]=a):a=e[0];const l=a,[u,h]=z.useState(!1);let m,f;if(e[1]!==u||e[2]!==r||e[3]!==n||e[4]!==s){f=Symbol.for("react.early_return_sentinel");e:{const g=WQ(s);let y;e[7]!==s?(y=async()=>{await navigator.clipboard.writeText(s),h(!0),setTimeout(()=>h(!1),2e3)},e[7]=s,e[8]=y):y=e[8];const b=y;if(!g){let K;e[9]===Symbol.for("react.memo_cache_sentinel")?(K=p.jsx(Ey,{size:14,className:"text-amber-500"}),e[9]=K):K=e[9];let $;e[10]!==n?($=p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[10]=n,e[11]=$):$=e[11];let W;e[12]===Symbol.for("react.memo_cache_sentinel")?(W=p.jsx("span",{className:"text-xs text-neutral-500",children:"Failed to parse certificate"}),e[12]=W):W=e[12];let Z;e[13]!==$?(Z=p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-3",children:p.jsxs("div",{className:"flex items-center gap-2",children:[K,$,W]})}),e[13]=$,e[14]=Z):Z=e[14],f=Z;break e}let _="text-emerald-500",w="bg-emerald-100 dark:bg-emerald-500/20",k="Valid";g.isExpired?(_="text-red-500",w="bg-red-100 dark:bg-red-500/20",k="Expired"):g.isNotYetValid?(_="text-amber-500",w="bg-amber-100 dark:bg-amber-500/20",k="Not Yet Valid"):g.daysUntilExpiry<=30&&(_="text-amber-500",w="bg-amber-100 dark:bg-amber-500/20",k=`Expires in ${g.daysUntilExpiry} days`);let C;e[15]===Symbol.for("react.memo_cache_sentinel")?(C=p.jsx(Ch,{size:14,className:"text-blue-500 dark:text-blue-400"}),e[15]=C):C=e[15];let E;e[16]!==n?(E=p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[16]=n,e[17]=E):E=e[17];const A=`text-xs px-1.5 py-0.5 rounded ${w} ${_}`;let R;e[18]!==k||e[19]!==A?(R=p.jsx("span",{className:A,children:k}),e[18]=k,e[19]=A,e[20]=R):R=e[20];let N;e[21]!==b?(N=K=>{K.stopPropagation(),b()},e[21]=b,e[22]=N):N=e[22];let M;e[23]!==u?(M=u?p.jsx(An,{size:14,className:"text-emerald-500"}):p.jsx(Ns,{size:14,className:"text-neutral-400"}),e[23]=u,e[24]=M):M=e[24];let I;e[25]!==M||e[26]!==N?(I=p.jsx("button",{onClick:N,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy certificate",children:M}),e[25]=M,e[26]=N,e[27]=I):I=e[27];let q;e[28]!==r?(q=r?p.jsx(vs,{size:14,className:"text-neutral-400"}):p.jsx(si,{size:14,className:"text-neutral-400"}),e[28]=r,e[29]=q):q=e[29];let B;e[30]!==I||e[31]!==q?(B=p.jsxs("div",{className:"flex items-center gap-1",children:[I,q]}),e[30]=I,e[31]=q,e[32]=B):B=e[32],m=p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[p.jsxs("button",{onClick:l,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[C,E,R,g.isCA&&p.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-purple-100 dark:bg-purple-500/20 text-purple-600 dark:text-purple-400",children:"CA"}),g.isSelfSigned&&p.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-600/50 text-neutral-600 dark:text-neutral-400",children:"Self-Signed"})]}),B]}),r&&p.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3 space-y-3",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Subject"}),p.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:g.subject.CN||dS(g.subject)}),g.subject.CN&&Object.keys(g.subject).length>1&&p.jsx("div",{className:"text-xs font-mono text-neutral-500 mt-0.5",children:dS(g.subject)})]}),!g.isSelfSigned&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Issuer"}),p.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:g.issuer.CN||dS(g.issuer)})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Not Before"}),p.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:tO(g.notBefore)})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Not After"}),p.jsxs("div",{className:`text-xs font-mono flex items-center gap-1 ${g.isExpired?"text-red-500":g.daysUntilExpiry<=30?"text-amber-500":"text-neutral-700 dark:text-neutral-300"}`,children:[g.isExpired?p.jsx(Ey,{size:12}):g.daysUntilExpiry<=30?p.jsx(Ua,{size:12}):p.jsx(qG,{size:12,className:"text-emerald-500"}),tO(g.notAfter)]})]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Serial Number"}),p.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300 break-all",children:g.serialNumber})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Key Algorithm"}),p.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:g.keyAlgorithm})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Signature Algorithm"}),p.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:g.signatureAlgorithm})]})]}),g.subjectAltNames&&g.subjectAltNames.length>0&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Subject Alternative Names"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:g.subjectAltNames.map(ZQ)})]}),g.keyUsage&&g.keyUsage.length>0&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Key Usage"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:g.keyUsage.map(YQ)})]}),g.extKeyUsage&&g.extKeyUsage.length>0&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Extended Key Usage"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:g.extKeyUsage.map(GQ)})]})]})]})}e[1]=u,e[2]=r,e[3]=n,e[4]=s,e[5]=m,e[6]=f}else m=e[5],f=e[6];return f!==Symbol.for("react.early_return_sentinel")?f:m}function GQ(t,e){return p.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-600/50 text-neutral-600 dark:text-neutral-400",children:t},e)}function YQ(t,e){return p.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-600/50 text-neutral-600 dark:text-neutral-400",children:t},e)}function ZQ(t,e){return p.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 font-mono",children:t},e)}function JQ(t){return!t}function XQ(t){const e=Le.c(30),{name:n,pem:s}=t,[r,i]=z.useState(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>i(QQ),e[0]=a):a=e[0];const l=a,[u,h]=z.useState(!1);let m;e[1]!==s?(m=async()=>{await navigator.clipboard.writeText(s),h(!0),setTimeout(()=>h(!1),2e3)},e[1]=s,e[2]=m):m=e[2];const f=m;let g;e[3]===Symbol.for("react.memo_cache_sentinel")?(g=p.jsx(Ch,{size:14,className:"text-red-500 dark:text-red-400"}),e[3]=g):g=e[3];let y;e[4]!==n?(y=p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[4]=n,e[5]=y):y=e[5];let b;e[6]===Symbol.for("react.memo_cache_sentinel")?(b=p.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400",children:"Private Key"}),e[6]=b):b=e[6];let _;e[7]!==y?(_=p.jsxs("div",{className:"flex items-center gap-2",children:[g,y,b]}),e[7]=y,e[8]=_):_=e[8];let w;e[9]!==f?(w=I=>{I.stopPropagation(),f()},e[9]=f,e[10]=w):w=e[10];let k;e[11]!==u?(k=u?p.jsx(An,{size:14,className:"text-emerald-500"}):p.jsx(Ns,{size:14,className:"text-neutral-400"}),e[11]=u,e[12]=k):k=e[12];let C;e[13]!==w||e[14]!==k?(C=p.jsx("button",{onClick:w,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy private key",children:k}),e[13]=w,e[14]=k,e[15]=C):C=e[15];let E;e[16]!==r?(E=r?p.jsx(vs,{size:14,className:"text-neutral-400"}):p.jsx(si,{size:14,className:"text-neutral-400"}),e[16]=r,e[17]=E):E=e[17];let A;e[18]!==E||e[19]!==C?(A=p.jsxs("div",{className:"flex items-center gap-1",children:[C,E]}),e[18]=E,e[19]=C,e[20]=A):A=e[20];let R;e[21]!==A||e[22]!==_?(R=p.jsxs("button",{onClick:l,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[_,A]}),e[21]=A,e[22]=_,e[23]=R):R=e[23];let N;e[24]!==r||e[25]!==s?(N=r&&p.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:p.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:s})}),e[24]=r,e[25]=s,e[26]=N):N=e[26];let M;return e[27]!==R||e[28]!==N?(M=p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[R,N]}),e[27]=R,e[28]=N,e[29]=M):M=e[29],M}function QQ(t){return!t}function xL(t){const e=Le.c(30),{name:n,pem:s}=t,[r,i]=z.useState(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>i(eee),e[0]=a):a=e[0];const l=a,[u,h]=z.useState(!1);let m;e[1]!==s?(m=async()=>{await navigator.clipboard.writeText(s),h(!0),setTimeout(()=>h(!1),2e3)},e[1]=s,e[2]=m):m=e[2];const f=m;let g;e[3]===Symbol.for("react.memo_cache_sentinel")?(g=p.jsx(Ch,{size:14,className:"text-amber-500 dark:text-amber-400"}),e[3]=g):g=e[3];let y;e[4]!==n?(y=p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[4]=n,e[5]=y):y=e[5];let b;e[6]===Symbol.for("react.memo_cache_sentinel")?(b=p.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-500/20 text-amber-600 dark:text-amber-400",children:"Certificate Request"}),e[6]=b):b=e[6];let _;e[7]!==y?(_=p.jsxs("div",{className:"flex items-center gap-2",children:[g,y,b]}),e[7]=y,e[8]=_):_=e[8];let w;e[9]!==f?(w=I=>{I.stopPropagation(),f()},e[9]=f,e[10]=w):w=e[10];let k;e[11]!==u?(k=u?p.jsx(An,{size:14,className:"text-emerald-500"}):p.jsx(Ns,{size:14,className:"text-neutral-400"}),e[11]=u,e[12]=k):k=e[12];let C;e[13]!==w||e[14]!==k?(C=p.jsx("button",{onClick:w,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy CSR",children:k}),e[13]=w,e[14]=k,e[15]=C):C=e[15];let E;e[16]!==r?(E=r?p.jsx(vs,{size:14,className:"text-neutral-400"}):p.jsx(si,{size:14,className:"text-neutral-400"}),e[16]=r,e[17]=E):E=e[17];let A;e[18]!==E||e[19]!==C?(A=p.jsxs("div",{className:"flex items-center gap-1",children:[C,E]}),e[18]=E,e[19]=C,e[20]=A):A=e[20];let R;e[21]!==A||e[22]!==_?(R=p.jsxs("button",{onClick:l,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[_,A]}),e[21]=A,e[22]=_,e[23]=R):R=e[23];let N;e[24]!==r||e[25]!==s?(N=r&&p.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:p.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:s})}),e[24]=r,e[25]=s,e[26]=N):N=e[26];let M;return e[27]!==R||e[28]!==N?(M=p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[R,N]}),e[27]=R,e[28]=N,e[29]=M):M=e[29],M}function eee(t){return!t}function tee(t){const e=Le.c(6),{name:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=p.jsx(Ch,{size:14,className:"text-blue-500 dark:text-blue-400"}),e[0]=s):s=e[0];let r;e[1]!==n?(r=p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[1]=n,e[2]=r):r=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=p.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400",children:"Public Key"}),e[3]=i):i=e[3];let a;return e[4]!==r?(a=p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-3",children:p.jsxs("div",{className:"flex items-center gap-2",children:[s,r,i]})}),e[4]=r,e[5]=a):a=e[5],a}function nee(t){const e=t?.find(f=>f.type==="Approved"),n=t?.find(f=>f.type==="Denied"),s=t?.find(f=>f.type==="Ready"),r=t?.find(f=>f.type==="InvalidRequest"),i=e?.status==="True",a=n?.status==="True",l=s?.status==="True",u=s?.status==="False"||r?.status==="True";let h,m;return l?(h=s?.reason,m=s?.message):u?(h=s?.reason||r?.reason,m=s?.message||r?.message):a?(h=n?.reason,m=n?.message):i&&(h=e?.reason,m=e?.message),{approved:i,denied:a,ready:l,failed:u,reason:h,message:m}}function see(t){return t.ready?{text:"Issued",level:"success"}:t.failed||t.denied?{text:t.denied?"Denied":"Failed",level:"error"}:t.approved?{text:"Approved",level:"warning"}:{text:"Pending",level:"warning"}}function ree(t){return t.ready?p.jsx(Ci,{size:14,className:"text-emerald-400"}):t.failed||t.denied?p.jsx(Fa,{size:14,className:"text-red-400"}):t.approved?p.jsx($n,{size:14,className:"text-amber-400 animate-spin"}):p.jsx(kh,{size:14,className:"text-amber-400"})}function iee(t){if(!t)return"Default (90d)";const e=t.match(/^(\d+)h/);if(e){const n=parseInt(e[1],10);return n>=8760?`${Math.round(n/8760)}y`:n>=720?`${Math.round(n/720)}mo`:n>=24?`${Math.round(n/24)}d`:`${n}h`}return t}function nO(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function fS(t){if(!t)return null;try{return atob(t)}catch{return null}}const aee={kinds:["CertificateRequest","CertificateRequests"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,i=r?.namespace;if(!n)return{sections:[]};const a=nee(s?.conditions),l=see(a),u=r?.annotations?.["cert-manager.io/certificate-name"],h=r?.annotations?.["cert-manager.io/certificate-revision"],m=[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:l.text,status:l.level,icon:ree(a)},...a.approved?[{label:"Approved",value:"Yes",status:"success",icon:p.jsx(Ci,{size:14,className:"text-emerald-400"})}]:[],...n.isCA?[{label:"Type",value:"CA Certificate",status:"neutral",icon:p.jsx(Cy,{size:14,className:"text-purple-400"})}]:[{label:"Type",value:"TLS Certificate",status:"neutral",icon:p.jsx(Cy,{size:14,className:"text-blue-400"})}],...h?[{label:"Revision",value:h,status:"neutral"}]:[]]}}];if(u&&m.push({id:"parent-certificate",title:"Parent Certificate",data:{type:"custom",render:()=>{const f=p.jsx("div",{className:`bg-blue-500/10 border border-blue-500/30 rounded-lg p-3 ${i?"hover:bg-blue-500/15 transition-colors cursor-pointer":""}`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Sc,{size:14,className:"text-blue-400"}),p.jsx("span",{className:"text-sm text-blue-300",children:u})]})});return i?p.jsx(Zi,{to:"/cluster/$context/$resourceType/$name",params:{context:t,resourceType:"certificates.cert-manager.io",name:u},search:g=>({...g,namespace:i}),children:f}):f}}}),m.push({id:"details",title:"Request Details",data:{type:"info-grid",columns:2,items:[{label:"Duration",value:iee(n.duration)},...r?.creationTimestamp?[{label:"Created",value:nO(r.creationTimestamp)}]:[],...n.username?[{label:"Requested By",value:n.username.split(":").pop()||n.username}]:[]]}}),m.push({id:"issuer",title:"Issuer",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Jp,{size:14,className:"text-purple-400"}),p.jsx("span",{className:"text-sm font-medium text-purple-300",children:n.issuerRef.kind??"Issuer"})]}),p.jsx("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:n.issuerRef.name}),n.issuerRef.group&&p.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:n.issuerRef.group})]})}}),(n.username||n.groups?.length)&&m.push({id:"requester",title:"Requester",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(b6,{size:14,className:"text-neutral-600 dark:text-neutral-400"}),p.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Identity"})]}),n.username&&p.jsxs("div",{className:"text-xs text-neutral-700 dark:text-neutral-400 mb-1",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"User:"})," ",p.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:n.username})]}),n.groups&&n.groups.length>0&&p.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:n.groups.map((f,g)=>p.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-400",children:f},g))})]})}}),n.usages?.length&&m.push({id:"usages",title:"Key Usages",data:{type:"custom",render:()=>p.jsx("div",{className:"flex flex-wrap gap-2",children:n.usages.map((f,g)=>p.jsx("span",{className:"text-xs px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300",children:f},g))})}}),s?.certificate){const f=fS(s.certificate),g=s.ca?fS(s.ca):null;m.push({id:"certificate-issued",title:"Certificate",data:{type:"custom",render:()=>p.jsxs("div",{className:"space-y-3",children:[f&&p.jsx(n2,{name:"Issued Certificate",pem:f}),g&&p.jsx(n2,{name:"CA Certificate",pem:g})]})}})}if(n.request){const f=fS(n.request);f&&m.push({id:"csr",title:"Certificate Signing Request",data:{type:"custom",render:()=>p.jsx(xL,{name:"Certificate Request",pem:f})}})}return s?.failureTime&&m.push({id:"failure",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[p.jsx(Ua,{size:14}),p.jsx("span",{className:"text-sm font-medium",children:"Failed"})]}),p.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:["Failure time: ",nO(s.failureTime)]}),a.message&&p.jsx("div",{className:"text-xs text-red-400/70 mt-1",children:a.message})]})}}),{sections:m}}};function SL(t){if(t)return t instanceof Date?t.toISOString():t}function sO(t){const e=SL(t);return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A"}function rO(t){const e=SL(t);if(!e)return"N/A";const n=new Date(e),r=new Date().getTime()-n.getTime(),i=Math.floor(r/1e3),a=Math.floor(i/60),l=Math.floor(a/60),u=Math.floor(l/24);return u>0?`${u}d ago`:l>0?`${l}h ago`:a>0?`${a}m ago`:i>0?`${i}s ago`:"just now"}const oee={kinds:["Event","Events"],adapt(t,e){const n=e.metadata,s=e.involvedObject,r=e.source,i=e.type==="Warning",a=e.count??1,l=e.firstTimestamp||e.eventTime||n?.creationTimestamp,u=e.lastTimestamp||e.eventTime,h=[{id:"status",data:{type:"status-cards",items:[{label:"Type",value:e.type||"Normal",status:i?"warning":"success",icon:i?p.jsx(Ey,{size:14,className:"text-amber-400"}):p.jsx(jY,{size:14,className:"text-emerald-400"})},{label:"Reason",value:e.reason||"Unknown",status:"neutral"},...a>1?[{label:"Count",value:a,status:"neutral",icon:p.jsx(Lw,{size:14,className:"text-blue-400"})}]:[]]}}];return e.message&&h.push({id:"message",title:"Message",data:{type:"custom",render:()=>p.jsx("div",{className:`p-3 rounded-lg border ${i?"bg-amber-500/10 border-amber-500/30":"bg-neutral-100 dark:bg-neutral-900/50 border-neutral-200 dark:border-neutral-700"}`,children:p.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 whitespace-pre-wrap",children:e.message})})}}),s&&s.name&&h.push({id:"involved-object",title:"Involved Object",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(wZ,{size:14,className:"text-blue-400"}),p.jsx("span",{className:"text-sm font-medium text-blue-300",children:s.kind||"Resource"})]}),p.jsxs("div",{className:"space-y-1 text-xs",children:[p.jsxs("div",{className:"text-neutral-300",children:[p.jsx("span",{className:"text-neutral-500",children:"Name: "}),p.jsx("span",{className:"text-cyan-400 font-mono",children:s.name})]}),s.namespace&&p.jsxs("div",{className:"text-neutral-300",children:[p.jsx("span",{className:"text-neutral-500",children:"Namespace: "}),p.jsx("span",{className:"text-purple-400",children:s.namespace})]}),s.fieldPath&&p.jsxs("div",{className:"text-neutral-300",children:[p.jsx("span",{className:"text-neutral-500",children:"Field: "}),p.jsx("span",{className:"text-neutral-400 font-mono",children:s.fieldPath})]}),s.apiVersion&&p.jsxs("div",{className:"text-neutral-300",children:[p.jsx("span",{className:"text-neutral-500",children:"API Version: "}),p.jsx("span",{className:"text-neutral-400",children:s.apiVersion})]})]})]})}}),h.push({id:"timestamps",title:"Timestamps",data:{type:"custom",render:()=>p.jsxs("div",{className:"space-y-2",children:[l&&p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx(h6,{size:14,className:"text-neutral-500"}),p.jsx("span",{className:"text-neutral-500",children:"First seen:"}),p.jsx("span",{className:"text-neutral-300",children:sO(l)}),p.jsxs("span",{className:"text-neutral-500",children:["(",rO(l),")"]})]}),u&&a>1&&p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx($n,{size:14,className:"text-neutral-500"}),p.jsx("span",{className:"text-neutral-500",children:"Last seen:"}),p.jsx("span",{className:"text-neutral-300",children:sO(u)}),p.jsxs("span",{className:"text-neutral-500",children:["(",rO(u),")"]})]})]})}}),r&&(r.component||r.host)&&h.push({id:"source",title:"Source",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Si,{size:14,className:"text-neutral-400"}),p.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Event Source"})]}),p.jsxs("div",{className:"space-y-1 text-xs",children:[r.component&&p.jsxs("div",{className:"text-neutral-700 dark:text-neutral-300",children:[p.jsx("span",{className:"text-neutral-500",children:"Component: "}),p.jsx("span",{className:"text-cyan-400",children:r.component})]}),r.host&&p.jsxs("div",{className:"text-neutral-700 dark:text-neutral-300",children:[p.jsx("span",{className:"text-neutral-500",children:"Host: "}),p.jsx("span",{className:"text-neutral-400 font-mono",children:r.host})]})]})]})}}),(e.reportingComponent||e.reportingInstance)&&h.push({id:"reporting",title:"Reporting",data:{type:"info-grid",columns:2,items:[...e.reportingComponent?[{label:"Component",value:e.reportingComponent}]:[],...e.reportingInstance?[{label:"Instance",value:e.reportingInstance}]:[],...e.action?[{label:"Action",value:e.action}]:[]]}}),e.related&&e.related.name&&e.related.name!==s?.name&&h.push({id:"related",title:"Related Object",data:{type:"info-grid",columns:2,items:[{label:"Kind",value:e.related.kind||"Unknown"},{label:"Name",value:e.related.name},...e.related.namespace?[{label:"Namespace",value:e.related.namespace}]:[]]}}),{sections:h}}};function lee(t){switch(t){case"LoadBalancer":return{label:"LoadBalancer",status:"success",icon:p.jsx(Tr,{size:14,className:"text-emerald-400"})};case"NodePort":return{label:"NodePort",status:"warning",icon:p.jsx(Si,{size:14,className:"text-amber-400"})};case"ExternalName":return{label:"ExternalName",status:"neutral",icon:p.jsx(GC,{size:14,className:"text-purple-400"})};default:return{label:t||"ClusterIP",status:"neutral",icon:p.jsx(Wn,{size:14,className:"text-blue-400"})}}}const cee={kinds:["Service","Services"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=lee(n.type),i=n.type==="LoadBalancer",a=s?.loadBalancer?.ingress,l=i&&a&&a.length>0,u=[{id:"status",data:{type:"status-cards",items:[{label:"Type",value:r.label,status:r.status,icon:r.icon},...n.clusterIP&&n.clusterIP!=="None"?[{label:"Cluster IP",value:n.clusterIP,status:"neutral",icon:p.jsx(Wn,{size:14,className:"text-blue-400"})}]:[],...n.clusterIP==="None"?[{label:"Cluster IP",value:"Headless",status:"neutral",icon:p.jsx(Wn,{size:14,className:"text-neutral-400"})}]:[],...n.externalName?[{label:"External Name",value:n.externalName,status:"neutral",icon:p.jsx(GC,{size:14,className:"text-purple-400"})}]:[]]}}];return n.ports&&n.ports.length>0&&u.push({id:"ports",title:"Ports",data:{type:"custom",render:()=>p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:p.jsxs("table",{className:"w-full text-xs",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[p.jsx("th",{className:"pb-2 text-left text-neutral-500 font-medium",children:"Name"}),p.jsx("th",{className:"pb-2 text-left text-neutral-500 font-medium",children:"Protocol"}),p.jsx("th",{className:"pb-2 text-right text-neutral-500 font-medium",children:"Port"}),p.jsx("th",{className:"pb-2 text-right text-neutral-500 font-medium",children:"Target"}),p.jsx("th",{className:"pb-2 text-right text-neutral-500 font-medium",children:"NodePort"})]})}),p.jsx("tbody",{children:n.ports.map((m,f)=>p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[p.jsx("td",{className:"py-2 text-neutral-900 dark:text-neutral-300",children:m.name||p.jsx("span",{className:"text-neutral-400 italic",children:"unnamed"})}),p.jsx("td",{className:"py-2",children:p.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-400",children:m.protocol||"TCP"})}),p.jsx("td",{className:"py-2 text-right font-mono text-neutral-700 dark:text-neutral-300",children:m.port}),p.jsx("td",{className:"py-2 text-right font-mono text-neutral-700 dark:text-neutral-300",children:m.targetPort||p.jsx("span",{className:"text-neutral-400",children:""})}),p.jsx("td",{className:"py-2 text-right font-mono text-amber-500 dark:text-amber-400",children:m.nodePort||p.jsx("span",{className:"text-neutral-400",children:""})})]},f))})]})})}}),i&&u.push({id:"loadbalancer",title:"Load Balancer",data:{type:"custom",render:()=>p.jsx("div",{className:`rounded-lg p-3 border ${l?"bg-emerald-500/10 border-emerald-500/30":"bg-amber-500/10 border-amber-500/30"}`,children:l?p.jsx("div",{className:"space-y-2",children:a.map((m,f)=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Tr,{size:14,className:"text-emerald-400"}),p.jsx("span",{className:"text-sm font-mono text-emerald-300",children:m.ip||m.hostname||"N/A"})]},f))}):p.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[p.jsx(Tr,{size:14}),p.jsx("span",{className:"text-sm",children:"Pending external IP assignment..."})]})})}}),n.externalIPs&&n.externalIPs.length>0&&u.push({id:"external-ips",title:"External IPs",data:{type:"custom",render:()=>p.jsx("div",{className:"flex flex-wrap gap-2",children:n.externalIPs.map((m,f)=>p.jsx("span",{className:"text-xs px-2 py-1 rounded bg-purple-500/20 text-purple-300 font-mono",children:m},f))})}}),n.selector&&Object.keys(n.selector).length>0&&u.push({id:"selector",data:{type:"labels",labels:n.selector,title:"Selector"}}),(n.externalTrafficPolicy||n.internalTrafficPolicy||n.sessionAffinity!=="None")&&u.push({id:"traffic",title:"Traffic Configuration",data:{type:"info-grid",columns:2,items:[...n.externalTrafficPolicy?[{label:"External Traffic",value:n.externalTrafficPolicy,color:n.externalTrafficPolicy==="Local"?"text-amber-400":void 0}]:[],...n.internalTrafficPolicy?[{label:"Internal Traffic",value:n.internalTrafficPolicy}]:[],...n.sessionAffinity&&n.sessionAffinity!=="None"?[{label:"Session Affinity",value:n.sessionAffinity,color:"text-purple-400"}]:[],...n.sessionAffinityConfig?.clientIP?.timeoutSeconds?[{label:"Affinity Timeout",value:`${n.sessionAffinityConfig.clientIP.timeoutSeconds}s`}]:[],...n.healthCheckNodePort?[{label:"Health Check Port",value:n.healthCheckNodePort}]:[]]}}),i&&(n.loadBalancerIP||n.loadBalancerSourceRanges?.length||n.loadBalancerClass)&&u.push({id:"lb-config",title:"Load Balancer Configuration",data:{type:"custom",render:()=>p.jsxs("div",{className:"space-y-2",children:[n.loadBalancerIP&&p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx("span",{className:"text-neutral-500",children:"Requested IP:"}),p.jsx("span",{className:"text-neutral-300 font-mono",children:n.loadBalancerIP})]}),n.loadBalancerClass&&p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx("span",{className:"text-neutral-500",children:"Class:"}),p.jsx("span",{className:"text-neutral-300",children:n.loadBalancerClass})]}),n.loadBalancerSourceRanges&&n.loadBalancerSourceRanges.length>0&&p.jsxs("div",{className:"text-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(Xp,{size:14,className:"text-neutral-500"}),p.jsx("span",{className:"text-neutral-500",children:"Source Ranges:"})]}),p.jsx("div",{className:"flex flex-wrap gap-1 ml-5",children:n.loadBalancerSourceRanges.map((m,f)=>p.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-amber-500/20 text-amber-300 font-mono",children:m},f))})]}),n.allocateLoadBalancerNodePorts===!1&&p.jsx("div",{className:"text-xs text-neutral-500",children:"NodePort allocation disabled"})]})}}),{sections:u}}};async function uee(t){try{const e=atob(t),n=atob(e),s=new Uint8Array(n.length);for(let g=0;g<n.length;g++)s[g]=n.charCodeAt(g);const r=new DecompressionStream("gzip"),i=r.writable.getWriter();i.write(s),i.close();const a=r.readable.getReader(),l=[];for(;;){const{done:g,value:y}=await a.read();if(g)break;l.push(y)}const u=l.reduce((g,y)=>g+y.length,0),h=new Uint8Array(u);let m=0;for(const g of l)h.set(g,m),m+=g.length;const f=new TextDecoder().decode(h);return JSON.parse(f)}catch(e){return console.error("Failed to decode Helm release:",e),null}}function hee(t){switch(t?.toLowerCase()){case"deployed":return"text-emerald-400";case"failed":return"text-red-400";case"pending-install":case"pending-upgrade":case"pending-rollback":return"text-yellow-400";case"uninstalling":case"superseded":return"text-neutral-400";default:return"text-neutral-300"}}function dee(t){const e=Le.c(55),{encoded:n}=t,[s,r]=z.useState(null),[i,a]=z.useState(null),[l,u]=z.useState(!0),[h,m]=z.useState(!1),[f,g]=z.useState(!1),[y,b]=z.useState(!1);let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_=()=>m(mee),e[0]=_):_=e[0];const w=_;let k;e[1]===Symbol.for("react.memo_cache_sentinel")?(k=()=>g(pee),e[1]=k):k=e[1];const C=k;let E;e[2]===Symbol.for("react.memo_cache_sentinel")?(E=()=>b(fee),e[2]=E):E=e[2];const A=E,[R,N]=z.useState(null);let M,I;e[3]!==n?(M=()=>{uee(n).then(qe=>{r(qe),u(!1)}).catch(()=>{a("Failed to decode Helm release data"),u(!1)})},I=[n],e[3]=n,e[4]=M,e[5]=I):(M=e[4],I=e[5]),z.useEffect(M,I);let q;e[6]===Symbol.for("react.memo_cache_sentinel")?(q=async(qe,lt)=>{await navigator.clipboard.writeText(lt),N(qe),setTimeout(()=>N(null),2e3)},e[6]=q):q=e[6];const B=q;if(l){let qe;return e[7]===Symbol.for("react.memo_cache_sentinel")?(qe=p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:p.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Decoding Helm release..."})}),e[7]=qe):qe=e[7],qe}if(i||!s){const qe=i||"Failed to decode release";let lt;return e[8]!==qe?(lt=p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:p.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:qe})}),e[8]=qe,e[9]=lt):lt=e[9],lt}const K=s.chart?.metadata,$=s.info;let W;e[10]!==K?(W=K?.description&&p.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:K.description}),e[10]=K,e[11]=W):W=e[11];let Z;e[12]===Symbol.for("react.memo_cache_sentinel")?(Z=p.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Release"}),e[12]=Z):Z=e[12];const G=s.name||"Unknown";let L;e[13]!==G?(L=p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[Z,p.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:G})]}),e[13]=G,e[14]=L):L=e[14];let Y;e[15]===Symbol.for("react.memo_cache_sentinel")?(Y=p.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Revision"}),e[15]=Y):Y=e[15];const X=s.version||1;let U;e[16]!==X?(U=p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[Y,p.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:X})]}),e[16]=X,e[17]=U):U=e[17];let O;e[18]===Symbol.for("react.memo_cache_sentinel")?(O=p.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Status"}),e[18]=O):O=e[18];const P=$?.status;let V;e[19]!==P?(V=hee(P),e[19]=P,e[20]=V):V=e[20];const T=`py-1.5 font-medium ${V}`,Q=$?.status||"Unknown";let te;e[21]!==T||e[22]!==Q?(te=p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[O,p.jsx("td",{className:T,children:Q})]}),e[21]=T,e[22]=Q,e[23]=te):te=e[23];let J;e[24]!==K?(J=K&&p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[p.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Chart"}),p.jsxs("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:[K.name,"-",K.version]})]}),e[24]=K,e[25]=J):J=e[25];let ue;e[26]!==K?(ue=K?.appVersion&&p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[p.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"App Version"}),p.jsx("td",{className:"py-1.5 text-cyan-600 dark:text-cyan-400",children:K.appVersion})]}),e[26]=K,e[27]=ue):ue=e[27];let we;e[28]!==$?(we=$?.last_deployed&&p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[p.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Last Deployed"}),p.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:new Date($.last_deployed).toLocaleString()})]}),e[28]=$,e[29]=we):we=e[29];let ke;e[30]!==L||e[31]!==U||e[32]!==te||e[33]!==J||e[34]!==ue||e[35]!==we?(ke=p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:p.jsx("table",{className:"w-full text-xs",children:p.jsxs("tbody",{children:[L,U,te,J,ue,we]})})}),e[30]=L,e[31]=U,e[32]=te,e[33]=J,e[34]=ue,e[35]=we,e[36]=ke):ke=e[36];let et;e[37]!==R||e[38]!==s.config||e[39]!==h?(et=s.config&&Object.keys(s.config).length>0&&p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[p.jsxs("button",{onClick:w,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Jp,{size:14,className:"text-amber-500 dark:text-amber-400"}),p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"User Values"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:qe=>{qe.stopPropagation(),B("values",JSON.stringify(s.config,null,2))},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy values",children:R==="values"?p.jsx(An,{size:14,className:"text-emerald-500"}):p.jsx(Ns,{size:14,className:"text-neutral-400"})}),h?p.jsx(vs,{size:14,className:"text-neutral-400"}):p.jsx(si,{size:14,className:"text-neutral-400"})]})]}),h&&p.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:p.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:JSON.stringify(s.config,null,2)})})]}),e[37]=R,e[38]=s.config,e[39]=h,e[40]=et):et=e[40];let ze;e[41]!==R||e[42]!==$||e[43]!==y?(ze=$?.notes&&p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[p.jsxs("button",{onClick:A,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ai,{size:14,className:"text-blue-500 dark:text-blue-400"}),p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"Release Notes"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:qe=>{qe.stopPropagation(),B("notes",$.notes||"")},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy notes",children:R==="notes"?p.jsx(An,{size:14,className:"text-emerald-500"}):p.jsx(Ns,{size:14,className:"text-neutral-400"})}),y?p.jsx(vs,{size:14,className:"text-neutral-400"}):p.jsx(si,{size:14,className:"text-neutral-400"})]})]}),y&&p.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:p.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:$.notes})})]}),e[41]=R,e[42]=$,e[43]=y,e[44]=ze):ze=e[44];let Ce;e[45]!==R||e[46]!==s.manifest||e[47]!==f?(Ce=s.manifest&&p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[p.jsxs("button",{onClick:C,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ai,{size:14,className:"text-purple-500 dark:text-purple-400"}),p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"Rendered Manifest"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:qe=>{qe.stopPropagation(),B("manifest",s.manifest||"")},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy manifest",children:R==="manifest"?p.jsx(An,{size:14,className:"text-emerald-500"}):p.jsx(Ns,{size:14,className:"text-neutral-400"})}),f?p.jsx(vs,{size:14,className:"text-neutral-400"}):p.jsx(si,{size:14,className:"text-neutral-400"})]})]}),f&&p.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:p.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-96 overflow-y-auto",children:s.manifest})})]}),e[45]=R,e[46]=s.manifest,e[47]=f,e[48]=Ce):Ce=e[48];let Oe;return e[49]!==ke||e[50]!==et||e[51]!==ze||e[52]!==Ce||e[53]!==W?(Oe=p.jsxs("div",{className:"space-y-4",children:[W,ke,et,ze,Ce]}),e[49]=ke,e[50]=et,e[51]=ze,e[52]=Ce,e[53]=W,e[54]=Oe):Oe=e[54],Oe}function fee(t){return!t}function pee(t){return!t}function mee(t){return!t}function gee(t){try{const e=atob(t);return JSON.parse(e)}catch{return null}}function yee(t){try{const e=atob(t),[n,...s]=e.split(":");return{username:n,password:s.join(":")}}catch{return null}}function vee(t){const e=Le.c(21),{encoded:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=new Set,e[0]=s):s=e[0];const[r,i]=z.useState(s),[a,l]=z.useState(null),[u,h]=z.useState(!1);let m,f,g,y,b;if(e[1]!==a||e[2]!==n||e[3]!==r){b=Symbol.for("react.early_return_sentinel");e:{const k=gee(n);f=k?JSON.stringify(k,null,2):null;let C;e[9]===Symbol.for("react.memo_cache_sentinel")?(C=async(R,N)=>{await navigator.clipboard.writeText(N),l(R),setTimeout(()=>l(null),2e3)},e[9]=C):C=e[9],m=C;const E=R=>{i(N=>{const M=new Set(N);return M.has(R)?M.delete(R):M.add(R),M})};if(!k||!k.auths){let R;e[10]===Symbol.for("react.memo_cache_sentinel")?(R=p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:p.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Failed to decode Docker config"})}),e[10]=R):R=e[10],b=R;break e}const A=Object.entries(k.auths);if(A.length===0){let R;e[11]===Symbol.for("react.memo_cache_sentinel")?(R=p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:p.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"No registries configured"})}),e[11]=R):R=e[11],b=R;break e}g="space-y-3",y=A.map(R=>{const[N,M]=R;let I=M.username,q=M.password;if(!I&&M.auth){const K=yee(M.auth);K&&(I=K.username,q=K.password)}const B=r.has(N);return p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(Si,{size:14,className:"text-blue-500 dark:text-blue-400"}),p.jsx("span",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-200 break-all",children:N})]}),p.jsx("table",{className:"w-full text-xs",children:p.jsxs("tbody",{children:[I&&p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[p.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap w-1",children:p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx(b6,{size:12}),"Username"]})}),p.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:I}),p.jsx("td",{className:"py-1.5",children:p.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[p.jsx("div",{className:"w-7"}),p.jsx("button",{onClick:()=>m(`${N}-username`,I),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy username",children:a===`${N}-username`?p.jsx(An,{size:12,className:"text-emerald-500"}):p.jsx(Ns,{size:12,className:"text-neutral-400"})})]})})]}),q&&p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[p.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap w-1",children:p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx(Jp,{size:12}),"Password"]})}),p.jsx("td",{className:"py-1.5 font-mono",children:B?p.jsx("span",{className:"text-neutral-900 dark:text-neutral-300 break-all",children:q}):p.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:""})}),p.jsx("td",{className:"py-1.5",children:p.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[p.jsx("button",{onClick:()=>E(N),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:B?"Hide password":"Reveal password",children:B?p.jsx(YC,{size:12,className:"text-neutral-400"}):p.jsx(ZC,{size:12,className:"text-neutral-400"})}),p.jsx("button",{onClick:()=>m(`${N}-password`,q),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy password",children:a===`${N}-password`?p.jsx(An,{size:12,className:"text-emerald-500"}):p.jsx(Ns,{size:12,className:"text-neutral-400"})})]})})]}),M.email&&p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[p.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap w-1",children:p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx(UY,{size:12}),"Email"]})}),p.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:M.email}),p.jsx("td",{className:"py-1.5",children:p.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[p.jsx("div",{className:"w-7"}),p.jsx("button",{onClick:()=>m(`${N}-email`,M.email),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy email",children:a===`${N}-email`?p.jsx(An,{size:12,className:"text-emerald-500"}):p.jsx(Ns,{size:12,className:"text-neutral-400"})})]})})]})]})})]},N)})}e[1]=a,e[2]=n,e[3]=r,e[4]=m,e[5]=f,e[6]=g,e[7]=y,e[8]=b}else m=e[4],f=e[5],g=e[6],y=e[7],b=e[8];if(b!==Symbol.for("react.early_return_sentinel"))return b;let _;e[12]!==a||e[13]!==m||e[14]!==f||e[15]!==u?(_=f&&p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[p.jsxs("button",{onClick:()=>h(!u),className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ai,{size:14,className:"text-purple-500 dark:text-purple-400"}),p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"Docker Config"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:k=>{k.stopPropagation(),m("raw",f)},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy JSON",children:a==="raw"?p.jsx(An,{size:14,className:"text-emerald-500"}):p.jsx(Ns,{size:14,className:"text-neutral-400"})}),u?p.jsx(vs,{size:14,className:"text-neutral-400"}):p.jsx(si,{size:14,className:"text-neutral-400"})]})]}),u&&p.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:p.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:f})})]}),e[12]=a,e[13]=m,e[14]=f,e[15]=u,e[16]=_):_=e[16];let w;return e[17]!==g||e[18]!==y||e[19]!==_?(w=p.jsxs("div",{className:g,children:[y,_]}),e[17]=g,e[18]=y,e[19]=_,e[20]=w):w=e[20],w}function bee(t){try{return atob(t)}catch{return null}}function _ee(t){let e=0;for(let n=0;n<Math.min(t.length,1e3);n++){const s=t.charCodeAt(n);(s===0||s<32&&s!==9&&s!==10&&s!==13)&&e++}return e>t.length*.1}function iO(t){return t.replace(/^[\r\n]+|[\r\n]+$/g,"").includes(`
`)}function xee(t){return!t.endsWith(".crt")&&!t.endsWith(".pem")&&t!=="ca.crt"&&t!=="tls.crt"&&t!=="namespace"}function See(t){const e=Le.c(12),{entries:n}=t,[s,r]=z.useState(null);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=new Set,e[0]=i):i=e[0];const[a,l]=z.useState(i);let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=async(b,_)=>{await navigator.clipboard.writeText(_),r(b),setTimeout(()=>r(null),2e3)},e[1]=u):u=e[1];const h=u;let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m=b=>{l(_=>{const w=new Set(_);return w.has(b)?w.delete(b):w.add(b),w})},e[2]=m):m=e[2];const f=m;let g;if(e[3]!==s||e[4]!==n||e[5]!==a){let b;e[7]!==s||e[8]!==a?(b=_=>{const{key:w,decoded:k,isSensitive:C}=_;return p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[p.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap",children:w}),p.jsx("td",{className:"py-1.5 font-mono break-all",children:C&&!a.has(w)?p.jsx("span",{className:"text-neutral-400",children:""}):p.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:k})}),p.jsx("td",{className:"py-1.5 w-1",children:p.jsxs("div",{className:"flex items-center gap-1",children:[C?p.jsx("button",{onClick:()=>f(w),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:a.has(w)?"Hide value":"Reveal value",children:a.has(w)?p.jsx(YC,{size:12,className:"text-neutral-400"}):p.jsx(ZC,{size:12,className:"text-neutral-400"})}):p.jsx("div",{className:"w-7"}),p.jsx("button",{onClick:()=>h(w,k),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy value",children:s===w?p.jsx(An,{size:12,className:"text-emerald-500"}):p.jsx(Ns,{size:12,className:"text-neutral-400"})})]})})]},w)},e[7]=s,e[8]=a,e[9]=b):b=e[9],g=n.map(b),e[3]=s,e[4]=n,e[5]=a,e[6]=g}else g=e[6];let y;return e[10]!==g?(y=p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:p.jsx("table",{className:"w-full text-xs",children:p.jsx("tbody",{children:g})})}),e[10]=g,e[11]=y):y=e[11],y}function wee(t){const e=Le.c(35),{name:n,decoded:s,isSensitive:r}=t,[i,a]=z.useState(!1),[l,u]=z.useState(!1),[h,m]=z.useState(!1);let f;e[0]!==s?(f=async()=>{await navigator.clipboard.writeText(s),m(!0),setTimeout(()=>m(!1),2e3)},e[0]=s,e[1]=f):f=e[1];const g=f;let y;e[2]!==i?(y=()=>a(!i),e[2]=i,e[3]=y):y=e[3];let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=p.jsx(Jp,{size:14,className:"text-amber-500 dark:text-amber-400"}),e[4]=b):b=e[4];let _;e[5]!==n?(_=p.jsxs("div",{className:"flex items-center gap-2",children:[b,p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n})]}),e[5]=n,e[6]=_):_=e[6];let w;e[7]!==g?(w=q=>{q.stopPropagation(),g()},e[7]=g,e[8]=w):w=e[8];let k;e[9]!==h?(k=h?p.jsx(An,{size:14,className:"text-emerald-500"}):p.jsx(Ns,{size:14,className:"text-neutral-400"}),e[9]=h,e[10]=k):k=e[10];let C;e[11]!==w||e[12]!==k?(C=p.jsx("button",{onClick:w,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy value",children:k}),e[11]=w,e[12]=k,e[13]=C):C=e[13];let E;e[14]!==r||e[15]!==l?(E=r&&p.jsx("button",{onClick:q=>{q.stopPropagation(),u(!l)},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:l?"Hide value":"Reveal value",children:l?p.jsx(YC,{size:14,className:"text-neutral-400"}):p.jsx(ZC,{size:14,className:"text-neutral-400"})}),e[14]=r,e[15]=l,e[16]=E):E=e[16];let A;e[17]!==i?(A=i?p.jsx(vs,{size:14,className:"text-neutral-400"}):p.jsx(si,{size:14,className:"text-neutral-400"}),e[17]=i,e[18]=A):A=e[18];let R;e[19]!==C||e[20]!==E||e[21]!==A?(R=p.jsxs("div",{className:"flex items-center gap-1",children:[C,E,A]}),e[19]=C,e[20]=E,e[21]=A,e[22]=R):R=e[22];let N;e[23]!==R||e[24]!==y||e[25]!==_?(N=p.jsxs("button",{onClick:y,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[_,R]}),e[23]=R,e[24]=y,e[25]=_,e[26]=N):N=e[26];let M;e[27]!==s||e[28]!==i||e[29]!==r||e[30]!==l?(M=i&&p.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:r&&!l?p.jsx("span",{className:"text-xs text-neutral-400 font-mono",children:""}):p.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:s})}),e[27]=s,e[28]=i,e[29]=r,e[30]=l,e[31]=M):M=e[31];let I;return e[32]!==N||e[33]!==M?(I=p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[N,M]}),e[32]=N,e[33]=M,e[34]=I):I=e[34],I}const kee={kinds:["Secret","Secrets"],adapt(t,e){const n=e.data||{},s=e.stringData||{},r=[...new Set([...Object.keys(n),...Object.keys(s)])];if(e.type==="helm.sh/release.v1"&&n.release)return{sections:[{id:"helm-release",data:{type:"custom",render:()=>p.jsx(dee,{encoded:n.release})}}]};if(e.type==="kubernetes.io/dockerconfigjson"&&n[".dockerconfigjson"])return{sections:[{id:"docker-config",data:{type:"custom",render:()=>p.jsx(vee,{encoded:n[".dockerconfigjson"]})}}]};const i=[];e.immutable&&i.push({id:"status",data:{type:"status-cards",items:[{label:"Immutable",value:"Yes",status:"warning",icon:p.jsx(Xp,{size:14,className:"text-amber-400"})}]}});const a=[],l=[],u=[],h=[],m=[],f=[],g=[];return r.forEach(y=>{const b=n[y]||btoa(s[y]||""),_=bee(b),w=xee(y);if(!_)u.push(y);else if(_ee(_))u.push(y);else{const k=KQ(_);if(k)switch(k.type){case"certificate":h.push({key:y,pem:k.content});break;case"private-key":m.push({key:y,pem:k.content});break;case"public-key":f.push(y);break;case"csr":g.push({key:y,pem:k.content});break;default:iO(_)?l.push({key:y,decoded:_,isSensitive:w}):a.push({key:y,decoded:_,isSensitive:w})}else iO(_)?l.push({key:y,decoded:_,isSensitive:w}):a.push({key:y,decoded:_,isSensitive:w})}}),h.length>0&&i.push({id:"certificates",title:"Certificates",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:h.map(({key:y,pem:b})=>p.jsx(n2,{name:y,pem:b},y))})}}),m.length>0&&i.push({id:"private-keys",title:"Private Keys",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:m.map(({key:y,pem:b})=>p.jsx(XQ,{name:y,pem:b},y))})}}),f.length>0&&i.push({id:"public-keys",title:"Public Keys",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:f.map(y=>p.jsx(tee,{name:y},y))})}}),g.length>0&&i.push({id:"csrs",title:"Certificate Requests",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:g.map(({key:y,pem:b})=>p.jsx(xL,{name:y,pem:b},y))})}}),a.length>0&&i.push({id:"data-simple",title:"Data",data:{type:"custom",render:()=>p.jsx(See,{entries:a})}}),l.length>0&&i.push({id:"data-multiline",title:a.length>0?"Files":"Data",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:l.map(({key:y,decoded:b,isSensitive:_})=>p.jsx(wee,{name:y,decoded:b,isSensitive:_},y))})}}),u.length>0&&i.push({id:"binary-data",title:"Binary Data",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:u.map(y=>p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-3",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ai,{size:14,className:"text-purple-500 dark:text-purple-400"}),p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:y}),p.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-purple-100 dark:bg-purple-500/20 text-purple-600 dark:text-purple-400",children:"Binary"})]})},y))})}}),{sections:i}}};function Cee(t){return t.includes(`
`)}function Nee(t){const e=Le.c(29),{name:n,value:s}=t,[r,i]=z.useState(!1),[a,l]=z.useState(!1);let u;e[0]!==s?(u=async()=>{await navigator.clipboard.writeText(s),l(!0),setTimeout(()=>l(!1),2e3)},e[0]=s,e[1]=u):u=e[1];const h=u;let m;e[2]!==r?(m=()=>i(!r),e[2]=r,e[3]=m):m=e[3];let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=p.jsx(ai,{size:14,className:"text-blue-500 dark:text-blue-400"}),e[4]=f):f=e[4];let g;e[5]!==n?(g=p.jsxs("div",{className:"flex items-center gap-2",children:[f,p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n})]}),e[5]=n,e[6]=g):g=e[6];let y;e[7]!==h?(y=R=>{R.stopPropagation(),h()},e[7]=h,e[8]=y):y=e[8];let b;e[9]!==a?(b=a?p.jsx(An,{size:14,className:"text-emerald-500"}):p.jsx(Ns,{size:14,className:"text-neutral-400"}),e[9]=a,e[10]=b):b=e[10];let _;e[11]!==y||e[12]!==b?(_=p.jsx("button",{onClick:y,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy value",children:b}),e[11]=y,e[12]=b,e[13]=_):_=e[13];let w;e[14]!==r?(w=r?p.jsx(vs,{size:14,className:"text-neutral-400"}):p.jsx(si,{size:14,className:"text-neutral-400"}),e[14]=r,e[15]=w):w=e[15];let k;e[16]!==_||e[17]!==w?(k=p.jsxs("div",{className:"flex items-center gap-1",children:[_,w]}),e[16]=_,e[17]=w,e[18]=k):k=e[18];let C;e[19]!==m||e[20]!==g||e[21]!==k?(C=p.jsxs("button",{onClick:m,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[g,k]}),e[19]=m,e[20]=g,e[21]=k,e[22]=C):C=e[22];let E;e[23]!==r||e[24]!==s?(E=r&&p.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:p.jsx("pre",{className:"text-xs text-neutral-700 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:s})}),e[23]=r,e[24]=s,e[25]=E):E=e[25];let A;return e[26]!==C||e[27]!==E?(A=p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[C,E]}),e[26]=C,e[27]=E,e[28]=A):A=e[28],A}function Eee(t){const e=Le.c(8),{entries:n}=t,[s,r]=z.useState(null);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=async(h,m)=>{await navigator.clipboard.writeText(m),r(h),setTimeout(()=>r(null),2e3)},e[0]=i):i=e[0];const a=i;let l;if(e[1]!==s||e[2]!==n){let h;e[4]!==s?(h=m=>{const[f,g]=m;return p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[p.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap",children:f}),p.jsx("td",{className:"py-1.5 font-mono break-all text-neutral-900 dark:text-neutral-300",children:g}),p.jsx("td",{className:"py-1.5 w-1",children:p.jsx("button",{onClick:()=>a(f,g),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy value",children:s===f?p.jsx(An,{size:12,className:"text-emerald-500"}):p.jsx(Ns,{size:12,className:"text-neutral-400"})})})]},f)},e[4]=s,e[5]=h):h=e[5],l=n.map(h),e[1]=s,e[2]=n,e[3]=l}else l=e[3];let u;return e[6]!==l?(u=p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:p.jsx("table",{className:"w-full text-xs",children:p.jsx("tbody",{children:l})})}),e[6]=l,e[7]=u):u=e[7],u}function Aee(t){const e=Le.c(16),{name:n,value:s}=t,[r,i]=z.useState(!1);let a;e[0]!==s?(a=async()=>{await navigator.clipboard.writeText(s),i(!0),setTimeout(()=>i(!1),2e3)},e[0]=s,e[1]=a):a=e[1];const l=a;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=p.jsx(ai,{size:14,className:"text-purple-500 dark:text-purple-400"}),e[2]=u):u=e[2];let h;e[3]!==n?(h=p.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[3]=n,e[4]=h):h=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=p.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-purple-100 dark:bg-purple-500/20 text-purple-600 dark:text-purple-400",children:"Binary"}),e[5]=m):m=e[5];let f;e[6]!==h?(f=p.jsxs("div",{className:"flex items-center gap-2",children:[u,h,m]}),e[6]=h,e[7]=f):f=e[7];let g;e[8]!==r?(g=r?p.jsx(An,{size:12,className:"text-emerald-500"}):p.jsx(Ns,{size:12,className:"text-neutral-400"}),e[8]=r,e[9]=g):g=e[9];let y;e[10]!==l||e[11]!==g?(y=p.jsx("button",{onClick:l,className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy base64 value",children:g}),e[10]=l,e[11]=g,e[12]=y):y=e[12];let b;return e[13]!==f||e[14]!==y?(b=p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[f,y]})}),e[13]=f,e[14]=y,e[15]=b):b=e[15],b}const Ree={kinds:["ConfigMap","ConfigMaps"],adapt(t,e){const n=e.data||{},s=e.binaryData||{},r=Object.keys(n),i=Object.keys(s),a=r.length+i.length,l=[{id:"status",data:{type:"status-cards",items:[...e.immutable?[{label:"Immutable",value:"Yes",status:"warning",icon:p.jsx(Xp,{size:14,className:"text-amber-400"})}]:[]]}}],u=[],h=[];return r.forEach(m=>{Cee(n[m])?h.push([m,n[m]]):u.push([m,n[m]])}),u.length>0&&l.push({id:"data-simple",title:"Data",data:{type:"custom",render:()=>p.jsx(Eee,{entries:u})}}),h.length>0&&l.push({id:"data-multiline",title:u.length>0?"Files":"Data",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:h.map(([m,f])=>p.jsx(Nee,{name:m,value:f},m))})}}),i.length>0&&l.push({id:"binary-data",title:"Binary Data",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:i.map(m=>p.jsx(Aee,{name:m,value:s[m]},m))})}}),a===0&&l.push({id:"empty",data:{type:"custom",render:()=>p.jsxs("div",{className:"text-center py-8 text-neutral-400 dark:text-neutral-500",children:[p.jsx(ai,{size:32,className:"mx-auto mb-2 opacity-50"}),p.jsx("p",{className:"text-sm",children:"This ConfigMap is empty"})]})}}),{sections:l}}},Tee={kinds:["Gateway","Gateways"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=s?.conditions?.find(h=>h.type==="Accepted"),i=s?.conditions?.find(h=>h.type==="Programmed"),a=r?.status==="True",l=i?.status==="True",u=s?.listeners?.reduce((h,m)=>h+(m.attachedRoutes||0),0)||0;return{sections:[{id:"status",title:"Gateway Status",data:{type:"status-cards",items:[{label:"Gateway Class",value:n.gatewayClassName,status:"neutral"},{label:"Accepted",value:a?"Yes":"No",status:a?"success":"error"},{label:"Programmed",value:l?"Yes":"No",status:l?"success":"error"},{label:"Attached Routes",value:u,status:"neutral"}]}},...s?.addresses&&s.addresses.length>0?[{id:"addresses",title:"Addresses",data:{type:"info-grid",items:s.addresses.map(h=>({label:h.type||"IPAddress",value:h.value,color:"text-blue-400"})),columns:2}}]:[],{id:"listeners",title:"Listeners",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:n.listeners.map(h=>p.jsx(jee,{listener:h,status:s},h.name))})}}]}}};function jee(t){const e=Le.c(32),{listener:n,status:s}=t,[r,i]=Rs.useState(!1);let a;e[0]!==n.name||e[1]!==s?.listeners?(a=s?.listeners?.find(A=>A.name===n.name),e[0]=n.name,e[1]=s?.listeners,e[2]=a):a=e[2];const u=a?.attachedRoutes??0;let h;e[3]!==r?(h=()=>i(!r),e[3]=r,e[4]=h):h=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=p.jsx(tZ,{size:14,className:"text-emerald-400"}),e[5]=m):m=e[5];let f;e[6]!==n.name?(f=p.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:n.name}),e[6]=n.name,e[7]=f):f=e[7];let g;e[8]!==n.protocol?(g=p.jsx("span",{className:"px-1.5 py-0.5 rounded text-xs bg-blue-500/20 text-blue-400",children:n.protocol}),e[8]=n.protocol,e[9]=g):g=e[9];let y;e[10]!==f||e[11]!==g?(y=p.jsxs("div",{className:"flex items-center gap-2",children:[f,g]}),e[10]=f,e[11]=g,e[12]=y):y=e[12];const b=u!==1?"s":"";let _;e[13]!==u||e[14]!==n.port||e[15]!==b?(_=p.jsxs("div",{className:"text-xs text-neutral-500",children:["Port ",n.port,"  ",u," route",b]}),e[13]=u,e[14]=n.port,e[15]=b,e[16]=_):_=e[16];let w;e[17]!==y||e[18]!==_?(w=p.jsxs("div",{className:"flex-1 min-w-0",children:[y,_]}),e[17]=y,e[18]=_,e[19]=w):w=e[19];let k;e[20]!==h||e[21]!==w?(k=p.jsxs("button",{onClick:h,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[m,w]}),e[20]=h,e[21]=w,e[22]=k):k=e[22];let C;e[23]!==u||e[24]!==r||e[25]!==n.hostname||e[26]!==n.port||e[27]!==n.protocol?(C=r&&p.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Protocol & Port"}),p.jsxs("div",{className:"text-xs space-y-1",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Protocol:"}),p.jsx("span",{className:"text-blue-400",children:n.protocol})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Port:"}),p.jsx("span",{className:"text-cyan-400",children:n.port})]})]})]}),n.hostname&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Hostname"}),p.jsx("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Tr,{size:10,className:"text-cyan-400"}),p.jsx("span",{className:"text-cyan-400",children:n.hostname})]})})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Attached Routes"}),p.jsxs("div",{className:"text-xs",children:[p.jsx("span",{className:"text-emerald-400 font-medium",children:u}),p.jsxs("span",{className:"text-neutral-500 ml-1",children:["route",u!==1?"s":""," attached"]})]})]})]}),e[23]=u,e[24]=r,e[25]=n.hostname,e[26]=n.port,e[27]=n.protocol,e[28]=C):C=e[28];let E;return e[29]!==k||e[30]!==C?(E=p.jsxs("div",{className:"border border-emerald-500/30 bg-emerald-500/5 rounded-lg overflow-hidden",children:[k,C]}),e[29]=k,e[30]=C,e[31]=E):E=e[31],E}const Oee={kinds:["HTTPRoute","HTTPRoutes"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata?.namespace;return n?{sections:[...n.parentRefs&&n.parentRefs.length>0?[{id:"parents",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:n.parentRefs.map((i,a)=>{const u=s?.parents?.find(g=>g.parentRef.name===i.name)?.conditions?.find(g=>g.type==="Accepted"),h=u?.status==="True",m=i.namespace||r,f=p.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[p.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[p.jsx(Sc,{size:10})," Parent Gateway"]}),p.jsxs("div",{className:"text-sm flex items-center gap-2",children:[p.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:i.name}),i.namespace&&p.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:["(",i.namespace,")"]}),p.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ml-auto ${h?"bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-amber-500/20 text-amber-700 dark:text-amber-400"}`,children:h?"Accepted":u?.reason||"Unknown"})]})]});return m?p.jsx(Zi,{to:"/cluster/$context/$resourceType/$name",params:{context:t,resourceType:"gateways.gateway.networking.k8s.io",name:i.name},search:g=>({...g,namespace:m}),className:"block hover:bg-blue-500/15 rounded-lg transition-colors cursor-pointer",children:f},a):p.jsx("div",{children:f},a)})})}}]:[],...n.hostnames&&n.hostnames.length>0?[{id:"hostnames",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700 rounded-lg p-3",children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-2",children:"Hostnames"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:n.hostnames.map((i,a)=>p.jsx("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded px-2.5 py-1 text-sm text-cyan-600 dark:text-cyan-400 font-mono",children:i},a))})]})}}]:[],...n.rules&&n.rules.length>0?[{id:"rules",title:"Routing Rules",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:n.rules.map((i,a)=>p.jsx(Mee,{rule:i,index:a},i.matches?.[0]?.path?.value||`rule-${a}`))})}}]:[]]}:{sections:[]}}};function Mee(t){const e=Le.c(22),{rule:n,index:s}=t,[r,i]=Rs.useState(!1),a=n.matches?.length||0,l=n.backendRefs?.length||0;let u;e[0]!==r?(u=()=>i(!r),e[0]=r,e[1]=u):u=e[1];let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=p.jsx(kp,{size:14,className:"text-purple-400"}),e[2]=h):h=e[2];const m=s+1;let f;e[3]!==m?(f=p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:["Rule ",m]})}),e[3]=m,e[4]=f):f=e[4];const g=a>0?`${a} match${a!==1?"es":""}`:"All requests",y=l!==1?"s":"";let b;e[5]!==l||e[6]!==g||e[7]!==y?(b=p.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:[g,"  ",l," backend",y]}),e[5]=l,e[6]=g,e[7]=y,e[8]=b):b=e[8];let _;e[9]!==f||e[10]!==b?(_=p.jsxs("div",{className:"flex-1 min-w-0",children:[f,b]}),e[9]=f,e[10]=b,e[11]=_):_=e[11];let w;e[12]!==u||e[13]!==_?(w=p.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[h,_]}),e[12]=u,e[13]=_,e[14]=w):w=e[14];let k;e[15]!==r||e[16]!==n.backendRefs||e[17]!==n.matches?(k=r&&p.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[n.matches&&n.matches.length>0&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Matches"}),p.jsx("div",{className:"space-y-2",children:n.matches.map(Dee)})]}),n.backendRefs&&n.backendRefs.length>0&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Backend Services"}),p.jsx("div",{className:"space-y-2",children:n.backendRefs.map(Iee)})]})]}),e[15]=r,e[16]=n.backendRefs,e[17]=n.matches,e[18]=k):k=e[18];let C;return e[19]!==k||e[20]!==w?(C=p.jsxs("div",{className:"border border-purple-500/30 bg-purple-500/5 rounded-lg overflow-hidden",children:[w,k]}),e[19]=k,e[20]=w,e[21]=C):C=e[21],C}function Iee(t,e){return p.jsx("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ny,{size:10,className:"text-emerald-600 dark:text-emerald-400"}),p.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:t.name}),t.port&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:":"}),p.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:t.port})]}),t.weight!==void 0&&p.jsxs("span",{className:"ml-auto px-1 py-0.5 rounded bg-amber-500/20 text-amber-400 text-[10px]",children:["weight: ",t.weight]})]})},e)}function Dee(t,e){return p.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:[t.path?.value&&p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(kp,{size:10,className:"text-cyan-600 dark:text-cyan-400"}),p.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Path:"}),p.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:t.path.value})]}),t.method&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-neutral-500 dark:text-neutral-400 ml-4",children:"Method:"}),p.jsx("span",{className:"px-1 py-0.5 rounded bg-blue-500/20 text-blue-400 text-[10px] font-mono",children:t.method})]})]},e)}const Pee={kinds:["GRPCRoute","GRPCRoutes"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata?.namespace;return n?{sections:[...n.parentRefs&&n.parentRefs.length>0?[{id:"parents",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:n.parentRefs.map((i,a)=>{const u=s?.parents?.find(g=>g.parentRef.name===i.name)?.conditions?.find(g=>g.type==="Accepted"),h=u?.status==="True",m=i.namespace||r,f=p.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[p.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[p.jsx(Sc,{size:10})," Parent Gateway"]}),p.jsxs("div",{className:"text-sm flex items-center gap-2",children:[p.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:i.name}),i.namespace&&p.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:["(",i.namespace,")"]}),p.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ml-auto ${h?"bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-amber-500/20 text-amber-700 dark:text-amber-400"}`,children:h?"Accepted":u?.reason||"Unknown"})]})]});return m?p.jsx(Zi,{to:"/cluster/$context/$resourceType/$name",params:{context:t,resourceType:"gateways.gateway.networking.k8s.io",name:i.name},search:g=>({...g,namespace:m}),className:"block hover:bg-blue-500/15 rounded-lg transition-colors cursor-pointer",children:f},a):p.jsx("div",{children:f},a)})})}}]:[],...n.hostnames&&n.hostnames.length>0?[{id:"hostnames",data:{type:"custom",render:()=>p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700 rounded-lg p-3",children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-2",children:"Hostnames"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:n.hostnames.map((i,a)=>p.jsx("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded px-2.5 py-1 text-sm text-cyan-600 dark:text-cyan-400 font-mono",children:i},a))})]})}}]:[],...n.rules&&n.rules.length>0?[{id:"rules",title:"Routing Rules",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:n.rules.map((i,a)=>p.jsx(Lee,{rule:i,index:a},i.matches?.[0]?.method?.service||`rule-${a}`))})}}]:[]]}:{sections:[]}}};function Lee(t){const e=Le.c(22),{rule:n,index:s}=t,[r,i]=Rs.useState(!1),a=n.matches?.length||0,l=n.backendRefs?.length||0;let u;e[0]!==r?(u=()=>i(!r),e[0]=r,e[1]=u):u=e[1];let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=p.jsx(Wn,{size:14,className:"text-indigo-400"}),e[2]=h):h=e[2];const m=s+1;let f;e[3]!==m?(f=p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:["Rule ",m]})}),e[3]=m,e[4]=f):f=e[4];const g=a>0?`${a} match${a!==1?"es":""}`:"All methods",y=l!==1?"s":"";let b;e[5]!==l||e[6]!==g||e[7]!==y?(b=p.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:[g,"  ",l," backend",y]}),e[5]=l,e[6]=g,e[7]=y,e[8]=b):b=e[8];let _;e[9]!==f||e[10]!==b?(_=p.jsxs("div",{className:"flex-1 min-w-0",children:[f,b]}),e[9]=f,e[10]=b,e[11]=_):_=e[11];let w;e[12]!==u||e[13]!==_?(w=p.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[h,_]}),e[12]=u,e[13]=_,e[14]=w):w=e[14];let k;e[15]!==r||e[16]!==n.backendRefs||e[17]!==n.matches?(k=r&&p.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[n.matches&&n.matches.length>0&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"gRPC Method Matches"}),p.jsx("div",{className:"space-y-2",children:n.matches.map($ee)})]}),n.backendRefs&&n.backendRefs.length>0&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Backend Services"}),p.jsx("div",{className:"space-y-2",children:n.backendRefs.map(Bee)})]})]}),e[15]=r,e[16]=n.backendRefs,e[17]=n.matches,e[18]=k):k=e[18];let C;return e[19]!==k||e[20]!==w?(C=p.jsxs("div",{className:"border border-indigo-500/30 bg-indigo-500/5 rounded-lg overflow-hidden",children:[w,k]}),e[19]=k,e[20]=w,e[21]=C):C=e[21],C}function Bee(t,e){return p.jsx("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ny,{size:10,className:"text-emerald-600 dark:text-emerald-400"}),p.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:t.name}),t.port&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:":"}),p.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:t.port})]}),t.weight!==void 0&&p.jsxs("span",{className:"ml-auto px-1 py-0.5 rounded bg-amber-500/20 text-amber-400 text-[10px]",children:["weight: ",t.weight]})]})},e)}function $ee(t,e){return p.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:[t.method?.service&&p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(Wn,{size:10,className:"text-purple-600 dark:text-purple-400"}),p.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Service:"}),p.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-mono",children:t.method.service})]}),t.method?.method&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-400 ml-4",children:"Method:"}),p.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:t.method.method})]})]},e)}const zee={kinds:["Ingress","Ingresses"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=s?.loadBalancer?.ingress&&s.loadBalancer.ingress.length>0;return{sections:[{id:"status",title:"Ingress Status",data:{type:"status-cards",items:[{label:"Ingress Class",value:n.ingressClassName||"default",status:"neutral"},{label:"Load Balancer",value:r?"Ready":"Pending",status:r?"success":"warning"}]}},...r?[{id:"load-balancer",title:"Load Balancer",data:{type:"info-grid",items:(s?.loadBalancer?.ingress||[]).map(i=>({label:i.hostname?"Hostname":"IP Address",value:i.hostname||i.ip||"Unknown",color:"text-blue-400"})),columns:2}}]:[],...n.tls&&n.tls.length>0?[{id:"tls",title:"TLS Configuration",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:n.tls.map((i,a)=>p.jsx(Hee,{tls:i,index:a},i.secretName||`tls-${a}`))})}}]:[],...n.rules&&n.rules.length>0?[{id:"rules",title:"Routing Rules",data:{type:"custom",render:()=>p.jsx("div",{className:"space-y-2",children:n.rules.map((i,a)=>p.jsx(Fee,{rule:i,index:a},i.host||`rule-${a}`))})}}]:[],...n.defaultBackend?.service?[{id:"default-backend",title:"Default Backend",data:{type:"info-grid",items:[{label:"Service",value:n.defaultBackend.service.name},{label:"Port",value:String(n.defaultBackend.service.port?.number||n.defaultBackend.service.port?.name||"unknown")}],columns:2}}]:[]]}}};function Fee(t){const e=Le.c(21),{rule:n,index:s}=t,[r,i]=Rs.useState(!1);let a;e[0]!==r?(a=()=>i(!r),e[0]=r,e[1]=a):a=e[1];let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=p.jsx(Wn,{size:14,className:"text-blue-400"}),e[2]=l):l=e[2];const u=n.host||`Rule ${s+1}`;let h;e[3]!==u?(h=p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:u})}),e[3]=u,e[4]=h):h=e[4];const m=n.http?.paths.length||0,f=n.http?.paths.length!==1?"s":"";let g;e[5]!==m||e[6]!==f?(g=p.jsxs("div",{className:"text-xs text-neutral-500",children:[m," path",f]}),e[5]=m,e[6]=f,e[7]=g):g=e[7];let y;e[8]!==h||e[9]!==g?(y=p.jsxs("div",{className:"flex-1 min-w-0",children:[h,g]}),e[8]=h,e[9]=g,e[10]=y):y=e[10];let b;e[11]!==a||e[12]!==y?(b=p.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[l,y]}),e[11]=a,e[12]=y,e[13]=b):b=e[13];let _;e[14]!==r||e[15]!==n.host||e[16]!==n.http?(_=r&&p.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[n.host&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Host"}),p.jsx("div",{className:"text-xs text-cyan-400",children:n.host})]}),n.http?.paths&&n.http.paths.length>0&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Paths"}),p.jsx("div",{className:"space-y-2",children:n.http.paths.map(Uee)})]})]}),e[14]=r,e[15]=n.host,e[16]=n.http,e[17]=_):_=e[17];let w;return e[18]!==_||e[19]!==b?(w=p.jsxs("div",{className:"border border-blue-500/30 bg-blue-500/5 rounded-lg overflow-hidden",children:[b,_]}),e[18]=_,e[19]=b,e[20]=w):w=e[20],w}function Uee(t,e){const n=t.backend.service?.port?.number||t.backend.service?.port?.name||"";return p.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(kp,{size:10,className:"text-purple-400"}),p.jsx("span",{className:"text-neutral-700 dark:text-neutral-300 font-mono",children:t.path||"/"}),p.jsx("span",{className:"px-1 py-0.5 rounded bg-purple-500/20 text-purple-400 text-[10px]",children:t.pathType})]}),p.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[p.jsx("span",{className:"text-neutral-600",children:""}),p.jsx("span",{className:"text-emerald-400",children:t.backend.service?.name||"unknown"}),p.jsx("span",{className:"text-neutral-600",children:":"}),p.jsx("span",{className:"text-blue-400",children:n})]})]},e)}function Hee(t){const e=Le.c(22),{tls:n,index:s}=t,[r,i]=Rs.useState(!1);let a;e[0]!==r?(a=()=>i(!r),e[0]=r,e[1]=a):a=e[1];let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=p.jsx(Zp,{size:14,className:"text-amber-400"}),e[2]=l):l=e[2];const u=n.secretName||`TLS ${s+1}`;let h;e[3]!==u?(h=p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:u})}),e[3]=u,e[4]=h):h=e[4];let m;e[5]!==n.hosts?(m=n.hosts?.join(", ")||"All hosts",e[5]=n.hosts,e[6]=m):m=e[6];let f;e[7]!==m?(f=p.jsx("div",{className:"text-xs text-neutral-500 truncate",children:m}),e[7]=m,e[8]=f):f=e[8];let g;e[9]!==h||e[10]!==f?(g=p.jsxs("div",{className:"flex-1 min-w-0",children:[h,f]}),e[9]=h,e[10]=f,e[11]=g):g=e[11];let y;e[12]!==a||e[13]!==g?(y=p.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[l,g]}),e[12]=a,e[13]=g,e[14]=y):y=e[14];let b;e[15]!==r||e[16]!==n.hosts||e[17]!==n.secretName?(b=r&&p.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Secret"}),p.jsx("div",{className:"text-xs text-purple-400",children:n.secretName||"default"})]}),n.hosts&&n.hosts.length>0&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Hosts"}),p.jsx("div",{className:"space-y-1",children:n.hosts.map(Vee)})]})]}),e[15]=r,e[16]=n.hosts,e[17]=n.secretName,e[18]=b):b=e[18];let _;return e[19]!==y||e[20]!==b?(_=p.jsxs("div",{className:"border border-amber-500/30 bg-amber-500/5 rounded-lg overflow-hidden",children:[y,b]}),e[19]=y,e[20]=b,e[21]=_):_=e[21],_}function Vee(t,e){return p.jsx("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Tr,{size:10,className:"text-cyan-400"}),p.jsx("span",{className:"text-cyan-400",children:t})]})},e)}const qee=[oJ,lJ,fJ,pJ,mJ,gJ,vJ,_J,xJ,kJ,IJ,zJ,WJ,aee,oee,cee,kee,Ree,Tee,Oee,Pee,zee],VN=new Map;qee.forEach(t=>{t.kinds.forEach(e=>{VN.set(e.toLowerCase(),t)})});function wL(t){return VN.get(t.toLowerCase())??null}function Kee(t){return VN.has(t.toLowerCase())}function Wee(t,e){const n=e.kind;if(!n)return null;const s=wL(n);return s?s.adapt(t,e):null}function kL(t){const e=t.kind;if(!e)return[];const n=wL(e);return n?.actions?n.actions.filter(s=>!s.isVisible||s.isVisible(t)):[]}function CL({context:t,actions:e,resource:n,onActionComplete:s}){const[r,i]=z.useState(null),[a,l]=z.useState(null),[u,h]=z.useState(null);if(e.length===0)return null;const m=async y=>{h(null),i(y.id);try{await y.execute(t,n),s?.()}catch(b){h(b instanceof Error?b.message:"Action failed")}finally{i(null),l(null)}},f=y=>{y.confirm?l(y):m(y)},g=(y="secondary")=>{switch(y){case"primary":return"bg-blue-600 hover:bg-blue-700 text-white border-blue-600";case"danger":return"bg-red-600 hover:bg-red-700 text-white border-red-600";case"warning":return"bg-amber-600 hover:bg-amber-700 text-white border-amber-600";default:return"bg-neutral-700 hover:bg-neutral-600 text-neutral-200 border-neutral-600"}};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.map(y=>{const b=y.isDisabled?.(n),_=b===!0||typeof b=="string",w=typeof b=="string"?b:void 0,k=r===y.id;return p.jsxs("button",{onClick:()=>f(y),disabled:_||k,title:w,className:`
                flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded border
                transition-colors duration-150
                ${g(y.variant)}
                ${_?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                ${k?"opacity-75":""}
              `,children:[k?p.jsx($n,{size:14,className:"animate-spin"}):y.icon,y.label]},y.id)})}),u&&p.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-xs",children:u}),a&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:p.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 rounded-lg p-4 max-w-md mx-4 shadow-xl",children:[p.jsx("h3",{className:"text-sm font-semibold text-neutral-200 mb-2",children:a.confirm?.title}),p.jsx("p",{className:"text-xs text-neutral-400 mb-4",children:a.confirm?.message}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>l(null),className:"px-3 py-1.5 text-xs font-medium rounded border border-neutral-600 bg-neutral-700 hover:bg-neutral-600 text-neutral-200",children:"Cancel"}),p.jsxs("button",{onClick:()=>m(a),disabled:r===a.id,className:`
                  flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded border
                  ${g(a.variant)}
                  ${r===a.id?"opacity-75":""}
                `,children:[r===a.id&&p.jsx($n,{size:14,className:"animate-spin"}),a.confirm?.confirmLabel||"Confirm"]})]})]})})]})}function Gee(t){const e=Le.c(6),{items:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={success:"text-emerald-400",warning:"text-amber-400",error:"text-red-400",neutral:"text-neutral-900 dark:text-neutral-100"},e[0]=s):s=e[0];const r=s;let i;if(e[1]!==n){let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=(u,h)=>p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-3",children:[p.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:u.label}),p.jsxs("div",{className:`text-sm font-medium flex items-center gap-2 ${r[u.status||"neutral"]}`,children:[u.icon,u.value]}),u.description&&p.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:u.description})]},h),e[3]=l):l=e[3],i=n.map(l),e[1]=n,e[2]=i}else i=e[2];let a;return e[4]!==i?(a=p.jsx("div",{className:"grid grid-cols-2 gap-3",children:i}),e[4]=i,e[5]=a):a=e[5],a}function Yee(t){const e=Le.c(12),{items:n,podGrid:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={emerald:"text-emerald-400",blue:"text-blue-400",cyan:"text-cyan-400",purple:"text-purple-400",amber:"text-amber-400"},e[0]=r):r=e[0];const i=r;let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a={emerald:"bg-emerald-500",blue:"bg-blue-500",cyan:"bg-cyan-500",purple:"bg-purple-500",amber:"bg-amber-500"},e[1]=a):a=e[1];const l=a;let u;if(e[2]!==n){let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=(y,b)=>{const _=y.total>0?Math.min(y.current/y.total*100,100):0;return p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:y.label}),p.jsxs("span",{className:i[y.color],children:[y.current,"/",y.total]})]}),p.jsx("div",{className:"h-1 bg-neutral-300 dark:bg-neutral-700 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full ${l[y.color]}`,style:{width:`${_}%`}})})]},b)},e[4]=g):g=e[4],u=n.map(g),e[2]=n,e[3]=u}else u=e[3];let h;e[5]!==u?(h=p.jsx("div",{className:"flex items-center gap-4 mb-3",children:u}),e[5]=u,e[6]=h):h=e[6];let m;e[7]!==s?(m=s&&p.jsx(Zee,{data:s}),e[7]=s,e[8]=m):m=e[8];let f;return e[9]!==h||e[10]!==m?(f=p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-3",children:[h,m]}),e[9]=h,e[10]=m,e[11]=f):f=e[11],f}function Zee(t){const e=Le.c(10),{data:n}=t,s=n.icon==="database"?xc:n.icon==="server"?Si:ki;let r;e[0]!==n.total?(r=Array.from({length:n.total}),e[0]=n.total,e[1]=r):r=e[1];let i;return e[2]!==s||e[3]!==n.available||e[4]!==n.current||e[5]!==n.podTitles||e[6]!==n.ready||e[7]!==n.showOrdinal||e[8]!==r?(i=p.jsx("div",{className:"flex flex-wrap gap-1",children:r.map((a,l)=>{const u=l<n.ready,h=n.available!==void 0?l<n.available:u,m=n.current!==void 0?l<n.current:h,f=n.podTitles?.[l]??`Pod ${l}`;return p.jsxs("div",{className:`${n.showOrdinal?"w-8 h-8":"w-6 h-6"} rounded flex flex-col items-center justify-center ${u?"bg-emerald-500/20 border border-emerald-500/50":h?"bg-cyan-500/20 border border-cyan-500/50":m?"bg-amber-500/20 border border-amber-500/50":"bg-neutral-300/50 dark:bg-neutral-700/50 border border-neutral-400 dark:border-neutral-600"}`,title:`${f}: ${u?"Ready":h?"Available":m?"Current":"Pending"}`,children:[p.jsx(s,{size:n.showOrdinal?10:12,className:u?"text-emerald-600 dark:text-emerald-400":h?"text-cyan-600 dark:text-cyan-400":m?"text-amber-600 dark:text-amber-400":"text-neutral-600 dark:text-neutral-500"}),n.showOrdinal&&p.jsx("span",{className:`text-[9px] ${u?"text-emerald-600 dark:text-emerald-400":h?"text-cyan-600 dark:text-cyan-400":m?"text-amber-600 dark:text-amber-400":"text-neutral-600 dark:text-neutral-500"}`,children:l})]},l)})}),e[2]=s,e[3]=n.available,e[4]=n.current,e[5]=n.podTitles,e[6]=n.ready,e[7]=n.showOrdinal,e[8]=r,e[9]=i):i=e[9],i}function Jee(t,e){if(t==="running")return{label:"Running",borderClass:"border-emerald-500/30 bg-emerald-500/5",badgeClass:"bg-emerald-500/20 text-emerald-400",iconClass:"text-emerald-400"};if(t==="waiting"){const n=e==="CrashLoopBackOff"||e==="Error";return{label:e||"Waiting",borderClass:n?"border-red-500/30 bg-red-500/5":"border-amber-500/30 bg-amber-500/5",badgeClass:n?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400",iconClass:n?"text-red-400":"text-amber-400"}}return t==="terminated"?{label:e||"Terminated",borderClass:"border-neutral-300 bg-neutral-100 dark:border-neutral-700 dark:bg-neutral-900/50",badgeClass:"bg-neutral-200 text-neutral-600 dark:bg-neutral-700 dark:text-neutral-400",iconClass:"text-neutral-500 dark:text-neutral-400"}:{label:"Unknown",borderClass:"border-neutral-300 bg-neutral-100 dark:border-neutral-700 dark:bg-neutral-900/50",badgeClass:"bg-neutral-200 text-neutral-600 dark:bg-neutral-700 dark:text-neutral-400",iconClass:"text-neutral-500 dark:text-neutral-400"}}const Xee=15e3;function Qee(t){const e=Le.c(10),{items:n,metricsLoader:s}=t,[r,i]=z.useState(null);let a,l;if(e[0]!==s?(a=()=>{if(!s)return;let m=!0;const f=async()=>{const y=await s();m&&i(y)};f();const g=setInterval(f,Xee);return()=>{m=!1,clearInterval(g)}},l=[s],e[0]=s,e[1]=a,e[2]=l):(a=e[1],l=e[2]),z.useEffect(a,l),n.length===0)return null;let u;if(e[3]!==n||e[4]!==r){let m;e[6]!==r?(m=f=>p.jsx(ete,{container:f,metrics:r?.get(f.name)},f.name),e[6]=r,e[7]=m):m=e[7],u=n.map(m),e[3]=n,e[4]=r,e[5]=u}else u=e[5];let h;return e[8]!==u?(h=p.jsx("div",{className:"space-y-2",children:u}),e[8]=u,e[9]=h):h=e[9],h}function ete(t){const e=Le.c(49),{container:n,metrics:s}=t,[r,i]=z.useState(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>i(ite),e[0]=a):a=e[0];const l=a;let u;e[1]!==n.state||e[2]!==n.stateReason?(u=Jee(n.state,n.stateReason),e[1]=n.state,e[2]=n.stateReason,e[3]=u):u=e[3];const h=u,m=`border rounded-lg overflow-hidden ${h.borderClass}`;let f;e[4]!==h.iconClass?(f=p.jsx(ki,{size:16,className:h.iconClass}),e[4]=h.iconClass,e[5]=f):f=e[5];let g;e[6]!==n.name?(g=p.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:n.name}),e[6]=n.name,e[7]=g):g=e[7];let y;e[8]!==n.state||e[9]!==h.badgeClass||e[10]!==h.label?(y=n.state&&p.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${h.badgeClass}`,children:h.label}),e[8]=n.state,e[9]=h.badgeClass,e[10]=h.label,e[11]=y):y=e[11];let b;e[12]!==g||e[13]!==y?(b=p.jsxs("div",{className:"flex items-center gap-2",children:[g,y]}),e[12]=g,e[13]=y,e[14]=b):b=e[14];let _;e[15]!==n.image?(_=p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 truncate",children:n.image}),e[15]=n.image,e[16]=_):_=e[16];let w;e[17]!==b||e[18]!==_?(w=p.jsxs("div",{className:"flex-1 min-w-0",children:[b,_]}),e[17]=b,e[18]=_,e[19]=w):w=e[19];let k;e[20]!==s?(k=s&&p.jsxs("div",{className:"flex items-center gap-3 text-xs font-mono",children:[p.jsx("span",{className:"text-blue-400",title:"CPU",children:s.cpu.usage}),p.jsx("span",{className:"text-purple-400",title:"Memory",children:s.memory.usage})]}),e[20]=s,e[21]=k):k=e[21];let C;e[22]!==n.restartCount?(C=(n.restartCount??0)>0&&p.jsxs("div",{className:"text-xs text-amber-400",children:[n.restartCount," restarts"]}),e[22]=n.restartCount,e[23]=C):C=e[23];let E;e[24]!==k||e[25]!==C||e[26]!==f||e[27]!==w?(E=p.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[f,w,k,C]}),e[24]=k,e[25]=C,e[26]=f,e[27]=w,e[28]=E):E=e[28];let A;e[29]!==n.args||e[30]!==n.command||e[31]!==n.currentTermination||e[32]!==n.env||e[33]!==n.envFrom||e[34]!==n.image||e[35]!==n.lastTermination||e[36]!==n.mounts||e[37]!==n.ports||e[38]!==n.resources||e[39]!==n.state||e[40]!==n.stateMessage||e[41]!==n.stateReason||e[42]!==r||e[43]!==s?(A=r&&p.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[n.currentTermination&&p.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded p-2",children:[p.jsx("div",{className:"text-xs text-red-400 font-medium mb-1",children:"Terminated"}),p.jsxs("div",{className:"text-xs space-y-1",children:[n.currentTermination.reason&&p.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Reason:"})," ",n.currentTermination.reason]}),n.currentTermination.exitCode!==void 0&&p.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Exit Code:"})," ",n.currentTermination.exitCode]}),n.currentTermination.signal!==void 0&&p.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Signal:"})," ",n.currentTermination.signal]}),n.currentTermination.finishedAt&&p.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Finished:"})," ",new Date(n.currentTermination.finishedAt).toLocaleString()]}),n.currentTermination.message&&p.jsxs("div",{className:"mt-2 p-2 bg-neutral-900/50 rounded",children:[p.jsx("div",{className:"text-neutral-600 dark:text-neutral-500 mb-1",children:"Message:"}),p.jsx("div",{className:"text-red-300 text-[11px] font-mono break-all whitespace-pre-wrap",children:n.currentTermination.message})]})]})]}),n.state==="waiting"&&n.stateMessage&&p.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded p-2",children:[p.jsxs("div",{className:"text-xs text-amber-400 font-medium mb-1",children:["Waiting: ",n.stateReason]}),p.jsx("div",{className:"text-amber-300 text-[11px] font-mono break-all whitespace-pre-wrap",children:n.stateMessage})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Image"}),p.jsx("div",{className:"text-xs text-cyan-600 dark:text-cyan-400 break-all",children:n.image})]}),(n.command||n.args)&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Command"}),p.jsx("code",{className:"text-xs text-neutral-900 dark:text-neutral-300 bg-neutral-200 dark:bg-neutral-800 px-2 py-1 rounded block",children:[...n.command||[],...n.args||[]].join(" ")})]}),n.lastTermination&&p.jsxs("div",{className:"bg-red-500/5 border border-red-500/20 rounded p-2",children:[p.jsx("div",{className:"text-xs text-red-400 font-medium mb-1",children:"Last Termination"}),p.jsxs("div",{className:"text-xs space-y-0.5",children:[n.lastTermination.reason&&p.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Reason:"})," ",n.lastTermination.reason]}),n.lastTermination.exitCode!==void 0&&p.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Exit Code:"})," ",n.lastTermination.exitCode]}),n.lastTermination.signal!==void 0&&p.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Signal:"})," ",n.lastTermination.signal]}),n.lastTermination.finishedAt&&p.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Finished:"})," ",new Date(n.lastTermination.finishedAt).toLocaleString()]})]})]}),n.ports&&n.ports.length>0&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Ports"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:n.ports.map(rte)})]}),!s&&n.resources&&p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.resources.requests&&p.jsxs("div",{children:[p.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[p.jsx(Hv,{size:10})," Requests"]}),p.jsx("div",{className:"text-xs space-y-0.5",children:Object.entries(n.resources.requests).map(ste)})]}),n.resources.limits&&p.jsxs("div",{children:[p.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[p.jsx(js,{size:10})," Limits"]}),p.jsx("div",{className:"text-xs space-y-0.5",children:Object.entries(n.resources.limits).map(nte)})]})]}),(n.env&&n.env.length>0||n.envFrom&&n.envFrom.length>0)&&p.jsx(ate,{env:n.env,envFrom:n.envFrom}),n.mounts&&n.mounts.length>0&&p.jsxs("div",{children:[p.jsxs("div",{className:"text-xs text-neutral-500 mb-2 flex items-center gap-1",children:[p.jsx(js,{size:10})," Volume Mounts"]}),p.jsx("div",{className:"text-xs space-y-1.5",children:n.mounts.map(tte)})]})]}),e[29]=n.args,e[30]=n.command,e[31]=n.currentTermination,e[32]=n.env,e[33]=n.envFrom,e[34]=n.image,e[35]=n.lastTermination,e[36]=n.mounts,e[37]=n.ports,e[38]=n.resources,e[39]=n.state,e[40]=n.stateMessage,e[41]=n.stateReason,e[42]=r,e[43]=s,e[44]=A):A=e[44];let R;return e[45]!==E||e[46]!==A||e[47]!==m?(R=p.jsxs("div",{className:m,children:[E,A]}),e[45]=E,e[46]=A,e[47]=m,e[48]=R):R=e[48],R}function tte(t,e){return p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded p-2 flex items-center gap-2",children:[p.jsx("span",{className:"text-purple-400 truncate max-w-35",title:t.name,children:t.name}),p.jsx("span",{className:"text-neutral-600",children:""}),p.jsx("span",{className:"text-cyan-400 font-mono truncate flex-1",title:t.mountPath,children:t.mountPath}),t.readOnly&&p.jsx("span",{className:"text-amber-400 text-[10px] px-1 py-0.5 bg-amber-500/10 rounded",children:"(ro)"})]},e)}function nte(t){const[e,n]=t;return p.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[p.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[e,":"]})," ",n]},e)}function ste(t){const[e,n]=t;return p.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[p.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[e,":"]})," ",n]},e)}function rte(t,e){return p.jsxs("span",{className:"text-xs text-neutral-900 dark:text-neutral-100 bg-neutral-200 dark:bg-neutral-800 px-2 py-1 rounded",children:[t.containerPort,"/",t.protocol||"TCP",t.name&&p.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500 ml-1",children:["(",t.name,")"]})]},e)}function ite(t){return!t}function ate(t){const e=Le.c(9),{env:n,envFrom:s}=t,r=s&&s.length>0;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=p.jsx("div",{className:"text-xs text-neutral-500 mb-2",children:"Environment"}),e[0]=i):i=e[0];let a;e[1]!==s||e[2]!==r?(a=r&&p.jsx("div",{className:"mb-2 space-y-1",children:s.map(lte)}),e[1]=s,e[2]=r,e[3]=a):a=e[3];let l;e[4]!==n?(l=n&&n.length>0&&p.jsx("table",{className:"w-full text-xs",children:p.jsx("tbody",{children:n.map(ote)})}),e[4]=n,e[5]=l):l=e[5];let u;return e[6]!==a||e[7]!==l?(u=p.jsxs("div",{children:[i,a,l]}),e[6]=a,e[7]=l,e[8]=u):u=e[8],u}function ote(t,e){return p.jsxs("tr",{className:e%2===0?"bg-neutral-50 dark:bg-neutral-800/30":"",children:[p.jsx("td",{className:"py-1 px-2 text-sky-600 dark:text-sky-400 font-mono truncate max-w-35",title:t.name,children:t.name}),p.jsx("td",{className:"py-1 px-2 truncate",children:p.jsx(cte,{env:t})})]},t.name)}function lte(t,e){return p.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 px-2 py-1.5 rounded flex items-center gap-2",children:[t.type==="secret"?p.jsx(d6,{size:12,className:"text-amber-500 shrink-0"}):p.jsx(ai,{size:12,className:"text-blue-400 shrink-0"}),p.jsx("span",{className:"text-neutral-500",children:"from"}),p.jsx("span",{className:t.type==="secret"?"text-amber-500":"text-blue-400",children:t.type==="secret"?"Secret":"ConfigMap"}),p.jsx("span",{className:"text-neutral-900 dark:text-neutral-300 font-mono",children:t.name}),t.prefix&&p.jsxs("span",{className:"text-neutral-500 ml-auto text-[10px]",children:["prefix: ",t.prefix]})]},e)}function cte(t){const e=Le.c(29),{env:n}=t;if(n.value!==void 0){let r;return e[0]!==n.value?(r=p.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-mono",title:n.value,children:n.value}),e[0]=n.value,e[1]=r):r=e[1],r}if(n.valueFrom){const{type:r,source:i,key:a}=n.valueFrom;switch(r){case"secretKeyRef":{const l=`Secret: ${i}/${a}`;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=p.jsx(d6,{size:10,className:"shrink-0"}),e[2]=u):u=e[2];let h;e[3]!==a||e[4]!==i?(h=p.jsxs("span",{className:"truncate font-mono",children:[i,"/",a]}),e[3]=a,e[4]=i,e[5]=h):h=e[5];let m;return e[6]!==l||e[7]!==h?(m=p.jsxs("span",{className:"flex items-center gap-1 text-amber-600 dark:text-amber-500",title:l,children:[u,h]}),e[6]=l,e[7]=h,e[8]=m):m=e[8],m}case"configMapKeyRef":{const l=`ConfigMap: ${i}/${a}`;let u;e[9]===Symbol.for("react.memo_cache_sentinel")?(u=p.jsx(ai,{size:10,className:"shrink-0"}),e[9]=u):u=e[9];let h;e[10]!==a||e[11]!==i?(h=p.jsxs("span",{className:"truncate font-mono",children:[i,"/",a]}),e[10]=a,e[11]=i,e[12]=h):h=e[12];let m;return e[13]!==l||e[14]!==h?(m=p.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",title:l,children:[u,h]}),e[13]=l,e[14]=h,e[15]=m):m=e[15],m}case"fieldRef":{const l=`Field: ${i}`;let u;e[16]===Symbol.for("react.memo_cache_sentinel")?(u=p.jsx(Lw,{size:10,className:"shrink-0"}),e[16]=u):u=e[16];let h;e[17]!==i?(h=p.jsx("span",{className:"truncate font-mono",children:i}),e[17]=i,e[18]=h):h=e[18];let m;return e[19]!==l||e[20]!==h?(m=p.jsxs("span",{className:"flex items-center gap-1 text-purple-600 dark:text-purple-400",title:l,children:[u,h]}),e[19]=l,e[20]=h,e[21]=m):m=e[21],m}case"resourceFieldRef":{const l=`Resource: ${i}`;let u;e[22]===Symbol.for("react.memo_cache_sentinel")?(u=p.jsx(Lw,{size:10,className:"shrink-0"}),e[22]=u):u=e[22];let h;e[23]!==i?(h=p.jsx("span",{className:"truncate font-mono",children:i}),e[23]=i,e[24]=h):h=e[24];let m;return e[25]!==l||e[26]!==h?(m=p.jsxs("span",{className:"flex items-center gap-1 text-cyan-600 dark:text-cyan-400",title:l,children:[u,h]}),e[25]=l,e[26]=h,e[27]=m):m=e[27],m}}}let s;return e[28]===Symbol.for("react.memo_cache_sentinel")?(s=p.jsx("span",{className:"text-neutral-500 italic",children:"not set"}),e[28]=s):s=e[28],s}function ute(t){const e=Le.c(4),{items:n}=t;if(n.length===0)return null;let s;e[0]!==n?(s=n.map(hte),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=p.jsx("div",{className:"space-y-2",children:s}),e[2]=s,e[3]=r):r=e[3],r}function hte(t){return p.jsx(dte,{volume:t},t.name)}function dte(t){const e=Le.c(31),{volume:n}=t,[s,r]=z.useState(!1);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>r(gte),e[0]=i):i=e[0];const a=i;let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l={ConfigMap:"border-blue-500/30 bg-blue-500/5",Secret:"border-amber-500/30 bg-amber-500/5",PVC:"border-emerald-500/30 bg-emerald-500/5",EmptyDir:"border-neutral-500/30 bg-neutral-500/5",HostPath:"border-red-500/30 bg-red-500/5",Projected:"border-purple-500/30 bg-purple-500/5",DownwardAPI:"border-cyan-500/30 bg-cyan-500/5",NFS:"border-orange-500/30 bg-orange-500/5",CSI:"border-indigo-500/30 bg-indigo-500/5"},e[1]=l):l=e[1];const u=l;let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h={ConfigMap:p.jsx(pZ,{size:14,className:"text-blue-400"}),Secret:p.jsx(Zp,{size:14,className:"text-amber-400"}),PVC:p.jsx(xc,{size:14,className:"text-emerald-400"}),EmptyDir:p.jsx(Vv,{size:14,className:"text-neutral-400"}),HostPath:p.jsx(yY,{size:14,className:"text-red-400"}),Projected:p.jsx(xi,{size:14,className:"text-purple-400"}),DownwardAPI:p.jsx(dY,{size:14,className:"text-cyan-400"}),NFS:p.jsx(Wn,{size:14,className:"text-orange-400"}),CSI:p.jsx(QY,{size:14,className:"text-indigo-400"})},e[2]=h):h=e[2];const m=h;let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f={ConfigMap:"bg-blue-500/20 text-blue-400",Secret:"bg-amber-500/20 text-amber-400",PVC:"bg-emerald-500/20 text-emerald-400",EmptyDir:"bg-neutral-500/20 text-neutral-400",HostPath:"bg-red-500/20 text-red-400",Projected:"bg-purple-500/20 text-purple-400",DownwardAPI:"bg-cyan-500/20 text-cyan-400",NFS:"bg-orange-500/20 text-orange-400",CSI:"bg-indigo-500/20 text-indigo-400"},e[3]=f):f=e[3];const g=f,y=`border rounded-lg overflow-hidden ${u[n.type]||"border-neutral-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900/50"}`;let b;e[4]!==n.type?(b=m[n.type]||p.jsx(js,{size:14,className:"text-neutral-600 dark:text-neutral-400"}),e[4]=n.type,e[5]=b):b=e[5];let _;e[6]!==n.name?(_=p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:n.name})}),e[6]=n.name,e[7]=_):_=e[7];let w;e[8]!==n.source?(w=n.source&&p.jsx("span",{className:"text-cyan-600 dark:text-cyan-400/70",children:n.source}),e[8]=n.source,e[9]=w):w=e[9];let k;e[10]!==n.mounts?(k=n.mounts.length>0&&p.jsxs("span",{className:"ml-2",children:[" ",n.mounts.map(mte).join(", ")]}),e[10]=n.mounts,e[11]=k):k=e[11];let C;e[12]!==w||e[13]!==k?(C=p.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 truncate",children:[w,k]}),e[12]=w,e[13]=k,e[14]=C):C=e[14];let E;e[15]!==C||e[16]!==_?(E=p.jsxs("div",{className:"flex-1 min-w-0",children:[_,C]}),e[15]=C,e[16]=_,e[17]=E):E=e[17];let A;e[18]!==E||e[19]!==b?(A=p.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[b,E]}),e[18]=E,e[19]=b,e[20]=A):A=e[20];let R;e[21]!==s||e[22]!==n.extra||e[23]!==n.mounts||e[24]!==n.source||e[25]!==n.type?(R=s&&p.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Source"}),p.jsxs("div",{className:"text-xs",children:[p.jsx("span",{className:`px-1.5 py-0.5 rounded ${g[n.type]||"bg-neutral-200 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-400"}`,children:n.type}),n.source&&p.jsx("span",{className:"ml-2 text-cyan-600 dark:text-cyan-400",children:n.source})]}),n.extra&&Object.keys(n.extra).length>0&&p.jsx("div",{className:"mt-2 text-xs space-y-1",children:Object.entries(n.extra).map(pte)})]}),n.mounts.length>0&&p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Mount Points"}),p.jsx("div",{className:"space-y-2",children:n.mounts.map(fte)})]})]}),e[21]=s,e[22]=n.extra,e[23]=n.mounts,e[24]=n.source,e[25]=n.type,e[26]=R):R=e[26];let N;return e[27]!==A||e[28]!==R||e[29]!==y?(N=p.jsxs("div",{className:y,children:[A,R]}),e[27]=A,e[28]=R,e[29]=y,e[30]=N):N=e[30],N}function fte(t,e){return p.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ki,{size:10,className:"text-blue-400"}),p.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:t.container}),p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:""}),p.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:t.mountPath}),t.readOnly&&p.jsx("span",{className:"px-1 py-0.5 rounded bg-amber-500/20 text-amber-400 text-[10px]",children:"read-only"})]}),t.subPath&&p.jsxs("div",{className:"ml-4 mt-1 text-neutral-600 dark:text-neutral-500",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"subPath:"})," ",p.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:t.subPath})]})]},e)}function pte(t){const[e,n]=t;return p.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400",children:[p.jsxs("span",{className:"text-neutral-500",children:[e,":"]})," ",p.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:String(n)})]},e)}function mte(t){return t.mountPath}function gte(t){return!t}function yte(t){const e=Le.c(4),{items:n}=t;if(n.length===0)return null;let s;e[0]!==n?(s=n.map(vte),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=p.jsx("div",{className:"space-y-3",children:s}),e[2]=s,e[3]=r):r=e[3],r}function vte(t,e){return p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-300",children:[t.icon,t.label]}),p.jsxs("div",{className:"text-xs",children:[p.jsx("span",{className:"text-cyan-400",children:t.allocatable}),p.jsx("span",{className:"text-neutral-500",children:" / "}),p.jsx("span",{className:"text-neutral-400",children:t.capacity})]})]}),p.jsxs("div",{className:"text-[10px] text-neutral-500 flex justify-between",children:[p.jsx("span",{children:"Allocatable"}),p.jsx("span",{children:"Capacity"})]})]},e)}function bte(t){const e=Le.c(6),{items:n}=t;if(n.length===0)return null;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={NoSchedule:"bg-red-500/20 text-red-400 border-red-500/30",PreferNoSchedule:"bg-amber-500/20 text-amber-400 border-amber-500/30",NoExecute:"bg-purple-500/20 text-purple-400 border-purple-500/30"},e[0]=s):s=e[0];const r=s;let i;if(e[1]!==n){let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=(u,h)=>p.jsxs("span",{className:"text-xs bg-neutral-200 dark:bg-neutral-700 px-2 py-0.5 rounded flex items-center gap-1",title:`${u.key}=${u.value||""}:${u.effect}`,children:[p.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:u.key}),u.value&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-neutral-400",children:"="}),p.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:u.value})]}),p.jsx("span",{className:`ml-1 px-1 py-0.5 rounded text-[10px] border ${r[u.effect]??"bg-neutral-700 text-neutral-300"}`,children:u.effect})]},h),e[3]=l):l=e[3],i=n.map(l),e[1]=n,e[2]=i}else i=e[2];let a;return e[4]!==i?(a=p.jsx("div",{className:"flex flex-wrap gap-1",children:i}),e[4]=i,e[5]=a):a=e[5],a}function aO(t,e){return e<=0?0:Math.min(100,Math.round(t/e*100))}function _te(t){const e=Math.floor((Date.now()-t.getTime())/1e3);if(e<60)return`${e}s ago`;const n=Math.floor(e/60);if(n<60)return`${n}m ago`;const s=Math.floor(n/60);return s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`}function xte(t){const e=Le.c(18),{loader:n,title:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[i,a]=z.useState(r),[l,u]=z.useState(!0);let h,m;if(e[1]!==n?(h=()=>{n().then(a).finally(()=>u(!1))},m=[n],e[1]=n,e[2]=h,e[3]=m):(h=e[2],m=e[3]),z.useEffect(h,m),l){let _;e[4]!==s?(_=s&&p.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[4]=s,e[5]=_):_=e[5];let w;e[6]===Symbol.for("react.memo_cache_sentinel")?(w=p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:"Loading ReplicaSets..."}),e[6]=w):w=e[6];let k;return e[7]!==_?(k=p.jsxs("div",{children:[_,w]}),e[7]=_,e[8]=k):k=e[8],k}if(i.length===0)return null;let f;e[9]!==s?(f=s&&p.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[9]=s,e[10]=f):f=e[10];let g;e[11]!==i?(g=i.map(Ste),e[11]=i,e[12]=g):g=e[12];let y;e[13]!==g?(y=p.jsx("div",{className:"space-y-2",children:g}),e[13]=g,e[14]=y):y=e[14];let b;return e[15]!==f||e[16]!==y?(b=p.jsxs("div",{children:[f,y]}),e[15]=f,e[16]=y,e[17]=b):b=e[17],b}function Ste(t){const e=p.jsx("div",{className:`border rounded-lg p-3 ${t.isCurrent?"border-blue-500/30 bg-blue-500/5":"border-neutral-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900/50 opacity-60"} ${t.context&&t.namespace?"hover:border-blue-500/50 transition-colors cursor-pointer":""}`,children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(xi,{size:16,className:t.isCurrent?"text-blue-400":"text-neutral-600 dark:text-neutral-500"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate",title:t.name,children:t.name})}),t.images.length>0&&p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 truncate",children:t.images.join(", ")})]}),p.jsxs("div",{className:"text-xs",children:[p.jsxs("span",{className:t.readyReplicas===t.replicas?"text-emerald-600 dark:text-emerald-400":"text-amber-600 dark:text-amber-400",children:[t.readyReplicas,"/",t.replicas]}),p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500 ml-1",children:"ready"})]})]})});return t.context&&t.namespace?p.jsx(Zi,{to:"/cluster/$context/$resourceType/$name",params:{context:t.context,resourceType:"replicasets",name:t.name},search:n=>({...n,namespace:t.namespace}),children:e},t.name):p.jsx("div",{children:e},t.name)}function wte(t){const e=Le.c(18),{loader:n,title:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[i,a]=z.useState(r),[l,u]=z.useState(!0);let h,m;if(e[1]!==n?(h=()=>{n().then(a).finally(()=>u(!1))},m=[n],e[1]=n,e[2]=h,e[3]=m):(h=e[2],m=e[3]),z.useEffect(h,m),l){let _;e[4]!==s?(_=s&&p.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[4]=s,e[5]=_):_=e[5];let w;e[6]===Symbol.for("react.memo_cache_sentinel")?(w=p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:"Loading PVCs..."}),e[6]=w):w=e[6];let k;return e[7]!==_?(k=p.jsxs("div",{children:[_,w]}),e[7]=_,e[8]=k):k=e[8],k}if(i.length===0)return null;let f;e[9]!==s?(f=s&&p.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[9]=s,e[10]=f):f=e[10];let g;e[11]!==i?(g=i.map(kte),e[11]=i,e[12]=g):g=e[12];let y;e[13]!==g?(y=p.jsx("div",{className:"space-y-2",children:g}),e[13]=g,e[14]=y):y=e[14];let b;return e[15]!==f||e[16]!==y?(b=p.jsxs("div",{children:[f,y]}),e[15]=f,e[16]=y,e[17]=b):b=e[17],b}function kte(t){const e=p.jsx("div",{className:`border rounded-lg p-3 ${t.status==="Bound"?"border-emerald-500/30 bg-emerald-500/5":"border-neutral-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900/50"} ${t.context&&t.namespace?"hover:border-emerald-500/50 transition-colors cursor-pointer":""}`,children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(js,{size:16,className:t.status==="Bound"?"text-emerald-600 dark:text-emerald-400":"text-neutral-600 dark:text-neutral-500"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate",children:t.name})}),p.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:[t.storageClass||"default"," storage class"]})]}),p.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[t.capacity&&p.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:t.capacity}),p.jsx("span",{className:t.status==="Bound"?"text-emerald-600 dark:text-emerald-400":"text-amber-600 dark:text-amber-400",children:t.status})]})]})});return t.context&&t.namespace?p.jsx(Zi,{to:"/cluster/$context/$resourceType/$name",params:{context:t.context,resourceType:"persistentvolumeclaims",name:t.name},search:n=>({...n,namespace:t.namespace}),children:e},t.name):p.jsx("div",{children:e},t.name)}function Cte(t){const e=Le.c(26),{loader:n,title:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[i,a]=z.useState(r),[l,u]=z.useState(!0),[h,m]=z.useState(!1);let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f=()=>m(Ete),e[1]=f):f=e[1];const g=f;let y,b;if(e[2]!==n?(y=()=>{n().then(a).finally(()=>u(!1))},b=[n],e[2]=n,e[3]=y,e[4]=b):(y=e[3],b=e[4]),z.useEffect(y,b),l){let N;e[5]!==s?(N=s&&p.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[5]=s,e[6]=N):N=e[6];let M;e[7]===Symbol.for("react.memo_cache_sentinel")?(M=p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:"Loading jobs..."}),e[7]=M):M=e[7];let I;return e[8]!==N?(I=p.jsxs("div",{children:[N,M]}),e[8]=N,e[9]=I):I=e[9],I}if(i.length===0)return null;let _;e[10]!==h||e[11]!==i?(_=h?i:i.slice(0,3),e[10]=h,e[11]=i,e[12]=_):_=e[12];const w=_;let k;e[13]!==s?(k=s&&p.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[13]=s,e[14]=k):k=e[14];let C;e[15]!==w?(C=w.map(Nte),e[15]=w,e[16]=C):C=e[16];let E;e[17]!==h||e[18]!==i.length?(E=i.length>3&&p.jsxs("button",{onClick:g,className:"flex items-center gap-1 text-xs text-neutral-600 dark:text-neutral-500 hover:text-neutral-900 dark:hover:text-neutral-300 transition-colors mt-2",children:[h?p.jsx(vs,{size:12}):p.jsx(si,{size:12}),h?"Show less":`Show ${i.length-3} more`]}),e[17]=h,e[18]=i.length,e[19]=E):E=e[19];let A;e[20]!==C||e[21]!==E?(A=p.jsxs("div",{className:"space-y-2",children:[C,E]}),e[20]=C,e[21]=E,e[22]=A):A=e[22];let R;return e[23]!==k||e[24]!==A?(R=p.jsxs("div",{children:[k,A]}),e[23]=k,e[24]=A,e[25]=R):R=e[25],R}function Nte(t){const e=p.jsx("div",{className:`border rounded-lg p-3 ${t.status==="Complete"?"border-emerald-500/30 bg-emerald-500/5":t.status==="Failed"?"border-red-500/30 bg-red-500/5":"border-amber-500/30 bg-amber-500/5"} ${t.context&&t.namespace?"hover:border-blue-500/50 transition-colors cursor-pointer":""}`,children:p.jsxs("div",{className:"flex items-center gap-3",children:[t.status==="Complete"?p.jsx(Ci,{size:16,className:"text-emerald-400"}):t.status==="Failed"?p.jsx(Fa,{size:16,className:"text-red-400"}):p.jsx(Ua,{size:16,className:"text-amber-400"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate",title:t.name,children:t.name})}),t.startTime&&p.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:["Started ",_te(new Date(t.startTime))]})]}),p.jsx("span",{className:`text-xs ${t.status==="Complete"?"text-emerald-600 dark:text-emerald-400":t.status==="Failed"?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"}`,children:t.status})]})});return t.context&&t.namespace?p.jsx(Zi,{to:"/cluster/$context/$resourceType/$name",params:{context:t.context,resourceType:"jobs",name:t.name},search:n=>({...n,namespace:t.namespace}),children:e},t.name):p.jsx("div",{children:e},t.name)}function Ete(t){return!t}function Ate(t){const e=Le.c(4),{items:n}=t;let s;e[0]!==n?(s=n.map(Rte),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=p.jsx("div",{className:"space-y-2",children:s}),e[2]=s,e[3]=r):r=e[3],r}function Rte(t,e){return p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(js,{size:14,className:"text-purple-400"}),p.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:t.name})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.size&&p.jsxs("div",{children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Size:"})," ",p.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:t.size})]}),t.storageClass&&p.jsxs("div",{children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Class:"})," ",p.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:t.storageClass})]}),t.accessModes&&p.jsxs("div",{className:"col-span-2",children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Access:"})," ",p.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:t.accessModes.join(", ")})]})]})]},e)}function Tte(t){const e=Le.c(8),{schedule:n,description:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(h6,{size:16,className:"text-purple-400"}),p.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:"Schedule"})]}),e[0]=r):r=e[0];let i;e[1]!==n?(i=p.jsx("div",{className:"font-mono text-cyan-600 dark:text-cyan-400 text-lg mb-1",children:n}),e[1]=n,e[2]=i):i=e[2];let a;e[3]!==s?(a=p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:s}),e[3]=s,e[4]=a):a=e[4];let l;return e[5]!==i||e[6]!==a?(l=p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[r,i,a]}),e[5]=i,e[6]=a,e[7]=l):l=e[7],l}function jte(t){const e=Le.c(35),{completions:n,succeeded:s,failed:r,active:i}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=p.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-300",children:"Completions"}),e[0]=a):a=e[0];const l=s>=n?"text-emerald-600 dark:text-emerald-400":"text-cyan-600 dark:text-cyan-400";let u;e[1]!==s||e[2]!==l?(u=p.jsx("span",{className:l,children:s}),e[1]=s,e[2]=l,e[3]=u):u=e[3];let h;e[4]!==n?(h=p.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[" / ",n]}),e[4]=n,e[5]=h):h=e[5];let m;e[6]!==u||e[7]!==h?(m=p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a,p.jsxs("span",{className:"text-sm",children:[u,h]})]}),e[6]=u,e[7]=h,e[8]=m):m=e[8];let f;e[9]!==n||e[10]!==s?(f=s>0&&p.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${s/n*100}%`}}),e[9]=n,e[10]=s,e[11]=f):f=e[11];let g;e[12]!==n||e[13]!==r?(g=r>0&&p.jsx("div",{className:"h-full bg-red-500",style:{width:`${r/(n+r)*100}%`}}),e[12]=n,e[13]=r,e[14]=g):g=e[14];let y;e[15]!==f||e[16]!==g?(y=p.jsxs("div",{className:"h-2 bg-neutral-300 dark:bg-neutral-700 rounded-full overflow-hidden flex",children:[f,g]}),e[15]=f,e[16]=g,e[17]=y):y=e[17];let b;e[18]===Symbol.for("react.memo_cache_sentinel")?(b=p.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e[18]=b):b=e[18];let _;e[19]!==s?(_=p.jsxs("div",{className:"flex items-center gap-1",children:[b,p.jsxs("span",{className:"text-neutral-700 dark:text-neutral-400",children:["Succeeded: ",s]})]}),e[19]=s,e[20]=_):_=e[20];let w;e[21]===Symbol.for("react.memo_cache_sentinel")?(w=p.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),e[21]=w):w=e[21];let k;e[22]!==i?(k=p.jsxs("div",{className:"flex items-center gap-1",children:[w,p.jsxs("span",{className:"text-neutral-700 dark:text-neutral-400",children:["Active: ",i]})]}),e[22]=i,e[23]=k):k=e[23];let C;e[24]===Symbol.for("react.memo_cache_sentinel")?(C=p.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e[24]=C):C=e[24];let E;e[25]!==r?(E=p.jsxs("div",{className:"flex items-center gap-1",children:[C,p.jsxs("span",{className:"text-neutral-700 dark:text-neutral-400",children:["Failed: ",r]})]}),e[25]=r,e[26]=E):E=e[26];let A;e[27]!==_||e[28]!==k||e[29]!==E?(A=p.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs",children:[_,k,E]}),e[27]=_,e[28]=k,e[29]=E,e[30]=A):A=e[30];let R;return e[31]!==A||e[32]!==m||e[33]!==y?(R=p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[m,y,A]}),e[31]=A,e[32]=m,e[33]=y,e[34]=R):R=e[34],R}function Ote(t){const e=Le.c(7),{startTime:n,completionTime:s}=t;let r;e[0]!==n?(r=n&&p.jsxs("div",{children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Started:"})," ",p.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:n.toLocaleString()})]}),e[0]=n,e[1]=r):r=e[1];let i;e[2]!==s?(i=s&&p.jsxs("div",{children:[p.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Completed:"})," ",p.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:s.toLocaleString()})]}),e[2]=s,e[3]=i):i=e[3];let a;return e[4]!==r||e[5]!==i?(a=p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3 space-y-2 text-xs",children:[r,i]}),e[4]=r,e[5]=i,e[6]=a):a=e[6],a}function Mte(t){const e=Le.c(11),{items:n,columns:s}=t,r=s===void 0?2:s;let i,a;if(e[0]!==r||e[1]!==n){const u=n.filter(Ite),h=r===3?"grid-cols-3":r===2?"grid-cols-2":"grid-cols-1";let m;e[4]!==r?(m=y=>{if(r!==3)return"";const b=y%3;return b===0?"text-left":b===1?"text-center":"text-right"},e[4]=r,e[5]=m):m=e[5];const f=m;i=`bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3 grid gap-2 text-xs ${h}`;let g;e[6]!==f?(g=(y,b)=>p.jsxs("div",{className:`overflow-hidden ${f(b)}`,children:[p.jsxs("span",{className:"text-neutral-500 dark:text-neutral-500",children:[y.label,":"]})," ",p.jsx("span",{className:y.color||"text-neutral-900 dark:text-neutral-300",children:y.value})]},b),e[6]=f,e[7]=g):g=e[7],a=u.map(g),e[0]=r,e[1]=n,e[2]=i,e[3]=a}else i=e[2],a=e[3];let l;return e[8]!==i||e[9]!==a?(l=p.jsx("div",{className:i,children:a}),e[8]=i,e[9]=a,e[10]=l):l=e[10],l}function Ite(t){return t.value!==void 0&&t.value!==null}function Dte(t){const e=Le.c(20),{labels:n,title:s}=t,r=s===void 0?"Labels":s;let i,a,l,u,h;if(e[0]!==n||e[1]!==r){h=Symbol.for("react.early_return_sentinel");e:{const y=Object.entries(n);if(y.length===0){h=null;break e}const b=["node-role.kubernetes.io/","kubernetes.io/os","kubernetes.io/arch","node.kubernetes.io/instance-type","topology.kubernetes.io/"],_=[...y].sort((k,C)=>{const E=b.some(R=>k[0].startsWith(R)),A=b.some(R=>C[0].startsWith(R));return E&&!A?-1:!E&&A?1:0});let w;e[7]===Symbol.for("react.memo_cache_sentinel")?(w=p.jsx(v6,{size:12}),e[7]=w):w=e[7],e[8]!==r?(u=p.jsxs("h5",{className:"flex items-center gap-2 text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:[w,r]}),e[8]=r,e[9]=u):u=e[9],a="w-full text-xs table-fixed",e[10]===Symbol.for("react.memo_cache_sentinel")?(l=p.jsxs("colgroup",{children:[p.jsx("col",{className:"w-[40%]"}),p.jsx("col",{className:"w-[60%]"})]}),e[10]=l):l=e[10],i=_.map((k,C)=>{const[E,A]=k,R=b.some(N=>E.startsWith(N));return p.jsxs("tr",{className:C%2===0?"bg-neutral-50 dark:bg-neutral-800/30":"",children:[p.jsx("td",{className:`py-1.5 px-2 truncate ${R?"text-blue-600 dark:text-blue-400":"text-sky-600 dark:text-sky-400"}`,title:E,children:E}),p.jsx("td",{className:"py-1.5 px-2 text-emerald-600 dark:text-emerald-400 truncate",title:A,children:A})]},E)})}e[0]=n,e[1]=r,e[2]=i,e[3]=a,e[4]=l,e[5]=u,e[6]=h}else i=e[2],a=e[3],l=e[4],u=e[5],h=e[6];if(h!==Symbol.for("react.early_return_sentinel"))return h;let m;e[11]!==i?(m=p.jsx("tbody",{children:i}),e[11]=i,e[12]=m):m=e[12];let f;e[13]!==a||e[14]!==l||e[15]!==m?(f=p.jsxs("table",{className:a,children:[l,m]}),e[13]=a,e[14]=l,e[15]=m,e[16]=f):f=e[16];let g;return e[17]!==u||e[18]!==f?(g=p.jsxs("div",{children:[u,f]}),e[17]=u,e[18]=f,e[19]=g):g=e[19],g}function Pte(t){const e=Le.c(4),{containers:n}=t;let s;e[0]!==n?(s=n.map(Lte),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=p.jsx("div",{className:"space-y-1",children:s}),e[2]=s,e[3]=r):r=e[3],r}function Lte(t){return p.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 px-2 py-1.5 rounded flex items-center gap-2",children:[p.jsx(ki,{size:12,className:"text-blue-400"}),p.jsxs("span",{className:"text-neutral-900 dark:text-neutral-300",children:[t.name,":"]}),p.jsx("span",{className:"text-cyan-400 truncate",children:t.image})]},t.name)}function Bte(t){const e=Le.c(4),{addresses:n}=t;let s;e[0]!==n?(s=n.map($te),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=p.jsx("div",{className:"grid grid-cols-2 gap-2",children:s}),e[2]=s,e[3]=r):r=e[3],r}function $te(t,e){return p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-2",children:[p.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:t.type}),p.jsx("div",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-mono",children:t.address})]},e)}const zte=15e3;function Fte(t){const e=Le.c(56),{loader:n,title:s}=t,[r,i]=z.useState(null),[a,l]=z.useState(!0);let u,h;if(e[0]!==n?(u=()=>{let P=!0;const V=async()=>{const Q=await n();P&&(i(Q),l(!1))};V();const T=setInterval(V,zte);return()=>{P=!1,clearInterval(T)}},h=[n],e[0]=n,e[1]=u,e[2]=h):(u=e[1],h=e[2]),z.useEffect(u,h),!a&&r===null)return null;if(a){let P;e[3]!==s?(P=s&&p.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[3]=s,e[4]=P):P=e[4];let V;e[5]===Symbol.for("react.memo_cache_sentinel")?(V=p.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[p.jsx($n,{size:12,className:"animate-spin"}),"Loading metrics..."]}),e[5]=V):V=e[5];let T;return e[6]!==P?(T=p.jsxs("div",{children:[P,V]}),e[6]=P,e[7]=T):T=e[7],T}if(!r)return null;const m=aO(r.cpu.usageNanoCores,r.cpu.allocatableNanoCores??0),f=aO(r.memory.usageBytes,r.memory.allocatableBytes??0);let g;e[8]!==s?(g=s&&p.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[8]=s,e[9]=g):g=e[9];let y;e[10]===Symbol.for("react.memo_cache_sentinel")?(y=p.jsxs("span",{className:"text-xs text-neutral-400 flex items-center gap-1.5",children:[p.jsx(Hv,{size:12}),"CPU Usage"]}),e[10]=y):y=e[10];const b=m>80?"text-amber-400":"text-blue-400";let _;e[11]!==r.cpu.usage||e[12]!==b?(_=p.jsx("span",{className:b,children:r.cpu.usage}),e[11]=r.cpu.usage,e[12]=b,e[13]=_):_=e[13];let w;e[14]!==r.cpu.allocatable?(w=p.jsxs("span",{className:"text-neutral-500",children:[" / ",r.cpu.allocatable]}),e[14]=r.cpu.allocatable,e[15]=w):w=e[15];let k;e[16]!==_||e[17]!==w?(k=p.jsxs("div",{className:"flex items-center justify-between",children:[y,p.jsxs("span",{className:"text-xs font-mono",children:[_,w]})]}),e[16]=_,e[17]=w,e[18]=k):k=e[18];const C=`h-full transition-all duration-300 ${m>80?"bg-amber-500":"bg-blue-500"}`,E=`${m}%`;let A;e[19]!==E?(A={width:E},e[19]=E,e[20]=A):A=e[20];let R;e[21]!==A||e[22]!==C?(R=p.jsx("div",{className:"h-2 bg-neutral-700 rounded-full overflow-hidden",children:p.jsx("div",{className:C,style:A})}),e[21]=A,e[22]=C,e[23]=R):R=e[23];let N;e[24]!==m?(N=p.jsxs("div",{className:"text-xs text-neutral-500 text-right",children:[m,"% utilized"]}),e[24]=m,e[25]=N):N=e[25];let M;e[26]!==R||e[27]!==N||e[28]!==k?(M=p.jsxs("div",{className:"bg-neutral-900/50 rounded-lg p-3 space-y-2",children:[k,R,N]}),e[26]=R,e[27]=N,e[28]=k,e[29]=M):M=e[29];let I;e[30]===Symbol.for("react.memo_cache_sentinel")?(I=p.jsxs("span",{className:"text-xs text-neutral-400 flex items-center gap-1.5",children:[p.jsx(js,{size:12}),"Memory Usage"]}),e[30]=I):I=e[30];const q=f>80?"text-amber-400":"text-purple-400";let B;e[31]!==r.memory.usage||e[32]!==q?(B=p.jsx("span",{className:q,children:r.memory.usage}),e[31]=r.memory.usage,e[32]=q,e[33]=B):B=e[33];let K;e[34]!==r.memory.allocatable?(K=p.jsxs("span",{className:"text-neutral-500",children:[" / ",r.memory.allocatable]}),e[34]=r.memory.allocatable,e[35]=K):K=e[35];let $;e[36]!==B||e[37]!==K?($=p.jsxs("div",{className:"flex items-center justify-between",children:[I,p.jsxs("span",{className:"text-xs font-mono",children:[B,K]})]}),e[36]=B,e[37]=K,e[38]=$):$=e[38];const W=`h-full transition-all duration-300 ${f>80?"bg-amber-500":"bg-purple-500"}`,Z=`${f}%`;let G;e[39]!==Z?(G={width:Z},e[39]=Z,e[40]=G):G=e[40];let L;e[41]!==W||e[42]!==G?(L=p.jsx("div",{className:"h-2 bg-neutral-700 rounded-full overflow-hidden",children:p.jsx("div",{className:W,style:G})}),e[41]=W,e[42]=G,e[43]=L):L=e[43];let Y;e[44]!==f?(Y=p.jsxs("div",{className:"text-xs text-neutral-500 text-right",children:[f,"% utilized"]}),e[44]=f,e[45]=Y):Y=e[45];let X;e[46]!==$||e[47]!==L||e[48]!==Y?(X=p.jsxs("div",{className:"bg-neutral-900/50 rounded-lg p-3 space-y-2",children:[$,L,Y]}),e[46]=$,e[47]=L,e[48]=Y,e[49]=X):X=e[49];let U;e[50]!==M||e[51]!==X?(U=p.jsxs("div",{className:"space-y-3",children:[M,X]}),e[50]=M,e[51]=X,e[52]=U):U=e[52];let O;return e[53]!==U||e[54]!==g?(O=p.jsxs("div",{children:[g,U]}),e[53]=U,e[54]=g,e[55]=O):O=e[55],O}function Ute(t){const e=Le.c(24),{data:n}=t,{cpu:s,memory:r}=n;if(!(s.requests||s.limits||r.requests||r.limits))return null;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=p.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:"Resource Quota"}),e[0]=a):a=e[0];let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Hv,{size:14,className:"text-blue-400"}),p.jsx("span",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400",children:"CPU"})]}),e[1]=l):l=e[1];let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=p.jsx("span",{className:"text-xs text-neutral-500",children:"Requests"}),e[2]=u):u=e[2];const h=s.requests||"";let m;e[3]!==h?(m=p.jsxs("div",{className:"flex items-center justify-between",children:[u,p.jsx("span",{className:"text-sm font-mono text-neutral-900 dark:text-neutral-100",children:h})]}),e[3]=h,e[4]=m):m=e[4];let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=p.jsx("span",{className:"text-xs text-neutral-500",children:"Limits"}),e[5]=f):f=e[5];const g=s.limits||"";let y;e[6]!==g?(y=p.jsxs("div",{className:"flex items-center justify-between",children:[f,p.jsx("span",{className:"text-sm font-mono text-neutral-900 dark:text-neutral-100",children:g})]}),e[6]=g,e[7]=y):y=e[7];let b;e[8]!==m||e[9]!==y?(b=p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-3",children:[l,p.jsxs("div",{className:"space-y-1.5",children:[m,y]})]}),e[8]=m,e[9]=y,e[10]=b):b=e[10];let _;e[11]===Symbol.for("react.memo_cache_sentinel")?(_=p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(js,{size:14,className:"text-purple-400"}),p.jsx("span",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400",children:"Memory"})]}),e[11]=_):_=e[11];let w;e[12]===Symbol.for("react.memo_cache_sentinel")?(w=p.jsx("span",{className:"text-xs text-neutral-500",children:"Requests"}),e[12]=w):w=e[12];const k=r.requests||"";let C;e[13]!==k?(C=p.jsxs("div",{className:"flex items-center justify-between",children:[w,p.jsx("span",{className:"text-sm font-mono text-neutral-900 dark:text-neutral-100",children:k})]}),e[13]=k,e[14]=C):C=e[14];let E;e[15]===Symbol.for("react.memo_cache_sentinel")?(E=p.jsx("span",{className:"text-xs text-neutral-500",children:"Limits"}),e[15]=E):E=e[15];const A=r.limits||"";let R;e[16]!==A?(R=p.jsxs("div",{className:"flex items-center justify-between",children:[E,p.jsx("span",{className:"text-sm font-mono text-neutral-900 dark:text-neutral-100",children:A})]}),e[16]=A,e[17]=R):R=e[17];let N;e[18]!==C||e[19]!==R?(N=p.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-3",children:[_,p.jsxs("div",{className:"space-y-1.5",children:[C,R]})]}),e[18]=C,e[19]=R,e[20]=N):N=e[20];let M;return e[21]!==N||e[22]!==b?(M=p.jsxs("div",{children:[a,p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b,N]})]}),e[21]=N,e[22]=b,e[23]=M):M=e[23],M}function NL(t){const e=Le.c(9),{section:n}=t,{title:s,data:r}=n;let i;e[0]!==r?(i=Hte(r),e[0]=r,e[1]=i):i=e[1];const a=i;if(a===null)return null;if(!s){let h;return e[2]!==a?(h=p.jsx("div",{children:a}),e[2]=a,e[3]=h):h=e[3],h}let l;e[4]!==s?(l=p.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[4]=s,e[5]=l):l=e[5];let u;return e[6]!==a||e[7]!==l?(u=p.jsxs("div",{children:[l,a]}),e[6]=a,e[7]=l,e[8]=u):u=e[8],u}function Hte(t){switch(t.type){case"status-cards":return p.jsx(Gee,{items:t.items});case"gauges":return p.jsx(Yee,{items:t.items,podGrid:t.showPodGrid});case"info-grid":return p.jsx(Mte,{items:t.items,columns:t.columns});case"containers":return p.jsx(Qee,{items:t.items,metricsLoader:t.metricsLoader});case"volumes":return p.jsx(ute,{items:t.items});case"labels":return p.jsx(Dte,{labels:t.labels,title:t.title});case"capacity-bars":return p.jsx(yte,{items:t.items});case"taints":return p.jsx(bte,{items:t.items});case"container-images":return p.jsx(Pte,{containers:t.containers});case"related-replicasets":return p.jsx(xte,{loader:t.loader,title:t.title});case"related-pvcs":return p.jsx(wte,{loader:t.loader,title:t.title});case"related-jobs":return p.jsx(Cte,{loader:t.loader,title:t.title});case"volume-claim-templates":return p.jsx(Ate,{items:t.items});case"schedule":return p.jsx(Tte,{schedule:t.schedule,description:t.description});case"job-progress":return p.jsx(jte,{...t});case"timeline":return p.jsx(Ote,{startTime:t.startTime,completionTime:t.completionTime});case"addresses":return p.jsx(Bte,{addresses:t.addresses});case"node-metrics":return p.jsx(Fte,{loader:t.loader,title:t.title});case"resource-quota":return p.jsx(Ute,{data:t.data});case"custom":return t.render();default:return null}}function Vte(t){const e=Le.c(21),{context:n,resource:s,onActionComplete:r,hideActions:i}=t,a=i===void 0?!1:i;let l;e[0]!==n||e[1]!==s?(l=Wee(n,s),e[0]=n,e[1]=s,e[2]=l):l=e[2];const u=l;let h;e[3]!==s?(h=kL(s),e[3]=s,e[4]=h):h=e[4];const m=h,f=s.metadata?.annotations?.["kubernetes.io/description"];if(!u||u.sections.length===0){let w;return e[5]!==s.kind?(w=p.jsxs("div",{className:"text-neutral-500 text-sm",children:["No visualization available for ",s.kind]}),e[5]=s.kind,e[6]=w):w=e[6],w}let g;e[7]!==m||e[8]!==n||e[9]!==a||e[10]!==r||e[11]!==s?(g=!a&&p.jsx(CL,{context:n,actions:m,resource:s,onActionComplete:r}),e[7]=m,e[8]=n,e[9]=a,e[10]=r,e[11]=s,e[12]=g):g=e[12];let y;e[13]!==f?(y=f&&p.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:f}),e[13]=f,e[14]=y):y=e[14];let b;e[15]!==u.sections?(b=u.sections.map(qte),e[15]=u.sections,e[16]=b):b=e[16];let _;return e[17]!==g||e[18]!==y||e[19]!==b?(_=p.jsxs("div",{className:"space-y-6",children:[g,y,b]}),e[17]=g,e[18]=y,e[19]=b,e[20]=_):_=e[20],_}function qte(t){return p.jsx(NL,{section:t},t.id)}function zb(t){const e=Le.c(6),{toolbarRef:n,children:s}=t,[r,i]=z.useState(null);let a,l;e[0]!==n?(a=()=>{i(n.current)},l=[n],e[0]=n,e[1]=a,e[2]=l):(a=e[1],l=e[2]),z.useEffect(a,l);let u;return e[3]!==s||e[4]!==r?(u=r?DC.createPortal(s,r):null,e[3]=s,e[4]=r,e[5]=u):u=e[5],u}var pS,oO;function Kte(){if(oO)return pS;oO=1;const t=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],e=/(https?:\/\/(?:[A-Za-z0-9#;/?:@=+$',_.!~*()[\]-]|&amp;|%[A-Fa-f0-9]{2})+)/gm;class n{static escapeForHtml(r){return new n().escapeForHtml(r)}static linkify(r){return new n().linkify(r)}static ansiToHtml(r,i){return new n().ansiToHtml(r,i)}static ansiToJson(r,i){return new n().ansiToJson(r,i)}static ansiToText(r){return new n().ansiToText(r)}constructor(){this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0,this.decorations=[]}setupPalette(){this.PALETTE_COLORS=[];for(let l=0;l<2;++l)for(let u=0;u<8;++u)this.PALETTE_COLORS.push(t[l][u].color);let r=[0,95,135,175,215,255],i=(l,u,h)=>r[l]+", "+r[u]+", "+r[h];for(let l=0;l<6;++l)for(let u=0;u<6;++u)for(let h=0;h<6;++h)this.PALETTE_COLORS.push(i(l,u,h));let a=8;for(let l=0;l<24;++l,a+=10)this.PALETTE_COLORS.push(a+", "+a+", "+a)}escapeForHtml(r){return r.replace(/[&<>\"]/gm,i=>i=="&"?"&amp;":i=='"'?"&quot;":i=="<"?"&lt;":i==">"?"&gt;":"")}linkify(r){return r.replace(e,i=>`<a href="${i}">${i}</a>`)}ansiToHtml(r,i){return this.process(r,i,!0)}ansiToJson(r,i){return i=i||{},i.json=!0,i.clearLine=!1,this.process(r,i,!0)}ansiToText(r){return this.process(r,{},!1)}process(r,i,a){let l=this,u=r.split(/\033\[/),h=u.shift();i==null&&(i={}),i.clearLine=/\r/.test(r);let m=u.map(f=>this.processChunk(f,i,a));if(i&&i.json){let f=l.processChunkJson("");return f.content=h,f.clearLine=i.clearLine,m.unshift(f),i.remove_empty&&(m=m.filter(g=>!g.isEmpty())),m}else m.unshift(h);return m.join("")}processChunkJson(r,i,a){i=typeof i>"u"?{}:i;let l=i.use_classes=typeof i.use_classes<"u"&&i.use_classes,u=i.key=l?"class":"color",h={content:r,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,isInverted:!1,clearLine:i.clearLine,decoration:null,decorations:[],was_processed:!1,isEmpty:()=>!h.content},m=r.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!m)return h;h.content=m[4];let f=m[2].split(";");if(m[1]!==""||m[3]!=="m"||!a)return h;let g=this;for(;f.length>0;){let y=f.shift(),b=parseInt(y);if(isNaN(b)||b===0)g.fg=g.bg=null,g.decorations=[];else if(b===1)g.decorations.push("bold");else if(b===2)g.decorations.push("dim");else if(b===3)g.decorations.push("italic");else if(b===4)g.decorations.push("underline");else if(b===5)g.decorations.push("blink");else if(b===7)g.decorations.push("reverse");else if(b===8)g.decorations.push("hidden");else if(b===9)g.decorations.push("strikethrough");else if(b===21)g.removeDecoration("bold");else if(b===22)g.removeDecoration("bold"),g.removeDecoration("dim");else if(b===23)g.removeDecoration("italic");else if(b===24)g.removeDecoration("underline");else if(b===25)g.removeDecoration("blink");else if(b===27)g.removeDecoration("reverse");else if(b===28)g.removeDecoration("hidden");else if(b===29)g.removeDecoration("strikethrough");else if(b===39)g.fg=null;else if(b===49)g.bg=null;else if(b>=30&&b<38)g.fg=t[0][b%10][u];else if(b>=90&&b<98)g.fg=t[1][b%10][u];else if(b>=40&&b<48)g.bg=t[0][b%10][u];else if(b>=100&&b<108)g.bg=t[1][b%10][u];else if(b===38||b===48){let _=b===38;if(f.length>=1){let w=f.shift();if(w==="5"&&f.length>=1){let k=parseInt(f.shift());if(k>=0&&k<=255)if(!l)this.PALETTE_COLORS||g.setupPalette(),_?g.fg=this.PALETTE_COLORS[k]:g.bg=this.PALETTE_COLORS[k];else{let C=k>=16?"ansi-palette-"+k:t[k>7?1:0][k%8].class;_?g.fg=C:g.bg=C}}else if(w==="2"&&f.length>=3){let k=parseInt(f.shift()),C=parseInt(f.shift()),E=parseInt(f.shift());if(k>=0&&k<=255&&C>=0&&C<=255&&E>=0&&E<=255){let A=k+", "+C+", "+E;l?_?(g.fg="ansi-truecolor",g.fg_truecolor=A):(g.bg="ansi-truecolor",g.bg_truecolor=A):_?g.fg=A:g.bg=A}}}}}return g.fg===null&&g.bg===null&&g.decorations.length===0||(h.fg=g.fg,h.bg=g.bg,h.fg_truecolor=g.fg_truecolor,h.bg_truecolor=g.bg_truecolor,h.decorations=g.decorations,h.decoration=g.decorations.slice(-1).pop()||null,h.was_processed=!0),h}processChunk(r,i,a){i=i||{};let l=this.processChunkJson(r,i,a),u=i.use_classes;if(l.decorations=l.decorations.filter(b=>{if(b==="reverse"){l.fg||(l.fg=t[0][7][u?"class":"color"]),l.bg||(l.bg=t[0][0][u?"class":"color"]);let _=l.fg;l.fg=l.bg,l.bg=_;let w=l.fg_truecolor;return l.fg_truecolor=l.bg_truecolor,l.bg_truecolor=w,l.isInverted=!0,!1}return!0}),i.json)return l;if(l.isEmpty())return"";if(!l.was_processed)return l.content;let h=[],m=[],f=[],g={},y=b=>{let _=[],w;for(w in b)b.hasOwnProperty(w)&&_.push("data-"+w+'="'+this.escapeForHtml(b[w])+'"');return _.length>0?" "+_.join(" "):""};return l.isInverted&&(g["ansi-is-inverted"]="true"),l.fg&&(u?(h.push(l.fg+"-fg"),l.fg_truecolor!==null&&(g["ansi-truecolor-fg"]=l.fg_truecolor,l.fg_truecolor=null)):h.push("color:rgb("+l.fg+")")),l.bg&&(u?(h.push(l.bg+"-bg"),l.bg_truecolor!==null&&(g["ansi-truecolor-bg"]=l.bg_truecolor,l.bg_truecolor=null)):h.push("background-color:rgb("+l.bg+")")),l.decorations.forEach(b=>{if(u){m.push("ansi-"+b);return}b==="bold"?m.push("font-weight:bold"):b==="dim"?m.push("opacity:0.5"):b==="italic"?m.push("font-style:italic"):b==="hidden"?m.push("visibility:hidden"):b==="strikethrough"?f.push("line-through"):f.push(b)}),f.length&&m.push("text-decoration:"+f.join(" ")),u?'<span class="'+h.concat(m).join(" ")+'"'+y(g)+">"+l.content+"</span>":'<span style="'+h.concat(m).join(";")+'"'+y(g)+">"+l.content+"</span>"}removeDecoration(r){const i=this.decorations.indexOf(r);i>=0&&this.decorations.splice(i,1)}}return pS=n,pS}var Wte=Kte();const Gte=Mv(Wte),lO=["text-cyan-400","text-emerald-400","text-amber-400","text-purple-400","text-pink-400","text-blue-400","text-red-400","text-orange-400"];function Yte(t,e){const n=e.indexOf(t);return lO[n%lO.length]}function Zte(t){if(!t)return"";try{return new Date(t).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})}catch{return t}}function Jte(t){return t.replace(/\x1b\[[0-9;]*[a-zA-Z]/g,"")}const Xte=/^([IWEF])(\d{4})\s+(\d{2}:\d{2}:\d{2}\.\d+)\s+\d+\s+([\w.]+:\d+)]\s*(.*)$/;function Qte(t){const e=t.match(Xte);if(!e)return null;const[,n,,,s,r]=e,i=n==="E"?"error":n==="W"?"warn":n==="F"?"error":"info",a=qN(r),l=[`source: ${s}`];for(const[u,h]of Object.entries(a))l.push(`${u}: ${h}`);return{format:"klog",formatted:l.join(`
`),level:i}}function qN(t){const e={},n=/(?:"([^"]*)"|([\w.]+)=(?:"([^"]*)"|([^\s]*)))/g;let s,r=0;for(;(s=n.exec(t))!==null;)if(s[1]!==void 0)e[`msg${r||""}`]=s[1],r++;else{const i=s[2],a=s[3]??s[4]??"";e[i]=a}return e}function ene(t){const e=t.match(/(?:^|\s)([\w.]+)=/);if(!e)return{message:t,kvText:""};const n=e.index+(e[0].startsWith(" ")?1:0),s=t.slice(0,n).trim(),r=t.slice(n);return{message:s,kvText:r}}function tne(t){const e=t.trim(),n=/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?Z?)\s+(INF|WRN|ERR|DBG|TRC|INFO|WARN|ERROR|DEBUG|TRACE|FTL|FATAL)\s+/i,s=e.match(n);if(!s)return null;const r=s[1],i=s[2].toUpperCase(),a=e.slice(s[0].length),{message:l,kvText:u}=ene(a),h=qN(u||a),m=Object.keys(h);let f="unknown";i.startsWith("ERR")||i==="FTL"||i==="FATAL"?f="error":i.startsWith("WRN")||i==="WARN"?f="warn":i.startsWith("INF")||i==="INFO"?f="info":i.startsWith("DBG")||i==="DEBUG"?f="debug":(i.startsWith("TRC")||i==="TRACE")&&(f="trace");const g=[`timestamp: ${r}`,`level: ${i}`];l&&g.push(`message: ${l}`);for(const y of m)g.push(`${y}: ${h[y]}`);return{format:"console",formatted:g.join(`
`),level:f}}function nne(t){const e=t.trim();if(!/\w+=/.test(e))return null;const n=qN(e),s=Object.keys(n);if(s.length<2)return null;let r="unknown";const i=(n.level??n.lvl??n.severity??"").toLowerCase();return i.includes("err")||i==="fatal"?r="error":i.includes("warn")?r="warn":i==="info"?r="info":i==="debug"?r="debug":i==="trace"&&(r="trace"),{format:"logfmt",formatted:s.map(l=>`${l}: ${n[l]}`).join(`
`),level:r}}function sne(t){const e=t.trim(),n=Jte(e);if(n.startsWith("{")||n.startsWith("["))try{const a=JSON.parse(n);return{format:"json",formatted:JSON.stringify(a,null,2),jsonData:a}}catch{}const s=Qte(n);if(s)return s;const r=tne(n);if(r)return r;const i=nne(n);return i||{format:"plain",formatted:t}}const rne={error:"text-red-600 dark:text-red-400",warn:"text-yellow-600 dark:text-yellow-400",info:"text-blue-600 dark:text-blue-400",debug:"text-neutral-600 dark:text-neutral-400",trace:"text-neutral-500 dark:text-neutral-500",unknown:"text-neutral-700 dark:text-neutral-300"},cO={"ansi-black":"text-neutral-800 dark:text-neutral-400","ansi-red":"text-red-600 dark:text-red-400","ansi-green":"text-green-600 dark:text-green-400","ansi-yellow":"text-yellow-600 dark:text-yellow-300","ansi-blue":"text-blue-600 dark:text-blue-400","ansi-magenta":"text-fuchsia-600 dark:text-fuchsia-400","ansi-cyan":"text-cyan-600 dark:text-cyan-400","ansi-white":"text-neutral-600 dark:text-neutral-200","ansi-bright-black":"text-neutral-500 dark:text-neutral-500","ansi-bright-red":"text-red-500 dark:text-red-300","ansi-bright-green":"text-green-500 dark:text-green-300","ansi-bright-yellow":"text-yellow-500 dark:text-yellow-200","ansi-bright-blue":"text-blue-500 dark:text-blue-300","ansi-bright-magenta":"text-fuchsia-500 dark:text-fuchsia-300","ansi-bright-cyan":"text-cyan-500 dark:text-cyan-300","ansi-bright-white":"text-neutral-400 dark:text-white"},uO={"ansi-black":"bg-neutral-900 dark:bg-neutral-900","ansi-red":"bg-red-600/20 dark:bg-red-500/30","ansi-green":"bg-green-600/20 dark:bg-green-500/30","ansi-yellow":"bg-yellow-500/20 dark:bg-yellow-500/30","ansi-blue":"bg-blue-600/20 dark:bg-blue-500/30","ansi-magenta":"bg-fuchsia-600/20 dark:bg-fuchsia-500/30","ansi-cyan":"bg-cyan-600/20 dark:bg-cyan-500/30","ansi-white":"bg-neutral-200 dark:bg-neutral-100","ansi-bright-black":"bg-neutral-700 dark:bg-neutral-700","ansi-bright-red":"bg-red-500/30 dark:bg-red-400/40","ansi-bright-green":"bg-green-500/30 dark:bg-green-400/40","ansi-bright-yellow":"bg-yellow-400/30 dark:bg-yellow-400/40","ansi-bright-blue":"bg-blue-500/30 dark:bg-blue-400/40","ansi-bright-magenta":"bg-fuchsia-500/30 dark:bg-fuchsia-400/40","ansi-bright-cyan":"bg-cyan-500/30 dark:bg-cyan-400/40","ansi-bright-white":"bg-white dark:bg-white"};function hO(t){const e=Le.c(5),{text:n}=t;let s,r;if(e[0]!==n){r=Symbol.for("react.early_return_sentinel");e:{const a=Gte.ansiToJson(n,{use_classes:!0,remove_empty:!0});if(a.length===0){r=p.jsx(p.Fragment,{children:n});break e}if(!a.some(ane)){r=p.jsx(p.Fragment,{children:n});break e}s=a.map(ine)}e[0]=n,e[1]=s,e[2]=r}else s=e[1],r=e[2];if(r!==Symbol.for("react.early_return_sentinel"))return r;let i;return e[3]!==s?(i=p.jsx(p.Fragment,{children:s}),e[3]=s,e[4]=i):i=e[4],i}function ine(t,e){const n=[];return t.fg&&cO[t.fg]&&n.push(cO[t.fg]),t.bg&&uO[t.bg]&&n.push(uO[t.bg]),t.decorations?.includes("bold")&&n.push("font-bold"),t.decorations?.includes("italic")&&n.push("italic"),t.decorations?.includes("underline")&&n.push("underline"),n.length>0?p.jsx("span",{className:n.join(" "),children:t.content},e):p.jsx("span",{children:t.content},e)}function ane(t){return t.fg||t.bg||t.decorations?.length}const one={error:"bg-red-50 dark:bg-red-500/10 border-l-2 border-red-400 dark:border-red-500/50",warn:"bg-yellow-50 dark:bg-yellow-500/10 border-l-2 border-yellow-400 dark:border-yellow-500/50",info:"",debug:"",trace:"",unknown:""};function lne(t,e,n){if(n&&n!=="unknown")return n;if(e){const i=e.level??e.severity??e.lvl??e.log_level??"",a=String(i).toLowerCase();if(a.includes("err")||a==="fatal"||a==="critical")return"error";if(a.includes("warn"))return"warn";if(a==="info")return"info";if(a==="debug")return"debug";if(a==="trace")return"trace"}const r=t.toLowerCase().slice(0,100);return/\b(error|err|fatal|critical|panic|exception)\b/.test(r)?"error":/\b(warn|warning)\b/.test(r)?"warn":/\binfo\b/.test(r)?"info":/\bdebug\b/.test(r)?"debug":/\btrace\b/.test(r)?"trace":"unknown"}function EL(t){const e=Le.c(53),{logs:n,sources:s,isLoading:r,error:i,emptyMessage:a,unavailableMessage:l,toolbarRef:u}=t,h=r===void 0?!1:r,m=a===void 0?"Waiting for logs...":a,[f,g]=z.useState(!0),[y,b]=z.useState(!1),[_,w]=z.useState(!1),k=z.useRef(null),C=z.useRef(null);let E;e[0]!==n?(E=async()=>{const V=n.map(cne).join(`
`);await navigator.clipboard.writeText(V),b(!0),setTimeout(()=>b(!1),2e3)},e[0]=n,e[1]=E):E=e[1];const A=E;let R;e[2]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{if(!C.current)return;const{scrollTop:V,scrollHeight:T,clientHeight:Q}=C.current,te=T-V-Q<50;g(te)},e[2]=R):R=e[2];const N=R;let M;e[3]!==f?(M=()=>{f&&k.current&&k.current.scrollIntoView({behavior:"smooth"})},e[3]=f,e[4]=M):M=e[4];let I;e[5]!==f||e[6]!==n?(I=[n,f],e[5]=f,e[6]=n,e[7]=I):I=e[7],z.useEffect(M,I);let q;e[8]===Symbol.for("react.memo_cache_sentinel")?(q=()=>{g(!0),k.current?.scrollIntoView({behavior:"smooth"})},e[8]=q):q=e[8];const B=q;if(l){let V;return e[9]!==l?(V=p.jsx("div",{className:"h-full flex items-center justify-center text-neutral-500 dark:text-neutral-500",children:l}),e[9]=l,e[10]=V):V=e[10],V}let K;e[11]!==y||e[12]!==A||e[13]!==n.length||e[14]!==_||e[15]!==u?(K=u&&p.jsxs(zb,{toolbarRef:u,children:[p.jsx("button",{onClick:()=>w(!_),className:`flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded transition-colors ${_?"text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-500/20":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800"}`,title:_?"Show all logs":"Show only errors & warnings",children:p.jsx(xY,{size:12})}),p.jsx("button",{onClick:A,disabled:n.length===0,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Copy logs",children:y?p.jsx(An,{size:12,className:"text-emerald-500"}):p.jsx(Ns,{size:12})})]}),e[11]=y,e[12]=A,e[13]=n.length,e[14]=_,e[15]=u,e[16]=K):K=e[16];let $;e[17]!==h?($=h&&p.jsx("div",{className:"p-4 text-neutral-500 dark:text-neutral-500",children:"Loading..."}),e[17]=h,e[18]=$):$=e[18];let W;e[19]!==i?(W=i&&p.jsx("div",{className:"p-4 text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-500/10 border-b border-red-300 dark:border-red-500/30",children:i}),e[19]=i,e[20]=W):W=e[20];let Z;e[21]!==h||e[22]!==s||e[23]!==l?(Z=!h&&s.length===0&&!l&&p.jsx("div",{className:"p-4 text-neutral-500 dark:text-neutral-500",children:"No sources found"}),e[21]=h,e[22]=s,e[23]=l,e[24]=Z):Z=e[24];let G;e[25]!==m||e[26]!==i||e[27]!==h||e[28]!==n.length||e[29]!==s?(G=n.length===0&&!h&&s.length>0&&!i&&p.jsx("div",{className:"p-4 text-neutral-500 dark:text-neutral-500",children:m}),e[25]=m,e[26]=i,e[27]=h,e[28]=n.length,e[29]=s,e[30]=G):G=e[30];let L;if(e[31]!==n||e[32]!==_||e[33]!==s){let V;e[35]!==_||e[36]!==s?(V=(T,Q)=>{const te=sne(T.message),J=lne(T.message,te.jsonData,te.level);if(_&&J!=="error"&&J!=="warn")return null;const ue=rne[J],we=one[J],ke=te.format!=="plain";return p.jsxs("div",{className:`hover:bg-neutral-100 dark:hover:bg-neutral-900/50 rounded px-2 py-1 group ${we}`,children:[p.jsxs("div",{className:"flex items-center gap-2 text-[10px] leading-tight mb-0.5",children:[p.jsx("span",{className:`${Yte(T.source,s)}`,title:T.source,children:T.source}),p.jsx("span",{className:"text-neutral-500 dark:text-neutral-600",children:Zte(T.timestamp)}),T.container&&T.container!==T.source&&p.jsx("span",{className:"text-neutral-500 dark:text-neutral-500",children:T.container})]}),ke?p.jsx("pre",{className:`${ue} whitespace-pre overflow-x-auto scrollbar-hide leading-snug text-[11px]`,children:p.jsx(hO,{text:te.formatted})}):p.jsx("div",{className:`${ue} break-all whitespace-pre-wrap leading-snug`,children:p.jsx(hO,{text:te.formatted})})]},Q)},e[35]=_,e[36]=s,e[37]=V):V=e[37],L=n.map(V),e[31]=n,e[32]=_,e[33]=s,e[34]=L}else L=e[34];let Y;e[38]===Symbol.for("react.memo_cache_sentinel")?(Y=p.jsx("div",{ref:k}),e[38]=Y):Y=e[38];let X;e[39]!==L?(X=p.jsxs("div",{className:"p-2 space-y-1",children:[L,Y]}),e[39]=L,e[40]=X):X=e[40];let U;e[41]!==W||e[42]!==Z||e[43]!==G||e[44]!==X||e[45]!==$?(U=p.jsxs("div",{ref:C,onScroll:N,className:"flex-1 overflow-auto font-mono text-xs",children:[$,W,Z,G,X]}),e[41]=W,e[42]=Z,e[43]=G,e[44]=X,e[45]=$,e[46]=U):U=e[46];let O;e[47]!==f?(O=!f&&p.jsx("div",{className:"shrink-0 px-4 py-2 border-t border-neutral-200 dark:border-neutral-800 bg-neutral-100 dark:bg-neutral-900/50",children:p.jsxs("button",{onClick:B,className:"flex items-center gap-1 text-xs text-neutral-600 dark:text-neutral-500 hover:text-neutral-900 dark:hover:text-neutral-300",children:[p.jsx(vs,{size:12}),"Scroll to bottom"]})}),e[47]=f,e[48]=O):O=e[48];let P;return e[49]!==U||e[50]!==O||e[51]!==K?(P=p.jsxs("div",{className:"flex flex-col h-full bg-neutral-50 dark:bg-neutral-950",children:[K,U,O]}),e[49]=U,e[50]=O,e[51]=K,e[52]=P):P=e[52],P}function cne(t){return`${t.timestamp??""} [${t.source}]${t.container?` [${t.container}]`:""} ${t.message}`}function dO(t,e,n){const s=t.match(/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+Z)\s+(.*)$/);return s?{podName:e,container:n,timestamp:s[1],message:s[2]}:{podName:e,container:n,message:t}}async function une(t,e,n,s){const r=new URLSearchParams;s.container&&r.set("container",s.container),s.follow&&r.set("follow","true"),s.tailLines!==void 0&&r.set("tailLines",String(s.tailLines)),s.timestamps&&r.set("timestamps","true");const i=`/contexts/${t}/api/v1/namespaces/${e}/pods/${n}/log?${r.toString()}`;try{const a=await fetch(i,{signal:s.signal});if(!a.ok)throw new Error(`Failed to fetch logs: ${a.status} ${a.statusText}`);if(!a.body)throw new Error("No response body");const l=a.body.getReader(),u=new TextDecoder;let h="";for(;;){const{done:m,value:f}=await l.read();if(m)break;h+=u.decode(f,{stream:!0});const g=h.split(`
`);h=g.pop()||"";for(const y of g)y.trim()&&s.onLog(dO(y,n,s.container))}h.trim()&&s.onLog(dO(h,n,s.container))}catch(a){if(a.name==="AbortError")return;s.onError?.(a)}}function fO(t){const e=new AbortController;for(const n of t.podNames)une(t.context,t.namespace,n,{container:t.container,follow:t.follow,tailLines:t.tailLines,timestamps:t.timestamps,onLog:t.onLog,onError:t.onError,signal:e.signal});return e}async function hne(t,e,n){const s=`/contexts/${t}/api/v1/namespaces/${e}/pods/${n}`,r=await fetch(s);if(!r.ok)throw new Error(`Failed to fetch pod: ${r.status}`);const i=await r.json(),a=[];if(i.spec?.initContainers)for(const l of i.spec.initContainers)a.push(l.name);if(i.spec?.containers)for(const l of i.spec.containers)a.push(l.name);return a}async function dne(t,e,n,s){let r;switch(n.toLowerCase()){case"deployment":r=`/apis/apps/v1/namespaces/${e}/deployments/${s}`;break;case"daemonset":r=`/apis/apps/v1/namespaces/${e}/daemonsets/${s}`;break;case"replicaset":r=`/apis/apps/v1/namespaces/${e}/replicasets/${s}`;break;case"statefulset":r=`/apis/apps/v1/namespaces/${e}/statefulsets/${s}`;break;case"job":r=`/apis/batch/v1/namespaces/${e}/jobs/${s}`;break;default:throw new Error(`Unsupported workload kind: ${n}`)}const i=await fetch(`/contexts/${t}${r}`);if(!i.ok)throw new Error(`Failed to fetch ${n}: ${i.status}`);const l=(await i.json()).spec?.selector?.matchLabels;if(!l)throw new Error("Workload has no selector labels");const u=Object.entries(l).map(([f,g])=>`${f}=${g}`).join(","),h=await fetch(`/contexts/${t}/api/v1/namespaces/${e}/pods?labelSelector=${encodeURIComponent(u)}`);if(!h.ok)throw new Error(`Failed to fetch pods: ${h.status}`);return(await h.json()).items.map(f=>f.metadata.name)}const fne=4e3;function pne(t){const e=Le.c(44),{context:n,resource:s,tailLines:r}=t,i=r===void 0?fne:r;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[0]=a):a=e[0];const[l,u]=z.useState(a);let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[1]=h):h=e[1];const[m,f]=z.useState(h);let g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g=[],e[2]=g):g=e[2];const[y,b]=z.useState(g),[_,w]=z.useState(!1),[k,C]=z.useState(null),[E,A]=z.useState(!1),R=z.useRef(null),N=s.kind,M=s.metadata?.name,I=s.metadata?.namespace;let q;e:{if(N==="Pod"&&M){let V;e[3]!==M?(V=[M],e[3]=M,e[4]=V):V=e[4],q=V;break e}q=m}const B=q;let K,$;e[5]!==n||e[6]!==N||e[7]!==M||e[8]!==I?(K=()=>{if(!N||!M||!I||N==="Pod")return;let V=!1;return async function(){w(!0);try{const te=await dne(n,I,N,M);V||(f(te),w(!1))}catch(te){V||(C(te.message),w(!1))}}(),()=>{V=!0}},$=[n,I,N,M],e[5]=n,e[6]=N,e[7]=M,e[8]=I,e[9]=K,e[10]=$):(K=e[9],$=e[10]),z.useEffect(K,$);let W,Z;e[11]!==n||e[12]!==N||e[13]!==M||e[14]!==I?(W=()=>{if(!N||!M||!I||N!=="Pod")return;let V=!1;return async function(){w(!0);try{const te=await hne(n,I,M);V||(b(te),w(!1))}catch(te){V||(C(te.message),w(!1))}}(),()=>{V=!0}},Z=[n,I,N,M],e[11]=n,e[12]=N,e[13]=M,e[14]=I,e[15]=W,e[16]=Z):(W=e[15],Z=e[16]),z.useEffect(W,Z);const G=N==="Pod"&&y.length>1,L=B.length>0&&!E&&!_&&(N!=="Pod"||y.length>0);let Y;e[17]!==n||e[18]!==G||e[19]!==I||e[20]!==y||e[21]!==L||e[22]!==B||e[23]!==i?(Y=()=>{if(L&&I){const V=setTimeout(()=>{if(A(!0),G){const T=[];for(const Q of y){const te=fO({context:n,namespace:I,podNames:B,container:Q,follow:!0,tailLines:Math.ceil(i/y.length),timestamps:!0,onLog:J=>{const ue={timestamp:J.timestamp,message:J.message,source:J.podName,container:Q};u(we=>[...we,ue])},onError:J=>{C(J.message)}});T.push(te)}R.current={abort:()=>T.forEach(mne),signal:T[0]?.signal}}else R.current=fO({context:n,namespace:I,podNames:B,container:y.length===1?y[0]:void 0,follow:!0,tailLines:i,timestamps:!0,onLog:T=>{const Q={timestamp:T.timestamp,message:T.message,source:T.podName,container:T.container};u(te=>[...te,Q])},onError:T=>{C(T.message)}})},0);return()=>clearTimeout(V)}},e[17]=n,e[18]=G,e[19]=I,e[20]=y,e[21]=L,e[22]=B,e[23]=i,e[24]=Y):Y=e[24];let X;e[25]!==n||e[26]!==G||e[27]!==N||e[28]!==I||e[29]!==y||e[30]!==L||e[31]!==B||e[32]!==i?(X=[L,n,I,B,i,G,y,N],e[25]=n,e[26]=G,e[27]=N,e[28]=I,e[29]=y,e[30]=L,e[31]=B,e[32]=i,e[33]=X):X=e[33],z.useEffect(Y,X);let U;e[34]===Symbol.for("react.memo_cache_sentinel")?(U=()=>()=>{R.current?.abort(),R.current=null},e[34]=U):U=e[34];let O;e[35]!==N||e[36]!==M||e[37]!==I?(O=[N,M,I],e[35]=N,e[36]=M,e[37]=I,e[38]=O):O=e[38],z.useEffect(U,O);let P;return e[39]!==k||e[40]!==_||e[41]!==l||e[42]!==B?(P={logs:l,sources:B,isLoading:_,error:k},e[39]=k,e[40]=_,e[41]=l,e[42]=B,e[43]=P):P=e[43],P}function mne(t){return t.abort()}function gne(t){const e=Le.c(9),{context:n,resource:s,toolbarRef:r}=t;let i;e[0]!==n||e[1]!==s?(i={context:n,resource:s},e[0]=n,e[1]=s,e[2]=i):i=e[2];const{logs:a,sources:l,isLoading:u,error:h}=pne(i);let m;return e[3]!==h||e[4]!==u||e[5]!==a||e[6]!==l||e[7]!==r?(m=p.jsx(EL,{logs:a,sources:l,isLoading:u,error:h,emptyMessage:"Waiting for logs...",toolbarRef:r}),e[3]=h,e[4]=u,e[5]=a,e[6]=l,e[7]=r,e[8]=m):m=e[8],m}function yne(t){return`${t.kind}/${t.metadata?.namespace}/${t.metadata?.name}`}function vne(t){const e=Le.c(7),{context:n,resource:s,toolbarRef:r}=t;let i;e[0]!==s?(i=yne(s),e[0]=s,e[1]=i):i=e[1];let a;return e[2]!==n||e[3]!==s||e[4]!==i||e[5]!==r?(a=p.jsx(gne,{context:n,resource:s,toolbarRef:r},i),e[2]=n,e[3]=s,e[4]=i,e[5]=r,e[6]=a):a=e[6],a}var AL=Object.defineProperty,bne=Object.getOwnPropertyDescriptor,_ne=(t,e)=>{for(var n in e)AL(t,n,{get:e[n],enumerable:!0})},wn=(t,e,n,s)=>{for(var r=s>1?void 0:s?bne(e,n):e,i=t.length-1,a;i>=0;i--)(a=t[i])&&(r=(s?a(e,n,r):a(r))||r);return s&&r&&AL(e,n,r),r},Ue=(t,e)=>(n,s)=>e(n,s,t),pO="Terminal input",s2={get:()=>pO,set:t=>pO=t},mO="Too much output to announce, navigate to rows manually to read",r2={get:()=>mO,set:t=>mO=t};function xne(t){return t.replace(/\r?\n/g,"\r")}function Sne(t,e){return e?"\x1B[200~"+t+"\x1B[201~":t}function wne(t,e){t.clipboardData&&t.clipboardData.setData("text/plain",e.selectionText),t.preventDefault()}function kne(t,e,n,s){if(t.stopPropagation(),t.clipboardData){let r=t.clipboardData.getData("text/plain");RL(r,e,n,s)}}function RL(t,e,n,s){t=xne(t),t=Sne(t,n.decPrivateModes.bracketedPasteMode&&s.rawOptions.ignoreBracketedPasteMode!==!0),n.triggerDataEvent(t,!0),e.value=""}function TL(t,e,n){let s=n.getBoundingClientRect(),r=t.clientX-s.left-10,i=t.clientY-s.top-10;e.style.width="20px",e.style.height="20px",e.style.left=`${r}px`,e.style.top=`${i}px`,e.style.zIndex="1000",e.focus()}function gO(t,e,n,s,r){TL(t,e,n),r&&s.rightClickSelect(t),e.value=s.selectionText,e.select()}function Ro(t){return t>65535?(t-=65536,String.fromCharCode((t>>10)+55296)+String.fromCharCode(t%1024+56320)):String.fromCharCode(t)}function Fb(t,e=0,n=t.length){let s="";for(let r=e;r<n;++r){let i=t[r];i>65535?(i-=65536,s+=String.fromCharCode((i>>10)+55296)+String.fromCharCode(i%1024+56320)):s+=String.fromCharCode(i)}return s}var Cne=class{constructor(){this._interim=0}clear(){this._interim=0}decode(t,e){let n=t.length;if(!n)return 0;let s=0,r=0;if(this._interim){let i=t.charCodeAt(r++);56320<=i&&i<=57343?e[s++]=(this._interim-55296)*1024+i-56320+65536:(e[s++]=this._interim,e[s++]=i),this._interim=0}for(let i=r;i<n;++i){let a=t.charCodeAt(i);if(55296<=a&&a<=56319){if(++i>=n)return this._interim=a,s;let l=t.charCodeAt(i);56320<=l&&l<=57343?e[s++]=(a-55296)*1024+l-56320+65536:(e[s++]=a,e[s++]=l);continue}a!==65279&&(e[s++]=a)}return s}},Nne=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(t,e){let n=t.length;if(!n)return 0;let s=0,r,i,a,l,u=0,h=0;if(this.interim[0]){let g=!1,y=this.interim[0];y&=(y&224)===192?31:(y&240)===224?15:7;let b=0,_;for(;(_=this.interim[++b]&63)&&b<4;)y<<=6,y|=_;let w=(this.interim[0]&224)===192?2:(this.interim[0]&240)===224?3:4,k=w-b;for(;h<k;){if(h>=n)return 0;if(_=t[h++],(_&192)!==128){h--,g=!0;break}else this.interim[b++]=_,y<<=6,y|=_&63}g||(w===2?y<128?h--:e[s++]=y:w===3?y<2048||y>=55296&&y<=57343||y===65279||(e[s++]=y):y<65536||y>1114111||(e[s++]=y)),this.interim.fill(0)}let m=n-4,f=h;for(;f<n;){for(;f<m&&!((r=t[f])&128)&&!((i=t[f+1])&128)&&!((a=t[f+2])&128)&&!((l=t[f+3])&128);)e[s++]=r,e[s++]=i,e[s++]=a,e[s++]=l,f+=4;if(r=t[f++],r<128)e[s++]=r;else if((r&224)===192){if(f>=n)return this.interim[0]=r,s;if(i=t[f++],(i&192)!==128){f--;continue}if(u=(r&31)<<6|i&63,u<128){f--;continue}e[s++]=u}else if((r&240)===224){if(f>=n)return this.interim[0]=r,s;if(i=t[f++],(i&192)!==128){f--;continue}if(f>=n)return this.interim[0]=r,this.interim[1]=i,s;if(a=t[f++],(a&192)!==128){f--;continue}if(u=(r&15)<<12|(i&63)<<6|a&63,u<2048||u>=55296&&u<=57343||u===65279)continue;e[s++]=u}else if((r&248)===240){if(f>=n)return this.interim[0]=r,s;if(i=t[f++],(i&192)!==128){f--;continue}if(f>=n)return this.interim[0]=r,this.interim[1]=i,s;if(a=t[f++],(a&192)!==128){f--;continue}if(f>=n)return this.interim[0]=r,this.interim[1]=i,this.interim[2]=a,s;if(l=t[f++],(l&192)!==128){f--;continue}if(u=(r&7)<<18|(i&63)<<12|(a&63)<<6|l&63,u<65536||u>1114111)continue;e[s++]=u}}return s}},jL="",Po=" ",mm=class OL{constructor(){this.fg=0,this.bg=0,this.extended=new cv}static toColorRGB(e){return[e>>>16&255,e>>>8&255,e&255]}static fromColorRGB(e){return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255}clone(){let e=new OL;return e.fg=this.fg,e.bg=this.bg,e.extended=this.extended.clone(),e}isInverse(){return this.fg&67108864}isBold(){return this.fg&134217728}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:this.fg&268435456}isBlink(){return this.fg&536870912}isInvisible(){return this.fg&1073741824}isItalic(){return this.bg&67108864}isDim(){return this.bg&134217728}isStrikethrough(){return this.fg&2147483648}isProtected(){return this.bg&536870912}isOverline(){return this.bg&1073741824}getFgColorMode(){return this.fg&50331648}getBgColorMode(){return this.bg&50331648}isFgRGB(){return(this.fg&50331648)===50331648}isBgRGB(){return(this.bg&50331648)===50331648}isFgPalette(){return(this.fg&50331648)===16777216||(this.fg&50331648)===33554432}isBgPalette(){return(this.bg&50331648)===16777216||(this.bg&50331648)===33554432}isFgDefault(){return(this.fg&50331648)===0}isBgDefault(){return(this.bg&50331648)===0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(this.fg&50331648){case 16777216:case 33554432:return this.fg&255;case 50331648:return this.fg&16777215;default:return-1}}getBgColor(){switch(this.bg&50331648){case 16777216:case 33554432:return this.bg&255;case 50331648:return this.bg&16777215;default:return-1}}hasExtendedAttrs(){return this.bg&268435456}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(this.bg&268435456&&~this.extended.underlineColor)switch(this.extended.underlineColor&50331648){case 16777216:case 33554432:return this.extended.underlineColor&255;case 50331648:return this.extended.underlineColor&16777215;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return this.bg&268435456&&~this.extended.underlineColor?this.extended.underlineColor&50331648:this.getFgColorMode()}isUnderlineColorRGB(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===50331648:this.isFgRGB()}isUnderlineColorPalette(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===16777216||(this.extended.underlineColor&50331648)===33554432:this.isFgPalette()}isUnderlineColorDefault(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===0:this.isFgDefault()}getUnderlineStyle(){return this.fg&268435456?this.bg&268435456?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}},cv=class ML{constructor(e=0,n=0){this._ext=0,this._urlId=0,this._ext=e,this._urlId=n}get ext(){return this._urlId?this._ext&-469762049|this.underlineStyle<<26:this._ext}set ext(e){this._ext=e}get underlineStyle(){return this._urlId?5:(this._ext&469762048)>>26}set underlineStyle(e){this._ext&=-469762049,this._ext|=e<<26&469762048}get underlineColor(){return this._ext&67108863}set underlineColor(e){this._ext&=-67108864,this._ext|=e&67108863}get urlId(){return this._urlId}set urlId(e){this._urlId=e}get underlineVariantOffset(){let e=(this._ext&3758096384)>>29;return e<0?e^4294967288:e}set underlineVariantOffset(e){this._ext&=536870911,this._ext|=e<<29&3758096384}clone(){return new ML(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}},ri=class IL extends mm{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new cv,this.combinedData=""}static fromCharData(e){let n=new IL;return n.setFromCharData(e),n}isCombined(){return this.content&2097152}getWidth(){return this.content>>22}getChars(){return this.content&2097152?this.combinedData:this.content&2097151?Ro(this.content&2097151):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):this.content&2097151}setFromCharData(e){this.fg=e[0],this.bg=0;let n=!1;if(e[1].length>2)n=!0;else if(e[1].length===2){let s=e[1].charCodeAt(0);if(55296<=s&&s<=56319){let r=e[1].charCodeAt(1);56320<=r&&r<=57343?this.content=(s-55296)*1024+r-56320+65536|e[2]<<22:n=!0}else n=!0}else this.content=e[1].charCodeAt(0)|e[2]<<22;n&&(this.combinedData=e[1],this.content=2097152|e[2]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},yO="di$target",i2="di$dependencies",mS=new Map;function Ene(t){return t[i2]||[]}function is(t){if(mS.has(t))return mS.get(t);let e=function(n,s,r){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Ane(e,n,r)};return e._id=t,mS.set(t,e),e}function Ane(t,e,n){e[yO]===e?e[i2].push({id:t,index:n}):(e[i2]=[{id:t,index:n}],e[yO]=e)}var Vs=is("BufferService"),DL=is("CoreMouseService"),Ec=is("CoreService"),Rne=is("CharsetService"),KN=is("InstantiationService"),PL=is("LogService"),qs=is("OptionsService"),LL=is("OscLinkService"),Tne=is("UnicodeService"),gm=is("DecorationService"),a2=class{constructor(t,e,n){this._bufferService=t,this._optionsService=e,this._oscLinkService=n}provideLinks(t,e){let n=this._bufferService.buffer.lines.get(t-1);if(!n){e(void 0);return}let s=[],r=this._optionsService.rawOptions.linkHandler,i=new ri,a=n.getTrimmedLength(),l=-1,u=-1,h=!1;for(let m=0;m<a;m++)if(!(u===-1&&!n.hasContent(m))){if(n.loadCell(m,i),i.hasExtendedAttrs()&&i.extended.urlId)if(u===-1){u=m,l=i.extended.urlId;continue}else h=i.extended.urlId!==l;else u!==-1&&(h=!0);if(h||u!==-1&&m===a-1){let f=this._oscLinkService.getLinkData(l)?.uri;if(f){let g={start:{x:u+1,y:t},end:{x:m+(!h&&m===a-1?1:0),y:t}},y=!1;if(!r?.allowNonHttpProtocols)try{let b=new URL(f);["http:","https:"].includes(b.protocol)||(y=!0)}catch{y=!0}y||s.push({text:f,range:g,activate:(b,_)=>r?r.activate(b,_,g):jne(b,_),hover:(b,_)=>r?.hover?.(b,_,g),leave:(b,_)=>r?.leave?.(b,_,g)})}h=!1,i.hasExtendedAttrs()&&i.extended.urlId?(u=m,l=i.extended.urlId):(u=-1,l=-1)}}e(s)}};a2=wn([Ue(0,Vs),Ue(1,qs),Ue(2,LL)],a2);function jne(t,e){if(confirm(`Do you want to navigate to ${e}?

WARNING: This link could potentially be dangerous`)){let n=window.open();if(n){try{n.opener=null}catch{}n.location.href=e}else console.warn("Opening link blocked as opener could not be cleared")}}var Ub=is("CharSizeService"),Ga=is("CoreBrowserService"),WN=is("MouseService"),Ya=is("RenderService"),One=is("SelectionService"),BL=is("CharacterJoinerService"),Bh=is("ThemeService"),$L=is("LinkProviderService"),Mne=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?vO.isErrorNoTelemetry(t)?new vO(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(e=>{e(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},Ine=new Mne;function F0(t){Dne(t)||Ine.onUnexpectedError(t)}var o2="Canceled";function Dne(t){return t instanceof Pne?!0:t instanceof Error&&t.name===o2&&t.message===o2}var Pne=class extends Error{constructor(){super(o2),this.name=this.message}};function Lne(t){return new Error(`Illegal argument: ${t}`)}var vO=class l2 extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof l2)return e;let n=new l2;return n.message=e.message,n.stack=e.stack,n}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},c2=class zL extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,zL.prototype)}};function vr(t,e=0){return t[t.length-(1+e)]}var Bne;(t=>{function e(i){return i<0}t.isLessThan=e;function n(i){return i<=0}t.isLessThanOrEqual=n;function s(i){return i>0}t.isGreaterThan=s;function r(i){return i===0}t.isNeitherLessOrGreaterThan=r,t.greaterThan=1,t.lessThan=-1,t.neitherLessOrGreaterThan=0})(Bne||={});function $ne(t,e){let n=this,s=!1,r;return function(){return s||(s=!0,e||(r=t.apply(n,arguments))),r}}var FL;(t=>{function e(A){return A&&typeof A=="object"&&typeof A[Symbol.iterator]=="function"}t.is=e;let n=Object.freeze([]);function s(){return n}t.empty=s;function*r(A){yield A}t.single=r;function i(A){return e(A)?A:r(A)}t.wrap=i;function a(A){return A||n}t.from=a;function*l(A){for(let R=A.length-1;R>=0;R--)yield A[R]}t.reverse=l;function u(A){return!A||A[Symbol.iterator]().next().done===!0}t.isEmpty=u;function h(A){return A[Symbol.iterator]().next().value}t.first=h;function m(A,R){let N=0;for(let M of A)if(R(M,N++))return!0;return!1}t.some=m;function f(A,R){for(let N of A)if(R(N))return N}t.find=f;function*g(A,R){for(let N of A)R(N)&&(yield N)}t.filter=g;function*y(A,R){let N=0;for(let M of A)yield R(M,N++)}t.map=y;function*b(A,R){let N=0;for(let M of A)yield*R(M,N++)}t.flatMap=b;function*_(...A){for(let R of A)yield*R}t.concat=_;function w(A,R,N){let M=N;for(let I of A)M=R(M,I);return M}t.reduce=w;function*k(A,R,N=A.length){for(R<0&&(R+=A.length),N<0?N+=A.length:N>A.length&&(N=A.length);R<N;R++)yield A[R]}t.slice=k;function C(A,R=Number.POSITIVE_INFINITY){let N=[];if(R===0)return[N,A];let M=A[Symbol.iterator]();for(let I=0;I<R;I++){let q=M.next();if(q.done)return[N,t.empty()];N.push(q.value)}return[N,{[Symbol.iterator](){return M}}]}t.consume=C;async function E(A){let R=[];for await(let N of A)R.push(N);return Promise.resolve(R)}t.asyncToArray=E})(FL||={});function mc(t){if(FL.is(t)){let e=[];for(let n of t)if(n)try{n.dispose()}catch(s){e.push(s)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}function zne(...t){return fn(()=>mc(t))}function fn(t){return{dispose:$ne(()=>{t()})}}var UL=class HL{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{mc(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?HL.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),void 0)}};UL.DISABLE_DISPOSED_WARNING=!1;var Ko=UL,Tt=class{constructor(){this._store=new Ko,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};Tt.None=Object.freeze({dispose(){}});var gh=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(t){this._isDisposed||t===this._value||(this._value?.dispose(),this._value=t)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}clearAndLeak(){let t=this._value;return this._value=void 0,t}},ja=typeof window=="object"?window:globalThis,u2=class h2{constructor(e){this.element=e,this.next=h2.Undefined,this.prev=h2.Undefined}};u2.Undefined=new u2(void 0);var yn=u2,bO=class{constructor(){this._first=yn.Undefined,this._last=yn.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===yn.Undefined}clear(){let t=this._first;for(;t!==yn.Undefined;){let e=t.next;t.prev=yn.Undefined,t.next=yn.Undefined,t=e}this._first=yn.Undefined,this._last=yn.Undefined,this._size=0}unshift(t){return this._insert(t,!1)}push(t){return this._insert(t,!0)}_insert(t,e){let n=new yn(t);if(this._first===yn.Undefined)this._first=n,this._last=n;else if(e){let r=this._last;this._last=n,n.prev=r,r.next=n}else{let r=this._first;this._first=n,n.next=r,r.prev=n}this._size+=1;let s=!1;return()=>{s||(s=!0,this._remove(n))}}shift(){if(this._first!==yn.Undefined){let t=this._first.element;return this._remove(this._first),t}}pop(){if(this._last!==yn.Undefined){let t=this._last.element;return this._remove(this._last),t}}_remove(t){if(t.prev!==yn.Undefined&&t.next!==yn.Undefined){let e=t.prev;e.next=t.next,t.next.prev=e}else t.prev===yn.Undefined&&t.next===yn.Undefined?(this._first=yn.Undefined,this._last=yn.Undefined):t.next===yn.Undefined?(this._last=this._last.prev,this._last.next=yn.Undefined):t.prev===yn.Undefined&&(this._first=this._first.next,this._first.prev=yn.Undefined);this._size-=1}*[Symbol.iterator](){let t=this._first;for(;t!==yn.Undefined;)yield t.element,t=t.next}},Fne=globalThis.performance&&typeof globalThis.performance.now=="function",Une=class VL{static create(e){return new VL(e)}constructor(e){this._now=Fne&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}},ms;(t=>{t.None=()=>Tt.None;function e($,W){return f($,()=>{},0,void 0,!0,void 0,W)}t.defer=e;function n($){return(W,Z=null,G)=>{let L=!1,Y;return Y=$(X=>{if(!L)return Y?Y.dispose():L=!0,W.call(Z,X)},null,G),L&&Y.dispose(),Y}}t.once=n;function s($,W,Z){return h((G,L=null,Y)=>$(X=>G.call(L,W(X)),null,Y),Z)}t.map=s;function r($,W,Z){return h((G,L=null,Y)=>$(X=>{W(X),G.call(L,X)},null,Y),Z)}t.forEach=r;function i($,W,Z){return h((G,L=null,Y)=>$(X=>W(X)&&G.call(L,X),null,Y),Z)}t.filter=i;function a($){return $}t.signal=a;function l(...$){return(W,Z=null,G)=>{let L=zne(...$.map(Y=>Y(X=>W.call(Z,X))));return m(L,G)}}t.any=l;function u($,W,Z,G){let L=Z;return s($,Y=>(L=W(L,Y),L),G)}t.reduce=u;function h($,W){let Z,G={onWillAddFirstListener(){Z=$(L.fire,L)},onDidRemoveLastListener(){Z?.dispose()}},L=new je(G);return W?.add(L),L.event}function m($,W){return W instanceof Array?W.push($):W&&W.add($),$}function f($,W,Z=100,G=!1,L=!1,Y,X){let U,O,P,V=0,T,Q={leakWarningThreshold:Y,onWillAddFirstListener(){U=$(J=>{V++,O=W(O,J),G&&!P&&(te.fire(O),O=void 0),T=()=>{let ue=O;O=void 0,P=void 0,(!G||V>1)&&te.fire(ue),V=0},typeof Z=="number"?(clearTimeout(P),P=setTimeout(T,Z)):P===void 0&&(P=0,queueMicrotask(T))})},onWillRemoveListener(){L&&V>0&&T?.()},onDidRemoveLastListener(){T=void 0,U.dispose()}},te=new je(Q);return X?.add(te),te.event}t.debounce=f;function g($,W=0,Z){return t.debounce($,(G,L)=>G?(G.push(L),G):[L],W,void 0,!0,void 0,Z)}t.accumulate=g;function y($,W=(G,L)=>G===L,Z){let G=!0,L;return i($,Y=>{let X=G||!W(Y,L);return G=!1,L=Y,X},Z)}t.latch=y;function b($,W,Z){return[t.filter($,W,Z),t.filter($,G=>!W(G),Z)]}t.split=b;function _($,W=!1,Z=[],G){let L=Z.slice(),Y=$(O=>{L?L.push(O):U.fire(O)});G&&G.add(Y);let X=()=>{L?.forEach(O=>U.fire(O)),L=null},U=new je({onWillAddFirstListener(){Y||(Y=$(O=>U.fire(O)),G&&G.add(Y))},onDidAddFirstListener(){L&&(W?setTimeout(X):X())},onDidRemoveLastListener(){Y&&Y.dispose(),Y=null}});return G&&G.add(U),U.event}t.buffer=_;function w($,W){return(Z,G,L)=>{let Y=W(new C);return $(function(X){let U=Y.evaluate(X);U!==k&&Z.call(G,U)},void 0,L)}}t.chain=w;let k=Symbol("HaltChainable");class C{constructor(){this.steps=[]}map(W){return this.steps.push(W),this}forEach(W){return this.steps.push(Z=>(W(Z),Z)),this}filter(W){return this.steps.push(Z=>W(Z)?Z:k),this}reduce(W,Z){let G=Z;return this.steps.push(L=>(G=W(G,L),G)),this}latch(W=(Z,G)=>Z===G){let Z=!0,G;return this.steps.push(L=>{let Y=Z||!W(L,G);return Z=!1,G=L,Y?L:k}),this}evaluate(W){for(let Z of this.steps)if(W=Z(W),W===k)break;return W}}function E($,W,Z=G=>G){let G=(...U)=>X.fire(Z(...U)),L=()=>$.on(W,G),Y=()=>$.removeListener(W,G),X=new je({onWillAddFirstListener:L,onDidRemoveLastListener:Y});return X.event}t.fromNodeEventEmitter=E;function A($,W,Z=G=>G){let G=(...U)=>X.fire(Z(...U)),L=()=>$.addEventListener(W,G),Y=()=>$.removeEventListener(W,G),X=new je({onWillAddFirstListener:L,onDidRemoveLastListener:Y});return X.event}t.fromDOMEventEmitter=A;function R($){return new Promise(W=>n($)(W))}t.toPromise=R;function N($){let W=new je;return $.then(Z=>{W.fire(Z)},()=>{W.fire(void 0)}).finally(()=>{W.dispose()}),W.event}t.fromPromise=N;function M($,W){return $(Z=>W.fire(Z))}t.forward=M;function I($,W,Z){return W(Z),$(G=>W(G))}t.runAndSubscribe=I;class q{constructor(W,Z){this._observable=W,this._counter=0,this._hasChanged=!1;let G={onWillAddFirstListener:()=>{W.addObserver(this)},onDidRemoveLastListener:()=>{W.removeObserver(this)}};this.emitter=new je(G),Z&&Z.add(this.emitter)}beginUpdate(W){this._counter++}handlePossibleChange(W){}handleChange(W,Z){this._hasChanged=!0}endUpdate(W){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function B($,W){return new q($,W).emitter.event}t.fromObservable=B;function K($){return(W,Z,G)=>{let L=0,Y=!1,X={beginUpdate(){L++},endUpdate(){L--,L===0&&($.reportChanges(),Y&&(Y=!1,W.call(Z)))},handlePossibleChange(){},handleChange(){Y=!0}};$.addObserver(X),$.reportChanges();let U={dispose(){$.removeObserver(X)}};return G instanceof Ko?G.add(U):Array.isArray(G)&&G.push(U),U}}t.fromObservableLight=K})(ms||={});var d2=class f2{constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${f2._idPool++}`,f2.all.add(this)}start(e){this._stopWatch=new Une,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}};d2.all=new Set,d2._idPool=0;var Hne=d2,Vne=-1,qL=class KL{constructor(e,n,s=(KL._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e,this.threshold=n,this.name=s,this._warnCountdown=0}dispose(){this._stacks?.clear()}check(e,n){let s=this.threshold;if(s<=0||n<s)return;this._stacks||(this._stacks=new Map);let r=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,r+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=s*.5;let[i,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${n} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(i);let u=new Wne(l,i);this._errorHandler(u)}return()=>{let i=this._stacks.get(e.value)||0;this._stacks.set(e.value,i-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,n=0;for(let[s,r]of this._stacks)(!e||n<r)&&(e=[s,r],n=r);return e}};qL._idPool=1;var qne=qL,Kne=class WL{constructor(e){this.value=e}static create(){let e=new Error;return new WL(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Wne=class extends Error{constructor(t,e){super(t),this.name="ListenerLeakError",this.stack=e}},Gne=class extends Error{constructor(t,e){super(t),this.name="ListenerRefusalError",this.stack=e}},Yne=0,gS=class{constructor(t){this.value=t,this.id=Yne++}},Zne=2,Jne,je=class{constructor(e){this._size=0,this._options=e,this._leakageMon=this._options?.leakWarningThreshold?new qne(e?.onListenerError??F0,this._options?.leakWarningThreshold??Vne):void 0,this._perfMon=this._options?._profName?new Hne(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){this._disposed||(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose())}get event(){return this._event??=(e,n,s)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let l=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(l);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],h=new Gne(`${l}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||F0)(h),Tt.None}if(this._disposed)return Tt.None;n&&(e=e.bind(n));let r=new gS(e),i;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(r.stack=Kne.create(),i=this._leakageMon.check(r.stack,this._size+1)),this._listeners?this._listeners instanceof gS?(this._deliveryQueue??=new Xne,this._listeners=[this._listeners,r]):this._listeners.push(r):(this._options?.onWillAddFirstListener?.(this),this._listeners=r,this._options?.onDidAddFirstListener?.(this)),this._size++;let a=fn(()=>{i?.(),this._removeListener(r)});return s instanceof Ko?s.add(a):Array.isArray(s)&&s.push(a),a},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let n=this._listeners,s=n.indexOf(e);if(s===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,n[s]=void 0;let r=this._deliveryQueue.current===this;if(this._size*Zne<=n.length){let i=0;for(let a=0;a<n.length;a++)n[a]?n[i++]=n[a]:r&&(this._deliveryQueue.end--,i<this._deliveryQueue.i&&this._deliveryQueue.i--);n.length=i}}_deliver(e,n){if(!e)return;let s=this._options?.onListenerError||F0;if(!s){e.value(n);return}try{e.value(n)}catch(r){s(r)}}_deliverQueue(e){let n=e.current._listeners;for(;e.i<e.end;)this._deliver(n[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof gS)this._deliver(this._listeners,e);else{let n=this._deliveryQueue;n.enqueue(this,e,this._listeners.length),this._deliverQueue(n)}this._perfMon?.stop()}hasListeners(){return this._size>0}},Xne=class{constructor(){this.i=-1,this.end=0}enqueue(t,e,n){this.i=0,this.end=n,this.current=t,this.value=e}reset(){this.i=this.end,this.current=void 0,this.value=void 0}},p2=class{constructor(){this.mapWindowIdToZoomLevel=new Map,this._onDidChangeZoomLevel=new je,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this.mapWindowIdToZoomFactor=new Map,this._onDidChangeFullscreen=new je,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event,this.mapWindowIdToFullScreen=new Map}getZoomLevel(e){return this.mapWindowIdToZoomLevel.get(this.getWindowId(e))??0}setZoomLevel(e,n){if(this.getZoomLevel(n)===e)return;let s=this.getWindowId(n);this.mapWindowIdToZoomLevel.set(s,e),this._onDidChangeZoomLevel.fire(s)}getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}setZoomFactor(e,n){this.mapWindowIdToZoomFactor.set(this.getWindowId(n),e)}setFullscreen(e,n){if(this.isFullscreen(n)===e)return;let s=this.getWindowId(n);this.mapWindowIdToFullScreen.set(s,e),this._onDidChangeFullscreen.fire(s)}isFullscreen(e){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(e))}getWindowId(e){return e.vscodeWindowId}};p2.INSTANCE=new p2;var GN=p2;function Qne(t,e,n){typeof e=="string"&&(e=t.matchMedia(e)),e.addEventListener("change",n)}GN.INSTANCE.onDidChangeZoomLevel;function ese(t){return GN.INSTANCE.getZoomFactor(t)}GN.INSTANCE.onDidChangeFullscreen;var $h=typeof navigator=="object"?navigator.userAgent:"",m2=$h.indexOf("Firefox")>=0,tse=$h.indexOf("AppleWebKit")>=0,YN=$h.indexOf("Chrome")>=0,nse=!YN&&$h.indexOf("Safari")>=0;$h.indexOf("Electron/")>=0;$h.indexOf("Android")>=0;var yS=!1;if(typeof ja.matchMedia=="function"){let t=ja.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=ja.matchMedia("(display-mode: fullscreen)");yS=t.matches,Qne(ja,t,({matches:n})=>{yS&&e.matches||(yS=n)})}var Bu="en",g2=!1,y2=!1,U0=!1,GL=!1,o0,H0=Bu,_O=Bu,sse,Ca,Yl=globalThis,kr;typeof Yl.vscode<"u"&&typeof Yl.vscode.process<"u"?kr=Yl.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(kr=process);var rse=typeof kr?.versions?.electron=="string",ise=rse&&kr?.type==="renderer";if(typeof kr=="object"){g2=kr.platform==="win32",y2=kr.platform==="darwin",U0=kr.platform==="linux",U0&&kr.env.SNAP&&kr.env.SNAP_REVISION,kr.env.CI||kr.env.BUILD_ARTIFACTSTAGINGDIRECTORY,o0=Bu,H0=Bu;let t=kr.env.VSCODE_NLS_CONFIG;if(t)try{let e=JSON.parse(t);o0=e.userLocale,_O=e.osLocale,H0=e.resolvedLanguage||Bu,sse=e.languagePack?.translationsConfigFile}catch{}GL=!0}else typeof navigator=="object"&&!ise?(Ca=navigator.userAgent,g2=Ca.indexOf("Windows")>=0,y2=Ca.indexOf("Macintosh")>=0,(Ca.indexOf("Macintosh")>=0||Ca.indexOf("iPad")>=0||Ca.indexOf("iPhone")>=0)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0,U0=Ca.indexOf("Linux")>=0,Ca?.indexOf("Mobi")>=0,H0=globalThis._VSCODE_NLS_LANGUAGE||Bu,o0=navigator.language.toLowerCase(),_O=o0):console.error("Unable to resolve platform.");var YL=g2,Vi=y2,ase=U0,xO=GL,Gi=Ca,So=H0,ose;(t=>{function e(){return So}t.value=e;function n(){return So.length===2?So==="en":So.length>=3?So[0]==="e"&&So[1]==="n"&&So[2]==="-":!1}t.isDefaultVariant=n;function s(){return So==="en"}t.isDefault=s})(ose||={});var lse=typeof Yl.postMessage=="function"&&!Yl.importScripts;(()=>{if(lse){let t=[];Yl.addEventListener("message",n=>{if(n.data&&n.data.vscodeScheduleAsyncWork)for(let s=0,r=t.length;s<r;s++){let i=t[s];if(i.id===n.data.vscodeScheduleAsyncWork){t.splice(s,1),i.callback();return}}});let e=0;return n=>{let s=++e;t.push({id:s,callback:n}),Yl.postMessage({vscodeScheduleAsyncWork:s},"*")}}return t=>setTimeout(t)})();var cse=!!(Gi&&Gi.indexOf("Chrome")>=0);Gi&&Gi.indexOf("Firefox")>=0;!cse&&Gi&&Gi.indexOf("Safari")>=0;Gi&&Gi.indexOf("Edg/")>=0;Gi&&Gi.indexOf("Android")>=0;var vu=typeof navigator=="object"?navigator:{};xO||document.queryCommandSupported&&document.queryCommandSupported("copy")||vu&&vu.clipboard&&vu.clipboard.writeText,xO||vu&&vu.clipboard&&vu.clipboard.readText;var ZN=class{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(t,e){this._keyCodeToStr[t]=e,this._strToKeyCode[e.toLowerCase()]=t}keyCodeToStr(t){return this._keyCodeToStr[t]}strToKeyCode(t){return this._strToKeyCode[t.toLowerCase()]||0}},vS=new ZN,SO=new ZN,wO=new ZN,use=new Array(230),ZL;(t=>{function e(l){return vS.keyCodeToStr(l)}t.toString=e;function n(l){return vS.strToKeyCode(l)}t.fromString=n;function s(l){return SO.keyCodeToStr(l)}t.toUserSettingsUS=s;function r(l){return wO.keyCodeToStr(l)}t.toUserSettingsGeneral=r;function i(l){return SO.strToKeyCode(l)||wO.strToKeyCode(l)}t.fromUserSettings=i;function a(l){if(l>=98&&l<=113)return null;switch(l){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return vS.keyCodeToStr(l)}t.toElectronAccelerator=a})(ZL||={});var hse=class JL{constructor(e,n,s,r,i){this.ctrlKey=e,this.shiftKey=n,this.altKey=s,this.metaKey=r,this.keyCode=i}equals(e){return e instanceof JL&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){let e=this.ctrlKey?"1":"0",n=this.shiftKey?"1":"0",s=this.altKey?"1":"0",r=this.metaKey?"1":"0";return`K${e}${n}${s}${r}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new dse([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}},dse=class{constructor(t){if(t.length===0)throw Lne("chords");this.chords=t}getHashCode(){let t="";for(let e=0,n=this.chords.length;e<n;e++)e!==0&&(t+=";"),t+=this.chords[e].getHashCode();return t}equals(t){if(t===null||this.chords.length!==t.chords.length)return!1;for(let e=0;e<this.chords.length;e++)if(!this.chords[e].equals(t.chords[e]))return!1;return!0}};function fse(t){if(t.charCode){let n=String.fromCharCode(t.charCode).toUpperCase();return ZL.fromString(n)}let e=t.keyCode;if(e===3)return 7;if(m2)switch(e){case 59:return 85;case 60:if(ase)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Vi)return 57;break}else if(tse&&(Vi&&e===93||!Vi&&e===92))return 57;return use[e]||0}var pse=Vi?256:2048,mse=512,gse=1024,yse=Vi?2048:256,kO=class{constructor(t){this._standardKeyboardEventBrand=!0;let e=t;this.browserEvent=e,this.target=e.target,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.altGraphKey=e.getModifierState?.("AltGraph"),this.keyCode=fse(e),this.code=e.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(t){return this._asKeybinding===t}_computeKeybinding(){let t=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode);let e=0;return this.ctrlKey&&(e|=pse),this.altKey&&(e|=mse),this.shiftKey&&(e|=gse),this.metaKey&&(e|=yse),e|=t,e}_computeKeyCodeChord(){let t=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode),new hse(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)}},CO=new WeakMap;function vse(t){if(!t.parent||t.parent===t)return null;try{let e=t.location,n=t.parent.location;if(e.origin!=="null"&&n.origin!=="null"&&e.origin!==n.origin)return null}catch{return null}return t.parent}var bse=class{static getSameOriginWindowChain(t){let e=CO.get(t);if(!e){e=[],CO.set(t,e);let n=t,s;do s=vse(n),s?e.push({window:new WeakRef(n),iframeElement:n.frameElement||null}):e.push({window:new WeakRef(n),iframeElement:null}),n=s;while(n)}return e.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(t,e){if(!e||t===e)return{top:0,left:0};let n=0,s=0,r=this.getSameOriginWindowChain(t);for(let i of r){let a=i.window.deref();if(n+=a?.scrollY??0,s+=a?.scrollX??0,a===e||!i.iframeElement)break;let l=i.iframeElement.getBoundingClientRect();n+=l.top,s+=l.left}return{top:n,left:s}}},l0=class{constructor(t,e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=e.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let n=bse.getPositionOfChildWindowRelativeToAncestorWindow(t,e.view);this.posx-=n.left,this.posy-=n.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}},NO=class{constructor(t,e=0,n=0){this.browserEvent=t||null,this.target=t?t.target||t.targetNode||t.srcElement:null,this.deltaY=n,this.deltaX=e;let s=!1;if(YN){let r=navigator.userAgent.match(/Chrome\/(\d+)/);s=(r?parseInt(r[1]):123)<=122}if(t){let r=t,i=t,a=t.view?.devicePixelRatio||1;if(typeof r.wheelDeltaY<"u")s?this.deltaY=r.wheelDeltaY/(120*a):this.deltaY=r.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS<"u"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(t.type==="wheel"){let l=t;l.deltaMode===l.DOM_DELTA_LINE?m2&&!Vi?this.deltaY=-t.deltaY/3:this.deltaY=-t.deltaY:this.deltaY=-t.deltaY/40}if(typeof r.wheelDeltaX<"u")nse&&YL?this.deltaX=-(r.wheelDeltaX/120):s?this.deltaX=r.wheelDeltaX/(120*a):this.deltaX=r.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS<"u"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-t.detail/3;else if(t.type==="wheel"){let l=t;l.deltaMode===l.DOM_DELTA_LINE?m2&&!Vi?this.deltaX=-t.deltaX/3:this.deltaX=-t.deltaX:this.deltaX=-t.deltaX/40}this.deltaY===0&&this.deltaX===0&&t.wheelDelta&&(s?this.deltaY=t.wheelDelta/(120*a):this.deltaY=t.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}},XL=Object.freeze(function(t,e){let n=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(n)}}}),_se;(t=>{function e(n){return n===t.None||n===t.Cancelled||n instanceof xse?!0:!n||typeof n!="object"?!1:typeof n.isCancellationRequested=="boolean"&&typeof n.onCancellationRequested=="function"}t.isCancellationToken=e,t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ms.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:XL})})(_se||={});var xse=class{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?XL:(this._emitter||(this._emitter=new je),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},JN=class{constructor(t,e){this._isDisposed=!1,this._token=-1,typeof t=="function"&&typeof e=="number"&&this.setIfNotSet(t,e)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,e){if(this._isDisposed)throw new c2("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},e)}setIfNotSet(t,e){if(this._isDisposed)throw new c2("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},e))}},Sse=class{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(t,e,n=globalThis){if(this.isDisposed)throw new c2("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let s=n.setInterval(()=>{t()},e);this.disposable=fn(()=>{n.clearInterval(s),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},wse;(t=>{async function e(s){let r,i=await Promise.all(s.map(a=>a.then(l=>l,l=>{r||(r=l)})));if(typeof r<"u")throw r;return i}t.settled=e;function n(s){return new Promise(async(r,i)=>{try{await s(r,i)}catch(a){i(a)}})}t.withAsyncBody=n})(wse||={});var EO=class Gr{static fromArray(e){return new Gr(n=>{n.emitMany(e)})}static fromPromise(e){return new Gr(async n=>{n.emitMany(await e)})}static fromPromises(e){return new Gr(async n=>{await Promise.all(e.map(async s=>n.emitOne(await s)))})}static merge(e){return new Gr(async n=>{await Promise.all(e.map(async s=>{for await(let r of s)n.emitOne(r)}))})}constructor(e,n){this._state=0,this._results=[],this._error=null,this._onReturn=n,this._onStateChanged=new je,queueMicrotask(async()=>{let s={emitOne:r=>this.emitOne(r),emitMany:r=>this.emitMany(r),reject:r=>this.reject(r)};try{await Promise.resolve(e(s)),this.resolve()}catch(r){this.reject(r)}finally{s.emitOne=void 0,s.emitMany=void 0,s.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await ms.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,n){return new Gr(async s=>{for await(let r of e)s.emitOne(n(r))})}map(e){return Gr.map(this,e)}static filter(e,n){return new Gr(async s=>{for await(let r of e)n(r)&&s.emitOne(r)})}filter(e){return Gr.filter(this,e)}static coalesce(e){return Gr.filter(e,n=>!!n)}coalesce(){return Gr.coalesce(this)}static async toPromise(e){let n=[];for await(let s of e)n.push(s);return n}toPromise(){return Gr.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};EO.EMPTY=EO.fromArray([]);var{getWindow:zi,getWindowId:kse,onDidRegisterWindow:Cse}=(function(){let t=new Map,e={window:ja,disposables:new Ko};t.set(ja.vscodeWindowId,e);let n=new je,s=new je,r=new je;function i(a,l){return(typeof a=="number"?t.get(a):void 0)??(l?e:void 0)}return{onDidRegisterWindow:n.event,onWillUnregisterWindow:r.event,onDidUnregisterWindow:s.event,registerWindow(a){if(t.has(a.vscodeWindowId))return Tt.None;let l=new Ko,u={window:a,disposables:l.add(new Ko)};return t.set(a.vscodeWindowId,u),l.add(fn(()=>{t.delete(a.vscodeWindowId),s.fire(a)})),l.add(gt(a,ts.BEFORE_UNLOAD,()=>{r.fire(a)})),n.fire(u),l},getWindows(){return t.values()},getWindowsCount(){return t.size},getWindowId(a){return a.vscodeWindowId},hasWindow(a){return t.has(a)},getWindowById:i,getWindow(a){let l=a;if(l?.ownerDocument?.defaultView)return l.ownerDocument.defaultView.window;let u=a;return u?.view?u.view.window:ja},getDocument(a){return zi(a).document}}})(),Nse=class{constructor(t,e,n,s){this._node=t,this._type=e,this._handler=n,this._options=s||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function gt(t,e,n,s){return new Nse(t,e,n,s)}var AO=function(t,e,n,s){return gt(t,e,n,s)},XN,Ese=class extends Sse{constructor(t){super(),this.defaultTarget=t&&zi(t)}cancelAndSet(t,e,n){return super.cancelAndSet(t,e,n??this.defaultTarget)}},RO=class{constructor(t,e=0){this._runner=t,this.priority=e,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(t){F0(t)}}static sort(t,e){return e.priority-t.priority}};(function(){let t=new Map,e=new Map,n=new Map,s=new Map,r=i=>{n.set(i,!1);let a=t.get(i)??[];for(e.set(i,a),t.set(i,[]),s.set(i,!0);a.length>0;)a.sort(RO.sort),a.shift().execute();s.set(i,!1)};XN=(i,a,l=0)=>{let u=kse(i),h=new RO(a,l),m=t.get(u);return m||(m=[],t.set(u,m)),m.push(h),n.get(u)||(n.set(u,!0),i.requestAnimationFrame(()=>r(u))),h}})();function Ase(t){let e=t.getBoundingClientRect(),n=zi(t);return{left:e.left+n.scrollX,top:e.top+n.scrollY,width:e.width,height:e.height}}var ts={CLICK:"click",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",KEY_DOWN:"keydown",KEY_UP:"keyup",BEFORE_UNLOAD:"beforeunload",CHANGE:"change",FOCUS:"focus",BLUR:"blur",INPUT:"input"},Rse=class{constructor(t){this.domNode=t,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingTop="",this._paddingLeft="",this._paddingBottom="",this._paddingRight="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(t){let e=tr(t);this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth)}setWidth(t){let e=tr(t);this._width!==e&&(this._width=e,this.domNode.style.width=this._width)}setHeight(t){let e=tr(t);this._height!==e&&(this._height=e,this.domNode.style.height=this._height)}setTop(t){let e=tr(t);this._top!==e&&(this._top=e,this.domNode.style.top=this._top)}setLeft(t){let e=tr(t);this._left!==e&&(this._left=e,this.domNode.style.left=this._left)}setBottom(t){let e=tr(t);this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom)}setRight(t){let e=tr(t);this._right!==e&&(this._right=e,this.domNode.style.right=this._right)}setPaddingTop(t){let e=tr(t);this._paddingTop!==e&&(this._paddingTop=e,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(t){let e=tr(t);this._paddingLeft!==e&&(this._paddingLeft=e,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(t){let e=tr(t);this._paddingBottom!==e&&(this._paddingBottom=e,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(t){let e=tr(t);this._paddingRight!==e&&(this._paddingRight=e,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(t){this._fontFamily!==t&&(this._fontFamily=t,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(t){let e=tr(t);this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize)}setFontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(t){this._fontFeatureSettings!==t&&(this._fontFeatureSettings=t,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(t){this._fontVariationSettings!==t&&(this._fontVariationSettings=t,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(t){this._textDecoration!==t&&(this._textDecoration=t,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(t){let e=tr(t);this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(t){let e=tr(t);this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(t){this._className!==t&&(this._className=t,this.domNode.className=this._className)}toggleClassName(t,e){this.domNode.classList.toggle(t,e),this._className=this.domNode.className}setDisplay(t){this._display!==t&&(this._display=t,this.domNode.style.display=this._display)}setPosition(t){this._position!==t&&(this._position=t,this.domNode.style.position=this._position)}setVisibility(t){this._visibility!==t&&(this._visibility=t,this.domNode.style.visibility=this._visibility)}setColor(t){this._color!==t&&(this._color=t,this.domNode.style.color=this._color)}setBackgroundColor(t){this._backgroundColor!==t&&(this._backgroundColor=t,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(t){this._layerHint!==t&&(this._layerHint=t,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(t){this._boxShadow!==t&&(this._boxShadow=t,this.domNode.style.boxShadow=t)}setContain(t){this._contain!==t&&(this._contain=t,this.domNode.style.contain=this._contain)}setAttribute(t,e){this.domNode.setAttribute(t,e)}removeAttribute(t){this.domNode.removeAttribute(t)}appendChild(t){this.domNode.appendChild(t.domNode)}removeChild(t){this.domNode.removeChild(t.domNode)}};function tr(t){return typeof t=="number"?`${t}px`:t}function sp(t){return new Rse(t)}var QL=class{constructor(){this._hooks=new Ko,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(t,e){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let n=this._onStopCallback;this._onStopCallback=null,t&&n&&n(e)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(t,e,n,s,r){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=s,this._onStopCallback=r;let i=t;try{t.setPointerCapture(e),this._hooks.add(fn(()=>{try{t.releasePointerCapture(e)}catch{}}))}catch{i=zi(t)}this._hooks.add(gt(i,ts.POINTER_MOVE,a=>{if(a.buttons!==n){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(gt(i,ts.POINTER_UP,a=>this.stopMonitoring(!0)))}};function Tse(t,e,n){let s=null,r=null;if(typeof n.value=="function"?(s="value",r=n.value,r.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof n.get=="function"&&(s="get",r=n.get),!r)throw new Error("not supported");let i=`$memoize$${e}`;n[s]=function(...a){return this.hasOwnProperty(i)||Object.defineProperty(this,i,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,a)}),this[i]}}var Pi;(t=>(t.Tap="-xterm-gesturetap",t.Change="-xterm-gesturechange",t.Start="-xterm-gesturestart",t.End="-xterm-gesturesend",t.Contextmenu="-xterm-gesturecontextmenu"))(Pi||={});var Rf=class Cs extends Tt{constructor(){super(),this.dispatched=!1,this.targets=new bO,this.ignoreTargets=new bO,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(ms.runAndSubscribe(Cse,({window:e,disposables:n})=>{n.add(gt(e.document,"touchstart",s=>this.onTouchStart(s),{passive:!1})),n.add(gt(e.document,"touchend",s=>this.onTouchEnd(e,s))),n.add(gt(e.document,"touchmove",s=>this.onTouchMove(s),{passive:!1}))},{window:ja,disposables:this._store}))}static addTarget(e){if(!Cs.isTouchDevice())return Tt.None;Cs.INSTANCE||(Cs.INSTANCE=new Cs);let n=Cs.INSTANCE.targets.push(e);return fn(n)}static ignoreTarget(e){if(!Cs.isTouchDevice())return Tt.None;Cs.INSTANCE||(Cs.INSTANCE=new Cs);let n=Cs.INSTANCE.ignoreTargets.push(e);return fn(n)}static isTouchDevice(){return"ontouchstart"in ja||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let n=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let s=0,r=e.targetTouches.length;s<r;s++){let i=e.targetTouches.item(s);this.activeTouches[i.identifier]={id:i.identifier,initialTarget:i.target,initialTimeStamp:n,initialPageX:i.pageX,initialPageY:i.pageY,rollingTimestamps:[n],rollingPageX:[i.pageX],rollingPageY:[i.pageY]};let a=this.newGestureEvent(Pi.Start,i.target);a.pageX=i.pageX,a.pageY=i.pageY,this.dispatchEvent(a)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,n){let s=Date.now(),r=Object.keys(this.activeTouches).length;for(let i=0,a=n.changedTouches.length;i<a;i++){let l=n.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(l.identifier))){console.warn("move of an UNKNOWN touch",l);continue}let u=this.activeTouches[l.identifier],h=Date.now()-u.initialTimeStamp;if(h<Cs.HOLD_DELAY&&Math.abs(u.initialPageX-vr(u.rollingPageX))<30&&Math.abs(u.initialPageY-vr(u.rollingPageY))<30){let m=this.newGestureEvent(Pi.Tap,u.initialTarget);m.pageX=vr(u.rollingPageX),m.pageY=vr(u.rollingPageY),this.dispatchEvent(m)}else if(h>=Cs.HOLD_DELAY&&Math.abs(u.initialPageX-vr(u.rollingPageX))<30&&Math.abs(u.initialPageY-vr(u.rollingPageY))<30){let m=this.newGestureEvent(Pi.Contextmenu,u.initialTarget);m.pageX=vr(u.rollingPageX),m.pageY=vr(u.rollingPageY),this.dispatchEvent(m)}else if(r===1){let m=vr(u.rollingPageX),f=vr(u.rollingPageY),g=vr(u.rollingTimestamps)-u.rollingTimestamps[0],y=m-u.rollingPageX[0],b=f-u.rollingPageY[0],_=[...this.targets].filter(w=>u.initialTarget instanceof Node&&w.contains(u.initialTarget));this.inertia(e,_,s,Math.abs(y)/g,y>0?1:-1,m,Math.abs(b)/g,b>0?1:-1,f)}this.dispatchEvent(this.newGestureEvent(Pi.End,u.initialTarget)),delete this.activeTouches[l.identifier]}this.dispatched&&(n.preventDefault(),n.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,n){let s=document.createEvent("CustomEvent");return s.initEvent(e,!1,!0),s.initialTarget=n,s.tapCount=0,s}dispatchEvent(e){if(e.type===Pi.Tap){let n=new Date().getTime(),s=0;n-this._lastSetTapCountTime>Cs.CLEAR_TAP_COUNT_TIME?s=1:s=2,this._lastSetTapCountTime=n,e.tapCount=s}else(e.type===Pi.Change||e.type===Pi.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(let s of this.ignoreTargets)if(s.contains(e.initialTarget))return;let n=[];for(let s of this.targets)if(s.contains(e.initialTarget)){let r=0,i=e.initialTarget;for(;i&&i!==s;)r++,i=i.parentElement;n.push([r,s])}n.sort((s,r)=>s[0]-r[0]);for(let[s,r]of n)r.dispatchEvent(e),this.dispatched=!0}}inertia(e,n,s,r,i,a,l,u,h){this.handle=XN(e,()=>{let m=Date.now(),f=m-s,g=0,y=0,b=!0;r+=Cs.SCROLL_FRICTION*f,l+=Cs.SCROLL_FRICTION*f,r>0&&(b=!1,g=i*r*f),l>0&&(b=!1,y=u*l*f);let _=this.newGestureEvent(Pi.Change);_.translationX=g,_.translationY=y,n.forEach(w=>w.dispatchEvent(_)),b||this.inertia(e,n,m,r,i,a+g,l,u,h+y)})}onTouchMove(e){let n=Date.now();for(let s=0,r=e.changedTouches.length;s<r;s++){let i=e.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(i.identifier))){console.warn("end of an UNKNOWN touch",i);continue}let a=this.activeTouches[i.identifier],l=this.newGestureEvent(Pi.Change,a.initialTarget);l.translationX=i.pageX-vr(a.rollingPageX),l.translationY=i.pageY-vr(a.rollingPageY),l.pageX=i.pageX,l.pageY=i.pageY,this.dispatchEvent(l),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(i.pageX),a.rollingPageY.push(i.pageY),a.rollingTimestamps.push(n)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};Rf.SCROLL_FRICTION=-.005,Rf.HOLD_DELAY=700,Rf.CLEAR_TAP_COUNT_TIME=400,wn([Tse],Rf,"isTouchDevice",1);var jse=Rf,QN=class extends Tt{onclick(t,e){this._register(gt(t,ts.CLICK,n=>e(new l0(zi(t),n))))}onmousedown(t,e){this._register(gt(t,ts.MOUSE_DOWN,n=>e(new l0(zi(t),n))))}onmouseover(t,e){this._register(gt(t,ts.MOUSE_OVER,n=>e(new l0(zi(t),n))))}onmouseleave(t,e){this._register(gt(t,ts.MOUSE_LEAVE,n=>e(new l0(zi(t),n))))}onkeydown(t,e){this._register(gt(t,ts.KEY_DOWN,n=>e(new kO(n))))}onkeyup(t,e){this._register(gt(t,ts.KEY_UP,n=>e(new kO(n))))}oninput(t,e){this._register(gt(t,ts.INPUT,e))}onblur(t,e){this._register(gt(t,ts.BLUR,e))}onfocus(t,e){this._register(gt(t,ts.FOCUS,e))}onchange(t,e){this._register(gt(t,ts.CHANGE,e))}ignoreGesture(t){return jse.ignoreTarget(t)}},TO=11,Ose=class extends QN{constructor(t){super(),this._onActivate=t.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=t.bgWidth+"px",this.bgDomNode.style.height=t.bgHeight+"px",typeof t.top<"u"&&(this.bgDomNode.style.top="0px"),typeof t.left<"u"&&(this.bgDomNode.style.left="0px"),typeof t.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof t.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=t.className,this.domNode.style.position="absolute",this.domNode.style.width=TO+"px",this.domNode.style.height=TO+"px",typeof t.top<"u"&&(this.domNode.style.top=t.top+"px"),typeof t.left<"u"&&(this.domNode.style.left=t.left+"px"),typeof t.bottom<"u"&&(this.domNode.style.bottom=t.bottom+"px"),typeof t.right<"u"&&(this.domNode.style.right=t.right+"px"),this._pointerMoveMonitor=this._register(new QL),this._register(AO(this.bgDomNode,ts.POINTER_DOWN,e=>this._arrowPointerDown(e))),this._register(AO(this.domNode,ts.POINTER_DOWN,e=>this._arrowPointerDown(e))),this._pointerdownRepeatTimer=this._register(new Ese),this._pointerdownScheduleRepeatTimer=this._register(new JN)}_arrowPointerDown(t){if(!t.target||!(t.target instanceof Element))return;let e=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,zi(t))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(e,200),this._pointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,n=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),t.preventDefault()}},Mse=class v2{constructor(e,n,s,r,i,a,l){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(n=n|0,s=s|0,r=r|0,i=i|0,a=a|0,l=l|0),this.rawScrollLeft=r,this.rawScrollTop=l,n<0&&(n=0),r+n>s&&(r=s-n),r<0&&(r=0),i<0&&(i=0),l+i>a&&(l=a-i),l<0&&(l=0),this.width=n,this.scrollWidth=s,this.scrollLeft=r,this.height=i,this.scrollHeight=a,this.scrollTop=l}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,n){return new v2(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,n?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,n?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new v2(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,n){let s=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,i=this.scrollLeft!==e.scrollLeft,a=this.height!==e.height,l=this.scrollHeight!==e.scrollHeight,u=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:n,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:s,scrollWidthChanged:r,scrollLeftChanged:i,heightChanged:a,scrollHeightChanged:l,scrollTopChanged:u}}},Ise=class extends Tt{constructor(t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new je),this.onScroll=this._onScroll.event,this._smoothScrollDuration=t.smoothScrollDuration,this._scheduleAtNextAnimationFrame=t.scheduleAtNextAnimationFrame,this._state=new Mse(t.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(t){this._smoothScrollDuration=t}validateScrollPosition(t){return this._state.withScrollPosition(t)}getScrollDimensions(){return this._state}setScrollDimensions(t,e){let n=this._state.withScrollDimensions(t,e);this._setState(n,!!this._smoothScrolling),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(t){let e=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(e,!1)}setScrollPositionSmooth(t,e){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop>"u"?this._smoothScrolling.to.scrollTop:t.scrollTop};let n=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let s;e?s=new OO(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):s=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=s}else{let n=this._state.withScrollPosition(t);this._smoothScrolling=OO.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let t=this._smoothScrolling.tick(),e=this._state.withScrollPosition(t);if(this._setState(e,!0),!!this._smoothScrolling){if(t.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(t,e){let n=this._state;n.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(n,e)))}},jO=class{constructor(t,e,n){this.scrollLeft=t,this.scrollTop=e,this.isDone=n}};function bS(t,e){let n=e-t;return function(s){return t+n*Lse(s)}}function Dse(t,e,n){return function(s){return s<n?t(s/n):e((s-n)/(1-n))}}var OO=class b2{constructor(e,n,s,r){this.from=e,this.to=n,this.duration=r,this.startTime=s,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,n,s){if(Math.abs(e-n)>2.5*s){let r,i;return e<n?(r=e+.75*s,i=n-.75*s):(r=e-.75*s,i=n+.75*s),Dse(bS(e,r),bS(i,n),.33)}return bS(e,n)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){let n=(e-this.startTime)/this.duration;if(n<1){let s=this.scrollLeft(n),r=this.scrollTop(n);return new jO(s,r,!1)}return new jO(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,n,s){return b2.start(e,n,s)}static start(e,n,s){s=s+10;let r=Date.now()-10;return new b2(e,n,r,s)}};function Pse(t){return Math.pow(t,3)}function Lse(t){return 1-Pse(1-t)}var Bse=class extends Tt{constructor(t,e,n){super(),this._visibility=t,this._visibleClassName=e,this._invisibleClassName=n,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new JN)}setVisibility(t){this._visibility!==t&&(this._visibility=t,this._updateShouldBeVisible())}setShouldBeVisible(t){this._rawShouldBeVisible=t,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let t=this._applyVisibilitySetting();this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())}setIsNeeded(t){this._isNeeded!==t&&(this._isNeeded=t,this.ensureVisibility())}setDomNode(t){this._domNode=t,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide(t){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+(t?" fade":"")))}},$se=140,eB=class extends QN{constructor(t){super(),this._lazyRender=t.lazyRender,this._host=t.host,this._scrollable=t.scrollable,this._scrollByPage=t.scrollByPage,this._scrollbarState=t.scrollbarState,this._visibilityController=this._register(new Bse(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new QL),this._shouldRender=!0,this.domNode=sp(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(gt(this.domNode.domNode,ts.POINTER_DOWN,e=>this._domNodePointerDown(e)))}_createArrow(t){let e=this._register(new Ose(t));this.domNode.domNode.appendChild(e.bgDomNode),this.domNode.domNode.appendChild(e.domNode)}_createSlider(t,e,n,s){this.slider=sp(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(e),typeof n=="number"&&this.slider.setWidth(n),typeof s=="number"&&this.slider.setHeight(s),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(gt(this.slider.domNode,ts.POINTER_DOWN,r=>{r.button===0&&(r.preventDefault(),this._sliderPointerDown(r))})),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(t){t.target===this.domNode.domNode&&this._onPointerDown(t)}delegatePointerDown(t){let e=this.domNode.domNode.getClientRects()[0].top,n=e+this._scrollbarState.getSliderPosition(),s=e+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderPointerPosition(t);n<=r&&r<=s?t.button===0&&(t.preventDefault(),this._sliderPointerDown(t)):this._onPointerDown(t)}_onPointerDown(t){let e,n;if(t.target===this.domNode.domNode&&typeof t.offsetX=="number"&&typeof t.offsetY=="number")e=t.offsetX,n=t.offsetY;else{let r=Ase(this.domNode.domNode);e=t.pageX-r.left,n=t.pageY-r.top}let s=this._pointerDownRelativePosition(e,n);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(s):this._scrollbarState.getDesiredScrollPositionFromOffset(s)),t.button===0&&(t.preventDefault(),this._sliderPointerDown(t))}_sliderPointerDown(t){if(!t.target||!(t.target instanceof Element))return;let e=this._sliderPointerPosition(t),n=this._sliderOrthogonalPointerPosition(t),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,r=>{let i=this._sliderOrthogonalPointerPosition(r),a=Math.abs(i-n);if(YL&&a>$se){this._setDesiredScrollPositionNow(s.getScrollPosition());return}let l=this._sliderPointerPosition(r)-e;this._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(l))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(t){let e={};this.writeScrollPosition(e,t),this._scrollable.setScrollPositionNow(e)}updateScrollbarSize(t){this._updateScrollbarSize(t),this._scrollbarState.setScrollbarSize(t),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}},tB=class _2{constructor(e,n,s,r,i,a){this._scrollbarSize=Math.round(n),this._oppositeScrollbarSize=Math.round(s),this._arrowSize=Math.round(e),this._visibleSize=r,this._scrollSize=i,this._scrollPosition=a,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new _2(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let n=Math.round(e);return this._visibleSize!==n?(this._visibleSize=n,this._refreshComputedValues(),!0):!1}setScrollSize(e){let n=Math.round(e);return this._scrollSize!==n?(this._scrollSize=n,this._refreshComputedValues(),!0):!1}setScrollPosition(e){let n=Math.round(e);return this._scrollPosition!==n?(this._scrollPosition=n,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,n,s,r,i){let a=Math.max(0,s-e),l=Math.max(0,a-2*n),u=r>0&&r>s;if(!u)return{computedAvailableSize:Math.round(a),computedIsNeeded:u,computedSliderSize:Math.round(l),computedSliderRatio:0,computedSliderPosition:0};let h=Math.round(Math.max(20,Math.floor(s*l/r))),m=(l-h)/(r-s),f=i*m;return{computedAvailableSize:Math.round(a),computedIsNeeded:u,computedSliderSize:Math.round(h),computedSliderRatio:m,computedSliderPosition:Math.round(f)}}_refreshComputedValues(){let e=_2._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let n=e-this._arrowSize-this._computedSliderSize/2;return Math.round(n/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;let n=e-this._arrowSize,s=this._scrollPosition;return n<this._computedSliderPosition?s-=this._visibleSize:s+=this._visibleSize,s}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let n=this._computedSliderPosition+e;return Math.round(n/this._computedSliderRatio)}},zse=class extends eB{constructor(t,e,n){let s=t.getScrollDimensions(),r=t.getCurrentScrollPosition();if(super({lazyRender:e.lazyRender,host:n,scrollbarState:new tB(e.horizontalHasArrows?e.arrowSize:0,e.horizontal===2?0:e.horizontalScrollbarSize,e.vertical===2?0:e.verticalScrollbarSize,s.width,s.scrollWidth,r.scrollLeft),visibility:e.horizontal,extraScrollbarClassName:"horizontal",scrollable:t,scrollByPage:e.scrollByPage}),e.horizontalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(Math.floor((e.horizontalScrollbarSize-e.horizontalSliderSize)/2),0,void 0,e.horizontalSliderSize)}_updateSlider(t,e){this.slider.setWidth(t),this.slider.setLeft(e)}_renderDomNode(t,e){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(t){return this._shouldRender=this._onElementScrollSize(t.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(t.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(t,e){return t}_sliderPointerPosition(t){return t.pageX}_sliderOrthogonalPointerPosition(t){return t.pageY}_updateScrollbarSize(t){this.slider.setHeight(t)}writeScrollPosition(t,e){t.scrollLeft=e}updateOptions(t){this.updateScrollbarSize(t.horizontal===2?0:t.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(t.vertical===2?0:t.verticalScrollbarSize),this._visibilityController.setVisibility(t.horizontal),this._scrollByPage=t.scrollByPage}},Fse=class extends eB{constructor(t,e,n){let s=t.getScrollDimensions(),r=t.getCurrentScrollPosition();if(super({lazyRender:e.lazyRender,host:n,scrollbarState:new tB(e.verticalHasArrows?e.arrowSize:0,e.vertical===2?0:e.verticalScrollbarSize,0,s.height,s.scrollHeight,r.scrollTop),visibility:e.vertical,extraScrollbarClassName:"vertical",scrollable:t,scrollByPage:e.scrollByPage}),e.verticalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(0,Math.floor((e.verticalScrollbarSize-e.verticalSliderSize)/2),e.verticalSliderSize,void 0)}_updateSlider(t,e){this.slider.setHeight(t),this.slider.setTop(e)}_renderDomNode(t,e){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(t){return this._shouldRender=this._onElementScrollSize(t.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(t.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(t,e){return e}_sliderPointerPosition(t){return t.pageY}_sliderOrthogonalPointerPosition(t){return t.pageX}_updateScrollbarSize(t){this.slider.setWidth(t)}writeScrollPosition(t,e){t.scrollTop=e}updateOptions(t){this.updateScrollbarSize(t.vertical===2?0:t.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(t.vertical),this._scrollByPage=t.scrollByPage}},Use=500,MO=50,Hse=class{constructor(t,e,n){this.timestamp=t,this.deltaX=e,this.deltaY=n,this.score=0}},x2=class{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,n=0,s=1,r=this._rear;do{let i=r===this._front?e:Math.pow(2,-s);if(e-=i,n+=this._memory[r].score*i,r===this._front)break;r=(this._capacity+r-1)%this._capacity,s++}while(!0);return n<=.5}acceptStandardWheelEvent(e){if(YN){let n=zi(e.browserEvent),s=ese(n);this.accept(Date.now(),e.deltaX*s,e.deltaY*s)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,n,s){let r=null,i=new Hse(e,n,s);this._front===-1&&this._rear===-1?(this._memory[0]=i,this._front=0,this._rear=0):(r=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=i),i.score=this._computeScore(i,r)}_computeScore(e,n){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let s=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(s+=.25),n){let r=Math.abs(e.deltaX),i=Math.abs(e.deltaY),a=Math.abs(n.deltaX),l=Math.abs(n.deltaY),u=Math.max(Math.min(r,a),1),h=Math.max(Math.min(i,l),1),m=Math.max(r,a),f=Math.max(i,l);m%u===0&&f%h===0&&(s-=.5)}return Math.min(Math.max(s,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}};x2.INSTANCE=new x2;var Vse=x2,qse=class extends QN{constructor(t,e,n){super(),this._onScroll=this._register(new je),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new je),this.onWillScroll=this._onWillScroll.event,this._options=Wse(e),this._scrollable=n,this._register(this._scrollable.onScroll(r=>{this._onWillScroll.fire(r),this._onDidScroll(r),this._onScroll.fire(r)}));let s={onMouseWheel:r=>this._onMouseWheel(r),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Fse(this._scrollable,this._options,s)),this._horizontalScrollbar=this._register(new zse(this._scrollable,this._options,s)),this._domNode=document.createElement("div"),this._domNode.className="xterm-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.appendChild(t),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=sp(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=sp(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=sp(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,r=>this._onMouseOver(r)),this.onmouseleave(this._listenOnDomNode,r=>this._onMouseLeave(r)),this._hideTimeout=this._register(new JN),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=mc(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(t){this._verticalScrollbar.delegatePointerDown(t)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(t){this._scrollable.setScrollDimensions(t,!1)}updateClassName(t){this._options.className=t,Vi&&(this._options.className+=" mac"),this._domNode.className="xterm-scrollable-element "+this._options.className}updateOptions(t){typeof t.handleMouseWheel<"u"&&(this._options.handleMouseWheel=t.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof t.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity),typeof t.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=t.fastScrollSensitivity),typeof t.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=t.scrollPredominantAxis),typeof t.horizontal<"u"&&(this._options.horizontal=t.horizontal),typeof t.vertical<"u"&&(this._options.vertical=t.vertical),typeof t.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=t.horizontalScrollbarSize),typeof t.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=t.verticalScrollbarSize),typeof t.scrollByPage<"u"&&(this._options.scrollByPage=t.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(t){this._revealOnScroll=t}delegateScrollFromMouseWheelEvent(t){this._onMouseWheel(new NO(t))}_setListeningToMouseWheel(t){if(this._mouseWheelToDispose.length>0!==t&&(this._mouseWheelToDispose=mc(this._mouseWheelToDispose),t)){let e=n=>{this._onMouseWheel(new NO(n))};this._mouseWheelToDispose.push(gt(this._listenOnDomNode,ts.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(t){if(t.browserEvent?.defaultPrevented)return;let e=Vse.INSTANCE;e.acceptStandardWheelEvent(t);let n=!1;if(t.deltaY||t.deltaX){let r=t.deltaY*this._options.mouseWheelScrollSensitivity,i=t.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&i+r===0?i=r=0:Math.abs(r)>=Math.abs(i)?i=0:r=0),this._options.flipAxes&&([r,i]=[i,r]);let a=!Vi&&t.browserEvent&&t.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!i&&(i=r,r=0),t.browserEvent&&t.browserEvent.altKey&&(i=i*this._options.fastScrollSensitivity,r=r*this._options.fastScrollSensitivity);let l=this._scrollable.getFutureScrollPosition(),u={};if(r){let h=MO*r,m=l.scrollTop-(h<0?Math.floor(h):Math.ceil(h));this._verticalScrollbar.writeScrollPosition(u,m)}if(i){let h=MO*i,m=l.scrollLeft-(h<0?Math.floor(h):Math.ceil(h));this._horizontalScrollbar.writeScrollPosition(u,m)}u=this._scrollable.validateScrollPosition(u),(l.scrollLeft!==u.scrollLeft||l.scrollTop!==u.scrollTop)&&(this._options.mouseWheelSmoothScroll&&e.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(u):this._scrollable.setScrollPositionNow(u),n=!0)}let s=n;!s&&this._options.alwaysConsumeMouseWheel&&(s=!0),!s&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(s=!0),s&&(t.preventDefault(),t.stopPropagation())}_onDidScroll(t){this._shouldRender=this._horizontalScrollbar.onDidScroll(t)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(t)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let t=this._scrollable.getCurrentScrollPosition(),e=t.scrollTop>0,n=t.scrollLeft>0,s=n?" left":"",r=e?" top":"",i=n||e?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${s}`),this._topShadowDomNode.setClassName(`shadow${r}`),this._topLeftShadowDomNode.setClassName(`shadow${i}${r}${s}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(t){this._mouseIsOver=!1,this._hide()}_onMouseOver(t){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),Use)}},Kse=class extends qse{constructor(t,e,n){super(t,e,n)}setScrollPosition(t){t.reuseAnimation?this._scrollable.setScrollPositionSmooth(t,t.reuseAnimation):this._scrollable.setScrollPositionNow(t)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};function Wse(t){let e={lazyRender:typeof t.lazyRender<"u"?t.lazyRender:!1,className:typeof t.className<"u"?t.className:"",useShadows:typeof t.useShadows<"u"?t.useShadows:!0,handleMouseWheel:typeof t.handleMouseWheel<"u"?t.handleMouseWheel:!0,flipAxes:typeof t.flipAxes<"u"?t.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof t.consumeMouseWheelIfScrollbarIsNeeded<"u"?t.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof t.alwaysConsumeMouseWheel<"u"?t.alwaysConsumeMouseWheel:!1,scrollYToX:typeof t.scrollYToX<"u"?t.scrollYToX:!1,mouseWheelScrollSensitivity:typeof t.mouseWheelScrollSensitivity<"u"?t.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof t.fastScrollSensitivity<"u"?t.fastScrollSensitivity:5,scrollPredominantAxis:typeof t.scrollPredominantAxis<"u"?t.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof t.mouseWheelSmoothScroll<"u"?t.mouseWheelSmoothScroll:!0,arrowSize:typeof t.arrowSize<"u"?t.arrowSize:11,listenOnDomNode:typeof t.listenOnDomNode<"u"?t.listenOnDomNode:null,horizontal:typeof t.horizontal<"u"?t.horizontal:1,horizontalScrollbarSize:typeof t.horizontalScrollbarSize<"u"?t.horizontalScrollbarSize:10,horizontalSliderSize:typeof t.horizontalSliderSize<"u"?t.horizontalSliderSize:0,horizontalHasArrows:typeof t.horizontalHasArrows<"u"?t.horizontalHasArrows:!1,vertical:typeof t.vertical<"u"?t.vertical:1,verticalScrollbarSize:typeof t.verticalScrollbarSize<"u"?t.verticalScrollbarSize:10,verticalHasArrows:typeof t.verticalHasArrows<"u"?t.verticalHasArrows:!1,verticalSliderSize:typeof t.verticalSliderSize<"u"?t.verticalSliderSize:0,scrollByPage:typeof t.scrollByPage<"u"?t.scrollByPage:!1};return e.horizontalSliderSize=typeof t.horizontalSliderSize<"u"?t.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof t.verticalSliderSize<"u"?t.verticalSliderSize:e.verticalScrollbarSize,Vi&&(e.className+=" mac"),e}var S2=class extends Tt{constructor(t,e,n,s,r,i,a,l){super(),this._bufferService=n,this._optionsService=a,this._renderService=l,this._onRequestScrollLines=this._register(new je),this.onRequestScrollLines=this._onRequestScrollLines.event,this._isSyncing=!1,this._isHandlingScroll=!1,this._suppressOnScrollHandler=!1;let u=this._register(new Ise({forceIntegerValues:!1,smoothScrollDuration:this._optionsService.rawOptions.smoothScrollDuration,scheduleAtNextAnimationFrame:h=>XN(s.window,h)}));this._register(this._optionsService.onSpecificOptionChange("smoothScrollDuration",()=>{u.setSmoothScrollDuration(this._optionsService.rawOptions.smoothScrollDuration)})),this._scrollableElement=this._register(new Kse(e,{vertical:1,horizontal:2,useShadows:!1,mouseWheelSmoothScroll:!0,...this._getChangeOptions()},u)),this._register(this._optionsService.onMultipleOptionChange(["scrollSensitivity","fastScrollSensitivity","overviewRuler"],()=>this._scrollableElement.updateOptions(this._getChangeOptions()))),this._register(r.onProtocolChange(h=>{this._scrollableElement.updateOptions({handleMouseWheel:!(h&16)})})),this._scrollableElement.setScrollDimensions({height:0,scrollHeight:0}),this._register(ms.runAndSubscribe(i.onChangeColors,()=>{this._scrollableElement.getDomNode().style.backgroundColor=i.colors.background.css})),t.appendChild(this._scrollableElement.getDomNode()),this._register(fn(()=>this._scrollableElement.getDomNode().remove())),this._styleElement=s.mainDocument.createElement("style"),e.appendChild(this._styleElement),this._register(fn(()=>this._styleElement.remove())),this._register(ms.runAndSubscribe(i.onChangeColors,()=>{this._styleElement.textContent=[".xterm .xterm-scrollable-element > .scrollbar > .slider {",`  background: ${i.colors.scrollbarSliderBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider:hover {",`  background: ${i.colors.scrollbarSliderHoverBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider.active {",`  background: ${i.colors.scrollbarSliderActiveBackground.css};`,"}"].join(`
`)})),this._register(this._bufferService.onResize(()=>this.queueSync())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._latestYDisp=void 0,this.queueSync()})),this._register(this._bufferService.onScroll(()=>this._sync())),this._register(this._scrollableElement.onScroll(h=>this._handleScroll(h)))}scrollLines(t){let e=this._scrollableElement.getScrollPosition();this._scrollableElement.setScrollPosition({reuseAnimation:!0,scrollTop:e.scrollTop+t*this._renderService.dimensions.css.cell.height})}scrollToLine(t,e){e&&(this._latestYDisp=t),this._scrollableElement.setScrollPosition({reuseAnimation:!e,scrollTop:t*this._renderService.dimensions.css.cell.height})}_getChangeOptions(){return{mouseWheelScrollSensitivity:this._optionsService.rawOptions.scrollSensitivity,fastScrollSensitivity:this._optionsService.rawOptions.fastScrollSensitivity,verticalScrollbarSize:this._optionsService.rawOptions.overviewRuler?.width||14}}queueSync(t){t!==void 0&&(this._latestYDisp=t),this._queuedAnimationFrame===void 0&&(this._queuedAnimationFrame=this._renderService.addRefreshCallback(()=>{this._queuedAnimationFrame=void 0,this._sync(this._latestYDisp)}))}_sync(t=this._bufferService.buffer.ydisp){!this._renderService||this._isSyncing||(this._isSyncing=!0,this._suppressOnScrollHandler=!0,this._scrollableElement.setScrollDimensions({height:this._renderService.dimensions.css.canvas.height,scrollHeight:this._renderService.dimensions.css.cell.height*this._bufferService.buffer.lines.length}),this._suppressOnScrollHandler=!1,t!==this._latestYDisp&&this._scrollableElement.setScrollPosition({scrollTop:t*this._renderService.dimensions.css.cell.height}),this._isSyncing=!1)}_handleScroll(t){if(!this._renderService||this._isHandlingScroll||this._suppressOnScrollHandler)return;this._isHandlingScroll=!0;let e=Math.round(t.scrollTop/this._renderService.dimensions.css.cell.height),n=e-this._bufferService.buffer.ydisp;n!==0&&(this._latestYDisp=e,this._onRequestScrollLines.fire(n)),this._isHandlingScroll=!1}};S2=wn([Ue(2,Vs),Ue(3,Ga),Ue(4,DL),Ue(5,Bh),Ue(6,qs),Ue(7,Ya)],S2);var w2=class extends Tt{constructor(t,e,n,s,r){super(),this._screenElement=t,this._bufferService=e,this._coreBrowserService=n,this._decorationService=s,this._renderService=r,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this._register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this._register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this._register(this._decorationService.onDecorationRemoved(i=>this._removeDecoration(i))),this._register(fn(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let t of this._decorationService.decorations)this._renderDecoration(t);this._dimensionsChanged=!1}_renderDecoration(t){this._refreshStyle(t),this._dimensionsChanged&&this._refreshXPosition(t)}_createElement(t){let e=this._coreBrowserService.mainDocument.createElement("div");e.classList.add("xterm-decoration"),e.classList.toggle("xterm-decoration-top-layer",t?.options?.layer==="top"),e.style.width=`${Math.round((t.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,e.style.height=`${(t.options.height||1)*this._renderService.dimensions.css.cell.height}px`,e.style.top=`${(t.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height}px`,e.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;let n=t.options.x??0;return n&&n>this._bufferService.cols&&(e.style.display="none"),this._refreshXPosition(t,e),e}_refreshStyle(t){let e=t.marker.line-this._bufferService.buffers.active.ydisp;if(e<0||e>=this._bufferService.rows)t.element&&(t.element.style.display="none",t.onRenderEmitter.fire(t.element));else{let n=this._decorationElements.get(t);n||(n=this._createElement(t),t.element=n,this._decorationElements.set(t,n),this._container.appendChild(n),t.onDispose(()=>{this._decorationElements.delete(t),n.remove()})),n.style.display=this._altBufferIsActive?"none":"block",this._altBufferIsActive||(n.style.width=`${Math.round((t.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,n.style.height=`${(t.options.height||1)*this._renderService.dimensions.css.cell.height}px`,n.style.top=`${e*this._renderService.dimensions.css.cell.height}px`,n.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`),t.onRenderEmitter.fire(n)}}_refreshXPosition(t,e=t.element){if(!e)return;let n=t.options.x??0;(t.options.anchor||"left")==="right"?e.style.right=n?`${n*this._renderService.dimensions.css.cell.width}px`:"":e.style.left=n?`${n*this._renderService.dimensions.css.cell.width}px`:""}_removeDecoration(t){this._decorationElements.get(t)?.remove(),this._decorationElements.delete(t),t.dispose()}};w2=wn([Ue(1,Vs),Ue(2,Ga),Ue(3,gm),Ue(4,Ya)],w2);var Gse=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(t){if(t.options.overviewRulerOptions){for(let e of this._zones)if(e.color===t.options.overviewRulerOptions.color&&e.position===t.options.overviewRulerOptions.position){if(this._lineIntersectsZone(e,t.marker.line))return;if(this._lineAdjacentToZone(e,t.marker.line,t.options.overviewRulerOptions.position)){this._addLineToZone(e,t.marker.line);return}}if(this._zonePoolIndex<this._zonePool.length){this._zonePool[this._zonePoolIndex].color=t.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=t.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=t.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=t.marker.line,this._zones.push(this._zonePool[this._zonePoolIndex++]);return}this._zones.push({color:t.options.overviewRulerOptions.color,position:t.options.overviewRulerOptions.position,startBufferLine:t.marker.line,endBufferLine:t.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(t){this._linePadding=t}_lineIntersectsZone(t,e){return e>=t.startBufferLine&&e<=t.endBufferLine}_lineAdjacentToZone(t,e,n){return e>=t.startBufferLine-this._linePadding[n||"full"]&&e<=t.endBufferLine+this._linePadding[n||"full"]}_addLineToZone(t,e){t.startBufferLine=Math.min(t.startBufferLine,e),t.endBufferLine=Math.max(t.endBufferLine,e)}},Mi={full:0,left:0,center:0,right:0},wo={full:0,left:0,center:0,right:0},Kd={full:0,left:0,center:0,right:0},uv=class extends Tt{constructor(t,e,n,s,r,i,a,l){super(),this._viewportElement=t,this._screenElement=e,this._bufferService=n,this._decorationService=s,this._renderService=r,this._optionsService=i,this._themeService=a,this._coreBrowserService=l,this._colorZoneStore=new Gse,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement),this._register(fn(()=>this._canvas?.remove()));let u=this._canvas.getContext("2d");if(u)this._ctx=u;else throw new Error("Ctx cannot be null");this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this._register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0))),this._register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this._register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})),this._register(this._renderService.onRender(()=>{(!this._containerHeight||this._containerHeight!==this._screenElement.clientHeight)&&(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._register(this._optionsService.onSpecificOptionChange("overviewRuler",()=>this._queueRefresh(!0))),this._register(this._themeService.onChangeColors(()=>this._queueRefresh())),this._queueRefresh(!0)}get _width(){return this._optionsService.options.overviewRuler?.width||0}_refreshDrawConstants(){let t=Math.floor((this._canvas.width-1)/3),e=Math.ceil((this._canvas.width-1)/3);wo.full=this._canvas.width,wo.left=t,wo.center=e,wo.right=t,this._refreshDrawHeightConstants(),Kd.full=1,Kd.left=1,Kd.center=1+wo.left,Kd.right=1+wo.left+wo.center}_refreshDrawHeightConstants(){Mi.full=Math.round(2*this._coreBrowserService.dpr);let t=this._canvas.height/this._bufferService.buffer.lines.length,e=Math.round(Math.max(Math.min(t,12),6)*this._coreBrowserService.dpr);Mi.left=e,Mi.center=e,Mi.right=e}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Mi.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Mi.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Mi.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Mi.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let e of this._decorationService.decorations)this._colorZoneStore.addDecoration(e);this._ctx.lineWidth=1,this._renderRulerOutline();let t=this._colorZoneStore.zones;for(let e of t)e.position!=="full"&&this._renderColorZone(e);for(let e of t)e.position==="full"&&this._renderColorZone(e);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderRulerOutline(){this._ctx.fillStyle=this._themeService.colors.overviewRulerBorder.css,this._ctx.fillRect(0,0,1,this._canvas.height),this._optionsService.rawOptions.overviewRuler.showTopBorder&&this._ctx.fillRect(1,0,this._canvas.width-1,1),this._optionsService.rawOptions.overviewRuler.showBottomBorder&&this._ctx.fillRect(1,this._canvas.height-1,this._canvas.width-1,this._canvas.height)}_renderColorZone(t){this._ctx.fillStyle=t.color,this._ctx.fillRect(Kd[t.position||"full"],Math.round((this._canvas.height-1)*(t.startBufferLine/this._bufferService.buffers.active.lines.length)-Mi[t.position||"full"]/2),wo[t.position||"full"],Math.round((this._canvas.height-1)*((t.endBufferLine-t.startBufferLine)/this._bufferService.buffers.active.lines.length)+Mi[t.position||"full"]))}_queueRefresh(t,e){this._shouldUpdateDimensions=t||this._shouldUpdateDimensions,this._shouldUpdateAnchor=e||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};uv=wn([Ue(2,Vs),Ue(3,gm),Ue(4,Ya),Ue(5,qs),Ue(6,Bh),Ue(7,Ga)],uv);var _e;(t=>(t.NUL="\0",t.SOH="",t.STX="",t.ETX="",t.EOT="",t.ENQ="",t.ACK="",t.BEL="\x07",t.BS="\b",t.HT="	",t.LF=`
`,t.VT="\v",t.FF="\f",t.CR="\r",t.SO="",t.SI="",t.DLE="",t.DC1="",t.DC2="",t.DC3="",t.DC4="",t.NAK="",t.SYN="",t.ETB="",t.CAN="",t.EM="",t.SUB="",t.ESC="\x1B",t.FS="",t.GS="",t.RS="",t.US="",t.SP=" ",t.DEL=""))(_e||={});var V0;(t=>(t.PAD="",t.HOP="",t.BPH="",t.NBH="",t.IND="",t.NEL="",t.SSA="",t.ESA="",t.HTS="",t.HTJ="",t.VTS="",t.PLD="",t.PLU="",t.RI="",t.SS2="",t.SS3="",t.DCS="",t.PU1="",t.PU2="",t.STS="",t.CCH="",t.MW="",t.SPA="",t.EPA="",t.SOS="",t.SGCI="",t.SCI="",t.CSI="",t.ST="",t.OSC="",t.PM="",t.APC=""))(V0||={});var nB;(t=>t.ST=`${_e.ESC}\\`)(nB||={});var k2=class{constructor(t,e,n,s,r,i){this._textarea=t,this._compositionView=e,this._bufferService=n,this._optionsService=s,this._coreService=r,this._renderService=i,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(t){this._compositionView.textContent=t.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(t){if(this._isComposing||this._isSendingComposition){if(t.keyCode===20||t.keyCode===229||t.keyCode===16||t.keyCode===17||t.keyCode===18)return!1;this._finalizeComposition(!1)}return t.keyCode===229?(this._handleAnyTextareaChanges(),!1):!0}_finalizeComposition(t){if(this._compositionView.classList.remove("active"),this._isComposing=!1,t){let e={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){this._isSendingComposition=!1;let n;e.start+=this._dataAlreadySent.length,this._isComposing?n=this._textarea.value.substring(e.start,this._compositionPosition.start):n=this._textarea.value.substring(e.start),n.length>0&&this._coreService.triggerDataEvent(n,!0)}},0)}else{this._isSendingComposition=!1;let e=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(e,!0)}}_handleAnyTextareaChanges(){let t=this._textarea.value;setTimeout(()=>{if(!this._isComposing){let e=this._textarea.value,n=e.replace(t,"");this._dataAlreadySent=n,e.length>t.length?this._coreService.triggerDataEvent(n,!0):e.length<t.length?this._coreService.triggerDataEvent(`${_e.DEL}`,!0):e.length===t.length&&e!==t&&this._coreService.triggerDataEvent(e,!0)}},0)}updateCompositionElements(t){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){let e=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),n=this._renderService.dimensions.css.cell.height,s=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,r=e*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=r+"px",this._compositionView.style.top=s+"px",this._compositionView.style.height=n+"px",this._compositionView.style.lineHeight=n+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";let i=this._compositionView.getBoundingClientRect();this._textarea.style.left=r+"px",this._textarea.style.top=s+"px",this._textarea.style.width=Math.max(i.width,1)+"px",this._textarea.style.height=Math.max(i.height,1)+"px",this._textarea.style.lineHeight=i.height+"px"}t||setTimeout(()=>this.updateCompositionElements(!0),0)}}};k2=wn([Ue(2,Vs),Ue(3,qs),Ue(4,Ec),Ue(5,Ya)],k2);var ns=0,ss=0,rs=0,Sn=0,IO={css:"#00000000",rgba:0},Bn;(t=>{function e(r,i,a,l){return l!==void 0?`#${kl(r)}${kl(i)}${kl(a)}${kl(l)}`:`#${kl(r)}${kl(i)}${kl(a)}`}t.toCss=e;function n(r,i,a,l=255){return(r<<24|i<<16|a<<8|l)>>>0}t.toRgba=n;function s(r,i,a,l){return{css:t.toCss(r,i,a,l),rgba:t.toRgba(r,i,a,l)}}t.toColor=s})(Bn||={});var ln;(t=>{function e(u,h){if(Sn=(h.rgba&255)/255,Sn===1)return{css:h.css,rgba:h.rgba};let m=h.rgba>>24&255,f=h.rgba>>16&255,g=h.rgba>>8&255,y=u.rgba>>24&255,b=u.rgba>>16&255,_=u.rgba>>8&255;ns=y+Math.round((m-y)*Sn),ss=b+Math.round((f-b)*Sn),rs=_+Math.round((g-_)*Sn);let w=Bn.toCss(ns,ss,rs),k=Bn.toRgba(ns,ss,rs);return{css:w,rgba:k}}t.blend=e;function n(u){return(u.rgba&255)===255}t.isOpaque=n;function s(u,h,m){let f=q0.ensureContrastRatio(u.rgba,h.rgba,m);if(f)return Bn.toColor(f>>24&255,f>>16&255,f>>8&255)}t.ensureContrastRatio=s;function r(u){let h=(u.rgba|255)>>>0;return[ns,ss,rs]=q0.toChannels(h),{css:Bn.toCss(ns,ss,rs),rgba:h}}t.opaque=r;function i(u,h){return Sn=Math.round(h*255),[ns,ss,rs]=q0.toChannels(u.rgba),{css:Bn.toCss(ns,ss,rs,Sn),rgba:Bn.toRgba(ns,ss,rs,Sn)}}t.opacity=i;function a(u,h){return Sn=u.rgba&255,i(u,Sn*h/255)}t.multiplyOpacity=a;function l(u){return[u.rgba>>24&255,u.rgba>>16&255,u.rgba>>8&255]}t.toColorRGB=l})(ln||={});var vn;(t=>{let e,n;try{let r=document.createElement("canvas");r.width=1,r.height=1;let i=r.getContext("2d",{willReadFrequently:!0});i&&(e=i,e.globalCompositeOperation="copy",n=e.createLinearGradient(0,0,1,1))}catch{}function s(r){if(r.match(/#[\da-f]{3,8}/i))switch(r.length){case 4:return ns=parseInt(r.slice(1,2).repeat(2),16),ss=parseInt(r.slice(2,3).repeat(2),16),rs=parseInt(r.slice(3,4).repeat(2),16),Bn.toColor(ns,ss,rs);case 5:return ns=parseInt(r.slice(1,2).repeat(2),16),ss=parseInt(r.slice(2,3).repeat(2),16),rs=parseInt(r.slice(3,4).repeat(2),16),Sn=parseInt(r.slice(4,5).repeat(2),16),Bn.toColor(ns,ss,rs,Sn);case 7:return{css:r,rgba:(parseInt(r.slice(1),16)<<8|255)>>>0};case 9:return{css:r,rgba:parseInt(r.slice(1),16)>>>0}}let i=r.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(i)return ns=parseInt(i[1]),ss=parseInt(i[2]),rs=parseInt(i[3]),Sn=Math.round((i[5]===void 0?1:parseFloat(i[5]))*255),Bn.toColor(ns,ss,rs,Sn);if(!e||!n)throw new Error("css.toColor: Unsupported css format");if(e.fillStyle=n,e.fillStyle=r,typeof e.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(e.fillRect(0,0,1,1),[ns,ss,rs,Sn]=e.getImageData(0,0,1,1).data,Sn!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:Bn.toRgba(ns,ss,rs,Sn),css:r}}t.toColor=s})(vn||={});var Ds;(t=>{function e(s){return n(s>>16&255,s>>8&255,s&255)}t.relativeLuminance=e;function n(s,r,i){let a=s/255,l=r/255,u=i/255,h=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),m=l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4),f=u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4);return h*.2126+m*.7152+f*.0722}t.relativeLuminance2=n})(Ds||={});var q0;(t=>{function e(a,l){if(Sn=(l&255)/255,Sn===1)return l;let u=l>>24&255,h=l>>16&255,m=l>>8&255,f=a>>24&255,g=a>>16&255,y=a>>8&255;return ns=f+Math.round((u-f)*Sn),ss=g+Math.round((h-g)*Sn),rs=y+Math.round((m-y)*Sn),Bn.toRgba(ns,ss,rs)}t.blend=e;function n(a,l,u){let h=Ds.relativeLuminance(a>>8),m=Ds.relativeLuminance(l>>8);if(wa(h,m)<u){if(m<h){let y=s(a,l,u),b=wa(h,Ds.relativeLuminance(y>>8));if(b<u){let _=r(a,l,u),w=wa(h,Ds.relativeLuminance(_>>8));return b>w?y:_}return y}let f=r(a,l,u),g=wa(h,Ds.relativeLuminance(f>>8));if(g<u){let y=s(a,l,u),b=wa(h,Ds.relativeLuminance(y>>8));return g>b?f:y}return f}}t.ensureContrastRatio=n;function s(a,l,u){let h=a>>24&255,m=a>>16&255,f=a>>8&255,g=l>>24&255,y=l>>16&255,b=l>>8&255,_=wa(Ds.relativeLuminance2(g,y,b),Ds.relativeLuminance2(h,m,f));for(;_<u&&(g>0||y>0||b>0);)g-=Math.max(0,Math.ceil(g*.1)),y-=Math.max(0,Math.ceil(y*.1)),b-=Math.max(0,Math.ceil(b*.1)),_=wa(Ds.relativeLuminance2(g,y,b),Ds.relativeLuminance2(h,m,f));return(g<<24|y<<16|b<<8|255)>>>0}t.reduceLuminance=s;function r(a,l,u){let h=a>>24&255,m=a>>16&255,f=a>>8&255,g=l>>24&255,y=l>>16&255,b=l>>8&255,_=wa(Ds.relativeLuminance2(g,y,b),Ds.relativeLuminance2(h,m,f));for(;_<u&&(g<255||y<255||b<255);)g=Math.min(255,g+Math.ceil((255-g)*.1)),y=Math.min(255,y+Math.ceil((255-y)*.1)),b=Math.min(255,b+Math.ceil((255-b)*.1)),_=wa(Ds.relativeLuminance2(g,y,b),Ds.relativeLuminance2(h,m,f));return(g<<24|y<<16|b<<8|255)>>>0}t.increaseLuminance=r;function i(a){return[a>>24&255,a>>16&255,a>>8&255,a&255]}t.toChannels=i})(q0||={});function kl(t){let e=t.toString(16);return e.length<2?"0"+e:e}function wa(t,e){return t<e?(e+.05)/(t+.05):(t+.05)/(e+.05)}var Yse=class extends mm{constructor(t,e,n){super(),this.content=0,this.combinedData="",this.fg=t.fg,this.bg=t.bg,this.combinedData=e,this._width=n}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(t){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},hv=class{constructor(t){this._bufferService=t,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new ri}register(t){let e={id:this._nextCharacterJoinerId++,handler:t};return this._characterJoiners.push(e),e.id}deregister(t){for(let e=0;e<this._characterJoiners.length;e++)if(this._characterJoiners[e].id===t)return this._characterJoiners.splice(e,1),!0;return!1}getJoinedCharacters(t){if(this._characterJoiners.length===0)return[];let e=this._bufferService.buffer.lines.get(t);if(!e||e.length===0)return[];let n=[],s=e.translateToString(!0),r=0,i=0,a=0,l=e.getFg(0),u=e.getBg(0);for(let h=0;h<e.getTrimmedLength();h++)if(e.loadCell(h,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==l||this._workCell.bg!==u){if(h-r>1){let m=this._getJoinedRanges(s,a,i,e,r);for(let f=0;f<m.length;f++)n.push(m[f])}r=h,a=i,l=this._workCell.fg,u=this._workCell.bg}i+=this._workCell.getChars().length||Po.length}if(this._bufferService.cols-r>1){let h=this._getJoinedRanges(s,a,i,e,r);for(let m=0;m<h.length;m++)n.push(h[m])}return n}_getJoinedRanges(t,e,n,s,r){let i=t.substring(e,n),a=[];try{a=this._characterJoiners[0].handler(i)}catch(l){console.error(l)}for(let l=1;l<this._characterJoiners.length;l++)try{let u=this._characterJoiners[l].handler(i);for(let h=0;h<u.length;h++)hv._mergeRanges(a,u[h])}catch(u){console.error(u)}return this._stringRangesToCellRanges(a,s,r),a}_stringRangesToCellRanges(t,e,n){let s=0,r=!1,i=0,a=t[s];if(a){for(let l=n;l<this._bufferService.cols;l++){let u=e.getWidth(l),h=e.getString(l).length||Po.length;if(u!==0){if(!r&&a[0]<=i&&(a[0]=l,r=!0),a[1]<=i){if(a[1]=l,a=t[++s],!a)break;a[0]<=i?(a[0]=l,r=!0):r=!1}i+=h}}a&&(a[1]=this._bufferService.cols)}}static _mergeRanges(t,e){let n=!1;for(let s=0;s<t.length;s++){let r=t[s];if(n){if(e[1]<=r[0])return t[s-1][1]=e[1],t;if(e[1]<=r[1])return t[s-1][1]=Math.max(e[1],r[1]),t.splice(s,1),t;t.splice(s,1),s--}else{if(e[1]<=r[0])return t.splice(s,0,e),t;if(e[1]<=r[1])return r[0]=Math.min(e[0],r[0]),t;e[0]<r[1]&&(r[0]=Math.min(e[0],r[0]),n=!0);continue}}return n?t[t.length-1][1]=e[1]:t.push(e),t}};hv=wn([Ue(0,Vs)],hv);function Zse(t){return 57508<=t&&t<=57558}function Jse(t){return 9472<=t&&t<=9631}function Xse(t){return Zse(t)||Jse(t)}function Qse(){return{css:{canvas:c0(),cell:c0()},device:{canvas:c0(),cell:c0(),char:{width:0,height:0,left:0,top:0}}}}function c0(){return{width:0,height:0}}var C2=class{constructor(t,e,n,s,r,i,a){this._document=t,this._characterJoinerService=e,this._optionsService=n,this._coreBrowserService=s,this._coreService=r,this._decorationService=i,this._themeService=a,this._workCell=new ri,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(t,e,n){this._selectionStart=t,this._selectionEnd=e,this._columnSelectMode=n}createRow(t,e,n,s,r,i,a,l,u,h,m){let f=[],g=this._characterJoinerService.getJoinedCharacters(e),y=this._themeService.colors,b=t.getNoBgTrimmedLength();n&&b<i+1&&(b=i+1);let _,w=0,k="",C=0,E=0,A=0,R=0,N=!1,M=0,I=!1,q=0,B=0,K=[],$=h!==-1&&m!==-1;for(let W=0;W<b;W++){t.loadCell(W,this._workCell);let Z=this._workCell.getWidth();if(Z===0)continue;let G=!1,L=W>=B,Y=W,X=this._workCell;if(g.length>0&&W===g[0][0]&&L){let Oe=g.shift(),qe=this._isCellInSelection(Oe[0],e);for(C=Oe[0]+1;C<Oe[1];C++)L&&=qe===this._isCellInSelection(C,e);L&&=!n||i<Oe[0]||i>=Oe[1],L?(G=!0,X=new Yse(this._workCell,t.translateToString(!0,Oe[0],Oe[1]),Oe[1]-Oe[0]),Y=Oe[1]-1,Z=X.getWidth()):B=Oe[1]}let U=this._isCellInSelection(W,e),O=n&&W===i,P=$&&W>=h&&W<=m,V=!1;this._decorationService.forEachDecorationAtCell(W,e,void 0,Oe=>{V=!0});let T=X.getChars()||Po;if(T===" "&&(X.isUnderline()||X.isOverline())&&(T=""),q=Z*l-u.get(T,X.isBold(),X.isItalic()),!_)_=this._document.createElement("span");else if(w&&(U&&I||!U&&!I&&X.bg===E)&&(U&&I&&y.selectionForeground||X.fg===A)&&X.extended.ext===R&&P===N&&q===M&&!O&&!G&&!V&&L){X.isInvisible()?k+=Po:k+=T,w++;continue}else w&&(_.textContent=k),_=this._document.createElement("span"),w=0,k="";if(E=X.bg,A=X.fg,R=X.extended.ext,N=P,M=q,I=U,G&&i>=W&&i<=Y&&(i=W),!this._coreService.isCursorHidden&&O&&this._coreService.isCursorInitialized){if(K.push("xterm-cursor"),this._coreBrowserService.isFocused)a&&K.push("xterm-cursor-blink"),K.push(s==="bar"?"xterm-cursor-bar":s==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(r)switch(r){case"outline":K.push("xterm-cursor-outline");break;case"block":K.push("xterm-cursor-block");break;case"bar":K.push("xterm-cursor-bar");break;case"underline":K.push("xterm-cursor-underline");break}}if(X.isBold()&&K.push("xterm-bold"),X.isItalic()&&K.push("xterm-italic"),X.isDim()&&K.push("xterm-dim"),X.isInvisible()?k=Po:k=X.getChars()||Po,X.isUnderline()&&(K.push(`xterm-underline-${X.extended.underlineStyle}`),k===" "&&(k=""),!X.isUnderlineColorDefault()))if(X.isUnderlineColorRGB())_.style.textDecorationColor=`rgb(${mm.toColorRGB(X.getUnderlineColor()).join(",")})`;else{let Oe=X.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&X.isBold()&&Oe<8&&(Oe+=8),_.style.textDecorationColor=y.ansi[Oe].css}X.isOverline()&&(K.push("xterm-overline"),k===" "&&(k="")),X.isStrikethrough()&&K.push("xterm-strikethrough"),P&&(_.style.textDecoration="underline");let Q=X.getFgColor(),te=X.getFgColorMode(),J=X.getBgColor(),ue=X.getBgColorMode(),we=!!X.isInverse();if(we){let Oe=Q;Q=J,J=Oe;let qe=te;te=ue,ue=qe}let ke,et,ze=!1;this._decorationService.forEachDecorationAtCell(W,e,void 0,Oe=>{Oe.options.layer!=="top"&&ze||(Oe.backgroundColorRGB&&(ue=50331648,J=Oe.backgroundColorRGB.rgba>>8&16777215,ke=Oe.backgroundColorRGB),Oe.foregroundColorRGB&&(te=50331648,Q=Oe.foregroundColorRGB.rgba>>8&16777215,et=Oe.foregroundColorRGB),ze=Oe.options.layer==="top")}),!ze&&U&&(ke=this._coreBrowserService.isFocused?y.selectionBackgroundOpaque:y.selectionInactiveBackgroundOpaque,J=ke.rgba>>8&16777215,ue=50331648,ze=!0,y.selectionForeground&&(te=50331648,Q=y.selectionForeground.rgba>>8&16777215,et=y.selectionForeground)),ze&&K.push("xterm-decoration-top");let Ce;switch(ue){case 16777216:case 33554432:Ce=y.ansi[J],K.push(`xterm-bg-${J}`);break;case 50331648:Ce=Bn.toColor(J>>16,J>>8&255,J&255),this._addStyle(_,`background-color:#${DO((J>>>0).toString(16),"0",6)}`);break;default:we?(Ce=y.foreground,K.push("xterm-bg-257")):Ce=y.background}switch(ke||X.isDim()&&(ke=ln.multiplyOpacity(Ce,.5)),te){case 16777216:case 33554432:X.isBold()&&Q<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Q+=8),this._applyMinimumContrast(_,Ce,y.ansi[Q],X,ke,void 0)||K.push(`xterm-fg-${Q}`);break;case 50331648:let Oe=Bn.toColor(Q>>16&255,Q>>8&255,Q&255);this._applyMinimumContrast(_,Ce,Oe,X,ke,et)||this._addStyle(_,`color:#${DO(Q.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(_,Ce,y.foreground,X,ke,et)||we&&K.push("xterm-fg-257")}K.length&&(_.className=K.join(" "),K.length=0),!O&&!G&&!V&&L?w++:_.textContent=k,q!==this.defaultSpacing&&(_.style.letterSpacing=`${q}px`),f.push(_),W=Y}return _&&w&&(_.textContent=k),f}_applyMinimumContrast(t,e,n,s,r,i){if(this._optionsService.rawOptions.minimumContrastRatio===1||Xse(s.getCode()))return!1;let a=this._getContrastCache(s),l;if(!r&&!i&&(l=a.getColor(e.rgba,n.rgba)),l===void 0){let u=this._optionsService.rawOptions.minimumContrastRatio/(s.isDim()?2:1);l=ln.ensureContrastRatio(r||e,i||n,u),a.setColor((r||e).rgba,(i||n).rgba,l??null)}return l?(this._addStyle(t,`color:${l.css}`),!0):!1}_getContrastCache(t){return t.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(t,e){t.setAttribute("style",`${t.getAttribute("style")||""}${e};`)}_isCellInSelection(t,e){let n=this._selectionStart,s=this._selectionEnd;return!n||!s?!1:this._columnSelectMode?n[0]<=s[0]?t>=n[0]&&e>=n[1]&&t<s[0]&&e<=s[1]:t<n[0]&&e>=n[1]&&t>=s[0]&&e<=s[1]:e>n[1]&&e<s[1]||n[1]===s[1]&&e===n[1]&&t>=n[0]&&t<s[0]||n[1]<s[1]&&e===s[1]&&t<s[0]||n[1]<s[1]&&e===n[1]&&t>=n[0]}};C2=wn([Ue(1,BL),Ue(2,qs),Ue(3,Ga),Ue(4,Ec),Ue(5,gm),Ue(6,Bh)],C2);function DO(t,e,n){for(;t.length<n;)t=e+t;return t}var ere=class{constructor(t,e){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=t.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";let n=t.createElement("span");n.classList.add("xterm-char-measure-element");let s=t.createElement("span");s.classList.add("xterm-char-measure-element"),s.style.fontWeight="bold";let r=t.createElement("span");r.classList.add("xterm-char-measure-element"),r.style.fontStyle="italic";let i=t.createElement("span");i.classList.add("xterm-char-measure-element"),i.style.fontWeight="bold",i.style.fontStyle="italic",this._measureElements=[n,s,r,i],this._container.appendChild(n),this._container.appendChild(s),this._container.appendChild(r),this._container.appendChild(i),e.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(t,e,n,s){t===this._font&&e===this._fontSize&&n===this._weight&&s===this._weightBold||(this._font=t,this._fontSize=e,this._weight=n,this._weightBold=s,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${n}`,this._measureElements[1].style.fontWeight=`${s}`,this._measureElements[2].style.fontWeight=`${n}`,this._measureElements[3].style.fontWeight=`${s}`,this.clear())}get(t,e,n){let s=0;if(!e&&!n&&t.length===1&&(s=t.charCodeAt(0))<256){if(this._flat[s]!==-9999)return this._flat[s];let a=this._measure(t,0);return a>0&&(this._flat[s]=a),a}let r=t;e&&(r+="B"),n&&(r+="I");let i=this._holey.get(r);if(i===void 0){let a=0;e&&(a|=1),n&&(a|=2),i=this._measure(t,a),i>0&&this._holey.set(r,i)}return i}_measure(t,e){let n=this._measureElements[e];return n.textContent=t.repeat(32),n.offsetWidth/32}},tre=class{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(t,e,n,s=!1){if(this.selectionStart=e,this.selectionEnd=n,!e||!n||e[0]===n[0]&&e[1]===n[1]){this.clear();return}let r=t.buffers.active.ydisp,i=e[1]-r,a=n[1]-r,l=Math.max(i,0),u=Math.min(a,t.rows-1);if(l>=t.rows||u<0){this.clear();return}this.hasSelection=!0,this.columnSelectMode=s,this.viewportStartRow=i,this.viewportEndRow=a,this.viewportCappedStartRow=l,this.viewportCappedEndRow=u,this.startCol=e[0],this.endCol=n[0]}isCellSelected(t,e,n){return this.hasSelection?(n-=t.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?e>=this.startCol&&n>=this.viewportCappedStartRow&&e<this.endCol&&n<=this.viewportCappedEndRow:e<this.startCol&&n>=this.viewportCappedStartRow&&e>=this.endCol&&n<=this.viewportCappedEndRow:n>this.viewportStartRow&&n<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&n===this.viewportStartRow&&e>=this.startCol&&e<this.endCol||this.viewportStartRow<this.viewportEndRow&&n===this.viewportEndRow&&e<this.endCol||this.viewportStartRow<this.viewportEndRow&&n===this.viewportStartRow&&e>=this.startCol):!1}};function nre(){return new tre}var _S="xterm-dom-renderer-owner-",Wr="xterm-rows",u0="xterm-fg-",PO="xterm-bg-",Wd="xterm-focus",h0="xterm-selection",sre=1,N2=class extends Tt{constructor(t,e,n,s,r,i,a,l,u,h,m,f,g,y){super(),this._terminal=t,this._document=e,this._element=n,this._screenElement=s,this._viewportElement=r,this._helperContainer=i,this._linkifier2=a,this._charSizeService=u,this._optionsService=h,this._bufferService=m,this._coreService=f,this._coreBrowserService=g,this._themeService=y,this._terminalClass=sre++,this._rowElements=[],this._selectionRenderModel=nre(),this.onRequestRedraw=this._register(new je).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(Wr),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(h0),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=Qse(),this._updateDimensions(),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._themeService.onChangeColors(b=>this._injectCss(b))),this._injectCss(this._themeService.colors),this._rowFactory=l.createInstance(C2,document),this._element.classList.add(_S+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this._register(this._linkifier2.onShowLinkUnderline(b=>this._handleLinkHover(b))),this._register(this._linkifier2.onHideLinkUnderline(b=>this._handleLinkLeave(b))),this._register(fn(()=>{this._element.classList.remove(_S+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new ere(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){let t=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*t,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*t),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/t),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/t),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let n of this._rowElements)n.style.width=`${this.dimensions.css.canvas.width}px`,n.style.height=`${this.dimensions.css.cell.height}px`,n.style.lineHeight=`${this.dimensions.css.cell.height}px`,n.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));let e=`${this._terminalSelector} .${Wr} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=e,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(t){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let e=`${this._terminalSelector} .${Wr} { pointer-events: none; color: ${t.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;e+=`${this._terminalSelector} .${Wr} .xterm-dim { color: ${ln.multiplyOpacity(t.foreground,.5).css};}`,e+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;let n=`blink_underline_${this._terminalClass}`,s=`blink_bar_${this._terminalClass}`,r=`blink_block_${this._terminalClass}`;e+=`@keyframes ${n} { 50% {  border-bottom-style: hidden; }}`,e+=`@keyframes ${s} { 50% {  box-shadow: none; }}`,e+=`@keyframes ${r} { 0% {  background-color: ${t.cursor.css};  color: ${t.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${t.cursor.css}; }}`,e+=`${this._terminalSelector} .${Wr}.${Wd} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${n} 1s step-end infinite;}${this._terminalSelector} .${Wr}.${Wd} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${s} 1s step-end infinite;}${this._terminalSelector} .${Wr}.${Wd} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${r} 1s step-end infinite;}${this._terminalSelector} .${Wr} .xterm-cursor.xterm-cursor-block { background-color: ${t.cursor.css}; color: ${t.cursorAccent.css};}${this._terminalSelector} .${Wr} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${t.cursor.css} !important; color: ${t.cursorAccent.css} !important;}${this._terminalSelector} .${Wr} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${t.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${Wr} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${t.cursor.css} inset;}${this._terminalSelector} .${Wr} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${t.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,e+=`${this._terminalSelector} .${h0} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${h0} div { position: absolute; background-color: ${t.selectionBackgroundOpaque.css};}${this._terminalSelector} .${h0} div { position: absolute; background-color: ${t.selectionInactiveBackgroundOpaque.css};}`;for(let[i,a]of t.ansi.entries())e+=`${this._terminalSelector} .${u0}${i} { color: ${a.css}; }${this._terminalSelector} .${u0}${i}.xterm-dim { color: ${ln.multiplyOpacity(a,.5).css}; }${this._terminalSelector} .${PO}${i} { background-color: ${a.css}; }`;e+=`${this._terminalSelector} .${u0}257 { color: ${ln.opaque(t.background).css}; }${this._terminalSelector} .${u0}257.xterm-dim { color: ${ln.multiplyOpacity(ln.opaque(t.background),.5).css}; }${this._terminalSelector} .${PO}257 { background-color: ${t.foreground.css}; }`,this._themeStyleElement.textContent=e}_setDefaultSpacing(){let t=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${t}px`,this._rowFactory.defaultSpacing=t}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(t,e){for(let n=this._rowElements.length;n<=e;n++){let s=this._document.createElement("div");this._rowContainer.appendChild(s),this._rowElements.push(s)}for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(t,e){this._refreshRowElements(t,e),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(Wd),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(Wd),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(t,e,n){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(t,e,n),this.renderRows(0,this._bufferService.rows-1),!t||!e||(this._selectionRenderModel.update(this._terminal,t,e,n),!this._selectionRenderModel.hasSelection))return;let s=this._selectionRenderModel.viewportStartRow,r=this._selectionRenderModel.viewportEndRow,i=this._selectionRenderModel.viewportCappedStartRow,a=this._selectionRenderModel.viewportCappedEndRow,l=this._document.createDocumentFragment();if(n){let u=t[0]>e[0];l.appendChild(this._createSelectionElement(i,u?e[0]:t[0],u?t[0]:e[0],a-i+1))}else{let u=s===i?t[0]:0,h=i===r?e[0]:this._bufferService.cols;l.appendChild(this._createSelectionElement(i,u,h));let m=a-i-1;if(l.appendChild(this._createSelectionElement(i+1,0,this._bufferService.cols,m)),i!==a){let f=r===a?e[0]:this._bufferService.cols;l.appendChild(this._createSelectionElement(a,0,f))}}this._selectionContainer.appendChild(l)}_createSelectionElement(t,e,n,s=1){let r=this._document.createElement("div"),i=e*this.dimensions.css.cell.width,a=this.dimensions.css.cell.width*(n-e);return i+a>this.dimensions.css.canvas.width&&(a=this.dimensions.css.canvas.width-i),r.style.height=`${s*this.dimensions.css.cell.height}px`,r.style.top=`${t*this.dimensions.css.cell.height}px`,r.style.left=`${i}px`,r.style.width=`${a}px`,r}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let t of this._rowElements)t.replaceChildren()}renderRows(t,e){let n=this._bufferService.buffer,s=n.ybase+n.y,r=Math.min(n.x,this._bufferService.cols-1),i=this._coreService.decPrivateModes.cursorBlink??this._optionsService.rawOptions.cursorBlink,a=this._coreService.decPrivateModes.cursorStyle??this._optionsService.rawOptions.cursorStyle,l=this._optionsService.rawOptions.cursorInactiveStyle;for(let u=t;u<=e;u++){let h=u+n.ydisp,m=this._rowElements[u],f=n.lines.get(h);if(!m||!f)break;m.replaceChildren(...this._rowFactory.createRow(f,h,h===s,a,l,r,i,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${_S}${this._terminalClass}`}_handleLinkHover(t){this._setCellUnderline(t.x1,t.x2,t.y1,t.y2,t.cols,!0)}_handleLinkLeave(t){this._setCellUnderline(t.x1,t.x2,t.y1,t.y2,t.cols,!1)}_setCellUnderline(t,e,n,s,r,i){n<0&&(t=0),s<0&&(e=0);let a=this._bufferService.rows-1;n=Math.max(Math.min(n,a),0),s=Math.max(Math.min(s,a),0),r=Math.min(r,this._bufferService.cols);let l=this._bufferService.buffer,u=l.ybase+l.y,h=Math.min(l.x,r-1),m=this._optionsService.rawOptions.cursorBlink,f=this._optionsService.rawOptions.cursorStyle,g=this._optionsService.rawOptions.cursorInactiveStyle;for(let y=n;y<=s;++y){let b=y+l.ydisp,_=this._rowElements[y],w=l.lines.get(b);if(!_||!w)break;_.replaceChildren(...this._rowFactory.createRow(w,b,b===u,f,g,h,m,this.dimensions.css.cell.width,this._widthCache,i?y===n?t:0:-1,i?(y===s?e:r)-1:-1))}}};N2=wn([Ue(7,KN),Ue(8,Ub),Ue(9,qs),Ue(10,Vs),Ue(11,Ec),Ue(12,Ga),Ue(13,Bh)],N2);var E2=class extends Tt{constructor(t,e,n){super(),this._optionsService=n,this.width=0,this.height=0,this._onCharSizeChange=this._register(new je),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this._register(new ire(this._optionsService))}catch{this._measureStrategy=this._register(new rre(t,e,this._optionsService))}this._register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){let t=this._measureStrategy.measure();(t.width!==this.width||t.height!==this.height)&&(this.width=t.width,this.height=t.height,this._onCharSizeChange.fire())}};E2=wn([Ue(2,qs)],E2);var sB=class extends Tt{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(t,e){t!==void 0&&t>0&&e!==void 0&&e>0&&(this._result.width=t,this._result.height=e)}},rre=class extends sB{constructor(t,e,n){super(),this._document=t,this._parentElement=e,this._optionsService=n,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}},ire=class extends sB{constructor(t){super(),this._optionsService=t,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");let e=this._ctx.measureText("W");if(!("width"in e&&"fontBoundingBoxAscent"in e&&"fontBoundingBoxDescent"in e))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;let t=this._ctx.measureText("W");return this._validateAndSet(t.width,t.fontBoundingBoxAscent+t.fontBoundingBoxDescent),this._result}},are=class extends Tt{constructor(t,e,n){super(),this._textarea=t,this._window=e,this.mainDocument=n,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=this._register(new ore(this._window)),this._onDprChange=this._register(new je),this.onDprChange=this._onDprChange.event,this._onWindowChange=this._register(new je),this.onWindowChange=this._onWindowChange.event,this._register(this.onWindowChange(s=>this._screenDprMonitor.setWindow(s))),this._register(ms.forward(this._screenDprMonitor.onDprChange,this._onDprChange)),this._register(gt(this._textarea,"focus",()=>this._isFocused=!0)),this._register(gt(this._textarea,"blur",()=>this._isFocused=!1))}get window(){return this._window}set window(t){this._window!==t&&(this._window=t,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}},ore=class extends Tt{constructor(t){super(),this._parentWindow=t,this._windowResizeListener=this._register(new gh),this._onDprChange=this._register(new je),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this._register(fn(()=>this.clearListener()))}setWindow(t){this._parentWindow=t,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=gt(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){!this._resolutionMediaMatchList||!this._outerListener||(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}},lre=class extends Tt{constructor(){super(),this.linkProviders=[],this._register(fn(()=>this.linkProviders.length=0))}registerLinkProvider(t){return this.linkProviders.push(t),{dispose:()=>{let e=this.linkProviders.indexOf(t);e!==-1&&this.linkProviders.splice(e,1)}}}};function eE(t,e,n){let s=n.getBoundingClientRect(),r=t.getComputedStyle(n),i=parseInt(r.getPropertyValue("padding-left")),a=parseInt(r.getPropertyValue("padding-top"));return[e.clientX-s.left-i,e.clientY-s.top-a]}function cre(t,e,n,s,r,i,a,l,u){if(!i)return;let h=eE(t,e,n);if(h)return h[0]=Math.ceil((h[0]+(u?a/2:0))/a),h[1]=Math.ceil(h[1]/l),h[0]=Math.min(Math.max(h[0],1),s+(u?1:0)),h[1]=Math.min(Math.max(h[1],1),r),h}var A2=class{constructor(t,e){this._renderService=t,this._charSizeService=e}getCoords(t,e,n,s,r){return cre(window,t,e,n,s,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,r)}getMouseReportCoords(t,e){let n=eE(window,t,e);if(this._charSizeService.hasValidSize)return n[0]=Math.min(Math.max(n[0],0),this._renderService.dimensions.css.canvas.width-1),n[1]=Math.min(Math.max(n[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(n[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(n[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(n[0]),y:Math.floor(n[1])}}};A2=wn([Ue(0,Ya),Ue(1,Ub)],A2);var ure=class{constructor(t,e){this._renderCallback=t,this._coreBrowserService=e,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(t){return this._refreshCallbacks.push(t),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(t,e,n){this._rowCount=n,t=t!==void 0?t:0,e=e!==void 0?e:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,t):t,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,e):e,!this._animationFrame&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0){this._runRefreshCallbacks();return}let t=Math.max(this._rowStart,0),e=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(t,e),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let t of this._refreshCallbacks)t(0);this._refreshCallbacks=[]}},rB={};_ne(rB,{getSafariVersion:()=>dre,isChromeOS:()=>lB,isFirefox:()=>iB,isIpad:()=>fre,isIphone:()=>pre,isLegacyEdge:()=>hre,isLinux:()=>tE,isMac:()=>dv,isNode:()=>Hb,isSafari:()=>aB,isWindows:()=>oB});var Hb=typeof process<"u"&&"title"in process,ym=Hb?"node":navigator.userAgent,vm=Hb?"node":navigator.platform,iB=ym.includes("Firefox"),hre=ym.includes("Edge"),aB=/^((?!chrome|android).)*safari/i.test(ym);function dre(){if(!aB)return 0;let t=ym.match(/Version\/(\d+)/);return t===null||t.length<2?0:parseInt(t[1])}var dv=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(vm),fre=vm==="iPad",pre=vm==="iPhone",oB=["Windows","Win16","Win32","WinCE"].includes(vm),tE=vm.indexOf("Linux")>=0,lB=/\bCrOS\b/.test(ym),cB=class{constructor(){this._tasks=[],this._i=0}enqueue(t){this._tasks.push(t),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(t){this._idleCallback=void 0;let e=0,n=0,s=t.timeRemaining(),r=0;for(;this._i<this._tasks.length;){if(e=performance.now(),this._tasks[this._i]()||this._i++,e=Math.max(1,performance.now()-e),n=Math.max(e,n),r=t.timeRemaining(),n*1.5>r){s-e<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(s-e))}ms`),this._start();return}s=r}this.clear()}},mre=class extends cB{_requestCallback(t){return setTimeout(()=>t(this._createDeadline(16)))}_cancelCallback(t){clearTimeout(t)}_createDeadline(t){let e=performance.now()+t;return{timeRemaining:()=>Math.max(0,e-performance.now())}}},gre=class extends cB{_requestCallback(t){return requestIdleCallback(t)}_cancelCallback(t){cancelIdleCallback(t)}},fv=!Hb&&"requestIdleCallback"in window?gre:mre,yre=class{constructor(){this._queue=new fv}set(t){this._queue.clear(),this._queue.enqueue(t)}flush(){this._queue.flush()}},R2=class extends Tt{constructor(t,e,n,s,r,i,a,l,u){super(),this._rowCount=t,this._optionsService=n,this._charSizeService=s,this._coreService=r,this._coreBrowserService=l,this._renderer=this._register(new gh),this._pausedResizeTask=new yre,this._observerDisposable=this._register(new gh),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this._register(new je),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this._register(new je),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this._register(new je),this.onRender=this._onRender.event,this._onRefreshRequest=this._register(new je),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new ure((h,m)=>this._renderRows(h,m),this._coreBrowserService),this._register(this._renderDebouncer),this._syncOutputHandler=new vre(this._coreBrowserService,this._coreService,()=>this._fullRefresh()),this._register(fn(()=>this._syncOutputHandler.dispose())),this._register(this._coreBrowserService.onDprChange(()=>this.handleDevicePixelRatioChange())),this._register(a.onResize(()=>this._fullRefresh())),this._register(a.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this._register(i.onDecorationRegistered(()=>this._fullRefresh())),this._register(i.onDecorationRemoved(()=>this._fullRefresh())),this._register(this._optionsService.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(a.cols,a.rows),this._fullRefresh()})),this._register(this._optionsService.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(a.buffer.y,a.buffer.y,!0))),this._register(u.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(this._coreBrowserService.window,e),this._register(this._coreBrowserService.onWindowChange(h=>this._registerIntersectionObserver(h,e)))}get dimensions(){return this._renderer.value.dimensions}_registerIntersectionObserver(t,e){if("IntersectionObserver"in t){let n=new t.IntersectionObserver(s=>this._handleIntersectionChange(s[s.length-1]),{threshold:0});n.observe(e),this._observerDisposable.value=fn(()=>n.disconnect())}}_handleIntersectionChange(t){this._isPaused=t.isIntersecting===void 0?t.intersectionRatio===0:!t.isIntersecting,!this._isPaused&&!this._charSizeService.hasValidSize&&this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(t,e,n=!1){if(this._isPaused){this._needsFullRefresh=!0;return}if(this._coreService.decPrivateModes.synchronizedOutput){this._syncOutputHandler.bufferRows(t,e);return}let s=this._syncOutputHandler.flush();s&&(t=Math.min(t,s.start),e=Math.max(e,s.end)),n||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(t,e,this._rowCount)}_renderRows(t,e){if(this._renderer.value){if(this._coreService.decPrivateModes.synchronizedOutput){this._syncOutputHandler.bufferRows(t,e);return}t=Math.min(t,this._rowCount-1),e=Math.min(e,this._rowCount-1),this._renderer.value.renderRows(t,e),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:t,end:e}),this._onRender.fire({start:t,end:e}),this._isNextRenderRedrawOnly=!0}}resize(t,e){this._rowCount=e,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(t){this._renderer.value=t,this._renderer.value&&(this._renderer.value.onRequestRedraw(e=>this.refreshRows(e.start,e.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(t){return this._renderDebouncer.addRefreshCallback(t)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(t,e){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(t,e)):this._renderer.value.handleResize(t,e),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(t,e,n){this._selectionState.start=t,this._selectionState.end=e,this._selectionState.columnSelectMode=n,this._renderer.value?.handleSelectionChanged(t,e,n)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};R2=wn([Ue(2,qs),Ue(3,Ub),Ue(4,Ec),Ue(5,gm),Ue(6,Vs),Ue(7,Ga),Ue(8,Bh)],R2);var vre=class{constructor(t,e,n){this._coreBrowserService=t,this._coreService=e,this._onTimeout=n,this._start=0,this._end=0,this._isBuffering=!1}bufferRows(t,e){this._isBuffering?(this._start=Math.min(this._start,t),this._end=Math.max(this._end,e)):(this._start=t,this._end=e,this._isBuffering=!0),this._timeout===void 0&&(this._timeout=this._coreBrowserService.window.setTimeout(()=>{this._timeout=void 0,this._coreService.decPrivateModes.synchronizedOutput=!1,this._onTimeout()},1e3))}flush(){if(this._timeout!==void 0&&(this._coreBrowserService.window.clearTimeout(this._timeout),this._timeout=void 0),!this._isBuffering)return;let t={start:this._start,end:this._end};return this._isBuffering=!1,t}dispose(){this._timeout!==void 0&&(this._coreBrowserService.window.clearTimeout(this._timeout),this._timeout=void 0)}};function bre(t,e,n,s){let r=n.buffer.x,i=n.buffer.y;if(!n.buffer.hasScrollback)return Sre(r,i,t,e,n,s)+Vb(i,e,n,s)+wre(r,i,t,e,n,s);let a;if(i===e)return a=r>t?"D":"C",$p(Math.abs(r-t),Bp(a,s));a=i>e?"D":"C";let l=Math.abs(i-e),u=xre(i>e?t:r,n)+(l-1)*n.cols+1+_re(i>e?r:t);return $p(u,Bp(a,s))}function _re(t,e){return t-1}function xre(t,e){return e.cols-t}function Sre(t,e,n,s,r,i){return Vb(e,s,r,i).length===0?"":$p(hB(t,e,t,e-gc(e,r),!1,r).length,Bp("D",i))}function Vb(t,e,n,s){let r=t-gc(t,n),i=e-gc(e,n),a=Math.abs(r-i)-kre(t,e,n);return $p(a,Bp(uB(t,e),s))}function wre(t,e,n,s,r,i){let a;Vb(e,s,r,i).length>0?a=s-gc(s,r):a=e;let l=s,u=Cre(t,e,n,s,r,i);return $p(hB(t,a,n,l,u==="C",r).length,Bp(u,i))}function kre(t,e,n){let s=0,r=t-gc(t,n),i=e-gc(e,n);for(let a=0;a<Math.abs(r-i);a++){let l=uB(t,e)==="A"?-1:1;n.buffer.lines.get(r+l*a)?.isWrapped&&s++}return s}function gc(t,e){let n=0,s=e.buffer.lines.get(t),r=s?.isWrapped;for(;r&&t>=0&&t<e.rows;)n++,s=e.buffer.lines.get(--t),r=s?.isWrapped;return n}function Cre(t,e,n,s,r,i){let a;return Vb(n,s,r,i).length>0?a=s-gc(s,r):a=e,t<n&&a<=s||t>=n&&a<s?"C":"D"}function uB(t,e){return t>e?"A":"B"}function hB(t,e,n,s,r,i){let a=t,l=e,u="";for(;(a!==n||l!==s)&&l>=0&&l<i.buffer.lines.length;)a+=r?1:-1,r&&a>i.cols-1?(u+=i.buffer.translateBufferLineToString(l,!1,t,a),a=0,t=0,l++):!r&&a<0&&(u+=i.buffer.translateBufferLineToString(l,!1,0,t+1),a=i.cols-1,t=a,l--);return u+i.buffer.translateBufferLineToString(l,!1,t,a)}function Bp(t,e){let n=e?"O":"[";return _e.ESC+n+t}function $p(t,e){t=Math.floor(t);let n="";for(let s=0;s<t;s++)n+=e;return n}var Nre=class{constructor(t){this._bufferService=t,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:!this.selectionEnd||!this.selectionStart?this.selectionStart:this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){let t=this.selectionStart[0]+this.selectionStartLength;return t>this._bufferService.cols?t%this._bufferService.cols===0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(t/this._bufferService.cols)-1]:[t%this._bufferService.cols,this.selectionStart[1]+Math.floor(t/this._bufferService.cols)]:[t,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){let t=this.selectionStart[0]+this.selectionStartLength;return t>this._bufferService.cols?[t%this._bufferService.cols,this.selectionStart[1]+Math.floor(t/this._bufferService.cols)]:[Math.max(t,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){let t=this.selectionStart,e=this.selectionEnd;return!t||!e?!1:t[1]>e[1]||t[1]===e[1]&&t[0]>e[0]}handleTrim(t){return this.selectionStart&&(this.selectionStart[1]-=t),this.selectionEnd&&(this.selectionEnd[1]-=t),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}};function LO(t,e){if(t.start.y>t.end.y)throw new Error(`Buffer range end (${t.end.x}, ${t.end.y}) cannot be before start (${t.start.x}, ${t.start.y})`);return e*(t.end.y-t.start.y)+(t.end.x-t.start.x+1)}var xS=50,Ere=15,Are=50,Rre=500,Tre="",jre=new RegExp(Tre,"g"),T2=class extends Tt{constructor(t,e,n,s,r,i,a,l,u){super(),this._element=t,this._screenElement=e,this._linkifier=n,this._bufferService=s,this._coreService=r,this._mouseService=i,this._optionsService=a,this._renderService=l,this._coreBrowserService=u,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new ri,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this._register(new je),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this._register(new je),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this._register(new je),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this._register(new je),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=h=>this._handleMouseMove(h),this._mouseUpListener=h=>this._handleMouseUp(h),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(h=>this._handleTrim(h)),this._register(this._bufferService.buffers.onBufferActivate(h=>this._handleBufferActivate(h))),this.enable(),this._model=new Nre(this._bufferService),this._activeSelectionMode=0,this._register(fn(()=>{this._removeMouseDownListeners()})),this._register(this._bufferService.onResize(h=>{h.rowsChanged&&this.clearSelection()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){let t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;return!t||!e?!1:t[0]!==e[0]||t[1]!==e[1]}get selectionText(){let t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;if(!t||!e)return"";let n=this._bufferService.buffer,s=[];if(this._activeSelectionMode===3){if(t[0]===e[0])return"";let r=t[0]<e[0]?t[0]:e[0],i=t[0]<e[0]?e[0]:t[0];for(let a=t[1];a<=e[1];a++){let l=n.translateBufferLineToString(a,!0,r,i);s.push(l)}}else{let r=t[1]===e[1]?e[0]:void 0;s.push(n.translateBufferLineToString(t[1],!0,t[0],r));for(let i=t[1]+1;i<=e[1]-1;i++){let a=n.lines.get(i),l=n.translateBufferLineToString(i,!0);a?.isWrapped?s[s.length-1]+=l:s.push(l)}if(t[1]!==e[1]){let i=n.lines.get(e[1]),a=n.translateBufferLineToString(e[1],!0,0,e[0]);i&&i.isWrapped?s[s.length-1]+=a:s.push(a)}}return s.map(r=>r.replace(jre," ")).join(oB?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(t){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),tE&&t&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(t){let e=this._getMouseBufferCoords(t),n=this._model.finalSelectionStart,s=this._model.finalSelectionEnd;return!n||!s||!e?!1:this._areCoordsInSelection(e,n,s)}isCellInSelection(t,e){let n=this._model.finalSelectionStart,s=this._model.finalSelectionEnd;return!n||!s?!1:this._areCoordsInSelection([t,e],n,s)}_areCoordsInSelection(t,e,n){return t[1]>e[1]&&t[1]<n[1]||e[1]===n[1]&&t[1]===e[1]&&t[0]>=e[0]&&t[0]<n[0]||e[1]<n[1]&&t[1]===n[1]&&t[0]<n[0]||e[1]<n[1]&&t[1]===e[1]&&t[0]>=e[0]}_selectWordAtCursor(t,e){let n=this._linkifier.currentLink?.link?.range;if(n)return this._model.selectionStart=[n.start.x-1,n.start.y-1],this._model.selectionStartLength=LO(n,this._bufferService.cols),this._model.selectionEnd=void 0,!0;let s=this._getMouseBufferCoords(t);return s?(this._selectWordAt(s,e),this._model.selectionEnd=void 0,!0):!1}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(t,e){this._model.clearSelection(),t=Math.max(t,0),e=Math.min(e,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,t],this._model.selectionEnd=[this._bufferService.cols,e],this.refresh(),this._onSelectionChange.fire()}_handleTrim(t){this._model.handleTrim(t)&&this.refresh()}_getMouseBufferCoords(t){let e=this._mouseService.getCoords(t,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(e)return e[0]--,e[1]--,e[1]+=this._bufferService.buffer.ydisp,e}_getMouseEventScrollAmount(t){let e=eE(this._coreBrowserService.window,t,this._screenElement)[1],n=this._renderService.dimensions.css.canvas.height;return e>=0&&e<=n?0:(e>n&&(e-=n),e=Math.min(Math.max(e,-xS),xS),e/=xS,e/Math.abs(e)+Math.round(e*(Ere-1)))}shouldForceSelection(t){return dv?t.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:t.shiftKey}handleMouseDown(t){if(this._mouseDownTimeStamp=t.timeStamp,!(t.button===2&&this.hasSelection)&&t.button===0){if(!this._enabled){if(!this.shouldForceSelection(t))return;t.stopPropagation()}t.preventDefault(),this._dragScrollAmount=0,this._enabled&&t.shiftKey?this._handleIncrementalClick(t):t.detail===1?this._handleSingleClick(t):t.detail===2?this._handleDoubleClick(t):t.detail===3&&this._handleTripleClick(t),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),Are)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(t){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(t))}_handleSingleClick(t){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(t)?3:0,this._model.selectionStart=this._getMouseBufferCoords(t),!this._model.selectionStart)return;this._model.selectionEnd=void 0;let e=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);e&&e.length!==this._model.selectionStart[0]&&e.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(t){this._selectWordAtCursor(t,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(t){let e=this._getMouseBufferCoords(t);e&&(this._activeSelectionMode=2,this._selectLineAt(e[1]))}shouldColumnSelect(t){return t.altKey&&!(dv&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(t){if(t.stopImmediatePropagation(),!this._model.selectionStart)return;let e=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(t),!this._model.selectionEnd){this.refresh(!0);return}this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(t),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));let n=this._bufferService.buffer;if(this._model.selectionEnd[1]<n.lines.length){let s=n.lines.get(this._model.selectionEnd[1]);s&&s.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}(!e||e[0]!==this._model.selectionEnd[0]||e[1]!==this._model.selectionEnd[1])&&this.refresh(!0)}_dragScroll(){if(!(!this._model.selectionEnd||!this._model.selectionStart)&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});let t=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(t.ydisp+this._bufferService.rows,t.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=t.ydisp),this.refresh()}}_handleMouseUp(t){let e=t.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&e<Rre&&t.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){let n=this._mouseService.getCoords(t,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(n&&n[0]!==void 0&&n[1]!==void 0){let s=bre(n[0]-1,n[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(s,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){let t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd,n=!!t&&!!e&&(t[0]!==e[0]||t[1]!==e[1]);if(!n){this._oldHasSelection&&this._fireOnSelectionChange(t,e,n);return}!t||!e||(!this._oldSelectionStart||!this._oldSelectionEnd||t[0]!==this._oldSelectionStart[0]||t[1]!==this._oldSelectionStart[1]||e[0]!==this._oldSelectionEnd[0]||e[1]!==this._oldSelectionEnd[1])&&this._fireOnSelectionChange(t,e,n)}_fireOnSelectionChange(t,e,n){this._oldSelectionStart=t,this._oldSelectionEnd=e,this._oldHasSelection=n,this._onSelectionChange.fire()}_handleBufferActivate(t){this.clearSelection(),this._trimListener.dispose(),this._trimListener=t.activeBuffer.lines.onTrim(e=>this._handleTrim(e))}_convertViewportColToCharacterIndex(t,e){let n=e;for(let s=0;e>=s;s++){let r=t.loadCell(s,this._workCell).getChars().length;this._workCell.getWidth()===0?n--:r>1&&e!==s&&(n+=r-1)}return n}setSelection(t,e,n){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[t,e],this._model.selectionStartLength=n,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(t){this._isClickInSelection(t)||(this._selectWordAtCursor(t,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(t,e,n=!0,s=!0){if(t[0]>=this._bufferService.cols)return;let r=this._bufferService.buffer,i=r.lines.get(t[1]);if(!i)return;let a=r.translateBufferLineToString(t[1],!1),l=this._convertViewportColToCharacterIndex(i,t[0]),u=l,h=t[0]-l,m=0,f=0,g=0,y=0;if(a.charAt(l)===" "){for(;l>0&&a.charAt(l-1)===" ";)l--;for(;u<a.length&&a.charAt(u+1)===" ";)u++}else{let w=t[0],k=t[0];i.getWidth(w)===0&&(m++,w--),i.getWidth(k)===2&&(f++,k++);let C=i.getString(k).length;for(C>1&&(y+=C-1,u+=C-1);w>0&&l>0&&!this._isCharWordSeparator(i.loadCell(w-1,this._workCell));){i.loadCell(w-1,this._workCell);let E=this._workCell.getChars().length;this._workCell.getWidth()===0?(m++,w--):E>1&&(g+=E-1,l-=E-1),l--,w--}for(;k<i.length&&u+1<a.length&&!this._isCharWordSeparator(i.loadCell(k+1,this._workCell));){i.loadCell(k+1,this._workCell);let E=this._workCell.getChars().length;this._workCell.getWidth()===2?(f++,k++):E>1&&(y+=E-1,u+=E-1),u++,k++}}u++;let b=l+h-m+g,_=Math.min(this._bufferService.cols,u-l+m+f-g-y);if(!(!e&&a.slice(l,u).trim()==="")){if(n&&b===0&&i.getCodePoint(0)!==32){let w=r.lines.get(t[1]-1);if(w&&i.isWrapped&&w.getCodePoint(this._bufferService.cols-1)!==32){let k=this._getWordAt([this._bufferService.cols-1,t[1]-1],!1,!0,!1);if(k){let C=this._bufferService.cols-k.start;b-=C,_+=C}}}if(s&&b+_===this._bufferService.cols&&i.getCodePoint(this._bufferService.cols-1)!==32){let w=r.lines.get(t[1]+1);if(w?.isWrapped&&w.getCodePoint(0)!==32){let k=this._getWordAt([0,t[1]+1],!1,!1,!0);k&&(_+=k.length)}}return{start:b,length:_}}}_selectWordAt(t,e){let n=this._getWordAt(t,e);if(n){for(;n.start<0;)n.start+=this._bufferService.cols,t[1]--;this._model.selectionStart=[n.start,t[1]],this._model.selectionStartLength=n.length}}_selectToWordAt(t){let e=this._getWordAt(t,!0);if(e){let n=t[1];for(;e.start<0;)e.start+=this._bufferService.cols,n--;if(!this._model.areSelectionValuesReversed())for(;e.start+e.length>this._bufferService.cols;)e.length-=this._bufferService.cols,n++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?e.start:e.start+e.length,n]}}_isCharWordSeparator(t){return t.getWidth()===0?!1:this._optionsService.rawOptions.wordSeparator.indexOf(t.getChars())>=0}_selectLineAt(t){let e=this._bufferService.buffer.getWrappedRangeForLine(t),n={start:{x:0,y:e.first},end:{x:this._bufferService.cols-1,y:e.last}};this._model.selectionStart=[0,e.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=LO(n,this._bufferService.cols)}};T2=wn([Ue(3,Vs),Ue(4,Ec),Ue(5,WN),Ue(6,qs),Ue(7,Ya),Ue(8,Ga)],T2);var BO=class{constructor(){this._data={}}set(t,e,n){this._data[t]||(this._data[t]={}),this._data[t][e]=n}get(t,e){return this._data[t]?this._data[t][e]:void 0}clear(){this._data={}}},$O=class{constructor(){this._color=new BO,this._css=new BO}setCss(t,e,n){this._css.set(t,e,n)}getCss(t,e){return this._css.get(t,e)}setColor(t,e,n){this._color.set(t,e,n)}getColor(t,e){return this._color.get(t,e)}clear(){this._color.clear(),this._css.clear()}},Un=Object.freeze((()=>{let t=[vn.toColor("#2e3436"),vn.toColor("#cc0000"),vn.toColor("#4e9a06"),vn.toColor("#c4a000"),vn.toColor("#3465a4"),vn.toColor("#75507b"),vn.toColor("#06989a"),vn.toColor("#d3d7cf"),vn.toColor("#555753"),vn.toColor("#ef2929"),vn.toColor("#8ae234"),vn.toColor("#fce94f"),vn.toColor("#729fcf"),vn.toColor("#ad7fa8"),vn.toColor("#34e2e2"),vn.toColor("#eeeeec")],e=[0,95,135,175,215,255];for(let n=0;n<216;n++){let s=e[n/36%6|0],r=e[n/6%6|0],i=e[n%6];t.push({css:Bn.toCss(s,r,i),rgba:Bn.toRgba(s,r,i)})}for(let n=0;n<24;n++){let s=8+n*10;t.push({css:Bn.toCss(s,s,s),rgba:Bn.toRgba(s,s,s)})}return t})()),Al=vn.toColor("#ffffff"),Tf=vn.toColor("#000000"),zO=vn.toColor("#ffffff"),FO=Tf,Gd={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117},Ore=Al,j2=class extends Tt{constructor(t){super(),this._optionsService=t,this._contrastCache=new $O,this._halfContrastCache=new $O,this._onChangeColors=this._register(new je),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:Al,background:Tf,cursor:zO,cursorAccent:FO,selectionForeground:void 0,selectionBackgroundTransparent:Gd,selectionBackgroundOpaque:ln.blend(Tf,Gd),selectionInactiveBackgroundTransparent:Gd,selectionInactiveBackgroundOpaque:ln.blend(Tf,Gd),scrollbarSliderBackground:ln.opacity(Al,.2),scrollbarSliderHoverBackground:ln.opacity(Al,.4),scrollbarSliderActiveBackground:ln.opacity(Al,.5),overviewRulerBorder:Al,ansi:Un.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this._register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this._register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(t={}){let e=this._colors;if(e.foreground=en(t.foreground,Al),e.background=en(t.background,Tf),e.cursor=ln.blend(e.background,en(t.cursor,zO)),e.cursorAccent=ln.blend(e.background,en(t.cursorAccent,FO)),e.selectionBackgroundTransparent=en(t.selectionBackground,Gd),e.selectionBackgroundOpaque=ln.blend(e.background,e.selectionBackgroundTransparent),e.selectionInactiveBackgroundTransparent=en(t.selectionInactiveBackground,e.selectionBackgroundTransparent),e.selectionInactiveBackgroundOpaque=ln.blend(e.background,e.selectionInactiveBackgroundTransparent),e.selectionForeground=t.selectionForeground?en(t.selectionForeground,IO):void 0,e.selectionForeground===IO&&(e.selectionForeground=void 0),ln.isOpaque(e.selectionBackgroundTransparent)&&(e.selectionBackgroundTransparent=ln.opacity(e.selectionBackgroundTransparent,.3)),ln.isOpaque(e.selectionInactiveBackgroundTransparent)&&(e.selectionInactiveBackgroundTransparent=ln.opacity(e.selectionInactiveBackgroundTransparent,.3)),e.scrollbarSliderBackground=en(t.scrollbarSliderBackground,ln.opacity(e.foreground,.2)),e.scrollbarSliderHoverBackground=en(t.scrollbarSliderHoverBackground,ln.opacity(e.foreground,.4)),e.scrollbarSliderActiveBackground=en(t.scrollbarSliderActiveBackground,ln.opacity(e.foreground,.5)),e.overviewRulerBorder=en(t.overviewRulerBorder,Ore),e.ansi=Un.slice(),e.ansi[0]=en(t.black,Un[0]),e.ansi[1]=en(t.red,Un[1]),e.ansi[2]=en(t.green,Un[2]),e.ansi[3]=en(t.yellow,Un[3]),e.ansi[4]=en(t.blue,Un[4]),e.ansi[5]=en(t.magenta,Un[5]),e.ansi[6]=en(t.cyan,Un[6]),e.ansi[7]=en(t.white,Un[7]),e.ansi[8]=en(t.brightBlack,Un[8]),e.ansi[9]=en(t.brightRed,Un[9]),e.ansi[10]=en(t.brightGreen,Un[10]),e.ansi[11]=en(t.brightYellow,Un[11]),e.ansi[12]=en(t.brightBlue,Un[12]),e.ansi[13]=en(t.brightMagenta,Un[13]),e.ansi[14]=en(t.brightCyan,Un[14]),e.ansi[15]=en(t.brightWhite,Un[15]),t.extendedAnsi){let n=Math.min(e.ansi.length-16,t.extendedAnsi.length);for(let s=0;s<n;s++)e.ansi[s+16]=en(t.extendedAnsi[s],Un[s+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(t){this._restoreColor(t),this._onChangeColors.fire(this.colors)}_restoreColor(t){if(t===void 0){for(let e=0;e<this._restoreColors.ansi.length;++e)this._colors.ansi[e]=this._restoreColors.ansi[e];return}switch(t){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[t]=this._restoreColors.ansi[t]}}modifyColors(t){t(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};j2=wn([Ue(0,qs)],j2);function en(t,e){if(t!==void 0)try{return vn.toColor(t)}catch{}return e}var Mre=class{constructor(...t){this._entries=new Map;for(let[e,n]of t)this.set(e,n)}set(t,e){let n=this._entries.get(t);return this._entries.set(t,e),n}forEach(t){for(let[e,n]of this._entries.entries())t(e,n)}has(t){return this._entries.has(t)}get(t){return this._entries.get(t)}},Ire=class{constructor(){this._services=new Mre,this._services.set(KN,this)}setService(t,e){this._services.set(t,e)}getService(t){return this._services.get(t)}createInstance(t,...e){let n=Ene(t).sort((i,a)=>i.index-a.index),s=[];for(let i of n){let a=this._services.get(i.id);if(!a)throw new Error(`[createInstance] ${t.name} depends on UNKNOWN service ${i.id._id}.`);s.push(a)}let r=n.length>0?n[0].index:e.length;if(e.length!==r)throw new Error(`[createInstance] First service dependency of ${t.name} at position ${r+1} conflicts with ${e.length} static arguments`);return new t(...e,...s)}},Dre={trace:0,debug:1,info:2,warn:3,error:4,off:5},Pre="xterm.js: ",O2=class extends Tt{constructor(t){super(),this._optionsService=t,this._logLevel=5,this._updateLogLevel(),this._register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}get logLevel(){return this._logLevel}_updateLogLevel(){this._logLevel=Dre[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(t){for(let e=0;e<t.length;e++)typeof t[e]=="function"&&(t[e]=t[e]())}_log(t,e,n){this._evalLazyOptionalParams(n),t.call(console,(this._optionsService.options.logger?"":Pre)+e,...n)}trace(t,...e){this._logLevel<=0&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,t,e)}debug(t,...e){this._logLevel<=1&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,t,e)}info(t,...e){this._logLevel<=2&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,t,e)}warn(t,...e){this._logLevel<=3&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,t,e)}error(t,...e){this._logLevel<=4&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,t,e)}};O2=wn([Ue(0,qs)],O2);var UO=class extends Tt{constructor(t){super(),this._maxLength=t,this.onDeleteEmitter=this._register(new je),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this._register(new je),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this._register(new je),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(t){if(this._maxLength===t)return;let e=new Array(t);for(let n=0;n<Math.min(t,this.length);n++)e[n]=this._array[this._getCyclicIndex(n)];this._array=e,this._maxLength=t,this._startIndex=0}get length(){return this._length}set length(t){if(t>this._length)for(let e=this._length;e<t;e++)this._array[e]=void 0;this._length=t}get(t){return this._array[this._getCyclicIndex(t)]}set(t,e){this._array[this._getCyclicIndex(t)]=e}push(t){this._array[this._getCyclicIndex(this._length)]=t,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(t,e,...n){if(e){for(let s=t;s<this._length-e;s++)this._array[this._getCyclicIndex(s)]=this._array[this._getCyclicIndex(s+e)];this._length-=e,this.onDeleteEmitter.fire({index:t,amount:e})}for(let s=this._length-1;s>=t;s--)this._array[this._getCyclicIndex(s+n.length)]=this._array[this._getCyclicIndex(s)];for(let s=0;s<n.length;s++)this._array[this._getCyclicIndex(t+s)]=n[s];if(n.length&&this.onInsertEmitter.fire({index:t,amount:n.length}),this._length+n.length>this._maxLength){let s=this._length+n.length-this._maxLength;this._startIndex+=s,this._length=this._maxLength,this.onTrimEmitter.fire(s)}else this._length+=n.length}trimStart(t){t>this._length&&(t=this._length),this._startIndex+=t,this._length-=t,this.onTrimEmitter.fire(t)}shiftElements(t,e,n){if(!(e<=0)){if(t<0||t>=this._length)throw new Error("start argument out of range");if(t+n<0)throw new Error("Cannot shift elements in list beyond index 0");if(n>0){for(let r=e-1;r>=0;r--)this.set(t+r+n,this.get(t+r));let s=t+e+n-this._length;if(s>0)for(this._length+=s;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let s=0;s<e;s++)this.set(t+s+n,this.get(t+s))}}_getCyclicIndex(t){return(this._startIndex+t)%this._maxLength}},Rt=3,Ln=Object.freeze(new mm),d0=0,SS=2,jf=class dB{constructor(e,n,s=!1){this.isWrapped=s,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(e*Rt);let r=n||ri.fromCharData([0,jL,1,0]);for(let i=0;i<e;++i)this.setCell(i,r);this.length=e}get(e){let n=this._data[e*Rt+0],s=n&2097151;return[this._data[e*Rt+1],n&2097152?this._combined[e]:s?Ro(s):"",n>>22,n&2097152?this._combined[e].charCodeAt(this._combined[e].length-1):s]}set(e,n){this._data[e*Rt+1]=n[0],n[1].length>1?(this._combined[e]=n[1],this._data[e*Rt+0]=e|2097152|n[2]<<22):this._data[e*Rt+0]=n[1].charCodeAt(0)|n[2]<<22}getWidth(e){return this._data[e*Rt+0]>>22}hasWidth(e){return this._data[e*Rt+0]&12582912}getFg(e){return this._data[e*Rt+1]}getBg(e){return this._data[e*Rt+2]}hasContent(e){return this._data[e*Rt+0]&4194303}getCodePoint(e){let n=this._data[e*Rt+0];return n&2097152?this._combined[e].charCodeAt(this._combined[e].length-1):n&2097151}isCombined(e){return this._data[e*Rt+0]&2097152}getString(e){let n=this._data[e*Rt+0];return n&2097152?this._combined[e]:n&2097151?Ro(n&2097151):""}isProtected(e){return this._data[e*Rt+2]&536870912}loadCell(e,n){return d0=e*Rt,n.content=this._data[d0+0],n.fg=this._data[d0+1],n.bg=this._data[d0+2],n.content&2097152&&(n.combinedData=this._combined[e]),n.bg&268435456&&(n.extended=this._extendedAttrs[e]),n}setCell(e,n){n.content&2097152&&(this._combined[e]=n.combinedData),n.bg&268435456&&(this._extendedAttrs[e]=n.extended),this._data[e*Rt+0]=n.content,this._data[e*Rt+1]=n.fg,this._data[e*Rt+2]=n.bg}setCellFromCodepoint(e,n,s,r){r.bg&268435456&&(this._extendedAttrs[e]=r.extended),this._data[e*Rt+0]=n|s<<22,this._data[e*Rt+1]=r.fg,this._data[e*Rt+2]=r.bg}addCodepointToCell(e,n,s){let r=this._data[e*Rt+0];r&2097152?this._combined[e]+=Ro(n):r&2097151?(this._combined[e]=Ro(r&2097151)+Ro(n),r&=-2097152,r|=2097152):r=n|1<<22,s&&(r&=-12582913,r|=s<<22),this._data[e*Rt+0]=r}insertCells(e,n,s){if(e%=this.length,e&&this.getWidth(e-1)===2&&this.setCellFromCodepoint(e-1,0,1,s),n<this.length-e){let r=new ri;for(let i=this.length-e-n-1;i>=0;--i)this.setCell(e+n+i,this.loadCell(e+i,r));for(let i=0;i<n;++i)this.setCell(e+i,s)}else for(let r=e;r<this.length;++r)this.setCell(r,s);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,s)}deleteCells(e,n,s){if(e%=this.length,n<this.length-e){let r=new ri;for(let i=0;i<this.length-e-n;++i)this.setCell(e+i,this.loadCell(e+n+i,r));for(let i=this.length-n;i<this.length;++i)this.setCell(i,s)}else for(let r=e;r<this.length;++r)this.setCell(r,s);e&&this.getWidth(e-1)===2&&this.setCellFromCodepoint(e-1,0,1,s),this.getWidth(e)===0&&!this.hasContent(e)&&this.setCellFromCodepoint(e,0,1,s)}replaceCells(e,n,s,r=!1){if(r){for(e&&this.getWidth(e-1)===2&&!this.isProtected(e-1)&&this.setCellFromCodepoint(e-1,0,1,s),n<this.length&&this.getWidth(n-1)===2&&!this.isProtected(n)&&this.setCellFromCodepoint(n,0,1,s);e<n&&e<this.length;)this.isProtected(e)||this.setCell(e,s),e++;return}for(e&&this.getWidth(e-1)===2&&this.setCellFromCodepoint(e-1,0,1,s),n<this.length&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n,0,1,s);e<n&&e<this.length;)this.setCell(e++,s)}resize(e,n){if(e===this.length)return this._data.length*4*SS<this._data.buffer.byteLength;let s=e*Rt;if(e>this.length){if(this._data.buffer.byteLength>=s*4)this._data=new Uint32Array(this._data.buffer,0,s);else{let r=new Uint32Array(s);r.set(this._data),this._data=r}for(let r=this.length;r<e;++r)this.setCell(r,n)}else{this._data=this._data.subarray(0,s);let r=Object.keys(this._combined);for(let a=0;a<r.length;a++){let l=parseInt(r[a],10);l>=e&&delete this._combined[l]}let i=Object.keys(this._extendedAttrs);for(let a=0;a<i.length;a++){let l=parseInt(i[a],10);l>=e&&delete this._extendedAttrs[l]}}return this.length=e,s*4*SS<this._data.buffer.byteLength}cleanupMemory(){if(this._data.length*4*SS<this._data.buffer.byteLength){let e=new Uint32Array(this._data.length);return e.set(this._data),this._data=e,1}return 0}fill(e,n=!1){if(n){for(let s=0;s<this.length;++s)this.isProtected(s)||this.setCell(s,e);return}this._combined={},this._extendedAttrs={};for(let s=0;s<this.length;++s)this.setCell(s,e)}copyFrom(e){this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={};for(let n in e._combined)this._combined[n]=e._combined[n];this._extendedAttrs={};for(let n in e._extendedAttrs)this._extendedAttrs[n]=e._extendedAttrs[n];this.isWrapped=e.isWrapped}clone(){let e=new dB(0);e._data=new Uint32Array(this._data),e.length=this.length;for(let n in this._combined)e._combined[n]=this._combined[n];for(let n in this._extendedAttrs)e._extendedAttrs[n]=this._extendedAttrs[n];return e.isWrapped=this.isWrapped,e}getTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(this._data[e*Rt+0]&4194303)return e+(this._data[e*Rt+0]>>22);return 0}getNoBgTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(this._data[e*Rt+0]&4194303||this._data[e*Rt+2]&50331648)return e+(this._data[e*Rt+0]>>22);return 0}copyCellsFrom(e,n,s,r,i){let a=e._data;if(i)for(let u=r-1;u>=0;u--){for(let h=0;h<Rt;h++)this._data[(s+u)*Rt+h]=a[(n+u)*Rt+h];a[(n+u)*Rt+2]&268435456&&(this._extendedAttrs[s+u]=e._extendedAttrs[n+u])}else for(let u=0;u<r;u++){for(let h=0;h<Rt;h++)this._data[(s+u)*Rt+h]=a[(n+u)*Rt+h];a[(n+u)*Rt+2]&268435456&&(this._extendedAttrs[s+u]=e._extendedAttrs[n+u])}let l=Object.keys(e._combined);for(let u=0;u<l.length;u++){let h=parseInt(l[u],10);h>=n&&(this._combined[h-n+s]=e._combined[h])}}translateToString(e,n,s,r){n=n??0,s=s??this.length,e&&(s=Math.min(s,this.getTrimmedLength())),r&&(r.length=0);let i="";for(;n<s;){let a=this._data[n*Rt+0],l=a&2097151,u=a&2097152?this._combined[n]:l?Ro(l):Po;if(i+=u,r)for(let h=0;h<u.length;++h)r.push(n);n+=a>>22||1}return r&&r.push(n),i}};function Lre(t,e,n,s,r,i){let a=[];for(let l=0;l<t.length-1;l++){let u=l,h=t.get(++u);if(!h.isWrapped)continue;let m=[t.get(l)];for(;u<t.length&&h.isWrapped;)m.push(h),h=t.get(++u);if(!i&&s>=l&&s<u){l+=m.length-1;continue}let f=0,g=zp(m,f,e),y=1,b=0;for(;y<m.length;){let w=zp(m,y,e),k=w-b,C=n-g,E=Math.min(k,C);m[f].copyCellsFrom(m[y],b,g,E,!1),g+=E,g===n&&(f++,g=0),b+=E,b===w&&(y++,b=0),g===0&&f!==0&&m[f-1].getWidth(n-1)===2&&(m[f].copyCellsFrom(m[f-1],n-1,g++,1,!1),m[f-1].setCell(n-1,r))}m[f].replaceCells(g,n,r);let _=0;for(let w=m.length-1;w>0&&(w>f||m[w].getTrimmedLength()===0);w--)_++;_>0&&(a.push(l+m.length-_),a.push(_)),l+=m.length-1}return a}function Bre(t,e){let n=[],s=0,r=e[s],i=0;for(let a=0;a<t.length;a++)if(r===a){let l=e[++s];t.onDeleteEmitter.fire({index:a-i,amount:l}),a+=l-1,i+=l,r=e[++s]}else n.push(a);return{layout:n,countRemoved:i}}function $re(t,e){let n=[];for(let s=0;s<e.length;s++)n.push(t.get(e[s]));for(let s=0;s<n.length;s++)t.set(s,n[s]);t.length=e.length}function zre(t,e,n){let s=[],r=t.map((u,h)=>zp(t,h,e)).reduce((u,h)=>u+h),i=0,a=0,l=0;for(;l<r;){if(r-l<n){s.push(r-l);break}i+=n;let u=zp(t,a,e);i>u&&(i-=u,a++);let h=t[a].getWidth(i-1)===2;h&&i--;let m=h?n-1:n;s.push(m),l+=m}return s}function zp(t,e,n){if(e===t.length-1)return t[e].getTrimmedLength();let s=!t[e].hasContent(n-1)&&t[e].getWidth(n-1)===1,r=t[e+1].getWidth(0)===2;return s&&r?n-1:n}var fB=class pB{constructor(e){this.line=e,this.isDisposed=!1,this._disposables=[],this._id=pB._nextId++,this._onDispose=this.register(new je),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),mc(this._disposables),this._disposables.length=0)}register(e){return this._disposables.push(e),e}};fB._nextId=1;var Fre=fB,Gn={},Rl=Gn.B;Gn[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""};Gn.A={"#":""};Gn.B=void 0;Gn[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""};Gn.C=Gn[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Gn.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};Gn.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Gn.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};Gn.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""};Gn.E=Gn[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Gn.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""};Gn.H=Gn[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Gn["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""};var HO=4294967295,VO=class{constructor(t,e,n){this._hasScrollback=t,this._optionsService=e,this._bufferService=n,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=Ln.clone(),this.savedCharset=Rl,this.markers=[],this._nullCell=ri.fromCharData([0,jL,1,0]),this._whitespaceCell=ri.fromCharData([0,Po,1,32]),this._isClearing=!1,this._memoryCleanupQueue=new fv,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new UO(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(t){return t?(this._nullCell.fg=t.fg,this._nullCell.bg=t.bg,this._nullCell.extended=t.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new cv),this._nullCell}getWhitespaceCell(t){return t?(this._whitespaceCell.fg=t.fg,this._whitespaceCell.bg=t.bg,this._whitespaceCell.extended=t.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new cv),this._whitespaceCell}getBlankLine(t,e){return new jf(this._bufferService.cols,this.getNullCell(t),e)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){let t=this.ybase+this.y-this.ydisp;return t>=0&&t<this._rows}_getCorrectBufferLength(t){if(!this._hasScrollback)return t;let e=t+this._optionsService.rawOptions.scrollback;return e>HO?HO:e}fillViewportRows(t){if(this.lines.length===0){t===void 0&&(t=Ln);let e=this._rows;for(;e--;)this.lines.push(this.getBlankLine(t))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new UO(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(t,e){let n=this.getNullCell(Ln),s=0,r=this._getCorrectBufferLength(e);if(r>this.lines.maxLength&&(this.lines.maxLength=r),this.lines.length>0){if(this._cols<t)for(let a=0;a<this.lines.length;a++)s+=+this.lines.get(a).resize(t,n);let i=0;if(this._rows<e)for(let a=this._rows;a<e;a++)this.lines.length<e+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new jf(t,n)):this.ybase>0&&this.lines.length<=this.ybase+this.y+i+1?(this.ybase--,i++,this.ydisp>0&&this.ydisp--):this.lines.push(new jf(t,n)));else for(let a=this._rows;a>e;a--)this.lines.length>e+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(r<this.lines.maxLength){let a=this.lines.length-r;a>0&&(this.lines.trimStart(a),this.ybase=Math.max(this.ybase-a,0),this.ydisp=Math.max(this.ydisp-a,0),this.savedY=Math.max(this.savedY-a,0)),this.lines.maxLength=r}this.x=Math.min(this.x,t-1),this.y=Math.min(this.y,e-1),i&&(this.y+=i),this.savedX=Math.min(this.savedX,t-1),this.scrollTop=0}if(this.scrollBottom=e-1,this._isReflowEnabled&&(this._reflow(t,e),this._cols>t))for(let i=0;i<this.lines.length;i++)s+=+this.lines.get(i).resize(t,n);this._cols=t,this._rows=e,this._memoryCleanupQueue.clear(),s>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let t=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,t=!1);let e=0;for(;this._memoryCleanupPosition<this.lines.length;)if(e+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),e>100)return!0;return t}get _isReflowEnabled(){let t=this._optionsService.rawOptions.windowsPty;return t&&t.buildNumber?this._hasScrollback&&t.backend==="conpty"&&t.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(t,e){this._cols!==t&&(t>this._cols?this._reflowLarger(t,e):this._reflowSmaller(t,e))}_reflowLarger(t,e){let n=this._optionsService.rawOptions.reflowCursorLine,s=Lre(this.lines,this._cols,t,this.ybase+this.y,this.getNullCell(Ln),n);if(s.length>0){let r=Bre(this.lines,s);$re(this.lines,r.layout),this._reflowLargerAdjustViewport(t,e,r.countRemoved)}}_reflowLargerAdjustViewport(t,e,n){let s=this.getNullCell(Ln),r=n;for(;r-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<e&&this.lines.push(new jf(t,s))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-n,0)}_reflowSmaller(t,e){let n=this._optionsService.rawOptions.reflowCursorLine,s=this.getNullCell(Ln),r=[],i=0;for(let a=this.lines.length-1;a>=0;a--){let l=this.lines.get(a);if(!l||!l.isWrapped&&l.getTrimmedLength()<=t)continue;let u=[l];for(;l.isWrapped&&a>0;)l=this.lines.get(--a),u.unshift(l);if(!n){let E=this.ybase+this.y;if(E>=a&&E<a+u.length)continue}let h=u[u.length-1].getTrimmedLength(),m=zre(u,this._cols,t),f=m.length-u.length,g;this.ybase===0&&this.y!==this.lines.length-1?g=Math.max(0,this.y-this.lines.maxLength+f):g=Math.max(0,this.lines.length-this.lines.maxLength+f);let y=[];for(let E=0;E<f;E++){let A=this.getBlankLine(Ln,!0);y.push(A)}y.length>0&&(r.push({start:a+u.length+i,newLines:y}),i+=y.length),u.push(...y);let b=m.length-1,_=m[b];_===0&&(b--,_=m[b]);let w=u.length-f-1,k=h;for(;w>=0;){let E=Math.min(k,_);if(u[b]===void 0)break;if(u[b].copyCellsFrom(u[w],k-E,_-E,E,!0),_-=E,_===0&&(b--,_=m[b]),k-=E,k===0){w--;let A=Math.max(w,0);k=zp(u,A,this._cols)}}for(let E=0;E<u.length;E++)m[E]<t&&u[E].setCell(m[E],s);let C=f-g;for(;C-- >0;)this.ybase===0?this.y<e-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+i)-e&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+f,this.ybase+e-1)}if(r.length>0){let a=[],l=[];for(let _=0;_<this.lines.length;_++)l.push(this.lines.get(_));let u=this.lines.length,h=u-1,m=0,f=r[m];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+i);let g=0;for(let _=Math.min(this.lines.maxLength-1,u+i-1);_>=0;_--)if(f&&f.start>h+g){for(let w=f.newLines.length-1;w>=0;w--)this.lines.set(_--,f.newLines[w]);_++,a.push({index:h+1,amount:f.newLines.length}),g+=f.newLines.length,f=r[++m]}else this.lines.set(_,l[h--]);let y=0;for(let _=a.length-1;_>=0;_--)a[_].index+=y,this.lines.onInsertEmitter.fire(a[_]),y+=a[_].amount;let b=Math.max(0,u+i-this.lines.maxLength);b>0&&this.lines.onTrimEmitter.fire(b)}}translateBufferLineToString(t,e,n=0,s){let r=this.lines.get(t);return r?r.translateToString(e,n,s):""}getWrappedRangeForLine(t){let e=t,n=t;for(;e>0&&this.lines.get(e).isWrapped;)e--;for(;n+1<this.lines.length&&this.lines.get(n+1).isWrapped;)n++;return{first:e,last:n}}setupTabStops(t){for(t!=null?this.tabs[t]||(t=this.prevStop(t)):(this.tabs={},t=0);t<this._cols;t+=this._optionsService.rawOptions.tabStopWidth)this.tabs[t]=!0}prevStop(t){for(t==null&&(t=this.x);!this.tabs[--t]&&t>0;);return t>=this._cols?this._cols-1:t<0?0:t}nextStop(t){for(t==null&&(t=this.x);!this.tabs[++t]&&t<this._cols;);return t>=this._cols?this._cols-1:t<0?0:t}clearMarkers(t){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].line===t&&(this.markers[e].dispose(),this.markers.splice(e--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].dispose();this.markers.length=0,this._isClearing=!1}addMarker(t){let e=new Fre(t);return this.markers.push(e),e.register(this.lines.onTrim(n=>{e.line-=n,e.line<0&&e.dispose()})),e.register(this.lines.onInsert(n=>{e.line>=n.index&&(e.line+=n.amount)})),e.register(this.lines.onDelete(n=>{e.line>=n.index&&e.line<n.index+n.amount&&e.dispose(),e.line>n.index&&(e.line-=n.amount)})),e.register(e.onDispose(()=>this._removeMarker(e))),e}_removeMarker(t){this._isClearing||this.markers.splice(this.markers.indexOf(t),1)}},Ure=class extends Tt{constructor(t,e){super(),this._optionsService=t,this._bufferService=e,this._onBufferActivate=this._register(new je),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this._register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this._register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new VO(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new VO(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(t){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(t),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(t,e){this._normal.resize(t,e),this._alt.resize(t,e),this.setupTabStops(t)}setupTabStops(t){this._normal.setupTabStops(t),this._alt.setupTabStops(t)}},mB=2,gB=1,M2=class extends Tt{constructor(t){super(),this.isUserScrolling=!1,this._onResize=this._register(new je),this.onResize=this._onResize.event,this._onScroll=this._register(new je),this.onScroll=this._onScroll.event,this.cols=Math.max(t.rawOptions.cols||0,mB),this.rows=Math.max(t.rawOptions.rows||0,gB),this.buffers=this._register(new Ure(t,this)),this._register(this.buffers.onBufferActivate(e=>{this._onScroll.fire(e.activeBuffer.ydisp)}))}get buffer(){return this.buffers.active}resize(t,e){let n=this.cols!==t,s=this.rows!==e;this.cols=t,this.rows=e,this.buffers.resize(t,e),this._onResize.fire({cols:t,rows:e,colsChanged:n,rowsChanged:s})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(t,e=!1){let n=this.buffer,s;s=this._cachedBlankLine,(!s||s.length!==this.cols||s.getFg(0)!==t.fg||s.getBg(0)!==t.bg)&&(s=n.getBlankLine(t,e),this._cachedBlankLine=s),s.isWrapped=e;let r=n.ybase+n.scrollTop,i=n.ybase+n.scrollBottom;if(n.scrollTop===0){let a=n.lines.isFull;i===n.lines.length-1?a?n.lines.recycle().copyFrom(s):n.lines.push(s.clone()):n.lines.splice(i+1,0,s.clone()),a?this.isUserScrolling&&(n.ydisp=Math.max(n.ydisp-1,0)):(n.ybase++,this.isUserScrolling||n.ydisp++)}else{let a=i-r+1;n.lines.shiftElements(r+1,a-1,-1),n.lines.set(i,s.clone())}this.isUserScrolling||(n.ydisp=n.ybase),this._onScroll.fire(n.ydisp)}scrollLines(t,e){let n=this.buffer;if(t<0){if(n.ydisp===0)return;this.isUserScrolling=!0}else t+n.ydisp>=n.ybase&&(this.isUserScrolling=!1);let s=n.ydisp;n.ydisp=Math.max(Math.min(n.ydisp+t,n.ybase),0),s!==n.ydisp&&(e||this._onScroll.fire(n.ydisp))}};M2=wn([Ue(0,qs)],M2);var bu={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnEraseInDisplay:!1,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},reflowCursorLine:!1,rescaleOverlappingGlyphs:!1,rightClickSelectsWord:dv,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRuler:{}},Hre=["normal","bold","100","200","300","400","500","600","700","800","900"],Vre=class extends Tt{constructor(t){super(),this._onOptionChange=this._register(new je),this.onOptionChange=this._onOptionChange.event;let e={...bu};for(let n in t)if(n in e)try{let s=t[n];e[n]=this._sanitizeAndValidateOption(n,s)}catch(s){console.error(s)}this.rawOptions=e,this.options={...e},this._setupOptions(),this._register(fn(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(t,e){return this.onOptionChange(n=>{n===t&&e(this.rawOptions[t])})}onMultipleOptionChange(t,e){return this.onOptionChange(n=>{t.indexOf(n)!==-1&&e()})}_setupOptions(){let t=n=>{if(!(n in bu))throw new Error(`No option with key "${n}"`);return this.rawOptions[n]},e=(n,s)=>{if(!(n in bu))throw new Error(`No option with key "${n}"`);s=this._sanitizeAndValidateOption(n,s),this.rawOptions[n]!==s&&(this.rawOptions[n]=s,this._onOptionChange.fire(n))};for(let n in this.rawOptions){let s={get:t.bind(this,n),set:e.bind(this,n)};Object.defineProperty(this.options,n,s)}}_sanitizeAndValidateOption(t,e){switch(t){case"cursorStyle":if(e||(e=bu[t]),!qre(e))throw new Error(`"${e}" is not a valid value for ${t}`);break;case"wordSeparator":e||(e=bu[t]);break;case"fontWeight":case"fontWeightBold":if(typeof e=="number"&&1<=e&&e<=1e3)break;e=Hre.includes(e)?e:bu[t];break;case"cursorWidth":e=Math.floor(e);case"lineHeight":case"tabStopWidth":if(e<1)throw new Error(`${t} cannot be less than 1, value: ${e}`);break;case"minimumContrastRatio":e=Math.max(1,Math.min(21,Math.round(e*10)/10));break;case"scrollback":if(e=Math.min(e,4294967295),e<0)throw new Error(`${t} cannot be less than 0, value: ${e}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(e<=0)throw new Error(`${t} cannot be less than or equal to 0, value: ${e}`);break;case"rows":case"cols":if(!e&&e!==0)throw new Error(`${t} must be numeric, value: ${e}`);break;case"windowsPty":e=e??{};break}return e}};function qre(t){return t==="block"||t==="underline"||t==="bar"}function Of(t,e=5){if(typeof t!="object")return t;let n=Array.isArray(t)?[]:{};for(let s in t)n[s]=e<=1?t[s]:t[s]&&Of(t[s],e-1);return n}var qO=Object.freeze({insertMode:!1}),KO=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,cursorBlink:void 0,cursorStyle:void 0,origin:!1,reverseWraparound:!1,sendFocus:!1,synchronizedOutput:!1,wraparound:!0}),I2=class extends Tt{constructor(t,e,n){super(),this._bufferService=t,this._logService=e,this._optionsService=n,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this._register(new je),this.onData=this._onData.event,this._onUserInput=this._register(new je),this.onUserInput=this._onUserInput.event,this._onBinary=this._register(new je),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this._register(new je),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=Of(qO),this.decPrivateModes=Of(KO)}reset(){this.modes=Of(qO),this.decPrivateModes=Of(KO)}triggerDataEvent(t,e=!1){if(this._optionsService.rawOptions.disableStdin)return;let n=this._bufferService.buffer;e&&this._optionsService.rawOptions.scrollOnUserInput&&n.ybase!==n.ydisp&&this._onRequestScrollToBottom.fire(),e&&this._onUserInput.fire(),this._logService.debug(`sending data "${t}"`),this._logService.trace("sending data (codes)",()=>t.split("").map(s=>s.charCodeAt(0))),this._onData.fire(t)}triggerBinaryEvent(t){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${t}"`),this._logService.trace("sending binary (codes)",()=>t.split("").map(e=>e.charCodeAt(0))),this._onBinary.fire(t))}};I2=wn([Ue(0,Vs),Ue(1,PL),Ue(2,qs)],I2);var WO={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:t=>t.button===4||t.action!==1?!1:(t.ctrl=!1,t.alt=!1,t.shift=!1,!0)},VT200:{events:19,restrict:t=>t.action!==32},DRAG:{events:23,restrict:t=>!(t.action===32&&t.button===3)},ANY:{events:31,restrict:t=>!0}};function wS(t,e){let n=(t.ctrl?16:0)|(t.shift?4:0)|(t.alt?8:0);return t.button===4?(n|=64,n|=t.action):(n|=t.button&3,t.button&4&&(n|=64),t.button&8&&(n|=128),t.action===32?n|=32:t.action===0&&!e&&(n|=3)),n}var kS=String.fromCharCode,GO={DEFAULT:t=>{let e=[wS(t,!1)+32,t.col+32,t.row+32];return e[0]>255||e[1]>255||e[2]>255?"":`\x1B[M${kS(e[0])}${kS(e[1])}${kS(e[2])}`},SGR:t=>{let e=t.action===0&&t.button!==4?"m":"M";return`\x1B[<${wS(t,!0)};${t.col};${t.row}${e}`},SGR_PIXELS:t=>{let e=t.action===0&&t.button!==4?"m":"M";return`\x1B[<${wS(t,!0)};${t.x};${t.y}${e}`}},D2=class extends Tt{constructor(t,e,n){super(),this._bufferService=t,this._coreService=e,this._optionsService=n,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._wheelPartialScroll=0,this._onProtocolChange=this._register(new je),this.onProtocolChange=this._onProtocolChange.event;for(let s of Object.keys(WO))this.addProtocol(s,WO[s]);for(let s of Object.keys(GO))this.addEncoding(s,GO[s]);this.reset()}addProtocol(t,e){this._protocols[t]=e}addEncoding(t,e){this._encodings[t]=e}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(t){if(!this._protocols[t])throw new Error(`unknown protocol "${t}"`);this._activeProtocol=t,this._onProtocolChange.fire(this._protocols[t].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(t){if(!this._encodings[t])throw new Error(`unknown encoding "${t}"`);this._activeEncoding=t}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null,this._wheelPartialScroll=0}consumeWheelEvent(t,e,n){if(t.deltaY===0||t.shiftKey||e===void 0||n===void 0)return 0;let s=e/n,r=this._applyScrollModifier(t.deltaY,t);return t.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(r/=s+0,Math.abs(t.deltaY)<50&&(r*=.3),this._wheelPartialScroll+=r,r=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(r*=this._bufferService.rows),r}_applyScrollModifier(t,e){return e.altKey||e.ctrlKey||e.shiftKey?t*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:t*this._optionsService.rawOptions.scrollSensitivity}triggerMouseEvent(t){if(t.col<0||t.col>=this._bufferService.cols||t.row<0||t.row>=this._bufferService.rows||t.button===4&&t.action===32||t.button===3&&t.action!==32||t.button!==4&&(t.action===2||t.action===3)||(t.col++,t.row++,t.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,t,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(t))return!1;let e=this._encodings[this._activeEncoding](t);return e&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(e):this._coreService.triggerDataEvent(e,!0)),this._lastEvent=t,!0}explainEvents(t){return{down:!!(t&1),up:!!(t&2),drag:!!(t&4),move:!!(t&8),wheel:!!(t&16)}}_equalEvents(t,e,n){if(n){if(t.x!==e.x||t.y!==e.y)return!1}else if(t.col!==e.col||t.row!==e.row)return!1;return!(t.button!==e.button||t.action!==e.action||t.ctrl!==e.ctrl||t.alt!==e.alt||t.shift!==e.shift)}};D2=wn([Ue(0,Vs),Ue(1,Ec),Ue(2,qs)],D2);var CS=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],Kre=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],Hn;function Wre(t,e){let n=0,s=e.length-1,r;if(t<e[0][0]||t>e[s][1])return!1;for(;s>=n;)if(r=n+s>>1,t>e[r][1])n=r+1;else if(t<e[r][0])s=r-1;else return!0;return!1}var Gre=class{constructor(){if(this.version="6",!Hn){Hn=new Uint8Array(65536),Hn.fill(1),Hn[0]=0,Hn.fill(0,1,32),Hn.fill(0,127,160),Hn.fill(2,4352,4448),Hn[9001]=2,Hn[9002]=2,Hn.fill(2,11904,42192),Hn[12351]=1,Hn.fill(2,44032,55204),Hn.fill(2,63744,64256),Hn.fill(2,65040,65050),Hn.fill(2,65072,65136),Hn.fill(2,65280,65377),Hn.fill(2,65504,65511);for(let t=0;t<CS.length;++t)Hn.fill(0,CS[t][0],CS[t][1]+1)}}wcwidth(t){return t<32?0:t<127?1:t<65536?Hn[t]:Wre(t,Kre)?0:t>=131072&&t<=196605||t>=196608&&t<=262141?2:1}charProperties(t,e){let n=this.wcwidth(t),s=n===0&&e!==0;if(s){let r=Ll.extractWidth(e);r===0?s=!1:r>n&&(n=r)}return Ll.createPropertyValue(0,n,s)}},Ll=class K0{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new je,this.onChange=this._onChange.event;let e=new Gre;this.register(e),this._active=e.version,this._activeProvider=e}static extractShouldJoin(e){return(e&1)!==0}static extractWidth(e){return e>>1&3}static extractCharKind(e){return e>>3}static createPropertyValue(e,n,s=!1){return(e&16777215)<<3|(n&3)<<1|(s?1:0)}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(e){if(!this._providers[e])throw new Error(`unknown Unicode version "${e}"`);this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)}register(e){this._providers[e.version]=e}wcwidth(e){return this._activeProvider.wcwidth(e)}getStringCellWidth(e){let n=0,s=0,r=e.length;for(let i=0;i<r;++i){let a=e.charCodeAt(i);if(55296<=a&&a<=56319){if(++i>=r)return n+this.wcwidth(a);let h=e.charCodeAt(i);56320<=h&&h<=57343?a=(a-55296)*1024+h-56320+65536:n+=this.wcwidth(h)}let l=this.charProperties(a,s),u=K0.extractWidth(l);K0.extractShouldJoin(l)&&(u-=K0.extractWidth(s)),n+=u,s=l}return n}charProperties(e,n){return this._activeProvider.charProperties(e,n)}},Yre=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(t){this.glevel=t,this.charset=this._charsets[t]}setgCharset(t,e){this._charsets[t]=e,this.glevel===t&&(this.charset=e)}};function YO(t){let e=t.buffer.lines.get(t.buffer.ybase+t.buffer.y-1)?.get(t.cols-1),n=t.buffer.lines.get(t.buffer.ybase+t.buffer.y);n&&e&&(n.isWrapped=e[3]!==0&&e[3]!==32)}var Yd=2147483647,Zre=256,yB=class P2{constructor(e=32,n=32){if(this.maxLength=e,this.maxSubParamsLength=n,n>Zre)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(n),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(e){let n=new P2;if(!e.length)return n;for(let s=Array.isArray(e[0])?1:0;s<e.length;++s){let r=e[s];if(Array.isArray(r))for(let i=0;i<r.length;++i)n.addSubParam(r[i]);else n.addParam(r)}return n}clone(){let e=new P2(this.maxLength,this.maxSubParamsLength);return e.params.set(this.params),e.length=this.length,e._subParams.set(this._subParams),e._subParamsLength=this._subParamsLength,e._subParamsIdx.set(this._subParamsIdx),e._rejectDigits=this._rejectDigits,e._rejectSubDigits=this._rejectSubDigits,e._digitIsSub=this._digitIsSub,e}toArray(){let e=[];for(let n=0;n<this.length;++n){e.push(this.params[n]);let s=this._subParamsIdx[n]>>8,r=this._subParamsIdx[n]&255;r-s>0&&e.push(Array.prototype.slice.call(this._subParams,s,r))}return e}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(e){if(this._digitIsSub=!1,this.length>=this.maxLength){this._rejectDigits=!0;return}if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>Yd?Yd:e}addSubParam(e){if(this._digitIsSub=!0,!!this.length){if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength){this._rejectSubDigits=!0;return}if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>Yd?Yd:e,this._subParamsIdx[this.length-1]++}}hasSubParams(e){return(this._subParamsIdx[e]&255)-(this._subParamsIdx[e]>>8)>0}getSubParams(e){let n=this._subParamsIdx[e]>>8,s=this._subParamsIdx[e]&255;return s-n>0?this._subParams.subarray(n,s):null}getSubParamsAll(){let e={};for(let n=0;n<this.length;++n){let s=this._subParamsIdx[n]>>8,r=this._subParamsIdx[n]&255;r-s>0&&(e[n]=this._subParams.slice(s,r))}return e}addDigit(e){let n;if(this._rejectDigits||!(n=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;let s=this._digitIsSub?this._subParams:this.params,r=s[n-1];s[n-1]=~r?Math.min(r*10+e,Yd):e}},Zd=[],Jre=class{constructor(){this._state=0,this._active=Zd,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(t,e){this._handlers[t]===void 0&&(this._handlers[t]=[]);let n=this._handlers[t];return n.push(e),{dispose:()=>{let s=n.indexOf(e);s!==-1&&n.splice(s,1)}}}clearHandler(t){this._handlers[t]&&delete this._handlers[t]}setHandlerFallback(t){this._handlerFb=t}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=Zd}reset(){if(this._state===2)for(let t=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;t>=0;--t)this._active[t].end(!1);this._stack.paused=!1,this._active=Zd,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||Zd,!this._active.length)this._handlerFb(this._id,"START");else for(let t=this._active.length-1;t>=0;t--)this._active[t].start()}_put(t,e,n){if(!this._active.length)this._handlerFb(this._id,"PUT",Fb(t,e,n));else for(let s=this._active.length-1;s>=0;s--)this._active[s].put(t,e,n)}start(){this.reset(),this._state=1}put(t,e,n){if(this._state!==3){if(this._state===1)for(;e<n;){let s=t[e++];if(s===59){this._state=2,this._start();break}if(s<48||57<s){this._state=3;return}this._id===-1&&(this._id=0),this._id=this._id*10+s-48}this._state===2&&n-e>0&&this._put(t,e,n)}}end(t,e=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),!this._active.length)this._handlerFb(this._id,"END",t);else{let n=!1,s=this._active.length-1,r=!1;if(this._stack.paused&&(s=this._stack.loopPosition-1,n=e,r=this._stack.fallThrough,this._stack.paused=!1),!r&&n===!1){for(;s>=0&&(n=this._active[s].end(t),n!==!0);s--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=s,this._stack.fallThrough=!1,n;s--}for(;s>=0;s--)if(n=this._active[s].end(!1),n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=s,this._stack.fallThrough=!0,n}this._active=Zd,this._id=-1,this._state=0}}},br=class{constructor(t){this._handler=t,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(t,e,n){this._hitLimit||(this._data+=Fb(t,e,n),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}end(t){let e=!1;if(this._hitLimit)e=!1;else if(t&&(e=this._handler(this._data),e instanceof Promise))return e.then(n=>(this._data="",this._hitLimit=!1,n));return this._data="",this._hitLimit=!1,e}},Jd=[],Xre=class{constructor(){this._handlers=Object.create(null),this._active=Jd,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=Jd}registerHandler(t,e){this._handlers[t]===void 0&&(this._handlers[t]=[]);let n=this._handlers[t];return n.push(e),{dispose:()=>{let s=n.indexOf(e);s!==-1&&n.splice(s,1)}}}clearHandler(t){this._handlers[t]&&delete this._handlers[t]}setHandlerFallback(t){this._handlerFb=t}reset(){if(this._active.length)for(let t=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;t>=0;--t)this._active[t].unhook(!1);this._stack.paused=!1,this._active=Jd,this._ident=0}hook(t,e){if(this.reset(),this._ident=t,this._active=this._handlers[t]||Jd,!this._active.length)this._handlerFb(this._ident,"HOOK",e);else for(let n=this._active.length-1;n>=0;n--)this._active[n].hook(e)}put(t,e,n){if(!this._active.length)this._handlerFb(this._ident,"PUT",Fb(t,e,n));else for(let s=this._active.length-1;s>=0;s--)this._active[s].put(t,e,n)}unhook(t,e=!0){if(!this._active.length)this._handlerFb(this._ident,"UNHOOK",t);else{let n=!1,s=this._active.length-1,r=!1;if(this._stack.paused&&(s=this._stack.loopPosition-1,n=e,r=this._stack.fallThrough,this._stack.paused=!1),!r&&n===!1){for(;s>=0&&(n=this._active[s].unhook(t),n!==!0);s--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=s,this._stack.fallThrough=!1,n;s--}for(;s>=0;s--)if(n=this._active[s].unhook(!1),n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=s,this._stack.fallThrough=!0,n}this._active=Jd,this._ident=0}},Mf=new yB;Mf.addParam(0);var ZO=class{constructor(t){this._handler=t,this._data="",this._params=Mf,this._hitLimit=!1}hook(t){this._params=t.length>1||t.params[0]?t.clone():Mf,this._data="",this._hitLimit=!1}put(t,e,n){this._hitLimit||(this._data+=Fb(t,e,n),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}unhook(t){let e=!1;if(this._hitLimit)e=!1;else if(t&&(e=this._handler(this._data,this._params),e instanceof Promise))return e.then(n=>(this._params=Mf,this._data="",this._hitLimit=!1,n));return this._params=Mf,this._data="",this._hitLimit=!1,e}},Qre=class{constructor(t){this.table=new Uint8Array(t)}setDefault(t,e){this.table.fill(t<<4|e)}add(t,e,n,s){this.table[e<<8|t]=n<<4|s}addMany(t,e,n,s){for(let r=0;r<t.length;r++)this.table[e<<8|t[r]]=n<<4|s}},Jr=160,eie=(function(){let t=new Qre(4095),e=Array.apply(null,Array(256)).map((l,u)=>u),n=(l,u)=>e.slice(l,u),s=n(32,127),r=n(0,24);r.push(25),r.push.apply(r,n(28,32));let i=n(0,14),a;t.setDefault(1,0),t.addMany(s,0,2,0);for(a in i)t.addMany([24,26,153,154],a,3,0),t.addMany(n(128,144),a,3,0),t.addMany(n(144,152),a,3,0),t.add(156,a,0,0),t.add(27,a,11,1),t.add(157,a,4,8),t.addMany([152,158,159],a,0,7),t.add(155,a,11,3),t.add(144,a,11,9);return t.addMany(r,0,3,0),t.addMany(r,1,3,1),t.add(127,1,0,1),t.addMany(r,8,0,8),t.addMany(r,3,3,3),t.add(127,3,0,3),t.addMany(r,4,3,4),t.add(127,4,0,4),t.addMany(r,6,3,6),t.addMany(r,5,3,5),t.add(127,5,0,5),t.addMany(r,2,3,2),t.add(127,2,0,2),t.add(93,1,4,8),t.addMany(s,8,5,8),t.add(127,8,5,8),t.addMany([156,27,24,26,7],8,6,0),t.addMany(n(28,32),8,0,8),t.addMany([88,94,95],1,0,7),t.addMany(s,7,0,7),t.addMany(r,7,0,7),t.add(156,7,0,0),t.add(127,7,0,7),t.add(91,1,11,3),t.addMany(n(64,127),3,7,0),t.addMany(n(48,60),3,8,4),t.addMany([60,61,62,63],3,9,4),t.addMany(n(48,60),4,8,4),t.addMany(n(64,127),4,7,0),t.addMany([60,61,62,63],4,0,6),t.addMany(n(32,64),6,0,6),t.add(127,6,0,6),t.addMany(n(64,127),6,0,0),t.addMany(n(32,48),3,9,5),t.addMany(n(32,48),5,9,5),t.addMany(n(48,64),5,0,6),t.addMany(n(64,127),5,7,0),t.addMany(n(32,48),4,9,5),t.addMany(n(32,48),1,9,2),t.addMany(n(32,48),2,9,2),t.addMany(n(48,127),2,10,0),t.addMany(n(48,80),1,10,0),t.addMany(n(81,88),1,10,0),t.addMany([89,90,92],1,10,0),t.addMany(n(96,127),1,10,0),t.add(80,1,11,9),t.addMany(r,9,0,9),t.add(127,9,0,9),t.addMany(n(28,32),9,0,9),t.addMany(n(32,48),9,9,12),t.addMany(n(48,60),9,8,10),t.addMany([60,61,62,63],9,9,10),t.addMany(r,11,0,11),t.addMany(n(32,128),11,0,11),t.addMany(n(28,32),11,0,11),t.addMany(r,10,0,10),t.add(127,10,0,10),t.addMany(n(28,32),10,0,10),t.addMany(n(48,60),10,8,10),t.addMany([60,61,62,63],10,0,11),t.addMany(n(32,48),10,9,12),t.addMany(r,12,0,12),t.add(127,12,0,12),t.addMany(n(28,32),12,0,12),t.addMany(n(32,48),12,9,12),t.addMany(n(48,64),12,0,11),t.addMany(n(64,127),12,12,13),t.addMany(n(64,127),10,12,13),t.addMany(n(64,127),9,12,13),t.addMany(r,13,13,13),t.addMany(s,13,13,13),t.add(127,13,0,13),t.addMany([27,156,24,26],13,14,0),t.add(Jr,0,2,0),t.add(Jr,8,5,8),t.add(Jr,6,0,6),t.add(Jr,11,0,11),t.add(Jr,13,13,13),t})(),tie=class extends Tt{constructor(t=eie){super(),this._transitions=t,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new yB,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(e,n,s)=>{},this._executeHandlerFb=e=>{},this._csiHandlerFb=(e,n)=>{},this._escHandlerFb=e=>{},this._errorHandlerFb=e=>e,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this._register(fn(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this._register(new Jre),this._dcsParser=this._register(new Xre),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(t,e=[64,126]){let n=0;if(t.prefix){if(t.prefix.length>1)throw new Error("only one byte as prefix supported");if(n=t.prefix.charCodeAt(0),n&&60>n||n>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(t.intermediates){if(t.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let r=0;r<t.intermediates.length;++r){let i=t.intermediates.charCodeAt(r);if(32>i||i>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");n<<=8,n|=i}}if(t.final.length!==1)throw new Error("final must be a single byte");let s=t.final.charCodeAt(0);if(e[0]>s||s>e[1])throw new Error(`final must be in range ${e[0]} .. ${e[1]}`);return n<<=8,n|=s,n}identToString(t){let e=[];for(;t;)e.push(String.fromCharCode(t&255)),t>>=8;return e.reverse().join("")}setPrintHandler(t){this._printHandler=t}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(t,e){let n=this._identifier(t,[48,126]);this._escHandlers[n]===void 0&&(this._escHandlers[n]=[]);let s=this._escHandlers[n];return s.push(e),{dispose:()=>{let r=s.indexOf(e);r!==-1&&s.splice(r,1)}}}clearEscHandler(t){this._escHandlers[this._identifier(t,[48,126])]&&delete this._escHandlers[this._identifier(t,[48,126])]}setEscHandlerFallback(t){this._escHandlerFb=t}setExecuteHandler(t,e){this._executeHandlers[t.charCodeAt(0)]=e}clearExecuteHandler(t){this._executeHandlers[t.charCodeAt(0)]&&delete this._executeHandlers[t.charCodeAt(0)]}setExecuteHandlerFallback(t){this._executeHandlerFb=t}registerCsiHandler(t,e){let n=this._identifier(t);this._csiHandlers[n]===void 0&&(this._csiHandlers[n]=[]);let s=this._csiHandlers[n];return s.push(e),{dispose:()=>{let r=s.indexOf(e);r!==-1&&s.splice(r,1)}}}clearCsiHandler(t){this._csiHandlers[this._identifier(t)]&&delete this._csiHandlers[this._identifier(t)]}setCsiHandlerFallback(t){this._csiHandlerFb=t}registerDcsHandler(t,e){return this._dcsParser.registerHandler(this._identifier(t),e)}clearDcsHandler(t){this._dcsParser.clearHandler(this._identifier(t))}setDcsHandlerFallback(t){this._dcsParser.setHandlerFallback(t)}registerOscHandler(t,e){return this._oscParser.registerHandler(t,e)}clearOscHandler(t){this._oscParser.clearHandler(t)}setOscHandlerFallback(t){this._oscParser.setHandlerFallback(t)}setErrorHandler(t){this._errorHandler=t}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(t,e,n,s,r){this._parseStack.state=t,this._parseStack.handlers=e,this._parseStack.handlerPos=n,this._parseStack.transition=s,this._parseStack.chunkPos=r}parse(t,e,n){let s=0,r=0,i=0,a;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,i=this._parseStack.chunkPos+1;else{if(n===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");let l=this._parseStack.handlers,u=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(n===!1&&u>-1){for(;u>=0&&(a=l[u](this._params),a!==!0);u--)if(a instanceof Promise)return this._parseStack.handlerPos=u,a}this._parseStack.handlers=[];break;case 4:if(n===!1&&u>-1){for(;u>=0&&(a=l[u](),a!==!0);u--)if(a instanceof Promise)return this._parseStack.handlerPos=u,a}this._parseStack.handlers=[];break;case 6:if(s=t[this._parseStack.chunkPos],a=this._dcsParser.unhook(s!==24&&s!==26,n),a)return a;s===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(s=t[this._parseStack.chunkPos],a=this._oscParser.end(s!==24&&s!==26,n),a)return a;s===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break}this._parseStack.state=0,i=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=this._parseStack.transition&15}for(let l=i;l<e;++l){switch(s=t[l],r=this._transitions.table[this.currentState<<8|(s<160?s:Jr)],r>>4){case 2:for(let g=l+1;;++g){if(g>=e||(s=t[g])<32||s>126&&s<Jr){this._printHandler(t,l,g),l=g-1;break}if(++g>=e||(s=t[g])<32||s>126&&s<Jr){this._printHandler(t,l,g),l=g-1;break}if(++g>=e||(s=t[g])<32||s>126&&s<Jr){this._printHandler(t,l,g),l=g-1;break}if(++g>=e||(s=t[g])<32||s>126&&s<Jr){this._printHandler(t,l,g),l=g-1;break}}break;case 3:this._executeHandlers[s]?this._executeHandlers[s]():this._executeHandlerFb(s),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:l,code:s,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:let u=this._csiHandlers[this._collect<<8|s],h=u?u.length-1:-1;for(;h>=0&&(a=u[h](this._params),a!==!0);h--)if(a instanceof Promise)return this._preserveStack(3,u,h,r,l),a;h<0&&this._csiHandlerFb(this._collect<<8|s,this._params),this.precedingJoinState=0;break;case 8:do switch(s){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(s-48)}while(++l<e&&(s=t[l])>47&&s<60);l--;break;case 9:this._collect<<=8,this._collect|=s;break;case 10:let m=this._escHandlers[this._collect<<8|s],f=m?m.length-1:-1;for(;f>=0&&(a=m[f](),a!==!0);f--)if(a instanceof Promise)return this._preserveStack(4,m,f,r,l),a;f<0&&this._escHandlerFb(this._collect<<8|s),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|s,this._params);break;case 13:for(let g=l+1;;++g)if(g>=e||(s=t[g])===24||s===26||s===27||s>127&&s<Jr){this._dcsParser.put(t,l,g),l=g-1;break}break;case 14:if(a=this._dcsParser.unhook(s!==24&&s!==26),a)return this._preserveStack(6,[],0,r,l),a;s===27&&(r|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let g=l+1;;g++)if(g>=e||(s=t[g])<32||s>127&&s<Jr){this._oscParser.put(t,l,g),l=g-1;break}break;case 6:if(a=this._oscParser.end(s!==24&&s!==26),a)return this._preserveStack(5,[],0,r,l),a;s===27&&(r|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break}this.currentState=r&15}}},nie=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,sie=/^[\da-f]+$/;function JO(t){if(!t)return;let e=t.toLowerCase();if(e.indexOf("rgb:")===0){e=e.slice(4);let n=nie.exec(e);if(n){let s=n[1]?15:n[4]?255:n[7]?4095:65535;return[Math.round(parseInt(n[1]||n[4]||n[7]||n[10],16)/s*255),Math.round(parseInt(n[2]||n[5]||n[8]||n[11],16)/s*255),Math.round(parseInt(n[3]||n[6]||n[9]||n[12],16)/s*255)]}}else if(e.indexOf("#")===0&&(e=e.slice(1),sie.exec(e)&&[3,6,9,12].includes(e.length))){let n=e.length/3,s=[0,0,0];for(let r=0;r<3;++r){let i=parseInt(e.slice(n*r,n*r+n),16);s[r]=n===1?i<<4:n===2?i:n===3?i>>4:i>>8}return s}}function NS(t,e){let n=t.toString(16),s=n.length<2?"0"+n:n;switch(e){case 4:return n[0];case 8:return s;case 12:return(s+s).slice(0,3);default:return s+s}}function rie(t,e=16){let[n,s,r]=t;return`rgb:${NS(n,e)}/${NS(s,e)}/${NS(r,e)}`}var iie={"(":0,")":1,"*":2,"+":3,"-":1,".":2},ko=131072,XO=10;function QO(t,e){if(t>24)return e.setWinLines||!1;switch(t){case 1:return!!e.restoreWin;case 2:return!!e.minimizeWin;case 3:return!!e.setWinPosition;case 4:return!!e.setWinSizePixels;case 5:return!!e.raiseWin;case 6:return!!e.lowerWin;case 7:return!!e.refreshWin;case 8:return!!e.setWinSizeChars;case 9:return!!e.maximizeWin;case 10:return!!e.fullscreenWin;case 11:return!!e.getWinState;case 13:return!!e.getWinPosition;case 14:return!!e.getWinSizePixels;case 15:return!!e.getScreenSizePixels;case 16:return!!e.getCellSizePixels;case 18:return!!e.getWinSizeChars;case 19:return!!e.getScreenSizeChars;case 20:return!!e.getIconTitle;case 21:return!!e.getWinTitle;case 22:return!!e.pushTitle;case 23:return!!e.popTitle;case 24:return!!e.setWinLines}return!1}var eM=5e3,tM=0,aie=class extends Tt{constructor(t,e,n,s,r,i,a,l,u=new tie){super(),this._bufferService=t,this._charsetService=e,this._coreService=n,this._logService=s,this._optionsService=r,this._oscLinkService=i,this._coreMouseService=a,this._unicodeService=l,this._parser=u,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new Cne,this._utf8Decoder=new Nne,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=Ln.clone(),this._eraseAttrDataInternal=Ln.clone(),this._onRequestBell=this._register(new je),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this._register(new je),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this._register(new je),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this._register(new je),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this._register(new je),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this._register(new je),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this._register(new je),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this._register(new je),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this._register(new je),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this._register(new je),this.onLineFeed=this._onLineFeed.event,this._onScroll=this._register(new je),this.onScroll=this._onScroll.event,this._onTitleChange=this._register(new je),this.onTitleChange=this._onTitleChange.event,this._onColor=this._register(new je),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this._register(this._parser),this._dirtyRowTracker=new L2(this._bufferService),this._activeBuffer=this._bufferService.buffer,this._register(this._bufferService.buffers.onBufferActivate(h=>this._activeBuffer=h.activeBuffer)),this._parser.setCsiHandlerFallback((h,m)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(h),params:m.toArray()})}),this._parser.setEscHandlerFallback(h=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(h)})}),this._parser.setExecuteHandlerFallback(h=>{this._logService.debug("Unknown EXECUTE code: ",{code:h})}),this._parser.setOscHandlerFallback((h,m,f)=>{this._logService.debug("Unknown OSC code: ",{identifier:h,action:m,data:f})}),this._parser.setDcsHandlerFallback((h,m,f)=>{m==="HOOK"&&(f=f.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(h),action:m,payload:f})}),this._parser.setPrintHandler((h,m,f)=>this.print(h,m,f)),this._parser.registerCsiHandler({final:"@"},h=>this.insertChars(h)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},h=>this.scrollLeft(h)),this._parser.registerCsiHandler({final:"A"},h=>this.cursorUp(h)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},h=>this.scrollRight(h)),this._parser.registerCsiHandler({final:"B"},h=>this.cursorDown(h)),this._parser.registerCsiHandler({final:"C"},h=>this.cursorForward(h)),this._parser.registerCsiHandler({final:"D"},h=>this.cursorBackward(h)),this._parser.registerCsiHandler({final:"E"},h=>this.cursorNextLine(h)),this._parser.registerCsiHandler({final:"F"},h=>this.cursorPrecedingLine(h)),this._parser.registerCsiHandler({final:"G"},h=>this.cursorCharAbsolute(h)),this._parser.registerCsiHandler({final:"H"},h=>this.cursorPosition(h)),this._parser.registerCsiHandler({final:"I"},h=>this.cursorForwardTab(h)),this._parser.registerCsiHandler({final:"J"},h=>this.eraseInDisplay(h,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},h=>this.eraseInDisplay(h,!0)),this._parser.registerCsiHandler({final:"K"},h=>this.eraseInLine(h,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},h=>this.eraseInLine(h,!0)),this._parser.registerCsiHandler({final:"L"},h=>this.insertLines(h)),this._parser.registerCsiHandler({final:"M"},h=>this.deleteLines(h)),this._parser.registerCsiHandler({final:"P"},h=>this.deleteChars(h)),this._parser.registerCsiHandler({final:"S"},h=>this.scrollUp(h)),this._parser.registerCsiHandler({final:"T"},h=>this.scrollDown(h)),this._parser.registerCsiHandler({final:"X"},h=>this.eraseChars(h)),this._parser.registerCsiHandler({final:"Z"},h=>this.cursorBackwardTab(h)),this._parser.registerCsiHandler({final:"`"},h=>this.charPosAbsolute(h)),this._parser.registerCsiHandler({final:"a"},h=>this.hPositionRelative(h)),this._parser.registerCsiHandler({final:"b"},h=>this.repeatPrecedingCharacter(h)),this._parser.registerCsiHandler({final:"c"},h=>this.sendDeviceAttributesPrimary(h)),this._parser.registerCsiHandler({prefix:">",final:"c"},h=>this.sendDeviceAttributesSecondary(h)),this._parser.registerCsiHandler({final:"d"},h=>this.linePosAbsolute(h)),this._parser.registerCsiHandler({final:"e"},h=>this.vPositionRelative(h)),this._parser.registerCsiHandler({final:"f"},h=>this.hVPosition(h)),this._parser.registerCsiHandler({final:"g"},h=>this.tabClear(h)),this._parser.registerCsiHandler({final:"h"},h=>this.setMode(h)),this._parser.registerCsiHandler({prefix:"?",final:"h"},h=>this.setModePrivate(h)),this._parser.registerCsiHandler({final:"l"},h=>this.resetMode(h)),this._parser.registerCsiHandler({prefix:"?",final:"l"},h=>this.resetModePrivate(h)),this._parser.registerCsiHandler({final:"m"},h=>this.charAttributes(h)),this._parser.registerCsiHandler({final:"n"},h=>this.deviceStatus(h)),this._parser.registerCsiHandler({prefix:"?",final:"n"},h=>this.deviceStatusPrivate(h)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},h=>this.softReset(h)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},h=>this.setCursorStyle(h)),this._parser.registerCsiHandler({final:"r"},h=>this.setScrollRegion(h)),this._parser.registerCsiHandler({final:"s"},h=>this.saveCursor(h)),this._parser.registerCsiHandler({final:"t"},h=>this.windowOptions(h)),this._parser.registerCsiHandler({final:"u"},h=>this.restoreCursor(h)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},h=>this.insertColumns(h)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},h=>this.deleteColumns(h)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},h=>this.selectProtected(h)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},h=>this.requestMode(h,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},h=>this.requestMode(h,!1)),this._parser.setExecuteHandler(_e.BEL,()=>this.bell()),this._parser.setExecuteHandler(_e.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(_e.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(_e.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(_e.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(_e.BS,()=>this.backspace()),this._parser.setExecuteHandler(_e.HT,()=>this.tab()),this._parser.setExecuteHandler(_e.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(_e.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(V0.IND,()=>this.index()),this._parser.setExecuteHandler(V0.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(V0.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new br(h=>(this.setTitle(h),this.setIconName(h),!0))),this._parser.registerOscHandler(1,new br(h=>this.setIconName(h))),this._parser.registerOscHandler(2,new br(h=>this.setTitle(h))),this._parser.registerOscHandler(4,new br(h=>this.setOrReportIndexedColor(h))),this._parser.registerOscHandler(8,new br(h=>this.setHyperlink(h))),this._parser.registerOscHandler(10,new br(h=>this.setOrReportFgColor(h))),this._parser.registerOscHandler(11,new br(h=>this.setOrReportBgColor(h))),this._parser.registerOscHandler(12,new br(h=>this.setOrReportCursorColor(h))),this._parser.registerOscHandler(104,new br(h=>this.restoreIndexedColor(h))),this._parser.registerOscHandler(110,new br(h=>this.restoreFgColor(h))),this._parser.registerOscHandler(111,new br(h=>this.restoreBgColor(h))),this._parser.registerOscHandler(112,new br(h=>this.restoreCursorColor(h))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let h in Gn)this._parser.registerEscHandler({intermediates:"(",final:h},()=>this.selectCharset("("+h)),this._parser.registerEscHandler({intermediates:")",final:h},()=>this.selectCharset(")"+h)),this._parser.registerEscHandler({intermediates:"*",final:h},()=>this.selectCharset("*"+h)),this._parser.registerEscHandler({intermediates:"+",final:h},()=>this.selectCharset("+"+h)),this._parser.registerEscHandler({intermediates:"-",final:h},()=>this.selectCharset("-"+h)),this._parser.registerEscHandler({intermediates:".",final:h},()=>this.selectCharset("."+h)),this._parser.registerEscHandler({intermediates:"/",final:h},()=>this.selectCharset("/"+h));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(h=>(this._logService.error("Parsing error: ",h),h)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new ZO((h,m)=>this.requestStatusString(h,m)))}getAttrData(){return this._curAttrData}_preserveStack(t,e,n,s){this._parseStack.paused=!0,this._parseStack.cursorStartX=t,this._parseStack.cursorStartY=e,this._parseStack.decodedLength=n,this._parseStack.position=s}_logSlowResolvingAsync(t){this._logService.logLevel<=3&&Promise.race([t,new Promise((e,n)=>setTimeout(()=>n("#SLOW_TIMEOUT"),eM))]).catch(e=>{if(e!=="#SLOW_TIMEOUT")throw e;console.warn(`async parser handler taking longer than ${eM} ms`)})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(t,e){let n,s=this._activeBuffer.x,r=this._activeBuffer.y,i=0,a=this._parseStack.paused;if(a){if(n=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,e))return this._logSlowResolvingAsync(n),n;s=this._parseStack.cursorStartX,r=this._parseStack.cursorStartY,this._parseStack.paused=!1,t.length>ko&&(i=this._parseStack.position+ko)}if(this._logService.logLevel<=1&&this._logService.debug(`parsing data ${typeof t=="string"?` "${t}"`:` "${Array.prototype.map.call(t,h=>String.fromCharCode(h)).join("")}"`}`),this._logService.logLevel===0&&this._logService.trace("parsing data (codes)",typeof t=="string"?t.split("").map(h=>h.charCodeAt(0)):t),this._parseBuffer.length<t.length&&this._parseBuffer.length<ko&&(this._parseBuffer=new Uint32Array(Math.min(t.length,ko))),a||this._dirtyRowTracker.clearRange(),t.length>ko)for(let h=i;h<t.length;h+=ko){let m=h+ko<t.length?h+ko:t.length,f=typeof t=="string"?this._stringDecoder.decode(t.substring(h,m),this._parseBuffer):this._utf8Decoder.decode(t.subarray(h,m),this._parseBuffer);if(n=this._parser.parse(this._parseBuffer,f))return this._preserveStack(s,r,f,h),this._logSlowResolvingAsync(n),n}else if(!a){let h=typeof t=="string"?this._stringDecoder.decode(t,this._parseBuffer):this._utf8Decoder.decode(t,this._parseBuffer);if(n=this._parser.parse(this._parseBuffer,h))return this._preserveStack(s,r,h,0),this._logSlowResolvingAsync(n),n}(this._activeBuffer.x!==s||this._activeBuffer.y!==r)&&this._onCursorMove.fire();let l=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),u=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);u<this._bufferService.rows&&this._onRequestRefreshRows.fire({start:Math.min(u,this._bufferService.rows-1),end:Math.min(l,this._bufferService.rows-1)})}print(t,e,n){let s,r,i=this._charsetService.charset,a=this._optionsService.rawOptions.screenReaderMode,l=this._bufferService.cols,u=this._coreService.decPrivateModes.wraparound,h=this._coreService.modes.insertMode,m=this._curAttrData,f=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&n-e>0&&f.getWidth(this._activeBuffer.x-1)===2&&f.setCellFromCodepoint(this._activeBuffer.x-1,0,1,m);let g=this._parser.precedingJoinState;for(let y=e;y<n;++y){if(s=t[y],s<127&&i){let k=i[String.fromCharCode(s)];k&&(s=k.charCodeAt(0))}let b=this._unicodeService.charProperties(s,g);r=Ll.extractWidth(b);let _=Ll.extractShouldJoin(b),w=_?Ll.extractWidth(g):0;if(g=b,a&&this._onA11yChar.fire(Ro(s)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+r-w>l){if(u){let k=f,C=this._activeBuffer.x-w;for(this._activeBuffer.x=w,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),f=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),w>0&&f instanceof jf&&f.copyCellsFrom(k,C,0,w,!1);C<l;)k.setCellFromCodepoint(C++,0,1,m)}else if(this._activeBuffer.x=l-1,r===2)continue}if(_&&this._activeBuffer.x){let k=f.getWidth(this._activeBuffer.x-1)?1:2;f.addCodepointToCell(this._activeBuffer.x-k,s,r);for(let C=r-w;--C>=0;)f.setCellFromCodepoint(this._activeBuffer.x++,0,0,m);continue}if(h&&(f.insertCells(this._activeBuffer.x,r-w,this._activeBuffer.getNullCell(m)),f.getWidth(l-1)===2&&f.setCellFromCodepoint(l-1,0,1,m)),f.setCellFromCodepoint(this._activeBuffer.x++,s,r,m),r>0)for(;--r;)f.setCellFromCodepoint(this._activeBuffer.x++,0,0,m)}this._parser.precedingJoinState=g,this._activeBuffer.x<l&&n-e>0&&f.getWidth(this._activeBuffer.x)===0&&!f.hasContent(this._activeBuffer.x)&&f.setCellFromCodepoint(this._activeBuffer.x,0,1,m),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(t,e){return t.final==="t"&&!t.prefix&&!t.intermediates?this._parser.registerCsiHandler(t,n=>QO(n.params[0],this._optionsService.rawOptions.windowOptions)?e(n):!0):this._parser.registerCsiHandler(t,e)}registerDcsHandler(t,e){return this._parser.registerDcsHandler(t,new ZO(e))}registerEscHandler(t,e){return this._parser.registerEscHandler(t,e)}registerOscHandler(t,e){return this._parser.registerOscHandler(t,new br(e))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);t.hasWidth(this._activeBuffer.x)&&!t.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-t),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(t=this._bufferService.cols-1){this._activeBuffer.x=Math.min(t,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(t,e){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=t,this._activeBuffer.y=this._activeBuffer.scrollTop+e):(this._activeBuffer.x=t,this._activeBuffer.y=e),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(t,e){this._restrictCursor(),this._setCursor(this._activeBuffer.x+t,this._activeBuffer.y+e)}cursorUp(t){let e=this._activeBuffer.y-this._activeBuffer.scrollTop;return e>=0?this._moveCursor(0,-Math.min(e,t.params[0]||1)):this._moveCursor(0,-(t.params[0]||1)),!0}cursorDown(t){let e=this._activeBuffer.scrollBottom-this._activeBuffer.y;return e>=0?this._moveCursor(0,Math.min(e,t.params[0]||1)):this._moveCursor(0,t.params[0]||1),!0}cursorForward(t){return this._moveCursor(t.params[0]||1,0),!0}cursorBackward(t){return this._moveCursor(-(t.params[0]||1),0),!0}cursorNextLine(t){return this.cursorDown(t),this._activeBuffer.x=0,!0}cursorPrecedingLine(t){return this.cursorUp(t),this._activeBuffer.x=0,!0}cursorCharAbsolute(t){return this._setCursor((t.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(t){return this._setCursor(t.length>=2?(t.params[1]||1)-1:0,(t.params[0]||1)-1),!0}charPosAbsolute(t){return this._setCursor((t.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(t){return this._moveCursor(t.params[0]||1,0),!0}linePosAbsolute(t){return this._setCursor(this._activeBuffer.x,(t.params[0]||1)-1),!0}vPositionRelative(t){return this._moveCursor(0,t.params[0]||1),!0}hVPosition(t){return this.cursorPosition(t),!0}tabClear(t){let e=t.params[0];return e===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:e===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(t){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let e=t.params[0]||1;for(;e--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(t){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let e=t.params[0]||1;for(;e--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(t){let e=t.params[0];return e===1&&(this._curAttrData.bg|=536870912),(e===2||e===0)&&(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(t,e,n,s=!1,r=!1){let i=this._activeBuffer.lines.get(this._activeBuffer.ybase+t);i.replaceCells(e,n,this._activeBuffer.getNullCell(this._eraseAttrData()),r),s&&(i.isWrapped=!1)}_resetBufferLine(t,e=!1){let n=this._activeBuffer.lines.get(this._activeBuffer.ybase+t);n&&(n.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),e),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+t),n.isWrapped=!1)}eraseInDisplay(t,e=!1){this._restrictCursor(this._bufferService.cols);let n;switch(t.params[0]){case 0:for(n=this._activeBuffer.y,this._dirtyRowTracker.markDirty(n),this._eraseInBufferLine(n++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,e);n<this._bufferService.rows;n++)this._resetBufferLine(n,e);this._dirtyRowTracker.markDirty(n);break;case 1:for(n=this._activeBuffer.y,this._dirtyRowTracker.markDirty(n),this._eraseInBufferLine(n,0,this._activeBuffer.x+1,!0,e),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(n+1).isWrapped=!1);n--;)this._resetBufferLine(n,e);this._dirtyRowTracker.markDirty(0);break;case 2:if(this._optionsService.rawOptions.scrollOnEraseInDisplay){for(n=this._bufferService.rows,this._dirtyRowTracker.markRangeDirty(0,n-1);n--&&!this._activeBuffer.lines.get(this._activeBuffer.ybase+n)?.getTrimmedLength(););for(;n>=0;n--)this._bufferService.scroll(this._eraseAttrData())}else{for(n=this._bufferService.rows,this._dirtyRowTracker.markDirty(n-1);n--;)this._resetBufferLine(n,e);this._dirtyRowTracker.markDirty(0)}break;case 3:let s=this._activeBuffer.lines.length-this._bufferService.rows;s>0&&(this._activeBuffer.lines.trimStart(s),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-s,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-s,0),this._onScroll.fire(0));break}return!0}eraseInLine(t,e=!1){switch(this._restrictCursor(this._bufferService.cols),t.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,e);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,e);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,e);break}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(t){this._restrictCursor();let e=t.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let n=this._activeBuffer.ybase+this._activeBuffer.y,s=this._bufferService.rows-1-this._activeBuffer.scrollBottom,r=this._bufferService.rows-1+this._activeBuffer.ybase-s+1;for(;e--;)this._activeBuffer.lines.splice(r-1,1),this._activeBuffer.lines.splice(n,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(t){this._restrictCursor();let e=t.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let n=this._activeBuffer.ybase+this._activeBuffer.y,s;for(s=this._bufferService.rows-1-this._activeBuffer.scrollBottom,s=this._bufferService.rows-1+this._activeBuffer.ybase-s;e--;)this._activeBuffer.lines.splice(n,1),this._activeBuffer.lines.splice(s,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(t){this._restrictCursor();let e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return e&&(e.insertCells(this._activeBuffer.x,t.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(t){this._restrictCursor();let e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return e&&(e.deleteCells(this._activeBuffer.x,t.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(t){let e=t.params[0]||1;for(;e--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(t){let e=t.params[0]||1;for(;e--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(Ln));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(t){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let e=t.params[0]||1;for(let n=this._activeBuffer.scrollTop;n<=this._activeBuffer.scrollBottom;++n){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);s.deleteCells(0,e,this._activeBuffer.getNullCell(this._eraseAttrData())),s.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(t){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let e=t.params[0]||1;for(let n=this._activeBuffer.scrollTop;n<=this._activeBuffer.scrollBottom;++n){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);s.insertCells(0,e,this._activeBuffer.getNullCell(this._eraseAttrData())),s.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(t){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let e=t.params[0]||1;for(let n=this._activeBuffer.scrollTop;n<=this._activeBuffer.scrollBottom;++n){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);s.insertCells(this._activeBuffer.x,e,this._activeBuffer.getNullCell(this._eraseAttrData())),s.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(t){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let e=t.params[0]||1;for(let n=this._activeBuffer.scrollTop;n<=this._activeBuffer.scrollBottom;++n){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);s.deleteCells(this._activeBuffer.x,e,this._activeBuffer.getNullCell(this._eraseAttrData())),s.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(t){this._restrictCursor();let e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return e&&(e.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(t.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(t){let e=this._parser.precedingJoinState;if(!e)return!0;let n=t.params[0]||1,s=Ll.extractWidth(e),r=this._activeBuffer.x-s,i=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(r),a=new Uint32Array(i.length*n),l=0;for(let h=0;h<i.length;){let m=i.codePointAt(h)||0;a[l++]=m,h+=m>65535?2:1}let u=l;for(let h=1;h<n;++h)a.copyWithin(u,0,l),u+=l;return this.print(a,0,u),!0}sendDeviceAttributesPrimary(t){return t.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(_e.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(_e.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(t){return t.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(_e.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(_e.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(t.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(_e.ESC+"[>83;40003;0c")),!0}_is(t){return(this._optionsService.rawOptions.termName+"").indexOf(t)===0}setMode(t){for(let e=0;e<t.length;e++)switch(t.params[e]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0;break}return!0}setModePrivate(t){for(let e=0;e<t.length;e++)switch(t.params[e]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,Rl),this._charsetService.setgCharset(1,Rl),this._charsetService.setgCharset(2,Rl),this._charsetService.setgCharset(3,Rl);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0;break;case 2026:this._coreService.decPrivateModes.synchronizedOutput=!0;break}return!0}resetMode(t){for(let e=0;e<t.length;e++)switch(t.params[e]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1;break}return!0}resetModePrivate(t){for(let e=0;e<t.length;e++)switch(t.params[e]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),t.params[e]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1;break;case 2026:this._coreService.decPrivateModes.synchronizedOutput=!1,this._onRequestRefreshRows.fire(void 0);break}return!0}requestMode(t,e){let n;(_=>(_[_.NOT_RECOGNIZED=0]="NOT_RECOGNIZED",_[_.SET=1]="SET",_[_.RESET=2]="RESET",_[_.PERMANENTLY_SET=3]="PERMANENTLY_SET",_[_.PERMANENTLY_RESET=4]="PERMANENTLY_RESET"))(n||={});let s=this._coreService.decPrivateModes,{activeProtocol:r,activeEncoding:i}=this._coreMouseService,a=this._coreService,{buffers:l,cols:u}=this._bufferService,{active:h,alt:m}=l,f=this._optionsService.rawOptions,g=(_,w)=>(a.triggerDataEvent(`${_e.ESC}[${e?"":"?"}${_};${w}$y`),!0),y=_=>_?1:2,b=t.params[0];return e?b===2?g(b,4):b===4?g(b,y(a.modes.insertMode)):b===12?g(b,3):b===20?g(b,y(f.convertEol)):g(b,0):b===1?g(b,y(s.applicationCursorKeys)):b===3?g(b,f.windowOptions.setWinLines?u===80?2:u===132?1:0:0):b===6?g(b,y(s.origin)):b===7?g(b,y(s.wraparound)):b===8?g(b,3):b===9?g(b,y(r==="X10")):b===12?g(b,y(f.cursorBlink)):b===25?g(b,y(!a.isCursorHidden)):b===45?g(b,y(s.reverseWraparound)):b===66?g(b,y(s.applicationKeypad)):b===67?g(b,4):b===1e3?g(b,y(r==="VT200")):b===1002?g(b,y(r==="DRAG")):b===1003?g(b,y(r==="ANY")):b===1004?g(b,y(s.sendFocus)):b===1005?g(b,4):b===1006?g(b,y(i==="SGR")):b===1015?g(b,4):b===1016?g(b,y(i==="SGR_PIXELS")):b===1048?g(b,1):b===47||b===1047||b===1049?g(b,y(h===m)):b===2004?g(b,y(s.bracketedPasteMode)):b===2026?g(b,y(s.synchronizedOutput)):g(b,0)}_updateAttrColor(t,e,n,s,r){return e===2?(t|=50331648,t&=-16777216,t|=mm.fromColorRGB([n,s,r])):e===5&&(t&=-50331904,t|=33554432|n&255),t}_extractColor(t,e,n){let s=[0,0,-1,0,0,0],r=0,i=0;do{if(s[i+r]=t.params[e+i],t.hasSubParams(e+i)){let a=t.getSubParams(e+i),l=0;do s[1]===5&&(r=1),s[i+l+1+r]=a[l];while(++l<a.length&&l+i+1+r<s.length);break}if(s[1]===5&&i+r>=2||s[1]===2&&i+r>=5)break;s[1]&&(r=1)}while(++i+e<t.length&&i+r<s.length);for(let a=2;a<s.length;++a)s[a]===-1&&(s[a]=0);switch(s[0]){case 38:n.fg=this._updateAttrColor(n.fg,s[1],s[3],s[4],s[5]);break;case 48:n.bg=this._updateAttrColor(n.bg,s[1],s[3],s[4],s[5]);break;case 58:n.extended=n.extended.clone(),n.extended.underlineColor=this._updateAttrColor(n.extended.underlineColor,s[1],s[3],s[4],s[5])}return i}_processUnderline(t,e){e.extended=e.extended.clone(),(!~t||t>5)&&(t=1),e.extended.underlineStyle=t,e.fg|=268435456,t===0&&(e.fg&=-268435457),e.updateExtended()}_processSGR0(t){t.fg=Ln.fg,t.bg=Ln.bg,t.extended=t.extended.clone(),t.extended.underlineStyle=0,t.extended.underlineColor&=-67108864,t.updateExtended()}charAttributes(t){if(t.length===1&&t.params[0]===0)return this._processSGR0(this._curAttrData),!0;let e=t.length,n,s=this._curAttrData;for(let r=0;r<e;r++)n=t.params[r],n>=30&&n<=37?(s.fg&=-50331904,s.fg|=16777216|n-30):n>=40&&n<=47?(s.bg&=-50331904,s.bg|=16777216|n-40):n>=90&&n<=97?(s.fg&=-50331904,s.fg|=16777216|n-90|8):n>=100&&n<=107?(s.bg&=-50331904,s.bg|=16777216|n-100|8):n===0?this._processSGR0(s):n===1?s.fg|=134217728:n===3?s.bg|=67108864:n===4?(s.fg|=268435456,this._processUnderline(t.hasSubParams(r)?t.getSubParams(r)[0]:1,s)):n===5?s.fg|=536870912:n===7?s.fg|=67108864:n===8?s.fg|=1073741824:n===9?s.fg|=2147483648:n===2?s.bg|=134217728:n===21?this._processUnderline(2,s):n===22?(s.fg&=-134217729,s.bg&=-134217729):n===23?s.bg&=-67108865:n===24?(s.fg&=-268435457,this._processUnderline(0,s)):n===25?s.fg&=-536870913:n===27?s.fg&=-67108865:n===28?s.fg&=-1073741825:n===29?s.fg&=2147483647:n===39?(s.fg&=-67108864,s.fg|=Ln.fg&16777215):n===49?(s.bg&=-67108864,s.bg|=Ln.bg&16777215):n===38||n===48||n===58?r+=this._extractColor(t,r,s):n===53?s.bg|=1073741824:n===55?s.bg&=-1073741825:n===59?(s.extended=s.extended.clone(),s.extended.underlineColor=-1,s.updateExtended()):n===100?(s.fg&=-67108864,s.fg|=Ln.fg&16777215,s.bg&=-67108864,s.bg|=Ln.bg&16777215):this._logService.debug("Unknown SGR attribute: %d.",n);return!0}deviceStatus(t){switch(t.params[0]){case 5:this._coreService.triggerDataEvent(`${_e.ESC}[0n`);break;case 6:let e=this._activeBuffer.y+1,n=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${_e.ESC}[${e};${n}R`);break}return!0}deviceStatusPrivate(t){if(t.params[0]===6){let e=this._activeBuffer.y+1,n=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${_e.ESC}[?${e};${n}R`)}return!0}softReset(t){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=Ln.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(t){let e=t.length===0?1:t.params[0];if(e===0)this._coreService.decPrivateModes.cursorStyle=void 0,this._coreService.decPrivateModes.cursorBlink=void 0;else{switch(e){case 1:case 2:this._coreService.decPrivateModes.cursorStyle="block";break;case 3:case 4:this._coreService.decPrivateModes.cursorStyle="underline";break;case 5:case 6:this._coreService.decPrivateModes.cursorStyle="bar";break}let n=e%2===1;this._coreService.decPrivateModes.cursorBlink=n}return!0}setScrollRegion(t){let e=t.params[0]||1,n;return(t.length<2||(n=t.params[1])>this._bufferService.rows||n===0)&&(n=this._bufferService.rows),n>e&&(this._activeBuffer.scrollTop=e-1,this._activeBuffer.scrollBottom=n-1,this._setCursor(0,0)),!0}windowOptions(t){if(!QO(t.params[0],this._optionsService.rawOptions.windowOptions))return!0;let e=t.length>1?t.params[1]:0;switch(t.params[0]){case 14:e!==2&&this._onRequestWindowsOptionsReport.fire(0);break;case 16:this._onRequestWindowsOptionsReport.fire(1);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${_e.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:(e===0||e===2)&&(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>XO&&this._windowTitleStack.shift()),(e===0||e===1)&&(this._iconNameStack.push(this._iconName),this._iconNameStack.length>XO&&this._iconNameStack.shift());break;case 23:(e===0||e===2)&&this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),(e===0||e===1)&&this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop());break}return!0}saveCursor(t){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(t){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(t){return this._windowTitle=t,this._onTitleChange.fire(t),!0}setIconName(t){return this._iconName=t,!0}setOrReportIndexedColor(t){let e=[],n=t.split(";");for(;n.length>1;){let s=n.shift(),r=n.shift();if(/^\d+$/.exec(s)){let i=parseInt(s);if(nM(i))if(r==="?")e.push({type:0,index:i});else{let a=JO(r);a&&e.push({type:1,index:i,color:a})}}}return e.length&&this._onColor.fire(e),!0}setHyperlink(t){let e=t.indexOf(";");if(e===-1)return!0;let n=t.slice(0,e).trim(),s=t.slice(e+1);return s?this._createHyperlink(n,s):n.trim()?!1:this._finishHyperlink()}_createHyperlink(t,e){this._getCurrentLinkId()&&this._finishHyperlink();let n=t.split(":"),s,r=n.findIndex(i=>i.startsWith("id="));return r!==-1&&(s=n[r].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:s,uri:e}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(t,e){let n=t.split(";");for(let s=0;s<n.length&&!(e>=this._specialColors.length);++s,++e)if(n[s]==="?")this._onColor.fire([{type:0,index:this._specialColors[e]}]);else{let r=JO(n[s]);r&&this._onColor.fire([{type:1,index:this._specialColors[e],color:r}])}return!0}setOrReportFgColor(t){return this._setOrReportSpecialColor(t,0)}setOrReportBgColor(t){return this._setOrReportSpecialColor(t,1)}setOrReportCursorColor(t){return this._setOrReportSpecialColor(t,2)}restoreIndexedColor(t){if(!t)return this._onColor.fire([{type:2}]),!0;let e=[],n=t.split(";");for(let s=0;s<n.length;++s)if(/^\d+$/.exec(n[s])){let r=parseInt(n[s]);nM(r)&&e.push({type:2,index:r})}return e.length&&this._onColor.fire(e),!0}restoreFgColor(t){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(t){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(t){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,Rl),!0}selectCharset(t){return t.length!==2?(this.selectDefaultCharset(),!0):(t[0]==="/"||this._charsetService.setgCharset(iie[t[0]],Gn[t[1]]||Rl),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){let t=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,t,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=Ln.clone(),this._eraseAttrDataInternal=Ln.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=this._curAttrData.bg&67108863,this._eraseAttrDataInternal}setgLevel(t){return this._charsetService.setgLevel(t),!0}screenAlignmentPattern(){let t=new ri;t.content=1<<22|69,t.fg=this._curAttrData.fg,t.bg=this._curAttrData.bg,this._setCursor(0,0);for(let e=0;e<this._bufferService.rows;++e){let n=this._activeBuffer.ybase+this._activeBuffer.y+e,s=this._activeBuffer.lines.get(n);s&&(s.fill(t),s.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(t,e){let n=a=>(this._coreService.triggerDataEvent(`${_e.ESC}${a}${_e.ESC}\\`),!0),s=this._bufferService.buffer,r=this._optionsService.rawOptions;return n(t==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:t==='"p'?'P1$r61;1"p':t==="r"?`P1$r${s.scrollTop+1};${s.scrollBottom+1}r`:t==="m"?"P1$r0m":t===" q"?`P1$r${{block:2,underline:4,bar:6}[r.cursorStyle]-(r.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(t,e){this._dirtyRowTracker.markRangeDirty(t,e)}},L2=class{constructor(t){this._bufferService=t,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(t){t<this.start?this.start=t:t>this.end&&(this.end=t)}markRangeDirty(t,e){t>e&&(tM=t,t=e,e=tM),t<this.start&&(this.start=t),e>this.end&&(this.end=e)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};L2=wn([Ue(0,Vs)],L2);function nM(t){return 0<=t&&t<256}var oie=5e7,sM=12,lie=50,cie=class extends Tt{constructor(t){super(),this._action=t,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this._register(new je),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(t,e){if(e!==void 0&&this._syncCalls>e){this._syncCalls=0;return}if(this._pendingData+=t.length,this._writeBuffer.push(t),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;this._isSyncWriting=!0;let n;for(;n=this._writeBuffer.shift();){this._action(n);let s=this._callbacks.shift();s&&s()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(t,e){if(this._pendingData>oie)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput){this._didUserInput=!1,this._pendingData+=t.length,this._writeBuffer.push(t),this._callbacks.push(e),this._innerWrite();return}setTimeout(()=>this._innerWrite())}this._pendingData+=t.length,this._writeBuffer.push(t),this._callbacks.push(e)}_innerWrite(t=0,e=!0){let n=t||performance.now();for(;this._writeBuffer.length>this._bufferOffset;){let s=this._writeBuffer[this._bufferOffset],r=this._action(s,e);if(r){let a=l=>performance.now()-n>=sM?setTimeout(()=>this._innerWrite(0,l)):this._innerWrite(n,l);r.catch(l=>(queueMicrotask(()=>{throw l}),Promise.resolve(!1))).then(a);return}let i=this._callbacks[this._bufferOffset];if(i&&i(),this._bufferOffset++,this._pendingData-=s.length,performance.now()-n>=sM)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>lie&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}},B2=class{constructor(t){this._bufferService=t,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(t){let e=this._bufferService.buffer;if(t.id===void 0){let l=e.addMarker(e.ybase+e.y),u={data:t,id:this._nextId++,lines:[l]};return l.onDispose(()=>this._removeMarkerFromLink(u,l)),this._dataByLinkId.set(u.id,u),u.id}let n=t,s=this._getEntryIdKey(n),r=this._entriesWithId.get(s);if(r)return this.addLineToLink(r.id,e.ybase+e.y),r.id;let i=e.addMarker(e.ybase+e.y),a={id:this._nextId++,key:this._getEntryIdKey(n),data:n,lines:[i]};return i.onDispose(()=>this._removeMarkerFromLink(a,i)),this._entriesWithId.set(a.key,a),this._dataByLinkId.set(a.id,a),a.id}addLineToLink(t,e){let n=this._dataByLinkId.get(t);if(n&&n.lines.every(s=>s.line!==e)){let s=this._bufferService.buffer.addMarker(e);n.lines.push(s),s.onDispose(()=>this._removeMarkerFromLink(n,s))}}getLinkData(t){return this._dataByLinkId.get(t)?.data}_getEntryIdKey(t){return`${t.id};;${t.uri}`}_removeMarkerFromLink(t,e){let n=t.lines.indexOf(e);n!==-1&&(t.lines.splice(n,1),t.lines.length===0&&(t.data.id!==void 0&&this._entriesWithId.delete(t.key),this._dataByLinkId.delete(t.id)))}};B2=wn([Ue(0,Vs)],B2);var rM=!1,uie=class extends Tt{constructor(t){super(),this._windowsWrappingHeuristics=this._register(new gh),this._onBinary=this._register(new je),this.onBinary=this._onBinary.event,this._onData=this._register(new je),this.onData=this._onData.event,this._onLineFeed=this._register(new je),this.onLineFeed=this._onLineFeed.event,this._onResize=this._register(new je),this.onResize=this._onResize.event,this._onWriteParsed=this._register(new je),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this._register(new je),this._instantiationService=new Ire,this.optionsService=this._register(new Vre(t)),this._instantiationService.setService(qs,this.optionsService),this._bufferService=this._register(this._instantiationService.createInstance(M2)),this._instantiationService.setService(Vs,this._bufferService),this._logService=this._register(this._instantiationService.createInstance(O2)),this._instantiationService.setService(PL,this._logService),this.coreService=this._register(this._instantiationService.createInstance(I2)),this._instantiationService.setService(Ec,this.coreService),this.coreMouseService=this._register(this._instantiationService.createInstance(D2)),this._instantiationService.setService(DL,this.coreMouseService),this.unicodeService=this._register(this._instantiationService.createInstance(Ll)),this._instantiationService.setService(Tne,this.unicodeService),this._charsetService=this._instantiationService.createInstance(Yre),this._instantiationService.setService(Rne,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(B2),this._instantiationService.setService(LL,this._oscLinkService),this._inputHandler=this._register(new aie(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this._register(ms.forward(this._inputHandler.onLineFeed,this._onLineFeed)),this._register(this._inputHandler),this._register(ms.forward(this._bufferService.onResize,this._onResize)),this._register(ms.forward(this.coreService.onData,this._onData)),this._register(ms.forward(this.coreService.onBinary,this._onBinary)),this._register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom(!0))),this._register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this._register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this._register(this._bufferService.onScroll(()=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this._register(new cie((e,n)=>this._inputHandler.parse(e,n))),this._register(ms.forward(this._writeBuffer.onWriteParsed,this._onWriteParsed))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this._register(new je),this._onScroll.event(t=>{this._onScrollApi?.fire(t.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(t){for(let e in t)this.optionsService.options[e]=t[e]}write(t,e){this._writeBuffer.write(t,e)}writeSync(t,e){this._logService.logLevel<=3&&!rM&&(this._logService.warn("writeSync is unreliable and will be removed soon."),rM=!0),this._writeBuffer.writeSync(t,e)}input(t,e=!0){this.coreService.triggerDataEvent(t,e)}resize(t,e){isNaN(t)||isNaN(e)||(t=Math.max(t,mB),e=Math.max(e,gB),this._bufferService.resize(t,e))}scroll(t,e=!1){this._bufferService.scroll(t,e)}scrollLines(t,e){this._bufferService.scrollLines(t,e)}scrollPages(t){this.scrollLines(t*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(t){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(t){let e=t-this._bufferService.buffer.ydisp;e!==0&&this.scrollLines(e)}registerEscHandler(t,e){return this._inputHandler.registerEscHandler(t,e)}registerDcsHandler(t,e){return this._inputHandler.registerDcsHandler(t,e)}registerCsiHandler(t,e){return this._inputHandler.registerCsiHandler(t,e)}registerOscHandler(t,e){return this._inputHandler.registerOscHandler(t,e)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let t=!1,e=this.optionsService.rawOptions.windowsPty;e&&e.buildNumber!==void 0&&e.buildNumber!==void 0?t=e.backend==="conpty"&&e.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(t=!0),t?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){let t=[];t.push(this.onLineFeed(YO.bind(null,this._bufferService))),t.push(this.registerCsiHandler({final:"H"},()=>(YO(this._bufferService),!1))),this._windowsWrappingHeuristics.value=fn(()=>{for(let e of t)e.dispose()})}}},hie={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};function die(t,e,n,s){let r={type:0,cancel:!1,key:void 0},i=(t.shiftKey?1:0)|(t.altKey?2:0)|(t.ctrlKey?4:0)|(t.metaKey?8:0);switch(t.keyCode){case 0:t.key==="UIKeyInputUpArrow"?e?r.key=_e.ESC+"OA":r.key=_e.ESC+"[A":t.key==="UIKeyInputLeftArrow"?e?r.key=_e.ESC+"OD":r.key=_e.ESC+"[D":t.key==="UIKeyInputRightArrow"?e?r.key=_e.ESC+"OC":r.key=_e.ESC+"[C":t.key==="UIKeyInputDownArrow"&&(e?r.key=_e.ESC+"OB":r.key=_e.ESC+"[B");break;case 8:r.key=t.ctrlKey?"\b":_e.DEL,t.altKey&&(r.key=_e.ESC+r.key);break;case 9:if(t.shiftKey){r.key=_e.ESC+"[Z";break}r.key=_e.HT,r.cancel=!0;break;case 13:r.key=t.altKey?_e.ESC+_e.CR:_e.CR,r.cancel=!0;break;case 27:r.key=_e.ESC,t.altKey&&(r.key=_e.ESC+_e.ESC),r.cancel=!0;break;case 37:if(t.metaKey)break;i?r.key=_e.ESC+"[1;"+(i+1)+"D":e?r.key=_e.ESC+"OD":r.key=_e.ESC+"[D";break;case 39:if(t.metaKey)break;i?r.key=_e.ESC+"[1;"+(i+1)+"C":e?r.key=_e.ESC+"OC":r.key=_e.ESC+"[C";break;case 38:if(t.metaKey)break;i?r.key=_e.ESC+"[1;"+(i+1)+"A":e?r.key=_e.ESC+"OA":r.key=_e.ESC+"[A";break;case 40:if(t.metaKey)break;i?r.key=_e.ESC+"[1;"+(i+1)+"B":e?r.key=_e.ESC+"OB":r.key=_e.ESC+"[B";break;case 45:!t.shiftKey&&!t.ctrlKey&&(r.key=_e.ESC+"[2~");break;case 46:i?r.key=_e.ESC+"[3;"+(i+1)+"~":r.key=_e.ESC+"[3~";break;case 36:i?r.key=_e.ESC+"[1;"+(i+1)+"H":e?r.key=_e.ESC+"OH":r.key=_e.ESC+"[H";break;case 35:i?r.key=_e.ESC+"[1;"+(i+1)+"F":e?r.key=_e.ESC+"OF":r.key=_e.ESC+"[F";break;case 33:t.shiftKey?r.type=2:t.ctrlKey?r.key=_e.ESC+"[5;"+(i+1)+"~":r.key=_e.ESC+"[5~";break;case 34:t.shiftKey?r.type=3:t.ctrlKey?r.key=_e.ESC+"[6;"+(i+1)+"~":r.key=_e.ESC+"[6~";break;case 112:i?r.key=_e.ESC+"[1;"+(i+1)+"P":r.key=_e.ESC+"OP";break;case 113:i?r.key=_e.ESC+"[1;"+(i+1)+"Q":r.key=_e.ESC+"OQ";break;case 114:i?r.key=_e.ESC+"[1;"+(i+1)+"R":r.key=_e.ESC+"OR";break;case 115:i?r.key=_e.ESC+"[1;"+(i+1)+"S":r.key=_e.ESC+"OS";break;case 116:i?r.key=_e.ESC+"[15;"+(i+1)+"~":r.key=_e.ESC+"[15~";break;case 117:i?r.key=_e.ESC+"[17;"+(i+1)+"~":r.key=_e.ESC+"[17~";break;case 118:i?r.key=_e.ESC+"[18;"+(i+1)+"~":r.key=_e.ESC+"[18~";break;case 119:i?r.key=_e.ESC+"[19;"+(i+1)+"~":r.key=_e.ESC+"[19~";break;case 120:i?r.key=_e.ESC+"[20;"+(i+1)+"~":r.key=_e.ESC+"[20~";break;case 121:i?r.key=_e.ESC+"[21;"+(i+1)+"~":r.key=_e.ESC+"[21~";break;case 122:i?r.key=_e.ESC+"[23;"+(i+1)+"~":r.key=_e.ESC+"[23~";break;case 123:i?r.key=_e.ESC+"[24;"+(i+1)+"~":r.key=_e.ESC+"[24~";break;default:if(t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey)t.keyCode>=65&&t.keyCode<=90?r.key=String.fromCharCode(t.keyCode-64):t.keyCode===32?r.key=_e.NUL:t.keyCode>=51&&t.keyCode<=55?r.key=String.fromCharCode(t.keyCode-51+27):t.keyCode===56?r.key=_e.DEL:t.keyCode===219?r.key=_e.ESC:t.keyCode===220?r.key=_e.FS:t.keyCode===221&&(r.key=_e.GS);else if((!n||s)&&t.altKey&&!t.metaKey){let a=hie[t.keyCode]?.[t.shiftKey?1:0];if(a)r.key=_e.ESC+a;else if(t.keyCode>=65&&t.keyCode<=90){let l=t.ctrlKey?t.keyCode-64:t.keyCode+32,u=String.fromCharCode(l);t.shiftKey&&(u=u.toUpperCase()),r.key=_e.ESC+u}else if(t.keyCode===32)r.key=_e.ESC+(t.ctrlKey?_e.NUL:" ");else if(t.key==="Dead"&&t.code.startsWith("Key")){let l=t.code.slice(3,4);t.shiftKey||(l=l.toLowerCase()),r.key=_e.ESC+l,r.cancel=!0}}else n&&!t.altKey&&!t.ctrlKey&&!t.shiftKey&&t.metaKey?t.keyCode===65&&(r.type=1):t.key&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&t.keyCode>=48&&t.key.length===1?r.key=t.key:t.key&&t.ctrlKey&&(t.key==="_"&&(r.key=_e.US),t.key==="@"&&(r.key=_e.NUL));break}return r}var Nn=0,fie=class{constructor(t){this._getKey=t,this._array=[],this._insertedValues=[],this._flushInsertedTask=new fv,this._isFlushingInserted=!1,this._deletedIndices=[],this._flushDeletedTask=new fv,this._isFlushingDeleted=!1}clear(){this._array.length=0,this._insertedValues.length=0,this._flushInsertedTask.clear(),this._isFlushingInserted=!1,this._deletedIndices.length=0,this._flushDeletedTask.clear(),this._isFlushingDeleted=!1}insert(t){this._flushCleanupDeleted(),this._insertedValues.length===0&&this._flushInsertedTask.enqueue(()=>this._flushInserted()),this._insertedValues.push(t)}_flushInserted(){let t=this._insertedValues.sort((r,i)=>this._getKey(r)-this._getKey(i)),e=0,n=0,s=new Array(this._array.length+this._insertedValues.length);for(let r=0;r<s.length;r++)n>=this._array.length||this._getKey(t[e])<=this._getKey(this._array[n])?(s[r]=t[e],e++):s[r]=this._array[n++];this._array=s,this._insertedValues.length=0}_flushCleanupInserted(){!this._isFlushingInserted&&this._insertedValues.length>0&&this._flushInsertedTask.flush()}delete(t){if(this._flushCleanupInserted(),this._array.length===0)return!1;let e=this._getKey(t);if(e===void 0||(Nn=this._search(e),Nn===-1)||this._getKey(this._array[Nn])!==e)return!1;do if(this._array[Nn]===t)return this._deletedIndices.length===0&&this._flushDeletedTask.enqueue(()=>this._flushDeleted()),this._deletedIndices.push(Nn),!0;while(++Nn<this._array.length&&this._getKey(this._array[Nn])===e);return!1}_flushDeleted(){this._isFlushingDeleted=!0;let t=this._deletedIndices.sort((r,i)=>r-i),e=0,n=new Array(this._array.length-t.length),s=0;for(let r=0;r<this._array.length;r++)t[e]===r?e++:n[s++]=this._array[r];this._array=n,this._deletedIndices.length=0,this._isFlushingDeleted=!1}_flushCleanupDeleted(){!this._isFlushingDeleted&&this._deletedIndices.length>0&&this._flushDeletedTask.flush()}*getKeyIterator(t){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(Nn=this._search(t),!(Nn<0||Nn>=this._array.length)&&this._getKey(this._array[Nn])===t))do yield this._array[Nn];while(++Nn<this._array.length&&this._getKey(this._array[Nn])===t)}forEachByKey(t,e){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(Nn=this._search(t),!(Nn<0||Nn>=this._array.length)&&this._getKey(this._array[Nn])===t))do e(this._array[Nn]);while(++Nn<this._array.length&&this._getKey(this._array[Nn])===t)}values(){return this._flushCleanupInserted(),this._flushCleanupDeleted(),[...this._array].values()}_search(t){let e=0,n=this._array.length-1;for(;n>=e;){let s=e+n>>1,r=this._getKey(this._array[s]);if(r>t)n=s-1;else if(r<t)e=s+1;else{for(;s>0&&this._getKey(this._array[s-1])===t;)s--;return s}}return e}},ES=0,iM=0,pie=class extends Tt{constructor(){super(),this._decorations=new fie(t=>t?.marker.line),this._onDecorationRegistered=this._register(new je),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this._register(new je),this.onDecorationRemoved=this._onDecorationRemoved.event,this._register(fn(()=>this.reset()))}get decorations(){return this._decorations.values()}registerDecoration(t){if(t.marker.isDisposed)return;let e=new mie(t);if(e){let n=e.marker.onDispose(()=>e.dispose()),s=e.onDispose(()=>{s.dispose(),e&&(this._decorations.delete(e)&&this._onDecorationRemoved.fire(e),n.dispose())});this._decorations.insert(e),this._onDecorationRegistered.fire(e)}return e}reset(){for(let t of this._decorations.values())t.dispose();this._decorations.clear()}*getDecorationsAtCell(t,e,n){let s=0,r=0;for(let i of this._decorations.getKeyIterator(e))s=i.options.x??0,r=s+(i.options.width??1),t>=s&&t<r&&(!n||(i.options.layer??"bottom")===n)&&(yield i)}forEachDecorationAtCell(t,e,n,s){this._decorations.forEachByKey(e,r=>{ES=r.options.x??0,iM=ES+(r.options.width??1),t>=ES&&t<iM&&(!n||(r.options.layer??"bottom")===n)&&s(r)})}},mie=class extends Ko{constructor(t){super(),this.options=t,this.onRenderEmitter=this.add(new je),this.onRender=this.onRenderEmitter.event,this._onDispose=this.add(new je),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=t.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=vn.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=vn.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}},gie=1e3,yie=class{constructor(t,e=gie){this._renderCallback=t,this._debounceThresholdMS=e,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(t,e,n){this._rowCount=n,t=t!==void 0?t:0,e=e!==void 0?e:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,t):t,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,e):e;let s=performance.now();if(s-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=s,this._innerRefresh();else if(!this._additionalRefreshRequested){let r=s-this._lastRefreshMs,i=this._debounceThresholdMS-r;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=performance.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},i)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;let t=Math.max(this._rowStart,0),e=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(t,e)}},aM=20,pv=class extends Tt{constructor(t,e,n,s){super(),this._terminal=t,this._coreBrowserService=n,this._renderService=s,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="";let r=this._coreBrowserService.mainDocument;this._accessibilityContainer=r.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=r.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let i=0;i<this._terminal.rows;i++)this._rowElements[i]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[i]);if(this._topBoundaryFocusListener=i=>this._handleBoundaryFocus(i,0),this._bottomBoundaryFocusListener=i=>this._handleBoundaryFocus(i,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=r.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this._register(new yie(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this._register(this._terminal.onResize(i=>this._handleResize(i.rows))),this._register(this._terminal.onRender(i=>this._refreshRows(i.start,i.end))),this._register(this._terminal.onScroll(()=>this._refreshRows())),this._register(this._terminal.onA11yChar(i=>this._handleChar(i))),this._register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this._register(this._terminal.onA11yTab(i=>this._handleTab(i))),this._register(this._terminal.onKey(i=>this._handleKey(i.key))),this._register(this._terminal.onBlur(()=>this._clearLiveRegion())),this._register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._register(gt(r,"selectionchange",()=>this._handleSelectionChange())),this._register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRowsDimensions(),this._refreshRows(),this._register(fn(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(t){for(let e=0;e<t;e++)this._handleChar(" ")}_handleChar(t){this._liveRegionLineCount<aM+1&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==t&&(this._charsToAnnounce+=t):this._charsToAnnounce+=t,t===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===aM+1&&(this._liveRegion.textContent+=r2.get())))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(t){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(t)||this._charsToConsume.push(t)}_refreshRows(t,e){this._liveRegionDebouncer.refresh(t,e,this._terminal.rows)}_renderRows(t,e){let n=this._terminal.buffer,s=n.lines.length.toString();for(let r=t;r<=e;r++){let i=n.lines.get(n.ydisp+r),a=[],l=i?.translateToString(!0,void 0,void 0,a)||"",u=(n.ydisp+r+1).toString(),h=this._rowElements[r];h&&(l.length===0?(h.textContent="",this._rowColumns.set(h,[0,1])):(h.textContent=l,this._rowColumns.set(h,a)),h.setAttribute("aria-posinset",u),h.setAttribute("aria-setsize",s),this._alignRowWidth(h))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(t,e){let n=t.target,s=this._rowElements[e===0?1:this._rowElements.length-2],r=n.getAttribute("aria-posinset"),i=e===0?"1":`${this._terminal.buffer.lines.length}`;if(r===i||t.relatedTarget!==s)return;let a,l;if(e===0?(a=n,l=this._rowElements.pop(),this._rowContainer.removeChild(l)):(a=this._rowElements.shift(),l=n,this._rowContainer.removeChild(a)),a.removeEventListener("focus",this._topBoundaryFocusListener),l.removeEventListener("focus",this._bottomBoundaryFocusListener),e===0){let u=this._createAccessibilityTreeNode();this._rowElements.unshift(u),this._rowContainer.insertAdjacentElement("afterbegin",u)}else{let u=this._createAccessibilityTreeNode();this._rowElements.push(u),this._rowContainer.appendChild(u)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(e===0?-1:1),this._rowElements[e===0?1:this._rowElements.length-2].focus(),t.preventDefault(),t.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;let t=this._coreBrowserService.mainDocument.getSelection();if(!t)return;if(t.isCollapsed){this._rowContainer.contains(t.anchorNode)&&this._terminal.clearSelection();return}if(!t.anchorNode||!t.focusNode){console.error("anchorNode and/or focusNode are null");return}let e={node:t.anchorNode,offset:t.anchorOffset},n={node:t.focusNode,offset:t.focusOffset};if((e.node.compareDocumentPosition(n.node)&Node.DOCUMENT_POSITION_PRECEDING||e.node===n.node&&e.offset>n.offset)&&([e,n]=[n,e]),e.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(e={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(e.node))return;let s=this._rowElements.slice(-1)[0];if(n.node.compareDocumentPosition(s)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(n={node:s,offset:s.textContent?.length??0}),!this._rowContainer.contains(n.node))return;let r=({node:l,offset:u})=>{let h=l instanceof Text?l.parentNode:l,m=parseInt(h?.getAttribute("aria-posinset"),10)-1;if(isNaN(m))return console.warn("row is invalid. Race condition?"),null;let f=this._rowColumns.get(h);if(!f)return console.warn("columns is null. Race condition?"),null;let g=u<f.length?f[u]:f.slice(-1)[0]+1;return g>=this._terminal.cols&&(++m,g=0),{row:m,column:g}},i=r(e),a=r(n);if(!(!i||!a)){if(i.row>a.row||i.row===a.row&&i.column>=a.column)throw new Error("invalid range");this._terminal.select(i.column,i.row,(a.row-i.row)*this._terminal.cols-i.column+a.column)}}_handleResize(t){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let e=this._rowContainer.children.length;e<this._terminal.rows;e++)this._rowElements[e]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[e]);for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){let t=this._coreBrowserService.mainDocument.createElement("div");return t.setAttribute("role","listitem"),t.tabIndex=-1,this._refreshRowDimensions(t),t}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){Object.assign(this._accessibilityContainer.style,{width:`${this._renderService.dimensions.css.canvas.width}px`,fontSize:`${this._terminal.options.fontSize}px`}),this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let t=0;t<this._terminal.rows;t++)this._refreshRowDimensions(this._rowElements[t]),this._alignRowWidth(this._rowElements[t])}}_refreshRowDimensions(t){t.style.height=`${this._renderService.dimensions.css.cell.height}px`}_alignRowWidth(t){t.style.transform="";let e=t.getBoundingClientRect().width,n=this._rowColumns.get(t)?.slice(-1)?.[0];if(!n)return;let s=n*this._renderService.dimensions.css.cell.width;t.style.transform=`scaleX(${s/e})`}};pv=wn([Ue(1,KN),Ue(2,Ga),Ue(3,Ya)],pv);var $2=class extends Tt{constructor(t,e,n,s,r){super(),this._element=t,this._mouseService=e,this._renderService=n,this._bufferService=s,this._linkProviderService=r,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this._register(new je),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this._register(new je),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this._register(fn(()=>{mc(this._linkCacheDisposables),this._linkCacheDisposables.length=0,this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this._register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this._register(gt(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this._register(gt(this._element,"mousemove",this._handleMouseMove.bind(this))),this._register(gt(this._element,"mousedown",this._handleMouseDown.bind(this))),this._register(gt(this._element,"mouseup",this._handleMouseUp.bind(this)))}get currentLink(){return this._currentLink}_handleMouseMove(t){this._lastMouseEvent=t;let e=this._positionFromMouseEvent(t,this._element,this._mouseService);if(!e)return;this._isMouseOut=!1;let n=t.composedPath();for(let s=0;s<n.length;s++){let r=n[s];if(r.classList.contains("xterm"))break;if(r.classList.contains("xterm-hover"))return}(!this._lastBufferCell||e.x!==this._lastBufferCell.x||e.y!==this._lastBufferCell.y)&&(this._handleHover(e),this._lastBufferCell=e)}_handleHover(t){if(this._activeLine!==t.y||this._wasResized){this._clearCurrentLink(),this._askForLink(t,!1),this._wasResized=!1;return}this._currentLink&&this._linkAtPosition(this._currentLink.link,t)||(this._clearCurrentLink(),this._askForLink(t,!0))}_askForLink(t,e){(!this._activeProviderReplies||!e)&&(this._activeProviderReplies?.forEach(s=>{s?.forEach(r=>{r.link.dispose&&r.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=t.y);let n=!1;for(let[s,r]of this._linkProviderService.linkProviders.entries())e?this._activeProviderReplies?.get(s)&&(n=this._checkLinkProviderResult(s,t,n)):r.provideLinks(t.y,i=>{if(this._isMouseOut)return;let a=i?.map(l=>({link:l}));this._activeProviderReplies?.set(s,a),n=this._checkLinkProviderResult(s,t,n),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(t.y,this._activeProviderReplies)})}_removeIntersectingLinks(t,e){let n=new Set;for(let s=0;s<e.size;s++){let r=e.get(s);if(r)for(let i=0;i<r.length;i++){let a=r[i],l=a.link.range.start.y<t?0:a.link.range.start.x,u=a.link.range.end.y>t?this._bufferService.cols:a.link.range.end.x;for(let h=l;h<=u;h++){if(n.has(h)){r.splice(i--,1);break}n.add(h)}}}}_checkLinkProviderResult(t,e,n){if(!this._activeProviderReplies)return n;let s=this._activeProviderReplies.get(t),r=!1;for(let i=0;i<t;i++)(!this._activeProviderReplies.has(i)||this._activeProviderReplies.get(i))&&(r=!0);if(!r&&s){let i=s.find(a=>this._linkAtPosition(a.link,e));i&&(n=!0,this._handleNewLink(i))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!n)for(let i=0;i<this._activeProviderReplies.size;i++){let a=this._activeProviderReplies.get(i)?.find(l=>this._linkAtPosition(l.link,e));if(a){n=!0,this._handleNewLink(a);break}}return n}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(t){if(!this._currentLink)return;let e=this._positionFromMouseEvent(t,this._element,this._mouseService);e&&this._mouseDownLink&&vie(this._mouseDownLink.link,this._currentLink.link)&&this._linkAtPosition(this._currentLink.link,e)&&this._currentLink.link.activate(t,this._currentLink.link.text)}_clearCurrentLink(t,e){!this._currentLink||!this._lastMouseEvent||(!t||!e||this._currentLink.link.range.start.y>=t&&this._currentLink.link.range.end.y<=e)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,mc(this._linkCacheDisposables),this._linkCacheDisposables.length=0)}_handleNewLink(t){if(!this._lastMouseEvent)return;let e=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);e&&this._linkAtPosition(t.link,e)&&(this._currentLink=t,this._currentLink.state={decorations:{underline:t.link.decorations===void 0?!0:t.link.decorations.underline,pointerCursor:t.link.decorations===void 0?!0:t.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,t.link,this._lastMouseEvent),t.link.decorations={},Object.defineProperties(t.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:n=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==n&&(this._currentLink.state.decorations.pointerCursor=n,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",n))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:n=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==n&&(this._currentLink.state.decorations.underline=n,this._currentLink.state.isHovered&&this._fireUnderlineEvent(t.link,n))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(n=>{if(!this._currentLink)return;let s=n.start===0?0:n.start+1+this._bufferService.buffer.ydisp,r=this._bufferService.buffer.ydisp+1+n.end;if(this._currentLink.link.range.start.y>=s&&this._currentLink.link.range.end.y<=r&&(this._clearCurrentLink(s,r),this._lastMouseEvent)){let i=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);i&&this._askForLink(i,!1)}})))}_linkHover(t,e,n){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(e,!0),this._currentLink.state.decorations.pointerCursor&&t.classList.add("xterm-cursor-pointer")),e.hover&&e.hover(n,e.text)}_fireUnderlineEvent(t,e){let n=t.range,s=this._bufferService.buffer.ydisp,r=this._createLinkUnderlineEvent(n.start.x-1,n.start.y-s-1,n.end.x,n.end.y-s-1,void 0);(e?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(r)}_linkLeave(t,e,n){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(e,!1),this._currentLink.state.decorations.pointerCursor&&t.classList.remove("xterm-cursor-pointer")),e.leave&&e.leave(n,e.text)}_linkAtPosition(t,e){let n=t.range.start.y*this._bufferService.cols+t.range.start.x,s=t.range.end.y*this._bufferService.cols+t.range.end.x,r=e.y*this._bufferService.cols+e.x;return n<=r&&r<=s}_positionFromMouseEvent(t,e,n){let s=n.getCoords(t,e,this._bufferService.cols,this._bufferService.rows);if(s)return{x:s[0],y:s[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(t,e,n,s,r){return{x1:t,y1:e,x2:n,y2:s,cols:this._bufferService.cols,fg:r}}};$2=wn([Ue(1,WN),Ue(2,Ya),Ue(3,Vs),Ue(4,$L)],$2);function vie(t,e){return t.text===e.text&&t.range.start.x===e.range.start.x&&t.range.start.y===e.range.start.y&&t.range.end.x===e.range.end.x&&t.range.end.y===e.range.end.y}var bie=class extends uie{constructor(t={}){super(t),this._linkifier=this._register(new gh),this.browser=rB,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this._register(new gh),this._onCursorMove=this._register(new je),this.onCursorMove=this._onCursorMove.event,this._onKey=this._register(new je),this.onKey=this._onKey.event,this._onRender=this._register(new je),this.onRender=this._onRender.event,this._onSelectionChange=this._register(new je),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this._register(new je),this.onTitleChange=this._onTitleChange.event,this._onBell=this._register(new je),this.onBell=this._onBell.event,this._onFocus=this._register(new je),this._onBlur=this._register(new je),this._onA11yCharEmitter=this._register(new je),this._onA11yTabEmitter=this._register(new je),this._onWillOpen=this._register(new je),this._setup(),this._decorationService=this._instantiationService.createInstance(pie),this._instantiationService.setService(gm,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(lre),this._instantiationService.setService($L,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(a2)),this._register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this._register(this._inputHandler.onRequestRefreshRows(e=>this.refresh(e?.start??0,e?.end??this.rows-1))),this._register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this._register(this._inputHandler.onRequestReset(()=>this.reset())),this._register(this._inputHandler.onRequestWindowsOptionsReport(e=>this._reportWindowsOptions(e))),this._register(this._inputHandler.onColor(e=>this._handleColorEvent(e))),this._register(ms.forward(this._inputHandler.onCursorMove,this._onCursorMove)),this._register(ms.forward(this._inputHandler.onTitleChange,this._onTitleChange)),this._register(ms.forward(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this._register(ms.forward(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this._register(this._bufferService.onResize(e=>this._afterResize(e.cols,e.rows))),this._register(fn(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}get linkifier(){return this._linkifier.value}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(t){if(this._themeService)for(let e of t){let n,s="";switch(e.index){case 256:n="foreground",s="10";break;case 257:n="background",s="11";break;case 258:n="cursor",s="12";break;default:n="ansi",s="4;"+e.index}switch(e.type){case 0:let r=ln.toColorRGB(n==="ansi"?this._themeService.colors.ansi[e.index]:this._themeService.colors[n]);this.coreService.triggerDataEvent(`${_e.ESC}]${s};${rie(r)}${nB.ST}`);break;case 1:if(n==="ansi")this._themeService.modifyColors(i=>i.ansi[e.index]=Bn.toColor(...e.color));else{let i=n;this._themeService.modifyColors(a=>a[i]=Bn.toColor(...e.color))}break;case 2:this._themeService.restoreColor(e.index);break}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(t){t?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(pv,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(t){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(_e.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(_e.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;let t=this.buffer.ybase+this.buffer.y,e=this.buffer.lines.get(t);if(!e)return;let n=Math.min(this.buffer.x,this.cols-1),s=this._renderService.dimensions.css.cell.height,r=e.getWidth(n),i=this._renderService.dimensions.css.cell.width*r,a=this.buffer.y*this._renderService.dimensions.css.cell.height,l=n*this._renderService.dimensions.css.cell.width;this.textarea.style.left=l+"px",this.textarea.style.top=a+"px",this.textarea.style.width=i+"px",this.textarea.style.height=s+"px",this.textarea.style.lineHeight=s+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this._register(gt(this.element,"copy",e=>{this.hasSelection()&&wne(e,this._selectionService)}));let t=e=>kne(e,this.textarea,this.coreService,this.optionsService);this._register(gt(this.textarea,"paste",t)),this._register(gt(this.element,"paste",t)),iB?this._register(gt(this.element,"mousedown",e=>{e.button===2&&gO(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this._register(gt(this.element,"contextmenu",e=>{gO(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),tE&&this._register(gt(this.element,"auxclick",e=>{e.button===1&&TL(e,this.textarea,this.screenElement)}))}_bindKeys(){this._register(gt(this.textarea,"keyup",t=>this._keyUp(t),!0)),this._register(gt(this.textarea,"keydown",t=>this._keyDown(t),!0)),this._register(gt(this.textarea,"keypress",t=>this._keyPress(t),!0)),this._register(gt(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this._register(gt(this.textarea,"compositionupdate",t=>this._compositionHelper.compositionupdate(t))),this._register(gt(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this._register(gt(this.textarea,"input",t=>this._inputEvent(t),!0)),this._register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(t){if(!t)throw new Error("Terminal requires a parent element.");if(t.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService){this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView);return}this._document=t.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),t.appendChild(this.element);let e=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),e.appendChild(this._viewportElement),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._register(gt(this.screenElement,"mousemove",r=>this.updateCursorStyle(r))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),e.appendChild(this.screenElement);let n=this.textarea=this._document.createElement("textarea");this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",s2.get()),lB||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._register(this.optionsService.onSpecificOptionChange("disableStdin",()=>n.readOnly=this.optionsService.rawOptions.disableStdin)),this.textarea.readOnly=this.optionsService.rawOptions.disableStdin,this._coreBrowserService=this._register(this._instantiationService.createInstance(are,this.textarea,t.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(Ga,this._coreBrowserService),this._register(gt(this.textarea,"focus",r=>this._handleTextAreaFocus(r))),this._register(gt(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(E2,this._document,this._helperContainer),this._instantiationService.setService(Ub,this._charSizeService),this._themeService=this._instantiationService.createInstance(j2),this._instantiationService.setService(Bh,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(hv),this._instantiationService.setService(BL,this._characterJoinerService),this._renderService=this._register(this._instantiationService.createInstance(R2,this.rows,this.screenElement)),this._instantiationService.setService(Ya,this._renderService),this._register(this._renderService.onRenderedViewportChange(r=>this._onRender.fire(r))),this.onResize(r=>this._renderService.resize(r.cols,r.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(k2,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(A2),this._instantiationService.setService(WN,this._mouseService);let s=this._linkifier.value=this._register(this._instantiationService.createInstance($2,this.screenElement));this.element.appendChild(e);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this._register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this._register(this.onBlur(()=>this._renderService.handleBlur())),this._register(this.onFocus(()=>this._renderService.handleFocus())),this._viewport=this._register(this._instantiationService.createInstance(S2,this.element,this.screenElement)),this._register(this._viewport.onRequestScrollLines(r=>{super.scrollLines(r,!1),this.refresh(0,this.rows-1)})),this._selectionService=this._register(this._instantiationService.createInstance(T2,this.element,this.screenElement,s)),this._instantiationService.setService(One,this._selectionService),this._register(this._selectionService.onRequestScrollLines(r=>this.scrollLines(r.amount,r.suppressScrollEvent))),this._register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this._register(this._selectionService.onRequestRedraw(r=>this._renderService.handleSelectionChanged(r.start,r.end,r.columnSelectMode))),this._register(this._selectionService.onLinuxMouseSelection(r=>{this.textarea.value=r,this.textarea.focus(),this.textarea.select()})),this._register(ms.any(this._onScroll.event,this._inputHandler.onScroll)(()=>{this._selectionService.refresh(),this._viewport?.queueSync()})),this._register(this._instantiationService.createInstance(w2,this.screenElement)),this._register(gt(this.element,"mousedown",r=>this._selectionService.handleMouseDown(r))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(pv,this)),this._register(this.optionsService.onSpecificOptionChange("screenReaderMode",r=>this._handleScreenReaderModeOptionChange(r))),this.options.overviewRuler.width&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(uv,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRuler",r=>{!this._overviewRulerRenderer&&r&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(uv,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(N2,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){let t=this,e=this.element;function n(i){let a=t._mouseService.getMouseReportCoords(i,t.screenElement);if(!a)return!1;let l,u;switch(i.overrideType||i.type){case"mousemove":u=32,i.buttons===void 0?(l=3,i.button!==void 0&&(l=i.button<3?i.button:3)):l=i.buttons&1?0:i.buttons&4?1:i.buttons&2?2:3;break;case"mouseup":u=0,l=i.button<3?i.button:3;break;case"mousedown":u=1,l=i.button<3?i.button:3;break;case"wheel":if(t._customWheelEventHandler&&t._customWheelEventHandler(i)===!1)return!1;let h=i.deltaY;if(h===0||t.coreMouseService.consumeWheelEvent(i,t._renderService?.dimensions?.device?.cell?.height,t._coreBrowserService?.dpr)===0)return!1;u=h<0?0:1,l=4;break;default:return!1}return u===void 0||l===void 0||l>4?!1:t.coreMouseService.triggerMouseEvent({col:a.col,row:a.row,x:a.x,y:a.y,button:l,action:u,ctrl:i.ctrlKey,alt:i.altKey,shift:i.shiftKey})}let s={mouseup:null,wheel:null,mousedrag:null,mousemove:null},r={mouseup:i=>(n(i),i.buttons||(this._document.removeEventListener("mouseup",s.mouseup),s.mousedrag&&this._document.removeEventListener("mousemove",s.mousedrag)),this.cancel(i)),wheel:i=>(n(i),this.cancel(i,!0)),mousedrag:i=>{i.buttons&&n(i)},mousemove:i=>{i.buttons||n(i)}};this._register(this.coreMouseService.onProtocolChange(i=>{i?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(i)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),i&8?s.mousemove||(e.addEventListener("mousemove",r.mousemove),s.mousemove=r.mousemove):(e.removeEventListener("mousemove",s.mousemove),s.mousemove=null),i&16?s.wheel||(e.addEventListener("wheel",r.wheel,{passive:!1}),s.wheel=r.wheel):(e.removeEventListener("wheel",s.wheel),s.wheel=null),i&2?s.mouseup||(s.mouseup=r.mouseup):(this._document.removeEventListener("mouseup",s.mouseup),s.mouseup=null),i&4?s.mousedrag||(s.mousedrag=r.mousedrag):(this._document.removeEventListener("mousemove",s.mousedrag),s.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this._register(gt(e,"mousedown",i=>{if(i.preventDefault(),this.focus(),!(!this.coreMouseService.areMouseEventsActive||this._selectionService.shouldForceSelection(i)))return n(i),s.mouseup&&this._document.addEventListener("mouseup",s.mouseup),s.mousedrag&&this._document.addEventListener("mousemove",s.mousedrag),this.cancel(i)})),this._register(gt(e,"wheel",i=>{if(!s.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(i)===!1)return!1;if(!this.buffer.hasScrollback){if(i.deltaY===0)return!1;if(t.coreMouseService.consumeWheelEvent(i,t._renderService?.dimensions?.device?.cell?.height,t._coreBrowserService?.dpr)===0)return this.cancel(i,!0);let a=_e.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(i.deltaY<0?"A":"B");return this.coreService.triggerDataEvent(a,!0),this.cancel(i,!0)}}},{passive:!1}))}refresh(t,e){this._renderService?.refreshRows(t,e)}updateCursorStyle(t){this._selectionService?.shouldColumnSelect(t)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(t,e){this._viewport?this._viewport.scrollLines(t):super.scrollLines(t,e),this.refresh(0,this.rows-1)}scrollPages(t){this.scrollLines(t*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(t){t&&this._viewport?this._viewport.scrollToLine(this.buffer.ybase,!0):this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(t){let e=t-this._bufferService.buffer.ydisp;e!==0&&this.scrollLines(e)}paste(t){RL(t,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(t){this._customKeyEventHandler=t}attachCustomWheelEventHandler(t){this._customWheelEventHandler=t}registerLinkProvider(t){return this._linkProviderService.registerLinkProvider(t)}registerCharacterJoiner(t){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");let e=this._characterJoinerService.register(t);return this.refresh(0,this.rows-1),e}deregisterCharacterJoiner(t){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(t)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(t){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+t)}registerDecoration(t){return this._decorationService.registerDecoration(t)}hasSelection(){return this._selectionService?this._selectionService.hasSelection:!1}select(t,e,n){this._selectionService.setSelection(t,e,n)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(!(!this._selectionService||!this._selectionService.hasSelection))return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(t,e){this._selectionService?.selectLines(t,e)}_keyDown(t){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(t)===!1)return!1;let e=this.browser.isMac&&this.options.macOptionIsMeta&&t.altKey;if(!e&&!this._compositionHelper.keydown(t))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(!0),!1;!e&&(t.key==="Dead"||t.key==="AltGraph")&&(this._unprocessedDeadKey=!0);let n=die(t,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(t),n.type===3||n.type===2){let s=this.rows-1;return this.scrollLines(n.type===2?-s:s),this.cancel(t,!0)}if(n.type===1&&this.selectAll(),this._isThirdLevelShift(this.browser,t)||(n.cancel&&this.cancel(t,!0),!n.key)||t.key&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&t.key.length===1&&t.key.charCodeAt(0)>=65&&t.key.charCodeAt(0)<=90)return!0;if(this._unprocessedDeadKey)return this._unprocessedDeadKey=!1,!0;if((n.key===_e.ETX||n.key===_e.CR)&&(this.textarea.value=""),this._onKey.fire({key:n.key,domEvent:t}),this._showCursor(),this.coreService.triggerDataEvent(n.key,!0),!this.optionsService.rawOptions.screenReaderMode||t.altKey||t.ctrlKey)return this.cancel(t,!0);this._keyDownHandled=!0}_isThirdLevelShift(t,e){let n=t.isMac&&!this.options.macOptionIsMeta&&e.altKey&&!e.ctrlKey&&!e.metaKey||t.isWindows&&e.altKey&&e.ctrlKey&&!e.metaKey||t.isWindows&&e.getModifierState("AltGraph");return e.type==="keypress"?n:n&&(!e.keyCode||e.keyCode>47)}_keyUp(t){this._keyDownSeen=!1,!(this._customKeyEventHandler&&this._customKeyEventHandler(t)===!1)&&(_ie(t)||this.focus(),this.updateCursorStyle(t),this._keyPressHandled=!1)}_keyPress(t){let e;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(t)===!1)return!1;if(this.cancel(t),t.charCode)e=t.charCode;else if(t.which===null||t.which===void 0)e=t.keyCode;else if(t.which!==0&&t.charCode!==0)e=t.which;else return!1;return!e||(t.altKey||t.ctrlKey||t.metaKey)&&!this._isThirdLevelShift(this.browser,t)?!1:(e=String.fromCharCode(e),this._onKey.fire({key:e,domEvent:t}),this._showCursor(),this.coreService.triggerDataEvent(e,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,!0)}_inputEvent(t){if(t.data&&t.inputType==="insertText"&&(!t.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;let e=t.data;return this.coreService.triggerDataEvent(e,!0),this.cancel(t),!0}return!1}resize(t,e){if(t===this.cols&&e===this.rows){this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure();return}super.resize(t,e)}_afterResize(t,e){this._charSizeService?.measure()}clear(){if(!(this.buffer.ybase===0&&this.buffer.y===0)){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let t=1;t<this.rows;t++)this.buffer.lines.push(this.buffer.getBlankLine(Ln));this._onScroll.fire({position:this.buffer.ydisp}),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;let t=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this._customKeyEventHandler=t,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(_e.ESC+"[I"):this.coreService.triggerDataEvent(_e.ESC+"[O")}_reportWindowsOptions(t){if(this._renderService)switch(t){case 0:let e=this._renderService.dimensions.css.canvas.width.toFixed(0),n=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${_e.ESC}[4;${n};${e}t`);break;case 1:let s=this._renderService.dimensions.css.cell.width.toFixed(0),r=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${_e.ESC}[6;${r};${s}t`);break}}cancel(t,e){if(!(!this.options.cancelEvents&&!e))return t.preventDefault(),t.stopPropagation(),!1}};function _ie(t){return t.keyCode===16||t.keyCode===17||t.keyCode===18}var xie=class{constructor(){this._addons=[]}dispose(){for(let t=this._addons.length-1;t>=0;t--)this._addons[t].instance.dispose()}loadAddon(t,e){let n={instance:e,dispose:e.dispose,isDisposed:!1};this._addons.push(n),e.dispose=()=>this._wrappedAddonDispose(n),e.activate(t)}_wrappedAddonDispose(t){if(t.isDisposed)return;let e=-1;for(let n=0;n<this._addons.length;n++)if(this._addons[n]===t){e=n;break}if(e===-1)throw new Error("Could not dispose an addon that has not been loaded");t.isDisposed=!0,t.dispose.apply(t.instance),this._addons.splice(e,1)}},Sie=class{constructor(t){this._line=t}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(t,e){if(!(t<0||t>=this._line.length))return e?(this._line.loadCell(t,e),e):this._line.loadCell(t,new ri)}translateToString(t,e,n){return this._line.translateToString(t,e,n)}},oM=class{constructor(t,e){this._buffer=t,this.type=e}init(t){return this._buffer=t,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(t){let e=this._buffer.lines.get(t);if(e)return new Sie(e)}getNullCell(){return new ri}},wie=class extends Tt{constructor(t){super(),this._core=t,this._onBufferChange=this._register(new je),this.onBufferChange=this._onBufferChange.event,this._normal=new oM(this._core.buffers.normal,"normal"),this._alternate=new oM(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}},kie=class{constructor(t){this._core=t}registerCsiHandler(t,e){return this._core.registerCsiHandler(t,n=>e(n.toArray()))}addCsiHandler(t,e){return this.registerCsiHandler(t,e)}registerDcsHandler(t,e){return this._core.registerDcsHandler(t,(n,s)=>e(n,s.toArray()))}addDcsHandler(t,e){return this.registerDcsHandler(t,e)}registerEscHandler(t,e){return this._core.registerEscHandler(t,e)}addEscHandler(t,e){return this.registerEscHandler(t,e)}registerOscHandler(t,e){return this._core.registerOscHandler(t,e)}addOscHandler(t,e){return this.registerOscHandler(t,e)}},Cie=class{constructor(t){this._core=t}register(t){this._core.unicodeService.register(t)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(t){this._core.unicodeService.activeVersion=t}},Nie=["cols","rows"],Ii=0,Eie=class extends Tt{constructor(t){super(),this._core=this._register(new bie(t)),this._addonManager=this._register(new xie),this._publicOptions={...this._core.options};let e=s=>this._core.options[s],n=(s,r)=>{this._checkReadonlyOptions(s),this._core.options[s]=r};for(let s in this._core.options){let r={get:e.bind(this,s),set:n.bind(this,s)};Object.defineProperty(this._publicOptions,s,r)}}_checkReadonlyOptions(t){if(Nie.includes(t))throw new Error(`Option "${t}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new kie(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new Cie(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this._register(new wie(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){let t=this._core.coreService.decPrivateModes,e="none";switch(this._core.coreMouseService.activeProtocol){case"X10":e="x10";break;case"VT200":e="vt200";break;case"DRAG":e="drag";break;case"ANY":e="any";break}return{applicationCursorKeysMode:t.applicationCursorKeys,applicationKeypadMode:t.applicationKeypad,bracketedPasteMode:t.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:e,originMode:t.origin,reverseWraparoundMode:t.reverseWraparound,sendFocusMode:t.sendFocus,synchronizedOutputMode:t.synchronizedOutput,wraparoundMode:t.wraparound}}get options(){return this._publicOptions}set options(t){for(let e in t)this._publicOptions[e]=t[e]}blur(){this._core.blur()}focus(){this._core.focus()}input(t,e=!0){this._core.input(t,e)}resize(t,e){this._verifyIntegers(t,e),this._core.resize(t,e)}open(t){this._core.open(t)}attachCustomKeyEventHandler(t){this._core.attachCustomKeyEventHandler(t)}attachCustomWheelEventHandler(t){this._core.attachCustomWheelEventHandler(t)}registerLinkProvider(t){return this._core.registerLinkProvider(t)}registerCharacterJoiner(t){return this._checkProposedApi(),this._core.registerCharacterJoiner(t)}deregisterCharacterJoiner(t){this._checkProposedApi(),this._core.deregisterCharacterJoiner(t)}registerMarker(t=0){return this._verifyIntegers(t),this._core.registerMarker(t)}registerDecoration(t){return this._checkProposedApi(),this._verifyPositiveIntegers(t.x??0,t.width??0,t.height??0),this._core.registerDecoration(t)}hasSelection(){return this._core.hasSelection()}select(t,e,n){this._verifyIntegers(t,e,n),this._core.select(t,e,n)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(t,e){this._verifyIntegers(t,e),this._core.selectLines(t,e)}dispose(){super.dispose()}scrollLines(t){this._verifyIntegers(t),this._core.scrollLines(t)}scrollPages(t){this._verifyIntegers(t),this._core.scrollPages(t)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(t){this._verifyIntegers(t),this._core.scrollToLine(t)}clear(){this._core.clear()}write(t,e){this._core.write(t,e)}writeln(t,e){this._core.write(t),this._core.write(`\r
`,e)}paste(t){this._core.paste(t)}refresh(t,e){this._verifyIntegers(t,e),this._core.refresh(t,e)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(t){this._addonManager.loadAddon(this,t)}static get strings(){return{get promptLabel(){return s2.get()},set promptLabel(t){s2.set(t)},get tooMuchOutput(){return r2.get()},set tooMuchOutput(t){r2.set(t)}}}_verifyIntegers(...t){for(Ii of t)if(Ii===1/0||isNaN(Ii)||Ii%1!==0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...t){for(Ii of t)if(Ii&&(Ii===1/0||isNaN(Ii)||Ii%1!==0||Ii<0))throw new Error("This API only accepts positive integers")}};var Aie=2,Rie=1,Tie=class{activate(t){this._terminal=t}dispose(){}fit(){let t=this.proposeDimensions();if(!t||!this._terminal||isNaN(t.cols)||isNaN(t.rows))return;let e=this._terminal._core;(this._terminal.rows!==t.rows||this._terminal.cols!==t.cols)&&(e._renderService.clear(),this._terminal.resize(t.cols,t.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let t=this._terminal._core._renderService.dimensions;if(t.css.cell.width===0||t.css.cell.height===0)return;let e=this._terminal.options.scrollback===0?0:this._terminal.options.overviewRuler?.width||14,n=window.getComputedStyle(this._terminal.element.parentElement),s=parseInt(n.getPropertyValue("height")),r=Math.max(0,parseInt(n.getPropertyValue("width"))),i=window.getComputedStyle(this._terminal.element),a={top:parseInt(i.getPropertyValue("padding-top")),bottom:parseInt(i.getPropertyValue("padding-bottom")),right:parseInt(i.getPropertyValue("padding-right")),left:parseInt(i.getPropertyValue("padding-left"))},l=a.top+a.bottom,u=a.right+a.left,h=s-l,m=r-u-e;return{cols:Math.max(Aie,Math.floor(m/t.css.cell.width)),rows:Math.max(Rie,Math.floor(h/t.css.cell.height))}}};var jie=class{constructor(e,n,s,r={}){this._terminal=e,this._regex=n,this._handler=s,this._options=r}provideLinks(e,n){let s=Mie.computeLink(e,this._regex,this._terminal,this._handler);n(this._addCallbacks(s))}_addCallbacks(e){return e.map(n=>(n.leave=this._options.leave,n.hover=(s,r)=>{if(this._options.hover){let{range:i}=n;this._options.hover(s,r,i)}},n))}};function Oie(t){try{let e=new URL(t),n=e.password&&e.username?`${e.protocol}//${e.username}:${e.password}@${e.host}`:e.username?`${e.protocol}//${e.username}@${e.host}`:`${e.protocol}//${e.host}`;return t.toLocaleLowerCase().startsWith(n.toLocaleLowerCase())}catch{return!1}}var Mie=class W0{static computeLink(e,n,s,r){let i=new RegExp(n.source,(n.flags||"")+"g"),[a,l]=W0._getWindowedLineStrings(e-1,s),u=a.join(""),h,m=[];for(;h=i.exec(u);){let f=h[0];if(!Oie(f))continue;let[g,y]=W0._mapStrIdx(s,l,0,h.index),[b,_]=W0._mapStrIdx(s,g,y,f.length);if(g===-1||y===-1||b===-1||_===-1)continue;let w={start:{x:y+1,y:g+1},end:{x:_,y:b+1}};m.push({range:w,text:f,activate:r})}return m}static _getWindowedLineStrings(e,n){let s,r=e,i=e,a=0,l="",u=[];if(s=n.buffer.active.getLine(e)){let h=s.translateToString(!0);if(s.isWrapped&&h[0]!==" "){for(a=0;(s=n.buffer.active.getLine(--r))&&a<2048&&(l=s.translateToString(!0),a+=l.length,u.push(l),!(!s.isWrapped||l.indexOf(" ")!==-1)););u.reverse()}for(u.push(h),a=0;(s=n.buffer.active.getLine(++i))&&s.isWrapped&&a<2048&&(l=s.translateToString(!0),a+=l.length,u.push(l),l.indexOf(" ")===-1););}return[u,r]}static _mapStrIdx(e,n,s,r){let i=e.buffer.active,a=i.getNullCell(),l=s;for(;r;){let u=i.getLine(n);if(!u)return[-1,-1];for(let h=l;h<u.length;++h){u.getCell(h,a);let m=a.getChars();if(a.getWidth()&&(r-=m.length||1,h===u.length-1&&m==="")){let f=i.getLine(n+1);f&&f.isWrapped&&(f.getCell(0,a),a.getWidth()===2&&(r+=1))}if(r<0)return[n,h]}n++,l=0}return[n,l]}},Iie=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function Die(t,e){let n=window.open();if(n){try{n.opener=null}catch{}n.location.href=e}else console.warn("Opening link blocked as opener could not be cleared")}var Pie=class{constructor(t=Die,e={}){this._handler=t,this._options=e}activate(t){this._terminal=t;let e=this._options,n=e.urlRegex||Iie;this._linkProvider=this._terminal.registerLinkProvider(new jie(this._terminal,n,this._handler,e))}dispose(){this._linkProvider?.dispose()}};const Lie=0,Bie=1,$ie=2,zie=4,Fie=["/bin/bash","/bin/sh"];class Uie{ws=null;options;isClosing=!1;hasConnected=!1;constructor(e){this.options=e}async connect(){const e=this.options.command||Fie;for(const n of e)try{await this.tryConnect([n]),this.hasConnected=!0;return}catch{if(n===e[e.length-1])throw new Error(`No shell available (tried: ${e.join(", ")})`)}}tryConnect(e){return new Promise((n,s)=>{const{context:r,namespace:i,pod:a,container:l}=this.options,u=new URLSearchParams;u.set("container",l),u.set("stdin","true"),u.set("stdout","true"),u.set("stderr","true"),u.set("tty","true");for(const y of e)u.append("command",y);const m=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/contexts/${r}/api/v1/namespaces/${i}/pods/${a}/exec?${u.toString()}`;this.ws=new WebSocket(m,["v4.channel.k8s.io"]);let f=!1;const g=setTimeout(()=>{f||(f=!0,this.ws?.close(),s(new Error("Connection timeout")))},5e3);this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{setTimeout(()=>{!f&&this.ws?.readyState===WebSocket.OPEN&&(clearTimeout(g),f=!0,n())},200)},this.ws.onmessage=y=>{if(y.data instanceof ArrayBuffer){const b=new Uint8Array(y.data);if(b.length<1)return;const _=b[0],w=new TextDecoder().decode(b.slice(1));switch(_){case Bie:case $ie:w&&this.options.onData(w);break}}},this.ws.onerror=()=>{clearTimeout(g),f||(f=!0,s(new Error("WebSocket connection failed")))},this.ws.onclose=y=>{clearTimeout(g),f?!this.isClosing&&this.hasConnected&&this.options.onClose?.():(f=!0,s(new Error(y.reason||`Connection closed (code: ${y.code})`)))}})}send(e){if(this.ws?.readyState===WebSocket.OPEN){const s=new TextEncoder().encode(e),r=new Uint8Array(s.length+1);r[0]=Lie,r.set(s,1),this.ws.send(r)}}resize(e,n){if(this.ws?.readyState===WebSocket.OPEN){const s=JSON.stringify({Width:e,Height:n}),i=new TextEncoder().encode(s),a=new Uint8Array(i.length+1);a[0]=zie,a.set(i,1),this.ws.send(a)}}disconnect(){this.isClosing=!0,this.ws&&(this.ws.close(),this.ws=null)}get isConnected(){return this.ws?.readyState===WebSocket.OPEN}}function Hie(t){const e=[],n=t.spec,s=t.status;if(n?.containers)for(const r of n.containers){const i=s?.containerStatuses?.find(a=>a.name===r.name);e.push({name:r.name,ready:i?.ready??!1})}return e}function Vie({context:t,resource:e,toolbarRef:n}){const s=z.useRef(null),r=z.useRef(null),i=z.useRef(null),a=z.useRef(null),[l,u]=z.useState(!1),[h,m]=z.useState(!1),[f,g]=z.useState(""),[y,b]=z.useState(!1),_=e.metadata?.namespace,w=e.metadata?.name,k=Hie(e);z.useEffect(()=>{k.length>0&&!f&&g(k[0].name)},[k,f]),z.useEffect(()=>{if(!s.current||r.current)return;const N=new Eie({cursorBlink:!0,fontSize:13,fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',theme:{background:"#0a0a0a",foreground:"#e5e5e5",cursor:"#e5e5e5",cursorAccent:"#0a0a0a",selectionBackground:"#3b82f680",black:"#171717",red:"#ef4444",green:"#22c55e",yellow:"#eab308",blue:"#3b82f6",magenta:"#a855f7",cyan:"#06b6d4",white:"#e5e5e5",brightBlack:"#404040",brightRed:"#f87171",brightGreen:"#4ade80",brightYellow:"#facc15",brightBlue:"#60a5fa",brightMagenta:"#c084fc",brightCyan:"#22d3ee",brightWhite:"#ffffff"},allowProposedApi:!0}),M=new Tie,I=new Pie;N.loadAddon(M),N.loadAddon(I),N.open(s.current),M.fit(),r.current=N,i.current=M;const q=()=>{M.fit(),a.current?.isConnected&&a.current.resize(N.cols,N.rows)},B=new ResizeObserver(q);return B.observe(s.current),window.addEventListener("resize",q),()=>{B.disconnect(),window.removeEventListener("resize",q),N.dispose(),r.current=null,i.current=null}},[]);const C=z.useCallback(async()=>{if(!_||!w||!f||!r.current)return;a.current?.disconnect(),m(!0);const N=r.current;N.clear(),N.writeln(`Connecting to ${w}/${f}...`),N.writeln("");try{const M=new Uie({context:t,namespace:_,pod:w,container:f,onData:q=>{N.write(q)},onError:q=>{N.writeln(`\r
\x1B[31mError: ${q}\x1B[0m`)},onClose:()=>{u(!1),N.writeln(`\r
\x1B[33mConnection closed.\x1B[0m`)}});await M.connect(),a.current=M,u(!0);const I=i.current;I&&(I.fit(),M.resize(N.cols,N.rows)),N.onData(q=>{M.send(q)})}catch(M){const I=M instanceof Error?M.message:"Failed to connect";N.writeln(`\r
\x1B[31mFailed to connect: ${I}\x1B[0m`)}finally{m(!1)}},[t,_,w,f]),E=z.useCallback(()=>{a.current?.disconnect(),a.current=null,u(!1)},[]),A=z.useRef(!1);z.useEffect(()=>{if(f&&!A.current&&r.current){A.current=!0;const N=setTimeout(()=>{C()},100);return()=>clearTimeout(N)}},[f,C]),z.useEffect(()=>()=>{a.current?.disconnect(),a.current=null},[]);const R=N=>{g(N),b(!1),E()};return p.jsxs("div",{className:"flex flex-col h-full bg-[#0a0a0a]",children:[n&&p.jsx(zb,{toolbarRef:n,children:k.length>1&&p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>b(!y),className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors",children:[p.jsx("span",{className:"max-w-30 truncate",children:f}),p.jsx(vs,{size:12})]}),y&&p.jsx("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg shadow-lg py-1 min-w-40",children:k.map(N=>p.jsxs("button",{onClick:()=>R(N.name),className:`w-full text-left px-3 py-1.5 text-xs hover:bg-neutral-100 dark:hover:bg-neutral-700 flex items-center gap-2 ${N.name===f?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-500/10":"text-neutral-700 dark:text-neutral-300"}`,children:[p.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${N.ready?"bg-emerald-500":"bg-neutral-400"}`}),N.name]},N.name))})]})}),p.jsx("div",{ref:s,className:"flex-1 p-2",style:{minHeight:0}}),p.jsxs("div",{className:"shrink-0 px-4 py-1.5 border-t border-neutral-800 bg-neutral-900/50 flex items-center gap-3 text-xs text-neutral-500",children:[p.jsxs("span",{className:"flex items-center gap-1.5",children:[p.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${l?"bg-emerald-500":h?"bg-amber-500 animate-pulse":"bg-neutral-600"}`}),l?"Connected":h?"Connecting...":"Disconnected"]}),f&&p.jsxs("span",{className:"text-neutral-600",children:[w,"/",f]})]})]})}function qie(t){const e=Le.c(20),{metadata:n}=t,s=n.labels,r=n.annotations;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=new Set(["pod-template-hash","controller-revision-hash","pod-template-generation"]),e[0]=i):i=e[0];const a=i;let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=new Set(["kubectl.kubernetes.io/last-applied-configuration","deployment.kubernetes.io/revision","control-plane.alpha.kubernetes.io/leader","deprecated.daemonset.template.generation","kubernetes.io/description"]),e[1]=l):l=e[1];const u=l;let h;e[2]!==s?(h=s?Object.fromEntries(Object.entries(s).filter(R=>{const[N]=R;return!a.has(N)})):void 0,e[2]=s,e[3]=h):h=e[3];const m=h;let f;e[4]!==r?(f=r?Object.fromEntries(Object.entries(r).filter(R=>{const[N]=R;return!u.has(N)})):void 0,e[4]=r,e[5]=f):f=e[5];const g=f,y=[...Object.entries(m??{}).map(Yie),...Object.entries(g??{}).map(Gie)];let b;e[6]!==m?(b=m&&Object.keys(m).length>0,e[6]=m,e[7]=b):b=e[7];const _=b;let w;e[8]!==g?(w=g&&Object.keys(g).length>0,e[8]=g,e[9]=w):w=e[9];const k=w;if(y.length===0)return null;let C;e[10]!==m||e[11]!==_?(C=_&&p.jsxs(p.Fragment,{children:[p.jsx("tr",{children:p.jsx("td",{colSpan:2,className:"pb-2",children:p.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider text-neutral-500 dark:text-neutral-500",children:"Labels"})})}),Object.entries(m).map(Wie)]}),e[10]=m,e[11]=_,e[12]=C):C=e[12];let E;e[13]!==g||e[14]!==k||e[15]!==_?(E=k&&p.jsxs(p.Fragment,{children:[p.jsx("tr",{children:p.jsx("td",{colSpan:2,className:_?"pt-4 pb-2":"pb-2",children:p.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider text-neutral-500 dark:text-neutral-500",children:"Annotations"})})}),Object.entries(g).map(Kie)]}),e[13]=g,e[14]=k,e[15]=_,e[16]=E):E=e[16];let A;return e[17]!==C||e[18]!==E?(A=p.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:p.jsx("table",{className:"w-full text-xs",children:p.jsxs("tbody",{children:[C,E]})})}),e[17]=C,e[18]=E,e[19]=A):A=e[19],A}function Kie(t,e,n){const[s,r]=t;return p.jsxs("tr",{className:e<n.length-1?"border-b border-neutral-200 dark:border-neutral-700/50":"",children:[p.jsx("td",{className:"py-1.5 pr-3 text-purple-600 dark:text-purple-400 align-top whitespace-nowrap w-[1%]",children:s}),p.jsx("td",{className:"py-1.5 text-neutral-600 dark:text-neutral-300 break-all",children:r})]},`annotation-${s}`)}function Wie(t){const[e,n]=t;return p.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[p.jsx("td",{className:"py-1.5 pr-3 text-sky-600 dark:text-sky-400 align-top whitespace-nowrap w-[1%]",children:e}),p.jsx("td",{className:"py-1.5 text-emerald-600 dark:text-emerald-400 break-all",children:n})]},`label-${e}`)}function Gie(t){const[e,n]=t;return{key:e,value:n,type:"annotation"}}function Yie(t){const[e,n]=t;return{key:e,value:n,type:"label"}}function Zie(t){const e=Le.c(6),{events:n,loading:s}=t;if(s&&n.length===0){let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=p.jsxs("div",{className:"flex items-center gap-2 text-neutral-600 dark:text-neutral-500 text-sm",children:[p.jsx(Ma,{size:14,className:"animate-spin"}),"Loading events..."]}),e[0]=a):a=e[0],a}if(n.length===0){let a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a=p.jsx("div",{className:"text-neutral-600 dark:text-neutral-500 text-sm italic",children:"No events found for this resource"}),e[1]=a):a=e[1],a}let r;e[2]!==n?(r=n.map(Jie),e[2]=n,e[3]=r):r=e[3];let i;return e[4]!==r?(i=p.jsx("div",{className:"space-y-2",children:r}),e[4]=r,e[5]=i):i=e[5],i}function Jie(t){return p.jsx(Xie,{event:t},t.metadata?.uid||`${t.reason}-${t.lastTimestamp}`)}function Xie(t){const e=Le.c(36),{event:n}=t;let s;e[0]!==n.eventTime||e[1]!==n.lastTimestamp||e[2]!==n.metadata?(s=()=>n.lastTimestamp?n.lastTimestamp instanceof Date?n.lastTimestamp.toISOString():String(n.lastTimestamp):n.eventTime?String(n.eventTime):n.metadata?.creationTimestamp?n.metadata.creationTimestamp instanceof Date?n.metadata.creationTimestamp.toISOString():String(n.metadata.creationTimestamp):new Date().toISOString(),e[0]=n.eventTime,e[1]=n.lastTimestamp,e[2]=n.metadata,e[3]=s):s=e[3];const r=s;let i,a,l,u,h;if(e[4]!==n.reason||e[5]!==n.type||e[6]!==r){const _=r(),w=n.type==="Warning";h=`p-3 rounded-lg border ${w?"bg-amber-500/5 border-amber-500/20":"bg-neutral-100 dark:bg-neutral-900/50 border-neutral-300 dark:border-neutral-700/50"}`,l="flex items-start justify-between gap-2 mb-1";const k=`px-1.5 py-0.5 rounded text-xs font-medium ${w?"bg-amber-500/20 text-amber-600 dark:text-amber-400":"bg-emerald-500/20 text-emerald-600 dark:text-emerald-400"}`;let C;e[12]!==n.type||e[13]!==k?(C=p.jsx("span",{className:k,children:n.type}),e[12]=n.type,e[13]=k,e[14]=C):C=e[14];let E;e[15]!==n.reason?(E=p.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-200",children:n.reason}),e[15]=n.reason,e[16]=E):E=e[16],e[17]!==C||e[18]!==E?(u=p.jsxs("div",{className:"flex items-center gap-2",children:[C,E]}),e[17]=C,e[18]=E,e[19]=u):u=e[19],i="text-xs text-neutral-600 dark:text-neutral-500 whitespace-nowrap",a=Qie(_),e[4]=n.reason,e[5]=n.type,e[6]=r,e[7]=i,e[8]=a,e[9]=l,e[10]=u,e[11]=h}else i=e[7],a=e[8],l=e[9],u=e[10],h=e[11];let m;e[20]!==i||e[21]!==a?(m=p.jsx("span",{className:i,children:a}),e[20]=i,e[21]=a,e[22]=m):m=e[22];let f;e[23]!==l||e[24]!==u||e[25]!==m?(f=p.jsxs("div",{className:l,children:[u,m]}),e[23]=l,e[24]=u,e[25]=m,e[26]=f):f=e[26];let g;e[27]!==n.message?(g=p.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-400",children:n.message}),e[27]=n.message,e[28]=g):g=e[28];let y;e[29]!==n.count?(y=n.count&&n.count>1&&p.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-500 mt-1",children:["Occurred ",n.count," times"]}),e[29]=n.count,e[30]=y):y=e[30];let b;return e[31]!==y||e[32]!==h||e[33]!==f||e[34]!==g?(b=p.jsxs("div",{className:h,children:[f,g,y]}),e[31]=y,e[32]=h,e[33]=f,e[34]=g,e[35]=b):b=e[35],b}function Qie(t){const e=new Date(t),s=new Date().getTime()-e.getTime(),r=Math.floor(s/1e3),i=Math.floor(r/60),a=Math.floor(i/60),l=Math.floor(a/24);return l>0?`${l}d ago`:a>0?`${a}h ago`:i>0?`${i}m ago`:`${r}s ago`}function lM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=Array(e);n<e;n++)s[n]=t[n];return s}function eae(t){if(Array.isArray(t))return t}function tae(t,e,n){return(e=lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,r,i,a,l=[],u=!0,h=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==e);u=!0);}catch(m){h=!0,r=m}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(h)throw r}}return l}}function sae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function uM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(s){tae(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function rae(t,e){if(t==null)return{};var n,s,r=iae(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iae(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.indexOf(s)!==-1)continue;n[s]=t[s]}return n}function aae(t,e){return eae(t)||nae(t,e)||cae(t,e)||sae()}function oae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lae(t){var e=oae(t,"string");return typeof e=="symbol"?e:e+""}function cae(t,e){if(t){if(typeof t=="string")return lM(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lM(t,e):void 0}}function uae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function dM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(s){uae(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function hae(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){return e.reduceRight(function(r,i){return i(r)},s)}}function If(t){return function e(){for(var n=this,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return r.length>=t.length?t.apply(this,r):function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return e.apply(n,[].concat(r,l))}}}function mv(t){return{}.toString.call(t).includes("Object")}function dae(t){return!Object.keys(t).length}function Fp(t){return typeof t=="function"}function fae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pae(t,e){return mv(e)||Wo("changeType"),Object.keys(e).some(function(n){return!fae(t,n)})&&Wo("changeField"),e}function mae(t){Fp(t)||Wo("selectorType")}function gae(t){Fp(t)||mv(t)||Wo("handlerType"),mv(t)&&Object.values(t).some(function(e){return!Fp(e)})&&Wo("handlersType")}function yae(t){t||Wo("initialIsRequired"),mv(t)||Wo("initialType"),dae(t)&&Wo("initialContent")}function vae(t,e){throw new Error(t[e]||t.default)}var bae={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Wo=If(vae)(bae),f0={changes:pae,selector:mae,handler:gae,initial:yae};function _ae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f0.initial(t),f0.handler(e);var n={current:t},s=If(wae)(n,e),r=If(Sae)(n),i=If(f0.changes)(t),a=If(xae)(n);function l(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(m){return m};return f0.selector(h),h(n.current)}function u(h){hae(s,r,i,a)(h)}return[l,u]}function xae(t,e){return Fp(e)?e(t.current):e}function Sae(t,e){return t.current=dM(dM({},t.current),e),e}function wae(t,e,n){return Fp(e)?e(t.current):Object.keys(n).forEach(function(s){var r;return(r=e[s])===null||r===void 0?void 0:r.call(e,t.current[s])}),n}var kae={create:_ae},Cae={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Nae(t){return function e(){for(var n=this,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return r.length>=t.length?t.apply(this,r):function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return e.apply(n,[].concat(r,l))}}}function Eae(t){return{}.toString.call(t).includes("Object")}function Aae(t){return t||fM("configIsRequired"),Eae(t)||fM("configType"),t.urls?(Rae(),{paths:{vs:t.urls.monacoBase}}):t}function Rae(){console.warn(vB.deprecation)}function Tae(t,e){throw new Error(t[e]||t.default)}var vB={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},fM=Nae(Tae)(vB),jae={config:Aae},Oae=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(r){return n.reduceRight(function(i,a){return a(i)},r)}};function bB(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],bB(t[n],e[n]))}),uM(uM({},t),e)}var Mae={type:"cancelation",msg:"operation is manually canceled"};function AS(t){var e=!1,n=new Promise(function(s,r){t.then(function(i){return e?r(Mae):s(i)}),t.catch(r)});return n.cancel=function(){return e=!0},n}var Iae=["monaco"],Dae=kae.create({config:Cae,isInitialized:!1,resolve:null,reject:null,monaco:null}),_B=aae(Dae,2),bm=_B[0],qb=_B[1];function Pae(t){var e=jae.config(t),n=e.monaco,s=rae(e,Iae);qb(function(r){return{config:bB(r.config,s),monaco:n}})}function Lae(){var t=bm(function(e){var n=e.monaco,s=e.isInitialized,r=e.resolve;return{monaco:n,isInitialized:s,resolve:r}});if(!t.isInitialized){if(qb({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),AS(RS);if(window.monaco&&window.monaco.editor)return xB(window.monaco),t.resolve(window.monaco),AS(RS);Oae(Bae,zae)(Fae)}return AS(RS)}function Bae(t){return document.body.appendChild(t)}function $ae(t){var e=document.createElement("script");return t&&(e.src=t),e}function zae(t){var e=bm(function(s){var r=s.config,i=s.reject;return{config:r,reject:i}}),n=$ae("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Fae(){var t=bm(function(n){var s=n.config,r=n.resolve,i=n.reject;return{config:s,resolve:r,reject:i}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){var s=n.m||n;xB(s),t.resolve(s)},function(n){t.reject(n)})}function xB(t){bm().monaco||qb({monaco:t})}function Uae(){return bm(function(t){var e=t.monaco;return e})}var RS=new Promise(function(t,e){return qb({resolve:t,reject:e})}),SB={config:Pae,init:Lae,__getMonacoInstance:Uae},Hae={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},TS=Hae,Vae={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},qae=Vae;function Kae({children:t}){return Rs.createElement("div",{style:qae.container},t)}var Wae=Kae,Gae=Wae;function Yae({width:t,height:e,isEditorReady:n,loading:s,_ref:r,className:i,wrapperProps:a}){return Rs.createElement("section",{style:{...TS.wrapper,width:t,height:e},...a},!n&&Rs.createElement(Gae,null,s),Rs.createElement("div",{ref:r,style:{...TS.fullWidth,...!n&&TS.hide},className:i}))}var Zae=Yae,wB=z.memo(Zae);function Jae(t){z.useEffect(t,[])}var kB=Jae;function Xae(t,e,n=!0){let s=z.useRef(!0);z.useEffect(s.current||!n?()=>{s.current=!1}:t,e)}var Er=Xae;function rp(){}function $u(t,e,n,s){return Qae(t,s)||eoe(t,e,n,s)}function Qae(t,e){return t.editor.getModel(CB(t,e))}function eoe(t,e,n,s){return t.editor.createModel(e,n,s?CB(t,s):void 0)}function CB(t,e){return t.Uri.parse(e)}function toe({original:t,modified:e,language:n,originalLanguage:s,modifiedLanguage:r,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:u=!1,theme:h="light",loading:m="Loading...",options:f={},height:g="100%",width:y="100%",className:b,wrapperProps:_={},beforeMount:w=rp,onMount:k=rp}){let[C,E]=z.useState(!1),[A,R]=z.useState(!0),N=z.useRef(null),M=z.useRef(null),I=z.useRef(null),q=z.useRef(k),B=z.useRef(w),K=z.useRef(!1);kB(()=>{let G=SB.init();return G.then(L=>(M.current=L)&&R(!1)).catch(L=>L?.type!=="cancelation"&&console.error("Monaco initialization: error:",L)),()=>N.current?Z():G.cancel()}),Er(()=>{if(N.current&&M.current){let G=N.current.getOriginalEditor(),L=$u(M.current,t||"",s||n||"text",i||"");L!==G.getModel()&&G.setModel(L)}},[i],C),Er(()=>{if(N.current&&M.current){let G=N.current.getModifiedEditor(),L=$u(M.current,e||"",r||n||"text",a||"");L!==G.getModel()&&G.setModel(L)}},[a],C),Er(()=>{let G=N.current.getModifiedEditor();G.getOption(M.current.editor.EditorOption.readOnly)?G.setValue(e||""):e!==G.getValue()&&(G.executeEdits("",[{range:G.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),G.pushUndoStop())},[e],C),Er(()=>{N.current?.getModel()?.original.setValue(t||"")},[t],C),Er(()=>{let{original:G,modified:L}=N.current.getModel();M.current.editor.setModelLanguage(G,s||n||"text"),M.current.editor.setModelLanguage(L,r||n||"text")},[n,s,r],C),Er(()=>{M.current?.editor.setTheme(h)},[h],C),Er(()=>{N.current?.updateOptions(f)},[f],C);let $=z.useCallback(()=>{if(!M.current)return;B.current(M.current);let G=$u(M.current,t||"",s||n||"text",i||""),L=$u(M.current,e||"",r||n||"text",a||"");N.current?.setModel({original:G,modified:L})},[n,e,r,t,s,i,a]),W=z.useCallback(()=>{!K.current&&I.current&&(N.current=M.current.editor.createDiffEditor(I.current,{automaticLayout:!0,...f}),$(),M.current?.editor.setTheme(h),E(!0),K.current=!0)},[f,h,$]);z.useEffect(()=>{C&&q.current(N.current,M.current)},[C]),z.useEffect(()=>{!A&&!C&&W()},[A,C,W]);function Z(){let G=N.current?.getModel();l||G?.original?.dispose(),u||G?.modified?.dispose(),N.current?.dispose()}return Rs.createElement(wB,{width:y,height:g,isEditorReady:C,loading:m,_ref:I,className:b,wrapperProps:_})}var noe=toe;z.memo(noe);function soe(t){let e=z.useRef();return z.useEffect(()=>{e.current=t},[t]),e.current}var roe=soe,p0=new Map;function ioe({defaultValue:t,defaultLanguage:e,defaultPath:n,value:s,language:r,path:i,theme:a="light",line:l,loading:u="Loading...",options:h={},overrideServices:m={},saveViewState:f=!0,keepCurrentModel:g=!1,width:y="100%",height:b="100%",className:_,wrapperProps:w={},beforeMount:k=rp,onMount:C=rp,onChange:E,onValidate:A=rp}){let[R,N]=z.useState(!1),[M,I]=z.useState(!0),q=z.useRef(null),B=z.useRef(null),K=z.useRef(null),$=z.useRef(C),W=z.useRef(k),Z=z.useRef(),G=z.useRef(s),L=roe(i),Y=z.useRef(!1),X=z.useRef(!1);kB(()=>{let P=SB.init();return P.then(V=>(q.current=V)&&I(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>B.current?O():P.cancel()}),Er(()=>{let P=$u(q.current,t||s||"",e||r||"",i||n||"");P!==B.current?.getModel()&&(f&&p0.set(L,B.current?.saveViewState()),B.current?.setModel(P),f&&B.current?.restoreViewState(p0.get(i)))},[i],R),Er(()=>{B.current?.updateOptions(h)},[h],R),Er(()=>{!B.current||s===void 0||(B.current.getOption(q.current.editor.EditorOption.readOnly)?B.current.setValue(s):s!==B.current.getValue()&&(X.current=!0,B.current.executeEdits("",[{range:B.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),B.current.pushUndoStop(),X.current=!1))},[s],R),Er(()=>{let P=B.current?.getModel();P&&r&&q.current?.editor.setModelLanguage(P,r)},[r],R),Er(()=>{l!==void 0&&B.current?.revealLine(l)},[l],R),Er(()=>{q.current?.editor.setTheme(a)},[a],R);let U=z.useCallback(()=>{if(!(!K.current||!q.current)&&!Y.current){W.current(q.current);let P=i||n,V=$u(q.current,s||t||"",e||r||"",P||"");B.current=q.current?.editor.create(K.current,{model:V,automaticLayout:!0,...h},m),f&&B.current.restoreViewState(p0.get(P)),q.current.editor.setTheme(a),l!==void 0&&B.current.revealLine(l),N(!0),Y.current=!0}},[t,e,n,s,r,i,h,m,f,a,l]);z.useEffect(()=>{R&&$.current(B.current,q.current)},[R]),z.useEffect(()=>{!M&&!R&&U()},[M,R,U]),G.current=s,z.useEffect(()=>{R&&E&&(Z.current?.dispose(),Z.current=B.current?.onDidChangeModelContent(P=>{X.current||E(B.current.getValue(),P)}))},[R,E]),z.useEffect(()=>{if(R){let P=q.current.editor.onDidChangeMarkers(V=>{let T=B.current.getModel()?.uri;if(T&&V.find(Q=>Q.path===T.path)){let Q=q.current.editor.getModelMarkers({resource:T});A?.(Q)}});return()=>{P?.dispose()}}return()=>{}},[R,A]);function O(){Z.current?.dispose(),g?f&&p0.set(i,B.current.saveViewState()):B.current.getModel()?.dispose(),B.current.dispose()}return Rs.createElement(wB,{width:y,height:b,isEditorReady:R,loading:u,_ref:K,className:_,wrapperProps:w})}var aoe=ioe,ooe=z.memo(aoe),loe=ooe;const nE=Symbol.for("yaml.alias"),z2=Symbol.for("yaml.document"),Go=Symbol.for("yaml.map"),NB=Symbol.for("yaml.pair"),Yi=Symbol.for("yaml.scalar"),zh=Symbol.for("yaml.seq"),oi=Symbol.for("yaml.node.type"),Ac=t=>!!t&&typeof t=="object"&&t[oi]===nE,_m=t=>!!t&&typeof t=="object"&&t[oi]===z2,xm=t=>!!t&&typeof t=="object"&&t[oi]===Go,Tn=t=>!!t&&typeof t=="object"&&t[oi]===NB,rn=t=>!!t&&typeof t=="object"&&t[oi]===Yi,Sm=t=>!!t&&typeof t=="object"&&t[oi]===zh;function En(t){if(t&&typeof t=="object")switch(t[oi]){case Go:case zh:return!0}return!1}function Rn(t){if(t&&typeof t=="object")switch(t[oi]){case nE:case Go:case Yi:case zh:return!0}return!1}const EB=t=>(rn(t)||En(t))&&!!t.anchor,Tl=Symbol("break visit"),coe=Symbol("skip children"),ip=Symbol("remove node");function Fh(t,e){const n=uoe(e);_m(t)?zu(null,t.contents,n,Object.freeze([t]))===ip&&(t.contents=null):zu(null,t,n,Object.freeze([]))}Fh.BREAK=Tl;Fh.SKIP=coe;Fh.REMOVE=ip;function zu(t,e,n,s){const r=hoe(t,e,n,s);if(Rn(r)||Tn(r))return doe(t,s,r),zu(t,r,n,s);if(typeof r!="symbol"){if(En(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const a=zu(i,e.items[i],n,s);if(typeof a=="number")i=a-1;else{if(a===Tl)return Tl;a===ip&&(e.items.splice(i,1),i-=1)}}}else if(Tn(e)){s=Object.freeze(s.concat(e));const i=zu("key",e.key,n,s);if(i===Tl)return Tl;i===ip&&(e.key=null);const a=zu("value",e.value,n,s);if(a===Tl)return Tl;a===ip&&(e.value=null)}}return r}function uoe(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function hoe(t,e,n,s){if(typeof n=="function")return n(t,e,s);if(xm(e))return n.Map?.(t,e,s);if(Sm(e))return n.Seq?.(t,e,s);if(Tn(e))return n.Pair?.(t,e,s);if(rn(e))return n.Scalar?.(t,e,s);if(Ac(e))return n.Alias?.(t,e,s)}function doe(t,e,n){const s=e[e.length-1];if(En(s))s.items[t]=n;else if(Tn(s))t==="key"?s.key=n:s.value=n;else if(_m(s))s.contents=n;else{const r=Ac(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}const foe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},poe=t=>t.replace(/[!,[\]{}]/g,e=>foe[e]);class Ls{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Ls.defaultYaml,e),this.tags=Object.assign({},Ls.defaultTags,n)}clone(){const e=new Ls(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Ls(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Ls.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Ls.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:Ls.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Ls.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),r=s.shift();switch(r){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[i,a]=s;return this.tags[i]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=s;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const a=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,a),!1}}default:return n(0,`Unknown directive ${r}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const a=e.slice(2,-1);return a==="!"||a==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),a)}const[,s,r]=e.match(/^(.*!)([^!]*)$/s);r||n(`The ${e} tag has no suffix`);const i=this.tags[s];if(i)try{return i+decodeURIComponent(r)}catch(a){return n(String(a)),null}return s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+poe(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let r;if(e&&s.length>0&&Rn(e.contents)){const i={};Fh(e.contents,(a,l)=>{Rn(l)&&l.tag&&(i[l.tag]=!0)}),r=Object.keys(i)}else r=[];for(const[i,a]of s)i==="!!"&&a==="tag:yaml.org,2002:"||(!e||r.some(l=>l.startsWith(a)))&&n.push(`%TAG ${i} ${a}`);return n.join(`
`)}}Ls.defaultYaml={explicit:!1,version:"1.2"};Ls.defaultTags={"!!":"tag:yaml.org,2002:"};function AB(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function RB(t){const e=new Set;return Fh(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function TB(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function moe(t,e){const n=[],s=new Map;let r=null;return{onAnchor:i=>{n.push(i),r??(r=RB(t));const a=TB(e,r);return r.add(a),a},setAnchors:()=>{for(const i of n){const a=s.get(i);if(typeof a=="object"&&a.anchor&&(rn(a.node)||En(a.node)))a.node.anchor=a.anchor;else{const l=new Error("Failed to resolve repeated object (this should not happen)");throw l.source=i,l}}},sourceObjects:s}}function Fu(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let r=0,i=s.length;r<i;++r){const a=s[r],l=Fu(t,s,String(r),a);l===void 0?delete s[r]:l!==a&&(s[r]=l)}else if(s instanceof Map)for(const r of Array.from(s.keys())){const i=s.get(r),a=Fu(t,s,r,i);a===void 0?s.delete(r):a!==i&&s.set(r,a)}else if(s instanceof Set)for(const r of Array.from(s)){const i=Fu(t,s,r,r);i===void 0?s.delete(r):i!==r&&(s.delete(r),s.add(i))}else for(const[r,i]of Object.entries(s)){const a=Fu(t,s,r,i);a===void 0?delete s[r]:a!==i&&(s[r]=a)}return t.call(e,n,s)}function ii(t,e,n){if(Array.isArray(t))return t.map((s,r)=>ii(s,String(r),n));if(t&&typeof t.toJSON=="function"){if(!n||!EB(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=i=>{s.res=i,delete n.onCreate};const r=t.toJSON(e,n);return n.onCreate&&n.onCreate(r),r}return typeof t=="bigint"&&!n?.keep?Number(t):t}class sE{constructor(e){Object.defineProperty(this,oi,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:i}={}){if(!_m(e))throw new TypeError("A document argument is required");const a={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=ii(this,"",a);if(typeof r=="function")for(const{count:u,res:h}of a.anchors.values())r(h,u);return typeof i=="function"?Fu(i,{"":l},"",l):l}}class rE extends sE{constructor(e){super(nE),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let s;n?.aliasResolveCache?s=n.aliasResolveCache:(s=[],Fh(e,{Node:(i,a)=>{(Ac(a)||EB(a))&&s.push(a)}}),n&&(n.aliasResolveCache=s));let r;for(const i of s){if(i===this)break;i.anchor===this.source&&(r=i)}return r}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:r,maxAliasCount:i}=n,a=this.resolve(r,n);if(!a){const u=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(u)}let l=s.get(a);if(l||(ii(a,null,n),l=s.get(a)),l?.res===void 0){const u="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(u)}if(i>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=G0(r,a,s)),l.count*l.aliasCount>i)){const u="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(u)}return l.res}toString(e,n,s){const r=`*${this.source}`;if(e){if(AB(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${r} `}return r}}function G0(t,e,n){if(Ac(e)){const s=e.resolve(t),r=n&&s&&n.get(s);return r?r.count*r.aliasCount:0}else if(En(e)){let s=0;for(const r of e.items){const i=G0(t,r,n);i>s&&(s=i)}return s}else if(Tn(e)){const s=G0(t,e.key,n),r=G0(t,e.value,n);return Math.max(s,r)}return 1}const jB=t=>!t||typeof t!="function"&&typeof t!="object";class xt extends sE{constructor(e){super(Yi),this.value=e}toJSON(e,n){return n?.keep?this.value:ii(this.value,e,n)}toString(){return String(this.value)}}xt.BLOCK_FOLDED="BLOCK_FOLDED";xt.BLOCK_LITERAL="BLOCK_LITERAL";xt.PLAIN="PLAIN";xt.QUOTE_DOUBLE="QUOTE_DOUBLE";xt.QUOTE_SINGLE="QUOTE_SINGLE";const goe="tag:yaml.org,2002:";function yoe(t,e,n){if(e){const s=n.filter(i=>i.tag===e),r=s.find(i=>!i.format)??s[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return n.find(s=>s.identify?.(t)&&!s.format)}function Up(t,e,n){if(_m(t)&&(t=t.contents),Rn(t))return t;if(Tn(t)){const f=n.schema[Go].createNode?.(n.schema,null,n);return f.items.push(t),f}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:i,schema:a,sourceObjects:l}=n;let u;if(s&&t&&typeof t=="object"){if(u=l.get(t),u)return u.anchor??(u.anchor=r(t)),new rE(u.anchor);u={anchor:null,node:null},l.set(t,u)}e?.startsWith("!!")&&(e=goe+e.slice(2));let h=yoe(t,e,a.tags);if(!h){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const f=new xt(t);return u&&(u.node=f),f}h=t instanceof Map?a[Go]:Symbol.iterator in Object(t)?a[zh]:a[Go]}i&&(i(h),delete n.onTagObj);const m=h?.createNode?h.createNode(n.schema,t,n):typeof h?.nodeClass?.from=="function"?h.nodeClass.from(n.schema,t,n):new xt(t);return e?m.tag=e:h.default||(m.tag=h.tag),u&&(u.node=m),m}function gv(t,e,n){let s=n;for(let r=e.length-1;r>=0;--r){const i=e[r];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const a=[];a[i]=s,s=a}else s=new Map([[i,s]])}return Up(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const Df=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class OB extends sE{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>Rn(s)||Tn(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Df(e))this.add(n);else{const[s,...r]=e,i=this.get(s,!0);if(En(i))i.addIn(r,n);else if(i===void 0&&this.schema)this.set(s,gv(this.schema,r,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const r=this.get(n,!0);if(En(r))return r.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...r]=e,i=this.get(s,!0);return r.length===0?!n&&rn(i)?i.value:i:En(i)?i.getIn(r,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Tn(n))return!1;const s=n.value;return s==null||e&&rn(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const r=this.get(n,!0);return En(r)?r.hasIn(s):!1}setIn(e,n){const[s,...r]=e;if(r.length===0)this.set(s,n);else{const i=this.get(s,!0);if(En(i))i.setIn(r,n);else if(i===void 0&&this.schema)this.set(s,gv(this.schema,r,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}}const voe=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Oa(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Bl=(t,e,n)=>t.endsWith(`
`)?Oa(n,e):n.includes(`
`)?`
`+Oa(n,e):(t.endsWith(" ")?"":" ")+n,MB="flow",F2="block",Y0="quoted";function Kb(t,e,n="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:i=20,onFold:a,onOverflow:l}={}){if(!r||r<0)return t;r<i&&(i=0);const u=Math.max(1+i,1+r-e.length);if(t.length<=u)return t;const h=[],m={};let f=r-e.length;typeof s=="number"&&(s>r-Math.max(2,i)?h.push(0):f=r-s);let g,y,b=!1,_=-1,w=-1,k=-1;n===F2&&(_=pM(t,_,e.length),_!==-1&&(f=_+u));for(let E;E=t[_+=1];){if(n===Y0&&E==="\\"){switch(w=_,t[_+1]){case"x":_+=3;break;case"u":_+=5;break;case"U":_+=9;break;default:_+=1}k=_}if(E===`
`)n===F2&&(_=pM(t,_,e.length)),f=_+e.length+u,g=void 0;else{if(E===" "&&y&&y!==" "&&y!==`
`&&y!=="	"){const A=t[_+1];A&&A!==" "&&A!==`
`&&A!=="	"&&(g=_)}if(_>=f)if(g)h.push(g),f=g+u,g=void 0;else if(n===Y0){for(;y===" "||y==="	";)y=E,E=t[_+=1],b=!0;const A=_>k+1?_-2:w-1;if(m[A])return t;h.push(A),m[A]=!0,f=A+u,g=void 0}else b=!0}y=E}if(b&&l&&l(),h.length===0)return t;a&&a();let C=t.slice(0,h[0]);for(let E=0;E<h.length;++E){const A=h[E],R=h[E+1]||t.length;A===0?C=`
${e}${t.slice(0,R)}`:(n===Y0&&m[A]&&(C+=`${t[A]}\\`),C+=`
${e}${t.slice(A+1,R)}`)}return C}function pM(t,e,n){let s=e,r=e+1,i=t[r];for(;i===" "||i==="	";)if(e<r+n)i=t[++e];else{do i=t[++e];while(i&&i!==`
`);s=e,r=e+1,i=t[r]}return s}const Wb=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Gb=t=>/^(%|---|\.\.\.)/m.test(t);function boe(t,e,n){if(!e||e<0)return!1;const s=e-n,r=t.length;if(r<=s)return!1;for(let i=0,a=0;i<r;++i)if(t[i]===`
`){if(i-a>s)return!0;if(a=i+1,r-a<=s)return!1}return!0}function ap(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,r=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(Gb(t)?"  ":"");let a="",l=0;for(let u=0,h=n[u];h;h=n[++u])if(h===" "&&n[u+1]==="\\"&&n[u+2]==="n"&&(a+=n.slice(l,u)+"\\ ",u+=1,l=u,h="\\"),h==="\\")switch(n[u+1]){case"u":{a+=n.slice(l,u);const m=n.substr(u+2,4);switch(m){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:m.substr(0,2)==="00"?a+="\\x"+m.substr(2):a+=n.substr(u,6)}u+=5,l=u+1}break;case"n":if(s||n[u+2]==='"'||n.length<r)u+=1;else{for(a+=n.slice(l,u)+`

`;n[u+2]==="\\"&&n[u+3]==="n"&&n[u+4]!=='"';)a+=`
`,u+=2;a+=i,n[u+2]===" "&&(a+="\\"),u+=1,l=u+1}break;default:u+=1}return a=l?a+n.slice(l):n,s?a:Kb(a,i,Y0,Wb(e,!1))}function U2(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return ap(t,e);const n=e.indent||(Gb(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:Kb(s,n,MB,Wb(e,!1))}function Uu(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=ap;else{const r=t.includes('"'),i=t.includes("'");r&&!i?s=U2:i&&!r?s=ap:s=n?U2:ap}return s(t,e)}let H2;try{H2=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{H2=/\n+(?!\n|$)/g}function Z0({comment:t,type:e,value:n},s,r,i){const{blockQuote:a,commentString:l,lineWidth:u}=s.options;if(!a||/\n[\t ]+$/.test(n))return Uu(n,s);const h=s.indent||(s.forceBlockIndent||Gb(n)?"  ":""),m=a==="literal"?!0:a==="folded"||e===xt.BLOCK_FOLDED?!1:e===xt.BLOCK_LITERAL?!0:!boe(n,u,h.length);if(!n)return m?`|
`:`>
`;let f,g;for(g=n.length;g>0;--g){const R=n[g-1];if(R!==`
`&&R!=="	"&&R!==" ")break}let y=n.substring(g);const b=y.indexOf(`
`);b===-1?f="-":n===y||b!==y.length-1?(f="+",i&&i()):f="",y&&(n=n.slice(0,-y.length),y[y.length-1]===`
`&&(y=y.slice(0,-1)),y=y.replace(H2,`$&${h}`));let _=!1,w,k=-1;for(w=0;w<n.length;++w){const R=n[w];if(R===" ")_=!0;else if(R===`
`)k=w;else break}let C=n.substring(0,k<w?k+1:w);C&&(n=n.substring(C.length),C=C.replace(/\n+/g,`$&${h}`));let A=(_?h?"2":"1":"")+f;if(t&&(A+=" "+l(t.replace(/ ?[\r\n]+/g," ")),r&&r()),!m){const R=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`);let N=!1;const M=Wb(s,!0);a!=="folded"&&e!==xt.BLOCK_FOLDED&&(M.onOverflow=()=>{N=!0});const I=Kb(`${C}${R}${y}`,h,F2,M);if(!N)return`>${A}
${h}${I}`}return n=n.replace(/\n+/g,`$&${h}`),`|${A}
${h}${C}${n}${y}`}function _oe(t,e,n,s){const{type:r,value:i}=t,{actualString:a,implicitKey:l,indent:u,indentStep:h,inFlow:m}=e;if(l&&i.includes(`
`)||m&&/[[\]{},]/.test(i))return Uu(i,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return l||m||!i.includes(`
`)?Uu(i,e):Z0(t,e,n,s);if(!l&&!m&&r!==xt.PLAIN&&i.includes(`
`))return Z0(t,e,n,s);if(Gb(i)){if(u==="")return e.forceBlockIndent=!0,Z0(t,e,n,s);if(l&&u===h)return Uu(i,e)}const f=i.replace(/\n+/g,`$&
${u}`);if(a){const g=_=>_.default&&_.tag!=="tag:yaml.org,2002:str"&&_.test?.test(f),{compat:y,tags:b}=e.doc.schema;if(b.some(g)||y?.some(g))return Uu(i,e)}return l?f:Kb(f,u,MB,Wb(e,!1))}function iE(t,e,n,s){const{implicitKey:r,inFlow:i}=e,a=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:l}=t;l!==xt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(l=xt.QUOTE_DOUBLE);const u=m=>{switch(m){case xt.BLOCK_FOLDED:case xt.BLOCK_LITERAL:return r||i?Uu(a.value,e):Z0(a,e,n,s);case xt.QUOTE_DOUBLE:return ap(a.value,e);case xt.QUOTE_SINGLE:return U2(a.value,e);case xt.PLAIN:return _oe(a,e,n,s);default:return null}};let h=u(l);if(h===null){const{defaultKeyType:m,defaultStringType:f}=e.options,g=r&&m||f;if(h=u(g),h===null)throw new Error(`Unsupported default string type ${g}`)}return h}function IB(t,e){const n=Object.assign({blockQuote:!0,commentString:voe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function xoe(t,e){if(e.tag){const r=t.filter(i=>i.tag===e.tag);if(r.length>0)return r.find(i=>i.format===e.format)??r[0]}let n,s;if(rn(e)){s=e.value;let r=t.filter(i=>i.identify?.(s));if(r.length>1){const i=r.filter(a=>a.test);i.length>0&&(r=i)}n=r.find(i=>i.format===e.format)??r.find(i=>!i.format)}else s=e,n=t.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!n){const r=s?.constructor?.name??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${r} value`)}return n}function Soe(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const r=[],i=(rn(t)||En(t))&&t.anchor;i&&AB(i)&&(n.add(i),r.push(`&${i}`));const a=t.tag??(e.default?null:e.tag);return a&&r.push(s.directives.tagString(a)),r.join(" ")}function yh(t,e,n,s){if(Tn(t))return t.toString(e,n,s);if(Ac(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r;const i=Rn(t)?t:e.doc.createNode(t,{onTagObj:u=>r=u});r??(r=xoe(e.doc.schema.tags,i));const a=Soe(i,r,e);a.length>0&&(e.indentAtStart=(e.indentAtStart??0)+a.length+1);const l=typeof r.stringify=="function"?r.stringify(i,e,n,s):rn(i)?iE(i,e,n,s):i.toString(e,n,s);return a?rn(i)||l[0]==="{"||l[0]==="["?`${a} ${l}`:`${a}
${e.indent}${l}`:l}function woe({key:t,value:e},n,s,r){const{allNullValues:i,doc:a,indent:l,indentStep:u,options:{commentString:h,indentSeq:m,simpleKeys:f}}=n;let g=Rn(t)&&t.comment||null;if(f){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(En(t)||!Rn(t)&&typeof t=="object"){const M="With simple keys, collection cannot be used as a key value";throw new Error(M)}}let y=!f&&(!t||g&&e==null&&!n.inFlow||En(t)||(rn(t)?t.type===xt.BLOCK_FOLDED||t.type===xt.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!y&&(f||!i),indent:l+u});let b=!1,_=!1,w=yh(t,n,()=>b=!0,()=>_=!0);if(!y&&!n.inFlow&&w.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");y=!0}if(n.inFlow){if(i||e==null)return b&&s&&s(),w===""?"?":y?`? ${w}`:w}else if(i&&!f||e==null&&y)return w=`? ${w}`,g&&!b?w+=Bl(w,n.indent,h(g)):_&&r&&r(),w;b&&(g=null),y?(g&&(w+=Bl(w,n.indent,h(g))),w=`? ${w}
${l}:`):(w=`${w}:`,g&&(w+=Bl(w,n.indent,h(g))));let k,C,E;Rn(e)?(k=!!e.spaceBefore,C=e.commentBefore,E=e.comment):(k=!1,C=null,E=null,e&&typeof e=="object"&&(e=a.createNode(e))),n.implicitKey=!1,!y&&!g&&rn(e)&&(n.indentAtStart=w.length+1),_=!1,!m&&u.length>=2&&!n.inFlow&&!y&&Sm(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let A=!1;const R=yh(e,n,()=>A=!0,()=>_=!0);let N=" ";if(g||k||C){if(N=k?`
`:"",C){const M=h(C);N+=`
${Oa(M,n.indent)}`}R===""&&!n.inFlow?N===`
`&&E&&(N=`

`):N+=`
${n.indent}`}else if(!y&&En(e)){const M=R[0],I=R.indexOf(`
`),q=I!==-1,B=n.inFlow??e.flow??e.items.length===0;if(q||!B){let K=!1;if(q&&(M==="&"||M==="!")){let $=R.indexOf(" ");M==="&"&&$!==-1&&$<I&&R[$+1]==="!"&&($=R.indexOf(" ",$+1)),($===-1||I<$)&&(K=!0)}K||(N=`
${n.indent}`)}}else(R===""||R[0]===`
`)&&(N="");return w+=N+R,n.inFlow?A&&s&&s():E&&!A?w+=Bl(w,n.indent,h(E)):_&&r&&r(),w}function DB(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const m0="<<",Ia={identify:t=>t===m0||typeof t=="symbol"&&t.description===m0,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new xt(Symbol(m0)),{addToJSMap:PB}),stringify:()=>m0},koe=(t,e)=>(Ia.identify(e)||rn(e)&&(!e.type||e.type===xt.PLAIN)&&Ia.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===Ia.tag&&n.default);function PB(t,e,n){if(n=t&&Ac(n)?n.resolve(t.doc):n,Sm(n))for(const s of n.items)jS(t,e,s);else if(Array.isArray(n))for(const s of n)jS(t,e,s);else jS(t,e,n)}function jS(t,e,n){const s=t&&Ac(n)?n.resolve(t.doc):n;if(!xm(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,t,Map);for(const[i,a]of r)e instanceof Map?e.has(i)||e.set(i,a):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}function LB(t,e,{key:n,value:s}){if(Rn(n)&&n.addToJSMap)n.addToJSMap(t,e,s);else if(koe(t,n))PB(t,e,s);else{const r=ii(n,"",t);if(e instanceof Map)e.set(r,ii(s,r,t));else if(e instanceof Set)e.add(r);else{const i=Coe(n,r,t),a=ii(s,i,t);i in e?Object.defineProperty(e,i,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[i]=a}}return e}function Coe(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(Rn(t)&&n?.doc){const s=IB(n.doc,{});s.anchors=new Set;for(const i of n.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const r=t.toString(s);if(!n.mapKeyWarned){let i=JSON.stringify(r);i.length>40&&(i=i.substring(0,36)+'..."'),DB(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(e)}function aE(t,e,n){const s=Up(t,void 0,n),r=Up(e,void 0,n);return new Fs(s,r)}class Fs{constructor(e,n=null){Object.defineProperty(this,oi,{value:NB}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return Rn(n)&&(n=n.clone(e)),Rn(s)&&(s=s.clone(e)),new Fs(n,s)}toJSON(e,n){const s=n?.mapAsMap?new Map:{};return LB(n,s,this)}toString(e,n,s){return e?.doc?woe(this,e,n,s):JSON.stringify(this)}}function BB(t,e,n){return(e.inFlow??t.flow?Eoe:Noe)(t,e,n)}function Noe({comment:t,items:e},n,{blockItemPrefix:s,flowChars:r,itemIndent:i,onChompKeep:a,onComment:l}){const{indent:u,options:{commentString:h}}=n,m=Object.assign({},n,{indent:i,type:null});let f=!1;const g=[];for(let b=0;b<e.length;++b){const _=e[b];let w=null;if(Rn(_))!f&&_.spaceBefore&&g.push(""),yv(n,g,_.commentBefore,f),_.comment&&(w=_.comment);else if(Tn(_)){const C=Rn(_.key)?_.key:null;C&&(!f&&C.spaceBefore&&g.push(""),yv(n,g,C.commentBefore,f))}f=!1;let k=yh(_,m,()=>w=null,()=>f=!0);w&&(k+=Bl(k,i,h(w))),f&&w&&(f=!1),g.push(s+k)}let y;if(g.length===0)y=r.start+r.end;else{y=g[0];for(let b=1;b<g.length;++b){const _=g[b];y+=_?`
${u}${_}`:`
`}}return t?(y+=`
`+Oa(h(t),u),l&&l()):f&&a&&a(),y}function Eoe({items:t},e,{flowChars:n,itemIndent:s}){const{indent:r,indentStep:i,flowCollectionPadding:a,options:{commentString:l}}=e;s+=i;const u=Object.assign({},e,{indent:s,inFlow:!0,type:null});let h=!1,m=0;const f=[];for(let b=0;b<t.length;++b){const _=t[b];let w=null;if(Rn(_))_.spaceBefore&&f.push(""),yv(e,f,_.commentBefore,!1),_.comment&&(w=_.comment);else if(Tn(_)){const C=Rn(_.key)?_.key:null;C&&(C.spaceBefore&&f.push(""),yv(e,f,C.commentBefore,!1),C.comment&&(h=!0));const E=Rn(_.value)?_.value:null;E?(E.comment&&(w=E.comment),E.commentBefore&&(h=!0)):_.value==null&&C?.comment&&(w=C.comment)}w&&(h=!0);let k=yh(_,u,()=>w=null);b<t.length-1&&(k+=","),w&&(k+=Bl(k,s,l(w))),!h&&(f.length>m||k.includes(`
`))&&(h=!0),f.push(k),m=f.length}const{start:g,end:y}=n;if(f.length===0)return g+y;if(!h){const b=f.reduce((_,w)=>_+w.length+2,2);h=e.options.lineWidth>0&&b>e.options.lineWidth}if(h){let b=g;for(const _ of f)b+=_?`
${i}${r}${_}`:`
`;return`${b}
${r}${y}`}else return`${g}${a}${f.join(" ")}${a}${y}`}function yv({indent:t,options:{commentString:e}},n,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const i=Oa(e(s),t);n.push(i.trimStart())}}function $l(t,e){const n=rn(e)?e.value:e;for(const s of t)if(Tn(s)&&(s.key===e||s.key===n||rn(s.key)&&s.key.value===n))return s}class Qr extends OB{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Go,e),this.items=[]}static from(e,n,s){const{keepUndefined:r,replacer:i}=s,a=new this(e),l=(u,h)=>{if(typeof i=="function")h=i.call(n,u,h);else if(Array.isArray(i)&&!i.includes(u))return;(h!==void 0||r)&&a.items.push(aE(u,h,s))};if(n instanceof Map)for(const[u,h]of n)l(u,h);else if(n&&typeof n=="object")for(const u of Object.keys(n))l(u,n[u]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}add(e,n){let s;Tn(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Fs(e,e?.value):s=new Fs(e.key,e.value);const r=$l(this.items,s.key),i=this.schema?.sortMapEntries;if(r){if(!n)throw new Error(`Key ${s.key} already set`);rn(r.value)&&jB(s.value)?r.value.value=s.value:r.value=s.value}else if(i){const a=this.items.findIndex(l=>i(s,l)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const n=$l(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const r=$l(this.items,e)?.value;return(!n&&rn(r)?r.value:r)??void 0}has(e){return!!$l(this.items,e)}set(e,n){this.add(new Fs(e,n),!0)}toJSON(e,n,s){const r=s?new s:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(r);for(const i of this.items)LB(n,r,i);return r}toString(e,n,s){if(!e)return JSON.stringify(this);for(const r of this.items)if(!Tn(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),BB(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}const Uh={collection:"map",default:!0,nodeClass:Qr,tag:"tag:yaml.org,2002:map",resolve(t,e){return xm(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>Qr.from(t,e,n)};class yc extends OB{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(zh,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=g0(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=g0(e);if(typeof s!="number")return;const r=this.items[s];return!n&&rn(r)?r.value:r}has(e){const n=g0(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=g0(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[s];rn(r)&&jB(n)?r.value=n:this.items[s]=n}toJSON(e,n){const s=[];n?.onCreate&&n.onCreate(s);let r=0;for(const i of this.items)s.push(ii(i,String(r++),n));return s}toString(e,n,s){return e?BB(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:r}=s,i=new this(e);if(n&&Symbol.iterator in Object(n)){let a=0;for(let l of n){if(typeof r=="function"){const u=n instanceof Set?l:String(a++);l=r.call(n,u,l)}i.items.push(Up(l,void 0,s))}}return i}}function g0(t){let e=rn(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Hh={collection:"seq",default:!0,nodeClass:yc,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Sm(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>yc.from(t,e,n)},Yb={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),iE(t,e,n,s)}},Zb={identify:t=>t==null,createNode:()=>new xt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new xt(null),stringify:({source:t},e)=>typeof t=="string"&&Zb.test.test(t)?t:e.options.nullStr},oE={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new xt(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&oE.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function Ei({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const r=typeof s=="number"?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=Object.is(s,-0)?"-0":JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let a=i.indexOf(".");a<0&&(a=i.length,i+=".");let l=e-(i.length-a-1);for(;l-- >0;)i+="0"}return i}const $B={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ei},zB={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Ei(t)}},FB={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new xt(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Ei},Jb=t=>typeof t=="bigint"||Number.isInteger(t),lE=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function UB(t,e,n){const{value:s}=t;return Jb(s)&&s>=0?n+s.toString(e):Ei(t)}const HB={identify:t=>Jb(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>lE(t,2,8,n),stringify:t=>UB(t,8,"0o")},VB={identify:Jb,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>lE(t,0,10,n),stringify:Ei},qB={identify:t=>Jb(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>lE(t,2,16,n),stringify:t=>UB(t,16,"0x")},Aoe=[Uh,Hh,Yb,Zb,oE,HB,VB,qB,$B,zB,FB];function mM(t){return typeof t=="bigint"||Number.isInteger(t)}const y0=({value:t})=>JSON.stringify(t),Roe=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:y0},{identify:t=>t==null,createNode:()=>new xt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:y0},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:y0},{identify:mM,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>mM(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:y0}],Toe={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},joe=[Uh,Hh].concat(Roe,Toe),cE={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length);for(let r=0;r<n.length;++r)s[r]=n.charCodeAt(r);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,r,i){if(!n)return"";const a=n;let l;if(typeof btoa=="function"){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);l=btoa(u)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=xt.BLOCK_LITERAL),e!==xt.QUOTE_DOUBLE){const u=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),h=Math.ceil(l.length/u),m=new Array(h);for(let f=0,g=0;f<h;++f,g+=u)m[f]=l.substr(g,u);l=m.join(e===xt.BLOCK_LITERAL?`
`:" ")}return iE({comment:t,type:e,value:l},s,r,i)}};function KB(t,e){if(Sm(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!Tn(s)){if(xm(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const r=s.items[0]||new Fs(new xt(null));if(s.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${s.commentBefore}
${r.key.commentBefore}`:s.commentBefore),s.comment){const i=r.value??r.key;i.comment=i.comment?`${s.comment}
${i.comment}`:s.comment}s=r}t.items[n]=Tn(s)?s:new Fs(s)}}else e("Expected a sequence for this tag");return t}function WB(t,e,n){const{replacer:s}=n,r=new yc(t);r.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof s=="function"&&(a=s.call(e,String(i++),a));let l,u;if(Array.isArray(a))if(a.length===2)l=a[0],u=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const h=Object.keys(a);if(h.length===1)l=h[0],u=a[l];else throw new TypeError(`Expected tuple with one key, not ${h.length} keys`)}else l=a;r.items.push(aE(l,u,n))}return r}const uE={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:KB,createNode:WB};class Zu extends yc{constructor(){super(),this.add=Qr.prototype.add.bind(this),this.delete=Qr.prototype.delete.bind(this),this.get=Qr.prototype.get.bind(this),this.has=Qr.prototype.has.bind(this),this.set=Qr.prototype.set.bind(this),this.tag=Zu.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n?.onCreate&&n.onCreate(s);for(const r of this.items){let i,a;if(Tn(r)?(i=ii(r.key,"",n),a=ii(r.value,i,n)):i=ii(r,"",n),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,a)}return s}static from(e,n,s){const r=WB(e,n,s),i=new this;return i.items=r.items,i}}Zu.tag="tag:yaml.org,2002:omap";const hE={collection:"seq",identify:t=>t instanceof Map,nodeClass:Zu,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=KB(t,e),s=[];for(const{key:r}of n.items)rn(r)&&(s.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):s.push(r.value));return Object.assign(new Zu,n)},createNode:(t,e,n)=>Zu.from(t,e,n)};function GB({value:t,source:e},n){return e&&(t?YB:ZB).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const YB={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new xt(!0),stringify:GB},ZB={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new xt(!1),stringify:GB},Ooe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ei},Moe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Ei(t)}},Ioe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new xt(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:Ei},wm=t=>typeof t=="bigint"||Number.isInteger(t);function Xb(t,e,n,{intAsBigInt:s}){const r=t[0];if((r==="-"||r==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const a=BigInt(t);return r==="-"?BigInt(-1)*a:a}const i=parseInt(t,n);return r==="-"?-1*i:i}function dE(t,e,n){const{value:s}=t;if(wm(s)){const r=s.toString(e);return s<0?"-"+n+r.substr(1):n+r}return Ei(t)}const Doe={identify:wm,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Xb(t,2,2,n),stringify:t=>dE(t,2,"0b")},Poe={identify:wm,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Xb(t,1,8,n),stringify:t=>dE(t,8,"0")},Loe={identify:wm,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Xb(t,0,10,n),stringify:Ei},Boe={identify:wm,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Xb(t,2,16,n),stringify:t=>dE(t,16,"0x")};class Ju extends Qr{constructor(e){super(e),this.tag=Ju.tag}add(e){let n;Tn(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Fs(e.key,null):n=new Fs(e,null),$l(this.items,n.key)||this.items.push(n)}get(e,n){const s=$l(this.items,e);return!n&&Tn(s)?rn(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=$l(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new Fs(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:r}=s,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let a of n)typeof r=="function"&&(a=r.call(n,a,a)),i.items.push(aE(a,null,s));return i}}Ju.tag="tag:yaml.org,2002:set";const fE={collection:"map",identify:t=>t instanceof Set,nodeClass:Ju,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>Ju.from(t,e,n),resolve(t,e){if(xm(t)){if(t.hasAllNullValues(!0))return Object.assign(new Ju,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function pE(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,r=a=>e?BigInt(a):Number(a),i=s.replace(/_/g,"").split(":").reduce((a,l)=>a*r(60)+r(l),r(0));return n==="-"?r(-1)*i:i}function JB(t){let{value:e}=t,n=a=>a;if(typeof e=="bigint")n=a=>BigInt(a);else if(isNaN(e)||!isFinite(e))return Ei(t);let s="";e<0&&(s="-",e*=n(-1));const r=n(60),i=[e%r];return e<60?i.unshift(0):(e=(e-i[0])/r,i.unshift(e%r),e>=60&&(e=(e-i[0])/r,i.unshift(e))),s+i.map(a=>String(a).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const XB={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>pE(t,n),stringify:JB},QB={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>pE(t,!1),stringify:JB},Qb={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(Qb.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,r,i,a,l]=e.map(Number),u=e[7]?Number((e[7]+"00").substr(1,3)):0;let h=Date.UTC(n,s-1,r,i||0,a||0,l||0,u);const m=e[8];if(m&&m!=="Z"){let f=pE(m,!1);Math.abs(f)<30&&(f*=60),h-=6e4*f}return new Date(h)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},gM=[Uh,Hh,Yb,Zb,YB,ZB,Doe,Poe,Loe,Boe,Ooe,Moe,Ioe,cE,Ia,hE,uE,fE,XB,QB,Qb],yM=new Map([["core",Aoe],["failsafe",[Uh,Hh,Yb]],["json",joe],["yaml11",gM],["yaml-1.1",gM]]),vM={binary:cE,bool:oE,float:FB,floatExp:zB,floatNaN:$B,floatTime:QB,int:VB,intHex:qB,intOct:HB,intTime:XB,map:Uh,merge:Ia,null:Zb,omap:hE,pairs:uE,seq:Hh,set:fE,timestamp:Qb},$oe={"tag:yaml.org,2002:binary":cE,"tag:yaml.org,2002:merge":Ia,"tag:yaml.org,2002:omap":hE,"tag:yaml.org,2002:pairs":uE,"tag:yaml.org,2002:set":fE,"tag:yaml.org,2002:timestamp":Qb};function OS(t,e,n){const s=yM.get(e);if(s&&!t)return n&&!s.includes(Ia)?s.concat(Ia):s.slice();let r=s;if(!r)if(Array.isArray(t))r=[];else{const i=Array.from(yM.keys()).filter(a=>a!=="yaml11").map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${i} or define customTags array`)}if(Array.isArray(t))for(const i of t)r=r.concat(i);else typeof t=="function"&&(r=t(r.slice()));return n&&(r=r.concat(Ia)),r.reduce((i,a)=>{const l=typeof a=="string"?vM[a]:a;if(!l){const u=JSON.stringify(a),h=Object.keys(vM).map(m=>JSON.stringify(m)).join(", ");throw new Error(`Unknown custom tag ${u}; use one of ${h}`)}return i.includes(l)||i.push(l),i},[])}const zoe=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;let Foe=class e${constructor({compat:e,customTags:n,merge:s,resolveKnownTags:r,schema:i,sortMapEntries:a,toStringDefaults:l}){this.compat=Array.isArray(e)?OS(e,"compat"):e?OS(null,e):null,this.name=typeof i=="string"&&i||"core",this.knownTags=r?$oe:{},this.tags=OS(n,this.name,s),this.toStringOptions=l??null,Object.defineProperty(this,Go,{value:Uh}),Object.defineProperty(this,Yi,{value:Yb}),Object.defineProperty(this,zh,{value:Hh}),this.sortMapEntries=typeof a=="function"?a:a===!0?zoe:null}clone(){const e=Object.create(e$.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};function Uoe(t,e){const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const u=t.directives.toString(t);u?(n.push(u),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const r=IB(t,e),{commentString:i}=r.options;if(t.commentBefore){n.length!==1&&n.unshift("");const u=i(t.commentBefore);n.unshift(Oa(u,""))}let a=!1,l=null;if(t.contents){if(Rn(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const m=i(t.contents.commentBefore);n.push(Oa(m,""))}r.forceBlockIndent=!!t.comment,l=t.contents.comment}const u=l?void 0:()=>a=!0;let h=yh(t.contents,r,()=>l=null,u);l&&(h+=Bl(h,"",i(l))),(h[0]==="|"||h[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${h}`:n.push(h)}else n.push(yh(t.contents,r));if(t.directives?.docEnd)if(t.comment){const u=i(t.comment);u.includes(`
`)?(n.push("..."),n.push(Oa(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=t.comment;u&&a&&(u=u.replace(/^\n+/,"")),u&&((!a||l)&&n[n.length-1]!==""&&n.push(""),n.push(Oa(i(u),"")))}return n.join(`
`)+`
`}let mE=class t${constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,oi,{value:z2});let r=null;typeof n=="function"||Array.isArray(n)?r=n:s===void 0&&n&&(s=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},s);this.options=i;let{version:a}=i;s?._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new Ls({version:a}),this.setSchema(a,s),this.contents=e===void 0?null:this.createNode(e,r,s)}clone(){const e=Object.create(t$.prototype,{[oi]:{value:z2}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Rn(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){_u(this.contents)&&this.contents.add(e)}addIn(e,n){_u(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=RB(this);e.anchor=!n||s.has(n)?TB(n||"a",s):n}return new rE(e.anchor)}createNode(e,n,s){let r;if(typeof n=="function")e=n.call({"":e},"",e),r=n;else if(Array.isArray(n)){const w=C=>typeof C=="number"||C instanceof String||C instanceof Number,k=n.filter(w).map(String);k.length>0&&(n=n.concat(k)),r=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:a,flow:l,keepUndefined:u,onTagObj:h,tag:m}=s??{},{onAnchor:f,setAnchors:g,sourceObjects:y}=moe(this,a||"a"),b={aliasDuplicateObjects:i??!0,keepUndefined:u??!1,onAnchor:f,onTagObj:h,replacer:r,schema:this.schema,sourceObjects:y},_=Up(e,m,b);return l&&En(_)&&(_.flow=!0),g(),_}createPair(e,n,s={}){const r=this.createNode(e,null,s),i=this.createNode(n,null,s);return new Fs(r,i)}delete(e){return _u(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Df(e)?this.contents==null?!1:(this.contents=null,!0):_u(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return En(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Df(e)?!n&&rn(this.contents)?this.contents.value:this.contents:En(this.contents)?this.contents.getIn(e,n):void 0}has(e){return En(this.contents)?this.contents.has(e):!1}hasIn(e){return Df(e)?this.contents!==void 0:En(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=gv(this.schema,[e],n):_u(this.contents)&&this.contents.set(e,n)}setIn(e,n){Df(e)?this.contents=n:this.contents==null?this.contents=gv(this.schema,Array.from(e),n):_u(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Ls({version:"1.1"}),s={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Ls({version:e}),s={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new Foe(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:r,onAnchor:i,reviver:a}={}){const l={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},u=ii(this.contents,n??"",l);if(typeof i=="function")for(const{count:h,res:m}of l.anchors.values())i(m,h);return typeof a=="function"?Fu(a,{"":u},"",u):u}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Uoe(this,e)}};function _u(t){if(En(t))return!0;throw new Error("Expected a YAML collection as document contents")}class n$ extends Error{constructor(e,n,s,r){super(),this.name=e,this.code=s,this.message=r,this.pos=n}}class Pf extends n${constructor(e,n,s){super("YAMLParseError",e,n,s)}}class Hoe extends n${constructor(e,n,s){super("YAMLWarning",e,n,s)}}const bM=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(l=>e.linePos(l));const{line:s,col:r}=n.linePos[0];n.message+=` at line ${s}, column ${r}`;let i=r-1,a=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(i>=60&&a.length>80){const l=Math.min(i-39,a.length-79);a=""+a.substring(l),i-=l-1}if(a.length>80&&(a=a.substring(0,79)+""),s>1&&/^ *$/.test(a.substring(0,i))){let l=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);l.length>80&&(l=l.substring(0,79)+`
`),a=l+a}if(/[^ ]/.test(a)){let l=1;const u=n.linePos[1];u?.line===s&&u.col>r&&(l=Math.max(1,Math.min(u.col-r,80-i)));const h=" ".repeat(i)+"^".repeat(l);n.message+=`:

${a}
${h}
`}};function vh(t,{flow:e,indicator:n,next:s,offset:r,onError:i,parentIndent:a,startOnNewline:l}){let u=!1,h=l,m=l,f="",g="",y=!1,b=!1,_=null,w=null,k=null,C=null,E=null,A=null,R=null;for(const I of t)switch(b&&(I.type!=="space"&&I.type!=="newline"&&I.type!=="comma"&&i(I.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b=!1),_&&(h&&I.type!=="comment"&&I.type!=="newline"&&i(_,"TAB_AS_INDENT","Tabs are not allowed as indentation"),_=null),I.type){case"space":!e&&(n!=="doc-start"||s?.type!=="flow-collection")&&I.source.includes("	")&&(_=I),m=!0;break;case"comment":{m||i(I,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const q=I.source.substring(1)||" ";f?f+=g+q:f=q,g="",h=!1;break}case"newline":h?f?f+=I.source:(!A||n!=="seq-item-ind")&&(u=!0):g+=I.source,h=!0,y=!0,(w||k)&&(C=I),m=!0;break;case"anchor":w&&i(I,"MULTIPLE_ANCHORS","A node can have at most one anchor"),I.source.endsWith(":")&&i(I.offset+I.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=I,R??(R=I.offset),h=!1,m=!1,b=!0;break;case"tag":{k&&i(I,"MULTIPLE_TAGS","A node can have at most one tag"),k=I,R??(R=I.offset),h=!1,m=!1,b=!0;break}case n:(w||k)&&i(I,"BAD_PROP_ORDER",`Anchors and tags must be after the ${I.source} indicator`),A&&i(I,"UNEXPECTED_TOKEN",`Unexpected ${I.source} in ${e??"collection"}`),A=I,h=n==="seq-item-ind"||n==="explicit-key-ind",m=!1;break;case"comma":if(e){E&&i(I,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),E=I,h=!1,m=!1;break}default:i(I,"UNEXPECTED_TOKEN",`Unexpected ${I.type} token`),h=!1,m=!1}const N=t[t.length-1],M=N?N.offset+N.source.length:r;return b&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),_&&(h&&_.indent<=a||s?.type==="block-map"||s?.type==="block-seq")&&i(_,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:E,found:A,spaceBefore:u,comment:f,hasNewline:y,anchor:w,tag:k,newlineAfterProp:C,end:M,start:R??M}}function Hp(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(Hp(e.key)||Hp(e.value))return!0}return!1;default:return!0}}function V2(t,e,n){if(e?.type==="flow-collection"){const s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&Hp(e)&&n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function s$(t,e,n){const{uniqueKeys:s}=t.options;if(s===!1)return!1;const r=typeof s=="function"?s:(i,a)=>i===a||rn(i)&&rn(a)&&i.value===a.value;return e.some(i=>r(i.key,n))}const _M="All mapping items must start at the same column";function Voe({composeNode:t,composeEmptyNode:e},n,s,r,i){const a=i?.nodeClass??Qr,l=new a(n.schema);n.atRoot&&(n.atRoot=!1);let u=s.offset,h=null;for(const m of s.items){const{start:f,key:g,sep:y,value:b}=m,_=vh(f,{indicator:"explicit-key-ind",next:g??y?.[0],offset:u,onError:r,parentIndent:s.indent,startOnNewline:!0}),w=!_.found;if(w){if(g&&(g.type==="block-seq"?r(u,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in g&&g.indent!==s.indent&&r(u,"BAD_INDENT",_M)),!_.anchor&&!_.tag&&!y){h=_.end,_.comment&&(l.comment?l.comment+=`
`+_.comment:l.comment=_.comment);continue}(_.newlineAfterProp||Hp(g))&&r(g??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else _.found?.indent!==s.indent&&r(u,"BAD_INDENT",_M);n.atKey=!0;const k=_.end,C=g?t(n,g,_,r):e(n,k,f,null,_,r);n.schema.compat&&V2(s.indent,g,r),n.atKey=!1,s$(n,l.items,C)&&r(k,"DUPLICATE_KEY","Map keys must be unique");const E=vh(y??[],{indicator:"map-value-ind",next:b,offset:C.range[2],onError:r,parentIndent:s.indent,startOnNewline:!g||g.type==="block-scalar"});if(u=E.end,E.found){w&&(b?.type==="block-map"&&!E.hasNewline&&r(u,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&_.start<E.found.offset-1024&&r(C.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const A=b?t(n,b,E,r):e(n,u,y,null,E,r);n.schema.compat&&V2(s.indent,b,r),u=A.range[2];const R=new Fs(C,A);n.options.keepSourceTokens&&(R.srcToken=m),l.items.push(R)}else{w&&r(C.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),E.comment&&(C.comment?C.comment+=`
`+E.comment:C.comment=E.comment);const A=new Fs(C);n.options.keepSourceTokens&&(A.srcToken=m),l.items.push(A)}}return h&&h<u&&r(h,"IMPOSSIBLE","Map comment with trailing content"),l.range=[s.offset,u,h??u],l}function qoe({composeNode:t,composeEmptyNode:e},n,s,r,i){const a=i?.nodeClass??yc,l=new a(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let u=s.offset,h=null;for(const{start:m,value:f}of s.items){const g=vh(m,{indicator:"seq-item-ind",next:f,offset:u,onError:r,parentIndent:s.indent,startOnNewline:!0});if(!g.found)if(g.anchor||g.tag||f)f?.type==="block-seq"?r(g.end,"BAD_INDENT","All sequence items must start at the same column"):r(u,"MISSING_CHAR","Sequence item without - indicator");else{h=g.end,g.comment&&(l.comment=g.comment);continue}const y=f?t(n,f,g,r):e(n,g.end,m,null,g,r);n.schema.compat&&V2(s.indent,f,r),u=y.range[2],l.items.push(y)}return l.range=[s.offset,u,h??u],l}function km(t,e,n,s){let r="";if(t){let i=!1,a="";for(const l of t){const{source:u,type:h}=l;switch(h){case"space":i=!0;break;case"comment":{n&&!i&&s(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const m=u.substring(1)||" ";r?r+=a+m:r=m,a="";break}case"newline":r&&(a+=u),i=!0;break;default:s(l,"UNEXPECTED_TOKEN",`Unexpected ${h} at node end`)}e+=u.length}}return{comment:r,offset:e}}const MS="Block collections are not allowed within flow collections",IS=t=>t&&(t.type==="block-map"||t.type==="block-seq");function Koe({composeNode:t,composeEmptyNode:e},n,s,r,i){const a=s.start.source==="{",l=a?"flow map":"flow sequence",u=i?.nodeClass??(a?Qr:yc),h=new u(n.schema);h.flow=!0;const m=n.atRoot;m&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let f=s.offset+s.start.source.length;for(let w=0;w<s.items.length;++w){const k=s.items[w],{start:C,key:E,sep:A,value:R}=k,N=vh(C,{flow:l,indicator:"explicit-key-ind",next:E??A?.[0],offset:f,onError:r,parentIndent:s.indent,startOnNewline:!1});if(!N.found){if(!N.anchor&&!N.tag&&!A&&!R){w===0&&N.comma?r(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`):w<s.items.length-1&&r(N.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${l}`),N.comment&&(h.comment?h.comment+=`
`+N.comment:h.comment=N.comment),f=N.end;continue}!a&&n.options.strict&&Hp(E)&&r(E,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(w===0)N.comma&&r(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`);else if(N.comma||r(N.start,"MISSING_CHAR",`Missing , between ${l} items`),N.comment){let M="";e:for(const I of C)switch(I.type){case"comma":case"space":break;case"comment":M=I.source.substring(1);break e;default:break e}if(M){let I=h.items[h.items.length-1];Tn(I)&&(I=I.value??I.key),I.comment?I.comment+=`
`+M:I.comment=M,N.comment=N.comment.substring(M.length+1)}}if(!a&&!A&&!N.found){const M=R?t(n,R,N,r):e(n,N.end,A,null,N,r);h.items.push(M),f=M.range[2],IS(R)&&r(M.range,"BLOCK_IN_FLOW",MS)}else{n.atKey=!0;const M=N.end,I=E?t(n,E,N,r):e(n,M,C,null,N,r);IS(E)&&r(I.range,"BLOCK_IN_FLOW",MS),n.atKey=!1;const q=vh(A??[],{flow:l,indicator:"map-value-ind",next:R,offset:I.range[2],onError:r,parentIndent:s.indent,startOnNewline:!1});if(q.found){if(!a&&!N.found&&n.options.strict){if(A)for(const $ of A){if($===q.found)break;if($.type==="newline"){r($,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}N.start<q.found.offset-1024&&r(q.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else R&&("source"in R&&R.source?.[0]===":"?r(R,"MISSING_CHAR",`Missing space after : in ${l}`):r(q.start,"MISSING_CHAR",`Missing , or : between ${l} items`));const B=R?t(n,R,q,r):q.found?e(n,q.end,A,null,q,r):null;B?IS(R)&&r(B.range,"BLOCK_IN_FLOW",MS):q.comment&&(I.comment?I.comment+=`
`+q.comment:I.comment=q.comment);const K=new Fs(I,B);if(n.options.keepSourceTokens&&(K.srcToken=k),a){const $=h;s$(n,$.items,I)&&r(M,"DUPLICATE_KEY","Map keys must be unique"),$.items.push(K)}else{const $=new Qr(n.schema);$.flow=!0,$.items.push(K);const W=(B??I).range;$.range=[I.range[0],W[1],W[2]],h.items.push($)}f=B?B.range[2]:q.end}}const g=a?"}":"]",[y,...b]=s.end;let _=f;if(y?.source===g)_=y.offset+y.source.length;else{const w=l[0].toUpperCase()+l.substring(1),k=m?`${w} must end with a ${g}`:`${w} in block collection must be sufficiently indented and end with a ${g}`;r(f,m?"MISSING_CHAR":"BAD_INDENT",k),y&&y.source.length!==1&&b.unshift(y)}if(b.length>0){const w=km(b,_,n.options.strict,r);w.comment&&(h.comment?h.comment+=`
`+w.comment:h.comment=w.comment),h.range=[s.offset,_,w.offset]}else h.range=[s.offset,_,_];return h}function DS(t,e,n,s,r,i){const a=n.type==="block-map"?Voe(t,e,n,s,i):n.type==="block-seq"?qoe(t,e,n,s,i):Koe(t,e,n,s,i),l=a.constructor;return r==="!"||r===l.tagName?(a.tag=l.tagName,a):(r&&(a.tag=r),a)}function Woe(t,e,n,s,r){const i=s.tag,a=i?e.directives.tagName(i.source,g=>r(i,"TAG_RESOLVE_FAILED",g)):null;if(n.type==="block-seq"){const{anchor:g,newlineAfterProp:y}=s,b=g&&i?g.offset>i.offset?g:i:g??i;b&&(!y||y.offset<b.offset)&&r(b,"MISSING_CHAR","Missing newline after block sequence props")}const l=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!a||a==="!"||a===Qr.tagName&&l==="map"||a===yc.tagName&&l==="seq")return DS(t,e,n,r,a);let u=e.schema.tags.find(g=>g.tag===a&&g.collection===l);if(!u){const g=e.schema.knownTags[a];if(g?.collection===l)e.schema.tags.push(Object.assign({},g,{default:!1})),u=g;else return g?r(i,"BAD_COLLECTION_TYPE",`${g.tag} used for ${l} collection, but expects ${g.collection??"scalar"}`,!0):r(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${a}`,!0),DS(t,e,n,r,a)}const h=DS(t,e,n,r,a,u),m=u.resolve?.(h,g=>r(i,"TAG_RESOLVE_FAILED",g),e.options)??h,f=Rn(m)?m:new xt(m);return f.range=h.range,f.tag=a,u?.format&&(f.format=u.format),f}function Goe(t,e,n){const s=e.offset,r=Yoe(e,t.options.strict,n);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};const i=r.mode===">"?xt.BLOCK_FOLDED:xt.BLOCK_LITERAL,a=e.source?Zoe(e.source):[];let l=a.length;for(let _=a.length-1;_>=0;--_){const w=a[_][1];if(w===""||w==="\r")l=_;else break}if(l===0){const _=r.chomp==="+"&&a.length>0?`
`.repeat(Math.max(1,a.length-1)):"";let w=s+r.length;return e.source&&(w+=e.source.length),{value:_,type:i,comment:r.comment,range:[s,w,w]}}let u=e.indent+r.indent,h=e.offset+r.length,m=0;for(let _=0;_<l;++_){const[w,k]=a[_];if(k===""||k==="\r")r.indent===0&&w.length>u&&(u=w.length);else{w.length<u&&n(h+w.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),r.indent===0&&(u=w.length),m=_,u===0&&!t.atRoot&&n(h,"BAD_INDENT","Block scalar values in collections must be indented");break}h+=w.length+k.length+1}for(let _=a.length-1;_>=l;--_)a[_][0].length>u&&(l=_+1);let f="",g="",y=!1;for(let _=0;_<m;++_)f+=a[_][0].slice(u)+`
`;for(let _=m;_<l;++_){let[w,k]=a[_];h+=w.length+k.length+1;const C=k[k.length-1]==="\r";if(C&&(k=k.slice(0,-1)),k&&w.length<u){const A=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(h-k.length-(C?2:1),"BAD_INDENT",A),w=""}i===xt.BLOCK_LITERAL?(f+=g+w.slice(u)+k,g=`
`):w.length>u||k[0]==="	"?(g===" "?g=`
`:!y&&g===`
`&&(g=`

`),f+=g+w.slice(u)+k,g=`
`,y=!0):k===""?g===`
`?f+=`
`:g=`
`:(f+=g+k,g=" ",y=!1)}switch(r.chomp){case"-":break;case"+":for(let _=l;_<a.length;++_)f+=`
`+a[_][0].slice(u);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}const b=s+r.length+e.source.length;return{value:f,type:i,comment:r.comment,range:[s,b,b]}}function Yoe({offset:t,props:e},n,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],i=r[0];let a=0,l="",u=-1;for(let g=1;g<r.length;++g){const y=r[g];if(!l&&(y==="-"||y==="+"))l=y;else{const b=Number(y);!a&&b?a=b:u===-1&&(u=t+g)}}u!==-1&&s(u,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let h=!1,m="",f=r.length;for(let g=1;g<e.length;++g){const y=e[g];switch(y.type){case"space":h=!0;case"newline":f+=y.source.length;break;case"comment":n&&!h&&s(y,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=y.source.length,m=y.source.substring(1);break;case"error":s(y,"UNEXPECTED_TOKEN",y.message),f+=y.source.length;break;default:{const b=`Unexpected token in block scalar header: ${y.type}`;s(y,"UNEXPECTED_TOKEN",b);const _=y.source;_&&typeof _=="string"&&(f+=_.length)}}}return{mode:i,indent:a,chomp:l,comment:m,length:f}}function Zoe(t){const e=t.split(/\n( *)/),n=e[0],s=n.match(/^( *)/),i=[s?.[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let a=1;a<e.length;a+=2)i.push([e[a],e[a+1]]);return i}function Joe(t,e,n){const{offset:s,type:r,source:i,end:a}=t;let l,u;const h=(g,y,b)=>n(s+g,y,b);switch(r){case"scalar":l=xt.PLAIN,u=Xoe(i,h);break;case"single-quoted-scalar":l=xt.QUOTE_SINGLE,u=Qoe(i,h);break;case"double-quoted-scalar":l=xt.QUOTE_DOUBLE,u=ele(i,h);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const m=s+i.length,f=km(a,m,e,n);return{value:u,type:l,comment:f.comment,range:[s,m,f.offset]}}function Xoe(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),r$(t)}function Qoe(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),r$(t.slice(1,-1)).replace(/''/g,"'")}function r$(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let r=s[1],i=" ",a=e.lastIndex;for(n.lastIndex=a;s=n.exec(t);)s[1]===""?i===`
`?r+=i:i=`
`:(r+=i+s[1],i=" "),a=n.lastIndex;const l=/[ \t]*(.*)/sy;return l.lastIndex=a,s=l.exec(t),r+i+(s?.[1]??"")}function ele(t,e){let n="";for(let s=1;s<t.length-1;++s){const r=t[s];if(!(r==="\r"&&t[s+1]===`
`))if(r===`
`){const{fold:i,offset:a}=tle(t,s);n+=i,s=a}else if(r==="\\"){let i=t[++s];const a=nle[i];if(a)n+=a;else if(i===`
`)for(i=t[s+1];i===" "||i==="	";)i=t[++s+1];else if(i==="\r"&&t[s+1]===`
`)for(i=t[++s+1];i===" "||i==="	";)i=t[++s+1];else if(i==="x"||i==="u"||i==="U"){const l={x:2,u:4,U:8}[i];n+=sle(t,s+1,l,e),s+=l}else{const l=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),n+=l}}else if(r===" "||r==="	"){const i=s;let a=t[s+1];for(;a===" "||a==="	";)a=t[++s+1];a!==`
`&&!(a==="\r"&&t[s+2]===`
`)&&(n+=s>i?t.slice(i,s+1):r)}else n+=r}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function tle(t,e){let n="",s=t[e+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&t[e+2]!==`
`);)s===`
`&&(n+=`
`),e+=1,s=t[e+1];return n||(n=" "),{fold:n,offset:e}}const nle={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function sle(t,e,n,s){const r=t.substr(e,n),a=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(a)){const l=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),l}return String.fromCodePoint(a)}function i$(t,e,n,s){const{value:r,type:i,comment:a,range:l}=e.type==="block-scalar"?Goe(t,e,s):Joe(e,t.options.strict,s),u=n?t.directives.tagName(n.source,f=>s(n,"TAG_RESOLVE_FAILED",f)):null;let h;t.options.stringKeys&&t.atKey?h=t.schema[Yi]:u?h=rle(t.schema,r,u,n,s):e.type==="scalar"?h=ile(t,r,e,s):h=t.schema[Yi];let m;try{const f=h.resolve(r,g=>s(n??e,"TAG_RESOLVE_FAILED",g),t.options);m=rn(f)?f:new xt(f)}catch(f){const g=f instanceof Error?f.message:String(f);s(n??e,"TAG_RESOLVE_FAILED",g),m=new xt(r)}return m.range=l,m.source=r,i&&(m.type=i),u&&(m.tag=u),h.format&&(m.format=h.format),a&&(m.comment=a),m}function rle(t,e,n,s,r){if(n==="!")return t[Yi];const i=[];for(const l of t.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)i.push(l);else return l;for(const l of i)if(l.test?.test(e))return l;const a=t.knownTags[n];return a&&!a.collection?(t.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Yi])}function ile({atKey:t,directives:e,schema:n},s,r,i){const a=n.tags.find(l=>(l.default===!0||t&&l.default==="key")&&l.test?.test(s))||n[Yi];if(n.compat){const l=n.compat.find(u=>u.default&&u.test?.test(s))??n[Yi];if(a.tag!==l.tag){const u=e.tagString(a.tag),h=e.tagString(l.tag),m=`Value may be parsed as either ${u} or ${h}`;i(r,"TAG_RESOLVE_FAILED",m,!0)}}return a}function ale(t,e,n){if(e){n??(n=e.length);for(let s=n-1;s>=0;--s){let r=e[s];switch(r.type){case"space":case"comment":case"newline":t-=r.source.length;continue}for(r=e[++s];r?.type==="space";)t+=r.source.length,r=e[++s];break}}return t}const ole={composeNode:a$,composeEmptyNode:gE};function a$(t,e,n,s){const r=t.atKey,{spaceBefore:i,comment:a,anchor:l,tag:u}=n;let h,m=!0;switch(e.type){case"alias":h=lle(t,e,s),(l||u)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":h=i$(t,e,u,s),l&&(h.anchor=l.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":h=Woe(ole,t,e,n,s),l&&(h.anchor=l.source.substring(1));break;default:{const f=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",f),h=gE(t,e.offset,void 0,null,n,s),m=!1}}return l&&h.anchor===""&&s(l,"BAD_ALIAS","Anchor cannot be an empty string"),r&&t.options.stringKeys&&(!rn(h)||typeof h.value!="string"||h.tag&&h.tag!=="tag:yaml.org,2002:str")&&s(u??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(h.spaceBefore=!0),a&&(e.type==="scalar"&&e.source===""?h.comment=a:h.commentBefore=a),t.options.keepSourceTokens&&m&&(h.srcToken=e),h}function gE(t,e,n,s,{spaceBefore:r,comment:i,anchor:a,tag:l,end:u},h){const m={type:"scalar",offset:ale(e,n,s),indent:-1,source:""},f=i$(t,m,l,h);return a&&(f.anchor=a.source.substring(1),f.anchor===""&&h(a,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(f.spaceBefore=!0),i&&(f.comment=i,f.range[2]=u),f}function lle({options:t},{offset:e,source:n,end:s},r){const i=new rE(n.substring(1));i.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&r(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const a=e+n.length,l=km(s,a,t.strict,r);return i.range=[e,a,l.offset],l.comment&&(i.comment=l.comment),i}function cle(t,e,{offset:n,start:s,value:r,end:i},a){const l=Object.assign({_directives:e},t),u=new mE(void 0,l),h={atKey:!1,atRoot:!0,directives:u.directives,options:u.options,schema:u.schema},m=vh(s,{indicator:"doc-start",next:r??i?.[0],offset:n,onError:a,parentIndent:0,startOnNewline:!0});m.found&&(u.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!m.hasNewline&&a(m.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),u.contents=r?a$(h,r,m,a):gE(h,m.end,s,null,m,a);const f=u.contents.range[2],g=km(i,f,!1,a);return g.comment&&(u.comment=g.comment),u.range=[n,f,g.offset],u}function Xd(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function xM(t){let e="",n=!1,s=!1;for(let r=0;r<t.length;++r){const i=t[r];switch(i[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(i.substring(1)||" "),n=!0,s=!1;break;case"%":t[r+1]?.[0]!=="#"&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class ule{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,s,r,i)=>{const a=Xd(n);i?this.warnings.push(new Hoe(a,s,r)):this.errors.push(new Pf(a,s,r))},this.directives=new Ls({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:s,afterEmptyLine:r}=xM(this.prelude);if(s){const i=e.contents;if(n)e.comment=e.comment?`${e.comment}
${s}`:s;else if(r||e.directives.docStart||!i)e.commentBefore=s;else if(En(i)&&!i.flow&&i.items.length>0){let a=i.items[0];Tn(a)&&(a=a.key);const l=a.commentBefore;a.commentBefore=l?`${s}
${l}`:s}else{const a=i.commentBefore;i.commentBefore=a?`${s}
${a}`:s}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:xM(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,s=-1){for(const r of e)yield*this.next(r);yield*this.end(n,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,s,r)=>{const i=Xd(e);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",s,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=cle(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new Pf(Xd(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new Pf(Xd(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const n=km(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Pf(Xd(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),r=new mE(void 0,s);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,n,n],this.decorate(r,!1),yield r}}}const o$="\uFEFF",l$="",c$="",q2="";function hle(t){switch(t){case o$:return"byte-order-mark";case l$:return"doc-mode";case c$:return"flow-error-end";case q2:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function pi(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const SM=new Set("0123456789ABCDEFabcdef"),dle=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),v0=new Set(",[]{}"),fle=new Set(` ,[]{}
\r	`),PS=t=>!t||fle.has(t);class ple{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let s=this.next??"stream";for(;s&&(n||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let s=0;for(;n===" ";)n=this.buffer[++s+e];if(n==="\r"){const r=this.buffer[s+e+1];if(r===`
`||!r&&!this.atEnd)return e+s+1}return n===`
`||s>=this.indentNext||!n&&!this.atEnd?e+s:-1}if(n==="-"||n==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&pi(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===o$&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,s=e.indexOf("#");for(;s!==-1;){const i=e[s-1];if(i===" "||i==="	"){n=s-1;break}else s=e.indexOf("#",s+1)}for(;;){const i=e[n-1];if(i===" "||i==="	")n-=1;else break}const r=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield l$,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&pi(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!pi(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&pi(n)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(PS),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,s=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=s=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const r=this.getLine();if(r===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&r[0]!=="#"||s===0&&(r.startsWith("---")||r.startsWith("..."))&&pi(r[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield c$,yield*this.parseLineStart();let i=0;for(;r[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),r[i]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(PS),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const a=this.charAt(1);if(this.flowKey||pi(a)||a===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const s=this.buffer.substring(0,n);let r=s.indexOf(`
`,this.pos);if(r!==-1){for(;r!==-1;){const i=this.continueScalar(r+1);if(i===-1)break;r=s.indexOf(`
`,i)}r!==-1&&(n=r-(s[r-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>pi(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,s;e:for(let i=this.pos;s=this.buffer[i];++i)switch(s){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const a=this.buffer[i+1];if(!a&&!this.atEnd)return this.setNext("block-scalar");if(a===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let r=e+1;for(s=this.buffer[r];s===" ";)s=this.buffer[++r];if(s==="	"){for(;s==="	"||s===" "||s==="\r"||s===`
`;)s=this.buffer[++r];e=r-1}else if(!this.blockScalarKeep)do{let i=e-1,a=this.buffer[i];a==="\r"&&(a=this.buffer[--i]);const l=i;for(;a===" ";)a=this.buffer[--i];if(a===`
`&&i>=this.pos&&i+1+n>l)e=i;else break}while(!0);return yield q2,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,s=this.pos-1,r;for(;r=this.buffer[++s];)if(r===":"){const i=this.buffer[s+1];if(pi(i)||e&&v0.has(i))break;n=s}else if(pi(r)){let i=this.buffer[s+1];if(r==="\r"&&(i===`
`?(s+=1,r=`
`,i=this.buffer[s+1]):n=s),i==="#"||e&&v0.has(i))break;if(r===`
`){const a=this.continueScalar(s+1);if(a===-1)break;s=Math.max(s,a-2)}}else{if(e&&v0.has(r))break;n=s}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield q2,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(PS))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(pi(n)||e&&v0.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!pi(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(dle.has(n))n=this.buffer[++e];else if(n==="%"&&SM.has(this.buffer[e+1])&&SM.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,s;do s=this.buffer[++n];while(s===" "||e&&s==="	");const r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let n=this.pos,s=this.buffer[n];for(;!e(s);)s=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class mle{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,s=this.lineStarts.length;for(;n<s;){const i=n+s>>1;this.lineStarts[i]<e?n=i+1:s=i}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const r=this.lineStarts[n-1];return{line:n,col:e-r+1}}}}function To(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function wM(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function u$(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function b0(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function xu(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function kM(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!To(e.start,"explicit-key-ind")&&!To(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,u$(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class gle{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new ple,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,n))yield*this.next(s);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=hle(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&e?.type!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const s=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in s?s.indent:0:n.type==="flow-collection"&&s.type==="document"&&(n.indent=0),n.type==="flow-collection"&&kM(n),s.type){case"document":s.value=n;break;case"block-scalar":s.props.push(n);break;case"block-map":{const r=s.items[s.items.length-1];if(r.value){s.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=n;else{Object.assign(r,{key:n,sep:[]}),this.onKeyLine=!r.explicitKey;return}break}case"block-seq":{const r=s.items[s.items.length-1];r.value?s.items.push({start:[],value:n}):r.value=n;break}case"flow-collection":{const r=s.items[s.items.length-1];!r||r.value?s.items.push({start:[],key:n,sep:[]}):r.sep?r.value=n:Object.assign(r,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const r=n.items[n.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&wM(r.start)===-1&&(n.indent===0||r.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(s.type==="document"?s.end=r.start:s.items.push({start:r.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{wM(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=b0(this.peek(2)),s=xu(n);let r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent,r=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let i=[];if(r&&n.sep&&!n.value){const a=[];for(let l=0;l<n.sep.length;++l){const u=n.sep[l];switch(u.type){case"newline":a.push(l);break;case"space":break;case"comment":u.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(i=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":r||n.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):r||n.value?(i.push(this.sourceToken),e.items.push({start:i,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(To(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(u$(n.key)&&!To(n.sep,"newline")){const a=xu(n.start),l=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:l,sep:u}]})}else i.length>0?n.sep=n.sep.concat(i,this.sourceToken):n.sep.push(this.sourceToken);else if(To(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const a=xu(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?e.items.push({start:i,key:null,sep:[this.sourceToken]}):To(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);r||n.value?(e.items.push({start:i,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(e);if(a){if(a.type==="block-seq"){if(!n.explicitKey&&n.sep&&!To(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else s&&e.items.push({start:i});this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||To(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s?.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:r,sep:[]}):n.sep?this.stack.push(r):Object.assign(n,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const r=b0(s),i=xu(r);kM(e);const a=e.end.splice(1,e.end.length);a.push(this.sourceToken);const l={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=l}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=b0(e),s=xu(n);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=b0(e),s=xu(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function yle(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new mle||null,prettyErrors:e}}function vle(t,e={}){const{lineCounter:n,prettyErrors:s}=yle(e),r=new gle(n?.addNewLine),i=new ule(e);let a=null;for(const l of i.compose(r.parse(t),!0,t.length))if(!a)a=l;else if(a.options.logLevel!=="silent"){a.errors.push(new Pf(l.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&n&&(a.errors.forEach(bM(t,n)),a.warnings.forEach(bM(t,n))),a}function LS(t,e,n){let s;const r=vle(t,n);if(!r)return null;if(r.warnings.forEach(i=>DB(r.options.logLevel,i)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},n))}function CM(t,e,n){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const r=Math.round(n);n=r<1?void 0:r>8?{indent:8}:{indent:r}}if(t===void 0){const{keepUndefined:r}=n??e??{};if(!r)return}return _m(t)&&!s?t.toString(n):new mE(t,s,n).toString(n)}function BS(){return document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches}function ble({resource:t,loading:e,error:n,onSave:s,toolbarRef:r}){const[i,a]=z.useState(""),[l,u]=z.useState(""),[h,m]=z.useState(!1),[f,g]=z.useState(null),[y,b]=z.useState(!1),[_,w]=z.useState(null),[k,C]=z.useState(BS),E=z.useRef(null),A=z.useRef(null),[R,N]=z.useState(!1);z.useEffect(()=>{const $=new MutationObserver(()=>{C(BS())});$.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]});const W=window.matchMedia("(prefers-color-scheme: dark)"),Z=()=>C(BS());return W.addEventListener("change",Z),()=>{$.disconnect(),W.removeEventListener("change",Z)}},[]);const M=z.useCallback(async $=>{const W=$.getModel();if(!W)return N(!0);const Z=W.getValue().split(`
`),G=/^(\s*)(managedFields|ownerReferences|kubectl\.kubernetes\.io\/last-applied-configuration):/,L=Z.flatMap((Y,X)=>{const U=Y.match(G);if(!U)return[];const O=U[1].length,P=Z.slice(X+1).findIndex(T=>T.trimStart().length>0&&T.length-T.trimStart().length<=O),V=P===-1?Z.length:X+1+P;return V>X+1?[{start:X+1,end:V}]:[]});for(const{start:Y,end:X}of L.reverse())$.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:X,endColumn:1}),await $.getAction("editor.fold")?.run();$.setPosition({lineNumber:1,column:1}),$.revealLine(1),N(!0)},[]);z.useEffect(()=>{if(t){const $=CM(t,{lineWidth:0});$!==l&&(h?u($):(a($),u($),g(null),w(null),E.current&&(N(!1),setTimeout(()=>M(E.current),100))))}},[t,l,h,M]),z.useEffect(()=>{if(!i){g(null);return}try{LS(i),g(null)}catch($){g($ instanceof Error?$.message:"Invalid YAML")}},[i]);const I=($,W)=>{E.current=$,A.current=W,W.languages.registerDocumentFormattingEditProvider("yaml",{provideDocumentFormattingEdits:Z=>{try{const G=Z.getValue(),L=LS(G),Y=CM(L,{lineWidth:0});return[{range:Z.getFullModelRange(),text:Y}]}catch{return[]}}}),N(!1),setTimeout(()=>M($),100)},q=$=>{const W=$||"";a(W),m(W!==l),w(null)},B=z.useCallback(()=>{a(l),m(!1),g(null),w(null)},[l]),K=z.useCallback(async()=>{if(!(f||!h))try{b(!0),w(null);const $=LS(i);await s($),u(i),m(!1)}catch($){w($ instanceof Error?$.message:"Failed to save")}finally{b(!1)}},[f,h,i,s]);return e?p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsxs("div",{className:"flex items-center gap-2 text-neutral-600 dark:text-neutral-400 text-sm",children:[p.jsx(Ma,{size:14,className:"animate-spin"}),"Loading resource..."]})}):n?p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:n})}):t?p.jsxs("div",{className:"flex flex-col h-full",children:[r&&p.jsxs(zb,{toolbarRef:r,children:[p.jsx("button",{onClick:K,disabled:!h||!!f||y,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Save changes",children:y?p.jsx(Ma,{size:12,className:"animate-spin"}):p.jsx(lZ,{size:12})}),p.jsx("button",{onClick:B,disabled:!h||y,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Reset changes",children:p.jsx(iZ,{size:12})})]}),(f||_)&&p.jsx("div",{className:"shrink-0 flex items-center gap-2 px-4 py-2 bg-red-50 dark:bg-red-500/10 border-b border-red-200 dark:border-red-500/20",children:f?p.jsxs(p.Fragment,{children:[p.jsx(kh,{size:14,className:"text-red-500 shrink-0"}),p.jsxs("span",{className:"text-xs text-red-700 dark:text-red-400",children:["Invalid YAML: ",f]})]}):p.jsxs(p.Fragment,{children:[p.jsx(Kv,{size:14,className:"text-red-500 shrink-0"}),p.jsx("span",{className:"text-xs text-red-700 dark:text-red-400",children:_})]})}),p.jsx("div",{className:`flex-1 min-h-0 transition-opacity duration-150 ${R?"opacity-100":"opacity-0"}`,children:p.jsx(loe,{height:"100%",language:"yaml",theme:k?"vs-dark":"light",value:i,onChange:q,onMount:I,loading:p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsx(Ma,{size:20,className:"animate-spin text-neutral-400"})}),options:{minimap:{enabled:!1},fontSize:13,fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",wrappingIndent:"indent",automaticLayout:!0,tabSize:2,insertSpaces:!0,renderWhitespace:"selection",bracketPairColorization:{enabled:!0},guides:{indentation:!0,bracketPairs:!0},padding:{top:12,bottom:12},scrollbar:{verticalScrollbarSize:10,horizontalScrollbarSize:10}}})})]}):p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsx("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"No resource loaded"})})}const _le=new Set(["managedFields"]);function xle(t){const e=t.metadata;if(!e)return t;const n=Object.fromEntries(Object.entries(e).filter(([s])=>!_le.has(s)));return{...t,metadata:n}}function h$({context:t,isOpen:e,onClose:n,otherPanelOpen:s=!1,resource:r,tab:i,onTabChange:a}){const[l,u]=z.useState("yaml"),[h,m]=z.useState(null),[f,g]=z.useState(null),[y,b]=z.useState(null),_=z.useRef(null),w=z.useRef(null),{data:k,isLoading:C,error:E,refetch:A}=by({queryKey:["kubernetes","resource",t,r?.kind,r?.apiVersion,r?.name,r?.namespace],queryFn:async()=>{if(!r||!r.name||!r.kind)return null;const Ce=await DZ(t,r.kind,r.apiVersion);if(!Ce)throw new Error(`Unknown resource kind: ${r.kind}`);return _.current=Ce,zZ(t,Ce,r.name,r.namespace)},enabled:e&&!!r?.name&&!!r?.kind,placeholderData:UT}),{data:R=[],isLoading:N}=by({queryKey:["kubernetes","events",t,r?.name,r?.namespace],queryFn:async()=>r?.name?UZ(t,r.name,r.namespace):[],enabled:e&&!!r?.name,placeholderData:UT}),M=E instanceof Error?E.message:E?String(E):null,I=k?kL(k):[],q=async Ce=>{g(null),m(Ce.id);try{await Ce.execute(t,k),A()}catch(Oe){g(Oe instanceof Error?Oe.message:"Action failed")}finally{m(null),b(null)}},B=Ce=>{Ce.confirm?b(Ce):q(Ce)},K=z.useCallback(async Ce=>{if(!r||!r.name||!_.current)throw new Error("Resource configuration not available");await FZ(t,_.current,r.name,Ce,r.namespace),A()},[t,r,A]),$=z.useCallback(Ce=>{u(Ce),a?.(Ce)},[a]),W=r?.kind||"",Z=Kee(W),L=["Pod","Deployment","DaemonSet","ReplicaSet","StatefulSet","Job"].includes(W)&&!!r?.namespace,Y=W==="Pod"&&!!r?.namespace,X=new Set(["pod-template-hash","controller-revision-hash","pod-template-generation"]),U=new Set(["kubectl.kubernetes.io/last-applied-configuration","deployment.kubernetes.io/revision","control-plane.alpha.kubernetes.io/leader","deprecated.daemonset.template.generation","kubernetes.io/description"]),O=k?.metadata,P=O?.labels,V=O?.annotations,T=P?Object.keys(P).filter(Ce=>!X.has(Ce)).length:0,Q=V?Object.keys(V).filter(Ce=>!U.has(Ce)).length:0,te=T>0||Q>0,J=R.length>0,ue=z.useCallback(Ce=>{switch(Ce){case"overview":return Z;case"metadata":return te;case"yaml":return!0;case"events":return J;case"logs":return L;case"terminal":return Y;default:return!1}},[Z,te,J,L,Y]),we=z.useCallback(()=>Z?"overview":"yaml",[Z]);if(z.useEffect(()=>{if(i&&ue(i))u(i);else if(i){const Ce=we();u(Ce),a?.(Ce)}else u(we())},[r?.kind,r?.name,r?.namespace,i,ue,we,a]),z.useEffect(()=>{if(!ue(l)){const Ce=we();u(Ce),a?.(Ce)}},[l,ue,we,a]),!e||!r||!r.name)return null;const ke=k,et=ke?xle(ke):null,ze=r.name;return p.jsxs("aside",{className:"fixed top-0 h-screen bg-white border-l border-neutral-200 dark:bg-neutral-900 dark:border-neutral-800 flex flex-col z-20 shadow-xl transition-all duration-300",style:{right:s?"28rem":"0",width:s?"28rem":"40rem"},children:["      ",p.jsxs("header",{className:"shrink-0 h-16 flex items-center justify-between pl-5 pr-4 border-b border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[p.jsx("div",{className:"flex items-center gap-3 min-w-0",children:p.jsxs("div",{className:"min-w-0",children:[p.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:ze}),p.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500",children:r.namespace||"cluster-scoped"})]})}),p.jsx("button",{onClick:n,className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-400 dark:hover:text-neutral-200 dark:hover:bg-neutral-800 rounded-md transition-colors",title:"Close",children:p.jsx(Kv,{size:18})})]}),p.jsxs("div",{className:"shrink-0 flex items-center border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/50",children:[p.jsxs("div",{className:"flex",children:[Z&&p.jsx("button",{onClick:()=>$("overview"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${l==="overview"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Overview"}),te&&p.jsx("button",{onClick:()=>$("metadata"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${l==="metadata"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Metadata"}),p.jsx("button",{onClick:()=>$("yaml"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${l==="yaml"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Manifest"}),R.length>0&&p.jsx("button",{onClick:()=>$("events"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${l==="events"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Events"}),L&&p.jsx("button",{onClick:()=>$("logs"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${l==="logs"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Logs"}),Y&&p.jsx("button",{onClick:()=>$("terminal"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${l==="terminal"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Terminal"})]}),p.jsxs("div",{className:"ml-auto pr-4 flex items-center gap-1",children:[p.jsx("div",{ref:w,className:"flex items-center gap-1"}),l==="overview"&&I.length>0&&p.jsx(p.Fragment,{children:I.map(Ce=>{const Oe=Ce.isDisabled?.(k),qe=Oe===!0||typeof Oe=="string",lt=typeof Oe=="string"?Oe:void 0,at=h===Ce.id;return p.jsx("button",{onClick:()=>B(Ce),disabled:qe||at,title:lt||Ce.label,className:`
                      flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded transition-colors
                      ${qe||at?"opacity-50 cursor-not-allowed":""}
                      ${Ce.variant==="primary"?"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":Ce.variant==="warning"?"text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":Ce.variant==="danger"?"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800"}
                    `,children:at?p.jsx($n,{size:12,className:"animate-spin"}):Ce.icon},Ce.id)})})]})]}),f&&p.jsx("div",{className:"shrink-0 mx-4 mt-2 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-600 dark:text-red-400 text-xs",children:f}),y&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg p-4 max-w-md mx-4 shadow-xl",children:[p.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200 mb-2",children:y.confirm?.title}),p.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-4",children:y.confirm?.message}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>b(null),className:"px-3 py-1.5 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded transition-colors",children:"Cancel"}),p.jsxs("button",{onClick:()=>q(y),disabled:h===y.id,className:`
                  px-3 py-1.5 text-xs font-medium text-white rounded transition-colors
                  ${y.variant==="danger"?"bg-red-600 hover:bg-red-700":y.variant==="warning"?"bg-amber-600 hover:bg-amber-700":"bg-blue-600 hover:bg-blue-700"}
                  ${h===y.id?"opacity-50 cursor-not-allowed":""}
                `,children:[h===y.id?p.jsx($n,{size:12,className:"animate-spin inline mr-1"}):null,y.confirm?.confirmLabel||"Confirm"]})]})]})}),l==="overview"&&Z&&p.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[C&&p.jsxs("div",{className:"flex items-center gap-2 text-neutral-600 dark:text-neutral-400 text-sm mb-4",children:[p.jsx(Ma,{size:14,className:"animate-spin"}),"Loading full resource..."]}),M&&p.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mb-4",children:M}),k&&!C&&p.jsx(Vte,{context:t,resource:k,hideActions:!0})]}),l==="yaml"&&p.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:p.jsx(ble,{resource:k??null,loading:C,error:M,onSave:K,toolbarRef:w})}),l==="metadata"&&p.jsx("div",{className:"flex-1 overflow-auto p-5",children:et&&p.jsx(qie,{metadata:et.metadata})}),l==="events"&&p.jsx("div",{className:"flex-1 overflow-auto p-5",children:p.jsx(Zie,{events:R,loading:N})}),l==="logs"&&L&&k&&p.jsx("div",{className:"flex-1 overflow-hidden",children:p.jsx(vne,{context:t,resource:k,toolbarRef:w})}),l==="terminal"&&Y&&k&&p.jsx("div",{className:"flex-1 overflow-hidden",children:p.jsx(Vie,{context:t,resource:k,toolbarRef:w})})]})}const bh={Pod:ki,Deployment:XC,DaemonSet:JC,StatefulSet:xc,Job:eN,CronJob:Ua,Service:gZ,Ingress:Tr,Gateway:Wn,HTTPRoute:kp,GRPCRoute:kp,NetworkPolicy:Ch,PersistentVolume:js,PersistentVolumeClaim:WC,ConfigMap:ai,Secret:Zp,Node:Si},Sle={Pod:{bg:"#dcfce7",bgDark:"#14532d",border:"#22c55e",borderDark:"#4ade80",text:"#166534",textDark:"#86efac"},Deployment:{bg:"#dbeafe",bgDark:"#1e3a8a",border:"#3b82f6",borderDark:"#60a5fa",text:"#1e40af",textDark:"#93c5fd"},DaemonSet:{bg:"#f3e8ff",bgDark:"#581c87",border:"#a855f7",borderDark:"#c084fc",text:"#6b21a8",textDark:"#d8b4fe"},StatefulSet:{bg:"#ede9fe",bgDark:"#5b21b6",border:"#8b5cf6",borderDark:"#a78bfa",text:"#5b21b6",textDark:"#c4b5fd"},Job:{bg:"#fef3c7",bgDark:"#78350f",border:"#f59e0b",borderDark:"#fbbf24",text:"#92400e",textDark:"#fcd34d"},CronJob:{bg:"#ffedd5",bgDark:"#7c2d12",border:"#f97316",borderDark:"#fb923c",text:"#9a3412",textDark:"#fdba74"},Service:{bg:"#cffafe",bgDark:"#164e63",border:"#06b6d4",borderDark:"#22d3ee",text:"#155e75",textDark:"#67e8f9"},Ingress:{bg:"#ccfbf1",bgDark:"#134e4a",border:"#14b8a6",borderDark:"#2dd4bf",text:"#115e59",textDark:"#5eead4"},Gateway:{bg:"#d1fae5",bgDark:"#065f46",border:"#10b981",borderDark:"#34d399",text:"#065f46",textDark:"#6ee7b7"},HTTPRoute:{bg:"#a7f3d0",bgDark:"#047857",border:"#34d399",borderDark:"#6ee7b7",text:"#047857",textDark:"#a7f3d0"},GRPCRoute:{bg:"#a7f3d0",bgDark:"#047857",border:"#34d399",borderDark:"#6ee7b7",text:"#047857",textDark:"#a7f3d0"},NetworkPolicy:{bg:"#fef3c7",bgDark:"#78350f",border:"#f59e0b",borderDark:"#fbbf24",text:"#92400e",textDark:"#fcd34d"},PersistentVolume:{bg:"#f1f5f9",bgDark:"#334155",border:"#64748b",borderDark:"#94a3b8",text:"#334155",textDark:"#cbd5e1"},PersistentVolumeClaim:{bg:"#f8fafc",bgDark:"#475569",border:"#94a3b8",borderDark:"#cbd5e1",text:"#475569",textDark:"#e2e8f0"},ConfigMap:{bg:"#fef9c3",bgDark:"#713f12",border:"#eab308",borderDark:"#facc15",text:"#854d0e",textDark:"#fde047"},Secret:{bg:"#fee2e2",bgDark:"#7f1d1d",border:"#ef4444",borderDark:"#f87171",text:"#991b1b",textDark:"#fca5a5"}},wle={bg:"#f3f4f6",bgDark:"#374151",border:"#9ca3af",borderDark:"#6b7280",text:"#374151",textDark:"#d1d5db"};function Zl(t,e){const n=Sle[t]||wle;return{bg:e?n.bgDark:n.bg,border:e?n.borderDark:n.border,text:e?n.textDark:n.text}}function d$(t){let e="Unknown",n="#9ca3af",s="#6b7280";if(t.kind==="Pod"){const r=t.status?.phase||"Unknown";e=r,r==="Running"?(n="#22c55e",s="#4ade80"):r==="Pending"?(n="#eab308",s="#facc15"):r==="Failed"?(n="#ef4444",s="#f87171"):r==="Succeeded"&&(n="#22c55e",s="#4ade80")}else if(t.kind==="DaemonSet"){const r=t.status?.desiredNumberScheduled||0,i=t.status?.numberReady||0;e=`${i}/${r}`,i===r&&r>0?(n="#22c55e",s="#4ade80"):(n="#eab308",s="#facc15")}else if(["Deployment","StatefulSet"].includes(t.kind)){const r=t.status?.replicas||0,i=t.status?.readyReplicas||0;e=`${i}/${r}`,i===r&&r>0?(n="#22c55e",s="#4ade80"):(n="#eab308",s="#facc15")}else if(t.kind==="Service")e="Active",n="#22c55e",s="#4ade80";else if(t.kind==="Job"){const r=t.status?.succeeded||0,i=t.status?.failed||0;r>0?(e="Succeeded",n="#22c55e",s="#4ade80"):i>0?(e="Failed",n="#ef4444",s="#f87171"):(e="Running",n="#eab308",s="#facc15")}else t.kind==="PersistentVolumeClaim"?(e=t.status?.phase||"Unknown",e==="Bound"?(n="#22c55e",s="#4ade80"):(n="#eab308",s="#facc15")):["ConfigMap","Secret","Ingress","CronJob"].includes(t.kind)&&(e="Active",n="#22c55e",s="#4ade80");return{status:e,color:n,colorDark:s}}const Qd=160,$S=60,NM=48,vv=120,zl=32,J0=6,K2=32,Hu=8,Aa=20,Lo=4,op=5,kle=32,Cle=10,Co=12,EM=36,_0=20;function Nle({context:t,namespace:e}){const n=t||"",s=e,[r,i]=z.useState([]),[a,l]=z.useState([]),[u,h]=z.useState(!0),[m,f]=z.useState(null),[g,y]=z.useState({x:40,y:40,scale:1}),[b,_]=z.useState(!1),[w,k]=z.useState({x:0,y:0}),[C,E]=z.useState(null),[A,R]=z.useState(!1),N=z.useRef(null);z.useEffect(()=>{const O=()=>{const Q=document.documentElement.classList.contains("dark"),te=window.matchMedia("(prefers-color-scheme: dark)");R(Q||te.matches)};O();const P=new MutationObserver(O);P.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]});const V=window.matchMedia("(prefers-color-scheme: dark)"),T=()=>O();return V.addEventListener("change",T),()=>{P.disconnect(),V.removeEventListener("change",T)}},[]);const M=z.useCallback(async()=>{h(!0),f(null);try{const O=s?`/namespaces/${s}`:"",P=[{path:`/api/v1${O}/pods`,kind:"Pod"},{path:`/apis/apps/v1${O}/deployments`,kind:"Deployment"},{path:`/apis/apps/v1${O}/replicasets`,kind:"ReplicaSet"},{path:`/apis/apps/v1${O}/statefulsets`,kind:"StatefulSet"},{path:`/apis/apps/v1${O}/daemonsets`,kind:"DaemonSet"},{path:`/api/v1${O}/services`,kind:"Service"},{path:`/api/v1${O}/configmaps`,kind:"ConfigMap"},{path:`/api/v1${O}/secrets`,kind:"Secret"},{path:`/api/v1${O}/persistentvolumeclaims`,kind:"PersistentVolumeClaim"},{path:`/apis/batch/v1${O}/jobs`,kind:"Job"},{path:`/apis/batch/v1${O}/cronjobs`,kind:"CronJob"},{path:`/apis/networking.k8s.io/v1${O}/ingresses`,kind:"Ingress"},{path:`/apis/networking.k8s.io/v1${O}/networkpolicies`,kind:"NetworkPolicy"},{path:`/apis/gateway.networking.k8s.io/v1${O}/gateways`,kind:"Gateway"},{path:`/apis/gateway.networking.k8s.io/v1${O}/httproutes`,kind:"HTTPRoute"},{path:`/apis/gateway.networking.k8s.io/v1${O}/grpcroutes`,kind:"GRPCRoute"}],V=await Promise.allSettled(P.map(async({path:te,kind:J})=>{try{return((await Ha(te,n)).items||[]).map(we=>({...we,kind:J}))}catch{return[]}})),T=[];V.forEach(te=>{te.status==="fulfilled"&&T.push(...te.value)}),l(T);const Q=Lle(T);i(Q)}catch(O){f(O instanceof Error?O.message:"Failed to load resources")}finally{h(!1)}},[n,s]);z.useEffect(()=>{M()},[M]);const I=z.useCallback(O=>{O.button===0&&(_(!0),k({x:O.clientX-g.x,y:O.clientY-g.y}))},[g.x,g.y]),q=z.useCallback(O=>{b&&y(P=>({...P,x:O.clientX-w.x,y:O.clientY-w.y}))},[b,w]),B=z.useCallback(()=>{_(!1)},[]),K=z.useCallback(O=>{O.preventDefault();const P=O.deltaY>0?.9:1.1,V=Math.min(Math.max(g.scale*P,.1),3),T=N.current?.getBoundingClientRect();if(T){const Q=O.clientX-T.left,te=O.clientY-T.top,J=Q-(Q-g.x)*(V/g.scale),ue=te-(te-g.y)*(V/g.scale);y({x:J,y:ue,scale:V})}},[g]),$=()=>y(O=>({...O,scale:Math.min(O.scale*1.2,3)})),W=()=>y(O=>({...O,scale:Math.max(O.scale/1.2,.1)})),Z=()=>{if(!N.current||r.length===0)return;const O=N.current.getBoundingClientRect(),P=Math.max(...r.map(J=>J.x+J.width),800),V=Math.max(...r.map(J=>J.y+J.height),600),T=(O.width-80)/P,Q=(O.height-80)/V,te=Math.min(T,Q,1);y({x:40,y:40,scale:te})},G=z.useMemo(()=>{if(r.length===0)return{width:800,height:600};const O=Math.max(...r.map(V=>V.x+V.width)),P=Math.max(...r.map(V=>V.y+V.height));return{width:O+100,height:P+100}},[r]);z.useEffect(()=>{if(r.length>0&&N.current){const O=N.current.getBoundingClientRect(),P=(O.width-80)/G.width,V=(O.height-80)/G.height,T=Math.min(P,V,1);y({x:40,y:40,scale:T})}},[r,G]),z.useEffect(()=>{E(null)},[s]);const L=z.useCallback(O=>{E(O)},[]),Y=z.useCallback((O,P,V)=>{const T=a.find(Q=>Q.kind===O&&Q.metadata.name===P&&Q.metadata.namespace===V);T&&E({uid:T.metadata.uid,resource:T,x:0,y:0,width:0,height:0})},[a]),X=C?{name:C.resource.metadata.name,namespace:C.resource.metadata.namespace,uid:C.resource.metadata.uid,kind:C.resource.kind,apiVersion:C.resource.apiVersion}:null,U=C!==null;return u?p.jsx("div",{className:"flex items-center justify-center h-full bg-white dark:bg-neutral-950",children:p.jsxs("div",{className:"flex items-center gap-2 text-neutral-500",children:[p.jsx($n,{className:"animate-spin",size:20}),p.jsx("span",{children:"Loading resources..."})]})}):m?p.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 bg-white dark:bg-neutral-950",children:[p.jsx("div",{className:"text-red-500",children:m}),p.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 text-sm bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 rounded-md transition-colors",children:[p.jsx($n,{size:16}),"Retry"]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:`h-full w-full relative bg-neutral-100 dark:bg-neutral-900 overflow-hidden transition-all duration-300 ${U?"mr-120":""}`,children:[p.jsxs("div",{className:"absolute top-4 right-4 z-10 flex items-center gap-1 bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700",children:[p.jsx("button",{onClick:M,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-l-lg",title:"Refresh",children:p.jsx($n,{size:16,className:"text-neutral-600 dark:text-neutral-400"})}),p.jsx("div",{className:"w-px h-5 bg-neutral-200 dark:bg-neutral-700"}),p.jsx("button",{onClick:$,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700",title:"Zoom In",children:p.jsx(TZ,{size:16,className:"text-neutral-600 dark:text-neutral-400"})}),p.jsx("button",{onClick:W,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700",title:"Zoom Out",children:p.jsx(OZ,{size:16,className:"text-neutral-600 dark:text-neutral-400"})}),p.jsx("button",{onClick:Z,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700",title:"Fit View",children:p.jsx(VY,{size:16,className:"text-neutral-600 dark:text-neutral-400"})}),p.jsxs("div",{className:"px-2 text-xs text-neutral-500 border-l border-neutral-200 dark:border-neutral-700 rounded-r-lg",children:[Math.round(g.scale*100),"%"]})]}),p.jsxs("div",{className:"absolute bottom-4 right-4 z-10 px-3 py-2 bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700",children:[p.jsx("div",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-2",children:"Connections"}),p.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("svg",{width:"24",height:"8",children:p.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#64748b",strokeWidth:"2"})}),p.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Owner"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("svg",{width:"24",height:"8",children:p.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#8b5cf6",strokeWidth:"2",strokeDasharray:"4,2"})}),p.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Selector"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("svg",{width:"24",height:"8",children:p.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#06b6d4",strokeWidth:"2",strokeDasharray:"4,2"})}),p.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Service"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("svg",{width:"24",height:"8",children:p.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#14b8a6",strokeWidth:"2",strokeDasharray:"4,2"})}),p.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Ingress"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("svg",{width:"24",height:"8",children:p.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#10b981",strokeWidth:"2",strokeDasharray:"4,2"})}),p.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Gateway"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("svg",{width:"24",height:"8",children:p.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#f59e0b",strokeWidth:"1.5",strokeDasharray:"2,2"})}),p.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"NetworkPolicy"})]})]})]}),p.jsx("div",{ref:N,className:"w-full h-full cursor-grab active:cursor-grabbing overflow-hidden",onMouseDown:I,onMouseMove:q,onMouseUp:B,onMouseLeave:B,onWheel:K,children:p.jsxs("svg",{width:G.width,height:G.height,style:{transform:`translate(${g.x}px, ${g.y}px) scale(${g.scale})`,transformOrigin:"0 0"},children:[p.jsxs("defs",{children:[p.jsx("marker",{id:"arrow-owner",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:p.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#64748b"})}),p.jsx("marker",{id:"arrow-selector",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:p.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#8b5cf6"})}),p.jsx("marker",{id:"arrow-service",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:p.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#06b6d4"})}),p.jsx("marker",{id:"arrow-ingress",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:p.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#14b8a6"})}),p.jsx("marker",{id:"arrow-gateway",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:p.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#10b981"})}),p.jsx("marker",{id:"arrow-network-policy",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"5",markerHeight:"5",orient:"auto-start-reverse",children:p.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#f59e0b"})}),p.jsx("marker",{id:"arrow-owner-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:p.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#94a3b8"})}),p.jsx("marker",{id:"arrow-selector-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:p.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#c084fc"})}),p.jsx("marker",{id:"arrow-service-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:p.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#22d3ee"})}),p.jsx("marker",{id:"arrow-ingress-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:p.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#2dd4bf"})}),p.jsx("marker",{id:"arrow-gateway-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:p.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#34d399"})}),p.jsx("marker",{id:"arrow-network-policy-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"5",markerHeight:"5",orient:"auto-start-reverse",children:p.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#fbbf24"})})]}),r.map(O=>p.jsx(Ele,{application:O,onNodeClick:L,onConfigClick:Y,isDarkMode:A},O.id))]})})]}),p.jsx(h$,{context:n,isOpen:U,onClose:()=>E(null),resource:X})]})}function Ele(t){const e=Le.c(40),{application:n,onNodeClick:s,onConfigClick:r,isDarkMode:i}=t;let a;e[0]!==n.nodes?(a=new Map(n.nodes.map(Ale)),n.nodes.forEach(C=>{C.childPods&&C.childPods.forEach(E=>{a.set(E.uid,{...E,x:C.x+E.x,y:C.y+E.y})})}),e[0]=n.nodes,e[1]=a):a=e[1];const l=a;let u;e[2]!==n.nodes?(u=n.nodes.filter(C=>!C.resource.kind.match(/^Pod$/)||!n.nodes.some(E=>["Deployment","StatefulSet","DaemonSet","Job"].includes(E.resource.kind)&&E.childPods?.some(A=>A.uid===C.uid))),e[2]=n.nodes,e[3]=u):u=e[3];const h=u,m=n.name&&n.name.length>0,f=i?"#262626":"white",g=i?"#404040":"#e5e7eb";let y;e[4]!==n.height||e[5]!==n.width||e[6]!==n.x||e[7]!==n.y||e[8]!==f||e[9]!==g?(y=p.jsx("rect",{x:n.x,y:n.y,width:n.width,height:n.height,rx:12,fill:f,stroke:g,strokeWidth:1}),e[4]=n.height,e[5]=n.width,e[6]=n.x,e[7]=n.y,e[8]=f,e[9]=g,e[10]=y):y=e[10];let b;e[11]!==n.name||e[12]!==n.namespace||e[13]!==n.width||e[14]!==n.x||e[15]!==n.y||e[16]!==i||e[17]!==m?(b=m&&p.jsxs("g",{children:[p.jsx("text",{x:n.x+10,y:n.y+13,fontSize:12,fontWeight:600,fill:i?"#e5e5e5":"#374151",dominantBaseline:"hanging",children:n.name.length>Math.floor((n.width-20)/7)?n.name.slice(0,Math.floor((n.width-20)/7)-1)+"":n.name}),n.namespace&&p.jsx("text",{x:n.x+10,y:n.y+26,fontSize:10,fill:i?"#a3a3a3":"#6b7280",dominantBaseline:"hanging",children:n.namespace.length>Math.floor((n.width-20)/6)?n.namespace.slice(0,Math.floor((n.width-20)/6)-1)+"":n.namespace})]}),e[11]=n.name,e[12]=n.namespace,e[13]=n.width,e[14]=n.x,e[15]=n.y,e[16]=i,e[17]=m,e[18]=b):b=e[18];let _;if(e[19]!==n.edges||e[20]!==i||e[21]!==l){let C;e[23]!==i||e[24]!==l?(C=(E,A)=>{const R=l.get(E.from),N=l.get(E.to);return!R||!N||E.type==="owner"&&(R.childPods?.some(I=>I.uid===N.uid)||N.childPods?.some(I=>I.uid===R.uid))?null:p.jsx(Rle,{from:R,to:N,type:E.type,isDarkMode:i},A)},e[23]=i,e[24]=l,e[25]=C):C=e[25],_=n.edges.map(C),e[19]=n.edges,e[20]=i,e[21]=l,e[22]=_}else _=e[22];let w;if(e[26]!==i||e[27]!==r||e[28]!==s||e[29]!==h){let C;e[31]!==i||e[32]!==r||e[33]!==s?(C=E=>p.jsx(Tle,{node:E,onClick:()=>s(E),onPodClick:s,onConfigClick:r,isDarkMode:i},E.uid),e[31]=i,e[32]=r,e[33]=s,e[34]=C):C=e[34],w=h.map(C),e[26]=i,e[27]=r,e[28]=s,e[29]=h,e[30]=w}else w=e[30];let k;return e[35]!==y||e[36]!==b||e[37]!==_||e[38]!==w?(k=p.jsxs("g",{children:[y,b,_,w]}),e[35]=y,e[36]=b,e[37]=_,e[38]=w,e[39]=k):k=e[39],k}function Ale(t){return[t.uid,t]}function Rle(t){const e=Le.c(14),{from:n,to:s,type:r,isDarkMode:i}=t,a=n.x+n.width,l=n.y+n.height/2,u=s.x,h=s.y+s.height/2,m=(a+u)/2,f=`M ${a} ${l} C ${m} ${l}, ${m} ${h}, ${u} ${h}`,g=i?"#94a3b8":"#64748b",y=i?"#c084fc":"#8b5cf6",b=i?"#22d3ee":"#06b6d4",_=i?"#2dd4bf":"#14b8a6",w=i?"#34d399":"#10b981",k=i?"#fbbf24":"#f59e0b";let C;e[0]!==g||e[1]!==y||e[2]!==b||e[3]!==_||e[4]!==w||e[5]!==k?(C={owner:g,selector:y,service:b,ingress:_,gateway:w,"network-policy":k},e[0]=g,e[1]=y,e[2]=b,e[3]=_,e[4]=w,e[5]=k,e[6]=C):C=e[6];const E=C;let A;e[7]===Symbol.for("react.memo_cache_sentinel")?(A={owner:void 0,selector:"6,3",service:"6,3",ingress:"4,2",gateway:"4,2","network-policy":"2,2"},e[7]=A):A=e[7];const R=A,N=E[r],M=r==="network-policy"?1.5:2,I=R[r],q=`url(#arrow-${r}${i?"-dark":""})`;let B;return e[8]!==f||e[9]!==M||e[10]!==I||e[11]!==q||e[12]!==N?(B=p.jsx("path",{d:f,fill:"none",stroke:N,strokeWidth:M,strokeDasharray:I,markerEnd:q}),e[8]=f,e[9]=M,e[10]=I,e[11]=q,e[12]=N,e[13]=B):B=e[13],B}function Tle(t){const e=Le.c(62),{node:n,onClick:s,onPodClick:r,onConfigClick:i,isDarkMode:a}=t,{resource:l,x:u,y:h,width:m,height:f}=n;if(l.kind==="NetworkPolicy"){let U;return e[0]!==a||e[1]!==n||e[2]!==s?(U=p.jsx(Ile,{node:n,onClick:s,isDarkMode:a}),e[0]=a,e[1]=n,e[2]=s,e[3]=U):U=e[3],U}if(l.kind==="Service"){let U;return e[4]!==a||e[5]!==n||e[6]!==s?(U=p.jsx(AM,{node:n,onClick:s,isDarkMode:a}),e[4]=a,e[5]=n,e[6]=s,e[7]=U):U=e[7],U}if(["Gateway","HTTPRoute","GRPCRoute"].includes(l.kind)){let U;return e[8]!==a||e[9]!==n||e[10]!==s?(U=p.jsx(AM,{node:n,onClick:s,isDarkMode:a}),e[8]=a,e[9]=n,e[10]=s,e[11]=U):U=e[11],U}if(l.kind==="Ingress"){let U;return e[12]!==a||e[13]!==n||e[14]!==s?(U=p.jsx(Ole,{node:n,onClick:s,isDarkMode:a}),e[12]=a,e[13]=n,e[14]=s,e[15]=U):U=e[15],U}if(["Deployment","StatefulSet","DaemonSet","Job"].includes(l.kind)&&n.childPods&&n.childPods.length>0){let U;return e[16]!==a||e[17]!==n||e[18]!==s||e[19]!==i||e[20]!==r?(U=p.jsx(jle,{node:n,onClick:s,onPodClick:r,onConfigClick:i,isDarkMode:a}),e[16]=a,e[17]=n,e[18]=s,e[19]=i,e[20]=r,e[21]=U):U=e[21],U}let g;e[22]!==a||e[23]!==l.kind?(g=Zl(l.kind,a),e[22]=a,e[23]=l.kind,e[24]=g):g=e[24];const y=g,b=bh[l.kind]||qv;let _;e[25]!==l?(_=d$(l),e[25]=l,e[26]=_):_=e[26];const w=_,k=a?w.colorDark:w.color,C=Math.floor((m-20)/6.5),E=l.metadata.name.length>C?l.metadata.name.slice(0,C-2)+"":l.metadata.name,A=`translate(${u}, ${h})`;let R;e[27]!==s?(R=U=>{U.stopPropagation(),s()},e[27]=s,e[28]=R):R=e[28];let N;e[29]===Symbol.for("react.memo_cache_sentinel")?(N={cursor:"pointer"},e[29]=N):N=e[29];let M;e[30]!==y.bg||e[31]!==y.border||e[32]!==f||e[33]!==m?(M=p.jsx("rect",{width:m,height:f,rx:8,fill:y.bg,stroke:y.border,strokeWidth:2}),e[30]=y.bg,e[31]=y.border,e[32]=f,e[33]=m,e[34]=M):M=e[34];let I;e[35]!==y.text?(I={color:y.text},e[35]=y.text,e[36]=I):I=e[36];let q;e[37]!==b?(q=p.jsx(b,{size:16}),e[37]=b,e[38]=q):q=e[38];let B;e[39]!==I||e[40]!==q?(B=p.jsx("foreignObject",{width:18,height:18,children:p.jsx("div",{style:I,children:q})}),e[39]=I,e[40]=q,e[41]=B):B=e[41];let K;e[42]!==y.text||e[43]!==l.kind?(K=p.jsx("text",{x:22,y:13,fontSize:11,fill:y.text,fontWeight:600,children:l.kind}),e[42]=y.text,e[43]=l.kind,e[44]=K):K=e[44];let $;e[45]!==K||e[46]!==B?($=p.jsxs("g",{transform:"translate(10, 10)",children:[B,K]}),e[45]=K,e[46]=B,e[47]=$):$=e[47];const W=m-12;let Z;e[48]!==k||e[49]!==W?(Z=p.jsx("circle",{cx:W,cy:14,r:5,fill:k}),e[48]=k,e[49]=W,e[50]=Z):Z=e[50];const G=f-12,L=a?"#e5e7eb":"#1f2937";let Y;e[51]!==E||e[52]!==G||e[53]!==L?(Y=p.jsx("text",{x:10,y:G,fontSize:12,fontWeight:600,fill:L,children:E}),e[51]=E,e[52]=G,e[53]=L,e[54]=Y):Y=e[54];let X;return e[55]!==$||e[56]!==Z||e[57]!==Y||e[58]!==A||e[59]!==R||e[60]!==M?(X=p.jsxs("g",{transform:A,onClick:R,style:N,className:"hover:opacity-80 transition-opacity",children:[M,$,Z,Y]}),e[55]=$,e[56]=Z,e[57]=Y,e[58]=A,e[59]=R,e[60]=M,e[61]=X):X=e[61],X}function AM(t){const e=Le.c(26),{node:n,onClick:s,isDarkMode:r}=t,{resource:i,x:a,y:l,width:u,height:h}=n;let m;e[0]!==r||e[1]!==i.kind?(m=Zl(i.kind,r),e[0]=r,e[1]=i.kind,e[2]=m):m=e[2];const f=m,g=bh[i.kind]||qv,y=`translate(${a}, ${l})`;let b;e[3]!==s?(b=M=>{M.stopPropagation(),s()},e[3]=s,e[4]=b):b=e[4];let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_={cursor:"pointer"},e[5]=_):_=e[5];let w;e[6]!==f.bg||e[7]!==f.border||e[8]!==h||e[9]!==u?(w=p.jsx("rect",{width:u,height:h,rx:8,fill:f.bg,stroke:f.border,strokeWidth:2}),e[6]=f.bg,e[7]=f.border,e[8]=h,e[9]=u,e[10]=w):w=e[10];const k=`translate(${u/2-12}, ${h/2-12})`;let C;e[11]!==f.text?(C={color:f.text},e[11]=f.text,e[12]=C):C=e[12];let E;e[13]!==g?(E=p.jsx(g,{size:22}),e[13]=g,e[14]=E):E=e[14];let A;e[15]!==C||e[16]!==E?(A=p.jsx("foreignObject",{width:24,height:24,children:p.jsx("div",{style:C,children:E})}),e[15]=C,e[16]=E,e[17]=A):A=e[17];let R;e[18]!==k||e[19]!==A?(R=p.jsx("g",{transform:k,children:A}),e[18]=k,e[19]=A,e[20]=R):R=e[20];let N;return e[21]!==R||e[22]!==y||e[23]!==b||e[24]!==w?(N=p.jsxs("g",{transform:y,onClick:b,style:_,className:"hover:opacity-80 transition-opacity",children:[w,R]}),e[21]=R,e[22]=y,e[23]=b,e[24]=w,e[25]=N):N=e[25],N}function jle(t){const e=Le.c(54),{node:n,onClick:s,onPodClick:r,onConfigClick:i,isDarkMode:a}=t,{resource:l,x:u,y:h,width:m,height:f,childPods:g}=n;let y;e[0]!==g?(y=g===void 0?[]:g,e[0]=g,e[1]=y):y=e[1];const b=y;let _;e[2]!==a||e[3]!==l.kind?(_=Zl(l.kind,a),e[2]=a,e[3]=l.kind,e[4]=_):_=e[4];const w=_,k=bh[l.kind]||qv,C=Math.floor((m-60)/6),E=l.metadata.name.length>C?l.metadata.name.slice(0,C-2)+"":l.metadata.name;let A;e[5]!==n?(A=n.configIcons||[],e[5]=n,e[6]=A):A=e[6];const R=A,N=`translate(${u}, ${h})`;let M;e[7]!==s?(M=P=>{P.stopPropagation(),s()},e[7]=s,e[8]=M):M=e[8];let I;e[9]===Symbol.for("react.memo_cache_sentinel")?(I={cursor:"pointer"},e[9]=I):I=e[9];let q;e[10]!==w.bg||e[11]!==w.border||e[12]!==f||e[13]!==M||e[14]!==m?(q=p.jsx("rect",{width:m,height:f,rx:10,fill:w.bg,stroke:w.border,strokeWidth:2,onClick:M,style:I,className:"hover:opacity-90"}),e[10]=w.bg,e[11]=w.border,e[12]=f,e[13]=M,e[14]=m,e[15]=q):q=e[15];let B;e[16]!==s?(B=P=>{P.stopPropagation(),s()},e[16]=s,e[17]=B):B=e[17];let K;e[18]===Symbol.for("react.memo_cache_sentinel")?(K={cursor:"pointer"},e[18]=K):K=e[18];let $;e[19]!==w.text?($={color:w.text},e[19]=w.text,e[20]=$):$=e[20];let W;e[21]!==k?(W=p.jsx(k,{size:16}),e[21]=k,e[22]=W):W=e[22];let Z;e[23]!==$||e[24]!==W?(Z=p.jsx("foreignObject",{width:18,height:18,children:p.jsx("div",{style:$,children:W})}),e[23]=$,e[24]=W,e[25]=Z):Z=e[25];let G;e[26]!==w.text||e[27]!==E?(G=p.jsx("text",{x:22,y:13,fontSize:11,fill:w.text,fontWeight:600,children:E}),e[26]=w.text,e[27]=E,e[28]=G):G=e[28];let L;e[29]!==Z||e[30]!==G?(L=p.jsxs("g",{transform:"translate(8, 8)",children:[Z,G]}),e[29]=Z,e[30]=G,e[31]=L):L=e[31];let Y;e[32]!==L||e[33]!==B?(Y=p.jsx("g",{onClick:B,style:K,children:L}),e[32]=L,e[33]=B,e[34]=Y):Y=e[34];let X;if(e[35]!==b||e[36]!==a||e[37]!==r){let P;e[39]!==a||e[40]!==r?(P=(V,T)=>{const Q=Zl("Pod",a),te=d$(V.resource),J=a?te.colorDark:te.color,ue=K2+T*(zl+J0),we=Math.floor((vv-30)/5.5),ke=V.resource.metadata.name.length>we?V.resource.metadata.name.slice(0,we-2)+"":V.resource.metadata.name;return p.jsxs("g",{transform:`translate(${Hu}, ${ue})`,onClick:et=>{et.stopPropagation(),r?.(V)},style:{cursor:"pointer"},className:"hover:opacity-80",children:[p.jsx("rect",{width:vv,height:zl,rx:4,fill:Q.bg,stroke:Q.border,strokeWidth:1.5}),p.jsx("circle",{cx:12,cy:zl/2,r:4,fill:J}),p.jsx("text",{x:22,y:zl/2+4,fontSize:10,fill:a?"#e5e7eb":"#1f2937",fontWeight:500,children:ke})]},V.uid)},e[39]=a,e[40]=r,e[41]=P):P=e[41],X=b.map(P),e[35]=b,e[36]=a,e[37]=r,e[38]=X}else X=e[38];let U;e[42]!==R||e[43]!==f||e[44]!==a||e[45]!==i||e[46]!==l.metadata.namespace?(U=R.length>0&&p.jsx("g",{transform:`translate(${Hu}, ${f-Math.ceil(R.length/op)*(Aa+Lo)-Lo})`,children:R.map((P,V)=>{const T=bh[P.kind],Q=Zl(P.kind,a),te=Math.floor(V/op),ue=V%op*(Aa+Lo),we=te*(Aa+Lo);return p.jsxs("g",{transform:`translate(${ue}, ${we})`,onClick:ke=>{ke.stopPropagation(),i&&i(P.kind,P.name,l.metadata.namespace)},style:{cursor:"pointer"},className:"hover:opacity-80",children:[p.jsx("title",{children:P.name}),p.jsx("rect",{width:Aa,height:Aa,rx:3,fill:Q.bg,stroke:Q.border,strokeWidth:1}),p.jsx("g",{transform:`translate(${Aa/2-6}, ${Aa/2-6})`,children:p.jsx("foreignObject",{width:12,height:12,children:p.jsx("div",{style:{color:Q.text},children:p.jsx(T,{size:12})})})})]},`${P.kind}-${P.name}-${V}`)})}),e[42]=R,e[43]=f,e[44]=a,e[45]=i,e[46]=l.metadata.namespace,e[47]=U):U=e[47];let O;return e[48]!==Y||e[49]!==X||e[50]!==U||e[51]!==N||e[52]!==q?(O=p.jsxs("g",{transform:N,children:[q,Y,X,U]}),e[48]=Y,e[49]=X,e[50]=U,e[51]=N,e[52]=q,e[53]=O):O=e[53],O}function Ole(t){const e=Le.c(52),{node:n,onClick:s,isDarkMode:r}=t,{resource:i,x:a,y:l,width:u,height:h}=n;let m;e[0]!==r?(m=Zl("Ingress",r),e[0]=r,e[1]=m):m=e[1];const f=m,g=bh.Ingress,y=i.spec;let b,_,w,k,C,E,A,R;if(e[2]!==f.bg||e[3]!==f.border||e[4]!==f.text||e[5]!==h||e[6]!==r||e[7]!==s||e[8]!==i.metadata.name||e[9]!==y.rules||e[10]!==u||e[11]!==a||e[12]!==l){const B=y.rules?.map(Mle).filter(Boolean)||[],K=Math.floor((u-20)/6.5);b=i.metadata.name.length>K?i.metadata.name.slice(0,K-2)+"":i.metadata.name,_=`translate(${a}, ${l})`,e[21]!==s?(w=L=>{L.stopPropagation(),s()},e[21]=s,e[22]=w):w=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(k={cursor:"pointer"},e[23]=k):k=e[23],C="hover:opacity-80 transition-opacity",e[24]!==f.bg||e[25]!==f.border||e[26]!==h||e[27]!==u?(E=p.jsx("rect",{width:u,height:h,rx:8,fill:f.bg,stroke:f.border,strokeWidth:2}),e[24]=f.bg,e[25]=f.border,e[26]=h,e[27]=u,e[28]=E):E=e[28];let $;e[29]!==f.text?($={color:f.text},e[29]=f.text,e[30]=$):$=e[30];let W;e[31]===Symbol.for("react.memo_cache_sentinel")?(W=p.jsx(g,{size:16}),e[31]=W):W=e[31];let Z;e[32]!==$?(Z=p.jsx("foreignObject",{width:18,height:18,children:p.jsx("div",{style:$,children:W})}),e[32]=$,e[33]=Z):Z=e[33];let G;e[34]!==f.text?(G=p.jsx("text",{x:22,y:13,fontSize:11,fill:f.text,fontWeight:600,children:"Ingress"}),e[34]=f.text,e[35]=G):G=e[35],e[36]!==Z||e[37]!==G?(A=p.jsxs("g",{transform:"translate(10, 10)",children:[Z,G]}),e[36]=Z,e[37]=G,e[38]=A):A=e[38],R=B.length>0&&B[0]&&p.jsx("text",{x:u-10,y:18,fontSize:9,fill:r?"#5eead4":"#115e59",textAnchor:"end",children:B[0].length>18?B[0].slice(0,16)+"":B[0]}),e[2]=f.bg,e[3]=f.border,e[4]=f.text,e[5]=h,e[6]=r,e[7]=s,e[8]=i.metadata.name,e[9]=y.rules,e[10]=u,e[11]=a,e[12]=l,e[13]=b,e[14]=_,e[15]=w,e[16]=k,e[17]=C,e[18]=E,e[19]=A,e[20]=R}else b=e[13],_=e[14],w=e[15],k=e[16],C=e[17],E=e[18],A=e[19],R=e[20];const N=h-12,M=r?"#e5e7eb":"#1f2937";let I;e[39]!==b||e[40]!==M||e[41]!==N?(I=p.jsx("text",{x:10,y:N,fontSize:12,fontWeight:600,fill:M,children:b}),e[39]=b,e[40]=M,e[41]=N,e[42]=I):I=e[42];let q;return e[43]!==I||e[44]!==_||e[45]!==w||e[46]!==k||e[47]!==C||e[48]!==E||e[49]!==A||e[50]!==R?(q=p.jsxs("g",{transform:_,onClick:w,style:k,className:C,children:[E,A,R,I]}),e[43]=I,e[44]=_,e[45]=w,e[46]=k,e[47]=C,e[48]=E,e[49]=A,e[50]=R,e[51]=q):q=e[51],q}function Mle(t){return t.host}function Ile(t){const e=Le.c(55),{node:n,onClick:s,isDarkMode:r}=t,{resource:i,x:a,y:l,width:u,height:h}=n;let m;e[0]!==r?(m=Zl("NetworkPolicy",r),e[0]=r,e[1]=m):m=e[1];const f=m,g=bh.NetworkPolicy,y=i.spec;let b;e[2]!==y.policyTypes?(b=y.policyTypes||[],e[2]=y.policyTypes,e[3]=b):b=e[3];const _=b;let w;e[4]!==_||e[5]!==y.ingress?(w=_.includes("Ingress")||y.ingress,e[4]=_,e[5]=y.ingress,e[6]=w):w=e[6];const k=w;let C;e[7]!==_||e[8]!==y.egress?(C=_.includes("Egress")||y.egress,e[7]=_,e[8]=y.egress,e[9]=C):C=e[9];const E=C;let A;e[10]!==y.ingress?(A=y.ingress||[],e[10]=y.ingress,e[11]=A):A=e[11];const R=A;let N;e[12]!==y.egress?(N=y.egress||[],e[12]=y.egress,e[13]=N):N=e[13];const M=N,I=k&&R.length===0,q=E&&M.length===0,B=I&&q,K=Math.floor((u-20)/6.5),$=i.metadata.name.length>K?i.metadata.name.slice(0,K-2)+"":i.metadata.name;let W;e[14]!==q||e[15]!==M||e[16]!==E||e[17]!==k||e[18]!==I||e[19]!==R||e[20]!==B?(W=()=>{const at=[];return B?" Deny All":(I?at.push(" No Ingress"):k&&R.length>0&&at.push(`${R.length}`),q?at.push(" No Egress"):E&&M.length>0&&at.push(`${M.length}`),at.join(" ")||" Allow")},e[14]=q,e[15]=M,e[16]=E,e[17]=k,e[18]=I,e[19]=R,e[20]=B,e[21]=W):W=e[21];const Z=W,G=`translate(${a}, ${l})`;let L;e[22]!==s?(L=at=>{at.stopPropagation(),s()},e[22]=s,e[23]=L):L=e[23];let Y;e[24]===Symbol.for("react.memo_cache_sentinel")?(Y={cursor:"pointer"},e[24]=Y):Y=e[24];const X=B?r?"#7f1d1d":"#fef2f2":f.bg,U=B?r?"#f87171":"#ef4444":f.border;let O;e[25]!==h||e[26]!==X||e[27]!==U||e[28]!==u?(O=p.jsx("rect",{width:u,height:h,rx:8,fill:X,stroke:U,strokeWidth:2}),e[25]=h,e[26]=X,e[27]=U,e[28]=u,e[29]=O):O=e[29];const P=B?r?"#f87171":"#ef4444":f.text;let V;e[30]!==P?(V={color:P},e[30]=P,e[31]=V):V=e[31];let T;e[32]===Symbol.for("react.memo_cache_sentinel")?(T=p.jsx(g,{size:16}),e[32]=T):T=e[32];let Q;e[33]!==V?(Q=p.jsx("foreignObject",{width:18,height:18,children:p.jsx("div",{style:V,children:T})}),e[33]=V,e[34]=Q):Q=e[34];const te=B?r?"#f87171":"#ef4444":f.text;let J;e[35]!==te?(J=p.jsx("text",{x:22,y:13,fontSize:10,fill:te,fontWeight:600,children:"NetworkPolicy"}),e[35]=te,e[36]=J):J=e[36];let ue;e[37]!==Q||e[38]!==J?(ue=p.jsxs("g",{transform:"translate(10, 10)",children:[Q,J]}),e[37]=Q,e[38]=J,e[39]=ue):ue=e[39];const we=u-10,ke=B?r?"#fca5a5":"#dc2626":r?"#fcd34d":"#92400e",et=Z();let ze;e[40]!==we||e[41]!==ke||e[42]!==et?(ze=p.jsx("text",{x:we,y:18,fontSize:9,fill:ke,textAnchor:"end",fontWeight:500,children:et}),e[40]=we,e[41]=ke,e[42]=et,e[43]=ze):ze=e[43];const Ce=h-12,Oe=r?"#e5e7eb":"#1f2937";let qe;e[44]!==$||e[45]!==Ce||e[46]!==Oe?(qe=p.jsx("text",{x:10,y:Ce,fontSize:12,fontWeight:600,fill:Oe,children:$}),e[44]=$,e[45]=Ce,e[46]=Oe,e[47]=qe):qe=e[47];let lt;return e[48]!==O||e[49]!==ue||e[50]!==ze||e[51]!==qe||e[52]!==G||e[53]!==L?(lt=p.jsxs("g",{transform:G,onClick:L,style:Y,className:"hover:opacity-80 transition-opacity",children:[O,ue,ze,qe]}),e[48]=O,e[49]=ue,e[50]=ze,e[51]=qe,e[52]=G,e[53]=L,e[54]=lt):lt=e[54],lt}function Dle(t){const e=t.metadata.labels||{};return e["app.kubernetes.io/instance"]||e.release||e.app||e["app.kubernetes.io/name"]||e["k8s-app"]||e.name||e["app.kubernetes.io/component"]||e["app.kubernetes.io/part-of"]}const Ple={Deployment:1,StatefulSet:2,DaemonSet:3,CronJob:4,Job:5,Pod:6};function Lle(t){const e=new Map;t.forEach(U=>{U.metadata.uid&&e.set(U.metadata.uid,U)});const n=new Map,s=new Map,r=(U,O)=>{n.has(U)||n.set(U,new Set),n.has(O)||n.set(O,new Set),n.get(U).add(O),n.get(O).add(U)},i=(U,O,P)=>{const V=`${U}-${O}`;s.has(V)||s.set(V,[]),s.get(V).push({from:U,to:O,type:P})},a=new Map,l=new Map;t.forEach(U=>{const O=(U.metadata.ownerReferences||[]).filter(P=>e.has(P.uid));if(O.length>0){const P=O[0];l.set(U.metadata.uid,P.uid),a.has(P.uid)||a.set(P.uid,[]),a.get(P.uid).push(U.metadata.uid),r(U.metadata.uid,P.uid),i(P.uid,U.metadata.uid,"owner")}});const u=["Deployment","StatefulSet","DaemonSet","Job"];t.forEach(U=>{if(!u.includes(U.kind))return;const O=U.spec?.selector?.matchLabels;!O||Object.keys(O).length===0||t.filter(P=>P.kind==="Pod"&&P.metadata.namespace===U.metadata.namespace).forEach(P=>{const V=P.metadata.labels||{};Object.entries(O).every(([T,Q])=>V[T]===Q)&&r(U.metadata.uid,P.metadata.uid)})});const h=new Map,m=new Map,f=new Set;t.filter(U=>U.kind==="Pod").forEach(U=>{const O=U.metadata.ownerReferences?.[0];if(!O)return;if(O.kind==="Node"){f.add(U.metadata.uid);return}const P=e.get(O.uid);if(P){if(u.includes(P.kind)){h.has(P.metadata.uid)||h.set(P.metadata.uid,[]),h.get(P.metadata.uid).push(U),m.set(U.metadata.uid,P.metadata.uid);return}if(P.kind==="ReplicaSet"){const V=P.metadata.ownerReferences?.[0];if(V){const T=e.get(V.uid);T&&T.kind==="Deployment"&&(h.has(T.metadata.uid)||h.set(T.metadata.uid,[]),h.get(T.metadata.uid).push(U),m.set(U.metadata.uid,T.metadata.uid))}}}}),h.forEach(U=>{U.sort((O,P)=>O.metadata.name.localeCompare(P.metadata.name))}),t.forEach(U=>{if(U.kind!=="Service")return;const O=U.spec?.selector;!O||Object.keys(O).length===0||t.filter(P=>P.kind==="Pod"&&P.metadata.namespace===U.metadata.namespace).forEach(P=>{const V=P.metadata.labels||{};Object.entries(O).every(([T,Q])=>V[T]===Q)&&(r(U.metadata.uid,P.metadata.uid),i(U.metadata.uid,P.metadata.uid,"service"))})}),t.forEach(U=>{if(U.kind!=="NetworkPolicy")return;const O=U.spec,P=U.metadata.namespace||"",V=O.podSelector?.matchLabels||{},T=Object.keys(V).length===0;t.filter(Q=>Q.kind==="Pod"&&Q.metadata.namespace===P).forEach(Q=>{const te=Q.metadata.labels||{};if(T||Object.entries(V).every(([ue,we])=>te[ue]===we)){const ue=m.get(Q.metadata.uid);i(ue||Q.metadata.uid,U.metadata.uid,"network-policy")}})});const g=new Map;t.forEach(U=>{if(U.kind==="Service"){const O=`${U.metadata.namespace||""}/${U.metadata.name}`;g.set(O,U)}}),t.forEach(U=>{if(U.kind!=="Ingress")return;const O=U.spec,P=U.metadata.namespace||"";if(O.defaultBackend?.service?.name){const V=g.get(`${P}/${O.defaultBackend.service.name}`);V&&(r(U.metadata.uid,V.metadata.uid),i(U.metadata.uid,V.metadata.uid,"ingress"))}O.rules?.forEach(V=>{V.http?.paths?.forEach(T=>{if(T.backend?.service?.name){const Q=g.get(`${P}/${T.backend.service.name}`);Q&&(r(U.metadata.uid,Q.metadata.uid),i(U.metadata.uid,Q.metadata.uid,"ingress"))}})})}),t.forEach(U=>{if(U.kind!=="HTTPRoute"&&U.kind!=="GRPCRoute")return;const O=U.spec,P=U.metadata.namespace||"";O.parentRefs?.forEach(V=>{if(!V.kind||V.kind==="Gateway"){const T=t.find(Q=>Q.kind==="Gateway"&&Q.metadata.name===V.name&&Q.metadata.namespace===P);T&&(r(T.metadata.uid,U.metadata.uid),i(T.metadata.uid,U.metadata.uid,"gateway"))}}),O.rules?.forEach(V=>{V.backendRefs?.forEach(T=>{if(!T.kind||T.kind==="Service"){const Q=g.get(`${P}/${T.name}`);Q&&(r(U.metadata.uid,Q.metadata.uid),i(U.metadata.uid,Q.metadata.uid,"gateway"))}})})});const y=new Map,b=new Map,_=new Map;t.forEach(U=>{const O=`${U.metadata.namespace||""}/${U.metadata.name}`;U.kind==="ConfigMap"?y.set(O,U):U.kind==="Secret"?b.set(O,U):U.kind==="PersistentVolumeClaim"&&_.set(O,U)});const w=(U,O,P)=>{U?.forEach(V=>{V.env?.forEach(T=>{T.valueFrom?.configMapKeyRef?.name&&O.add(T.valueFrom.configMapKeyRef.name),T.valueFrom?.secretKeyRef?.name&&P.add(T.valueFrom.secretKeyRef.name)}),V.envFrom?.forEach(T=>{T.configMapRef?.name&&O.add(T.configMapRef.name),T.secretRef?.name&&P.add(T.secretRef.name)})})},k=new Map;t.filter(U=>U.kind==="Pod").forEach(U=>{const O=m.get(U.metadata.uid);if(!O)return;const P=U.spec,V=new Set,T=new Set,Q=new Set;P.volumes?.forEach(J=>{J.configMap?.name&&V.add(J.configMap.name),J.secret?.secretName&&T.add(J.secret.secretName),J.persistentVolumeClaim?.claimName&&Q.add(J.persistentVolumeClaim.claimName),J.projected?.sources?.forEach(ue=>{ue.configMap?.name&&V.add(ue.configMap.name),ue.secret?.name&&T.add(ue.secret.name)})}),w(P.containers,V,T),w(P.initContainers,V,T),k.has(O)||k.set(O,new Map);const te=k.get(O);V.size>0&&(te.has("ConfigMap")||te.set("ConfigMap",new Set),V.forEach(J=>te.get("ConfigMap").add(J))),T.size>0&&(te.has("Secret")||te.set("Secret",new Set),T.forEach(J=>te.get("Secret").add(J))),Q.size>0&&(te.has("PersistentVolumeClaim")||te.set("PersistentVolumeClaim",new Set),Q.forEach(J=>te.get("PersistentVolumeClaim").add(J)))});const C=U=>{const O=l.get(U);return O?C(O):U},E=new Map,A=new Map,R=new Map;t.forEach(U=>{if(U.kind!=="Pod")return;const O=U.metadata.namespace||"",P=C(U.metadata.uid),V=U.spec,T=new Set,Q=new Set,te=new Set;V.volumes?.forEach(J=>{J.configMap?.name&&T.add(J.configMap.name),J.secret?.secretName&&Q.add(J.secret.secretName),J.persistentVolumeClaim?.claimName&&te.add(J.persistentVolumeClaim.claimName),J.projected?.sources?.forEach(ue=>{ue.configMap?.name&&T.add(ue.configMap.name),ue.secret?.name&&Q.add(ue.secret.name)})}),w(V.containers,T,Q),w(V.initContainers,T,Q),T.forEach(J=>{const ue=`${O}/${J}`;E.has(ue)||E.set(ue,new Set),E.get(ue).add(P)}),Q.forEach(J=>{const ue=`${O}/${J}`;A.has(ue)||A.set(ue,new Set),A.get(ue).add(P)}),te.forEach(J=>{const ue=`${O}/${J}`;R.has(ue)||R.set(ue,new Set),R.get(ue).add(P)})});const N=new Set;E.forEach((U,O)=>{if(U.size>1){const P=y.get(O);P&&N.add(P.metadata.uid)}}),A.forEach((U,O)=>{if(U.size>1){const P=b.get(O);P&&N.add(P.metadata.uid)}}),R.forEach((U,O)=>{if(U.size>1){const P=_.get(O);P&&N.add(P.metadata.uid)}}),t.forEach(U=>{if(U.kind!=="Pod")return;const O=U.metadata.namespace||"",P=U.spec,V=new Set,T=new Set,Q=new Set;P.volumes?.forEach(te=>{te.configMap?.name&&V.add(te.configMap.name),te.secret?.secretName&&T.add(te.secret.secretName),te.persistentVolumeClaim?.claimName&&Q.add(te.persistentVolumeClaim.claimName),te.projected?.sources?.forEach(J=>{J.configMap?.name&&V.add(J.configMap.name),J.secret?.name&&T.add(J.secret.name)})}),w(P.containers,V,T),w(P.initContainers,V,T),V.forEach(te=>{const J=y.get(`${O}/${te}`);J&&!N.has(J.metadata.uid)&&(r(U.metadata.uid,J.metadata.uid),i(J.metadata.uid,U.metadata.uid,"owner"))}),T.forEach(te=>{const J=b.get(`${O}/${te}`);J&&!N.has(J.metadata.uid)&&(r(U.metadata.uid,J.metadata.uid),i(J.metadata.uid,U.metadata.uid,"owner"))}),Q.forEach(te=>{const J=_.get(`${O}/${te}`);J&&!N.has(J.metadata.uid)&&(r(U.metadata.uid,J.metadata.uid),i(J.metadata.uid,U.metadata.uid,"owner"))})});const M=new Set,I=[];function q(U,O){M.has(U)||f.has(U)||(M.add(U),O.push(U),(n.get(U)||new Set).forEach(P=>q(P,O)))}t.forEach(U=>{if(!f.has(U.metadata.uid)&&!M.has(U.metadata.uid)){const O=[];q(U.metadata.uid,O),O.length>0&&I.push(O)}}),I.sort((U,O)=>O.length-U.length);const B=[],K={Gateway:0,Ingress:0,HTTPRoute:1,GRPCRoute:1,Service:2,Deployment:3,StatefulSet:3,DaemonSet:3,Job:3,CronJob:3,Pod:3,ConfigMap:4,Secret:4,PersistentVolumeClaim:4,NetworkPolicy:5};I.forEach((U,O)=>{const P=U.map(De=>e.get(De)).filter(Boolean);if(P.length===0)return;const V=P.filter(De=>!(De.kind==="ReplicaSet"||De.kind==="Pod"&&m.has(De.metadata.uid)||["ConfigMap","Secret","PersistentVolumeClaim"].includes(De.kind)));if(V.length===0)return;const T=new Map;V.forEach(De=>{const He=K[De.kind]??3;T.has(He)||T.set(He,[]),T.get(He).push(De.metadata.uid)}),T.forEach(De=>{De.sort((He,Ie)=>{const Ke=e.get(He),Te=e.get(Ie);return Ke.metadata.name.localeCompare(Te.metadata.name)})});const Q=new Map;V.forEach(De=>{if(["Service","Gateway","HTTPRoute","GRPCRoute"].includes(De.kind)){Q.set(De.metadata.uid,{width:NM,height:NM});return}const He=h.get(De.metadata.uid);if(He&&He.length>0){const Ie=k.get(De.metadata.uid);let Ke=0;Ie&&Ie.forEach(re=>Ke+=re.size);const Te=vv+Hu*2,ae=Math.min(Ke,op),ve=ae>0?ae*(Aa+Lo)-Lo+Hu*2:0,Ve=Math.max(Te,ve),ot=Ke>0?Math.ceil(Ke/op):0,bt=ot>0?ot*(Aa+Lo)+Lo:0,un=K2+He.length*(zl+J0)-J0+Hu+bt;Q.set(De.metadata.uid,{width:Ve,height:un})}else Q.set(De.metadata.uid,{width:Qd,height:$S})});const te=new Map;let J=0,ue=Co+EM;const we=Array.from(T.keys()).sort((De,He)=>De-He),ke=new Map;we.forEach(De=>{const He=Math.max(...(T.get(De)||[]).map(Ie=>Q.get(Ie)?.width||Qd));ke.set(De,He)});let et=Co;we.forEach(De=>{const He=ke.get(De)||Qd;let Ie=Co+EM;T.get(De).forEach(Ke=>{const Te=Q.get(Ke)||{width:Qd,height:$S},ae=(He-Te.width)/2;te.set(Ke,{x:et+ae,y:Ie}),ue=Math.max(ue,Ie+Te.height),Ie+=Te.height+Cle}),J=Math.max(J,et+He),et+=He+kle});const ze=J+Co,Ce=ue+Co,Oe=V.map(De=>{const He=te.get(De.metadata.uid),Ie=Q.get(De.metadata.uid)||{width:Qd,height:$S},Te=h.get(De.metadata.uid)?.map((Ve,ot)=>({uid:Ve.metadata.uid,resource:Ve,x:Hu,y:K2+ot*(zl+J0),width:vv,height:zl})),ae=k.get(De.metadata.uid),ve=[];return ae&&ae.forEach((Ve,ot)=>{Ve.forEach(bt=>ve.push({kind:ot,name:bt}))}),{uid:De.metadata.uid,resource:De,x:He.x,y:He.y,width:Ie.width,height:Ie.height,childPods:Te,configIcons:ve}}),qe=[],lt=new Set,at=new Set;V.forEach(De=>{const He=h.get(De.metadata.uid);He&&He.forEach(Ie=>at.add(Ie.metadata.uid))}),s.forEach(De=>{De.forEach(He=>{const Ie=V.some(ve=>ve.metadata.uid===He.from),Ke=V.some(ve=>ve.metadata.uid===He.to),Te=at.has(He.to),ae=at.has(He.from);if(Ie&&Ke||Ie&&Te||Ke&&ae){const ve=`${He.from}-${He.to}-${He.type}`;lt.has(ve)||(lt.add(ve),qe.push(He))}})});let Lt,Bt=1/0;V.forEach(De=>{const He=Ple[De.kind];He!==void 0&&He<Bt&&(Bt=He,Lt=De)});const At=Lt?Dle(Lt)||Lt.metadata.name:void 0,jt=Lt?.metadata.namespace;B.push({id:`app-${O}`,name:At||"",namespace:jt,nodes:Oe,edges:qe,x:0,y:0,width:ze,height:Ce})});const $=new Map;B.forEach(U=>{const O=U.namespace||"",P=U.name||"",V=`${O}/${P}`;$.has(V)||$.set(V,[]),$.get(V).push(U)});const W=[];$.forEach((U,O)=>{if(U.length===1)W.push(U[0]);else{U.sort((ue,we)=>{const ke=ue.nodes[0]?.resource.metadata.name||"",et=we.nodes[0]?.resource.metadata.name||"";return ke.localeCompare(et)});const P=[],V=[];let T=Co,Q=0;U.forEach(ue=>{ue.nodes.forEach(we=>{P.push({...we,x:we.x+T-Co,y:we.y})}),V.push(...ue.edges),T+=ue.width+_0,Q=Math.max(Q,ue.height)});const[te,J]=O.split("/");W.push({id:`app-${O}`,name:J,namespace:te,nodes:P,edges:V,x:0,y:0,width:T-_0+Co,height:Q})}}),W.sort((U,O)=>O.height-U.height);const Z=1800;let G=0,L=[];const Y=[];W.forEach(U=>{G+U.width>Z&&L.length>0&&(Y.push([...L]),G=0,L=[]),L.push({app:U,tempX:G}),G+=U.width+_0}),L.length>0&&Y.push(L);let X=0;return Y.forEach(U=>{const O=Math.max(...U.map(P=>P.app.height));U.forEach(({app:P,tempX:V})=>{const T=V,Q=X+(O-P.height)/2;P.nodes.forEach(te=>{te.x+=T,te.y+=Q}),P.x=T,P.y=Q}),X+=O+_0}),W}const Ble=5e3;function f$(t,e,n){const s=Le.c(13);let r;s[0]!==n?(r=n===void 0?{}:n,s[0]=n,s[1]=r):r=s[1];const i=r,{refetchInterval:a,enabled:l}=i,u=a===void 0?Ble:a,h=l===void 0?!0:l,m=u>0?u:!1;let f;s[2]!==h||s[3]!==e||s[4]!==t||s[5]!==m?(f={queryKey:t,queryFn:e,refetchInterval:m,enabled:h},s[2]=h,s[3]=e,s[4]=t,s[5]=m,s[6]=f):f=s[6];const y=by(f),b=y.data??null,_=y.isFetching&&!y.isLoading;let w;return s[7]!==y.error||s[8]!==y.isLoading||s[9]!==y.refetch||s[10]!==b||s[11]!==_?(w={data:b,loading:y.isLoading,error:y.error,refetch:y.refetch,isRefetching:_},s[7]=y.error,s[8]=y.isLoading,s[9]=y.refetch,s[10]=b,s[11]=_,s[12]=w):w=s[12],w}function yE(){const t=Le.c(9);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=new Set,t[0]=e):e=t[0];const[n,s]=z.useState(e);let r;t[1]!==n?(r=y=>n.has(y),t[1]=n,t[2]=r):r=t[2];const i=r;let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=y=>{s(b=>{const _=new Set(b);return _.add(y),_})},t[3]=a):a=t[3];const l=a;let u;t[4]===Symbol.for("react.memo_cache_sentinel")?(u=y=>{s(b=>{const _=new Set(b);return _.delete(y),_})},t[4]=u):u=t[4];const h=u;let m;t[5]===Symbol.for("react.memo_cache_sentinel")?(m=y=>{s(b=>{const _=new Set(b);return _.has(y)?_.delete(y):_.add(y),_})},t[5]=m):m=t[5];const f=m;let g;return t[6]!==i||t[7]!==n?(g={openPanels:n,isOpen:i,open:l,close:h,toggle:f},t[6]=i,t[7]=n,t[8]=g):g=t[8],g}const $le={selector:!1,containers:!1,images:!1,labels:!1,annotations:!1,"nominated node":!1,"readiness gates":!1,"node selector":!1};function zle(){const t=Le.c(3),[e,n]=z.useState(Fle);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=a=>{n(l=>typeof a=="function"?a(l):a)},t[0]=s):s=t[0];const r=s;let i;return t[1]!==e?(i={columnVisibility:e,onColumnVisibilityChange:r},t[1]=e,t[2]=i):i=t[2],i}function Fle(){return{...$le}}function Ule(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function Bo(t,e){return typeof t=="function"?t(e):t}function Or(t,e){return n=>{e.setState(s=>({...s,[t]:Bo(n,s[t])}))}}function e_(t){return t instanceof Function}function Hle(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Vle(t,e){const n=[],s=r=>{r.forEach(i=>{n.push(i);const a=e(i);a!=null&&a.length&&s(a)})};return s(t),n}function ft(t,e,n){let s=[],r;return i=>{let a;n.key&&n.debug&&(a=Date.now());const l=t(i);if(!(l.length!==s.length||l.some((m,f)=>s[f]!==m)))return r;s=l;let h;if(n.key&&n.debug&&(h=Date.now()),r=e(...l),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const m=Math.round((Date.now()-a)*100)/100,f=Math.round((Date.now()-h)*100)/100,g=f/16,y=(b,_)=>{for(b=String(b);b.length<_;)b=" "+b;return b};console.info(`%c ${y(f,5)} /${y(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n?.key)}return r}}function pt(t,e,n,s){return{debug:()=>{var r;return(r=t?.debugAll)!=null?r:t[e]},key:!1,onChange:s}}function qle(t,e,n,s){const r=()=>{var a;return(a=i.getValue())!=null?a:t.options.renderFallbackValue},i={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(s),renderValue:r,getContext:ft(()=>[t,n,e,i],(a,l,u,h)=>({table:a,column:l,row:u,cell:h,getValue:h.getValue,renderValue:h.renderValue}),pt(t.options,"debugCells"))};return t._features.forEach(a=>{a.createCell==null||a.createCell(i,n,e,t)},{}),i}function Kle(t,e,n,s){var r,i;const l={...t._getDefaultColumnDef(),...e},u=l.accessorKey;let h=(r=(i=l.id)!=null?i:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?r:typeof l.header=="string"?l.header:void 0,m;if(l.accessorFn?m=l.accessorFn:u&&(u.includes(".")?m=g=>{let y=g;for(const _ of u.split(".")){var b;y=(b=y)==null?void 0:b[_]}return y}:m=g=>g[l.accessorKey]),!h)throw new Error;let f={id:`${String(h)}`,accessorFn:m,parent:s,depth:n,columnDef:l,columns:[],getFlatColumns:ft(()=>[!0],()=>{var g;return[f,...(g=f.columns)==null?void 0:g.flatMap(y=>y.getFlatColumns())]},pt(t.options,"debugColumns")),getLeafColumns:ft(()=>[t._getOrderColumnsFn()],g=>{var y;if((y=f.columns)!=null&&y.length){let b=f.columns.flatMap(_=>_.getLeafColumns());return g(b)}return[f]},pt(t.options,"debugColumns"))};for(const g of t._features)g.createColumn==null||g.createColumn(f,t);return f}const ks="debugHeaders";function RM(t,e,n){var s;let i={id:(s=n.id)!=null?s:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],l=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(l),a.push(u)};return l(i),a},getContext:()=>({table:t,header:i,column:e})};return t._features.forEach(a=>{a.createHeader==null||a.createHeader(i,t)}),i}const Wle={createTable:t=>{t.getHeaderGroups=ft(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,s,r)=>{var i,a;const l=(i=s?.map(f=>n.find(g=>g.id===f)).filter(Boolean))!=null?i:[],u=(a=r?.map(f=>n.find(g=>g.id===f)).filter(Boolean))!=null?a:[],h=n.filter(f=>!(s!=null&&s.includes(f.id))&&!(r!=null&&r.includes(f.id)));return x0(e,[...l,...h,...u],t)},pt(t.options,ks)),t.getCenterHeaderGroups=ft(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,s,r)=>(n=n.filter(i=>!(s!=null&&s.includes(i.id))&&!(r!=null&&r.includes(i.id))),x0(e,n,t,"center")),pt(t.options,ks)),t.getLeftHeaderGroups=ft(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,s)=>{var r;const i=(r=s?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?r:[];return x0(e,i,t,"left")},pt(t.options,ks)),t.getRightHeaderGroups=ft(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,s)=>{var r;const i=(r=s?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?r:[];return x0(e,i,t,"right")},pt(t.options,ks)),t.getFooterGroups=ft(()=>[t.getHeaderGroups()],e=>[...e].reverse(),pt(t.options,ks)),t.getLeftFooterGroups=ft(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),pt(t.options,ks)),t.getCenterFooterGroups=ft(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),pt(t.options,ks)),t.getRightFooterGroups=ft(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),pt(t.options,ks)),t.getFlatHeaders=ft(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),pt(t.options,ks)),t.getLeftFlatHeaders=ft(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),pt(t.options,ks)),t.getCenterFlatHeaders=ft(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),pt(t.options,ks)),t.getRightFlatHeaders=ft(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),pt(t.options,ks)),t.getCenterLeafHeaders=ft(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),pt(t.options,ks)),t.getLeftLeafHeaders=ft(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),pt(t.options,ks)),t.getRightLeafHeaders=ft(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),pt(t.options,ks)),t.getLeafHeaders=ft(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,s)=>{var r,i,a,l,u,h;return[...(r=(i=e[0])==null?void 0:i.headers)!=null?r:[],...(a=(l=n[0])==null?void 0:l.headers)!=null?a:[],...(u=(h=s[0])==null?void 0:h.headers)!=null?u:[]].map(m=>m.getLeafHeaders()).flat()},pt(t.options,ks))}};function x0(t,e,n,s){var r,i;let a=0;const l=function(g,y){y===void 0&&(y=1),a=Math.max(a,y),g.filter(b=>b.getIsVisible()).forEach(b=>{var _;(_=b.columns)!=null&&_.length&&l(b.columns,y+1)},0)};l(t);let u=[];const h=(g,y)=>{const b={depth:y,id:[s,`${y}`].filter(Boolean).join("_"),headers:[]},_=[];g.forEach(w=>{const k=[..._].reverse()[0],C=w.column.depth===b.depth;let E,A=!1;if(C&&w.column.parent?E=w.column.parent:(E=w.column,A=!0),k&&k?.column===E)k.subHeaders.push(w);else{const R=RM(n,E,{id:[s,y,E.id,w?.id].filter(Boolean).join("_"),isPlaceholder:A,placeholderId:A?`${_.filter(N=>N.column===E).length}`:void 0,depth:y,index:_.length});R.subHeaders.push(w),_.push(R)}b.headers.push(w),w.headerGroup=b}),u.push(b),y>0&&h(_,y-1)},m=e.map((g,y)=>RM(n,g,{depth:a,index:y}));h(m,a-1),u.reverse();const f=g=>g.filter(b=>b.column.getIsVisible()).map(b=>{let _=0,w=0,k=[0];b.subHeaders&&b.subHeaders.length?(k=[],f(b.subHeaders).forEach(E=>{let{colSpan:A,rowSpan:R}=E;_+=A,k.push(R)})):_=1;const C=Math.min(...k);return w=w+C,b.colSpan=_,b.rowSpan=w,{colSpan:_,rowSpan:w}});return f((r=(i=u[0])==null?void 0:i.headers)!=null?r:[]),u}const Gle=(t,e,n,s,r,i,a)=>{let l={id:e,index:s,original:n,depth:r,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(l._valuesCache.hasOwnProperty(u))return l._valuesCache[u];const h=t.getColumn(u);if(h!=null&&h.accessorFn)return l._valuesCache[u]=h.accessorFn(l.original,s),l._valuesCache[u]},getUniqueValues:u=>{if(l._uniqueValuesCache.hasOwnProperty(u))return l._uniqueValuesCache[u];const h=t.getColumn(u);if(h!=null&&h.accessorFn)return h.columnDef.getUniqueValues?(l._uniqueValuesCache[u]=h.columnDef.getUniqueValues(l.original,s),l._uniqueValuesCache[u]):(l._uniqueValuesCache[u]=[l.getValue(u)],l._uniqueValuesCache[u])},renderValue:u=>{var h;return(h=l.getValue(u))!=null?h:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Vle(l.subRows,u=>u.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let u=[],h=l;for(;;){const m=h.getParentRow();if(!m)break;u.push(m),h=m}return u.reverse()},getAllCells:ft(()=>[t.getAllLeafColumns()],u=>u.map(h=>qle(t,l,h,h.id)),pt(t.options,"debugRows")),_getAllCellsByColumnId:ft(()=>[l.getAllCells()],u=>u.reduce((h,m)=>(h[m.column.id]=m,h),{}),pt(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const h=t._features[u];h==null||h.createRow==null||h.createRow(l,t)}return l},Yle={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},p$=(t,e,n)=>{var s,r;const i=n==null||(s=n.toString())==null?void 0:s.toLowerCase();return!!(!((r=t.getValue(e))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(i))};p$.autoRemove=t=>bi(t);const m$=(t,e,n)=>{var s;return!!(!((s=t.getValue(e))==null||(s=s.toString())==null)&&s.includes(n))};m$.autoRemove=t=>bi(t);const g$=(t,e,n)=>{var s;return((s=t.getValue(e))==null||(s=s.toString())==null?void 0:s.toLowerCase())===n?.toLowerCase()};g$.autoRemove=t=>bi(t);const y$=(t,e,n)=>{var s;return(s=t.getValue(e))==null?void 0:s.includes(n)};y$.autoRemove=t=>bi(t);const v$=(t,e,n)=>!n.some(s=>{var r;return!((r=t.getValue(e))!=null&&r.includes(s))});v$.autoRemove=t=>bi(t)||!(t!=null&&t.length);const b$=(t,e,n)=>n.some(s=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(s)});b$.autoRemove=t=>bi(t)||!(t!=null&&t.length);const _$=(t,e,n)=>t.getValue(e)===n;_$.autoRemove=t=>bi(t);const x$=(t,e,n)=>t.getValue(e)==n;x$.autoRemove=t=>bi(t);const vE=(t,e,n)=>{let[s,r]=n;const i=t.getValue(e);return i>=s&&i<=r};vE.resolveFilterValue=t=>{let[e,n]=t,s=typeof e!="number"?parseFloat(e):e,r=typeof n!="number"?parseFloat(n):n,i=e===null||Number.isNaN(s)?-1/0:s,a=n===null||Number.isNaN(r)?1/0:r;if(i>a){const l=i;i=a,a=l}return[i,a]};vE.autoRemove=t=>bi(t)||bi(t[0])&&bi(t[1]);const Ra={includesString:p$,includesStringSensitive:m$,equalsString:g$,arrIncludes:y$,arrIncludesAll:v$,arrIncludesSome:b$,equals:_$,weakEquals:x$,inNumberRange:vE};function bi(t){return t==null||t===""}const Zle={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Or("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],s=n?.getValue(t.id);return typeof s=="string"?Ra.includesString:typeof s=="number"?Ra.inNumberRange:typeof s=="boolean"||s!==null&&typeof s=="object"?Ra.equals:Array.isArray(s)?Ra.arrIncludes:Ra.weakEquals},t.getFilterFn=()=>{var n,s;return e_(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(s=e.options.filterFns)==null?void 0:s[t.columnDef.filterFn])!=null?n:Ra[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,s,r;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((s=e.options.enableColumnFilters)!=null?s:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(s=>s.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,s;return(n=(s=e.getState().columnFilters)==null?void 0:s.findIndex(r=>r.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(s=>{const r=t.getFilterFn(),i=s?.find(m=>m.id===t.id),a=Bo(n,i?i.value:void 0);if(TM(r,a,t)){var l;return(l=s?.filter(m=>m.id!==t.id))!=null?l:[]}const u={id:t.id,value:a};if(i){var h;return(h=s?.map(m=>m.id===t.id?u:m))!=null?h:[]}return s!=null&&s.length?[...s,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),s=r=>{var i;return(i=Bo(e,r))==null?void 0:i.filter(a=>{const l=n.find(u=>u.id===a.id);if(l){const u=l.getFilterFn();if(TM(u,a.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(s)},t.resetColumnFilters=e=>{var n,s;t.setColumnFilters(e?[]:(n=(s=t.initialState)==null?void 0:s.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function TM(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const Jle=(t,e,n)=>n.reduce((s,r)=>{const i=r.getValue(t);return s+(typeof i=="number"?i:0)},0),Xle=(t,e,n)=>{let s;return n.forEach(r=>{const i=r.getValue(t);i!=null&&(s>i||s===void 0&&i>=i)&&(s=i)}),s},Qle=(t,e,n)=>{let s;return n.forEach(r=>{const i=r.getValue(t);i!=null&&(s<i||s===void 0&&i>=i)&&(s=i)}),s},ece=(t,e,n)=>{let s,r;return n.forEach(i=>{const a=i.getValue(t);a!=null&&(s===void 0?a>=a&&(s=r=a):(s>a&&(s=a),r<a&&(r=a)))}),[s,r]},tce=(t,e)=>{let n=0,s=0;if(e.forEach(r=>{let i=r.getValue(t);i!=null&&(i=+i)>=i&&(++n,s+=i)}),n)return s/n},nce=(t,e)=>{if(!e.length)return;const n=e.map(i=>i.getValue(t));if(!Hle(n))return;if(n.length===1)return n[0];const s=Math.floor(n.length/2),r=n.sort((i,a)=>i-a);return n.length%2!==0?r[s]:(r[s-1]+r[s])/2},sce=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),rce=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,ice=(t,e)=>e.length,zS={sum:Jle,min:Xle,max:Qle,extent:ece,mean:tce,median:nce,unique:sce,uniqueCount:rce,count:ice},ace={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Or("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(s=>s!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,s;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((s=e.options.enableGrouping)!=null?s:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],s=n?.getValue(t.id);if(typeof s=="number")return zS.sum;if(Object.prototype.toString.call(s)==="[object Date]")return zS.extent},t.getAggregationFn=()=>{var n,s;if(!t)throw new Error;return e_(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(s=e.options.aggregationFns)==null?void 0:s[t.columnDef.aggregationFn])!=null?n:zS[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,s;t.setGrouping(e?[]:(n=(s=t.initialState)==null?void 0:s.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const s=e.getColumn(n);return s!=null&&s.columnDef.getGroupingValue?(t._groupingValuesCache[n]=s.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,s)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var r;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function oce(t,e,n){if(!(e!=null&&e.length)||!n)return t;const s=t.filter(i=>!e.includes(i.id));return n==="remove"?s:[...e.map(i=>t.find(a=>a.id===i)).filter(Boolean),...s]}const lce={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Or("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=ft(n=>[lp(e,n)],n=>n.findIndex(s=>s.id===t.id),pt(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var s;return((s=lp(e,n)[0])==null?void 0:s.id)===t.id},t.getIsLastColumn=n=>{var s;const r=lp(e,n);return((s=r[r.length-1])==null?void 0:s.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=ft(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,s)=>r=>{let i=[];if(!(e!=null&&e.length))i=r;else{const a=[...e],l=[...r];for(;l.length&&a.length;){const u=a.shift(),h=l.findIndex(m=>m.id===u);h>-1&&i.push(l.splice(h,1)[0])}i=[...i,...l]}return oce(i,n,s)},pt(t.options,"debugTable"))}},FS=()=>({left:[],right:[]}),cce={getInitialState:t=>({columnPinning:FS(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Or("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const s=t.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var i,a;if(n==="right"){var l,u;return{left:((l=r?.left)!=null?l:[]).filter(f=>!(s!=null&&s.includes(f))),right:[...((u=r?.right)!=null?u:[]).filter(f=>!(s!=null&&s.includes(f))),...s]}}if(n==="left"){var h,m;return{left:[...((h=r?.left)!=null?h:[]).filter(f=>!(s!=null&&s.includes(f))),...s],right:((m=r?.right)!=null?m:[]).filter(f=>!(s!=null&&s.includes(f)))}}return{left:((i=r?.left)!=null?i:[]).filter(f=>!(s!=null&&s.includes(f))),right:((a=r?.right)!=null?a:[]).filter(f=>!(s!=null&&s.includes(f)))}})},t.getCanPin=()=>t.getLeafColumns().some(s=>{var r,i,a;return((r=s.columnDef.enablePinning)!=null?r:!0)&&((i=(a=e.options.enableColumnPinning)!=null?a:e.options.enablePinning)!=null?i:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:s,right:r}=e.getState().columnPinning,i=n.some(l=>s?.includes(l)),a=n.some(l=>r?.includes(l));return i?"left":a?"right":!1},t.getPinnedIndex=()=>{var n,s;const r=t.getIsPinned();return r?(n=(s=e.getState().columnPinning)==null||(s=s[r])==null?void 0:s.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=ft(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,s,r)=>{const i=[...s??[],...r??[]];return n.filter(a=>!i.includes(a.column.id))},pt(e.options,"debugRows")),t.getLeftVisibleCells=ft(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,s)=>(s??[]).map(i=>n.find(a=>a.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),pt(e.options,"debugRows")),t.getRightVisibleCells=ft(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,s)=>(s??[]).map(i=>n.find(a=>a.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),pt(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,s;return t.setColumnPinning(e?FS():(n=(s=t.initialState)==null?void 0:s.columnPinning)!=null?n:FS())},t.getIsSomeColumnsPinned=e=>{var n;const s=t.getState().columnPinning;if(!e){var r,i;return!!((r=s.left)!=null&&r.length||(i=s.right)!=null&&i.length)}return!!((n=s[e])!=null&&n.length)},t.getLeftLeafColumns=ft(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(s=>e.find(r=>r.id===s)).filter(Boolean),pt(t.options,"debugColumns")),t.getRightLeafColumns=ft(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(s=>e.find(r=>r.id===s)).filter(Boolean),pt(t.options,"debugColumns")),t.getCenterLeafColumns=ft(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,s)=>{const r=[...n??[],...s??[]];return e.filter(i=>!r.includes(i.id))},pt(t.options,"debugColumns"))}};function uce(t){return t||(typeof document<"u"?document:null)}const S0={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},US=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),hce={getDefaultColumnDef:()=>S0,getInitialState:t=>({columnSizing:{},columnSizingInfo:US(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Or("columnSizing",t),onColumnSizingInfoChange:Or("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,s,r;const i=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:S0.minSize,(s=i??t.columnDef.size)!=null?s:S0.size),(r=t.columnDef.maxSize)!=null?r:S0.maxSize)},t.getStart=ft(n=>[n,lp(e,n),e.getState().columnSizing],(n,s)=>s.slice(0,t.getIndex(n)).reduce((r,i)=>r+i.getSize(),0),pt(e.options,"debugColumns")),t.getAfter=ft(n=>[n,lp(e,n),e.getState().columnSizing],(n,s)=>s.slice(t.getIndex(n)+1).reduce((r,i)=>r+i.getSize(),0),pt(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:s,...r}=n;return r})},t.getCanResize=()=>{var n,s;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((s=e.options.enableColumnResizing)!=null?s:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const s=r=>{if(r.subHeaders.length)r.subHeaders.forEach(s);else{var i;n+=(i=r.column.getSize())!=null?i:0}};return s(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const s=e.getColumn(t.column.id),r=s?.getCanResize();return i=>{if(!s||!r||(i.persist==null||i.persist(),HS(i)&&i.touches&&i.touches.length>1))return;const a=t.getSize(),l=t?t.getLeafHeaders().map(k=>[k.column.id,k.column.getSize()]):[[s.id,s.getSize()]],u=HS(i)?Math.round(i.touches[0].clientX):i.clientX,h={},m=(k,C)=>{typeof C=="number"&&(e.setColumnSizingInfo(E=>{var A,R;const N=e.options.columnResizeDirection==="rtl"?-1:1,M=(C-((A=E?.startOffset)!=null?A:0))*N,I=Math.max(M/((R=E?.startSize)!=null?R:0),-.999999);return E.columnSizingStart.forEach(q=>{let[B,K]=q;h[B]=Math.round(Math.max(K+K*I,0)*100)/100}),{...E,deltaOffset:M,deltaPercentage:I}}),(e.options.columnResizeMode==="onChange"||k==="end")&&e.setColumnSizing(E=>({...E,...h})))},f=k=>m("move",k),g=k=>{m("end",k),e.setColumnSizingInfo(C=>({...C,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},y=uce(n),b={moveHandler:k=>f(k.clientX),upHandler:k=>{y?.removeEventListener("mousemove",b.moveHandler),y?.removeEventListener("mouseup",b.upHandler),g(k.clientX)}},_={moveHandler:k=>(k.cancelable&&(k.preventDefault(),k.stopPropagation()),f(k.touches[0].clientX),!1),upHandler:k=>{var C;y?.removeEventListener("touchmove",_.moveHandler),y?.removeEventListener("touchend",_.upHandler),k.cancelable&&(k.preventDefault(),k.stopPropagation()),g((C=k.touches[0])==null?void 0:C.clientX)}},w=dce()?{passive:!1}:!1;HS(i)?(y?.addEventListener("touchmove",_.moveHandler,w),y?.addEventListener("touchend",_.upHandler,w)):(y?.addEventListener("mousemove",b.moveHandler,w),y?.addEventListener("mouseup",b.upHandler,w)),e.setColumnSizingInfo(k=>({...k,startOffset:u,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:s.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?US():(n=t.initialState.columnSizingInfo)!=null?n:US())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?e:0}}};let w0=null;function dce(){if(typeof w0=="boolean")return w0;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return w0=t,w0}function HS(t){return t.type==="touchstart"}const fce={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Or("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(s=>({...s,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,s;const r=t.columns;return(n=r.length?r.some(i=>i.getIsVisible()):(s=e.getState().columnVisibility)==null?void 0:s[t.id])!=null?n:!0},t.getCanHide=()=>{var n,s;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((s=e.options.enableHiding)!=null?s:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=ft(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(s=>s.column.getIsVisible()),pt(e.options,"debugRows")),t.getVisibleCells=ft(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,s,r)=>[...n,...s,...r],pt(e.options,"debugRows"))},createTable:t=>{const e=(n,s)=>ft(()=>[s(),s().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),pt(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var s;t.setColumnVisibility(n?{}:(s=t.initialState.columnVisibility)!=null?s:{})},t.toggleAllColumnsVisible=n=>{var s;n=(s=n)!=null?s:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((r,i)=>({...r,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var s;t.toggleAllColumnsVisible((s=n.target)==null?void 0:s.checked)}}};function lp(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const pce={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},mce={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Or("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const s=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof s=="string"||typeof s=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,s,r,i;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((s=e.options.enableGlobalFilter)!=null?s:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((i=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?i:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Ra.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:s}=t.options;return e_(s)?s:s==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[s])!=null?e:Ra[s]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},gce={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Or("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var s,r;if(!e){t._queue(()=>{e=!0});return}if((s=(r=t.options.autoResetAll)!=null?r:t.options.autoResetExpanded)!=null?s:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=s=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(s),t.toggleAllRowsExpanded=s=>{s??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=s=>{var r,i;t.setExpanded(s?{}:(r=(i=t.initialState)==null?void 0:i.expanded)!=null?r:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(s=>s.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>s=>{s.persist==null||s.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const s=t.getState().expanded;return s===!0||Object.values(s).some(Boolean)},t.getIsAllRowsExpanded=()=>{const s=t.getState().expanded;return typeof s=="boolean"?s===!0:!(!Object.keys(s).length||t.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},t.getExpandedDepth=()=>{let s=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(i=>{const a=i.split(".");s=Math.max(s,a.length)}),s},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(s=>{var r;const i=s===!0?!0:!!(s!=null&&s[t.id]);let a={};if(s===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{a[l]=!0}):a=s,n=(r=n)!=null?r:!i,!i&&n)return{...a,[t.id]:!0};if(i&&!n){const{[t.id]:l,...u}=a;return u}return s})},t.getIsExpanded=()=>{var n;const s=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:s===!0||s?.[t.id])},t.getCanExpand=()=>{var n,s,r;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((s=e.options.enableExpanding)!=null?s:!0)&&!!((r=t.subRows)!=null&&r.length)},t.getIsAllParentsExpanded=()=>{let n=!0,s=t;for(;n&&s.parentId;)s=e.getRow(s.parentId,!0),n=s.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},W2=0,G2=10,VS=()=>({pageIndex:W2,pageSize:G2}),yce={getInitialState:t=>({...t,pagination:{...VS(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:Or("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var s,r;if(!e){t._queue(()=>{e=!0});return}if((s=(r=t.options.autoResetAll)!=null?r:t.options.autoResetPageIndex)!=null?s:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=s=>{const r=i=>Bo(s,i);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(r)},t.resetPagination=s=>{var r;t.setPagination(s?VS():(r=t.initialState.pagination)!=null?r:VS())},t.setPageIndex=s=>{t.setPagination(r=>{let i=Bo(s,r.pageIndex);const a=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return i=Math.max(0,Math.min(i,a)),{...r,pageIndex:i}})},t.resetPageIndex=s=>{var r,i;t.setPageIndex(s?W2:(r=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?r:W2)},t.resetPageSize=s=>{var r,i;t.setPageSize(s?G2:(r=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?r:G2)},t.setPageSize=s=>{t.setPagination(r=>{const i=Math.max(1,Bo(s,r.pageSize)),a=r.pageSize*r.pageIndex,l=Math.floor(a/i);return{...r,pageIndex:l,pageSize:i}})},t.setPageCount=s=>t.setPagination(r=>{var i;let a=Bo(s,(i=t.options.pageCount)!=null?i:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...r,pageCount:a}}),t.getPageOptions=ft(()=>[t.getPageCount()],s=>{let r=[];return s&&s>0&&(r=[...new Array(s)].fill(null).map((i,a)=>a)),r},pt(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:s}=t.getState().pagination,r=t.getPageCount();return r===-1?!0:r===0?!1:s<r-1},t.previousPage=()=>t.setPageIndex(s=>s-1),t.nextPage=()=>t.setPageIndex(s=>s+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var s;return(s=t.options.pageCount)!=null?s:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var s;return(s=t.options.rowCount)!=null?s:t.getPrePaginationRowModel().rows.length}}},qS=()=>({top:[],bottom:[]}),vce={getInitialState:t=>({rowPinning:qS(),...t}),getDefaultOptions:t=>({onRowPinningChange:Or("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,s,r)=>{const i=s?t.getLeafRows().map(u=>{let{id:h}=u;return h}):[],a=r?t.getParentRows().map(u=>{let{id:h}=u;return h}):[],l=new Set([...a,t.id,...i]);e.setRowPinning(u=>{var h,m;if(n==="bottom"){var f,g;return{top:((f=u?.top)!=null?f:[]).filter(_=>!(l!=null&&l.has(_))),bottom:[...((g=u?.bottom)!=null?g:[]).filter(_=>!(l!=null&&l.has(_))),...Array.from(l)]}}if(n==="top"){var y,b;return{top:[...((y=u?.top)!=null?y:[]).filter(_=>!(l!=null&&l.has(_))),...Array.from(l)],bottom:((b=u?.bottom)!=null?b:[]).filter(_=>!(l!=null&&l.has(_)))}}return{top:((h=u?.top)!=null?h:[]).filter(_=>!(l!=null&&l.has(_))),bottom:((m=u?.bottom)!=null?m:[]).filter(_=>!(l!=null&&l.has(_)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:s,enablePinning:r}=e.options;return typeof s=="function"?s(t):(n=s??r)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:s,bottom:r}=e.getState().rowPinning,i=n.some(l=>s?.includes(l)),a=n.some(l=>r?.includes(l));return i?"top":a?"bottom":!1},t.getPinnedIndex=()=>{var n,s;const r=t.getIsPinned();if(!r)return-1;const i=(n=r==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(a=>{let{id:l}=a;return l});return(s=i?.indexOf(t.id))!=null?s:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,s;return t.setRowPinning(e?qS():(n=(s=t.initialState)==null?void 0:s.rowPinning)!=null?n:qS())},t.getIsSomeRowsPinned=e=>{var n;const s=t.getState().rowPinning;if(!e){var r,i;return!!((r=s.top)!=null&&r.length||(i=s.bottom)!=null&&i.length)}return!!((n=s[e])!=null&&n.length)},t._getPinnedRows=(e,n,s)=>{var r;return((r=t.options.keepPinnedRows)==null||r?(n??[]).map(a=>{const l=t.getRow(a,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(a=>e.find(l=>l.id===a))).filter(Boolean).map(a=>({...a,position:s}))},t.getTopRows=ft(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),pt(t.options,"debugRows")),t.getBottomRows=ft(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),pt(t.options,"debugRows")),t.getCenterRows=ft(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,s)=>{const r=new Set([...n??[],...s??[]]);return e.filter(i=>!r.has(i.id))},pt(t.options,"debugRows"))}},bce={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Or("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const s={...n},r=t.getPreGroupedRowModel().flatRows;return e?r.forEach(i=>{i.getCanSelect()&&(s[i.id]=!0)}):r.forEach(i=>{delete s[i.id]}),s})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const s=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),r={...n};return t.getRowModel().rows.forEach(i=>{Y2(r,i.id,s,!0,t)}),r}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=ft(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?KS(t,n):{rows:[],flatRows:[],rowsById:{}},pt(t.options,"debugTable")),t.getFilteredSelectedRowModel=ft(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?KS(t,n):{rows:[],flatRows:[],rowsById:{}},pt(t.options,"debugTable")),t.getGroupedSelectedRowModel=ft(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?KS(t,n):{rows:[],flatRows:[],rowsById:{}},pt(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let s=!!(e.length&&Object.keys(n).length);return s&&e.some(r=>r.getCanSelect()&&!n[r.id])&&(s=!1),s},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=t.getState();let s=!!e.length;return s&&e.some(r=>!n[r.id])&&(s=!1),s},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,s)=>{const r=t.getIsSelected();e.setRowSelection(i=>{var a;if(n=typeof n<"u"?n:!r,t.getCanSelect()&&r===n)return i;const l={...i};return Y2(l,t.id,n,(a=s?.selectChildren)!=null?a:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return bE(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Z2(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Z2(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return s=>{var r;n&&t.toggleSelected((r=s.target)==null?void 0:r.checked)}}}},Y2=(t,e,n,s,r)=>{var i;const a=r.getRow(e,!0);n?(a.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),a.getCanSelect()&&(t[e]=!0)):delete t[e],s&&(i=a.subRows)!=null&&i.length&&a.getCanSelectSubRows()&&a.subRows.forEach(l=>Y2(t,l.id,n,s,r))};function KS(t,e){const n=t.getState().rowSelection,s=[],r={},i=function(a,l){return a.map(u=>{var h;const m=bE(u,n);if(m&&(s.push(u),r[u.id]=u),(h=u.subRows)!=null&&h.length&&(u={...u,subRows:i(u.subRows)}),m)return u}).filter(Boolean)};return{rows:i(e.rows),flatRows:s,rowsById:r}}function bE(t,e){var n;return(n=e[t.id])!=null?n:!1}function Z2(t,e,n){var s;if(!((s=t.subRows)!=null&&s.length))return!1;let r=!0,i=!1;return t.subRows.forEach(a=>{if(!(i&&!r)&&(a.getCanSelect()&&(bE(a,e)?i=!0:r=!1),a.subRows&&a.subRows.length)){const l=Z2(a,e);l==="all"?i=!0:(l==="some"&&(i=!0),r=!1)}}),r?"all":i?"some":!1}const J2=/([0-9]+)/gm,_ce=(t,e,n)=>S$(Qo(t.getValue(n)).toLowerCase(),Qo(e.getValue(n)).toLowerCase()),xce=(t,e,n)=>S$(Qo(t.getValue(n)),Qo(e.getValue(n))),Sce=(t,e,n)=>_E(Qo(t.getValue(n)).toLowerCase(),Qo(e.getValue(n)).toLowerCase()),wce=(t,e,n)=>_E(Qo(t.getValue(n)),Qo(e.getValue(n))),kce=(t,e,n)=>{const s=t.getValue(n),r=e.getValue(n);return s>r?1:s<r?-1:0},Cce=(t,e,n)=>_E(t.getValue(n),e.getValue(n));function _E(t,e){return t===e?0:t>e?1:-1}function Qo(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function S$(t,e){const n=t.split(J2).filter(Boolean),s=e.split(J2).filter(Boolean);for(;n.length&&s.length;){const r=n.shift(),i=s.shift(),a=parseInt(r,10),l=parseInt(i,10),u=[a,l].sort();if(isNaN(u[0])){if(r>i)return 1;if(i>r)return-1;continue}if(isNaN(u[1]))return isNaN(a)?-1:1;if(a>l)return 1;if(l>a)return-1}return n.length-s.length}const ef={alphanumeric:_ce,alphanumericCaseSensitive:xce,text:Sce,textCaseSensitive:wce,datetime:kce,basic:Cce},Nce={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Or("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let s=!1;for(const r of n){const i=r?.getValue(t.id);if(Object.prototype.toString.call(i)==="[object Date]")return ef.datetime;if(typeof i=="string"&&(s=!0,i.split(J2).length>1))return ef.alphanumeric}return s?ef.text:ef.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,s;if(!t)throw new Error;return e_(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(s=e.options.sortingFns)==null?void 0:s[t.columnDef.sortingFn])!=null?n:ef[t.columnDef.sortingFn]},t.toggleSorting=(n,s)=>{const r=t.getNextSortingOrder(),i=typeof n<"u"&&n!==null;e.setSorting(a=>{const l=a?.find(y=>y.id===t.id),u=a?.findIndex(y=>y.id===t.id);let h=[],m,f=i?n:r==="desc";if(a!=null&&a.length&&t.getCanMultiSort()&&s?l?m="toggle":m="add":a!=null&&a.length&&u!==a.length-1?m="replace":l?m="toggle":m="replace",m==="toggle"&&(i||r||(m="remove")),m==="add"){var g;h=[...a,{id:t.id,desc:f}],h.splice(0,h.length-((g=e.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else m==="toggle"?h=a.map(y=>y.id===t.id?{...y,desc:f}:y):m==="remove"?h=a.filter(y=>y.id!==t.id):h=[{id:t.id,desc:f}];return h})},t.getFirstSortDir=()=>{var n,s;return((n=(s=t.columnDef.sortDescFirst)!=null?s:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var s,r;const i=t.getFirstSortDir(),a=t.getIsSorted();return a?a!==i&&((s=e.options.enableSortingRemoval)==null||s)&&(!(n&&(r=e.options.enableMultiRemove)!=null)||r)?!1:a==="desc"?"asc":"desc":i},t.getCanSort=()=>{var n,s;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((s=e.options.enableSorting)!=null?s:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,s;return(n=(s=t.columnDef.enableMultiSort)!=null?s:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const s=(n=e.getState().sorting)==null?void 0:n.find(r=>r.id===t.id);return s?s.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,s;return(n=(s=e.getState().sorting)==null?void 0:s.findIndex(r=>r.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(s=>s.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return s=>{n&&(s.persist==null||s.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(s):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,s;t.setSorting(e?[]:(n=(s=t.initialState)==null?void 0:s.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},Ece=[Wle,fce,lce,cce,Yle,Zle,pce,mce,Nce,ace,gce,yce,vce,bce,hce];function Ace(t){var e,n;const s=[...Ece,...(e=t._features)!=null?e:[]];let r={_features:s};const i=r._features.reduce((g,y)=>Object.assign(g,y.getDefaultOptions==null?void 0:y.getDefaultOptions(r)),{}),a=g=>r.options.mergeOptions?r.options.mergeOptions(i,g):{...i,...g};let u={...{},...(n=t.initialState)!=null?n:{}};r._features.forEach(g=>{var y;u=(y=g.getInitialState==null?void 0:g.getInitialState(u))!=null?y:u});const h=[];let m=!1;const f={_features:s,options:{...i,...t},initialState:u,_queue:g=>{h.push(g),m||(m=!0,Promise.resolve().then(()=>{for(;h.length;)h.shift()();m=!1}).catch(y=>setTimeout(()=>{throw y})))},reset:()=>{r.setState(r.initialState)},setOptions:g=>{const y=Bo(g,r.options);r.options=a(y)},getState:()=>r.options.state,setState:g=>{r.options.onStateChange==null||r.options.onStateChange(g)},_getRowId:(g,y,b)=>{var _;return(_=r.options.getRowId==null?void 0:r.options.getRowId(g,y,b))!=null?_:`${b?[b.id,y].join("."):y}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(g,y)=>{let b=(y?r.getPrePaginationRowModel():r.getRowModel()).rowsById[g];if(!b&&(b=r.getCoreRowModel().rowsById[g],!b))throw new Error;return b},_getDefaultColumnDef:ft(()=>[r.options.defaultColumn],g=>{var y;return g=(y=g)!=null?y:{},{header:b=>{const _=b.header.column.columnDef;return _.accessorKey?_.accessorKey:_.accessorFn?_.id:null},cell:b=>{var _,w;return(_=(w=b.renderValue())==null||w.toString==null?void 0:w.toString())!=null?_:null},...r._features.reduce((b,_)=>Object.assign(b,_.getDefaultColumnDef==null?void 0:_.getDefaultColumnDef()),{}),...g}},pt(t,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:ft(()=>[r._getColumnDefs()],g=>{const y=function(b,_,w){return w===void 0&&(w=0),b.map(k=>{const C=Kle(r,k,w,_),E=k;return C.columns=E.columns?y(E.columns,C,w+1):[],C})};return y(g)},pt(t,"debugColumns")),getAllFlatColumns:ft(()=>[r.getAllColumns()],g=>g.flatMap(y=>y.getFlatColumns()),pt(t,"debugColumns")),_getAllFlatColumnsById:ft(()=>[r.getAllFlatColumns()],g=>g.reduce((y,b)=>(y[b.id]=b,y),{}),pt(t,"debugColumns")),getAllLeafColumns:ft(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(g,y)=>{let b=g.flatMap(_=>_.getLeafColumns());return y(b)},pt(t,"debugColumns")),getColumn:g=>r._getAllFlatColumnsById()[g]};Object.assign(r,f);for(let g=0;g<r._features.length;g++){const y=r._features[g];y==null||y.createTable==null||y.createTable(r)}return r}function Rce(){return t=>ft(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},s=function(r,i,a){i===void 0&&(i=0);const l=[];for(let h=0;h<r.length;h++){const m=Gle(t,t._getRowId(r[h],h,a),r[h],h,i,void 0,a?.id);if(n.flatRows.push(m),n.rowsById[m.id]=m,l.push(m),t.options.getSubRows){var u;m.originalSubRows=t.options.getSubRows(r[h],h),(u=m.originalSubRows)!=null&&u.length&&(m.subRows=s(m.originalSubRows,i+1,m))}}return l};return n.rows=s(e),n},pt(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function Tce(){return t=>ft(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const s=t.getState().sorting,r=[],i=s.filter(u=>{var h;return(h=t.getColumn(u.id))==null?void 0:h.getCanSort()}),a={};i.forEach(u=>{const h=t.getColumn(u.id);h&&(a[u.id]={sortUndefined:h.columnDef.sortUndefined,invertSorting:h.columnDef.invertSorting,sortingFn:h.getSortingFn()})});const l=u=>{const h=u.map(m=>({...m}));return h.sort((m,f)=>{for(let y=0;y<i.length;y+=1){var g;const b=i[y],_=a[b.id],w=_.sortUndefined,k=(g=b?.desc)!=null?g:!1;let C=0;if(w){const E=m.getValue(b.id),A=f.getValue(b.id),R=E===void 0,N=A===void 0;if(R||N){if(w==="first")return R?-1:1;if(w==="last")return R?1:-1;C=R&&N?0:R?w:-w}}if(C===0&&(C=_.sortingFn(m,f,b.id)),C!==0)return k&&(C*=-1),_.invertSorting&&(C*=-1),C}return m.index-f.index}),h.forEach(m=>{var f;r.push(m),(f=m.subRows)!=null&&f.length&&(m.subRows=l(m.subRows))}),h};return{rows:l(n.rows),flatRows:r,rowsById:n.rowsById}},pt(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}function jM(t,e){return t?jce(t)?z.createElement(t,e):t:null}function jce(t){return Oce(t)||typeof t=="function"||Mce(t)}function Oce(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function Mce(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function Ice(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=z.useState(()=>({current:Ace(e)})),[s,r]=z.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...t,state:{...s,...t.state},onStateChange:a=>{r(a),t.onStateChange==null||t.onStateChange(a)}})),n.current}function WS(t){return t?.metadata?.uid?t.metadata.uid:t?.Id?t.Id:t?.Name?t.Name:JSON.stringify(t)}function Dce(t){if(t?.metadata?.namespace)return t.metadata.namespace}function Pce(t){const e=Le.c(17),{columns:n}=t,[s,r]=z.useState(!1),i=z.useRef(null);let a,l;e[0]!==s?(a=()=>{if(!s)return;const _=function(k){i.current&&!i.current.contains(k.target)&&r(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},l=[s],e[0]=s,e[1]=a,e[2]=l):(a=e[1],l=e[2]),z.useEffect(a,l);let u,h;if(e[3]!==s?(u=()=>{if(!s)return;const _=function(k){k.key==="Escape"&&r(!1)};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},h=[s],e[3]=s,e[4]=u,e[5]=h):(u=e[4],h=e[5]),z.useEffect(u,h),n.length===0)return null;let m;e[6]!==s?(m=()=>r(!s),e[6]=s,e[7]=m):m=e[7];let f;e[8]===Symbol.for("react.memo_cache_sentinel")?(f=p.jsx(QG,{size:18}),e[8]=f):f=e[8];let g;e[9]!==m?(g=p.jsx("button",{onClick:m,className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 rounded-md transition-colors focus:outline-none",title:"Toggle columns",children:f}),e[9]=m,e[10]=g):g=e[10];let y;e[11]!==n||e[12]!==s?(y=s&&p.jsx("div",{className:"absolute right-0 z-50 mt-1 p-2 bg-white border border-neutral-300 dark:bg-neutral-900 dark:border-neutral-700 rounded-lg shadow-xl min-w-45 max-h-75 overflow-y-auto",children:n.map(Lce)}),e[11]=n,e[12]=s,e[13]=y):y=e[13];let b;return e[14]!==g||e[15]!==y?(b=p.jsxs("div",{className:"relative",ref:i,children:[g,y]}),e[14]=g,e[15]=y,e[16]=b):b=e[16],b}function Lce(t){const e=t.getIsVisible(),n=t.id;return p.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 cursor-pointer rounded hover:bg-neutral-100 dark:hover:bg-neutral-800",children:[p.jsx("span",{onClick:t.getToggleVisibilityHandler(),className:`size-4 rounded border flex items-center justify-center cursor-pointer transition-colors ${e?"bg-neutral-500 border-neutral-500 dark:bg-neutral-600 dark:border-neutral-500":"border-neutral-300 bg-white dark:border-neutral-600 dark:bg-neutral-800"}`,children:e&&p.jsx(An,{size:12,className:"text-white dark:text-neutral-300"})}),p.jsx("span",{onClick:t.getToggleVisibilityHandler(),className:"text-sm text-neutral-700 dark:text-neutral-400 cursor-pointer",children:n})]},n)}const OM=Ule();function Bce(t){const e=t.toLowerCase();return e==="status"||e==="phase"||e==="ready"||e==="condition"}function $ce(t){const e=t.toLowerCase();return e.match(/running|active|ready|available|bound|succeeded|complete|healthy|true/)?{text:"text-emerald-600 dark:text-emerald-400",dot:"bg-emerald-500"}:e.match(/pending|creating|waiting|progressing|scheduled/)?{text:"text-amber-600 dark:text-amber-400",dot:"bg-amber-500"}:e.match(/failed|error|crashloopbackoff|terminated|unknown|lost|false/)?{text:"text-red-600 dark:text-red-400",dot:"bg-red-500"}:{text:"text-neutral-500 dark:text-neutral-400",dot:"bg-neutral-400"}}function zce({config:t,data:e,loading:n,error:s,refetch:r,isRefetching:i=!1,columnVisibility:a,onColumnVisibilityChange:l,onColumnsLoaded:u,toolbarRef:h,selectedItem:m,onSelectItem:f,namespace:g}){const y=g===void 0&&t.namespaced===!0,b=z.useMemo(()=>{if(!e?.columnDefinitions)return[];const A=[];return e.columnDefinitions.forEach((N,M)=>{const I=Bce(N.name),q=N.name.toLowerCase()==="name",B=N.format==="date-time";A.push(OM.accessor(K=>K.cells[M],{id:N.name.toLowerCase(),header:N.name,sortingFn:B?"datetime":"auto",sortUndefined:"last",cell:K=>{const $=K.getValue();let W;if($==null)W="<none>";else if(B&&typeof $=="string"){const Z=new Date($),L=new Date().getTime()-Z.getTime(),Y=Math.floor(L/1e3),X=Math.floor(Y/60),U=Math.floor(X/60),O=Math.floor(U/24);O>0?W=`${O}d`:U>0?W=`${U}h`:X>0?W=`${X}m`:W=`${Y}s`}else Array.isArray($)?W=$.length>0?$.join(", "):"<none>":typeof $=="object"?W=JSON.stringify($):W=String($);if(I){const{text:Z,dot:G}=$ce(W);return p.jsxs("span",{className:`inline-flex items-center gap-1.5 text-xs font-medium capitalize ${Z}`,children:[p.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${G}`}),W]})}return q?p.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:W}):p.jsx("span",{className:"text-neutral-500 dark:text-neutral-500",children:W})},meta:{description:N.description,format:N.format}})),q&&y&&A.push(OM.accessor(K=>Dce(K.object),{id:"Namespace",header:"Namespace",sortingFn:"alphanumeric",sortUndefined:"last",cell:K=>{const $=K.getValue()??"<none>";return p.jsx("span",{className:"text-neutral-500 dark:text-neutral-500",children:$})},meta:{description:"Namespace of the resource",format:""}}))}),A},[e?.columnDefinitions,y]),_=z.useMemo(()=>m?{[WS(m.object)]:!0}:{},[m]),w=z.useCallback(A=>{const R=typeof A=="function"?A(_):A,N=Object.keys(R).filter(M=>R[M]);if(N.length===0)f?.(null);else{const M=e?.rows.find(I=>WS(I.object)===N[0]);f?.(M??null)}},[e?.rows,f,_]),[k,C]=z.useState([]),E=Ice({data:e?.rows??[],columns:b,state:{sorting:k,rowSelection:_,columnVisibility:a},getCoreRowModel:Rce(),getSortedRowModel:Tce(),onSortingChange:C,onRowSelectionChange:w,onColumnVisibilityChange:l,enableRowSelection:!0,enableMultiRowSelection:!1,getRowId:A=>WS(A.object)});return z.useEffect(()=>{e?.columnDefinitions&&u&&u(e.columnDefinitions)},[e,u]),n?p.jsx("div",{className:"h-full flex items-center justify-center",children:p.jsxs("div",{className:"flex flex-col items-center gap-3 text-neutral-400 dark:text-neutral-500",children:[p.jsx("div",{className:"w-6 h-6 border-2 border-neutral-200 border-t-neutral-400 dark:border-neutral-700 dark:border-t-neutral-500 rounded-full animate-spin"}),p.jsxs("span",{className:"text-sm",children:["Loading ",t.name,"..."]})]})}):s?p.jsx("div",{className:"h-full flex items-center justify-center",children:p.jsxs("div",{className:"flex items-center gap-3 text-red-500 dark:text-red-400",children:[p.jsx(Ey,{size:18}),p.jsx("span",{className:"text-sm",children:s.message}),p.jsx("button",{onClick:r,className:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 underline underline-offset-2",children:"Retry"})]})}):!e||!e.columnDefinitions||e.rows.length===0?p.jsx("div",{className:"h-full flex items-center justify-center",children:p.jsxs("div",{className:"flex flex-col items-center text-neutral-400 dark:text-neutral-500",children:[p.jsx("svg",{className:"w-8 h-8 mb-2 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),p.jsx("span",{className:"text-sm",children:"No resources found"})]})}):p.jsxs("div",{className:"pl-2 h-full relative",children:[i&&p.jsx("div",{className:"absolute top-2 right-4 z-20",children:p.jsx($n,{size:14,className:"text-neutral-400 dark:text-neutral-500 animate-spin"})}),p.jsx("div",{className:"overflow-auto h-full",children:p.jsxs("table",{className:"w-full text-[13px]",children:[p.jsx("thead",{className:"sticky top-0 z-10 bg-neutral-100 dark:bg-neutral-950",children:E.getHeaderGroups().map(A=>p.jsx("tr",{children:A.headers.map(R=>{const N=R.column.getIsSorted(),M=R.column.columnDef.meta;return p.jsx("th",{title:M?.description,onClick:R.column.getToggleSortingHandler(),className:`text-left px-4 py-2 text-[11px] font-medium whitespace-nowrap cursor-pointer transition-colors select-none group bg-neutral-100 dark:bg-neutral-950 ${N?"text-neutral-900 dark:text-neutral-200":"text-neutral-500 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-400"}`,children:p.jsxs("div",{className:"flex items-center gap-1",children:[jM(R.column.columnDef.header,R.getContext()),p.jsx("span",{className:`transition-opacity ${N?"opacity-100":"opacity-0 group-hover:opacity-40"}`,children:N==="asc"?p.jsx(zG,{size:12}):N==="desc"?p.jsx(vs,{size:12}):p.jsx(UG,{size:12})})]})},R.id)})},A.id))}),p.jsx("tbody",{children:E.getRowModel().rows.map((A,R)=>{const N=A.getIsSelected(),M=R%2===1,I=A.getVisibleCells();return p.jsx("tr",{onClick:A.getToggleSelectedHandler(),className:`transition-colors cursor-pointer ${N?"bg-blue-500/20 dark:bg-blue-500/20":M?"bg-neutral-200/40 dark:bg-neutral-800/30 hover:bg-neutral-200/70 dark:hover:bg-neutral-800/50":"hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30"}`,children:I.map((q,B)=>p.jsx("td",{className:`px-4 py-2 whitespace-nowrap ${B===0?"rounded-l-lg":""} ${B===I.length-1?"rounded-r-lg":""}`,children:jM(q.column.columnDef.cell,q.getContext())},q.id))},A.id)})})]})}),h&&p.jsx(zb,{toolbarRef:h,children:p.jsx(Pce,{columns:E.getAllLeafColumns()})})]})}const Cl="detail";function w$(t){const e=Le.c(57),{config:n,title:s,namespace:r,data:i,loading:a,error:l,refetch:u,isRefetching:h,showDetailPanel:m,renderDetailPanel:f,renderHeaderActions:g,renderExtraPanels:y,selectedItemName:b,onSelectItemName:_,getItemName:w}=t,k=h===void 0?!1:h,C=m===void 0?!0:m;let E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E=[],e[0]=E):E=e[0];const[A,R]=z.useState(E),[N,M]=z.useState(null),I=z.useRef(null),[q,B]=z.useState(n),[K,$]=z.useState(r),{columnVisibility:W,onColumnVisibilityChange:Z}=zle(),{isOpen:G,open:L,close:Y}=yE(),X=G(Cl),U=z.useRef(void 0),O=z.useRef(!1);(n!==q||r!==K)&&(B(n),$(r),M(null),Y(Cl));let V;e[1]===Symbol.for("react.memo_cache_sentinel")?(V=()=>{O.current=!1},e[1]=V):V=e[1];let T;e[2]!==n||e[3]!==r?(T=[n,r],e[2]=n,e[3]=r,e[4]=T):T=e[4],z.useEffect(V,T);let Q,te;e[5]!==Y||e[6]!==i||e[7]!==w||e[8]!==L||e[9]!==b||e[10]!==C?(Q=()=>{const Ie=U.current;U.current=b,queueMicrotask(()=>{if(b&&i?.rows&&w){const Ke=i.rows.find(ae=>w(ae)===b);Ke&&(Ie!==b||!O.current)&&(O.current=!0,M(Ke),C&&L(Cl))}else!b&&Ie&&(M(null),Y(Cl))})},te=[b,i,w,C,L,Y],e[5]=Y,e[6]=i,e[7]=w,e[8]=L,e[9]=b,e[10]=C,e[11]=Q,e[12]=te):(Q=e[11],te=e[12]),z.useEffect(Q,te);let J;e[13]!==Y||e[14]!==w||e[15]!==_||e[16]!==L||e[17]!==C?(J=Ie=>{M(Ie),Ie&&C?(L(Cl),_&&w&&_(w(Ie))):(Y(Cl),_&&_(void 0))},e[13]=Y,e[14]=w,e[15]=_,e[16]=L,e[17]=C,e[18]=J):J=e[18];const ue=J;let we;e[19]===Symbol.for("react.memo_cache_sentinel")?(we=Ie=>{R(Ie)},e[19]=we):we=e[19];const ke=we,ze=`shrink-0 h-14 flex items-center justify-between px-5 mt-2 transition-all duration-300 ${X?"pr-[40rem]":""}`;let Ce;e[20]!==s?(Ce=p.jsx("div",{className:"flex items-center gap-4",children:p.jsx("h2",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:s})}),e[20]=s,e[21]=Ce):Ce=e[21];let Oe,qe;e[22]===Symbol.for("react.memo_cache_sentinel")?(Oe=p.jsx("button",{onClick:Fce,className:"p-2 rounded-md text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 transition-colors",title:"Command Palette (K)",children:p.jsx(QC,{size:18})}),qe=p.jsx("div",{ref:I}),e[22]=Oe,e[23]=qe):(Oe=e[22],qe=e[23]);let lt;e[24]!==A||e[25]!==g?(lt=g?.(A),e[24]=A,e[25]=g,e[26]=lt):lt=e[26];let at;e[27]!==lt?(at=p.jsxs("div",{className:"flex items-center gap-2",children:[Oe,qe,lt]}),e[27]=lt,e[28]=at):at=e[28];let Lt;e[29]!==ze||e[30]!==Ce||e[31]!==at?(Lt=p.jsxs("header",{className:ze,children:[Ce,at]}),e[29]=ze,e[30]=Ce,e[31]=at,e[32]=Lt):Lt=e[32];let Bt;e[33]!==W||e[34]!==n||e[35]!==i||e[36]!==l||e[37]!==ue||e[38]!==k||e[39]!==a||e[40]!==r||e[41]!==Z||e[42]!==u||e[43]!==N?(Bt=p.jsx("section",{className:"flex-1 min-h-0 overflow-hidden",children:p.jsx(zce,{config:n,data:i,loading:a,error:l,refetch:u,isRefetching:k,columnVisibility:W,onColumnVisibilityChange:Z,onColumnsLoaded:ke,toolbarRef:I,selectedItem:N,onSelectItem:ue,namespace:r})}),e[33]=W,e[34]=n,e[35]=i,e[36]=l,e[37]=ue,e[38]=k,e[39]=a,e[40]=r,e[41]=Z,e[42]=u,e[43]=N,e[44]=Bt):Bt=e[44];let At;e[45]!==Lt||e[46]!==Bt?(At=p.jsxs("main",{className:"flex-1 flex flex-col h-full min-w-0",children:[Lt,Bt]}),e[45]=Lt,e[46]=Bt,e[47]=At):At=e[47];const jt=y?.(N,X);let De;e[48]!==Y||e[49]!==_||e[50]!==f||e[51]!==N?(De=f&&N&&f(N,()=>{M(null),Y(Cl),_&&_(void 0)},!1),e[48]=Y,e[49]=_,e[50]=f,e[51]=N,e[52]=De):De=e[52];let He;return e[53]!==At||e[54]!==jt||e[55]!==De?(He=p.jsxs(p.Fragment,{children:[At,jt,De]}),e[53]=At,e[54]=jt,e[55]=De,e[56]=He):He=e[56],He}function Fce(){const t=new KeyboardEvent("keydown",{key:"k",metaKey:!0,ctrlKey:!0,bubbles:!0});document.dispatchEvent(t)}class Uce{#t=!0;#e;#n;#r;#s;#o;#i;#a;#p=0;#m=5;#c=!1;#u=!1;#l=null;#h=()=>{this.debugLog("Connected to event bus"),this.#o=!0,this.#c=!1,this.debugLog("Emitting queued events",this.#s),this.#s.forEach(e=>this.emitEventToBus(e)),this.#s=[],this.stopConnectLoop(),this.#n().removeEventListener("tanstack-connect-success",this.#h)};#d=()=>{if(this.#p<this.#m){this.#p++,this.dispatchCustomEvent("tanstack-connect",{});return}this.#n().removeEventListener("tanstack-connect",this.#d),this.#u=!0,this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()};#f=()=>{this.#c||(this.#c=!0,this.#n().addEventListener("tanstack-connect-success",this.#h),this.#d())};constructor({pluginId:e,debug:n=!1,enabled:s=!0,reconnectEveryMs:r=300}){this.#e=e,this.#t=s,this.#n=this.getGlobalTarget,this.#r=n,this.debugLog(" Initializing event subscription for plugin",this.#e),this.#s=[],this.#o=!1,this.#u=!1,this.#i=null,this.#a=r}startConnectLoop(){this.#i!==null||this.#o||(this.debugLog(`Starting connect loop (every ${this.#a}ms)`),this.#i=setInterval(this.#d,this.#a))}stopConnectLoop(){this.#c=!1,this.#i!==null&&(clearInterval(this.#i),this.#i=null,this.#s=[],this.debugLog("Stopped connect loop"))}debugLog(...e){this.#r&&console.log(` [tanstack-devtools:${this.#e}-plugin]`,...e)}getGlobalTarget(){if(typeof globalThis<"u"&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;if(typeof window<"u"&&typeof window.addEventListener<"u")return this.debugLog("Using window as event target"),window;const e=typeof EventTarget<"u"?new EventTarget:void 0;return typeof e>"u"||typeof e.addEventListener>"u"?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),e)}getPluginId(){return this.#e}dispatchCustomEventShim(e,n){try{const s=new Event(e,{detail:n});this.#n().dispatchEvent(s)}catch{this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(e,n){try{this.#n().dispatchEvent(new CustomEvent(e,{detail:n}))}catch{this.dispatchCustomEventShim(e,n)}}emitEventToBus(e){this.debugLog("Emitting event to client bus",e),this.dispatchCustomEvent("tanstack-dispatch-event",e)}createEventPayload(e,n){return{type:`${this.#e}:${e}`,payload:n,pluginId:this.#e}}emit(e,n){if(!this.#t){this.debugLog("Event bus client is disabled, not emitting event",e,n);return}if(this.#l&&(this.debugLog("Emitting event to internal event target",e,n),this.#l.dispatchEvent(new CustomEvent(`${this.#e}:${e}`,{detail:this.createEventPayload(e,n)}))),this.#u){this.debugLog("Previously failed to connect, not emitting to bus");return}if(!this.#o){this.debugLog("Bus not available, will be pushed as soon as connected"),this.#s.push(this.createEventPayload(e,n)),typeof CustomEvent<"u"&&!this.#c&&(this.#f(),this.startConnectLoop());return}return this.emitEventToBus(this.createEventPayload(e,n))}on(e,n,s){const r=s?.withEventTarget??!1,i=`${this.#e}:${e}`;if(r&&(this.#l||(this.#l=new EventTarget),this.#l.addEventListener(i,l=>{n(l.detail)})),!this.#t)return this.debugLog("Event bus client is disabled, not registering event",i),()=>{};const a=l=>{this.debugLog("Received event from bus",l.detail),n(l.detail)};return this.#n().addEventListener(i,a),this.debugLog("Registered event to bus",i),()=>{r&&this.#l?.removeEventListener(i,a),this.#n().removeEventListener(i,a)}}onAll(e){if(!this.#t)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=s=>{const r=s.detail;e(r)};return this.#n().addEventListener("tanstack-devtools-global",n),()=>this.#n().removeEventListener("tanstack-devtools-global",n)}onAllPluginEvents(e){if(!this.#t)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=s=>{const r=s.detail;this.#e&&r.pluginId!==this.#e||e(r)};return this.#n().addEventListener("tanstack-devtools-global",n),()=>this.#n().removeEventListener("tanstack-devtools-global",n)}}class Hce extends Uce{constructor(){super({pluginId:"tanstack-ai-devtools"})}}const Dn=new Hce;async function Vce(t){let e="";for await(const n of t)n.type==="content"&&n.delta&&(e+=n.delta);return e}function qce(t){return typeof t=="object"&&t!==null&&"~standard"in t&&typeof t["~standard"]=="object"&&t["~standard"].version===1&&typeof t["~standard"].jsonSchema=="object"&&typeof t["~standard"].jsonSchema.input=="function"}function Jl(t){return typeof t=="object"&&t!==null&&"~standard"in t&&typeof t["~standard"]=="object"&&t!==null&&t["~standard"]!==null&&"version"in t["~standard"]&&t["~standard"].version===1&&"validate"in t["~standard"]&&typeof t["~standard"].validate=="function"}function cp(t,e=[]){const n={...t};if(n.type==="object"&&n.properties){const s={...n.properties},r=Object.keys(s);for(const i of r){const a=s[i],l=!e.includes(i);a.type==="object"&&a.properties?s[i]=cp(a,a.required||[]):a.type==="array"&&a.items?s[i]={...a,items:cp(a.items,a.items.required||[])}:l&&(a.type&&!Array.isArray(a.type)?s[i]={...a,type:[a.type,"null"]}:Array.isArray(a.type)&&!a.type.includes("null")&&(s[i]={...a,type:[...a.type,"null"]}))}n.properties=s,n.required=r,n.additionalProperties=!1}return n.type==="array"&&n.items&&(n.items=cp(n.items,n.items.required||[])),n}function X2(t,e={}){if(!t)return;const{forStructuredOutput:n=!1}=e;if(qce(t)){let r=t["~standard"].jsonSchema.input({target:"draft-07"});if(typeof r=="object"&&"$schema"in r){const{$schema:i,...a}=r;r=a}return typeof r=="object"&&("properties"in r&&!r.type&&(r.type="object"),r.type==="object"&&!("properties"in r)&&(r.properties={}),r.type==="object"&&!("required"in r)&&(r.required=[]),n&&(r=cp(r,r.required||[]))),r}return n&&typeof t=="object"?cp(t,t.required||[]):t}function Xu(t,e){if(!Jl(t))return e;const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Error("Schema validation returned a Promise. Use validateWithStandardSchema for async validation.");if(!n.issues)return n.value;const s=n.issues.map(r=>r.message||"Validation failed").join(", ");throw new Error(`Validation failed: ${s}`)}class Kce{constructor(e){this.toolCallsMap=new Map,this.tools=e}addToolCallChunk(e){const n=e.index,s=this.toolCallsMap.get(n);s?(e.toolCall.function.name&&!s.function.name&&(s.function.name=e.toolCall.function.name),e.toolCall.function.arguments&&(s.function.arguments+=e.toolCall.function.arguments)):e.toolCall.id&&e.toolCall.function.name&&this.toolCallsMap.set(n,{id:e.toolCall.id,type:"function",function:{name:e.toolCall.function.name,arguments:e.toolCall.function.arguments||""}})}hasToolCalls(){return this.getToolCalls().length>0}getToolCalls(){return Array.from(this.toolCallsMap.values()).filter(e=>e.id&&e.function.name&&e.function.name.trim().length>0)}async*executeTools(e){const n=this.getToolCalls(),s=[];for(const r of n){const i=this.tools.find(l=>l.name===r.function.name);let a;if(i?.execute)try{let l;try{l=JSON.parse(r.function.arguments)}catch{throw new Error(`Failed to parse tool arguments as JSON: ${r.function.arguments}`)}if(i.inputSchema&&Jl(i.inputSchema))try{l=Xu(i.inputSchema,l)}catch(h){const m=h instanceof Error?h.message:"Validation failed";throw new Error(`Input validation failed for tool ${i.name}: ${m}`)}let u=await i.execute(l);if(i.outputSchema&&Jl(i.outputSchema)&&u!==void 0&&u!==null)try{u=Xu(i.outputSchema,u)}catch(h){const m=h instanceof Error?h.message:"Validation failed";throw new Error(`Output validation failed for tool ${i.name}: ${m}`)}a=typeof u=="string"?u:JSON.stringify(u)}catch(l){a=`Error executing tool: ${l instanceof Error?l.message:"Unknown error"}`}else a=`Tool ${r.function.name} does not have an execute function`;yield{type:"tool_result",id:e.id,model:e.model,timestamp:Date.now(),toolCallId:r.id,content:a},s.push({role:"tool",content:a,toolCallId:r.id})}return s}clear(){this.toolCallsMap.clear()}}async function MM(t,e,n=new Map,s=new Map){const r=[],i=[],a=[],l=new Map;for(const u of e)l.set(u.name,u);for(const u of t){const h=l.get(u.function.name),m=u.function.name;if(!h){r.push({toolCallId:u.id,toolName:m,result:{error:`Unknown tool: ${m}`},state:"output-error"});continue}let f={};const g=u.function.arguments.trim()||"{}";try{f=JSON.parse(g)}catch{throw new Error(`Failed to parse tool arguments as JSON: ${g}`)}if(h.inputSchema&&Jl(h.inputSchema))try{f=Xu(h.inputSchema,f)}catch(b){const _=b instanceof Error?b.message:"Validation failed";r.push({toolCallId:u.id,toolName:m,result:{error:`Input validation failed for tool ${h.name}: ${_}`},state:"output-error"});continue}if(!h.execute){if(h.needsApproval){const b=`approval_${u.id}`;n.has(b)?n.get(b)?s.has(u.id)?r.push({toolCallId:u.id,toolName:m,result:s.get(u.id)}):a.push({toolCallId:u.id,toolName:m,input:f}):r.push({toolCallId:u.id,toolName:m,result:{error:"User declined tool execution"},state:"output-error"}):i.push({toolCallId:u.id,toolName:u.function.name,input:f,approvalId:b})}else s.has(u.id)?r.push({toolCallId:u.id,toolName:m,result:s.get(u.id)}):a.push({toolCallId:u.id,toolName:m,input:f});continue}if(h.needsApproval){const b=`approval_${u.id}`;if(n.has(b))if(n.get(b)){const w=Date.now();try{let k=await h.execute(f);const C=Date.now()-w;h.outputSchema&&Jl(h.outputSchema)&&k!==void 0&&k!==null&&(k=Xu(h.outputSchema,k)),r.push({toolCallId:u.id,toolName:m,result:typeof k=="string"?JSON.parse(k):k||null,duration:C})}catch(k){const C=Date.now()-w,E=k instanceof Error?k.message:"Unknown error";r.push({toolCallId:u.id,toolName:m,result:{error:E},state:"output-error",duration:C})}}else r.push({toolCallId:u.id,toolName:m,result:{error:"User declined tool execution"},state:"output-error"});else i.push({toolCallId:u.id,toolName:m,input:f,approvalId:b});continue}const y=Date.now();try{let b=await h.execute(f);const _=Date.now()-y;h.outputSchema&&Jl(h.outputSchema)&&b!==void 0&&b!==null&&(b=Xu(h.outputSchema,b)),r.push({toolCallId:u.id,toolName:m,result:typeof b=="string"?JSON.parse(b):b||null,duration:_})}catch(b){const _=Date.now()-y,w=b instanceof Error?b.message:"Unknown error";r.push({toolCallId:u.id,toolName:m,result:{error:w},state:"output-error",duration:_})}}return{results:r,needsApproval:i,needsClientExecution:a}}function k$(t){return({iterationCount:e})=>e<t}class C${constructor(e){this.iterationCount=0,this.lastFinishReason=null,this.streamStartTime=0,this.totalChunkCount=0,this.currentMessageId=null,this.accumulatedContent="",this.doneChunk=null,this.shouldEmitStreamEnd=!0,this.earlyTermination=!1,this.toolPhase="continue",this.cyclePhase="processText",this.adapter=e.adapter,this.params=e.params,this.systemPrompts=e.params.systemPrompts||[],this.tools=e.params.tools||[],this.loopStrategy=e.params.agentLoopStrategy||k$(5),this.toolCallManager=new Kce(this.tools),this.initialMessageCount=e.params.messages.length,this.messages=e.params.messages,this.requestId=this.createId("chat"),this.streamId=this.createId("stream"),this.effectiveRequest=e.params.abortController?{signal:e.params.abortController.signal}:void 0,this.effectiveSignal=e.params.abortController?.signal}getAccumulatedContent(){return this.accumulatedContent}getMessages(){return this.messages}async*run(){this.beforeRun();try{if((yield*this.checkForPendingToolCalls())==="wait")return;do{if(this.earlyTermination||this.isAborted())return;this.beginCycle(),this.cyclePhase==="processText"?yield*this.streamModelResponse():yield*this.processToolCalls(),this.endCycle()}while(this.shouldContinue())}finally{this.afterRun()}}beforeRun(){this.streamStartTime=Date.now();const{model:e,tools:n,temperature:s,topP:r,maxTokens:i,metadata:a,modelOptions:l,conversationId:u}=this.params,h={};s!==void 0&&(h.temperature=s),r!==void 0&&(h.topP=r),i!==void 0&&(h.maxTokens=i),a!==void 0&&(h.metadata=a),Dn.emit("text:started",{requestId:this.requestId,streamId:this.streamId,model:e,provider:this.adapter.name,messageCount:this.initialMessageCount,hasTools:!!n&&n.length>0,streaming:!0,timestamp:Date.now(),clientId:u,toolNames:n?.map(m=>m.name),options:Object.keys(h).length>0?h:void 0,modelOptions:l}),Dn.emit("stream:started",{streamId:this.streamId,model:e,provider:this.adapter.name,timestamp:Date.now()})}afterRun(){if(!this.shouldEmitStreamEnd)return;const e=Date.now();Dn.emit("text:completed",{requestId:this.requestId,streamId:this.streamId,model:this.params.model,content:this.accumulatedContent,messageId:this.currentMessageId||void 0,finishReason:this.lastFinishReason||void 0,usage:this.doneChunk?.usage,timestamp:e}),Dn.emit("stream:ended",{requestId:this.requestId,streamId:this.streamId,totalChunks:this.totalChunkCount,duration:e-this.streamStartTime,timestamp:e})}beginCycle(){this.cyclePhase==="processText"&&this.beginIteration()}endCycle(){if(this.cyclePhase==="processText"){this.cyclePhase="executeToolCalls";return}this.cyclePhase="processText",this.iterationCount++}beginIteration(){this.currentMessageId=this.createId("msg"),this.accumulatedContent="",this.doneChunk=null}async*streamModelResponse(){const{temperature:e,topP:n,maxTokens:s,metadata:r,modelOptions:i}=this.params,l=this.params.tools?.map(u=>({...u,inputSchema:u.inputSchema?X2(u.inputSchema):void 0,outputSchema:u.outputSchema?X2(u.outputSchema):void 0}));for await(const u of this.adapter.chatStream({model:this.params.model,messages:this.messages,tools:l,temperature:e,topP:n,maxTokens:s,metadata:r,request:this.effectiveRequest,modelOptions:i,systemPrompts:this.systemPrompts}))if(this.isAborted()||(this.totalChunkCount++,yield u,this.handleStreamChunk(u),this.earlyTermination))break}handleStreamChunk(e){switch(e.type){case"content":this.handleContentChunk(e);break;case"tool_call":this.handleToolCallChunk(e);break;case"tool_result":this.handleToolResultChunk(e);break;case"done":this.handleDoneChunk(e);break;case"error":this.handleErrorChunk(e);break;case"thinking":this.handleThinkingChunk(e);break}}handleContentChunk(e){this.accumulatedContent=e.content,Dn.emit("stream:chunk:content",{streamId:this.streamId,messageId:this.currentMessageId||void 0,content:e.content,delta:e.delta,timestamp:Date.now()})}handleToolCallChunk(e){this.toolCallManager.addToolCallChunk(e),Dn.emit("stream:chunk:tool-call",{streamId:this.streamId,messageId:this.currentMessageId||void 0,toolCallId:e.toolCall.id,toolName:e.toolCall.function.name,index:e.index,arguments:e.toolCall.function.arguments,timestamp:Date.now()})}handleToolResultChunk(e){Dn.emit("stream:chunk:tool-result",{streamId:this.streamId,messageId:this.currentMessageId||void 0,toolCallId:e.toolCallId,result:e.content,timestamp:Date.now()})}handleDoneChunk(e){if(this.doneChunk?.finishReason==="tool_calls"&&e.finishReason==="stop"){this.lastFinishReason=e.finishReason,Dn.emit("stream:chunk:done",{streamId:this.streamId,messageId:this.currentMessageId||void 0,finishReason:e.finishReason,usage:e.usage,timestamp:Date.now()}),e.usage&&Dn.emit("usage:tokens",{requestId:this.requestId,streamId:this.streamId,messageId:this.currentMessageId||void 0,model:this.params.model,usage:e.usage,timestamp:Date.now()});return}this.doneChunk=e,this.lastFinishReason=e.finishReason,Dn.emit("stream:chunk:done",{streamId:this.streamId,messageId:this.currentMessageId||void 0,finishReason:e.finishReason,usage:e.usage,timestamp:Date.now()}),e.usage&&Dn.emit("usage:tokens",{requestId:this.requestId,streamId:this.streamId,messageId:this.currentMessageId||void 0,model:this.params.model,usage:e.usage,timestamp:Date.now()})}handleErrorChunk(e){Dn.emit("stream:chunk:error",{streamId:this.streamId,messageId:this.currentMessageId||void 0,error:e.error.message,timestamp:Date.now()}),this.earlyTermination=!0,this.shouldEmitStreamEnd=!1}handleThinkingChunk(e){Dn.emit("stream:chunk:thinking",{streamId:this.streamId,messageId:this.currentMessageId||void 0,content:e.content,delta:e.delta,timestamp:Date.now()})}async*checkForPendingToolCalls(){const e=this.getPendingToolCallsFromMessages();if(e.length===0)return"continue";const n=this.createSyntheticDoneChunk();Dn.emit("text:iteration",{requestId:this.requestId,streamId:this.streamId,iterationNumber:this.iterationCount+1,messageCount:this.messages.length,toolCallCount:e.length,timestamp:Date.now()});const{approvals:s,clientToolResults:r}=this.collectClientState(),i=await MM(e,this.tools,s,r);if(i.needsApproval.length>0||i.needsClientExecution.length>0){for(const l of this.emitApprovalRequests(i.needsApproval,n))yield l;for(const l of this.emitClientToolInputs(i.needsClientExecution,n))yield l;return this.shouldEmitStreamEnd=!1,"wait"}const a=this.emitToolResults(i.results,n);for(const l of a)yield l;return"continue"}async*processToolCalls(){if(!this.shouldExecuteToolPhase()){this.setToolPhase("stop");return}const e=this.toolCallManager.getToolCalls(),n=this.doneChunk;if(!n||e.length===0){this.setToolPhase("stop");return}Dn.emit("text:iteration",{requestId:this.requestId,streamId:this.streamId,iterationNumber:this.iterationCount+1,messageCount:this.messages.length,toolCallCount:e.length,timestamp:Date.now()}),this.addAssistantToolCallMessage(e);const{approvals:s,clientToolResults:r}=this.collectClientState(),i=await MM(e,this.tools,s,r);if(i.needsApproval.length>0||i.needsClientExecution.length>0){for(const l of this.emitApprovalRequests(i.needsApproval,n))yield l;for(const l of this.emitClientToolInputs(i.needsClientExecution,n))yield l;this.setToolPhase("wait");return}const a=this.emitToolResults(i.results,n);for(const l of a)yield l;this.toolCallManager.clear(),this.setToolPhase("continue")}shouldExecuteToolPhase(){return this.doneChunk?.finishReason==="tool_calls"&&this.tools.length>0&&this.toolCallManager.hasToolCalls()}addAssistantToolCallMessage(e){this.messages=[...this.messages,{role:"assistant",content:this.accumulatedContent||null,toolCalls:e}]}collectClientState(){const e=new Map,n=new Map;for(const s of this.messages)if(s.role==="assistant"&&s.parts){const r=s.parts;for(const i of r)i.type==="tool-call"&&i.state==="approval-responded"&&i.approval&&e.set(i.approval.id,i.approval.approved),i.type==="tool-call"&&i.output!==void 0&&!i.approval&&n.set(i.id,i.output)}return{approvals:e,clientToolResults:n}}emitApprovalRequests(e,n){const s=[];for(const r of e)Dn.emit("stream:approval-requested",{streamId:this.streamId,messageId:this.currentMessageId||void 0,toolCallId:r.toolCallId,toolName:r.toolName,input:r.input,approvalId:r.approvalId,timestamp:Date.now()}),s.push({type:"approval-requested",id:n.id,model:n.model,timestamp:Date.now(),toolCallId:r.toolCallId,toolName:r.toolName,input:r.input,approval:{id:r.approvalId,needsApproval:!0}});return s}emitClientToolInputs(e,n){const s=[];for(const r of e)Dn.emit("stream:tool-input-available",{streamId:this.streamId,messageId:this.currentMessageId||void 0,toolCallId:r.toolCallId,toolName:r.toolName,input:r.input,timestamp:Date.now()}),s.push({type:"tool-input-available",id:n.id,model:n.model,timestamp:Date.now(),toolCallId:r.toolCallId,toolName:r.toolName,input:r.input});return s}emitToolResults(e,n){const s=[];for(const r of e){Dn.emit("tool:call-completed",{requestId:this.requestId,streamId:this.streamId,messageId:this.currentMessageId||void 0,toolCallId:r.toolCallId,toolName:r.toolName,result:r.result,duration:r.duration??0,timestamp:Date.now()});const i=JSON.stringify(r.result),a={type:"tool_result",id:n.id,model:n.model,timestamp:Date.now(),toolCallId:r.toolCallId,content:i};s.push(a),this.messages=[...this.messages,{role:"tool",content:i,toolCallId:r.toolCallId}]}return s}getPendingToolCallsFromMessages(){const e=new Set(this.messages.filter(s=>s.role==="tool"&&s.toolCallId).map(s=>s.toolCallId)),n=[];for(const s of this.messages)if(s.role==="assistant"&&s.toolCalls)for(const r of s.toolCalls)e.has(r.id)||n.push(r);return n}createSyntheticDoneChunk(){return{type:"done",id:this.createId("pending"),model:this.params.model,timestamp:Date.now(),finishReason:"tool_calls"}}shouldContinue(){return this.cyclePhase==="executeToolCalls"?!0:this.loopStrategy({iterationCount:this.iterationCount,messages:this.messages,finishReason:this.lastFinishReason})&&this.toolPhase==="continue"}isAborted(){return!!this.effectiveSignal?.aborted}setToolPhase(e){this.toolPhase=e,e==="wait"&&(this.shouldEmitStreamEnd=!1)}createId(e){return`${e}-${Date.now()}-${Math.random().toString(36).slice(2,9)}`}}function Wce(t){const{outputSchema:e,stream:n}=t;return e?Yce(t):n===!1?Gce(t):N$(t)}async function*N$(t){const{adapter:e,...n}=t,s=e.model,r=new C$({adapter:e,params:{...n,model:s}});for await(const i of r.run())yield i}function Gce(t){const e=N$(t);return Vce(e)}async function Yce(t){const{adapter:e,outputSchema:n,...s}=t,r=e.model;if(!n)throw new Error("outputSchema is required for structured output");const i=new C$({adapter:e,params:{...s,model:r}});for await(const g of i.run());const a=i.getMessages(),{tools:l,agentLoopStrategy:u,...h}=s,m=X2(n);if(!m)throw new Error("Failed to convert output schema to JSON Schema");const f=await e.structuredOutput({chatOptions:{...h,model:r,messages:a},outputSchema:m});return Jl(n)?Xu(n,f.data):f.data}function rl(t){return{__toolSide:"definition",...t,server(n){return{__toolSide:"server",...t,execute:n}},client(n){return{__toolSide:"client",...t,execute:n}}}}function IM(t){return t===null?"":typeof t=="string"?t:t.filter(e=>e.type==="text").map(e=>e.content).join("")}function Zce(t){const e=[];for(const n of t)"parts"in n?e.push(...E$(n)):e.push(n);return e}function E$(t){const e=[];if(t.role==="system")return e;const n=[],s=[],r=[];for(const l of t.parts)l.type==="text"?n.push(l):l.type==="tool-call"?s.push(l):l.type==="tool-result"&&r.push(l);const i=n.map(l=>l.content).join("")||null,a=s.length>0?s.filter(l=>l.state==="input-complete"||l.state==="approval-responded"||l.output!==void 0).map(l=>({id:l.id,type:"function",function:{name:l.name,arguments:l.arguments}})):void 0;t.role!=="assistant"||i||!a?e.push({role:t.role,content:i,...a&&a.length>0&&{toolCalls:a}}):a.length>0&&e.push({role:"assistant",content:i,toolCalls:a});for(const l of r)(l.state==="complete"||l.state==="error")&&e.push({role:"tool",content:l.content,toolCallId:l.toolCallId});return e}function Jce(t,e){const n=[],s=IM(t.content);if(s&&n.push({type:"text",content:s}),t.toolCalls&&t.toolCalls.length>0)for(const r of t.toolCalls)n.push({type:"tool-call",id:r.id,name:r.function.name,arguments:r.function.arguments,state:"input-complete"});return t.role==="tool"&&t.toolCallId&&n.push({type:"tool-result",toolCallId:t.toolCallId,content:IM(t.content),state:"complete"}),{id:e||bv(),role:t.role==="tool"?"assistant":t.role,parts:n}}function Xce(t,e){return"parts"in t?{...t,id:t.id||e(),createdAt:t.createdAt||new Date}:{...Jce(t,e()),createdAt:new Date}}function bv(){return`msg-${Date.now()}-${Math.random().toString(36).substring(7)}`}var Nl={},GS={},DM;function PM(){return DM||(DM=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Allow=t.ALL=t.COLLECTION=t.ATOM=t.SPECIAL=t.INF=t._INFINITY=t.INFINITY=t.NAN=t.BOOL=t.NULL=t.OBJ=t.ARR=t.NUM=t.STR=void 0,t.STR=1,t.NUM=2,t.ARR=4,t.OBJ=8,t.NULL=16,t.BOOL=32,t.NAN=64,t.INFINITY=128,t._INFINITY=256,t.INF=t.INFINITY|t._INFINITY,t.SPECIAL=t.NULL|t.BOOL|t.INF|t.NAN,t.ATOM=t.STR|t.NUM|t.SPECIAL,t.COLLECTION=t.ARR|t.OBJ,t.ALL=t.ATOM|t.COLLECTION,t.Allow={STR:t.STR,NUM:t.NUM,ARR:t.ARR,OBJ:t.OBJ,NULL:t.NULL,BOOL:t.BOOL,NAN:t.NAN,INFINITY:t.INFINITY,_INFINITY:t._INFINITY,INF:t.INF,SPECIAL:t.SPECIAL,ATOM:t.ATOM,COLLECTION:t.COLLECTION,ALL:t.ALL},t.default=t.Allow})(GS)),GS}var LM;function Qce(){return LM||(LM=1,(function(t){var e=Nl&&Nl.__createBinding||(Object.create?(function(h,m,f,g){g===void 0&&(g=f);var y=Object.getOwnPropertyDescriptor(m,f);(!y||("get"in y?!m.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return m[f]}}),Object.defineProperty(h,g,y)}):(function(h,m,f,g){g===void 0&&(g=f),h[g]=m[f]})),n=Nl&&Nl.__exportStar||function(h,m){for(var f in h)f!=="default"&&!Object.prototype.hasOwnProperty.call(m,f)&&e(m,h,f)};Object.defineProperty(t,"__esModule",{value:!0}),t.Allow=t.MalformedJSON=t.PartialJSON=t.parseJSON=t.parse=void 0;const s=PM();Object.defineProperty(t,"Allow",{enumerable:!0,get:function(){return s.Allow}}),n(PM(),t);class r extends Error{}t.PartialJSON=r;class i extends Error{}t.MalformedJSON=i;function a(h,m=s.Allow.ALL){if(typeof h!="string")throw new TypeError(`expecting str, got ${typeof h}`);if(!h.trim())throw new Error(`${h} is empty`);return l(h.trim(),m)}t.parseJSON=a;const l=(h,m)=>{const f=h.length;let g=0;const y=R=>{throw new r(`${R} at position ${g}`)},b=R=>{throw new i(`${R} at position ${g}`)},_=()=>(A(),g>=f&&y("Unexpected end of input"),h[g]==='"'?w():h[g]==="{"?k():h[g]==="["?C():h.substring(g,g+4)==="null"||s.Allow.NULL&m&&f-g<4&&"null".startsWith(h.substring(g))?(g+=4,null):h.substring(g,g+4)==="true"||s.Allow.BOOL&m&&f-g<4&&"true".startsWith(h.substring(g))?(g+=4,!0):h.substring(g,g+5)==="false"||s.Allow.BOOL&m&&f-g<5&&"false".startsWith(h.substring(g))?(g+=5,!1):h.substring(g,g+8)==="Infinity"||s.Allow.INFINITY&m&&f-g<8&&"Infinity".startsWith(h.substring(g))?(g+=8,1/0):h.substring(g,g+9)==="-Infinity"||s.Allow._INFINITY&m&&1<f-g&&f-g<9&&"-Infinity".startsWith(h.substring(g))?(g+=9,-1/0):h.substring(g,g+3)==="NaN"||s.Allow.NAN&m&&f-g<3&&"NaN".startsWith(h.substring(g))?(g+=3,NaN):E()),w=()=>{const R=g;let N=!1;for(g++;g<f&&(h[g]!=='"'||N&&h[g-1]==="\\");)N=h[g]==="\\"?!N:!1,g++;if(h.charAt(g)=='"')try{return JSON.parse(h.substring(R,++g-Number(N)))}catch(M){b(String(M))}else if(s.Allow.STR&m)try{return JSON.parse(h.substring(R,g-Number(N))+'"')}catch{return JSON.parse(h.substring(R,h.lastIndexOf("\\"))+'"')}y("Unterminated string literal")},k=()=>{g++,A();const R={};try{for(;h[g]!=="}";){if(A(),g>=f&&s.Allow.OBJ&m)return R;const N=w();A(),g++;try{const M=_();R[N]=M}catch(M){if(s.Allow.OBJ&m)return R;throw M}A(),h[g]===","&&g++}}catch{if(s.Allow.OBJ&m)return R;y("Expected '}' at end of object")}return g++,R},C=()=>{g++;const R=[];try{for(;h[g]!=="]";)R.push(_()),A(),h[g]===","&&g++}catch{if(s.Allow.ARR&m)return R;y("Expected ']' at end of array")}return g++,R},E=()=>{if(g===0){h==="-"&&b("Not sure what '-' is");try{return JSON.parse(h)}catch(N){if(s.Allow.NUM&m)try{return JSON.parse(h.substring(0,h.lastIndexOf("e")))}catch{}b(String(N))}}const R=g;for(h[g]==="-"&&g++;h[g]&&",]}".indexOf(h[g])===-1;)g++;g==f&&!(s.Allow.NUM&m)&&y("Unterminated number literal");try{return JSON.parse(h.substring(R,g))}catch{h.substring(R,g)==="-"&&y("Not sure what '-' is");try{return JSON.parse(h.substring(R,h.lastIndexOf("e")))}catch(M){b(String(M))}}},A=()=>{for(;g<f&&` 
\r	`.includes(h[g]);)g++};return _()},u=a;t.parse=u})(Nl)),Nl}var eue=Qce();class tue{parse(e){if(!(!e||e.trim()===""))try{return eue.parse(e)}catch{return}}}const nue=new tue;function sue(t,e,n){return t.map(s=>{if(s.id!==e)return s;const r=[...s.parts],i=r.length>0?r[r.length-1]:null;return i&&i.type==="text"?r[r.length-1]={type:"text",content:n}:r.push({type:"text",content:n}),{...s,parts:r}})}function YS(t,e,n){return t.map(s=>{if(s.id!==e)return s;const r=[...s.parts],i=r.findIndex(l=>l.type==="tool-call"&&l.id===n.id),a={type:"tool-call",id:n.id,name:n.name,arguments:n.arguments,state:n.state};return i>=0?r[i]=a:r.push(a),{...s,parts:r}})}function BM(t,e,n,s,r,i){return t.map(a=>{if(a.id!==e)return a;const l=[...a.parts],u=l.findIndex(m=>m.type==="tool-result"&&m.toolCallId===n),h={type:"tool-result",toolCallId:n,content:s,state:r,...i&&{error:i}};return u>=0?l[u]=h:l.push(h),{...a,parts:l}})}function rue(t,e,n,s){return t.map(r=>{if(r.id!==e)return r;const i=[...r.parts],a=i.find(l=>l.type==="tool-call"&&l.id===n);return a&&(a.state="approval-requested",a.approval={id:s,needsApproval:!0}),{...r,parts:i}})}function iue(t,e,n,s,r){return t.map(i=>{const a=[...i.parts],l=a.find(u=>u.type==="tool-call"&&u.id===e);return l&&(l.output=r?{error:r}:n,s?l.state=s:l.state="input-complete"),{...i,parts:a}})}function aue(t,e,n){return t.map(s=>{const r=[...s.parts],i=r.find(a=>a.type==="tool-call"&&a.approval?.id===e);return i&&i.approval&&(i.approval.approved=n,i.state="approval-responded"),{...s,parts:r}})}function oue(t,e,n){return t.map(s=>{if(s.id!==e)return s;const r=[...s.parts],i=r.findIndex(l=>l.type==="thinking"),a={type:"thinking",content:n};return i>=0?r[i]=a:r.push(a),{...s,parts:r}})}class lue{shouldEmit(e,n){return!0}}class xE{constructor(e={}){this.messages=[],this.currentAssistantMessageId=null,this.totalTextContent="",this.currentSegmentText="",this.lastEmittedText="",this.thinkingContent="",this.toolCalls=new Map,this.toolCallOrder=[],this.finishReason=null,this.isDone=!1,this.hasToolCallsSinceTextStart=!1,this.recording=null,this.recordingStartTime=0,this.chunkStrategy=e.chunkStrategy||new lue,this.events=e.events||{},this.handlers=e.handlers||{},this.jsonParser=e.jsonParser||nue,this.recordingEnabled=e.recording??!1,e.initialMessages&&(this.messages=[...e.initialMessages])}setMessages(e){this.messages=[...e],this.emitMessagesChange()}addUserMessage(e){const n={id:bv(),role:"user",parts:[{type:"text",content:e}],createdAt:new Date};return this.messages=[...this.messages,n],this.emitMessagesChange(),n}startAssistantMessage(){this.resetStreamState();const e={id:bv(),role:"assistant",parts:[],createdAt:new Date};return this.currentAssistantMessageId=e.id,this.messages=[...this.messages,e],this.events.onStreamStart?.(),this.emitMessagesChange(),e.id}addToolResult(e,n,s){const r=this.messages.find(u=>u.parts.some(h=>h.type==="tool-call"&&h.id===e));if(!r){console.warn(`[StreamProcessor] Could not find message with tool call ${e}`);return}let i=iue(this.messages,e,n,s?"input-complete":void 0,s);const a=typeof n=="string"?n:JSON.stringify(n),l=s?"error":"complete";i=BM(i,r.id,e,a,l,s),this.messages=i,this.emitMessagesChange()}addToolApprovalResponse(e,n){this.messages=aue(this.messages,e,n),this.emitMessagesChange()}toModelMessages(){const e=[];for(const n of this.messages)e.push(...E$(n));return e}getMessages(){return this.messages}areAllToolsComplete(){const e=this.messages.findLast(s=>s.role==="assistant");if(!e)return!0;const n=e.parts.filter(s=>s.type==="tool-call");return n.length===0?!0:n.every(s=>s.state==="approval-responded"||s.output!==void 0&&!s.approval)}removeMessagesAfter(e){this.messages=this.messages.slice(0,e+1),this.emitMessagesChange()}clearMessages(){this.messages=[],this.currentAssistantMessageId=null,this.emitMessagesChange()}async process(e){this.resetStreamState(),this.recordingEnabled&&this.startRecording();for await(const n of e)this.processChunk(n);return this.finalizeStream(),this.recording&&(this.recording.result=this.getResult()),this.getResult()}processChunk(e){switch(this.recording&&this.recording.chunks.push({chunk:e,timestamp:Date.now(),index:this.recording.chunks.length}),e.type){case"content":this.handleContentChunk(e);break;case"tool_call":this.handleToolCallChunk(e);break;case"tool_result":this.handleToolResultChunk(e);break;case"done":this.handleDoneChunk(e);break;case"error":this.handleErrorChunk(e);break;case"thinking":this.handleThinkingChunk(e);break;case"approval-requested":this.handleApprovalRequestedChunk(e);break;case"tool-input-available":this.handleToolInputAvailableChunk(e);break}}handleContentChunk(e){this.completeAllToolCalls();const n=this.currentSegmentText;this.hasToolCallsSinceTextStart&&n.length>0&&this.isNewTextSegment(e,n)&&(n!==this.lastEmittedText&&this.emitTextUpdate(),this.currentSegmentText="",this.lastEmittedText="",this.hasToolCallsSinceTextStart=!1);const r=this.currentSegmentText;let i=r;e.delta!==""?i=r+e.delta:e.content!==""&&(e.content.startsWith(r)?i=e.content:r.startsWith(e.content)?i=r:i=r+e.content);const a=i.slice(r.length);this.currentSegmentText=i,this.totalTextContent+=a;const l=e.delta??e.content??"";this.chunkStrategy.shouldEmit(l,this.currentSegmentText)&&this.currentSegmentText!==this.lastEmittedText&&this.emitTextUpdate()}handleToolCallChunk(e){this.hasToolCallsSinceTextStart=!0;const n=e.toolCall.id,s=this.toolCalls.get(n);if(s){const r=s.state==="awaiting-input";s.arguments+=e.toolCall.function.arguments||"",r&&e.toolCall.function.arguments&&(s.state="input-streaming"),s.parsedArguments=this.jsonParser.parse(s.arguments);const i=this.toolCallOrder.indexOf(n);this.handlers.onToolCallStateChange?.(i,s.id,s.name,s.state,s.arguments,s.parsedArguments),e.toolCall.function.arguments&&this.handlers.onToolCallDelta?.(i,e.toolCall.function.arguments),this.currentAssistantMessageId&&(this.messages=YS(this.messages,this.currentAssistantMessageId,{id:s.id,name:s.name,arguments:s.arguments,state:s.state}),this.emitMessagesChange(),this.events.onToolCallStateChange?.(this.currentAssistantMessageId,s.id,s.state,s.arguments))}else{const r=e.toolCall.function.arguments?"input-streaming":"awaiting-input",i={id:e.toolCall.id,name:e.toolCall.function.name,arguments:e.toolCall.function.arguments||"",state:r,parsedArguments:void 0,index:e.index};e.toolCall.function.arguments&&(i.parsedArguments=this.jsonParser.parse(e.toolCall.function.arguments)),this.toolCalls.set(n,i),this.toolCallOrder.push(n);const a=this.toolCallOrder.indexOf(n);this.handlers.onToolCallStart?.(a,e.toolCall.id,e.toolCall.function.name),this.handlers.onToolCallStateChange?.(a,e.toolCall.id,e.toolCall.function.name,r,e.toolCall.function.arguments||"",i.parsedArguments),e.toolCall.function.arguments&&this.handlers.onToolCallDelta?.(a,e.toolCall.function.arguments),this.currentAssistantMessageId&&(this.messages=YS(this.messages,this.currentAssistantMessageId,{id:e.toolCall.id,name:e.toolCall.function.name,arguments:e.toolCall.function.arguments||"",state:r}),this.emitMessagesChange(),this.events.onToolCallStateChange?.(this.currentAssistantMessageId,e.toolCall.id,r,e.toolCall.function.arguments||""))}}handleToolResultChunk(e){const n="complete";this.handlers.onToolResultStateChange?.(e.toolCallId,e.content,n),this.currentAssistantMessageId&&(this.messages=BM(this.messages,this.currentAssistantMessageId,e.toolCallId,e.content,n),this.emitMessagesChange())}handleDoneChunk(e){this.finishReason=e.finishReason,this.isDone=!0,this.completeAllToolCalls()}handleErrorChunk(e){this.handlers.onError?.(e.error),this.events.onError?.(new Error(e.error.message))}handleThinkingChunk(e){const n=this.thinkingContent;let s=n;e.delta!==""?s=n+e.delta:e.content!==""&&(e.content.startsWith(n)?s=e.content:n.startsWith(e.content)?s=n:s=n+e.content),this.thinkingContent=s,this.handlers.onThinkingUpdate?.(this.thinkingContent),this.currentAssistantMessageId&&(this.messages=oue(this.messages,this.currentAssistantMessageId,this.thinkingContent),this.emitMessagesChange(),this.events.onThinkingUpdate?.(this.currentAssistantMessageId,this.thinkingContent))}handleApprovalRequestedChunk(e){this.handlers.onApprovalRequested?.(e.toolCallId,e.toolName,e.input,e.approval.id),this.currentAssistantMessageId&&(this.messages=rue(this.messages,this.currentAssistantMessageId,e.toolCallId,e.approval.id),this.emitMessagesChange()),this.events.onApprovalRequest?.({toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,approvalId:e.approval.id})}handleToolInputAvailableChunk(e){this.handlers.onToolInputAvailable?.(e.toolCallId,e.toolName,e.input),this.events.onToolCall?.({toolCallId:e.toolCallId,toolName:e.toolName,input:e.input})}isNewTextSegment(e,n){return e.delta!==void 0&&e.content!==void 0&&(e.content.length<n.length||!e.content.startsWith(n)&&!n.startsWith(e.content))}completeAllToolCalls(){this.toolCalls.forEach((e,n)=>{if(e.state!=="input-complete"){const s=this.toolCallOrder.indexOf(n);this.completeToolCall(s,e)}})}completeToolCall(e,n){n.state="input-complete",n.parsedArguments=this.jsonParser.parse(n.arguments),this.handlers.onToolCallStateChange?.(e,n.id,n.name,"input-complete",n.arguments,n.parsedArguments),this.handlers.onToolCallComplete?.(e,n.id,n.name,n.arguments),this.currentAssistantMessageId&&(this.messages=YS(this.messages,this.currentAssistantMessageId,{id:n.id,name:n.name,arguments:n.arguments,state:"input-complete"}),this.emitMessagesChange(),this.events.onToolCallStateChange?.(this.currentAssistantMessageId,n.id,"input-complete",n.arguments))}emitTextUpdate(){this.lastEmittedText=this.currentSegmentText,this.handlers.onTextUpdate?.(this.currentSegmentText),this.currentAssistantMessageId&&(this.messages=sue(this.messages,this.currentAssistantMessageId,this.currentSegmentText),this.emitMessagesChange(),this.events.onTextUpdate?.(this.currentAssistantMessageId,this.currentSegmentText))}emitMessagesChange(){this.events.onMessagesChange?.([...this.messages])}finalizeStream(){this.completeAllToolCalls(),this.currentSegmentText!==this.lastEmittedText&&this.emitTextUpdate();const e=this.getCompletedToolCalls();if(this.handlers.onStreamEnd?.(this.totalTextContent,e.length>0?e:void 0),this.currentAssistantMessageId){const n=this.messages.find(s=>s.id===this.currentAssistantMessageId);n&&this.events.onStreamEnd?.(n)}}getCompletedToolCalls(){return Array.from(this.toolCalls.values()).filter(e=>e.state==="input-complete").map(e=>({id:e.id,type:"function",function:{name:e.name,arguments:e.arguments}}))}getResult(){const e=this.getCompletedToolCalls();return{content:this.totalTextContent,thinking:this.thinkingContent||void 0,toolCalls:e.length>0?e:void 0,finishReason:this.finishReason}}getState(){return{content:this.totalTextContent,thinking:this.thinkingContent,toolCalls:new Map(this.toolCalls),toolCallOrder:[...this.toolCallOrder],finishReason:this.finishReason,done:this.isDone}}startRecording(){this.recordingEnabled=!0,this.recordingStartTime=Date.now(),this.recording={version:"1.0",timestamp:this.recordingStartTime,chunks:[]}}getRecording(){return this.recording}resetStreamState(){this.totalTextContent="",this.currentSegmentText="",this.lastEmittedText="",this.thinkingContent="",this.toolCalls.clear(),this.toolCallOrder=[],this.finishReason=null,this.isDone=!1,this.hasToolCallsSinceTextStart=!1,this.chunkStrategy.reset?.()}reset(){this.resetStreamState(),this.messages=[],this.currentAssistantMessageId=null}static async replay(e,n){return new xE(n).process(cue(e))}}function cue(t){return{async*[Symbol.asyncIterator](){for(const{chunk:e}of t.chunks)yield e}}}class uue{constructor(e){this.clientId=e}clientCreated(e){this.emitEvent("client:created",{initialMessageCount:e})}loadingChanged(e){this.emitEvent("client:loading-changed",{isLoading:e})}errorChanged(e){this.emitEvent("client:error-changed",{error:e})}textUpdated(e,n,s){this.emitEvent("processor:text-updated",{streamId:e,content:s}),this.emitEvent("client:assistant-message-updated",{messageId:n,content:s})}toolCallStateChanged(e,n,s,r,i,a){this.emitEvent("processor:tool-call-state-changed",{streamId:e,toolCallId:s,toolName:r,state:i,arguments:a}),this.emitEvent("client:tool-call-updated",{messageId:n,toolCallId:s,toolName:r,state:i,arguments:a})}toolResultStateChanged(e,n,s,r,i){this.emitEvent("processor:tool-result-state-changed",{streamId:e,toolCallId:n,content:s,state:r,error:i})}thinkingUpdated(e,n,s,r){this.emitEvent("stream:chunk:thinking",{streamId:e,messageId:n,content:s,delta:r})}approvalRequested(e,n,s,r,i){this.emitEvent("client:approval-requested",{messageId:e,toolCallId:n,toolName:s,input:r,approvalId:i})}messageAppended(e){const n=e.parts.filter(s=>s.type==="text").map(s=>s.content).join(" ").substring(0,100);this.emitEvent("client:message-appended",{messageId:e.id,role:e.role,contentPreview:n})}messageSent(e,n){this.emitEvent("client:message-sent",{messageId:e,content:n})}reloaded(e){this.emitEvent("client:reloaded",{fromMessageIndex:e})}stopped(){this.emitEvent("client:stopped")}messagesCleared(){this.emitEvent("client:messages-cleared")}toolResultAdded(e,n,s,r){this.emitEvent("tool:result-added",{toolCallId:e,toolName:n,output:s,state:r})}toolApprovalResponded(e,n,s){this.emitEvent("tool:approval-responded",{approvalId:e,toolCallId:n,approved:s})}}class hue extends uue{emitEvent(e,n){e.startsWith("client:")||e.startsWith("tool:")?Dn.emit(e,{...n,clientId:this.clientId,timestamp:Date.now()}):Dn.emit(e,{...n,timestamp:Date.now()})}}class due{constructor(e){if(this.body={},this.isLoading=!1,this.error=void 0,this.abortController=null,this.currentStreamId=null,this.currentMessageId=null,this.postStreamActions=[],this.uniqueId=e.id||this.generateUniqueId("chat"),this.body=e.body||{},this.connection=e.connection,this.events=new hue(this.uniqueId),this.clientToolsRef={current:new Map},e.tools)for(const n of e.tools)this.clientToolsRef.current.set(n.name,n);this.callbacksRef={current:{onResponse:e.onResponse||(()=>{}),onChunk:e.onChunk||(()=>{}),onFinish:e.onFinish||(()=>{}),onError:e.onError||(()=>{}),onMessagesChange:e.onMessagesChange||(()=>{}),onLoadingChange:e.onLoadingChange||(()=>{}),onErrorChange:e.onErrorChange||(()=>{})}},this.processor=new xE({chunkStrategy:e.streamProcessor?.chunkStrategy,initialMessages:e.initialMessages,events:{onMessagesChange:n=>{this.callbacksRef.current.onMessagesChange(n)},onStreamStart:()=>{},onStreamEnd:n=>{this.callbacksRef.current.onFinish(n)},onError:n=>{this.setError(n),this.callbacksRef.current.onError(n)},onTextUpdate:(n,s)=>{this.currentStreamId&&this.events.textUpdated(this.currentStreamId,n,s)},onThinkingUpdate:(n,s)=>{this.currentStreamId&&this.events.thinkingUpdated(this.currentStreamId,n,s)},onToolCallStateChange:(n,s,r,i)=>{const h=this.processor.getMessages().find(m=>m.id===n)?.parts.find(m=>m.type==="tool-call"&&m.id===s)?.name||"unknown";this.currentStreamId&&this.events.toolCallStateChanged(this.currentStreamId,n,s,h,r,i)},onToolCall:async n=>{const s=this.clientToolsRef.current.get(n.toolName);if(s?.execute)try{const r=await s.execute(n.input);await this.addToolResult({toolCallId:n.toolCallId,tool:n.toolName,output:r,state:"output-available"})}catch(r){await this.addToolResult({toolCallId:n.toolCallId,tool:n.toolName,output:null,state:"output-error",errorText:r.message})}},onApprovalRequest:n=>{this.events.approvalRequested(this.currentMessageId||"",n.toolCallId,n.toolName,n.input,n.approvalId)}}}),this.events.clientCreated(this.processor.getMessages().length)}generateUniqueId(e){return`${e}-${Date.now()}-${Math.random().toString(36).substring(7)}`}setIsLoading(e){this.isLoading=e,this.callbacksRef.current.onLoadingChange(e),this.events.loadingChanged(e)}setError(e){this.error=e,this.callbacksRef.current.onErrorChange(e),this.events.errorChanged(e?.message||null)}async processStream(e){this.currentStreamId=this.generateUniqueId("stream");const n=this.processor.startAssistantMessage();this.currentMessageId=n;const s={id:n,role:"assistant",parts:[],createdAt:new Date};this.events.messageAppended(s);for await(const a of e)this.callbacksRef.current.onChunk(a),this.processor.processChunk(a),await new Promise(l=>setTimeout(l,0));return this.processor.finalizeStream(),this.currentStreamId=null,this.currentMessageId=null,this.processor.getMessages().find(a=>a.id===n)||{id:n,role:"assistant",parts:[],createdAt:new Date}}async sendMessage(e){if(!e.trim()||this.isLoading)return;const n=this.processor.addUserMessage(e.trim());this.events.messageSent(n.id,e.trim()),await this.streamResponse()}async append(e){const n=Xce(e,bv);if(n.role==="system")return;const s=n;this.events.messageAppended(s);const r=this.processor.getMessages();this.processor.setMessages([...r,s]),await this.streamResponse()}async streamResponse(){this.setIsLoading(!0),this.setError(void 0),this.abortController=new AbortController;try{const e=this.processor.toModelMessages();await this.callbacksRef.current.onResponse();const n={...this.body,conversationId:this.uniqueId},s=this.connection.connect(e,n,this.abortController.signal);await this.processStream(s)}catch(e){if(e instanceof Error){if(e.name==="AbortError")return;this.setError(e),this.callbacksRef.current.onError(e)}}finally{this.abortController=null,this.setIsLoading(!1),await this.drainPostStreamActions()}}async reload(){const e=this.processor.getMessages();if(e.length===0)return;const n=e.findLastIndex(s=>s.role==="user");n!==-1&&(this.events.reloaded(n),this.processor.removeMessagesAfter(n),await this.streamResponse())}stop(){this.abortController&&(this.abortController.abort(),this.abortController=null),this.setIsLoading(!1),this.events.stopped()}clear(){this.processor.clearMessages(),this.setError(void 0),this.events.messagesCleared()}async addToolResult(e){if(this.events.toolResultAdded(e.toolCallId,e.tool,e.output,e.state||"output-available"),this.processor.addToolResult(e.toolCallId,e.output,e.errorText),this.isLoading){this.queuePostStreamAction(()=>this.checkForContinuation());return}await this.checkForContinuation()}async addToolApprovalResponse(e){const n=this.processor.getMessages();let s;for(const r of n){const i=r.parts.find(a=>a.type==="tool-call"&&a.approval?.id===e.id);if(i){s=i.id;break}}if(s&&this.events.toolApprovalResponded(e.id,s,e.approved),this.processor.addToolApprovalResponse(e.id,e.approved),this.isLoading){this.queuePostStreamAction(()=>this.checkForContinuation());return}await this.checkForContinuation()}queuePostStreamAction(e){this.postStreamActions.push(e)}async drainPostStreamActions(){for(;this.postStreamActions.length>0;)await this.postStreamActions.shift()()}async checkForContinuation(){this.shouldAutoSend()&&await this.streamResponse()}shouldAutoSend(){return this.processor.areAllToolsComplete()}getMessages(){return this.processor.getMessages()}getIsLoading(){return this.isLoading}getError(){return this.error}setMessagesManually(e){this.processor.setMessages(e)}updateOptions(e){if(e.connection!==void 0&&(this.connection=e.connection),e.body!==void 0&&(this.body=e.body),e.tools!==void 0){this.clientToolsRef.current=new Map;for(const n of e.tools)this.clientToolsRef.current.set(n.name,n)}e.onResponse!==void 0&&(this.callbacksRef.current.onResponse=e.onResponse),e.onChunk!==void 0&&(this.callbacksRef.current.onChunk=e.onChunk),e.onFinish!==void 0&&(this.callbacksRef.current.onFinish=e.onFinish),e.onError!==void 0&&(this.callbacksRef.current.onError=e.onError)}}function A$(...t){return t}function fue(t){return{async*connect(e,n){const s=Zce(e);yield*t(s,n)}}}function pue(t){const e=z.useId(),n=t.id||e,[s,r]=z.useState(t.initialMessages||[]),[i,a]=z.useState(!1),[l,u]=z.useState(void 0),h=z.useRef(t.initialMessages||[]),m=z.useRef(!0);z.useEffect(()=>{h.current=s},[s]);const f=z.useRef(t);f.current=t;const g=z.useMemo(()=>{const R=m.current?t.initialMessages||[]:h.current;return m.current=!1,new due({connection:f.current.connection,id:n,initialMessages:R,body:f.current.body,onResponse:f.current.onResponse,onChunk:f.current.onChunk,onFinish:f.current.onFinish,onError:f.current.onError,tools:f.current.tools,streamProcessor:t.streamProcessor,onMessagesChange:N=>{r(N)},onLoadingChange:N=>{a(N)},onErrorChange:N=>{u(N)}})},[n]);z.useEffect(()=>{t.initialMessages&&t.initialMessages.length>0&&s.length===0&&g.setMessagesManually(t.initialMessages)},[]),z.useEffect(()=>()=>{g.stop()},[g]);const y=z.useCallback(async R=>{await g.sendMessage(R)},[g]),b=z.useCallback(async R=>{await g.append(R)},[g]),_=z.useCallback(async()=>{await g.reload()},[g]),w=z.useCallback(()=>{g.stop()},[g]),k=z.useCallback(()=>{g.clear()},[g]),C=z.useCallback(R=>{g.setMessagesManually(R)},[g]),E=z.useCallback(async R=>{await g.addToolResult(R)},[g]),A=z.useCallback(async R=>{await g.addToolApprovalResponse(R)},[g]);return{messages:s,sendMessage:y,append:b,reload:_,stop:w,isLoading:i,error:l,setMessages:C,clear:k,addToolResult:E,addToolApprovalResponse:A}}class mue{constructor(e={},n){this.kind="text",this.config=e,this.model=n}generateId(){return`${this.name}-${Date.now()}-${Math.random().toString(36).substring(7)}`}}const gue=t=>{if(t.conversation&&t.previous_response_id)throw new Error("Cannot use both 'conversation' and 'previous_response_id' in the same request.")},yue=t=>{vue(t),gue(t)},vue=t=>{const e=t.metadata;if(e&&Object.keys(e).length>16)throw new Error("Metadata cannot have more than 16 key-value pairs.");if(e&&Object.keys(e).some(i=>i.length>64))throw new Error("Metadata keys cannot be longer than 64 characters.");if(e&&Object.values(e).some(i=>i.length>512))throw new Error("Metadata values cannot be longer than 512 characters.")};function Q2(t){if(t!==null){if(Array.isArray(t))return t.map(e=>Q2(e));if(typeof t=="object"){const e={};for(const[n,s]of Object.entries(t)){const r=Q2(s);r!==void 0&&(e[n]=r)}return e}return t}}function up(t,e=[]){const n={...t};if(n.type==="object"&&n.properties){const s={...n.properties},r=Object.keys(s);for(const i of r){const a=s[i],l=!e.includes(i);a.type==="object"&&a.properties?s[i]=up(a,a.required||[]):a.type==="array"&&a.items?s[i]={...a,items:up(a.items,a.items.required||[])}:l&&(a.type&&!Array.isArray(a.type)?s[i]={...a,type:[a.type,"null"]}:Array.isArray(a.type)&&!a.type.includes("null")&&(s[i]={...a,type:[...a.type,"null"]}))}n.properties=s,n.required=r,n.additionalProperties=!1}return n.type==="array"&&n.items&&(n.items=up(n.items,n.items.required||[])),n}function bue(t){return{type:"apply_patch"}}function _ue(t){return{type:"code_interpreter",container:t.metadata.container}}function xue(t){const e=t.metadata;return{type:"computer_use_preview",display_height:e.display_height,display_width:e.display_width,environment:e.environment}}function Sue(t){const e=t.metadata;return{type:"custom",name:e.name,description:e.description,format:e.format}}function wue(t){const e=t.metadata;return{type:"file_search",vector_store_ids:e.vector_store_ids,max_num_results:e.max_num_results,ranking_options:e.ranking_options,filters:e.filters}}function kue(t){const e=t.inputSchema??{type:"object",properties:{},required:[]},n=up(e,e.required||[]);return n.additionalProperties=!1,{type:"function",name:t.name,description:t.description,parameters:n,strict:!0}}function Cue(t){return{type:"image_generation",...t.metadata}}function Nue(t){return{type:"local_shell"}}function Eue(t){if(!t.server_url&&!t.connector_id)throw new Error("Either server_url or connector_id must be provided.");if(t.connector_id&&t.server_url)throw new Error("Only one of server_url or connector_id can be provided.")}function Aue(t){const n={type:"mcp",...t.metadata};return Eue(n),n}function Rue(t){return{type:"shell"}}function Tue(t){const e=t.metadata;return{type:e.type,search_context_size:e.search_context_size,user_location:e.user_location}}function jue(t){return t.metadata}function Oue(t){return t.map(e=>{const n=new Set(["apply_patch","code_interpreter","computer_use_preview","file_search","image_generation","local_shell","mcp","shell","web_search_preview","web_search","custom"]),s=e.name;if(n.has(s))switch(s){case"apply_patch":return bue();case"code_interpreter":return _ue(e);case"computer_use_preview":return xue(e);case"file_search":return wue(e);case"image_generation":return Cue(e);case"local_shell":return Nue();case"mcp":return Aue(e);case"shell":return Rue();case"web_search_preview":return Tue(e);case"web_search":return jue(e);case"custom":return Sue(e)}return kue(e)})}function mt(t,e,n,s,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function he(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}let R$=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return R$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};function eC(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const tC=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class it extends Error{}class Ss extends it{constructor(e,n,s,r){super(`${Ss.makeMessage(e,n,s)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=n;const i=n;this.code=i?.code,this.param=i?.param,this.type=i?.type}static makeMessage(e,n,s){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,s,r){if(!e||!r)return new t_({message:s,cause:tC(n)});const i=n?.error;return e===400?new T$(e,i,s,r):e===401?new j$(e,i,s,r):e===403?new O$(e,i,s,r):e===404?new M$(e,i,s,r):e===409?new I$(e,i,s,r):e===422?new D$(e,i,s,r):e===429?new P$(e,i,s,r):e>=500?new L$(e,i,s,r):new Ss(e,i,s,r)}}class ni extends Ss{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class t_ extends Ss{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class SE extends t_{constructor({message:e}={}){super({message:e??"Request timed out."})}}class T$ extends Ss{}class j$ extends Ss{}class O$ extends Ss{}class M$ extends Ss{}class I$ extends Ss{}class D$ extends Ss{}class P$ extends Ss{}class L$ extends Ss{}class B$ extends it{constructor(){super("Could not parse response content as the length limit was reached")}}class $$ extends it{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Lf extends Error{constructor(e){super(e)}}const Mue=/^[a-z][a-z0-9+.-]*:/i,Iue=t=>Mue.test(t);let ir=t=>(ir=Array.isArray,ir(t)),$M=ir;function z$(t){return typeof t!="object"?{}:t??{}}function Due(t){if(!t)return!0;for(const e in t)return!1;return!0}function Pue(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ZS(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const Lue=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new it(`${t} must be an integer`);if(e<0)throw new it(`${t} must be a positive integer`);return e},Bue=t=>{try{return JSON.parse(t)}catch{return}},Cm=t=>new Promise(e=>setTimeout(e,t)),ju="6.15.0",$ue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function zue(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Fue=()=>{const t=zue();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":FM(Deno.build.os),"X-Stainless-Arch":zM(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":FM(globalThis.process.platform??"unknown"),"X-Stainless-Arch":zM(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=Uue();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Uue(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,i=s[2]||0,a=s[3]||0;return{browser:e,version:`${r}.${i}.${a}`}}}return null}const zM=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",FM=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let UM;const Hue=()=>UM??(UM=Fue());function Vue(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function F$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function U$(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return F$({start(){},async pull(n){const{done:s,value:r}=await e.next();s?n.close():n.enqueue(r)},async cancel(){await e.return?.()}})}function H$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function que(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const Kue=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),V$="RFC3986",q$=t=>String(t),HM={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:q$},Wue="RFC1738";let nC=(t,e)=>(nC=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),nC(t,e));const Di=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),JS=1024,Gue=(t,e,n,s,r)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let a="";for(let l=0;l<i.length;l+=JS){const u=i.length>=JS?i.slice(l,l+JS):i,h=[];for(let m=0;m<u.length;++m){let f=u.charCodeAt(m);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||r===Wue&&(f===40||f===41)){h[h.length]=u.charAt(m);continue}if(f<128){h[h.length]=Di[f];continue}if(f<2048){h[h.length]=Di[192|f>>6]+Di[128|f&63];continue}if(f<55296||f>=57344){h[h.length]=Di[224|f>>12]+Di[128|f>>6&63]+Di[128|f&63];continue}m+=1,f=65536+((f&1023)<<10|u.charCodeAt(m)&1023),h[h.length]=Di[240|f>>18]+Di[128|f>>12&63]+Di[128|f>>6&63]+Di[128|f&63]}a+=h.join("")}return a};function Yue(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function VM(t,e){if(ir(t)){const n=[];for(let s=0;s<t.length;s+=1)n.push(e(t[s]));return n}return e(t)}const K$={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},W$=function(t,e){Array.prototype.push.apply(t,ir(e)?e:[e])};let qM;const qn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Gue,encodeValuesOnly:!1,format:V$,formatter:q$,indices:!1,serializeDate(t){return(qM??(qM=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function Zue(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const XS={};function G$(t,e,n,s,r,i,a,l,u,h,m,f,g,y,b,_,w,k){let C=t,E=k,A=0,R=!1;for(;(E=E.get(XS))!==void 0&&!R;){const B=E.get(t);if(A+=1,typeof B<"u"){if(B===A)throw new RangeError("Cyclic object value");R=!0}typeof E.get(XS)>"u"&&(A=0)}if(typeof h=="function"?C=h(e,C):C instanceof Date?C=g?.(C):n==="comma"&&ir(C)&&(C=VM(C,function(B){return B instanceof Date?g?.(B):B})),C===null){if(i)return u&&!_?u(e,qn.encoder,w,"key",y):e;C=""}if(Zue(C)||Yue(C)){if(u){const B=_?e:u(e,qn.encoder,w,"key",y);return[b?.(B)+"="+b?.(u(C,qn.encoder,w,"value",y))]}return[b?.(e)+"="+b?.(String(C))]}const N=[];if(typeof C>"u")return N;let M;if(n==="comma"&&ir(C))_&&u&&(C=VM(C,u)),M=[{value:C.length>0?C.join(",")||null:void 0}];else if(ir(h))M=h;else{const B=Object.keys(C);M=m?B.sort(m):B}const I=l?String(e).replace(/\./g,"%2E"):String(e),q=s&&ir(C)&&C.length===1?I+"[]":I;if(r&&ir(C)&&C.length===0)return q+"[]";for(let B=0;B<M.length;++B){const K=M[B],$=typeof K=="object"&&typeof K.value<"u"?K.value:C[K];if(a&&$===null)continue;const W=f&&l?K.replace(/\./g,"%2E"):K,Z=ir(C)?typeof n=="function"?n(q,W):q:q+(f?"."+W:"["+W+"]");k.set(t,A);const G=new WeakMap;G.set(XS,k),W$(N,G$($,Z,n,s,r,i,a,l,n==="comma"&&_&&ir(C)?null:u,h,m,f,g,y,b,_,w,G))}return N}function Jue(t=qn){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||qn.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=V$;if(typeof t.format<"u"){if(!nC(HM,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const s=HM[n];let r=qn.filter;(typeof t.filter=="function"||ir(t.filter))&&(r=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in K$?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=qn.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:qn.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:qn.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:qn.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:qn.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?qn.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:qn.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:qn.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:qn.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:qn.encodeValuesOnly,filter:r,format:n,formatter:s,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:qn.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:qn.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:qn.strictNullHandling}}function Xue(t,e={}){let n=t;const s=Jue(e);let r,i;typeof s.filter=="function"?(i=s.filter,n=i("",n)):ir(s.filter)&&(i=s.filter,r=i);const a=[];if(typeof n!="object"||n===null)return"";const l=K$[s.arrayFormat],u=l==="comma"&&s.commaRoundTrip;r||(r=Object.keys(n)),s.sort&&r.sort(s.sort);const h=new WeakMap;for(let g=0;g<r.length;++g){const y=r[g];s.skipNulls&&n[y]===null||W$(a,G$(n[y],y,l,u,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,h))}const m=a.join(s.delimiter);let f=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),m.length>0?f+m:""}function Que(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let s=0;for(const r of t)n.set(r,s),s+=r.length;return n}let KM;function wE(t){let e;return(KM??(e=new globalThis.TextEncoder,KM=e.encode.bind(e)))(t)}let WM;function GM(t){let e;return(WM??(e=new globalThis.TextDecoder,WM=e.decode.bind(e)))(t)}var _r,xr;class n_{constructor(){_r.set(this,void 0),xr.set(this,void 0),mt(this,_r,new Uint8Array),mt(this,xr,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?wE(e):e;mt(this,_r,Que([he(this,_r,"f"),n]));const s=[];let r;for(;(r=ehe(he(this,_r,"f"),he(this,xr,"f")))!=null;){if(r.carriage&&he(this,xr,"f")==null){mt(this,xr,r.index);continue}if(he(this,xr,"f")!=null&&(r.index!==he(this,xr,"f")+1||r.carriage)){s.push(GM(he(this,_r,"f").subarray(0,he(this,xr,"f")-1))),mt(this,_r,he(this,_r,"f").subarray(he(this,xr,"f"))),mt(this,xr,null);continue}const i=he(this,xr,"f")!==null?r.preceding-1:r.preceding,a=GM(he(this,_r,"f").subarray(0,i));s.push(a),mt(this,_r,he(this,_r,"f").subarray(r.index)),mt(this,xr,null)}return s}flush(){return he(this,_r,"f").length?this.decode(`
`):[]}}_r=new WeakMap,xr=new WeakMap;n_.NEWLINE_CHARS=new Set([`
`,"\r"]);n_.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ehe(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function the(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}const _v={off:0,error:200,warn:300,info:400,debug:500},YM=(t,e,n)=>{if(t){if(Pue(_v,t))return t;hs(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(_v))}`)}};function Bf(){}function k0(t,e,n){return!e||_v[t]>_v[n]?Bf:e[t].bind(e)}const nhe={error:Bf,warn:Bf,info:Bf,debug:Bf};let ZM=new WeakMap;function hs(t){const e=t.logger,n=t.logLevel??"off";if(!e)return nhe;const s=ZM.get(e);if(s&&s[0]===n)return s[1];const r={error:k0("error",e,n),warn:k0("warn",e,n),info:k0("info",e,n),debug:k0("debug",e,n)};return ZM.set(e,[n,r]),r}const jl=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var tf;class Fi{constructor(e,n,s){this.iterator=e,tf.set(this,void 0),this.controller=n,mt(this,tf,s)}static fromSSEResponse(e,n,s){let r=!1;const i=s?hs(s):console;async function*a(){if(r)throw new it("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{for await(const u of she(e,n))if(!l){if(u.data.startsWith("[DONE]")){l=!0;continue}if(u.event===null||!u.event.startsWith("thread.")){let h;try{h=JSON.parse(u.data)}catch(m){throw i.error("Could not parse message into JSON:",u.data),i.error("From chunk:",u.raw),m}if(h&&h.error)throw new Ss(void 0,h.error,void 0,e.headers);yield h}else{let h;try{h=JSON.parse(u.data)}catch(m){throw console.error("Could not parse message into JSON:",u.data),console.error("From chunk:",u.raw),m}if(u.event=="error")throw new Ss(void 0,h.error,h.message,void 0);yield{event:u.event,data:h}}}l=!0}catch(u){if(eC(u))return;throw u}finally{l||n.abort()}}return new Fi(a,n,s)}static fromReadableStream(e,n,s){let r=!1;async function*i(){const l=new n_,u=H$(e);for await(const h of u)for(const m of l.decode(h))yield m;for(const h of l.flush())yield h}async function*a(){if(r)throw new it("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{for await(const u of i())l||u&&(yield JSON.parse(u));l=!0}catch(u){if(eC(u))return;throw u}finally{l||n.abort()}}return new Fi(a,n,s)}[(tf=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),r=i=>({next:()=>{if(i.length===0){const a=s.next();e.push(a),n.push(a)}return i.shift()}});return[new Fi(()=>r(e),this.controller,he(this,tf,"f")),new Fi(()=>r(n),this.controller,he(this,tf,"f"))]}toReadableStream(){const e=this;let n;return F$({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:i}=await n.next();if(i)return s.close();const a=wE(JSON.stringify(r)+`
`);s.enqueue(a)}catch(r){s.error(r)}},async cancel(){await n.return?.()}})}}async function*she(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new it("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new it("Attempted to iterate over a response with no body");const n=new ihe,s=new n_,r=H$(t.body);for await(const i of rhe(r))for(const a of s.decode(i)){const l=n.decode(a);l&&(yield l)}for(const i of s.flush()){const a=n.decode(i);a&&(yield a)}}async function*rhe(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?wE(n):n;let r=new Uint8Array(e.length+s.length);r.set(e),r.set(s,e.length),e=r;let i;for(;(i=the(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class ihe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,r]=ahe(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function ahe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function Y$(t,e){const{response:n,requestLogID:s,retryOfRequestLogID:r,startTime:i}=e,a=await(async()=>{if(e.options.stream)return hs(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Fi.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const u=n.headers.get("content-type")?.split(";")[0]?.trim();if(u?.includes("application/json")||u?.endsWith("+json")){const f=await n.json();return Z$(f,n)}return await n.text()})();return hs(t).debug(`[${s}] response parsed`,jl({retryOfRequestLogID:r,url:n.url,status:n.status,body:a,durationMs:Date.now()-i})),a}function Z$(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var $f;class s_ extends Promise{constructor(e,n,s=Y$){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=s,$f.set(this,void 0),mt(this,$f,e)}_thenUnwrap(e){return new s_(he(this,$f,"f"),this.responsePromise,async(n,s)=>Z$(e(await this.parseResponse(n,s),s),s.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(he(this,$f,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}$f=new WeakMap;var C0;class kE{constructor(e,n,s,r){C0.set(this,void 0),mt(this,C0,e),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new it("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await he(this,C0,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(C0=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class ohe extends s_{constructor(e,n,s){super(e,n,async(r,i)=>new s(r,i.response,await Y$(r,i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class r_ extends kE{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class zn extends kE{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...z$(this.options.query),after:n}}:null}}class xv extends kE{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.has_more=s.has_more||!1,this.last_id=s.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...z$(this.options.query),after:e}}:null}}const J$=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hp(t,e,n){return J$(),new File(t,e??"unknown_file",n)}function X0(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const CE=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",JM=async(t,e)=>sC(t.body)?{...t,body:await X$(t.body,e)}:t,vc=async(t,e)=>({...t,body:await X$(t.body,e)}),XM=new WeakMap;function lhe(t){const e=typeof t=="function"?t:t.fetch,n=XM.get(e);if(n)return n;const s=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new r(i).text()}catch{return!0}})();return XM.set(e,s),s}const X$=async(t,e)=>{if(!await lhe(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([s,r])=>rC(n,s,r))),n},Q$=t=>t instanceof Blob&&"name"in t,che=t=>typeof t=="object"&&t!==null&&(t instanceof Response||CE(t)||Q$(t)),sC=t=>{if(che(t))return!0;if(Array.isArray(t))return t.some(sC);if(t&&typeof t=="object"){for(const e in t)if(sC(t[e]))return!0}return!1},rC=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,hp([await n.blob()],X0(n)));else if(CE(n))t.append(e,hp([await new Response(U$(n)).blob()],X0(n)));else if(Q$(n))t.append(e,n,X0(n));else if(Array.isArray(n))await Promise.all(n.map(s=>rC(t,e+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>rC(t,`${e}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},e8=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",uhe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&e8(t),hhe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function dhe(t,e,n){if(J$(),t=await t,uhe(t))return t instanceof File?t:hp([await t.arrayBuffer()],t.name);if(hhe(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),hp(await iC(r),e,n)}const s=await iC(t);if(e||(e=X0(t)),!n?.type){const r=s.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n={...n,type:r})}return hp(s,e,n)}async function iC(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(e8(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(CE(t))for await(const n of t)e.push(...await iC(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${fhe(t)}`)}return e}function fhe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class st{constructor(e){this._client=e}}function t8(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const QM=Object.freeze(Object.create(null)),phe=(t=t8)=>function(n,...s){if(n.length===1)return n[0];let r=!1;const i=[],a=n.reduce((m,f,g)=>{/[?#]/.test(f)&&(r=!0);const y=s[g];let b=(r?encodeURIComponent:t)(""+y);return g!==s.length&&(y==null||typeof y=="object"&&y.toString===Object.getPrototypeOf(Object.getPrototypeOf(y.hasOwnProperty??QM)??QM)?.toString)&&(b=y+"",i.push({start:m.length+f.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),m+f+(g===s.length?"":b)},""),l=a.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=u.exec(l))!==null;)i.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(i.sort((m,f)=>m.start-f.start),i.length>0){let m=0;const f=i.reduce((g,y)=>{const b=" ".repeat(y.start-m),_="^".repeat(y.length);return m=y.start+y.length,g+b+_},"");throw new it(`Path parameters result in path with invalid segments:
${i.map(g=>g.error).join(`
`)}
${a}
${f}`)}return a},Ee=phe(t8);let n8=class extends st{list(e,n={},s){return this._client.getAPIList(Ee`/chat/completions/${e}/messages`,zn,{query:n,...s})}};function Sv(t){return t!==void 0&&"function"in t&&t.function!==void 0}function NE(t){return t?.$brand==="auto-parseable-response-format"}function Nm(t){return t?.$brand==="auto-parseable-tool"}function mhe(t,e){return!e||!s8(e)?{...t,choices:t.choices.map(n=>(r8(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:EE(t,e)}function EE(t,e){const n=t.choices.map(s=>{if(s.finish_reason==="length")throw new B$;if(s.finish_reason==="content_filter")throw new $$;return r8(s.message.tool_calls),{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:s.message.tool_calls?.map(r=>yhe(e,r))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?ghe(e,s.message.content):null}}});return{...t,choices:n}}function ghe(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function yhe(t,e){const n=t.tools?.find(s=>Sv(s)&&s.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Nm(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function vhe(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(s=>Sv(s)&&s.function?.name===e.function.name);return Sv(n)&&(Nm(n)||n?.function.strict||!1)}function s8(t){return NE(t.response_format)?!0:t.tools?.some(e=>Nm(e)||e.type==="function"&&e.function.strict===!0)??!1}function r8(t){for(const e of t||[])if(e.type!=="function")throw new it(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function bhe(t){for(const e of t??[]){if(e.type!=="function")throw new it(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new it(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const wv=t=>t?.role==="assistant",i8=t=>t?.role==="tool";var aC,Q0,ey,zf,Ff,ty,Uf,Na,Hf,kv,Cv,Ou,a8;class AE{constructor(){aC.add(this),this.controller=new AbortController,Q0.set(this,void 0),ey.set(this,()=>{}),zf.set(this,()=>{}),Ff.set(this,void 0),ty.set(this,()=>{}),Uf.set(this,()=>{}),Na.set(this,{}),Hf.set(this,!1),kv.set(this,!1),Cv.set(this,!1),Ou.set(this,!1),mt(this,Q0,new Promise((e,n)=>{mt(this,ey,e,"f"),mt(this,zf,n,"f")})),mt(this,Ff,new Promise((e,n)=>{mt(this,ty,e,"f"),mt(this,Uf,n,"f")})),he(this,Q0,"f").catch(()=>{}),he(this,Ff,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},he(this,aC,"m",a8).bind(this))},0)}_connected(){this.ended||(he(this,ey,"f").call(this),this._emit("connect"))}get ended(){return he(this,Hf,"f")}get errored(){return he(this,kv,"f")}get aborted(){return he(this,Cv,"f")}abort(){this.controller.abort()}on(e,n){return(he(this,Na,"f")[e]||(he(this,Na,"f")[e]=[])).push({listener:n}),this}off(e,n){const s=he(this,Na,"f")[e];if(!s)return this;const r=s.findIndex(i=>i.listener===n);return r>=0&&s.splice(r,1),this}once(e,n){return(he(this,Na,"f")[e]||(he(this,Na,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,s)=>{mt(this,Ou,!0),e!=="error"&&this.once("error",s),this.once(e,n)})}async done(){mt(this,Ou,!0),await he(this,Ff,"f")}_emit(e,...n){if(he(this,Hf,"f"))return;e==="end"&&(mt(this,Hf,!0),he(this,ty,"f").call(this));const s=he(this,Na,"f")[e];if(s&&(he(this,Na,"f")[e]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!he(this,Ou,"f")&&!s?.length&&Promise.reject(r),he(this,zf,"f").call(this,r),he(this,Uf,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!he(this,Ou,"f")&&!s?.length&&Promise.reject(r),he(this,zf,"f").call(this,r),he(this,Uf,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Q0=new WeakMap,ey=new WeakMap,zf=new WeakMap,Ff=new WeakMap,ty=new WeakMap,Uf=new WeakMap,Na=new WeakMap,Hf=new WeakMap,kv=new WeakMap,Cv=new WeakMap,Ou=new WeakMap,aC=new WeakSet,a8=function(e){if(mt(this,kv,!0),e instanceof Error&&e.name==="AbortError"&&(e=new ni),e instanceof ni)return mt(this,Cv,!0),this._emit("abort",e);if(e instanceof it)return this._emit("error",e);if(e instanceof Error){const n=new it(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new it(String(e)))};function _he(t){return typeof t.parse=="function"}var Ps,oC,Nv,lC,cC,uC,o8,l8;const xhe=10;class c8 extends AE{constructor(){super(...arguments),Ps.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),i8(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(wv(e)&&e.tool_calls)for(const s of e.tool_calls)s.type==="function"&&this._emit("functionToolCall",s.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new it("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),he(this,Ps,"m",oC).call(this)}async finalMessage(){return await this.done(),he(this,Ps,"m",Nv).call(this)}async finalFunctionToolCall(){return await this.done(),he(this,Ps,"m",lC).call(this)}async finalFunctionToolCallResult(){return await this.done(),he(this,Ps,"m",cC).call(this)}async totalUsage(){return await this.done(),he(this,Ps,"m",uC).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=he(this,Ps,"m",Nv).call(this);n&&this._emit("finalMessage",n);const s=he(this,Ps,"m",oC).call(this);s&&this._emit("finalContent",s);const r=he(this,Ps,"m",lC).call(this);r&&this._emit("finalFunctionToolCall",r);const i=he(this,Ps,"m",cC).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",he(this,Ps,"m",uC).call(this))}async _createChatCompletion(e,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),he(this,Ps,"m",o8).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(EE(i,n))}async _runChatCompletion(e,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,s)}async _runTools(e,n,s){const r="tool",{tool_choice:i="auto",stream:a,...l}=n,u=typeof i!="string"&&i.type==="function"&&i?.function?.name,{maxChatCompletions:h=xhe}=s||{},m=n.tools.map(y=>{if(Nm(y)){if(!y.$callback)throw new it("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:y.$callback,name:y.function.name,description:y.function.description||"",parameters:y.function.parameters,parse:y.$parseRaw,strict:!0}}}return y}),f={};for(const y of m)y.type==="function"&&(f[y.function.name||y.function.function.name]=y.function);const g="tools"in n?m.map(y=>y.type==="function"?{type:"function",function:{name:y.function.name||y.function.function.name,parameters:y.function.parameters,description:y.function.description,strict:y.function.strict}}:y):void 0;for(const y of n.messages)this._addMessage(y,!1);for(let y=0;y<h;++y){const _=(await this._createChatCompletion(e,{...l,tool_choice:i,tools:g,messages:[...this.messages]},s)).choices[0]?.message;if(!_)throw new it("missing message in ChatCompletion response");if(!_.tool_calls?.length)return;for(const w of _.tool_calls){if(w.type!=="function")continue;const k=w.id,{name:C,arguments:E}=w.function,A=f[C];if(A){if(u&&u!==C){const I=`Invalid tool_call: ${JSON.stringify(C)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:r,tool_call_id:k,content:I});continue}}else{const I=`Invalid tool_call: ${JSON.stringify(C)}. Available options are: ${Object.keys(f).map(q=>JSON.stringify(q)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:k,content:I});continue}let R;try{R=_he(A)?await A.parse(E):E}catch(I){const q=I instanceof Error?I.message:String(I);this._addMessage({role:r,tool_call_id:k,content:q});continue}const N=await A.function(R,this),M=he(this,Ps,"m",l8).call(this,N);if(this._addMessage({role:r,tool_call_id:k,content:M}),u)return}}}}Ps=new WeakSet,oC=function(){return he(this,Ps,"m",Nv).call(this).content??null},Nv=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(wv(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new it("stream ended without producing a ChatCompletionMessage with role=assistant")},lC=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(wv(n)&&n?.tool_calls?.length)return n.tool_calls.filter(s=>s.type==="function").at(-1)?.function}},cC=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(i8(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>s.role==="assistant"&&s.tool_calls?.some(r=>r.type==="function"&&r.id===n.tool_call_id)))return n.content}},uC=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},o8=function(e){if(e.n!=null&&e.n>1)throw new it("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},l8=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class RE extends c8{static runTools(e,n,s){const r=new RE,i={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}_addMessage(e,n=!0){super._addMessage(e,n),wv(e)&&e.content&&this._emit("content",e.content)}}const u8=1,h8=2,d8=4,f8=8,p8=16,m8=32,g8=64,y8=128,v8=256,b8=y8|v8,_8=p8|m8|b8|g8,x8=u8|h8|_8,S8=d8|f8,She=x8|S8,es={STR:u8,NUM:h8,ARR:d8,OBJ:f8,NULL:p8,BOOL:m8,NAN:g8,INFINITY:y8,MINUS_INFINITY:v8,INF:b8,SPECIAL:_8,ATOM:x8,COLLECTION:S8,ALL:She};class whe extends Error{}class khe extends Error{}function Che(t,e=es.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Nhe(t.trim(),e)}const Nhe=(t,e)=>{const n=t.length;let s=0;const r=g=>{throw new whe(`${g} at position ${s}`)},i=g=>{throw new khe(`${g} at position ${s}`)},a=()=>(f(),s>=n&&r("Unexpected end of input"),t[s]==='"'?l():t[s]==="{"?u():t[s]==="["?h():t.substring(s,s+4)==="null"||es.NULL&e&&n-s<4&&"null".startsWith(t.substring(s))?(s+=4,null):t.substring(s,s+4)==="true"||es.BOOL&e&&n-s<4&&"true".startsWith(t.substring(s))?(s+=4,!0):t.substring(s,s+5)==="false"||es.BOOL&e&&n-s<5&&"false".startsWith(t.substring(s))?(s+=5,!1):t.substring(s,s+8)==="Infinity"||es.INFINITY&e&&n-s<8&&"Infinity".startsWith(t.substring(s))?(s+=8,1/0):t.substring(s,s+9)==="-Infinity"||es.MINUS_INFINITY&e&&1<n-s&&n-s<9&&"-Infinity".startsWith(t.substring(s))?(s+=9,-1/0):t.substring(s,s+3)==="NaN"||es.NAN&e&&n-s<3&&"NaN".startsWith(t.substring(s))?(s+=3,NaN):m()),l=()=>{const g=s;let y=!1;for(s++;s<n&&(t[s]!=='"'||y&&t[s-1]==="\\");)y=t[s]==="\\"?!y:!1,s++;if(t.charAt(s)=='"')try{return JSON.parse(t.substring(g,++s-Number(y)))}catch(b){i(String(b))}else if(es.STR&e)try{return JSON.parse(t.substring(g,s-Number(y))+'"')}catch{return JSON.parse(t.substring(g,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},u=()=>{s++,f();const g={};try{for(;t[s]!=="}";){if(f(),s>=n&&es.OBJ&e)return g;const y=l();f(),s++;try{const b=a();Object.defineProperty(g,y,{value:b,writable:!0,enumerable:!0,configurable:!0})}catch(b){if(es.OBJ&e)return g;throw b}f(),t[s]===","&&s++}}catch{if(es.OBJ&e)return g;r("Expected '}' at end of object")}return s++,g},h=()=>{s++;const g=[];try{for(;t[s]!=="]";)g.push(a()),f(),t[s]===","&&s++}catch{if(es.ARR&e)return g;r("Expected ']' at end of array")}return s++,g},m=()=>{if(s===0){t==="-"&&es.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(y){if(es.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(y))}}const g=s;for(t[s]==="-"&&s++;t[s]&&!",]}".includes(t[s]);)s++;s==n&&!(es.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(g,s))}catch{t.substring(g,s)==="-"&&es.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(g,t.lastIndexOf("e")))}catch(b){i(String(b))}}},f=()=>{for(;s<n&&` 
\r	`.includes(t[s]);)s++};return a()},eI=t=>Che(t,es.ALL^es.NUM);var Vn,ka,Su,No,QS,N0,ew,tw,nw,E0,sw,tI;class Vp extends c8{constructor(e){super(),Vn.add(this),ka.set(this,void 0),Su.set(this,void 0),No.set(this,void 0),mt(this,ka,e),mt(this,Su,[])}get currentChatCompletionSnapshot(){return he(this,No,"f")}static fromReadableStream(e){const n=new Vp(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,s){const r=new Vp(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,s){super._createChatCompletion;const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),he(this,Vn,"m",QS).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const a of i)he(this,Vn,"m",ew).call(this,a);if(i.controller.signal?.aborted)throw new ni;return this._addChatCompletion(he(this,Vn,"m",E0).call(this))}async _fromReadableStream(e,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),he(this,Vn,"m",QS).call(this),this._connected();const r=Fi.fromReadableStream(e,this.controller);let i;for await(const a of r)i&&i!==a.id&&this._addChatCompletion(he(this,Vn,"m",E0).call(this)),he(this,Vn,"m",ew).call(this,a),i=a.id;if(r.controller.signal?.aborted)throw new ni;return this._addChatCompletion(he(this,Vn,"m",E0).call(this))}[(ka=new WeakMap,Su=new WeakMap,No=new WeakMap,Vn=new WeakSet,QS=function(){this.ended||mt(this,No,void 0)},N0=function(n){let s=he(this,Su,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},he(this,Su,"f")[n.index]=s,s)},ew=function(n){if(this.ended)return;const s=he(this,Vn,"m",tI).call(this,n);this._emit("chunk",n,s);for(const r of n.choices){const i=s.choices[r.index];r.delta.content!=null&&i.message?.role==="assistant"&&i.message?.content&&(this._emit("content",r.delta.content,i.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:i.message.content,parsed:i.message.parsed})),r.delta.refusal!=null&&i.message?.role==="assistant"&&i.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:i.message.refusal}),r.logprobs?.content!=null&&i.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:i.logprobs?.content??[]}),r.logprobs?.refusal!=null&&i.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:i.logprobs?.refusal??[]});const a=he(this,Vn,"m",N0).call(this,i);i.finish_reason&&(he(this,Vn,"m",nw).call(this,i),a.current_tool_call_index!=null&&he(this,Vn,"m",tw).call(this,i,a.current_tool_call_index));for(const l of r.delta.tool_calls??[])a.current_tool_call_index!==l.index&&(he(this,Vn,"m",nw).call(this,i),a.current_tool_call_index!=null&&he(this,Vn,"m",tw).call(this,i,a.current_tool_call_index)),a.current_tool_call_index=l.index;for(const l of r.delta.tool_calls??[]){const u=i.message.tool_calls?.[l.index];u?.type&&(u?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:u.function?.name,index:l.index,arguments:u.function.arguments,parsed_arguments:u.function.parsed_arguments,arguments_delta:l.function?.arguments??""}):(u?.type,void 0))}}},tw=function(n,s){if(he(this,Vn,"m",N0).call(this,n).done_tool_calls.has(s))return;const i=n.message.tool_calls?.[s];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const a=he(this,ka,"f")?.tools?.find(l=>Sv(l)&&l.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:s,arguments:i.function.arguments,parsed_arguments:Nm(a)?a.$parseRaw(i.function.arguments):a?.function.strict?JSON.parse(i.function.arguments):null})}else i.type},nw=function(n){const s=he(this,Vn,"m",N0).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const r=he(this,Vn,"m",sw).call(this);this._emit("content.done",{content:n.message.content,parsed:r?r.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},E0=function(){if(this.ended)throw new it("stream has ended, this shouldn't happen");const n=he(this,No,"f");if(!n)throw new it("request ended without sending any chunks");return mt(this,No,void 0),mt(this,Su,[]),Ehe(n,he(this,ka,"f"))},sw=function(){const n=he(this,ka,"f")?.response_format;return NE(n)?n:null},tI=function(n){var s,r,i,a;let l=he(this,No,"f");const{choices:u,...h}=n;l?Object.assign(l,h):l=mt(this,No,{...h,choices:[]});for(const{delta:m,finish_reason:f,index:g,logprobs:y=null,...b}of n.choices){let _=l.choices[g];if(_||(_=l.choices[g]={finish_reason:f,index:g,message:{},logprobs:y,...b}),y)if(!_.logprobs)_.logprobs=Object.assign({},y);else{const{content:N,refusal:M,...I}=y;Object.assign(_.logprobs,I),N&&((s=_.logprobs).content??(s.content=[]),_.logprobs.content.push(...N)),M&&((r=_.logprobs).refusal??(r.refusal=[]),_.logprobs.refusal.push(...M))}if(f&&(_.finish_reason=f,he(this,ka,"f")&&s8(he(this,ka,"f")))){if(f==="length")throw new B$;if(f==="content_filter")throw new $$}if(Object.assign(_,b),!m)continue;const{content:w,refusal:k,function_call:C,role:E,tool_calls:A,...R}=m;if(Object.assign(_.message,R),k&&(_.message.refusal=(_.message.refusal||"")+k),E&&(_.message.role=E),C&&(_.message.function_call?(C.name&&(_.message.function_call.name=C.name),C.arguments&&((i=_.message.function_call).arguments??(i.arguments=""),_.message.function_call.arguments+=C.arguments)):_.message.function_call=C),w&&(_.message.content=(_.message.content||"")+w,!_.message.refusal&&he(this,Vn,"m",sw).call(this)&&(_.message.parsed=eI(_.message.content))),A){_.message.tool_calls||(_.message.tool_calls=[]);for(const{index:N,id:M,type:I,function:q,...B}of A){const K=(a=_.message.tool_calls)[N]??(a[N]={});Object.assign(K,B),M&&(K.id=M),I&&(K.type=I),q&&(K.function??(K.function={name:q.name??"",arguments:""})),q?.name&&(K.function.name=q.name),q?.arguments&&(K.function.arguments+=q.arguments,vhe(he(this,ka,"f"),K)&&(K.function.parsed_arguments=eI(K.function.arguments)))}}}return l},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("chunk",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Fi(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Ehe(t,e){const{id:n,choices:s,created:r,model:i,system_fingerprint:a,...l}=t,u={...l,id:n,choices:s.map(({message:h,finish_reason:m,index:f,logprobs:g,...y})=>{if(!m)throw new it(`missing finish_reason for choice ${f}`);const{content:b=null,function_call:_,tool_calls:w,...k}=h,C=h.role;if(!C)throw new it(`missing role for choice ${f}`);if(_){const{arguments:E,name:A}=_;if(E==null)throw new it(`missing function_call.arguments for choice ${f}`);if(!A)throw new it(`missing function_call.name for choice ${f}`);return{...y,message:{content:b,function_call:{arguments:E,name:A},role:C,refusal:h.refusal??null},finish_reason:m,index:f,logprobs:g}}return w?{...y,index:f,finish_reason:m,logprobs:g,message:{...k,role:C,content:b,refusal:h.refusal??null,tool_calls:w.map((E,A)=>{const{function:R,type:N,id:M,...I}=E,{arguments:q,name:B,...K}=R||{};if(M==null)throw new it(`missing choices[${f}].tool_calls[${A}].id
${A0(t)}`);if(N==null)throw new it(`missing choices[${f}].tool_calls[${A}].type
${A0(t)}`);if(B==null)throw new it(`missing choices[${f}].tool_calls[${A}].function.name
${A0(t)}`);if(q==null)throw new it(`missing choices[${f}].tool_calls[${A}].function.arguments
${A0(t)}`);return{...I,id:M,type:N,function:{...K,name:B,arguments:q}}})}}:{...y,message:{...k,content:b,role:C,refusal:h.refusal??null},finish_reason:m,index:f,logprobs:g}}),created:r,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return mhe(u,e)}function A0(t){return JSON.stringify(t)}class Ev extends Vp{static fromReadableStream(e){const n=new Ev(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,s){const r=new Ev(n),i={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}}let TE=class extends st{constructor(){super(...arguments),this.messages=new n8(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(Ee`/chat/completions/${e}`,n)}update(e,n,s){return this._client.post(Ee`/chat/completions/${e}`,{body:n,...s})}list(e={},n){return this._client.getAPIList("/chat/completions",zn,{query:e,...n})}delete(e,n){return this._client.delete(Ee`/chat/completions/${e}`,n)}parse(e,n){return bhe(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(s=>EE(s,e))}runTools(e,n){return e.stream?Ev.runTools(this._client,e,n):RE.runTools(this._client,e,n)}stream(e,n){return Vp.createChatCompletion(this._client,e,n)}};TE.Messages=n8;class jE extends st{constructor(){super(...arguments),this.completions=new TE(this._client)}}jE.Completions=TE;const w8=Symbol("brand.privateNullableHeaders");function*Ahe(t){if(!t)return;if(w8 in t){const{values:s,nulls:r}=t;yield*s.entries();for(const i of r)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():$M(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let s of n){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=$M(s[1])?s[1]:[s[1]];let a=!1;for(const l of i)l!==void 0&&(e&&!a&&(a=!0,yield[r,null]),yield[r,l])}}const Qe=t=>{const e=new Headers,n=new Set;for(const s of t){const r=new Set;for(const[i,a]of Ahe(s)){const l=i.toLowerCase();r.has(l)||(e.delete(i),r.add(l)),a===null?(e.delete(i),n.add(l)):(e.append(i,a),n.delete(l))}}return{[w8]:!0,values:e,nulls:n}};class k8 extends st{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:Qe([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class C8 extends st{create(e,n){return this._client.post("/audio/transcriptions",vc({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class N8 extends st{create(e,n){return this._client.post("/audio/translations",vc({body:e,...n,__metadata:{model:e.model}},this._client))}}class Em extends st{constructor(){super(...arguments),this.transcriptions=new C8(this._client),this.translations=new N8(this._client),this.speech=new k8(this._client)}}Em.Transcriptions=C8;Em.Translations=N8;Em.Speech=k8;class E8 extends st{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(Ee`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",zn,{query:e,...n})}cancel(e,n){return this._client.post(Ee`/batches/${e}/cancel`,n)}}class A8 extends st{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(Ee`/assistants/${e}`,{...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,s){return this._client.post(Ee`/assistants/${e}`,{body:n,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",zn,{query:e,...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(Ee`/assistants/${e}`,{...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let R8=class extends st{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class T8 extends st{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let i_=class extends st{constructor(){super(...arguments),this.sessions=new R8(this._client),this.transcriptionSessions=new T8(this._client)}};i_.Sessions=R8;i_.TranscriptionSessions=T8;class j8 extends st{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:Qe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(Ee`/chatkit/sessions/${e}/cancel`,{...n,headers:Qe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let O8=class extends st{retrieve(e,n){return this._client.get(Ee`/chatkit/threads/${e}`,{...n,headers:Qe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",xv,{query:e,...n,headers:Qe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(Ee`/chatkit/threads/${e}`,{...n,headers:Qe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},s){return this._client.getAPIList(Ee`/chatkit/threads/${e}/items`,xv,{query:n,...s,headers:Qe([{"OpenAI-Beta":"chatkit_beta=v1"},s?.headers])})}};class a_ extends st{constructor(){super(...arguments),this.sessions=new j8(this._client),this.threads=new O8(this._client)}}a_.Sessions=j8;a_.Threads=O8;class M8 extends st{create(e,n,s){return this._client.post(Ee`/threads/${e}/messages`,{body:n,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,n,s){const{thread_id:r}=n;return this._client.get(Ee`/threads/${r}/messages/${e}`,{...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,n,s){const{thread_id:r,...i}=n;return this._client.post(Ee`/threads/${r}/messages/${e}`,{body:i,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e,n={},s){return this._client.getAPIList(Ee`/threads/${e}/messages`,zn,{query:n,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,n,s){const{thread_id:r}=n;return this._client.delete(Ee`/threads/${r}/messages/${e}`,{...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class I8 extends st{retrieve(e,n,s){const{thread_id:r,run_id:i,...a}=n;return this._client.get(Ee`/threads/${r}/runs/${i}/steps/${e}`,{query:a,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e,n,s){const{thread_id:r,...i}=n;return this._client.getAPIList(Ee`/threads/${r}/runs/${e}/steps`,zn,{query:i,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}const Rhe=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,s=new Uint8Array(n);for(let r=0;r<n;r++)s[r]=e.charCodeAt(r);return Array.from(new Float32Array(s.buffer))}};var The={};const wu=t=>{if(typeof globalThis.process<"u")return The?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var ds,Fl,hC,Bi,ny,yi,Ul,Vu,Il,Av,wr,sy,ry,dp,Vf,qf,nI,sI,rI,iI,aI,oI,lI;class fp extends AE{constructor(){super(...arguments),ds.add(this),hC.set(this,[]),Bi.set(this,{}),ny.set(this,{}),yi.set(this,void 0),Ul.set(this,void 0),Vu.set(this,void 0),Il.set(this,void 0),Av.set(this,void 0),wr.set(this,void 0),sy.set(this,void 0),ry.set(this,void 0),dp.set(this,void 0)}[(hC=new WeakMap,Bi=new WeakMap,ny=new WeakMap,yi=new WeakMap,Ul=new WeakMap,Vu=new WeakMap,Il=new WeakMap,Av=new WeakMap,wr=new WeakMap,sy=new WeakMap,ry=new WeakMap,dp=new WeakMap,ds=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Fl;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Fi.fromReadableStream(e,this.controller);for await(const i of r)he(this,ds,"m",Vf).call(this,i);if(r.controller.signal?.aborted)throw new ni;return this._addRun(he(this,ds,"m",qf).call(this))}toReadableStream(){return new Fi(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,s,r){const i=new Fl;return i._run(()=>i._runToolAssistantStream(e,n,s,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,n,s,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...s,stream:!0},l=await e.submitToolOutputs(n,a,{...r,signal:this.controller.signal});this._connected();for await(const u of l)he(this,ds,"m",Vf).call(this,u);if(l.controller.signal?.aborted)throw new ni;return this._addRun(he(this,ds,"m",qf).call(this))}static createThreadAssistantStream(e,n,s){const r=new Fl;return r._run(()=>r._threadAssistantStream(e,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,s,r){const i=new Fl;return i._run(()=>i._runAssistantStream(e,n,s,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return he(this,sy,"f")}currentRun(){return he(this,ry,"f")}currentMessageSnapshot(){return he(this,yi,"f")}currentRunStepSnapshot(){return he(this,dp,"f")}async finalRunSteps(){return await this.done(),Object.values(he(this,Bi,"f"))}async finalMessages(){return await this.done(),Object.values(he(this,ny,"f"))}async finalRun(){if(await this.done(),!he(this,Ul,"f"))throw Error("Final run was not received.");return he(this,Ul,"f")}async _createThreadAssistantStream(e,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await e.createAndRun(i,{...s,signal:this.controller.signal});this._connected();for await(const l of a)he(this,ds,"m",Vf).call(this,l);if(a.controller.signal?.aborted)throw new ni;return this._addRun(he(this,ds,"m",qf).call(this))}async _createAssistantStream(e,n,s,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...s,stream:!0},l=await e.create(n,a,{...r,signal:this.controller.signal});this._connected();for await(const u of l)he(this,ds,"m",Vf).call(this,u);if(l.controller.signal?.aborted)throw new ni;return this._addRun(he(this,ds,"m",qf).call(this))}static accumulateDelta(e,n){for(const[s,r]of Object.entries(n)){if(!e.hasOwnProperty(s)){e[s]=r;continue}let i=e[s];if(i==null){e[s]=r;continue}if(s==="index"||s==="type"){e[s]=r;continue}if(typeof i=="string"&&typeof r=="string")i+=r;else if(typeof i=="number"&&typeof r=="number")i+=r;else if(ZS(i)&&ZS(r))i=this.accumulateDelta(i,r);else if(Array.isArray(i)&&Array.isArray(r)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...r);continue}for(const a of r){if(!ZS(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const l=a.index;if(l==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const u=i[l];u==null?i.push(a):i[l]=this.accumulateDelta(u,a)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${r}, accValue: ${i}`);e[s]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,s){return await this._createThreadAssistantStream(n,e,s)}async _runAssistantStream(e,n,s,r){return await this._createAssistantStream(n,e,s,r)}async _runToolAssistantStream(e,n,s,r){return await this._createToolAssistantStream(n,e,s,r)}}Fl=fp,Vf=function(e){if(!this.ended)switch(mt(this,sy,e),he(this,ds,"m",rI).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":he(this,ds,"m",lI).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":he(this,ds,"m",sI).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":he(this,ds,"m",nI).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},qf=function(){if(this.ended)throw new it("stream has ended, this shouldn't happen");if(!he(this,Ul,"f"))throw Error("Final run has not been received");return he(this,Ul,"f")},nI=function(e){const[n,s]=he(this,ds,"m",aI).call(this,e,he(this,yi,"f"));mt(this,yi,n),he(this,ny,"f")[n.id]=n;for(const r of s){const i=n.content[r.index];i?.type=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let i=r.text,a=n.content[r.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=he(this,Vu,"f")){if(he(this,Il,"f"))switch(he(this,Il,"f").type){case"text":this._emit("textDone",he(this,Il,"f").text,he(this,yi,"f"));break;case"image_file":this._emit("imageFileDone",he(this,Il,"f").image_file,he(this,yi,"f"));break}mt(this,Vu,r.index)}mt(this,Il,n.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(he(this,Vu,"f")!==void 0){const r=e.data.content[he(this,Vu,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,he(this,yi,"f"));break;case"text":this._emit("textDone",r.text,he(this,yi,"f"));break}}he(this,yi,"f")&&this._emit("messageDone",e.data),mt(this,yi,void 0)}},sI=function(e){const n=he(this,ds,"m",iI).call(this,e);switch(mt(this,dp,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const s=e.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of s.step_details.tool_calls)i.index==he(this,Av,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(he(this,wr,"f")&&this._emit("toolCallDone",he(this,wr,"f")),mt(this,Av,i.index),mt(this,wr,n.step_details.tool_calls[i.index]),he(this,wr,"f")&&this._emit("toolCallCreated",he(this,wr,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":mt(this,dp,void 0),e.data.step_details.type=="tool_calls"&&he(this,wr,"f")&&(this._emit("toolCallDone",he(this,wr,"f")),mt(this,wr,void 0)),this._emit("runStepDone",e.data,n);break}},rI=function(e){he(this,hC,"f").push(e),this._emit("event",e)},iI=function(e){switch(e.event){case"thread.run.step.created":return he(this,Bi,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=he(this,Bi,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=e.data;if(s.delta){const r=Fl.accumulateDelta(n,s.delta);he(this,Bi,"f")[e.data.id]=r}return he(this,Bi,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":he(this,Bi,"f")[e.data.id]=e.data;break}if(he(this,Bi,"f")[e.data.id])return he(this,Bi,"f")[e.data.id];throw new Error("No snapshot available")},aI=function(e,n){let s=[];switch(e.event){case"thread.message.created":return[e.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const i of r.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=he(this,ds,"m",oI).call(this,i,a)}else n.content[i.index]=i,s.push(i);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},oI=function(e,n){return Fl.accumulateDelta(n,e)},lI=function(e){switch(mt(this,ry,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":mt(this,Ul,e.data),he(this,wr,"f")&&(this._emit("toolCallDone",he(this,wr,"f")),mt(this,wr,void 0));break}};let OE=class extends st{constructor(){super(...arguments),this.steps=new I8(this._client)}create(e,n,s){const{include:r,...i}=n;return this._client.post(Ee`/threads/${e}/runs`,{query:{include:r},body:i,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:n.stream??!1})}retrieve(e,n,s){const{thread_id:r}=n;return this._client.get(Ee`/threads/${r}/runs/${e}`,{...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,n,s){const{thread_id:r,...i}=n;return this._client.post(Ee`/threads/${r}/runs/${e}`,{body:i,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e,n={},s){return this._client.getAPIList(Ee`/threads/${e}/runs`,zn,{query:n,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}cancel(e,n,s){const{thread_id:r}=n;return this._client.post(Ee`/threads/${r}/runs/${e}/cancel`,{...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(r.id,{thread_id:e},s)}createAndStream(e,n,s){return fp.createAssistantStream(e,this._client.beta.threads.runs,n,s)}async poll(e,n,s){const r=Qe([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:i,response:a}=await this.retrieve(e,n,{...s,headers:{...s?.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(s?.pollIntervalMs)l=s.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await Cm(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,s){return fp.createAssistantStream(e,this._client.beta.threads.runs,n,s)}submitToolOutputs(e,n,s){const{thread_id:r,...i}=n;return this._client.post(Ee`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:i,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,s){const r=await this.submitToolOutputs(e,n,s);return await this.poll(r.id,n,s)}submitToolOutputsStream(e,n,s){return fp.createToolAssistantStream(e,this._client.beta.threads.runs,n,s)}};OE.Steps=I8;class o_ extends st{constructor(){super(...arguments),this.runs=new OE(this._client),this.messages=new M8(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(Ee`/threads/${e}`,{...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,s){return this._client.post(Ee`/threads/${e}`,{body:n,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,n){return this._client.delete(Ee`/threads/${e}`,{...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const s=await this.createAndRun(e,n);return await this.runs.poll(s.id,{thread_id:s.thread_id},n)}createAndRunStream(e,n){return fp.createThreadAssistantStream(e,this._client.beta.threads,n)}}o_.Runs=OE;o_.Messages=M8;class Vh extends st{constructor(){super(...arguments),this.realtime=new i_(this._client),this.chatkit=new a_(this._client),this.assistants=new A8(this._client),this.threads=new o_(this._client)}}Vh.Realtime=i_;Vh.ChatKit=a_;Vh.Assistants=A8;Vh.Threads=o_;class D8 extends st{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class P8 extends st{retrieve(e,n,s){const{container_id:r}=n;return this._client.get(Ee`/containers/${r}/files/${e}/content`,{...s,headers:Qe([{Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}}let ME=class extends st{constructor(){super(...arguments),this.content=new P8(this._client)}create(e,n,s){return this._client.post(Ee`/containers/${e}/files`,vc({body:n,...s},this._client))}retrieve(e,n,s){const{container_id:r}=n;return this._client.get(Ee`/containers/${r}/files/${e}`,s)}list(e,n={},s){return this._client.getAPIList(Ee`/containers/${e}/files`,zn,{query:n,...s})}delete(e,n,s){const{container_id:r}=n;return this._client.delete(Ee`/containers/${r}/files/${e}`,{...s,headers:Qe([{Accept:"*/*"},s?.headers])})}};ME.Content=P8;class IE extends st{constructor(){super(...arguments),this.files=new ME(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(Ee`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",zn,{query:e,...n})}delete(e,n){return this._client.delete(Ee`/containers/${e}`,{...n,headers:Qe([{Accept:"*/*"},n?.headers])})}}IE.Files=ME;class L8 extends st{create(e,n,s){const{include:r,...i}=n;return this._client.post(Ee`/conversations/${e}/items`,{query:{include:r},body:i,...s})}retrieve(e,n,s){const{conversation_id:r,...i}=n;return this._client.get(Ee`/conversations/${r}/items/${e}`,{query:i,...s})}list(e,n={},s){return this._client.getAPIList(Ee`/conversations/${e}/items`,xv,{query:n,...s})}delete(e,n,s){const{conversation_id:r}=n;return this._client.delete(Ee`/conversations/${r}/items/${e}`,s)}}class DE extends st{constructor(){super(...arguments),this.items=new L8(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(Ee`/conversations/${e}`,n)}update(e,n,s){return this._client.post(Ee`/conversations/${e}`,{body:n,...s})}delete(e,n){return this._client.delete(Ee`/conversations/${e}`,n)}}DE.Items=L8;class B8 extends st{create(e,n){const s=!!e.encoding_format;let r=s?e.encoding_format:"base64";s&&hs(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const i=this._client.post("/embeddings",{body:{...e,encoding_format:r},...n});return s?i:(hs(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(a=>(a&&a.data&&a.data.forEach(l=>{const u=l.embedding;l.embedding=Rhe(u)}),a)))}}class $8 extends st{retrieve(e,n,s){const{eval_id:r,run_id:i}=n;return this._client.get(Ee`/evals/${r}/runs/${i}/output_items/${e}`,s)}list(e,n,s){const{eval_id:r,...i}=n;return this._client.getAPIList(Ee`/evals/${r}/runs/${e}/output_items`,zn,{query:i,...s})}}class PE extends st{constructor(){super(...arguments),this.outputItems=new $8(this._client)}create(e,n,s){return this._client.post(Ee`/evals/${e}/runs`,{body:n,...s})}retrieve(e,n,s){const{eval_id:r}=n;return this._client.get(Ee`/evals/${r}/runs/${e}`,s)}list(e,n={},s){return this._client.getAPIList(Ee`/evals/${e}/runs`,zn,{query:n,...s})}delete(e,n,s){const{eval_id:r}=n;return this._client.delete(Ee`/evals/${r}/runs/${e}`,s)}cancel(e,n,s){const{eval_id:r}=n;return this._client.post(Ee`/evals/${r}/runs/${e}`,s)}}PE.OutputItems=$8;class LE extends st{constructor(){super(...arguments),this.runs=new PE(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(Ee`/evals/${e}`,n)}update(e,n,s){return this._client.post(Ee`/evals/${e}`,{body:n,...s})}list(e={},n){return this._client.getAPIList("/evals",zn,{query:e,...n})}delete(e,n){return this._client.delete(Ee`/evals/${e}`,n)}}LE.Runs=PE;let z8=class extends st{create(e,n){return this._client.post("/files",vc({body:e,...n},this._client))}retrieve(e,n){return this._client.get(Ee`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",zn,{query:e,...n})}delete(e,n){return this._client.delete(Ee`/files/${e}`,n)}content(e,n){return this._client.get(Ee`/files/${e}/content`,{...n,headers:Qe([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:s=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(e);for(;!a.status||!r.has(a.status);)if(await Cm(n),a=await this.retrieve(e),Date.now()-i>s)throw new SE({message:`Giving up on waiting for file ${e} to finish processing after ${s} milliseconds.`});return a}};class F8 extends st{}let U8=class extends st{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class BE extends st{constructor(){super(...arguments),this.graders=new U8(this._client)}}BE.Graders=U8;class H8 extends st{create(e,n,s){return this._client.getAPIList(Ee`/fine_tuning/checkpoints/${e}/permissions`,r_,{body:n,method:"post",...s})}retrieve(e,n={},s){return this._client.get(Ee`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...s})}delete(e,n,s){const{fine_tuned_model_checkpoint:r}=n;return this._client.delete(Ee`/fine_tuning/checkpoints/${r}/permissions/${e}`,s)}}let $E=class extends st{constructor(){super(...arguments),this.permissions=new H8(this._client)}};$E.Permissions=H8;class V8 extends st{list(e,n={},s){return this._client.getAPIList(Ee`/fine_tuning/jobs/${e}/checkpoints`,zn,{query:n,...s})}}class zE extends st{constructor(){super(...arguments),this.checkpoints=new V8(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(Ee`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",zn,{query:e,...n})}cancel(e,n){return this._client.post(Ee`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},s){return this._client.getAPIList(Ee`/fine_tuning/jobs/${e}/events`,zn,{query:n,...s})}pause(e,n){return this._client.post(Ee`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(Ee`/fine_tuning/jobs/${e}/resume`,n)}}zE.Checkpoints=V8;class qh extends st{constructor(){super(...arguments),this.methods=new F8(this._client),this.jobs=new zE(this._client),this.checkpoints=new $E(this._client),this.alpha=new BE(this._client)}}qh.Methods=F8;qh.Jobs=zE;qh.Checkpoints=$E;qh.Alpha=BE;class q8 extends st{}class FE extends st{constructor(){super(...arguments),this.graderModels=new q8(this._client)}}FE.GraderModels=q8;class K8 extends st{createVariation(e,n){return this._client.post("/images/variations",vc({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",vc({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class W8 extends st{retrieve(e,n){return this._client.get(Ee`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",r_,e)}delete(e,n){return this._client.delete(Ee`/models/${e}`,n)}}class G8 extends st{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class Y8 extends st{accept(e,n,s){return this._client.post(Ee`/realtime/calls/${e}/accept`,{body:n,...s,headers:Qe([{Accept:"*/*"},s?.headers])})}hangup(e,n){return this._client.post(Ee`/realtime/calls/${e}/hangup`,{...n,headers:Qe([{Accept:"*/*"},n?.headers])})}refer(e,n,s){return this._client.post(Ee`/realtime/calls/${e}/refer`,{body:n,...s,headers:Qe([{Accept:"*/*"},s?.headers])})}reject(e,n={},s){return this._client.post(Ee`/realtime/calls/${e}/reject`,{body:n,...s,headers:Qe([{Accept:"*/*"},s?.headers])})}}class Z8 extends st{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class l_ extends st{constructor(){super(...arguments),this.clientSecrets=new Z8(this._client),this.calls=new Y8(this._client)}}l_.ClientSecrets=Z8;l_.Calls=Y8;function jhe(t,e){return!e||!Mhe(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(s=>({...s,parsed:null}))}:n)}:J8(t,e)}function J8(t,e){const n=t.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:Phe(e,r)};if(r.type==="message"){const i=r.content.map(a=>a.type==="output_text"?{...a,parsed:Ohe(e,a.text)}:a);return{...r,content:i}}return r}),s=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||dC(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const r of s.output)if(r.type==="message"){for(const i of r.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),s}function Ohe(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function Mhe(t){return!!NE(t.text?.format)}function Ihe(t){return t?.$brand==="auto-parseable-tool"}function Dhe(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function Phe(t,e){const n=Dhe(t.tools??[],e.name);return{...e,...e,parsed_arguments:Ihe(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function dC(t){const e=[];for(const n of t.output)if(n.type==="message")for(const s of n.content)s.type==="output_text"&&e.push(s.text);t.output_text=e.join("")}var ku,R0,Eo,T0,cI,uI,hI,dI;class UE extends AE{constructor(e){super(),ku.add(this),R0.set(this,void 0),Eo.set(this,void 0),T0.set(this,void 0),mt(this,R0,e)}static createResponse(e,n,s){const r=new UE(n);return r._run(()=>r._createOrRetrieveResponse(e,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),he(this,ku,"m",cI).call(this);let i,a=null;"response_id"in n?(i=await e.responses.retrieve(n.response_id,{stream:!0},{...s,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):i=await e.responses.create({...n,stream:!0},{...s,signal:this.controller.signal}),this._connected();for await(const l of i)he(this,ku,"m",uI).call(this,l,a);if(i.controller.signal?.aborted)throw new ni;return he(this,ku,"m",hI).call(this)}[(R0=new WeakMap,Eo=new WeakMap,T0=new WeakMap,ku=new WeakSet,cI=function(){this.ended||mt(this,Eo,void 0)},uI=function(n,s){if(this.ended)return;const r=(a,l)=>{(s==null||l.sequence_number>s)&&this._emit(a,l)},i=he(this,ku,"m",dI).call(this,n);switch(r("event",n),n.type){case"response.output_text.delta":{const a=i.output[n.output_index];if(!a)throw new it(`missing output at index ${n.output_index}`);if(a.type==="message"){const l=a.content[n.content_index];if(!l)throw new it(`missing content at index ${n.content_index}`);if(l.type!=="output_text")throw new it(`expected content to be 'output_text', got ${l.type}`);r("response.output_text.delta",{...n,snapshot:l.text})}break}case"response.function_call_arguments.delta":{const a=i.output[n.output_index];if(!a)throw new it(`missing output at index ${n.output_index}`);a.type==="function_call"&&r("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:r(n.type,n);break}},hI=function(){if(this.ended)throw new it("stream has ended, this shouldn't happen");const n=he(this,Eo,"f");if(!n)throw new it("request ended without sending any events");mt(this,Eo,void 0);const s=Lhe(n,he(this,R0,"f"));return mt(this,T0,s),s},dI=function(n){let s=he(this,Eo,"f");if(!s){if(n.type!=="response.created")throw new it(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return s=mt(this,Eo,n.response),s}switch(n.type){case"response.output_item.added":{s.output.push(n.item);break}case"response.content_part.added":{const r=s.output[n.output_index];if(!r)throw new it(`missing output at index ${n.output_index}`);const i=r.type,a=n.part;i==="message"&&a.type!=="reasoning_text"?r.content.push(a):i==="reasoning"&&a.type==="reasoning_text"&&(r.content||(r.content=[]),r.content.push(a));break}case"response.output_text.delta":{const r=s.output[n.output_index];if(!r)throw new it(`missing output at index ${n.output_index}`);if(r.type==="message"){const i=r.content[n.content_index];if(!i)throw new it(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new it(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=s.output[n.output_index];if(!r)throw new it(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.reasoning_text.delta":{const r=s.output[n.output_index];if(!r)throw new it(`missing output at index ${n.output_index}`);if(r.type==="reasoning"){const i=r.content?.[n.content_index];if(!i)throw new it(`missing content at index ${n.content_index}`);if(i.type!=="reasoning_text")throw new it(`expected content to be 'reasoning_text', got ${i.type}`);i.text+=n.delta}break}case"response.completed":{mt(this,Eo,n.response);break}}return s},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=he(this,T0,"f");if(!e)throw new it("stream ended without producing a ChatCompletion");return e}}function Lhe(t,e){return jhe(t,e)}class X8 extends st{list(e,n={},s){return this._client.getAPIList(Ee`/responses/${e}/input_items`,zn,{query:n,...s})}}class Q8 extends st{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class c_ extends st{constructor(){super(...arguments),this.inputItems=new X8(this._client),this.inputTokens=new Q8(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&dC(s),s))}retrieve(e,n={},s){return this._client.get(Ee`/responses/${e}`,{query:n,...s,stream:n?.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&dC(r),r))}delete(e,n){return this._client.delete(Ee`/responses/${e}`,{...n,headers:Qe([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(s=>J8(s,e))}stream(e,n){return UE.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(Ee`/responses/${e}/cancel`,n)}compact(e,n){return this._client.post("/responses/compact",{body:e,...n})}}c_.InputItems=X8;c_.InputTokens=Q8;class ez extends st{create(e,n,s){return this._client.post(Ee`/uploads/${e}/parts`,vc({body:n,...s},this._client))}}class HE extends st{constructor(){super(...arguments),this.parts=new ez(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(Ee`/uploads/${e}/cancel`,n)}complete(e,n,s){return this._client.post(Ee`/uploads/${e}/complete`,{body:n,...s})}}HE.Parts=ez;const Bhe=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const r of e)r.status==="fulfilled"&&s.push(r.value);return s};class tz extends st{create(e,n,s){return this._client.post(Ee`/vector_stores/${e}/file_batches`,{body:n,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,n,s){const{vector_store_id:r}=n;return this._client.get(Ee`/vector_stores/${r}/file_batches/${e}`,{...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}cancel(e,n,s){const{vector_store_id:r}=n;return this._client.post(Ee`/vector_stores/${r}/file_batches/${e}/cancel`,{...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(e,n,s){const r=await this.create(e,n);return await this.poll(e,r.id,s)}listFiles(e,n,s){const{vector_store_id:r,...i}=n;return this._client.getAPIList(Ee`/vector_stores/${r}/file_batches/${e}/files`,zn,{query:i,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async poll(e,n,s){const r=Qe([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:i,response:a}=await this.retrieve(n,{vector_store_id:e},{...s,headers:r}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(s?.pollIntervalMs)l=s.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await Cm(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:s=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=r?.maxConcurrency??5,a=Math.min(i,n.length),l=this._client,u=n.values(),h=[...s];async function m(g){for(let y of g){const b=await l.files.create({file:y,purpose:"assistants"},r);h.push(b.id)}}const f=Array(a).fill(u).map(m);return await Bhe(f),await this.createAndPoll(e,{file_ids:h})}}class nz extends st{create(e,n,s){return this._client.post(Ee`/vector_stores/${e}/files`,{body:n,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,n,s){const{vector_store_id:r}=n;return this._client.get(Ee`/vector_stores/${r}/files/${e}`,{...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,n,s){const{vector_store_id:r,...i}=n;return this._client.post(Ee`/vector_stores/${r}/files/${e}`,{body:i,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e,n={},s){return this._client.getAPIList(Ee`/vector_stores/${e}/files`,zn,{query:n,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,n,s){const{vector_store_id:r}=n;return this._client.delete(Ee`/vector_stores/${r}/files/${e}`,{...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}async poll(e,n,s){const r=Qe([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const i=await this.retrieve(n,{vector_store_id:e},{...s,headers:r}).withResponse(),a=i.data;switch(a.status){case"in_progress":let l=5e3;if(s?.pollIntervalMs)l=s.pollIntervalMs;else{const u=i.response.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await Cm(l);break;case"failed":case"completed":return a}}}async upload(e,n,s){const r=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(e,{file_id:r.id},s)}async uploadAndPoll(e,n,s){const r=await this.upload(e,n,s);return await this.poll(e,r.id,s)}content(e,n,s){const{vector_store_id:r}=n;return this._client.getAPIList(Ee`/vector_stores/${r}/files/${e}/content`,r_,{...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class u_ extends st{constructor(){super(...arguments),this.files=new nz(this._client),this.fileBatches=new tz(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(Ee`/vector_stores/${e}`,{...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,s){return this._client.post(Ee`/vector_stores/${e}`,{body:n,...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",zn,{query:e,...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(Ee`/vector_stores/${e}`,{...n,headers:Qe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,s){return this._client.getAPIList(Ee`/vector_stores/${e}/search`,r_,{body:n,method:"post",...s,headers:Qe([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}u_.Files=nz;u_.FileBatches=tz;class sz extends st{create(e,n){return this._client.post("/videos",JM({body:e,...n},this._client))}retrieve(e,n){return this._client.get(Ee`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",xv,{query:e,...n})}delete(e,n){return this._client.delete(Ee`/videos/${e}`,n)}downloadContent(e,n={},s){return this._client.get(Ee`/videos/${e}/content`,{query:n,...s,headers:Qe([{Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}remix(e,n,s){return this._client.post(Ee`/videos/${e}/remix`,JM({body:n,...s},this._client))}}var Mu,rz,iy;class iz extends st{constructor(){super(...arguments),Mu.add(this)}async unwrap(e,n,s=this._client.webhookSecret,r=300){return await this.verifySignature(e,n,s,r),JSON.parse(e)}async verifySignature(e,n,s=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");he(this,Mu,"m",rz).call(this,s);const i=Qe([n]).values,a=he(this,Mu,"m",iy).call(this,i,"webhook-signature"),l=he(this,Mu,"m",iy).call(this,i,"webhook-timestamp"),u=he(this,Mu,"m",iy).call(this,i,"webhook-id"),h=parseInt(l,10);if(isNaN(h))throw new Lf("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-h>r)throw new Lf("Webhook timestamp is too old");if(h>m+r)throw new Lf("Webhook timestamp is too new");const f=a.split(" ").map(_=>_.startsWith("v1,")?_.substring(3):_),g=s.startsWith("whsec_")?Buffer.from(s.replace("whsec_",""),"base64"):Buffer.from(s,"utf-8"),y=u?`${u}.${l}.${e}`:`${l}.${e}`,b=await crypto.subtle.importKey("raw",g,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const _ of f)try{const w=Buffer.from(_,"base64");if(await crypto.subtle.verify("HMAC",b,w,new TextEncoder().encode(y)))return}catch{continue}throw new Lf("The given webhook signature does not match the expected signature")}}Mu=new WeakSet,rz=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},iy=function(e,n){if(!e)throw new Error("Headers are required");const s=e.get(n);if(s==null)throw new Error(`Missing required header: ${n}`);return s};var fC,VE,ay,az;class Et{constructor({baseURL:e=wu("OPENAI_BASE_URL"),apiKey:n=wu("OPENAI_API_KEY"),organization:s=wu("OPENAI_ORG_ID")??null,project:r=wu("OPENAI_PROJECT_ID")??null,webhookSecret:i=wu("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(fC.add(this),ay.set(this,void 0),this.completions=new D8(this),this.chat=new jE(this),this.embeddings=new B8(this),this.files=new z8(this),this.images=new K8(this),this.audio=new Em(this),this.moderations=new G8(this),this.models=new W8(this),this.fineTuning=new qh(this),this.graders=new FE(this),this.vectorStores=new u_(this),this.webhooks=new iz(this),this.beta=new Vh(this),this.batches=new E8(this),this.uploads=new HE(this),this.responses=new c_(this),this.realtime=new l_(this),this.conversations=new DE(this),this.evals=new LE(this),this.containers=new IE(this),this.videos=new sz(this),n===void 0)throw new it("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const l={apiKey:n,organization:s,project:r,webhookSecret:i,...a,baseURL:e||"https://api.openai.com/v1"};if(!l.dangerouslyAllowBrowser&&$ue())throw new it(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=l.baseURL,this.timeout=l.timeout??VE.DEFAULT_TIMEOUT,this.logger=l.logger??console;const u="warn";this.logLevel=u,this.logLevel=YM(l.logLevel,"ClientOptions.logLevel",this)??YM(wu("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??u,this.fetchOptions=l.fetchOptions,this.maxRetries=l.maxRetries??2,this.fetch=l.fetch??Vue(),mt(this,ay,Kue),this._options=l,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=s,this.project=r,this.webhookSecret=i}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return Qe([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return Xue(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${ju}`}defaultIdempotencyKey(){return`stainless-node-retry-${R$()}`}makeStatusError(e,n,s,r){return Ss.generate(e,n,s,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(s){throw s instanceof it?s:new it(`Failed to get token from 'apiKey' function: ${s.message}`,{cause:s})}if(typeof n!="string"||!n)throw new it(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,s){const r=!he(this,fC,"m",az).call(this)&&s||this.baseURL,i=Iue(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return Due(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:s}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(r=>({method:e,path:n,...r})))}request(e,n=null){return new s_(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,s){const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:a,url:l,timeout:u}=await this.buildRequest(r,{retryCount:i-n});await this.prepareRequest(a,{url:l,options:r});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=s===void 0?"":`, retryOf: ${s}`,f=Date.now();if(hs(this).debug(`[${h}] sending request`,jl({retryOfRequestLogID:s,method:r.method,url:l,options:r,headers:a.headers})),r.signal?.aborted)throw new ni;const g=new AbortController,y=await this.fetchWithTimeout(l,a,u,g).catch(tC),b=Date.now();if(y instanceof globalThis.Error){const k=`retrying, ${n} attempts remaining`;if(r.signal?.aborted)throw new ni;const C=eC(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return hs(this).info(`[${h}] connection ${C?"timed out":"failed"} - ${k}`),hs(this).debug(`[${h}] connection ${C?"timed out":"failed"} (${k})`,jl({retryOfRequestLogID:s,url:l,durationMs:b-f,message:y.message})),this.retryRequest(r,n,s??h);throw hs(this).info(`[${h}] connection ${C?"timed out":"failed"} - error; no more retries left`),hs(this).debug(`[${h}] connection ${C?"timed out":"failed"} (error; no more retries left)`,jl({retryOfRequestLogID:s,url:l,durationMs:b-f,message:y.message})),C?new SE:new t_({cause:y})}const _=[...y.headers.entries()].filter(([k])=>k==="x-request-id").map(([k,C])=>", "+k+": "+JSON.stringify(C)).join(""),w=`[${h}${m}${_}] ${a.method} ${l} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${b-f}ms`;if(!y.ok){const k=await this.shouldRetry(y);if(n&&k){const M=`retrying, ${n} attempts remaining`;return await que(y.body),hs(this).info(`${w} - ${M}`),hs(this).debug(`[${h}] response error (${M})`,jl({retryOfRequestLogID:s,url:y.url,status:y.status,headers:y.headers,durationMs:b-f})),this.retryRequest(r,n,s??h,y.headers)}const C=k?"error; no more retries left":"error; not retryable";hs(this).info(`${w} - ${C}`);const E=await y.text().catch(M=>tC(M).message),A=Bue(E),R=A?void 0:E;throw hs(this).debug(`[${h}] response error (${C})`,jl({retryOfRequestLogID:s,url:y.url,status:y.status,headers:y.headers,message:R,durationMs:Date.now()-f})),this.makeStatusError(y.status,A,R,y.headers)}return hs(this).info(w),hs(this).debug(`[${h}] response start`,jl({retryOfRequestLogID:s,url:y.url,status:y.status,headers:y.headers,durationMs:b-f})),{response:y,options:r,controller:g,requestLogID:h,retryOfRequestLogID:s,startTime:f}}getAPIList(e,n,s){return this.requestAPIList(n,{method:"get",path:e,...s})}requestAPIList(e,n){const s=this.makeRequest(n,null,void 0);return new ohe(this,s,e)}async fetchWithTimeout(e,n,s,r){const{signal:i,method:a,...l}=n||{};i&&i.addEventListener("abort",()=>r.abort());const u=setTimeout(()=>r.abort(),s),h=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,m={signal:r.signal,...h?{duplex:"half"}:{},method:"GET",...l};a&&(m.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s,r){let i;const a=r?.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(i=u)}const l=r?.get("retry-after");if(l&&!i){const u=parseFloat(l);Number.isNaN(u)?i=Date.parse(l)-Date.now():i=u*1e3}if(!(i&&0<=i&&i<60*1e3)){const u=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Cm(i),this.makeRequest(e,n-1,s)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return a*l*1e3}async buildRequest(e,{retryCount:n=0}={}){const s={...e},{method:r,path:i,query:a,defaultBaseURL:l}=s,u=this.buildURL(i,a,l);"timeout"in s&&Lue("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:s}),f=await this.buildHeaders({options:e,method:r,bodyHeaders:h,retryCount:n});return{req:{method:r,headers:f,...s.signal&&{signal:s.signal},...globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"},...m&&{body:m},...this.fetchOptions??{},...s.fetchOptions??{}},url:u,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:s,retryCount:r}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const a=Qe([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...Hue(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,s,e.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Qe([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:U$(e)}:he(this,ay,"f").call(this,{body:e,headers:s})}}VE=Et,ay=new WeakMap,fC=new WeakSet,az=function(){return this.baseURL!=="https://api.openai.com/v1"};Et.OpenAI=VE;Et.DEFAULT_TIMEOUT=6e5;Et.OpenAIError=it;Et.APIError=Ss;Et.APIConnectionError=t_;Et.APIConnectionTimeoutError=SE;Et.APIUserAbortError=ni;Et.NotFoundError=M$;Et.ConflictError=I$;Et.RateLimitError=P$;Et.BadRequestError=T$;Et.AuthenticationError=j$;Et.InternalServerError=L$;Et.PermissionDeniedError=O$;Et.UnprocessableEntityError=D$;Et.InvalidWebhookSignatureError=Lf;Et.toFile=dhe;Et.Completions=D8;Et.Chat=jE;Et.Embeddings=B8;Et.Files=z8;Et.Images=K8;Et.Audio=Em;Et.Moderations=G8;Et.Models=W8;Et.FineTuning=qh;Et.Graders=FE;Et.VectorStores=u_;Et.Webhooks=iz;Et.Beta=Vh;Et.Batches=E8;Et.Uploads=HE;Et.Responses=c_;Et.Realtime=l_;Et.Conversations=DE;Et.Evals=LE;Et.Containers=IE;Et.Videos=sz;class $he extends Et{constructor(e){super({...e,dangerouslyAllowBrowser:!0})}}function zhe(t){return new $he({apiKey:t.apiKey,organization:t.organization,baseURL:t.baseURL})}function Fhe(t){return`${t}-${Date.now()}-${Math.random().toString(36).substring(7)}`}class Uhe extends mue{constructor(e,n){super({},n),this.kind="text",this.name="openai",this.client=zhe(e)}async*chatStream(e){const n=new Map,s=this.mapTextOptionsToOpenAI(e);try{const r=await this.client.responses.create({...s,stream:!0},{headers:e.request?.headers,signal:e.request?.signal});yield*this.processOpenAIStreamChunks(r,n,e,()=>Fhe(this.name))}catch(r){const i=r;throw console.error(">>> chatStream: Fatal error during response creation <<<"),console.error(">>> Error message:",i.message),console.error(">>> Error stack:",i.stack),console.error(">>> Full error:",i),r}}async structuredOutput(e){const{chatOptions:n,outputSchema:s}=e,r=this.mapTextOptionsToOpenAI(n),i=up(s,s.required||[]);try{const a=await this.client.responses.create({...r,stream:!1,text:{format:{type:"json_schema",name:"structured_output",schema:i,strict:!0}}},{headers:n.request?.headers,signal:n.request?.signal}),l=this.extractTextFromResponse(a);let u;try{u=JSON.parse(l)}catch{throw new Error(`Failed to parse structured output as JSON. Content: ${l.slice(0,200)}${l.length>200?"...":""}`)}return{data:Q2(u),rawText:l}}catch(a){const l=a;throw console.error(">>> structuredOutput: Error during response creation <<<"),console.error(">>> Error message:",l.message),a}}extractTextFromResponse(e){let n="";for(const s of e.output)if(s.type==="message")for(const r of s.content)r.type==="output_text"&&(n+=r.text);return n}async*processOpenAIStreamChunks(e,n,s,r){let i="",a="";const l=Date.now();let u=0,h=!1,m=!1,f=null,g=s.model;try{for await(const y of e){u++;const b=_=>_.type==="output_text"?(i+=_.text,{type:"content",id:f||r(),model:g||s.model,timestamp:l,delta:_.text,content:i,role:"assistant"}):_.type==="reasoning_text"?(a+=_.text,{type:"thinking",id:f||r(),model:g||s.model,timestamp:l,delta:_.text,content:a}):{type:"error",id:f||r(),model:g||s.model,timestamp:l,error:{message:_.refusal}};if((y.type==="response.created"||y.type==="response.incomplete"||y.type==="response.failed")&&(f=y.response.id,g=y.response.model,h=!1,m=!1,i="",a="",y.response.error&&(yield{type:"error",id:y.response.id,model:y.response.model,timestamp:l,error:y.response.error}),y.response.incomplete_details&&(yield{type:"error",id:y.response.id,model:y.response.model,timestamp:l,error:{message:y.response.incomplete_details.reason??""}})),y.type==="response.output_text.delta"&&y.delta){const _=Array.isArray(y.delta)?y.delta.join(""):typeof y.delta=="string"?y.delta:"";_&&(i+=_,h=!0,yield{type:"content",id:f||r(),model:g||s.model,timestamp:l,delta:_,content:i,role:"assistant"})}if(y.type==="response.reasoning_text.delta"&&y.delta){const _=Array.isArray(y.delta)?y.delta.join(""):typeof y.delta=="string"?y.delta:"";_&&(a+=_,m=!0,yield{type:"thinking",id:f||r(),model:g||s.model,timestamp:l,delta:_,content:a})}if(y.type==="response.reasoning_summary_text.delta"&&y.delta){const _=typeof y.delta=="string"?y.delta:"";_&&(a+=_,m=!0,yield{type:"thinking",id:f||r(),model:g||s.model,timestamp:l,delta:_,content:a})}if(y.type==="response.content_part.added"){const _=y.part;yield b(_)}if(y.type==="response.content_part.done"){const _=y.part;if(_.type==="output_text"&&h||_.type==="reasoning_text"&&m)continue;yield b(_)}if(y.type==="response.output_item.added"){const _=y.item;_.type==="function_call"&&_.id&&(n.has(_.id)||n.set(_.id,{index:y.output_index,name:_.name||""}))}if(y.type==="response.function_call_arguments.done"){const{item_id:_,output_index:w}=y,C=n.get(_)?.name||"";yield{type:"tool_call",id:f||r(),model:g||s.model,timestamp:l,index:w,toolCall:{id:_,type:"function",function:{name:C,arguments:y.arguments}}}}if(y.type==="response.completed"){const _=y.response.output.some(w=>w.type==="function_call");yield{type:"done",id:f||r(),model:g||s.model,timestamp:l,usage:{promptTokens:y.response.usage?.input_tokens||0,completionTokens:y.response.usage?.output_tokens||0,totalTokens:y.response.usage?.total_tokens||0},finishReason:_?"tool_calls":"stop"}}y.type==="error"&&(yield{type:"error",id:f||r(),model:g||s.model,timestamp:l,error:{message:y.message,code:y.code??void 0}})}}catch(y){const b=y;console.log("[OpenAI Adapter] Stream ended with error. Event type summary:",{totalChunks:u,error:b.message}),yield{type:"error",id:r(),model:s.model,timestamp:l,error:{message:b.message||"Unknown error occurred",code:b.code}}}}mapTextOptionsToOpenAI(e){const n=e.modelOptions,s=this.convertMessagesToInput(e.messages);n&&yue({...n,model:e.model});const r=e.tools?Oue(e.tools):void 0;return{model:e.model,temperature:e.temperature,max_output_tokens:e.maxTokens,top_p:e.topP,metadata:e.metadata,instructions:e.systemPrompts?.join(`
`),...n,input:s,tools:r}}convertMessagesToInput(e){const n=[];for(const s of e){if(s.role==="tool"){n.push({type:"function_call_output",call_id:s.toolCallId||"",output:typeof s.content=="string"?s.content:JSON.stringify(s.content)});continue}if(s.role==="assistant"){if(s.toolCalls&&s.toolCalls.length>0)for(const a of s.toolCalls){const l=typeof a.function.arguments=="string"?a.function.arguments:JSON.stringify(a.function.arguments);n.push({type:"function_call",call_id:a.id,name:a.function.name,arguments:l})}if(s.content){const a=this.extractTextContent(s.content);a&&n.push({type:"message",role:"assistant",content:a})}continue}const r=this.normalizeContent(s.content),i=[];for(const a of r)i.push(this.convertContentPartToOpenAI(a));i.length===0&&i.push({type:"input_text",text:""}),n.push({type:"message",role:"user",content:i})}return n}convertContentPartToOpenAI(e){switch(e.type){case"text":return{type:"input_text",text:e.content};case"image":{const n=e.metadata;return e.source.type==="url"?{type:"input_image",image_url:e.source.value,detail:n?.detail||"auto"}:{type:"input_image",image_url:e.source.value,detail:n?.detail||"auto"}}case"audio":return e.source.type==="url"?{type:"input_file",file_url:e.source.value}:{type:"input_file",file_data:e.source.value};default:throw new Error(`Unsupported content part type: ${e.type}`)}}normalizeContent(e){return e===null?[]:typeof e=="string"?[{type:"text",content:e}]:e}extractTextContent(e){return e===null?"":typeof e=="string"?e:e.filter(n=>n.type==="text").map(n=>n.content).join("")}}function Hhe(t){const e=`${window.location.origin}/openai/v1`;return new Uhe({apiKey:"not-needed",baseURL:e},t)}function Vhe(){return Ki().ai?.model||"gpt-5.1"}function qhe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Khe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Whe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ghe={};function fI(t,e){return(Ghe.jsx?Whe:Khe).test(t)}const Yhe=/[ \t\n\f\r]/g;function Zhe(t){return typeof t=="object"?t.type==="text"?pI(t.value):!1:pI(t)}function pI(t){return t.replace(Yhe,"")===""}class Am{constructor(e,n,s){this.normal=n,this.property=e,s&&(this.space=s)}}Am.prototype.normal={};Am.prototype.property={};Am.prototype.space=void 0;function oz(t,e){const n={},s={};for(const r of t)Object.assign(n,r.property),Object.assign(s,r.normal);return new Am(n,s,e)}function pC(t){return t.toLowerCase()}class ur{constructor(e,n){this.attribute=n,this.property=e}}ur.prototype.attribute="";ur.prototype.booleanish=!1;ur.prototype.boolean=!1;ur.prototype.commaOrSpaceSeparated=!1;ur.prototype.commaSeparated=!1;ur.prototype.defined=!1;ur.prototype.mustUseProperty=!1;ur.prototype.number=!1;ur.prototype.overloadedBoolean=!1;ur.prototype.property="";ur.prototype.spaceSeparated=!1;ur.prototype.space=void 0;let Jhe=0;const Nt=Rc(),Pn=Rc(),mC=Rc(),Re=Rc(),sn=Rc(),Qu=Rc(),Sr=Rc();function Rc(){return 2**++Jhe}const gC=Object.freeze(Object.defineProperty({__proto__:null,boolean:Nt,booleanish:Pn,commaOrSpaceSeparated:Sr,commaSeparated:Qu,number:Re,overloadedBoolean:mC,spaceSeparated:sn},Symbol.toStringTag,{value:"Module"})),rw=Object.keys(gC);class qE extends ur{constructor(e,n,s,r){let i=-1;if(super(e,n),mI(this,"space",r),typeof s=="number")for(;++i<rw.length;){const a=rw[i];mI(this,rw[i],(s&gC[a])===gC[a])}}}qE.prototype.defined=!0;function mI(t,e,n){n&&(t[e]=n)}function Kh(t){const e={},n={};for(const[s,r]of Object.entries(t.properties)){const i=new qE(s,t.transform(t.attributes||{},s),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(s)&&(i.mustUseProperty=!0),e[s]=i,n[pC(s)]=s,n[pC(i.attribute)]=s}return new Am(e,n,t.space)}const lz=Kh({properties:{ariaActiveDescendant:null,ariaAtomic:Pn,ariaAutoComplete:null,ariaBusy:Pn,ariaChecked:Pn,ariaColCount:Re,ariaColIndex:Re,ariaColSpan:Re,ariaControls:sn,ariaCurrent:null,ariaDescribedBy:sn,ariaDetails:null,ariaDisabled:Pn,ariaDropEffect:sn,ariaErrorMessage:null,ariaExpanded:Pn,ariaFlowTo:sn,ariaGrabbed:Pn,ariaHasPopup:null,ariaHidden:Pn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:sn,ariaLevel:Re,ariaLive:null,ariaModal:Pn,ariaMultiLine:Pn,ariaMultiSelectable:Pn,ariaOrientation:null,ariaOwns:sn,ariaPlaceholder:null,ariaPosInSet:Re,ariaPressed:Pn,ariaReadOnly:Pn,ariaRelevant:null,ariaRequired:Pn,ariaRoleDescription:sn,ariaRowCount:Re,ariaRowIndex:Re,ariaRowSpan:Re,ariaSelected:Pn,ariaSetSize:Re,ariaSort:null,ariaValueMax:Re,ariaValueMin:Re,ariaValueNow:Re,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function cz(t,e){return e in t?t[e]:e}function uz(t,e){return cz(t,e.toLowerCase())}const Xhe=Kh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Qu,acceptCharset:sn,accessKey:sn,action:null,allow:null,allowFullScreen:Nt,allowPaymentRequest:Nt,allowUserMedia:Nt,alt:null,as:null,async:Nt,autoCapitalize:null,autoComplete:sn,autoFocus:Nt,autoPlay:Nt,blocking:sn,capture:null,charSet:null,checked:Nt,cite:null,className:sn,cols:Re,colSpan:null,content:null,contentEditable:Pn,controls:Nt,controlsList:sn,coords:Re|Qu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Nt,defer:Nt,dir:null,dirName:null,disabled:Nt,download:mC,draggable:Pn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Nt,formTarget:null,headers:sn,height:Re,hidden:mC,high:Re,href:null,hrefLang:null,htmlFor:sn,httpEquiv:sn,id:null,imageSizes:null,imageSrcSet:null,inert:Nt,inputMode:null,integrity:null,is:null,isMap:Nt,itemId:null,itemProp:sn,itemRef:sn,itemScope:Nt,itemType:sn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Nt,low:Re,manifest:null,max:null,maxLength:Re,media:null,method:null,min:null,minLength:Re,multiple:Nt,muted:Nt,name:null,nonce:null,noModule:Nt,noValidate:Nt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Nt,optimum:Re,pattern:null,ping:sn,placeholder:null,playsInline:Nt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Nt,referrerPolicy:null,rel:sn,required:Nt,reversed:Nt,rows:Re,rowSpan:Re,sandbox:sn,scope:null,scoped:Nt,seamless:Nt,selected:Nt,shadowRootClonable:Nt,shadowRootDelegatesFocus:Nt,shadowRootMode:null,shape:null,size:Re,sizes:null,slot:null,span:Re,spellCheck:Pn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Re,step:null,style:null,tabIndex:Re,target:null,title:null,translate:null,type:null,typeMustMatch:Nt,useMap:null,value:Pn,width:Re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:sn,axis:null,background:null,bgColor:null,border:Re,borderColor:null,bottomMargin:Re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Nt,declare:Nt,event:null,face:null,frame:null,frameBorder:null,hSpace:Re,leftMargin:Re,link:null,longDesc:null,lowSrc:null,marginHeight:Re,marginWidth:Re,noResize:Nt,noHref:Nt,noShade:Nt,noWrap:Nt,object:null,profile:null,prompt:null,rev:null,rightMargin:Re,rules:null,scheme:null,scrolling:Pn,standby:null,summary:null,text:null,topMargin:Re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Nt,disableRemotePlayback:Nt,prefix:null,property:null,results:Re,security:null,unselectable:null},space:"html",transform:uz}),Qhe=Kh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Sr,accentHeight:Re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Re,amplitude:Re,arabicForm:null,ascent:Re,attributeName:null,attributeType:null,azimuth:Re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Re,by:null,calcMode:null,capHeight:Re,className:sn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Re,diffuseConstant:Re,direction:null,display:null,dur:null,divisor:Re,dominantBaseline:null,download:Nt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Re,enableBackground:null,end:null,event:null,exponent:Re,externalResourcesRequired:null,fill:null,fillOpacity:Re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Qu,g2:Qu,glyphName:Qu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Re,horizOriginX:Re,horizOriginY:Re,id:null,ideographic:Re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Re,k:Re,k1:Re,k2:Re,k3:Re,k4:Re,kernelMatrix:Sr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Re,overlineThickness:Re,paintOrder:null,panose1:null,path:null,pathLength:Re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:sn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Re,pointsAtY:Re,pointsAtZ:Re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Sr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Sr,rev:Sr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Sr,requiredFeatures:Sr,requiredFonts:Sr,requiredFormats:Sr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Re,specularExponent:Re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Re,strikethroughThickness:Re,string:null,stroke:null,strokeDashArray:Sr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Re,strokeOpacity:Re,strokeWidth:null,style:null,surfaceScale:Re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Sr,tabIndex:Re,tableValues:null,target:null,targetX:Re,targetY:Re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Sr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Re,underlineThickness:Re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Re,values:null,vAlphabetic:Re,vMathematical:Re,vectorEffect:null,vHanging:Re,vIdeographic:Re,version:null,vertAdvY:Re,vertOriginX:Re,vertOriginY:Re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:cz}),hz=Kh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),dz=Kh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:uz}),fz=Kh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),ede={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},tde=/[A-Z]/g,gI=/-[a-z]/g,nde=/^data[-\w.:]+$/i;function sde(t,e){const n=pC(e);let s=e,r=ur;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&nde.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(gI,ide);s="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!gI.test(i)){let a=i.replace(tde,rde);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}r=qE}return new r(s,e)}function rde(t){return"-"+t.toLowerCase()}function ide(t){return t.charAt(1).toUpperCase()}const ade=oz([lz,Xhe,hz,dz,fz],"html"),KE=oz([lz,Qhe,hz,dz,fz],"svg");function ode(t){return t.join(" ").trim()}var Cu={},iw,yI;function lde(){if(yI)return iw;yI=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,h="/",m="*",f="",g="comment",y="declaration";function b(w,k){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];k=k||{};var C=1,E=1;function A(Z){var G=Z.match(e);G&&(C+=G.length);var L=Z.lastIndexOf(u);E=~L?Z.length-L:E+Z.length}function R(){var Z={line:C,column:E};return function(G){return G.position=new N(Z),q(),G}}function N(Z){this.start=Z,this.end={line:C,column:E},this.source=k.source}N.prototype.content=w;function M(Z){var G=new Error(k.source+":"+C+":"+E+": "+Z);if(G.reason=Z,G.filename=k.source,G.line=C,G.column=E,G.source=w,!k.silent)throw G}function I(Z){var G=Z.exec(w);if(G){var L=G[0];return A(L),w=w.slice(L.length),G}}function q(){I(n)}function B(Z){var G;for(Z=Z||[];G=K();)G!==!1&&Z.push(G);return Z}function K(){var Z=R();if(!(h!=w.charAt(0)||m!=w.charAt(1))){for(var G=2;f!=w.charAt(G)&&(m!=w.charAt(G)||h!=w.charAt(G+1));)++G;if(G+=2,f===w.charAt(G-1))return M("End of comment missing");var L=w.slice(2,G-2);return E+=2,A(L),w=w.slice(G),E+=2,Z({type:g,comment:L})}}function $(){var Z=R(),G=I(s);if(G){if(K(),!I(r))return M("property missing ':'");var L=I(i),Y=Z({type:y,property:_(G[0].replace(t,f)),value:L?_(L[0].replace(t,f)):f});return I(a),Y}}function W(){var Z=[];B(Z);for(var G;G=$();)G!==!1&&(Z.push(G),B(Z));return Z}return q(),W()}function _(w){return w?w.replace(l,f):f}return iw=b,iw}var vI;function cde(){if(vI)return Cu;vI=1;var t=Cu&&Cu.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.default=n;const e=t(lde());function n(s,r){let i=null;if(!s||typeof s!="string")return i;const a=(0,e.default)(s),l=typeof r=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:h,value:m}=u;l?r(h,m,u):m&&(i=i||{},i[h]=m)}),i}return Cu}var nf={},bI;function ude(){if(bI)return nf;bI=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,i=function(h){return!h||n.test(h)||t.test(h)},a=function(h,m){return m.toUpperCase()},l=function(h,m){return"".concat(m,"-")},u=function(h,m){return m===void 0&&(m={}),i(h)?h:(h=h.toLowerCase(),m.reactCompat?h=h.replace(r,l):h=h.replace(s,l),h.replace(e,a))};return nf.camelCase=u,nf}var sf,_I;function hde(){if(_I)return sf;_I=1;var t=sf&&sf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=t(cde()),n=ude();function s(r,i){var a={};return!r||typeof r!="string"||(0,e.default)(r,function(l,u){l&&u&&(a[(0,n.camelCase)(l,i)]=u)}),a}return s.default=s,sf=s,sf}var dde=hde();const fde=Mv(dde),pz=mz("end"),WE=mz("start");function mz(t){return e;function e(n){const s=n&&n.position&&n.position[t]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function pde(t){const e=WE(t),n=pz(t);if(e&&n)return{start:e,end:n}}function pp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?xI(t.position):"start"in t||"end"in t?xI(t):"line"in t||"column"in t?yC(t):""}function yC(t){return SI(t&&t.line)+":"+SI(t&&t.column)}function xI(t){return yC(t&&t.start)+"-"+yC(t&&t.end)}function SI(t){return t&&typeof t=="number"?t:1}class Os extends Error{constructor(e,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let r="",i={},a=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof e=="string"?r=e:!i.cause&&e&&(a=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&typeof s=="string"){const u=s.indexOf(":");u===-1?i.ruleId=s:(i.source=s.slice(0,u),i.ruleId=s.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=l?l.line:void 0,this.name=pp(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Os.prototype.file="";Os.prototype.name="";Os.prototype.reason="";Os.prototype.message="";Os.prototype.stack="";Os.prototype.column=void 0;Os.prototype.line=void 0;Os.prototype.ancestors=void 0;Os.prototype.cause=void 0;Os.prototype.fatal=void 0;Os.prototype.place=void 0;Os.prototype.ruleId=void 0;Os.prototype.source=void 0;const GE={}.hasOwnProperty,mde=new Map,gde=/[A-Z]/g,yde=new Set(["table","tbody","thead","tfoot","tr"]),vde=new Set(["td","th"]),gz="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function bde(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let s;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=Ede(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=Nde(n,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:s,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?KE:ade,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},i=yz(r,t,void 0);return i&&typeof i!="string"?i:r.create(t,r.Fragment,{children:i||void 0},void 0)}function yz(t,e,n){if(e.type==="element")return _de(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return xde(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return wde(t,e,n);if(e.type==="mdxjsEsm")return Sde(t,e);if(e.type==="root")return kde(t,e,n);if(e.type==="text")return Cde(t,e)}function _de(t,e,n){const s=t.schema;let r=s;e.tagName.toLowerCase()==="svg"&&s.space==="html"&&(r=KE,t.schema=r),t.ancestors.push(e);const i=bz(t,e.tagName,!1),a=Ade(t,e);let l=ZE(t,e);return yde.has(e.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!Zhe(u):!0})),vz(t,a,i,e),YE(a,l),t.ancestors.pop(),t.schema=s,t.create(e,i,a,n)}function xde(t,e){if(e.data&&e.data.estree&&t.evaluater){const s=e.data.estree.body[0];return s.type,t.evaluater.evaluateExpression(s.expression)}qp(t,e.position)}function Sde(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);qp(t,e.position)}function wde(t,e,n){const s=t.schema;let r=s;e.name==="svg"&&s.space==="html"&&(r=KE,t.schema=r),t.ancestors.push(e);const i=e.name===null?t.Fragment:bz(t,e.name,!0),a=Rde(t,e),l=ZE(t,e);return vz(t,a,i,e),YE(a,l),t.ancestors.pop(),t.schema=s,t.create(e,i,a,n)}function kde(t,e,n){const s={};return YE(s,ZE(t,e)),t.create(e,t.Fragment,s,n)}function Cde(t,e){return e.value}function vz(t,e,n,s){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=s)}function YE(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Nde(t,e,n){return s;function s(r,i,a,l){const h=Array.isArray(a.children)?n:e;return l?h(i,a,l):h(i,a)}}function Ede(t,e){return n;function n(s,r,i,a){const l=Array.isArray(i.children),u=WE(s);return e(r,i,a,l,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function Ade(t,e){const n={};let s,r;for(r in e.properties)if(r!=="children"&&GE.call(e.properties,r)){const i=Tde(t,r,e.properties[r]);if(i){const[a,l]=i;t.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&vde.has(e.tagName)?s=l:n[a]=l}}if(s){const i=n.style||(n.style={});i[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function Rde(t,e){const n={};for(const s of e.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&t.evaluater){const i=s.data.estree.body[0];i.type;const a=i.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else qp(t,e.position);else{const r=s.name;let i;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&t.evaluater){const l=s.value.data.estree.body[0];l.type,i=t.evaluater.evaluateExpression(l.expression)}else qp(t,e.position);else i=s.value===null?!0:s.value;n[r]=i}return n}function ZE(t,e){const n=[];let s=-1;const r=t.passKeys?new Map:mde;for(;++s<e.children.length;){const i=e.children[s];let a;if(t.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const h=r.get(u)||0;a=u+"-"+h,r.set(u,h+1)}}const l=yz(t,i,a);l!==void 0&&n.push(l)}return n}function Tde(t,e,n){const s=sde(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?qhe(n):ode(n)),s.property==="style"){let r=typeof n=="object"?n:jde(t,String(n));return t.stylePropertyNameCase==="css"&&(r=Ode(r)),["style",r]}return[t.elementAttributeNameCase==="react"&&s.space?ede[s.property]||s.property:s.attribute,n]}}function jde(t,e){try{return fde(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const s=n,r=new Os("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=gz+"#cannot-parse-style-attribute",r}}function bz(t,e,n){let s;if(!n)s={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let i=-1,a;for(;++i<r.length;){const l=fI(r[i])?{type:"Identifier",name:r[i]}:{type:"Literal",value:r[i]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}s=a}else s=fI(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(s.type==="Literal"){const r=s.value;return GE.call(t.components,r)?t.components[r]:r}if(t.evaluater)return t.evaluater.evaluateExpression(s);qp(t)}function qp(t,e){const n=new Os("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=gz+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Ode(t){const e={};let n;for(n in t)GE.call(t,n)&&(e[Mde(n)]=t[n]);return e}function Mde(t){let e=t.replace(gde,Ide);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Ide(t){return"-"+t.toLowerCase()}const aw={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Dde={};function JE(t,e){const n=Dde,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return _z(t,s,r)}function _z(t,e,n){if(Pde(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return wI(t.children,e,n)}return Array.isArray(t)?wI(t,e,n):""}function wI(t,e,n){const s=[];let r=-1;for(;++r<t.length;)s[r]=_z(t[r],e,n);return s.join("")}function Pde(t){return!!(t&&typeof t=="object")}const kI=document.createElement("i");function XE(t){const e="&"+t+";";kI.innerHTML=e;const n=kI.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function jr(t,e,n,s){const r=t.length;let i=0,a;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,s.length<1e4)a=Array.from(s),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);i<s.length;)a=s.slice(i,i+1e4),a.unshift(e,0),t.splice(...a),i+=1e4,e+=1e4}function Xr(t,e){return t.length>0?(jr(t,t.length,0,e),t):e}const CI={}.hasOwnProperty;function xz(t){const e={};let n=-1;for(;++n<t.length;)Lde(e,t[n]);return e}function Lde(t,e){let n;for(n in e){const r=(CI.call(t,n)?t[n]:void 0)||(t[n]={}),i=e[n];let a;if(i)for(a in i){CI.call(r,a)||(r[a]=[]);const l=i[a];Bde(r[a],Array.isArray(l)?l:l?[l]:[])}}}function Bde(t,e){let n=-1;const s=[];for(;++n<e.length;)(e[n].add==="after"?t:s).push(e[n]);jr(t,0,0,s)}function Sz(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function _i(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const $s=il(/[A-Za-z]/),As=il(/[\dA-Za-z]/),$de=il(/[#-'*+\--9=?A-Z^-~]/);function Rv(t){return t!==null&&(t<32||t===127)}const vC=il(/\d/),zde=il(/[\dA-Fa-f]/),Fde=il(/[!-/:-@[-`{-~]/);function ct(t){return t!==null&&t<-2}function nn(t){return t!==null&&(t<0||t===32)}function It(t){return t===-2||t===-1||t===32}const h_=il(new RegExp("\\p{P}|\\p{S}","u")),bc=il(/\s/);function il(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Wh(t){const e=[];let n=-1,s=0,r=0;for(;++n<t.length;){const i=t.charCodeAt(n);let a="";if(i===37&&As(t.charCodeAt(n+1))&&As(t.charCodeAt(n+2)))r=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const l=t.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(a=String.fromCharCode(i,l),r=1):a=""}else a=String.fromCharCode(i);a&&(e.push(t.slice(s,n),encodeURIComponent(a)),s=n+r+1,a=""),r&&(n+=r,r=0)}return e.join("")+t.slice(s)}function zt(t,e,n,s){const r=s?s-1:Number.POSITIVE_INFINITY;let i=0;return a;function a(u){return It(u)?(t.enter(n),l(u)):e(u)}function l(u){return It(u)&&i++<r?(t.consume(u),l):(t.exit(n),e(u))}}const Ude={tokenize:Hde};function Hde(t){const e=t.attempt(this.parser.constructs.contentInitial,s,r);let n;return e;function s(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),zt(t,e,"linePrefix")}function r(l){return t.enter("paragraph"),i(l)}function i(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return ct(l)?(t.consume(l),t.exit("chunkText"),i):(t.consume(l),a)}}const Vde={tokenize:qde},NI={tokenize:Kde};function qde(t){const e=this,n=[];let s=0,r,i,a;return l;function l(E){if(s<n.length){const A=n[s];return e.containerState=A[1],t.attempt(A[0].continuation,u,h)(E)}return h(E)}function u(E){if(s++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&C();const A=e.events.length;let R=A,N;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){N=e.events[R][1].end;break}k(s);let M=A;for(;M<e.events.length;)e.events[M][1].end={...N},M++;return jr(e.events,R+1,0,e.events.slice(A)),e.events.length=M,h(E)}return l(E)}function h(E){if(s===n.length){if(!r)return g(E);if(r.currentConstruct&&r.currentConstruct.concrete)return b(E);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(NI,m,f)(E)}function m(E){return r&&C(),k(s),g(E)}function f(E){return e.parser.lazy[e.now().line]=s!==n.length,a=e.now().offset,b(E)}function g(E){return e.containerState={},t.attempt(NI,y,b)(E)}function y(E){return s++,n.push([e.currentConstruct,e.containerState]),g(E)}function b(E){if(E===null){r&&C(),k(0),t.consume(E);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:i}),_(E)}function _(E){if(E===null){w(t.exit("chunkFlow"),!0),k(0),t.consume(E);return}return ct(E)?(t.consume(E),w(t.exit("chunkFlow")),s=0,e.interrupt=void 0,l):(t.consume(E),_)}function w(E,A){const R=e.sliceStream(E);if(A&&R.push(null),E.previous=i,i&&(i.next=E),i=E,r.defineSkip(E.start),r.write(R),e.parser.lazy[E.start.line]){let N=r.events.length;for(;N--;)if(r.events[N][1].start.offset<a&&(!r.events[N][1].end||r.events[N][1].end.offset>a))return;const M=e.events.length;let I=M,q,B;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){if(q){B=e.events[I][1].end;break}q=!0}for(k(s),N=M;N<e.events.length;)e.events[N][1].end={...B},N++;jr(e.events,I+1,0,e.events.slice(M)),e.events.length=N}}function k(E){let A=n.length;for(;A-- >E;){const R=n[A];e.containerState=R[1],R[0].exit.call(e,t)}n.length=E}function C(){r.write([null]),i=void 0,r=void 0,e.containerState._closeFlow=void 0}}function Kde(t,e,n){return zt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _h(t){if(t===null||nn(t)||bc(t))return 1;if(h_(t))return 2}function d_(t,e,n){const s=[];let r=-1;for(;++r<t.length;){const i=t[r].resolveAll;i&&!s.includes(i)&&(e=i(e,n),s.push(i))}return e}const bC={name:"attention",resolveAll:Wde,tokenize:Gde};function Wde(t,e){let n=-1,s,r,i,a,l,u,h,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(s=n;s--;)if(t[s][0]==="exit"&&t[s][1].type==="attentionSequence"&&t[s][1]._open&&e.sliceSerialize(t[s][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[s][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[s][1].end.offset-t[s][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[s][1].end.offset-t[s][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[s][1].end},g={...t[n][1].start};EI(f,-u),EI(g,u),a={type:u>1?"strongSequence":"emphasisSequence",start:f,end:{...t[s][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},i={type:u>1?"strongText":"emphasisText",start:{...t[s][1].end},end:{...t[n][1].start}},r={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},t[s][1].end={...a.start},t[n][1].start={...l.end},h=[],t[s][1].end.offset-t[s][1].start.offset&&(h=Xr(h,[["enter",t[s][1],e],["exit",t[s][1],e]])),h=Xr(h,[["enter",r,e],["enter",a,e],["exit",a,e],["enter",i,e]]),h=Xr(h,d_(e.parser.constructs.insideSpan.null,t.slice(s+1,n),e)),h=Xr(h,[["exit",i,e],["enter",l,e],["exit",l,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,h=Xr(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,jr(t,s-1,n-s+3,h),n=s+h.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Gde(t,e){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,r=_h(s);let i;return a;function a(u){return i=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===i)return t.consume(u),l;const h=t.exit("attentionSequence"),m=_h(u),f=!m||m===2&&r||n.includes(u),g=!r||r===2&&m||n.includes(s);return h._open=!!(i===42?f:f&&(r||!g)),h._close=!!(i===42?g:g&&(m||!f)),e(u)}}function EI(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Yde={name:"autolink",tokenize:Zde};function Zde(t,e,n){let s=0;return r;function r(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i}function i(y){return $s(y)?(t.consume(y),a):y===64?n(y):h(y)}function a(y){return y===43||y===45||y===46||As(y)?(s=1,l(y)):h(y)}function l(y){return y===58?(t.consume(y),s=0,u):(y===43||y===45||y===46||As(y))&&s++<32?(t.consume(y),l):(s=0,h(y))}function u(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||Rv(y)?n(y):(t.consume(y),u)}function h(y){return y===64?(t.consume(y),m):$de(y)?(t.consume(y),h):n(y)}function m(y){return As(y)?f(y):n(y)}function f(y){return y===46?(t.consume(y),s=0,m):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):g(y)}function g(y){if((y===45||As(y))&&s++<63){const b=y===45?g:f;return t.consume(y),b}return n(y)}}const Rm={partial:!0,tokenize:Jde};function Jde(t,e,n){return s;function s(i){return It(i)?zt(t,r,"linePrefix")(i):r(i)}function r(i){return i===null||ct(i)?e(i):n(i)}}const wz={continuation:{tokenize:Qde},exit:efe,name:"blockQuote",tokenize:Xde};function Xde(t,e,n){const s=this;return r;function r(a){if(a===62){const l=s.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),i}return n(a)}function i(a){return It(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function Qde(t,e,n){const s=this;return r;function r(a){return It(a)?zt(t,i,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return t.attempt(wz,e,n)(a)}}function efe(t){t.exit("blockQuote")}const kz={name:"characterEscape",tokenize:tfe};function tfe(t,e,n){return s;function s(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),r}function r(i){return Fde(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(i)}}const Cz={name:"characterReference",tokenize:nfe};function nfe(t,e,n){const s=this;let r=0,i,a;return l;function l(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),u}function u(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),i=31,a=As,m(f))}function h(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,a=zde,m):(t.enter("characterReferenceValue"),i=7,a=vC,m(f))}function m(f){if(f===59&&r){const g=t.exit("characterReferenceValue");return a===As&&!XE(s.sliceSerialize(g))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(f)&&r++<i?(t.consume(f),m):n(f)}}const AI={partial:!0,tokenize:rfe},RI={concrete:!0,name:"codeFenced",tokenize:sfe};function sfe(t,e,n){const s=this,r={partial:!0,tokenize:R};let i=0,a=0,l;return u;function u(N){return h(N)}function h(N){const M=s.events[s.events.length-1];return i=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,l=N,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(N)}function m(N){return N===l?(a++,t.consume(N),m):a<3?n(N):(t.exit("codeFencedFenceSequence"),It(N)?zt(t,f,"whitespace")(N):f(N))}function f(N){return N===null||ct(N)?(t.exit("codeFencedFence"),s.interrupt?e(N):t.check(AI,_,A)(N)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(N))}function g(N){return N===null||ct(N)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(N)):It(N)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),zt(t,y,"whitespace")(N)):N===96&&N===l?n(N):(t.consume(N),g)}function y(N){return N===null||ct(N)?f(N):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),b(N))}function b(N){return N===null||ct(N)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(N)):N===96&&N===l?n(N):(t.consume(N),b)}function _(N){return t.attempt(r,A,w)(N)}function w(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),k}function k(N){return i>0&&It(N)?zt(t,C,"linePrefix",i+1)(N):C(N)}function C(N){return N===null||ct(N)?t.check(AI,_,A)(N):(t.enter("codeFlowValue"),E(N))}function E(N){return N===null||ct(N)?(t.exit("codeFlowValue"),C(N)):(t.consume(N),E)}function A(N){return t.exit("codeFenced"),e(N)}function R(N,M,I){let q=0;return B;function B(G){return N.enter("lineEnding"),N.consume(G),N.exit("lineEnding"),K}function K(G){return N.enter("codeFencedFence"),It(G)?zt(N,$,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):$(G)}function $(G){return G===l?(N.enter("codeFencedFenceSequence"),W(G)):I(G)}function W(G){return G===l?(q++,N.consume(G),W):q>=a?(N.exit("codeFencedFenceSequence"),It(G)?zt(N,Z,"whitespace")(G):Z(G)):I(G)}function Z(G){return G===null||ct(G)?(N.exit("codeFencedFence"),M(G)):I(G)}}}function rfe(t,e,n){const s=this;return r;function r(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i)}function i(a){return s.parser.lazy[s.now().line]?n(a):e(a)}}const ow={name:"codeIndented",tokenize:afe},ife={partial:!0,tokenize:ofe};function afe(t,e,n){const s=this;return r;function r(h){return t.enter("codeIndented"),zt(t,i,"linePrefix",5)(h)}function i(h){const m=s.events[s.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?a(h):n(h)}function a(h){return h===null?u(h):ct(h)?t.attempt(ife,a,u)(h):(t.enter("codeFlowValue"),l(h))}function l(h){return h===null||ct(h)?(t.exit("codeFlowValue"),a(h)):(t.consume(h),l)}function u(h){return t.exit("codeIndented"),e(h)}}function ofe(t,e,n){const s=this;return r;function r(a){return s.parser.lazy[s.now().line]?n(a):ct(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),r):zt(t,i,"linePrefix",5)(a)}function i(a){const l=s.events[s.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):ct(a)?r(a):n(a)}}const lfe={name:"codeText",previous:ufe,resolve:cfe,tokenize:hfe};function cfe(t){let e=t.length-4,n=3,s,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(s=n;++s<e;)if(t[s][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(s=n-1,e++;++s<=e;)r===void 0?s!==e&&t[s][1].type!=="lineEnding"&&(r=s):(s===e||t[s][1].type==="lineEnding")&&(t[r][1].type="codeTextData",s!==r+2&&(t[r][1].end=t[s-1][1].end,t.splice(r+2,s-r-2),e-=s-r-2,s=r+2),r=void 0);return t}function ufe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function hfe(t,e,n){let s=0,r,i;return a;function a(f){return t.enter("codeText"),t.enter("codeTextSequence"),l(f)}function l(f){return f===96?(t.consume(f),s++,l):(t.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),u):f===96?(i=t.enter("codeTextSequence"),r=0,m(f)):ct(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("codeTextData"),h(f))}function h(f){return f===null||f===32||f===96||ct(f)?(t.exit("codeTextData"),u(f)):(t.consume(f),h)}function m(f){return f===96?(t.consume(f),r++,m):r===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(i.type="codeTextData",h(f))}}class dfe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(e,s):e>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(e,n,s){const r=n||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return s&&rf(this.left,s),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),rf(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),rf(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);rf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);rf(this.left,n.reverse())}}}function rf(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Nz(t){const e={};let n=-1,s,r,i,a,l,u,h;const m=new dfe(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(s=m.get(n),n&&s[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(u=s[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(s[0]==="enter")s[1].contentType&&(Object.assign(e,ffe(m,n)),n=e[n],h=!0);else if(s[1]._container){for(i=n,r=void 0;i--;)if(a=m.get(i),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(r&&(m.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=i);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;r&&(s[1].end={...m.get(r)[1].start},l=m.slice(r,n),l.unshift(s),m.splice(r,n-r+1,l))}}return jr(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!h}function ffe(t,e){const n=t.get(e)[1],s=t.get(e)[2];let r=e-1;const i=[];let a=n._tokenizer;a||(a=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,u=[],h={};let m,f,g=-1,y=n,b=0,_=0;const w=[_];for(;y;){for(;t.get(++r)[1]!==y;);i.push(r),y._tokenizer||(m=s.sliceStream(y),y.next||m.push(null),f&&a.defineSkip(y.start),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(m),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=y,y=y.next}for(y=n;++g<l.length;)l[g][0]==="exit"&&l[g-1][0]==="enter"&&l[g][1].type===l[g-1][1].type&&l[g][1].start.line!==l[g][1].end.line&&(_=g+1,w.push(_),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(a.events=[],y?(y._tokenizer=void 0,y.previous=void 0):w.pop(),g=w.length;g--;){const k=l.slice(w[g],w[g+1]),C=i.pop();u.push([C,C+k.length-1]),t.splice(C,2,k)}for(u.reverse(),g=-1;++g<u.length;)h[b+u[g][0]]=b+u[g][1],b+=u[g][1]-u[g][0]-1;return h}const pfe={resolve:gfe,tokenize:yfe},mfe={partial:!0,tokenize:vfe};function gfe(t){return Nz(t),t}function yfe(t,e){let n;return s;function s(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(l)}function r(l){return l===null?i(l):ct(l)?t.check(mfe,a,i)(l):(t.consume(l),r)}function i(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function a(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function vfe(t,e,n){const s=this;return r;function r(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),zt(t,i,"linePrefix")}function i(a){if(a===null||ct(a))return n(a);const l=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):t.interrupt(s.parser.constructs.flow,n,e)(a)}}function Ez(t,e,n,s,r,i,a,l,u){const h=u||Number.POSITIVE_INFINITY;let m=0;return f;function f(k){return k===60?(t.enter(s),t.enter(r),t.enter(i),t.consume(k),t.exit(i),g):k===null||k===32||k===41||Rv(k)?n(k):(t.enter(s),t.enter(a),t.enter(l),t.enter("chunkString",{contentType:"string"}),_(k))}function g(k){return k===62?(t.enter(i),t.consume(k),t.exit(i),t.exit(r),t.exit(s),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===62?(t.exit("chunkString"),t.exit(l),g(k)):k===null||k===60||ct(k)?n(k):(t.consume(k),k===92?b:y)}function b(k){return k===60||k===62||k===92?(t.consume(k),y):y(k)}function _(k){return!m&&(k===null||k===41||nn(k))?(t.exit("chunkString"),t.exit(l),t.exit(a),t.exit(s),e(k)):m<h&&k===40?(t.consume(k),m++,_):k===41?(t.consume(k),m--,_):k===null||k===32||k===40||Rv(k)?n(k):(t.consume(k),k===92?w:_)}function w(k){return k===40||k===41||k===92?(t.consume(k),_):_(k)}}function Az(t,e,n,s,r,i){const a=this;let l=0,u;return h;function h(y){return t.enter(s),t.enter(r),t.consume(y),t.exit(r),t.enter(i),m}function m(y){return l>999||y===null||y===91||y===93&&!u||y===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(y):y===93?(t.exit(i),t.enter(r),t.consume(y),t.exit(r),t.exit(s),e):ct(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===null||y===91||y===93||ct(y)||l++>999?(t.exit("chunkString"),m(y)):(t.consume(y),u||(u=!It(y)),y===92?g:f)}function g(y){return y===91||y===92||y===93?(t.consume(y),l++,f):f(y)}}function Rz(t,e,n,s,r,i){let a;return l;function l(g){return g===34||g===39||g===40?(t.enter(s),t.enter(r),t.consume(g),t.exit(r),a=g===40?41:g,u):n(g)}function u(g){return g===a?(t.enter(r),t.consume(g),t.exit(r),t.exit(s),e):(t.enter(i),h(g))}function h(g){return g===a?(t.exit(i),u(a)):g===null?n(g):ct(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),zt(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===a||g===null||ct(g)?(t.exit("chunkString"),h(g)):(t.consume(g),g===92?f:m)}function f(g){return g===a||g===92?(t.consume(g),m):m(g)}}function mp(t,e){let n;return s;function s(r){return ct(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,s):It(r)?zt(t,s,n?"linePrefix":"lineSuffix")(r):e(r)}}const bfe={name:"definition",tokenize:xfe},_fe={partial:!0,tokenize:Sfe};function xfe(t,e,n){const s=this;let r;return i;function i(y){return t.enter("definition"),a(y)}function a(y){return Az.call(s,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function l(y){return r=_i(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),u):n(y)}function u(y){return nn(y)?mp(t,h)(y):h(y)}function h(y){return Ez(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function m(y){return t.attempt(_fe,f,f)(y)}function f(y){return It(y)?zt(t,g,"whitespace")(y):g(y)}function g(y){return y===null||ct(y)?(t.exit("definition"),s.parser.defined.push(r),e(y)):n(y)}}function Sfe(t,e,n){return s;function s(l){return nn(l)?mp(t,r)(l):n(l)}function r(l){return Rz(t,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return It(l)?zt(t,a,"whitespace")(l):a(l)}function a(l){return l===null||ct(l)?e(l):n(l)}}const wfe={name:"hardBreakEscape",tokenize:kfe};function kfe(t,e,n){return s;function s(i){return t.enter("hardBreakEscape"),t.consume(i),r}function r(i){return ct(i)?(t.exit("hardBreakEscape"),e(i)):n(i)}}const Cfe={name:"headingAtx",resolve:Nfe,tokenize:Efe};function Nfe(t,e){let n=t.length-2,s=3,r,i;return t[s][1].type==="whitespace"&&(s+=2),n-2>s&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(s===n-1||n-4>s&&t[n-2][1].type==="whitespace")&&(n-=s+1===n?2:4),n>s&&(r={type:"atxHeadingText",start:t[s][1].start,end:t[n][1].end},i={type:"chunkText",start:t[s][1].start,end:t[n][1].end,contentType:"text"},jr(t,s,n-s+1,[["enter",r,e],["enter",i,e],["exit",i,e],["exit",r,e]])),t}function Efe(t,e,n){let s=0;return r;function r(m){return t.enter("atxHeading"),i(m)}function i(m){return t.enter("atxHeadingSequence"),a(m)}function a(m){return m===35&&s++<6?(t.consume(m),a):m===null||nn(m)?(t.exit("atxHeadingSequence"),l(m)):n(m)}function l(m){return m===35?(t.enter("atxHeadingSequence"),u(m)):m===null||ct(m)?(t.exit("atxHeading"),e(m)):It(m)?zt(t,l,"whitespace")(m):(t.enter("atxHeadingText"),h(m))}function u(m){return m===35?(t.consume(m),u):(t.exit("atxHeadingSequence"),l(m))}function h(m){return m===null||m===35||nn(m)?(t.exit("atxHeadingText"),l(m)):(t.consume(m),h)}}const Afe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],TI=["pre","script","style","textarea"],Rfe={concrete:!0,name:"htmlFlow",resolveTo:Ofe,tokenize:Mfe},Tfe={partial:!0,tokenize:Dfe},jfe={partial:!0,tokenize:Ife};function Ofe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Mfe(t,e,n){const s=this;let r,i,a,l,u;return h;function h(T){return m(T)}function m(T){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(T),f}function f(T){return T===33?(t.consume(T),g):T===47?(t.consume(T),i=!0,_):T===63?(t.consume(T),r=3,s.interrupt?e:O):$s(T)?(t.consume(T),a=String.fromCharCode(T),w):n(T)}function g(T){return T===45?(t.consume(T),r=2,y):T===91?(t.consume(T),r=5,l=0,b):$s(T)?(t.consume(T),r=4,s.interrupt?e:O):n(T)}function y(T){return T===45?(t.consume(T),s.interrupt?e:O):n(T)}function b(T){const Q="CDATA[";return T===Q.charCodeAt(l++)?(t.consume(T),l===Q.length?s.interrupt?e:$:b):n(T)}function _(T){return $s(T)?(t.consume(T),a=String.fromCharCode(T),w):n(T)}function w(T){if(T===null||T===47||T===62||nn(T)){const Q=T===47,te=a.toLowerCase();return!Q&&!i&&TI.includes(te)?(r=1,s.interrupt?e(T):$(T)):Afe.includes(a.toLowerCase())?(r=6,Q?(t.consume(T),k):s.interrupt?e(T):$(T)):(r=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(T):i?C(T):E(T))}return T===45||As(T)?(t.consume(T),a+=String.fromCharCode(T),w):n(T)}function k(T){return T===62?(t.consume(T),s.interrupt?e:$):n(T)}function C(T){return It(T)?(t.consume(T),C):B(T)}function E(T){return T===47?(t.consume(T),B):T===58||T===95||$s(T)?(t.consume(T),A):It(T)?(t.consume(T),E):B(T)}function A(T){return T===45||T===46||T===58||T===95||As(T)?(t.consume(T),A):R(T)}function R(T){return T===61?(t.consume(T),N):It(T)?(t.consume(T),R):E(T)}function N(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(t.consume(T),u=T,M):It(T)?(t.consume(T),N):I(T)}function M(T){return T===u?(t.consume(T),u=null,q):T===null||ct(T)?n(T):(t.consume(T),M)}function I(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||nn(T)?R(T):(t.consume(T),I)}function q(T){return T===47||T===62||It(T)?E(T):n(T)}function B(T){return T===62?(t.consume(T),K):n(T)}function K(T){return T===null||ct(T)?$(T):It(T)?(t.consume(T),K):n(T)}function $(T){return T===45&&r===2?(t.consume(T),L):T===60&&r===1?(t.consume(T),Y):T===62&&r===4?(t.consume(T),P):T===63&&r===3?(t.consume(T),O):T===93&&r===5?(t.consume(T),U):ct(T)&&(r===6||r===7)?(t.exit("htmlFlowData"),t.check(Tfe,V,W)(T)):T===null||ct(T)?(t.exit("htmlFlowData"),W(T)):(t.consume(T),$)}function W(T){return t.check(jfe,Z,V)(T)}function Z(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),G}function G(T){return T===null||ct(T)?W(T):(t.enter("htmlFlowData"),$(T))}function L(T){return T===45?(t.consume(T),O):$(T)}function Y(T){return T===47?(t.consume(T),a="",X):$(T)}function X(T){if(T===62){const Q=a.toLowerCase();return TI.includes(Q)?(t.consume(T),P):$(T)}return $s(T)&&a.length<8?(t.consume(T),a+=String.fromCharCode(T),X):$(T)}function U(T){return T===93?(t.consume(T),O):$(T)}function O(T){return T===62?(t.consume(T),P):T===45&&r===2?(t.consume(T),O):$(T)}function P(T){return T===null||ct(T)?(t.exit("htmlFlowData"),V(T)):(t.consume(T),P)}function V(T){return t.exit("htmlFlow"),e(T)}}function Ife(t,e,n){const s=this;return r;function r(a){return ct(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):n(a)}function i(a){return s.parser.lazy[s.now().line]?n(a):e(a)}}function Dfe(t,e,n){return s;function s(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(Rm,e,n)}}const Pfe={name:"htmlText",tokenize:Lfe};function Lfe(t,e,n){const s=this;let r,i,a;return l;function l(O){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(O),u}function u(O){return O===33?(t.consume(O),h):O===47?(t.consume(O),R):O===63?(t.consume(O),E):$s(O)?(t.consume(O),I):n(O)}function h(O){return O===45?(t.consume(O),m):O===91?(t.consume(O),i=0,b):$s(O)?(t.consume(O),C):n(O)}function m(O){return O===45?(t.consume(O),y):n(O)}function f(O){return O===null?n(O):O===45?(t.consume(O),g):ct(O)?(a=f,Y(O)):(t.consume(O),f)}function g(O){return O===45?(t.consume(O),y):f(O)}function y(O){return O===62?L(O):O===45?g(O):f(O)}function b(O){const P="CDATA[";return O===P.charCodeAt(i++)?(t.consume(O),i===P.length?_:b):n(O)}function _(O){return O===null?n(O):O===93?(t.consume(O),w):ct(O)?(a=_,Y(O)):(t.consume(O),_)}function w(O){return O===93?(t.consume(O),k):_(O)}function k(O){return O===62?L(O):O===93?(t.consume(O),k):_(O)}function C(O){return O===null||O===62?L(O):ct(O)?(a=C,Y(O)):(t.consume(O),C)}function E(O){return O===null?n(O):O===63?(t.consume(O),A):ct(O)?(a=E,Y(O)):(t.consume(O),E)}function A(O){return O===62?L(O):E(O)}function R(O){return $s(O)?(t.consume(O),N):n(O)}function N(O){return O===45||As(O)?(t.consume(O),N):M(O)}function M(O){return ct(O)?(a=M,Y(O)):It(O)?(t.consume(O),M):L(O)}function I(O){return O===45||As(O)?(t.consume(O),I):O===47||O===62||nn(O)?q(O):n(O)}function q(O){return O===47?(t.consume(O),L):O===58||O===95||$s(O)?(t.consume(O),B):ct(O)?(a=q,Y(O)):It(O)?(t.consume(O),q):L(O)}function B(O){return O===45||O===46||O===58||O===95||As(O)?(t.consume(O),B):K(O)}function K(O){return O===61?(t.consume(O),$):ct(O)?(a=K,Y(O)):It(O)?(t.consume(O),K):q(O)}function $(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),r=O,W):ct(O)?(a=$,Y(O)):It(O)?(t.consume(O),$):(t.consume(O),Z)}function W(O){return O===r?(t.consume(O),r=void 0,G):O===null?n(O):ct(O)?(a=W,Y(O)):(t.consume(O),W)}function Z(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||nn(O)?q(O):(t.consume(O),Z)}function G(O){return O===47||O===62||nn(O)?q(O):n(O)}function L(O){return O===62?(t.consume(O),t.exit("htmlTextData"),t.exit("htmlText"),e):n(O)}function Y(O){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),X}function X(O){return It(O)?zt(t,U,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):U(O)}function U(O){return t.enter("htmlTextData"),a(O)}}const QE={name:"labelEnd",resolveAll:Ffe,resolveTo:Ufe,tokenize:Hfe},Bfe={tokenize:Vfe},$fe={tokenize:qfe},zfe={tokenize:Kfe};function Ffe(t){let e=-1;const n=[];for(;++e<t.length;){const s=t[e][1];if(n.push(t[e]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const r=s.type==="labelImage"?4:2;s.type="data",e+=r}}return t.length!==n.length&&jr(t,0,t.length,n),t}function Ufe(t,e){let n=t.length,s=0,r,i,a,l;for(;n--;)if(r=t[n][1],i){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(i=n,r.type!=="labelLink")){s=2;break}}else r.type==="labelEnd"&&(a=n);const u={type:t[i][1].type==="labelLink"?"link":"image",start:{...t[i][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[i][1].start},end:{...t[a][1].end}},m={type:"labelText",start:{...t[i+s+2][1].end},end:{...t[a-2][1].start}};return l=[["enter",u,e],["enter",h,e]],l=Xr(l,t.slice(i+1,i+s+3)),l=Xr(l,[["enter",m,e]]),l=Xr(l,d_(e.parser.constructs.insideSpan.null,t.slice(i+s+4,a-3),e)),l=Xr(l,[["exit",m,e],t[a-2],t[a-1],["exit",h,e]]),l=Xr(l,t.slice(a+1)),l=Xr(l,[["exit",u,e]]),jr(t,i,t.length,l),t}function Hfe(t,e,n){const s=this;let r=s.events.length,i,a;for(;r--;)if((s.events[r][1].type==="labelImage"||s.events[r][1].type==="labelLink")&&!s.events[r][1]._balanced){i=s.events[r][1];break}return l;function l(g){return i?i._inactive?f(g):(a=s.parser.defined.includes(_i(s.sliceSerialize({start:i.end,end:s.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),u):n(g)}function u(g){return g===40?t.attempt(Bfe,m,a?m:f)(g):g===91?t.attempt($fe,m,a?h:f)(g):a?m(g):f(g)}function h(g){return t.attempt(zfe,m,f)(g)}function m(g){return e(g)}function f(g){return i._balanced=!0,n(g)}}function Vfe(t,e,n){return s;function s(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),r}function r(f){return nn(f)?mp(t,i)(f):i(f)}function i(f){return f===41?m(f):Ez(t,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return nn(f)?mp(t,u)(f):m(f)}function l(f){return n(f)}function u(f){return f===34||f===39||f===40?Rz(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):m(f)}function h(f){return nn(f)?mp(t,m)(f):m(f)}function m(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function qfe(t,e,n){const s=this;return r;function r(l){return Az.call(s,t,i,a,"reference","referenceMarker","referenceString")(l)}function i(l){return s.parser.defined.includes(_i(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function a(l){return n(l)}}function Kfe(t,e,n){return s;function s(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),r}function r(i){return i===93?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),e):n(i)}}const Wfe={name:"labelStartImage",resolveAll:QE.resolveAll,tokenize:Gfe};function Gfe(t,e,n){const s=this;return r;function r(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),i}function i(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(l):e(l)}}const Yfe={name:"labelStartLink",resolveAll:QE.resolveAll,tokenize:Zfe};function Zfe(t,e,n){const s=this;return r;function r(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(a):e(a)}}const lw={name:"lineEnding",tokenize:Jfe};function Jfe(t,e){return n;function n(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),zt(t,e,"linePrefix")}}const oy={name:"thematicBreak",tokenize:Xfe};function Xfe(t,e,n){let s=0,r;return i;function i(h){return t.enter("thematicBreak"),a(h)}function a(h){return r=h,l(h)}function l(h){return h===r?(t.enter("thematicBreakSequence"),u(h)):s>=3&&(h===null||ct(h))?(t.exit("thematicBreak"),e(h)):n(h)}function u(h){return h===r?(t.consume(h),s++,u):(t.exit("thematicBreakSequence"),It(h)?zt(t,l,"whitespace")(h):l(h))}}const nr={continuation:{tokenize:npe},exit:rpe,name:"list",tokenize:tpe},Qfe={partial:!0,tokenize:ipe},epe={partial:!0,tokenize:spe};function tpe(t,e,n){const s=this,r=s.events[s.events.length-1];let i=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,a=0;return l;function l(y){const b=s.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!s.containerState.marker||y===s.containerState.marker:vC(y)){if(s.containerState.type||(s.containerState.type=b,t.enter(b,{_container:!0})),b==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(oy,n,h)(y):h(y);if(!s.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(y)}return n(y)}function u(y){return vC(y)&&++a<10?(t.consume(y),u):(!s.interrupt||a<2)&&(s.containerState.marker?y===s.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),h(y)):n(y)}function h(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||y,t.check(Rm,s.interrupt?n:m,t.attempt(Qfe,g,f))}function m(y){return s.containerState.initialBlankLine=!0,i++,g(y)}function f(y){return It(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return s.containerState.size=i+s.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function npe(t,e,n){const s=this;return s.containerState._closeFlow=void 0,t.check(Rm,r,i);function r(l){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,zt(t,e,"listItemIndent",s.containerState.size+1)(l)}function i(l){return s.containerState.furtherBlankLines||!It(l)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,a(l)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,t.attempt(epe,e,a)(l))}function a(l){return s.containerState._closeFlow=!0,s.interrupt=void 0,zt(t,t.attempt(nr,e,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function spe(t,e,n){const s=this;return zt(t,r,"listItemIndent",s.containerState.size+1);function r(i){const a=s.events[s.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===s.containerState.size?e(i):n(i)}}function rpe(t){t.exit(this.containerState.type)}function ipe(t,e,n){const s=this;return zt(t,r,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(i){const a=s.events[s.events.length-1];return!It(i)&&a&&a[1].type==="listItemPrefixWhitespace"?e(i):n(i)}}const jI={name:"setextUnderline",resolveTo:ape,tokenize:ope};function ape(t,e){let n=t.length,s,r,i;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){s=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!i&&t[n][1].type==="definition"&&(i=n);const a={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[r][1].type="setextHeadingText",i?(t.splice(r,0,["enter",a,e]),t.splice(i+1,0,["exit",t[s][1],e]),t[s][1].end={...t[i][1].end}):t[s][1]=a,t.push(["exit",a,e]),t}function ope(t,e,n){const s=this;let r;return i;function i(h){let m=s.events.length,f;for(;m--;)if(s.events[m][1].type!=="lineEnding"&&s.events[m][1].type!=="linePrefix"&&s.events[m][1].type!=="content"){f=s.events[m][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||f)?(t.enter("setextHeadingLine"),r=h,a(h)):n(h)}function a(h){return t.enter("setextHeadingLineSequence"),l(h)}function l(h){return h===r?(t.consume(h),l):(t.exit("setextHeadingLineSequence"),It(h)?zt(t,u,"lineSuffix")(h):u(h))}function u(h){return h===null||ct(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const lpe={tokenize:cpe};function cpe(t){const e=this,n=t.attempt(Rm,s,t.attempt(this.parser.constructs.flowInitial,r,zt(t,t.attempt(this.parser.constructs.flow,r,t.attempt(pfe,r)),"linePrefix")));return n;function s(i){if(i===null){t.consume(i);return}return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(i){if(i===null){t.consume(i);return}return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const upe={resolveAll:jz()},hpe=Tz("string"),dpe=Tz("text");function Tz(t){return{resolveAll:jz(t==="text"?fpe:void 0),tokenize:e};function e(n){const s=this,r=this.parser.constructs[t],i=n.attempt(r,a,l);return a;function a(m){return h(m)?i(m):l(m)}function l(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),u}function u(m){return h(m)?(n.exit("data"),i(m)):(n.consume(m),u)}function h(m){if(m===null)return!0;const f=r[m];let g=-1;if(f)for(;++g<f.length;){const y=f[g];if(!y.previous||y.previous.call(s,s.previous))return!0}return!1}}}function jz(t){return e;function e(n,s){let r=-1,i;for(;++r<=n.length;)i===void 0?n[r]&&n[r][1].type==="data"&&(i=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),r=i+2),i=void 0);return t?t(n,s):n}}function fpe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const s=t[n-1][1],r=e.sliceStream(s);let i=r.length,a=-1,l=0,u;for(;i--;){const h=r[i];if(typeof h=="string"){for(a=h.length;h.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(h===-2)u=!0,l++;else if(h!==-1){i++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const h={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?a:s.start._bufferIndex+a,_index:s.start._index+i,line:s.end.line,column:s.end.column-l,offset:s.end.offset-l},end:{...s.end}};s.end={...h.start},s.start.offset===s.end.offset?Object.assign(s,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const ppe={42:nr,43:nr,45:nr,48:nr,49:nr,50:nr,51:nr,52:nr,53:nr,54:nr,55:nr,56:nr,57:nr,62:wz},mpe={91:bfe},gpe={[-2]:ow,[-1]:ow,32:ow},ype={35:Cfe,42:oy,45:[jI,oy],60:Rfe,61:jI,95:oy,96:RI,126:RI},vpe={38:Cz,92:kz},bpe={[-5]:lw,[-4]:lw,[-3]:lw,33:Wfe,38:Cz,42:bC,60:[Yde,Pfe],91:Yfe,92:[wfe,kz],93:QE,95:bC,96:lfe},_pe={null:[bC,upe]},xpe={null:[42,95]},Spe={null:[]},wpe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:xpe,contentInitial:mpe,disable:Spe,document:ppe,flow:ype,flowInitial:gpe,insideSpan:_pe,string:vpe,text:bpe},Symbol.toStringTag,{value:"Module"}));function kpe(t,e,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},i=[];let a=[],l=[];const u={attempt:M(R),check:M(N),consume:C,enter:E,exit:A,interrupt:M(N,{interrupt:!0})},h={code:null,containerState:{},defineSkip:_,events:[],now:b,parser:t,previous:null,sliceSerialize:g,sliceStream:y,write:f};let m=e.tokenize.call(h,u);return e.resolveAll&&i.push(e),h;function f(K){return a=Xr(a,K),w(),a[a.length-1]!==null?[]:(I(e,0),h.events=d_(i,h.events,h),h.events)}function g(K,$){return Npe(y(K),$)}function y(K){return Cpe(a,K)}function b(){const{_bufferIndex:K,_index:$,line:W,column:Z,offset:G}=s;return{_bufferIndex:K,_index:$,line:W,column:Z,offset:G}}function _(K){r[K.line]=K.column,B()}function w(){let K;for(;s._index<a.length;){const $=a[s._index];if(typeof $=="string")for(K=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===K&&s._bufferIndex<$.length;)k($.charCodeAt(s._bufferIndex));else k($)}}function k(K){m=m(K)}function C(K){ct(K)?(s.line++,s.column=1,s.offset+=K===-3?2:1,B()):K!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===a[s._index].length&&(s._bufferIndex=-1,s._index++)),h.previous=K}function E(K,$){const W=$||{};return W.type=K,W.start=b(),h.events.push(["enter",W,h]),l.push(W),W}function A(K){const $=l.pop();return $.end=b(),h.events.push(["exit",$,h]),$}function R(K,$){I(K,$.from)}function N(K,$){$.restore()}function M(K,$){return W;function W(Z,G,L){let Y,X,U,O;return Array.isArray(Z)?V(Z):"tokenize"in Z?V([Z]):P(Z);function P(J){return ue;function ue(we){const ke=we!==null&&J[we],et=we!==null&&J.null,ze=[...Array.isArray(ke)?ke:ke?[ke]:[],...Array.isArray(et)?et:et?[et]:[]];return V(ze)(we)}}function V(J){return Y=J,X=0,J.length===0?L:T(J[X])}function T(J){return ue;function ue(we){return O=q(),U=J,J.partial||(h.currentConstruct=J),J.name&&h.parser.constructs.disable.null.includes(J.name)?te():J.tokenize.call($?Object.assign(Object.create(h),$):h,u,Q,te)(we)}}function Q(J){return K(U,O),G}function te(J){return O.restore(),++X<Y.length?T(Y[X]):L}}}function I(K,$){K.resolveAll&&!i.includes(K)&&i.push(K),K.resolve&&jr(h.events,$,h.events.length-$,K.resolve(h.events.slice($),h)),K.resolveTo&&(h.events=K.resolveTo(h.events,h))}function q(){const K=b(),$=h.previous,W=h.currentConstruct,Z=h.events.length,G=Array.from(l);return{from:Z,restore:L};function L(){s=K,h.previous=$,h.currentConstruct=W,h.events.length=Z,l=G,B()}}function B(){s.line in r&&s.column<2&&(s.column=r[s.line],s.offset+=r[s.line]-1)}}function Cpe(t,e){const n=e.start._index,s=e.start._bufferIndex,r=e.end._index,i=e.end._bufferIndex;let a;if(n===r)a=[t[n].slice(s,i)];else{if(a=t.slice(n,r),s>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(s):a.shift()}i>0&&a.push(t[r].slice(0,i))}return a}function Npe(t,e){let n=-1;const s=[];let r;for(;++n<t.length;){const i=t[n];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&r)continue;a=" ";break}default:a=String.fromCharCode(i)}r=i===-2,s.push(a)}return s.join("")}function Epe(t){const s={constructs:xz([wpe,...(t||{}).extensions||[]]),content:r(Ude),defined:[],document:r(Vde),flow:r(lpe),lazy:{},string:r(hpe),text:r(dpe)};return s;function r(i){return a;function a(l){return kpe(s,i,l)}}}function Ape(t){for(;!Nz(t););return t}const OI=/[\0\t\n\r]/g;function Rpe(){let t=1,e="",n=!0,s;return r;function r(i,a,l){const u=[];let h,m,f,g,y;for(i=e+(typeof i=="string"?i.toString():new TextDecoder(a||void 0).decode(i)),f=0,e="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(OI.lastIndex=f,h=OI.exec(i),g=h&&h.index!==void 0?h.index:i.length,y=i.charCodeAt(g),!h){e=i.slice(f);break}if(y===10&&f===g&&s)u.push(-3),s=void 0;else switch(s&&(u.push(-5),s=void 0),f<g&&(u.push(i.slice(f,g)),t+=g-f),y){case 0:{u.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,u.push(-2);t++<m;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:s=!0,t=1}f=g+1}return l&&(s&&u.push(-5),e&&u.push(e),u.push(null)),u}}const Tpe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function jpe(t){return t.replace(Tpe,Ope)}function Ope(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),i=r===120||r===88;return Sz(n.slice(i?2:1),i?16:10)}return XE(n)||t}const Oz={}.hasOwnProperty;function Mpe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Ipe(n)(Ape(Epe(n).document().write(Rpe()(t,e,!0))))}function Ipe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(At),autolinkProtocol:q,autolinkEmail:q,atxHeading:i(lt),blockQuote:i(et),characterEscape:q,characterReference:q,codeFenced:i(ze),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(ze,a),codeText:i(Ce,a),codeTextData:q,data:q,codeFlowValue:q,definition:i(Oe),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(qe),hardBreakEscape:i(at),hardBreakTrailing:i(at),htmlFlow:i(Lt,a),htmlFlowData:q,htmlText:i(Lt,a),htmlTextData:q,image:i(Bt),label:a,link:i(At),listItem:i(De),listItemValue:g,listOrdered:i(jt,f),listUnordered:i(jt),paragraph:i(He),reference:T,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(lt),strong:i(Ie),thematicBreak:i(Te)},exit:{atxHeading:u(),atxHeadingSequence:R,autolink:u(),autolinkEmail:ke,autolinkProtocol:we,blockQuote:u(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:J,characterReference:ue,codeFenced:u(w),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:B,codeIndented:u(k),codeText:u(G),codeTextData:B,data:B,definition:u(),definitionDestinationString:A,definitionLabelString:C,definitionTitleString:E,emphasis:u(),hardBreakEscape:u($),hardBreakTrailing:u($),htmlFlow:u(W),htmlFlowData:B,htmlText:u(Z),htmlTextData:B,image:u(Y),label:U,labelText:X,lineEnding:K,link:u(L),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Q,resourceDestinationString:O,resourceTitleString:P,resource:V,setextHeading:u(I),setextHeadingLineSequence:M,setextHeadingText:N,strong:u(),thematicBreak:u()}};Mz(e,(t||{}).mdastExtensions||[]);const n={};return s;function s(ae){let ve={type:"root",children:[]};const Ve={stack:[ve],tokenStack:[],config:e,enter:l,exit:h,buffer:a,resume:m,data:n},ot=[];let bt=-1;for(;++bt<ae.length;)if(ae[bt][1].type==="listOrdered"||ae[bt][1].type==="listUnordered")if(ae[bt][0]==="enter")ot.push(bt);else{const un=ot.pop();bt=r(ae,un,bt)}for(bt=-1;++bt<ae.length;){const un=e[ae[bt][0]];Oz.call(un,ae[bt][1].type)&&un[ae[bt][1].type].call(Object.assign({sliceSerialize:ae[bt][2].sliceSerialize},Ve),ae[bt][1])}if(Ve.tokenStack.length>0){const un=Ve.tokenStack[Ve.tokenStack.length-1];(un[1]||MI).call(Ve,void 0,un[0])}for(ve.position={start:Ao(ae.length>0?ae[0][1].start:{line:1,column:1,offset:0}),end:Ao(ae.length>0?ae[ae.length-2][1].end:{line:1,column:1,offset:0})},bt=-1;++bt<e.transforms.length;)ve=e.transforms[bt](ve)||ve;return ve}function r(ae,ve,Ve){let ot=ve-1,bt=-1,un=!1,re,oe,fe,Ne;for(;++ot<=Ve;){const me=ae[ot];switch(me[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{me[0]==="enter"?bt++:bt--,Ne=void 0;break}case"lineEndingBlank":{me[0]==="enter"&&(re&&!Ne&&!bt&&!fe&&(fe=ot),Ne=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ne=void 0}if(!bt&&me[0]==="enter"&&me[1].type==="listItemPrefix"||bt===-1&&me[0]==="exit"&&(me[1].type==="listUnordered"||me[1].type==="listOrdered")){if(re){let Ge=ot;for(oe=void 0;Ge--;){const ht=ae[Ge];if(ht[1].type==="lineEnding"||ht[1].type==="lineEndingBlank"){if(ht[0]==="exit")continue;oe&&(ae[oe][1].type="lineEndingBlank",un=!0),ht[1].type="lineEnding",oe=Ge}else if(!(ht[1].type==="linePrefix"||ht[1].type==="blockQuotePrefix"||ht[1].type==="blockQuotePrefixWhitespace"||ht[1].type==="blockQuoteMarker"||ht[1].type==="listItemIndent"))break}fe&&(!oe||fe<oe)&&(re._spread=!0),re.end=Object.assign({},oe?ae[oe][1].start:me[1].end),ae.splice(oe||ot,0,["exit",re,me[2]]),ot++,Ve++}if(me[1].type==="listItemPrefix"){const Ge={type:"listItem",_spread:!1,start:Object.assign({},me[1].start),end:void 0};re=Ge,ae.splice(ot,0,["enter",Ge,me[2]]),ot++,Ve++,fe=void 0,Ne=!0}}}return ae[ve][1]._spread=un,Ve}function i(ae,ve){return Ve;function Ve(ot){l.call(this,ae(ot),ot),ve&&ve.call(this,ot)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(ae,ve,Ve){this.stack[this.stack.length-1].children.push(ae),this.stack.push(ae),this.tokenStack.push([ve,Ve||void 0]),ae.position={start:Ao(ve.start),end:void 0}}function u(ae){return ve;function ve(Ve){ae&&ae.call(this,Ve),h.call(this,Ve)}}function h(ae,ve){const Ve=this.stack.pop(),ot=this.tokenStack.pop();if(ot)ot[0].type!==ae.type&&(ve?ve.call(this,ae,ot[0]):(ot[1]||MI).call(this,ae,ot[0]));else throw new Error("Cannot close `"+ae.type+"` ("+pp({start:ae.start,end:ae.end})+"): its not open");Ve.position.end=Ao(ae.end)}function m(){return JE(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(ae){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(ae),10),this.data.expectingFirstListItemValue=void 0}}function y(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=ae}function b(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=ae}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae.replace(/(\r?\n|\r)$/g,"")}function C(ae){const ve=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=ve,Ve.identifier=_i(this.sliceSerialize(ae)).toLowerCase()}function E(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ae}function A(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ae}function R(ae){const ve=this.stack[this.stack.length-1];if(!ve.depth){const Ve=this.sliceSerialize(ae).length;ve.depth=Ve}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function M(ae){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(ae).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function q(ae){const Ve=this.stack[this.stack.length-1].children;let ot=Ve[Ve.length-1];(!ot||ot.type!=="text")&&(ot=Ke(),ot.position={start:Ao(ae.start),end:void 0},Ve.push(ot)),this.stack.push(ot)}function B(ae){const ve=this.stack.pop();ve.value+=this.sliceSerialize(ae),ve.position.end=Ao(ae.end)}function K(ae){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ve=ve.children[ve.children.length-1];Ve.position.end=Ao(ae.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ve.type)&&(q.call(this,ae),B.call(this,ae))}function $(){this.data.atHardBreak=!0}function W(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae}function Z(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae}function G(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae}function L(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=ve,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function Y(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=ve,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function X(ae){const ve=this.sliceSerialize(ae),Ve=this.stack[this.stack.length-2];Ve.label=jpe(ve),Ve.identifier=_i(ve).toLowerCase()}function U(){const ae=this.stack[this.stack.length-1],ve=this.resume(),Ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ve.type==="link"){const ot=ae.children;Ve.children=ot}else Ve.alt=ve}function O(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ae}function P(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ae}function V(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function Q(ae){const ve=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=ve,Ve.identifier=_i(this.sliceSerialize(ae)).toLowerCase(),this.data.referenceType="full"}function te(ae){this.data.characterReferenceType=ae.type}function J(ae){const ve=this.sliceSerialize(ae),Ve=this.data.characterReferenceType;let ot;Ve?(ot=Sz(ve,Ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ot=XE(ve);const bt=this.stack[this.stack.length-1];bt.value+=ot}function ue(ae){const ve=this.stack.pop();ve.position.end=Ao(ae.end)}function we(ae){B.call(this,ae);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(ae)}function ke(ae){B.call(this,ae);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(ae)}function et(){return{type:"blockquote",children:[]}}function ze(){return{type:"code",lang:null,meta:null,value:""}}function Ce(){return{type:"inlineCode",value:""}}function Oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function qe(){return{type:"emphasis",children:[]}}function lt(){return{type:"heading",depth:0,children:[]}}function at(){return{type:"break"}}function Lt(){return{type:"html",value:""}}function Bt(){return{type:"image",title:null,url:"",alt:null}}function At(){return{type:"link",title:null,url:"",children:[]}}function jt(ae){return{type:"list",ordered:ae.type==="listOrdered",start:null,spread:ae._spread,children:[]}}function De(ae){return{type:"listItem",spread:ae._spread,checked:null,children:[]}}function He(){return{type:"paragraph",children:[]}}function Ie(){return{type:"strong",children:[]}}function Ke(){return{type:"text",value:""}}function Te(){return{type:"thematicBreak"}}}function Ao(t){return{line:t.line,column:t.column,offset:t.offset}}function Mz(t,e){let n=-1;for(;++n<e.length;){const s=e[n];Array.isArray(s)?Mz(t,s):Dpe(t,s)}}function Dpe(t,e){let n;for(n in e)if(Oz.call(e,n))switch(n){case"canContainEols":{const s=e[n];s&&t[n].push(...s);break}case"transforms":{const s=e[n];s&&t[n].push(...s);break}case"enter":case"exit":{const s=e[n];s&&Object.assign(t[n],s);break}}}function MI(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+pp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+pp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+pp({start:e.start,end:e.end})+") is still open")}function Ppe(t){const e=this;e.parser=n;function n(s){return Mpe(s,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Lpe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Bpe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function $pe(t,e){const n=e.value?e.value+`
`:"",s={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(s.className=["language-"+r[0]]);let i={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function zpe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Fpe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Upe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=String(e.identifier).toUpperCase(),r=Wh(s.toLowerCase()),i=t.footnoteOrder.indexOf(s);let a,l=t.footnoteCounts.get(s);l===void 0?(l=0,t.footnoteOrder.push(s),a=t.footnoteOrder.length):a=i+1,l+=1,t.footnoteCounts.set(s,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,u);const h={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,h),t.applyData(e,h)}function Hpe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Vpe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Iz(t,e){const n=e.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+s}];const r=t.all(e),i=r[0];i&&i.type==="text"?i.value="["+i.value:r.unshift({type:"text",value:"["});const a=r[r.length-1];return a&&a.type==="text"?a.value+=s:r.push({type:"text",value:s}),r}function qpe(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return Iz(t,e);const r={src:Wh(s.url||""),alt:e.alt};s.title!==null&&s.title!==void 0&&(r.title=s.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,i),t.applyData(e,i)}function Kpe(t,e){const n={src:Wh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,s),t.applyData(e,s)}function Wpe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,s),t.applyData(e,s)}function Gpe(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return Iz(t,e);const r={href:Wh(s.url||"")};s.title!==null&&s.title!==void 0&&(r.title=s.title);const i={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function Ype(t,e){const n={href:Wh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Zpe(t,e,n){const s=t.all(e),r=n?Jpe(n):Dz(e),i={},a=[];if(typeof e.checked=="boolean"){const m=s[0];let f;m&&m.type==="element"&&m.tagName==="p"?f=m:(f={type:"element",tagName:"p",properties:{},children:[]},s.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<s.length;){const m=s[l];(r||l!==0||m.type!=="element"||m.tagName!=="p")&&a.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!r?a.push(...m.children):a.push(m)}const u=s[s.length-1];u&&(r||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:i,children:a};return t.patch(e,h),t.applyData(e,h)}function Jpe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let s=-1;for(;!e&&++s<n.length;)e=Dz(n[s])}return e}function Dz(t){const e=t.spread;return e??t.children.length>1}function Xpe(t,e){const n={},s=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<s.length;){const a=s[r];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(s,!0)};return t.patch(e,i),t.applyData(e,i)}function Qpe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function eme(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function tme(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function nme(t,e){const n=t.all(e),s=n.shift(),r=[];if(s){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([s],!0)};t.patch(e.children[0],a),r.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=WE(e.children[1]),u=pz(e.children[e.children.length-1]);l&&u&&(a.position={start:l,end:u}),r.push(a)}const i={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,i),t.applyData(e,i)}function sme(t,e,n){const s=n?n.children:void 0,i=(s?s.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:e.children.length;let u=-1;const h=[];for(;++u<l;){const f=e.children[u],g={},y=a?a[u]:void 0;y&&(g.align=y);let b={type:"element",tagName:i,properties:g,children:[]};f&&(b.children=t.all(f),t.patch(f,b),b=t.applyData(f,b)),h.push(b)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,m),t.applyData(e,m)}function rme(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const II=9,DI=32;function ime(t){const e=String(t),n=/\r?\n|\r/g;let s=n.exec(e),r=0;const i=[];for(;s;)i.push(PI(e.slice(r,s.index),r>0,!0),s[0]),r=s.index+s[0].length,s=n.exec(e);return i.push(PI(e.slice(r),r>0,!1)),i.join("")}function PI(t,e,n){let s=0,r=t.length;if(e){let i=t.codePointAt(s);for(;i===II||i===DI;)s++,i=t.codePointAt(s)}if(n){let i=t.codePointAt(r-1);for(;i===II||i===DI;)r--,i=t.codePointAt(r-1)}return r>s?t.slice(s,r):""}function ame(t,e){const n={type:"text",value:ime(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function ome(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const lme={blockquote:Lpe,break:Bpe,code:$pe,delete:zpe,emphasis:Fpe,footnoteReference:Upe,heading:Hpe,html:Vpe,imageReference:qpe,image:Kpe,inlineCode:Wpe,linkReference:Gpe,link:Ype,listItem:Zpe,list:Xpe,paragraph:Qpe,root:eme,strong:tme,table:nme,tableCell:rme,tableRow:sme,text:ame,thematicBreak:ome,toml:j0,yaml:j0,definition:j0,footnoteDefinition:j0};function j0(){}const Pz=-1,f_=0,gp=1,Tv=2,eA=3,tA=4,nA=5,sA=6,Lz=7,Bz=8,LI=typeof self=="object"?self:globalThis,cme=(t,e)=>{const n=(r,i)=>(t.set(i,r),r),s=r=>{if(t.has(r))return t.get(r);const[i,a]=e[r];switch(i){case f_:case Pz:return n(a,r);case gp:{const l=n([],r);for(const u of a)l.push(s(u));return l}case Tv:{const l=n({},r);for(const[u,h]of a)l[s(u)]=s(h);return l}case eA:return n(new Date(a),r);case tA:{const{source:l,flags:u}=a;return n(new RegExp(l,u),r)}case nA:{const l=n(new Map,r);for(const[u,h]of a)l.set(s(u),s(h));return l}case sA:{const l=n(new Set,r);for(const u of a)l.add(s(u));return l}case Lz:{const{name:l,message:u}=a;return n(new LI[l](u),r)}case Bz:return n(BigInt(a),r);case"BigInt":return n(Object(BigInt(a)),r);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new LI[i](a),r)};return s},BI=t=>cme(new Map,t)(0),Nu="",{toString:ume}={},{keys:hme}=Object,af=t=>{const e=typeof t;if(e!=="object"||!t)return[f_,e];const n=ume.call(t).slice(8,-1);switch(n){case"Array":return[gp,Nu];case"Object":return[Tv,Nu];case"Date":return[eA,Nu];case"RegExp":return[tA,Nu];case"Map":return[nA,Nu];case"Set":return[sA,Nu];case"DataView":return[gp,n]}return n.includes("Array")?[gp,n]:n.includes("Error")?[Lz,n]:[Tv,n]},O0=([t,e])=>t===f_&&(e==="function"||e==="symbol"),dme=(t,e,n,s)=>{const r=(a,l)=>{const u=s.push(a)-1;return n.set(l,u),u},i=a=>{if(n.has(a))return n.get(a);let[l,u]=af(a);switch(l){case f_:{let m=a;switch(u){case"bigint":l=Bz,m=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);m=null;break;case"undefined":return r([Pz],a)}return r([l,m],a)}case gp:{if(u){let g=a;return u==="DataView"?g=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(a)),r([u,[...g]],a)}const m=[],f=r([l,m],a);for(const g of a)m.push(i(g));return f}case Tv:{if(u)switch(u){case"BigInt":return r([u,a.toString()],a);case"Boolean":case"Number":case"String":return r([u,a.valueOf()],a)}if(e&&"toJSON"in a)return i(a.toJSON());const m=[],f=r([l,m],a);for(const g of hme(a))(t||!O0(af(a[g])))&&m.push([i(g),i(a[g])]);return f}case eA:return r([l,a.toISOString()],a);case tA:{const{source:m,flags:f}=a;return r([l,{source:m,flags:f}],a)}case nA:{const m=[],f=r([l,m],a);for(const[g,y]of a)(t||!(O0(af(g))||O0(af(y))))&&m.push([i(g),i(y)]);return f}case sA:{const m=[],f=r([l,m],a);for(const g of a)(t||!O0(af(g)))&&m.push(i(g));return f}}const{message:h}=a;return r([l,{name:u,message:h}],a)};return i},$I=(t,{json:e,lossy:n}={})=>{const s=[];return dme(!(e||n),!!e,new Map,s)(t),s},jv=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?BI($I(t,e)):structuredClone(t):(t,e)=>BI($I(t,e));function fme(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function pme(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function mme(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||fme,s=t.options.footnoteBackLabel||pme,r=t.options.footnoteLabel||"Footnotes",i=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[u]);if(!h)continue;const m=t.all(h),f=String(h.identifier).toUpperCase(),g=Wh(f.toLowerCase());let y=0;const b=[],_=t.footnoteCounts.get(f);for(;_!==void 0&&++y<=_;){b.length>0&&b.push({type:"text",value:" "});let C=typeof n=="string"?n:n(u,y);typeof C=="string"&&(C={type:"text",value:C}),b.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(u,y),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const w=m[m.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const C=w.children[w.children.length-1];C&&C.type==="text"?C.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...b)}else m.push(...b);const k={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(m,!0)};t.patch(h,k),l.push(k)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...jv(a),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const p_=(function(t){if(t==null)return bme;if(typeof t=="function")return m_(t);if(typeof t=="object")return Array.isArray(t)?gme(t):yme(t);if(typeof t=="string")return vme(t);throw new Error("Expected function, string, or object as test")});function gme(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=p_(t[n]);return m_(s);function s(...r){let i=-1;for(;++i<e.length;)if(e[i].apply(this,r))return!0;return!1}}function yme(t){const e=t;return m_(n);function n(s){const r=s;let i;for(i in t)if(r[i]!==e[i])return!1;return!0}}function vme(t){return m_(e);function e(n){return n&&n.type===t}}function m_(t){return e;function e(n,s,r){return!!(_me(n)&&t.call(this,n,typeof s=="number"?s:void 0,r||void 0))}}function bme(){return!0}function _me(t){return t!==null&&typeof t=="object"&&"type"in t}const $z=[],xme=!0,_C=!1,Sme="skip";function zz(t,e,n,s){let r;typeof e=="function"&&typeof n!="function"?(s=n,n=e):r=e;const i=p_(r),a=s?-1:1;l(t,void 0,[])();function l(u,h,m){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const y=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=$z,b,_,w;if((!e||i(u,h,m[m.length-1]||void 0))&&(y=wme(n(u,m)),y[0]===_C))return y;if("children"in u&&u.children){const k=u;if(k.children&&y[0]!==Sme)for(_=(s?k.children.length:-1)+a,w=m.concat(k);_>-1&&_<k.children.length;){const C=k.children[_];if(b=l(C,_,w)(),b[0]===_C)return b;_=typeof b[1]=="number"?b[1]:_+a}}return y}}}function wme(t){return Array.isArray(t)?t:typeof t=="number"?[xme,t]:t==null?$z:[t]}function rA(t,e,n,s){let r,i,a;typeof e=="function"&&typeof n!="function"?(i=void 0,a=e,r=n):(i=e,a=n,r=s),zz(t,i,l,r);function l(u,h){const m=h[h.length-1],f=m?m.children.indexOf(u):void 0;return a(u,f,m)}}const xC={}.hasOwnProperty,kme={};function Cme(t,e){const n=e||kme,s=new Map,r=new Map,i=new Map,a={...lme,...n.handlers},l={all:h,applyData:Eme,definitionById:s,footnoteById:r,footnoteCounts:i,footnoteOrder:[],handlers:a,one:u,options:n,patch:Nme,wrap:Rme};return rA(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const f=m.type==="definition"?s:r,g=String(m.identifier).toUpperCase();f.has(g)||f.set(g,m)}}),l;function u(m,f){const g=m.type,y=l.handlers[g];if(xC.call(l.handlers,g)&&y)return y(l,m,f);if(l.options.passThrough&&l.options.passThrough.includes(g)){if("children"in m){const{children:_,...w}=m,k=jv(w);return k.children=l.all(m),k}return jv(m)}return(l.options.unknownHandler||Ame)(l,m,f)}function h(m){const f=[];if("children"in m){const g=m.children;let y=-1;for(;++y<g.length;){const b=l.one(g[y],m);if(b){if(y&&g[y-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=zI(b.value)),!Array.isArray(b)&&b.type==="element")){const _=b.children[0];_&&_.type==="text"&&(_.value=zI(_.value))}Array.isArray(b)?f.push(...b):f.push(b)}}}return f}}function Nme(t,e){t.position&&(e.position=pde(t))}function Eme(t,e){let n=e;if(t&&t.data){const s=t.data.hName,r=t.data.hChildren,i=t.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const a="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:a}}n.type==="element"&&i&&Object.assign(n.properties,jv(i)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function Ame(t,e){const n=e.data||{},s="value"in e&&!(xC.call(n,"hProperties")||xC.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Rme(t,e){const n=[];let s=-1;for(e&&n.push({type:"text",value:`
`});++s<t.length;)s&&n.push({type:"text",value:`
`}),n.push(t[s]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function zI(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function FI(t,e){const n=Cme(t,e),s=n.one(t,void 0),r=mme(n),i=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return r&&i.children.push({type:"text",value:`
`},r),i}function Tme(t,e){return t&&"run"in t?async function(n,s){const r=FI(n,{file:s,...e});await t.run(r,s)}:function(n,s){return FI(n,{file:s,...t||e})}}function UI(t){if(t)throw t}var cw,HI;function jme(){if(HI)return cw;HI=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,r=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},i=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var m=t.call(h,"constructor"),f=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!f)return!1;var g;for(g in h);return typeof g>"u"||t.call(h,g)},a=function(h,m){n&&m.name==="__proto__"?n(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},l=function(h,m){if(m==="__proto__")if(t.call(h,m)){if(s)return s(h,m).value}else return;return h[m]};return cw=function u(){var h,m,f,g,y,b,_=arguments[0],w=1,k=arguments.length,C=!1;for(typeof _=="boolean"&&(C=_,_=arguments[1]||{},w=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});w<k;++w)if(h=arguments[w],h!=null)for(m in h)f=l(_,m),g=l(h,m),_!==g&&(C&&g&&(i(g)||(y=r(g)))?(y?(y=!1,b=f&&r(f)?f:[]):b=f&&i(f)?f:{},a(_,{name:m,newValue:u(C,b,g)})):typeof g<"u"&&a(_,{name:m,newValue:g}));return _},cw}var Ome=jme();const uw=Mv(Ome);function SC(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Mme(){const t=[],e={run:n,use:s};return e;function n(...r){let i=-1;const a=r.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...r);function l(u,...h){const m=t[++i];let f=-1;if(u){a(u);return}for(;++f<r.length;)(h[f]===null||h[f]===void 0)&&(h[f]=r[f]);r=h,m?Ime(m,l)(...h):a(null,...h)}}function s(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function Ime(t,e){let n;return s;function s(...a){const l=t.length>a.length;let u;l&&a.push(r);try{u=t.apply(this,a)}catch(h){const m=h;if(l&&n)throw m;return r(m)}l||(u&&u.then&&typeof u.then=="function"?u.then(i,r):u instanceof Error?r(u):i(u))}function r(a,...l){n||(n=!0,e(a,...l))}function i(a){r(null,a)}}const Li={basename:Dme,dirname:Pme,extname:Lme,join:Bme,sep:"/"};function Dme(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Tm(t);let n=0,s=-1,r=t.length,i;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.codePointAt(r)===47){if(i){n=r+1;break}}else s<0&&(i=!0,s=r+1);return s<0?"":t.slice(n,s)}if(e===t)return"";let a=-1,l=e.length-1;for(;r--;)if(t.codePointAt(r)===47){if(i){n=r+1;break}}else a<0&&(i=!0,a=r+1),l>-1&&(t.codePointAt(r)===e.codePointAt(l--)?l<0&&(s=r):(l=-1,s=a));return n===s?s=a:s<0&&(s=t.length),t.slice(n,s)}function Pme(t){if(Tm(t),t.length===0)return".";let e=-1,n=t.length,s;for(;--n;)if(t.codePointAt(n)===47){if(s){e=n;break}}else s||(s=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Lme(t){Tm(t);let e=t.length,n=-1,s=0,r=-1,i=0,a;for(;e--;){const l=t.codePointAt(e);if(l===47){if(a){s=e+1;break}continue}n<0&&(a=!0,n=e+1),l===46?r<0?r=e:i!==1&&(i=1):r>-1&&(i=-1)}return r<0||n<0||i===0||i===1&&r===n-1&&r===s+1?"":t.slice(r,n)}function Bme(...t){let e=-1,n;for(;++e<t.length;)Tm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":$me(n)}function $me(t){Tm(t);const e=t.codePointAt(0)===47;let n=zme(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function zme(t,e){let n="",s=0,r=-1,i=0,a=-1,l,u;for(;++a<=t.length;){if(a<t.length)l=t.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(r===a-1||i===1))if(r!==a-1&&i===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",s=0):(n=n.slice(0,u),s=n.length-1-n.lastIndexOf("/")),r=a,i=0;continue}}else if(n.length>0){n="",s=0,r=a,i=0;continue}}e&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+t.slice(r+1,a):n=t.slice(r+1,a),s=a-r-1;r=a,i=0}else l===46&&i>-1?i++:i=-1}return n}function Tm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Fme={cwd:Ume};function Ume(){return"/"}function wC(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Hme(t){if(typeof t=="string")t=new URL(t);else if(!wC(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Vme(t)}function Vme(t){if(t.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const s=e.codePointAt(n+2);if(s===70||s===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const hw=["history","path","basename","stem","extname","dirname"];class Fz{constructor(e){let n;e?wC(e)?n={path:e}:typeof e=="string"||qme(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Fme.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<hw.length;){const i=hw[s];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let r;for(r in n)hw.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?Li.basename(this.path):void 0}set basename(e){fw(e,"basename"),dw(e,"basename"),this.path=Li.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Li.dirname(this.path):void 0}set dirname(e){VI(this.basename,"dirname"),this.path=Li.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Li.extname(this.path):void 0}set extname(e){if(dw(e,"extname"),VI(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Li.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){wC(e)&&(e=Hme(e)),fw(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Li.basename(this.path,this.extname):void 0}set stem(e){fw(e,"stem"),dw(e,"stem"),this.path=Li.join(this.dirname||"",e+(this.extname||""))}fail(e,n,s){const r=this.message(e,n,s);throw r.fatal=!0,r}info(e,n,s){const r=this.message(e,n,s);return r.fatal=void 0,r}message(e,n,s){const r=new Os(e,n,s);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function dw(t,e){if(t&&t.includes(Li.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Li.sep+"`")}function fw(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function VI(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function qme(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Kme=(function(t){const s=this.constructor.prototype,r=s[t],i=function(){return r.apply(i,arguments)};return Object.setPrototypeOf(i,s),i}),Wme={}.hasOwnProperty;class iA extends Kme{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Mme()}copy(){const e=new iA;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];e.use(...s)}return e.data(uw(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(gw("data",this.frozen),this.namespace[e]=n,this):Wme.call(this.namespace,e)&&this.namespace[e]||void 0:e?(gw("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const r=n.call(e,...s);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=M0(e),s=this.parser||this.Parser;return pw("parse",s),s(String(n),n)}process(e,n){const s=this;return this.freeze(),pw("process",this.parser||this.Parser),mw("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(i,a){const l=M0(e),u=s.parse(l);s.run(u,l,function(m,f,g){if(m||!f||!g)return h(m);const y=f,b=s.stringify(y,g);Zme(b)?g.value=b:g.result=b,h(m,g)});function h(m,f){m||!f?a(m):i?i(f):n(void 0,f)}}}processSync(e){let n=!1,s;return this.freeze(),pw("processSync",this.parser||this.Parser),mw("processSync",this.compiler||this.Compiler),this.process(e,r),KI("processSync","process",n),s;function r(i,a){n=!0,UI(i),s=a}}run(e,n,s){qI(e),this.freeze();const r=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?i(void 0,s):new Promise(i);function i(a,l){const u=M0(n);r.run(e,u,h);function h(m,f,g){const y=f||e;m?l(m):a?a(y):s(void 0,y,g)}}}runSync(e,n){let s=!1,r;return this.run(e,n,i),KI("runSync","run",s),r;function i(a,l){UI(a),r=l,s=!0}}stringify(e,n){this.freeze();const s=M0(n),r=this.compiler||this.Compiler;return mw("stringify",r),qI(e),r(e,s)}use(e,...n){const s=this.attachers,r=this.namespace;if(gw("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function i(h){if(typeof h=="function")u(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[m,...f]=h;u(m,f)}else a(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function a(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(h.plugins),h.settings&&(r.settings=uw(!0,r.settings,h.settings))}function l(h){let m=-1;if(h!=null)if(Array.isArray(h))for(;++m<h.length;){const f=h[m];i(f)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function u(h,m){let f=-1,g=-1;for(;++f<s.length;)if(s[f][0]===h){g=f;break}if(g===-1)s.push([h,...m]);else if(m.length>0){let[y,...b]=m;const _=s[g][1];SC(_)&&SC(y)&&(y=uw(!0,_,y)),s[g]=[h,y,...b]}}}}const Gme=new iA().freeze();function pw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function mw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function gw(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qI(t){if(!SC(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function KI(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function M0(t){return Yme(t)?t:new Fz(t)}function Yme(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Zme(t){return typeof t=="string"||Jme(t)}function Jme(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Xme="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",WI=[],GI={allowDangerousHtml:!0},Qme=/^(https?|ircs?|mailto|xmpp)$/i,ege=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function tge(t){const e=nge(t),n=sge(t);return rge(e.runSync(e.parse(n),n),t)}function nge(t){const e=t.rehypePlugins||WI,n=t.remarkPlugins||WI,s=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...GI}:GI;return Gme().use(Ppe).use(n).use(Tme,s).use(e)}function sge(t){const e=t.children||"",n=new Fz;return typeof e=="string"&&(n.value=e),n}function rge(t,e){const n=e.allowedElements,s=e.allowElement,r=e.components,i=e.disallowedElements,a=e.skipHtml,l=e.unwrapDisallowed,u=e.urlTransform||ige;for(const m of ege)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+Xme+m.id,void 0);return rA(t,h),bde(t,{Fragment:p.Fragment,components:r,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function h(m,f,g){if(m.type==="raw"&&g&&typeof f=="number")return a?g.children.splice(f,1):g.children[f]={type:"text",value:m.value},f;if(m.type==="element"){let y;for(y in aw)if(Object.hasOwn(aw,y)&&Object.hasOwn(m.properties,y)){const b=m.properties[y],_=aw[y];(_===null||_.includes(m.tagName))&&(m.properties[y]=u(String(b||""),y,m))}}if(m.type==="element"){let y=n?!n.includes(m.tagName):i?i.includes(m.tagName):!1;if(!y&&s&&typeof f=="number"&&(y=!s(m,f,g)),y&&g&&typeof f=="number")return l&&m.children?g.children.splice(f,1,...m.children):g.children.splice(f,1),f}}}function ige(t){const e=t.indexOf(":"),n=t.indexOf("?"),s=t.indexOf("#"),r=t.indexOf("/");return e===-1||r!==-1&&e>r||n!==-1&&e>n||s!==-1&&e>s||Qme.test(t.slice(0,e))?t:""}function YI(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let s=0,r=n.indexOf(e);for(;r!==-1;)s++,r=n.indexOf(e,r+e.length);return s}function age(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Uz(t,e,n){const r=p_((n||{}).ignore||[]),i=oge(e);let a=-1;for(;++a<i.length;)zz(t,"text",l);function l(h,m){let f=-1,g;for(;++f<m.length;){const y=m[f],b=g?g.children:void 0;if(r(y,b?b.indexOf(y):void 0,g))return;g=y}if(g)return u(h,m)}function u(h,m){const f=m[m.length-1],g=i[a][0],y=i[a][1];let b=0;const w=f.children.indexOf(h);let k=!1,C=[];g.lastIndex=0;let E=g.exec(h.value);for(;E;){const A=E.index,R={index:E.index,input:E.input,stack:[...m,h]};let N=y(...E,R);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?g.lastIndex=A+1:(b!==A&&C.push({type:"text",value:h.value.slice(b,A)}),Array.isArray(N)?C.push(...N):N&&C.push(N),b=A+E[0].length,k=!0),!g.global)break;E=g.exec(h.value)}return k?(b<h.value.length&&C.push({type:"text",value:h.value.slice(b)}),f.children.splice(w,1,...C)):C=[h],w+C.length}}function oge(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let s=-1;for(;++s<n.length;){const r=n[s];e.push([lge(r[0]),cge(r[1])])}return e}function lge(t){return typeof t=="string"?new RegExp(age(t),"g"):t}function cge(t){return typeof t=="function"?t:function(){return t}}const yw="phrasing",vw=["autolink","link","image","label"];function uge(){return{transforms:[yge],enter:{literalAutolink:dge,literalAutolinkEmail:bw,literalAutolinkHttp:bw,literalAutolinkWww:bw},exit:{literalAutolink:gge,literalAutolinkEmail:mge,literalAutolinkHttp:fge,literalAutolinkWww:pge}}}function hge(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:yw,notInConstruct:vw},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:yw,notInConstruct:vw},{character:":",before:"[ps]",after:"\\/",inConstruct:yw,notInConstruct:vw}]}}function dge(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function bw(t){this.config.enter.autolinkProtocol.call(this,t)}function fge(t){this.config.exit.autolinkProtocol.call(this,t)}function pge(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function mge(t){this.config.exit.autolinkEmail.call(this,t)}function gge(t){this.exit(t)}function yge(t){Uz(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,vge],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),bge]],{ignore:["link","linkReference"]})}function vge(t,e,n,s,r){let i="";if(!Hz(r)||(/^w/i.test(e)&&(n=e+n,e="",i="http://"),!_ge(n)))return!1;const a=xge(n+s);if(!a[0])return!1;const l={type:"link",title:null,url:i+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function bge(t,e,n,s){return!Hz(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function _ge(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function xge(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],s=n.indexOf(")");const r=YI(t,"(");let i=YI(t,")");for(;s!==-1&&r>i;)t+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),i++;return[t,n]}function Hz(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||bc(n)||h_(n))&&(!e||n!==47)}Vz.peek=Tge;function Sge(){this.buffer()}function wge(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function kge(){this.buffer()}function Cge(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Nge(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=_i(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Ege(t){this.exit(t)}function Age(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=_i(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Rge(t){this.exit(t)}function Tge(){return"["}function Vz(t,e,n,s){const r=n.createTracker(s);let i=r.move("[^");const a=n.enter("footnoteReference"),l=n.enter("reference");return i+=r.move(n.safe(n.associationId(t),{after:"]",before:i})),l(),a(),i+=r.move("]"),i}function jge(){return{enter:{gfmFootnoteCallString:Sge,gfmFootnoteCall:wge,gfmFootnoteDefinitionLabelString:kge,gfmFootnoteDefinition:Cge},exit:{gfmFootnoteCallString:Nge,gfmFootnoteCall:Ege,gfmFootnoteDefinitionLabelString:Age,gfmFootnoteDefinition:Rge}}}function Oge(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Vz},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,r,i,a){const l=i.createTracker(a);let u=l.move("[^");const h=i.enter("footnoteDefinition"),m=i.enter("label");return u+=l.move(i.safe(i.associationId(s),{before:u,after:"]"})),m(),u+=l.move("]:"),s.children&&s.children.length>0&&(l.shift(4),u+=l.move((e?`
`:" ")+i.indentLines(i.containerFlow(s,l.current()),e?qz:Mge))),h(),u}}function Mge(t,e,n){return e===0?t:qz(t,e,n)}function qz(t,e,n){return(n?"":"    ")+t}const Ige=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Kz.peek=$ge;function Dge(){return{canContainEols:["delete"],enter:{strikethrough:Lge},exit:{strikethrough:Bge}}}function Pge(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Ige}],handlers:{delete:Kz}}}function Lge(t){this.enter({type:"delete",children:[]},t)}function Bge(t){this.exit(t)}function Kz(t,e,n,s){const r=n.createTracker(s),i=n.enter("strikethrough");let a=r.move("~~");return a+=n.containerPhrasing(t,{...r.current(),before:a,after:"~"}),a+=r.move("~~"),i(),a}function $ge(){return"~"}function zge(t){return t.length}function Fge(t,e){const n=e||{},s=(n.align||[]).concat(),r=n.stringLength||zge,i=[],a=[],l=[],u=[];let h=0,m=-1;for(;++m<t.length;){const _=[],w=[];let k=-1;for(t[m].length>h&&(h=t[m].length);++k<t[m].length;){const C=Uge(t[m][k]);if(n.alignDelimiters!==!1){const E=r(C);w[k]=E,(u[k]===void 0||E>u[k])&&(u[k]=E)}_.push(C)}a[m]=_,l[m]=w}let f=-1;if(typeof s=="object"&&"length"in s)for(;++f<h;)i[f]=ZI(s[f]);else{const _=ZI(s);for(;++f<h;)i[f]=_}f=-1;const g=[],y=[];for(;++f<h;){const _=i[f];let w="",k="";_===99?(w=":",k=":"):_===108?w=":":_===114&&(k=":");let C=n.alignDelimiters===!1?1:Math.max(1,u[f]-w.length-k.length);const E=w+"-".repeat(C)+k;n.alignDelimiters!==!1&&(C=w.length+C+k.length,C>u[f]&&(u[f]=C),y[f]=C),g[f]=E}a.splice(1,0,g),l.splice(1,0,y),m=-1;const b=[];for(;++m<a.length;){const _=a[m],w=l[m];f=-1;const k=[];for(;++f<h;){const C=_[f]||"";let E="",A="";if(n.alignDelimiters!==!1){const R=u[f]-(w[f]||0),N=i[f];N===114?E=" ".repeat(R):N===99?R%2?(E=" ".repeat(R/2+.5),A=" ".repeat(R/2-.5)):(E=" ".repeat(R/2),A=E):A=" ".repeat(R)}n.delimiterStart!==!1&&!f&&k.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&C==="")&&(n.delimiterStart!==!1||f)&&k.push(" "),n.alignDelimiters!==!1&&k.push(E),k.push(C),n.alignDelimiters!==!1&&k.push(A),n.padding!==!1&&k.push(" "),(n.delimiterEnd!==!1||f!==h-1)&&k.push("|")}b.push(n.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return b.join(`
`)}function Uge(t){return t==null?"":String(t)}function ZI(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Hge(t,e,n,s){const r=n.enter("blockquote"),i=n.createTracker(s);i.move("> "),i.shift(2);const a=n.indentLines(n.containerFlow(t,i.current()),Vge);return r(),a}function Vge(t,e,n){return">"+(n?"":" ")+t}function qge(t,e){return JI(t,e.inConstruct,!0)&&!JI(t,e.notInConstruct,!1)}function JI(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let s=-1;for(;++s<e.length;)if(t.includes(e[s]))return!0;return!1}function XI(t,e,n,s){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&qge(n.stack,n.unsafe[r]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function Kge(t,e){const n=String(t);let s=n.indexOf(e),r=s,i=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===r?++i>a&&(a=i):i=1,r=s+e.length,s=n.indexOf(e,r);return a}function Wge(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Gge(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Yge(t,e,n,s){const r=Gge(n),i=t.value||"",a=r==="`"?"GraveAccent":"Tilde";if(Wge(t,n)){const f=n.enter("codeIndented"),g=n.indentLines(i,Zge);return f(),g}const l=n.createTracker(s),u=r.repeat(Math.max(Kge(i,r)+1,3)),h=n.enter("codeFenced");let m=l.move(u);if(t.lang){const f=n.enter(`codeFencedLang${a}`);m+=l.move(n.safe(t.lang,{before:m,after:" ",encode:["`"],...l.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${a}`);m+=l.move(" "),m+=l.move(n.safe(t.meta,{before:m,after:`
`,encode:["`"],...l.current()})),f()}return m+=l.move(`
`),i&&(m+=l.move(i+`
`)),m+=l.move(u),h(),m}function Zge(t,e,n){return(n?"":"    ")+t}function aA(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Jge(t,e,n,s){const r=aA(n),i=r==='"'?"Quote":"Apostrophe",a=n.enter("definition");let l=n.enter("label");const u=n.createTracker(s);let h=u.move("[");return h+=u.move(n.safe(n.associationId(t),{before:h,after:"]",...u.current()})),h+=u.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),h+=u.move("<"),h+=u.move(n.safe(t.url,{before:h,after:">",...u.current()})),h+=u.move(">")):(l=n.enter("destinationRaw"),h+=u.move(n.safe(t.url,{before:h,after:t.title?" ":`
`,...u.current()}))),l(),t.title&&(l=n.enter(`title${i}`),h+=u.move(" "+r),h+=u.move(n.safe(t.title,{before:h,after:r,...u.current()})),h+=u.move(r),l()),a(),h}function Xge(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Kp(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Ov(t,e,n){const s=_h(t),r=_h(e);return s===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Wz.peek=Qge;function Wz(t,e,n,s){const r=Xge(n),i=n.enter("emphasis"),a=n.createTracker(s),l=a.move(r);let u=a.move(n.containerPhrasing(t,{after:r,before:l,...a.current()}));const h=u.charCodeAt(0),m=Ov(s.before.charCodeAt(s.before.length-1),h,r);m.inside&&(u=Kp(h)+u.slice(1));const f=u.charCodeAt(u.length-1),g=Ov(s.after.charCodeAt(0),f,r);g.inside&&(u=u.slice(0,-1)+Kp(f));const y=a.move(r);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:m.outside},l+u+y}function Qge(t,e,n){return n.options.emphasis||"*"}function e0e(t,e){let n=!1;return rA(t,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,_C}),!!((!t.depth||t.depth<3)&&JE(t)&&(e.options.setext||n))}function t0e(t,e,n,s){const r=Math.max(Math.min(6,t.depth||1),1),i=n.createTracker(s);if(e0e(t,n)){const m=n.enter("headingSetext"),f=n.enter("phrasing"),g=n.containerPhrasing(t,{...i.current(),before:`
`,after:`
`});return f(),m(),g+`
`+(r===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const a="#".repeat(r),l=n.enter("headingAtx"),u=n.enter("phrasing");i.move(a+" ");let h=n.containerPhrasing(t,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(h)&&(h=Kp(h.charCodeAt(0))+h.slice(1)),h=h?a+" "+h:a,n.options.closeAtx&&(h+=" "+a),u(),l(),h}Gz.peek=n0e;function Gz(t){return t.value||""}function n0e(){return"<"}Yz.peek=s0e;function Yz(t,e,n,s){const r=aA(n),i=r==='"'?"Quote":"Apostrophe",a=n.enter("image");let l=n.enter("label");const u=n.createTracker(s);let h=u.move("![");return h+=u.move(n.safe(t.alt,{before:h,after:"]",...u.current()})),h+=u.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),h+=u.move("<"),h+=u.move(n.safe(t.url,{before:h,after:">",...u.current()})),h+=u.move(">")):(l=n.enter("destinationRaw"),h+=u.move(n.safe(t.url,{before:h,after:t.title?" ":")",...u.current()}))),l(),t.title&&(l=n.enter(`title${i}`),h+=u.move(" "+r),h+=u.move(n.safe(t.title,{before:h,after:r,...u.current()})),h+=u.move(r),l()),h+=u.move(")"),a(),h}function s0e(){return"!"}Zz.peek=r0e;function Zz(t,e,n,s){const r=t.referenceType,i=n.enter("imageReference");let a=n.enter("label");const l=n.createTracker(s);let u=l.move("![");const h=n.safe(t.alt,{before:u,after:"]",...l.current()});u+=l.move(h+"]["),a();const m=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(t),{before:u,after:"]",...l.current()});return a(),n.stack=m,i(),r==="full"||!h||h!==f?u+=l.move(f+"]"):r==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function r0e(){return"!"}Jz.peek=i0e;function Jz(t,e,n){let s=t.value||"",r="`",i=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(s);)r+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++i<n.unsafe.length;){const a=n.unsafe[i],l=n.compilePattern(a);let u;if(a.atBreak)for(;u=l.exec(s);){let h=u.index;s.charCodeAt(h)===10&&s.charCodeAt(h-1)===13&&h--,s=s.slice(0,h)+" "+s.slice(u.index+1)}}return r+s+r}function i0e(){return"`"}function Xz(t,e){const n=JE(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Qz.peek=a0e;function Qz(t,e,n,s){const r=aA(n),i=r==='"'?"Quote":"Apostrophe",a=n.createTracker(s);let l,u;if(Xz(t,n)){const m=n.stack;n.stack=[],l=n.enter("autolink");let f=a.move("<");return f+=a.move(n.containerPhrasing(t,{before:f,after:">",...a.current()})),f+=a.move(">"),l(),n.stack=m,f}l=n.enter("link"),u=n.enter("label");let h=a.move("[");return h+=a.move(n.containerPhrasing(t,{before:h,after:"](",...a.current()})),h+=a.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),h+=a.move("<"),h+=a.move(n.safe(t.url,{before:h,after:">",...a.current()})),h+=a.move(">")):(u=n.enter("destinationRaw"),h+=a.move(n.safe(t.url,{before:h,after:t.title?" ":")",...a.current()}))),u(),t.title&&(u=n.enter(`title${i}`),h+=a.move(" "+r),h+=a.move(n.safe(t.title,{before:h,after:r,...a.current()})),h+=a.move(r),u()),h+=a.move(")"),l(),h}function a0e(t,e,n){return Xz(t,n)?"<":"["}e7.peek=o0e;function e7(t,e,n,s){const r=t.referenceType,i=n.enter("linkReference");let a=n.enter("label");const l=n.createTracker(s);let u=l.move("[");const h=n.containerPhrasing(t,{before:u,after:"]",...l.current()});u+=l.move(h+"]["),a();const m=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(t),{before:u,after:"]",...l.current()});return a(),n.stack=m,i(),r==="full"||!h||h!==f?u+=l.move(f+"]"):r==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function o0e(){return"["}function oA(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function l0e(t){const e=oA(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function c0e(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function t7(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function u0e(t,e,n,s){const r=n.enter("list"),i=n.bulletCurrent;let a=t.ordered?c0e(n):oA(n);const l=t.ordered?a==="."?")":".":l0e(n);let u=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const m=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),t7(n)===a&&m){let f=-1;for(;++f<t.children.length;){const g=t.children[f];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=l),n.bulletCurrent=a;const h=n.containerFlow(t,s);return n.bulletLastUsed=a,n.bulletCurrent=i,r(),h}function h0e(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function d0e(t,e,n,s){const r=h0e(n);let i=n.bulletCurrent||oA(n);e&&e.type==="list"&&e.ordered&&(i=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+i);let a=i.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const l=n.createTracker(s);l.move(i+" ".repeat(a-i.length)),l.shift(a);const u=n.enter("listItem"),h=n.indentLines(n.containerFlow(t,l.current()),m);return u(),h;function m(f,g,y){return g?(y?"":" ".repeat(a))+f:(y?i:i+" ".repeat(a-i.length))+f}}function f0e(t,e,n,s){const r=n.enter("paragraph"),i=n.enter("phrasing"),a=n.containerPhrasing(t,s);return i(),r(),a}const p0e=p_(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function m0e(t,e,n,s){return(t.children.some(function(a){return p0e(a)})?n.containerPhrasing:n.containerFlow).call(n,t,s)}function g0e(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}n7.peek=y0e;function n7(t,e,n,s){const r=g0e(n),i=n.enter("strong"),a=n.createTracker(s),l=a.move(r+r);let u=a.move(n.containerPhrasing(t,{after:r,before:l,...a.current()}));const h=u.charCodeAt(0),m=Ov(s.before.charCodeAt(s.before.length-1),h,r);m.inside&&(u=Kp(h)+u.slice(1));const f=u.charCodeAt(u.length-1),g=Ov(s.after.charCodeAt(0),f,r);g.inside&&(u=u.slice(0,-1)+Kp(f));const y=a.move(r+r);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:m.outside},l+u+y}function y0e(t,e,n){return n.options.strong||"*"}function v0e(t,e,n,s){return n.safe(t.value,s)}function b0e(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function _0e(t,e,n){const s=(t7(n)+(n.options.ruleSpaces?" ":"")).repeat(b0e(n));return n.options.ruleSpaces?s.slice(0,-1):s}const s7={blockquote:Hge,break:XI,code:Yge,definition:Jge,emphasis:Wz,hardBreak:XI,heading:t0e,html:Gz,image:Yz,imageReference:Zz,inlineCode:Jz,link:Qz,linkReference:e7,list:u0e,listItem:d0e,paragraph:f0e,root:m0e,strong:n7,text:v0e,thematicBreak:_0e};function x0e(){return{enter:{table:S0e,tableData:QI,tableHeader:QI,tableRow:k0e},exit:{codeText:C0e,table:w0e,tableData:_w,tableHeader:_w,tableRow:_w}}}function S0e(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function w0e(t){this.exit(t),this.data.inTable=void 0}function k0e(t){this.enter({type:"tableRow",children:[]},t)}function _w(t){this.exit(t)}function QI(t){this.enter({type:"tableCell",children:[]},t)}function C0e(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,N0e));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function N0e(t,e){return e==="|"?e:t}function E0e(t){const e=t||{},n=e.tableCellPadding,s=e.tablePipeAlign,r=e.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:a,tableCell:u,tableRow:l}};function a(y,b,_,w){return h(m(y,_,w),y.align)}function l(y,b,_,w){const k=f(y,_,w),C=h([k]);return C.slice(0,C.indexOf(`
`))}function u(y,b,_,w){const k=_.enter("tableCell"),C=_.enter("phrasing"),E=_.containerPhrasing(y,{...w,before:i,after:i});return C(),k(),E}function h(y,b){return Fge(y,{align:b,alignDelimiters:s,padding:n,stringLength:r})}function m(y,b,_){const w=y.children;let k=-1;const C=[],E=b.enter("table");for(;++k<w.length;)C[k]=f(w[k],b,_);return E(),C}function f(y,b,_){const w=y.children;let k=-1;const C=[],E=b.enter("tableRow");for(;++k<w.length;)C[k]=u(w[k],y,b,_);return E(),C}function g(y,b,_){let w=s7.inlineCode(y,b,_);return _.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function A0e(){return{exit:{taskListCheckValueChecked:eD,taskListCheckValueUnchecked:eD,paragraph:T0e}}}function R0e(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:j0e}}}function eD(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function T0e(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const s=n.children[0];if(s&&s.type==="text"){const r=e.children;let i=-1,a;for(;++i<r.length;){const l=r[i];if(l.type==="paragraph"){a=l;break}}a===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(t)}function j0e(t,e,n,s){const r=t.children[0],i=typeof t.checked=="boolean"&&r&&r.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",l=n.createTracker(s);i&&l.move(a);let u=s7.listItem(t,e,n,{...s,...l.current()});return i&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),u;function h(m){return m+a}}function O0e(){return[uge(),jge(),Dge(),x0e(),A0e()]}function M0e(t){return{extensions:[hge(),Oge(t),Pge(),E0e(t),R0e()]}}const I0e={tokenize:z0e,partial:!0},r7={tokenize:F0e,partial:!0},i7={tokenize:U0e,partial:!0},a7={tokenize:H0e,partial:!0},D0e={tokenize:V0e,partial:!0},o7={name:"wwwAutolink",tokenize:B0e,previous:c7},l7={name:"protocolAutolink",tokenize:$0e,previous:u7},Za={name:"emailAutolink",tokenize:L0e,previous:h7},ra={};function P0e(){return{text:ra}}let El=48;for(;El<123;)ra[El]=Za,El++,El===58?El=65:El===91&&(El=97);ra[43]=Za;ra[45]=Za;ra[46]=Za;ra[95]=Za;ra[72]=[Za,l7];ra[104]=[Za,l7];ra[87]=[Za,o7];ra[119]=[Za,o7];function L0e(t,e,n){const s=this;let r,i;return a;function a(f){return!kC(f)||!h7.call(s,s.previous)||lA(s.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),l(f))}function l(f){return kC(f)?(t.consume(f),l):f===64?(t.consume(f),u):n(f)}function u(f){return f===46?t.check(D0e,m,h)(f):f===45||f===95||As(f)?(i=!0,t.consume(f),u):m(f)}function h(f){return t.consume(f),r=!0,u}function m(f){return i&&r&&$s(s.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function B0e(t,e,n){const s=this;return r;function r(a){return a!==87&&a!==119||!c7.call(s,s.previous)||lA(s.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(I0e,t.attempt(r7,t.attempt(i7,i),n),n)(a))}function i(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function $0e(t,e,n){const s=this;let r="",i=!1;return a;function a(f){return(f===72||f===104)&&u7.call(s,s.previous)&&!lA(s.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),r+=String.fromCodePoint(f),t.consume(f),l):n(f)}function l(f){if($s(f)&&r.length<5)return r+=String.fromCodePoint(f),t.consume(f),l;if(f===58){const g=r.toLowerCase();if(g==="http"||g==="https")return t.consume(f),u}return n(f)}function u(f){return f===47?(t.consume(f),i?h:(i=!0,u)):n(f)}function h(f){return f===null||Rv(f)||nn(f)||bc(f)||h_(f)?n(f):t.attempt(r7,t.attempt(i7,m),n)(f)}function m(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function z0e(t,e,n){let s=0;return r;function r(a){return(a===87||a===119)&&s<3?(s++,t.consume(a),r):a===46&&s===3?(t.consume(a),i):n(a)}function i(a){return a===null?n(a):e(a)}}function F0e(t,e,n){let s,r,i;return a;function a(h){return h===46||h===95?t.check(a7,u,l)(h):h===null||nn(h)||bc(h)||h!==45&&h_(h)?u(h):(i=!0,t.consume(h),a)}function l(h){return h===95?s=!0:(r=s,s=void 0),t.consume(h),a}function u(h){return r||s||!i?n(h):e(h)}}function U0e(t,e){let n=0,s=0;return r;function r(a){return a===40?(n++,t.consume(a),r):a===41&&s<n?i(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(a7,e,i)(a):a===null||nn(a)||bc(a)?e(a):(t.consume(a),r)}function i(a){return a===41&&s++,t.consume(a),r}}function H0e(t,e,n){return s;function s(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(t.consume(l),s):l===38?(t.consume(l),i):l===93?(t.consume(l),r):l===60||l===null||nn(l)||bc(l)?e(l):n(l)}function r(l){return l===null||l===40||l===91||nn(l)||bc(l)?e(l):s(l)}function i(l){return $s(l)?a(l):n(l)}function a(l){return l===59?(t.consume(l),s):$s(l)?(t.consume(l),a):n(l)}}function V0e(t,e,n){return s;function s(i){return t.consume(i),r}function r(i){return As(i)?n(i):e(i)}}function c7(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||nn(t)}function u7(t){return!$s(t)}function h7(t){return!(t===47||kC(t))}function kC(t){return t===43||t===45||t===46||t===95||As(t)}function lA(t){let e=t.length,n=!1;for(;e--;){const s=t[e][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const q0e={tokenize:Q0e,partial:!0};function K0e(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Z0e,continuation:{tokenize:J0e},exit:X0e}},text:{91:{name:"gfmFootnoteCall",tokenize:Y0e},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:W0e,resolveTo:G0e}}}}function W0e(t,e,n){const s=this;let r=s.events.length;const i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let a;for(;r--;){const u=s.events[r][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return l;function l(u){if(!a||!a._balanced)return n(u);const h=_i(s.sliceSerialize({start:a.end,end:s.now()}));return h.codePointAt(0)!==94||!i.includes(h.slice(1))?n(u):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),e(u))}}function G0e(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},l=[t[n+1],t[n+2],["enter",s,e],t[n+3],t[n+4],["enter",r,e],["exit",r,e],["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e],t[t.length-2],t[t.length-1],["exit",s,e]];return t.splice(n,t.length-n+1,...l),t}function Y0e(t,e,n){const s=this,r=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let i=0,a;return l;function l(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),u}function u(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",h)}function h(f){if(i>999||f===93&&!a||f===null||f===91||nn(f))return n(f);if(f===93){t.exit("chunkString");const g=t.exit("gfmFootnoteCallString");return r.includes(_i(s.sliceSerialize(g)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return nn(f)||(a=!0),i++,t.consume(f),f===92?m:h}function m(f){return f===91||f===92||f===93?(t.consume(f),i++,h):h(f)}}function Z0e(t,e,n){const s=this,r=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let i,a=0,l;return u;function u(b){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(b),t.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(b){return b===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(b),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",m):n(b)}function m(b){if(a>999||b===93&&!l||b===null||b===91||nn(b))return n(b);if(b===93){t.exit("chunkString");const _=t.exit("gfmFootnoteDefinitionLabelString");return i=_i(s.sliceSerialize(_)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(b),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),g}return nn(b)||(l=!0),a++,t.consume(b),b===92?f:m}function f(b){return b===91||b===92||b===93?(t.consume(b),a++,m):m(b)}function g(b){return b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),r.includes(i)||r.push(i),zt(t,y,"gfmFootnoteDefinitionWhitespace")):n(b)}function y(b){return e(b)}}function J0e(t,e,n){return t.check(Rm,e,t.attempt(q0e,e,n))}function X0e(t){t.exit("gfmFootnoteDefinition")}function Q0e(t,e,n){const s=this;return zt(t,r,"gfmFootnoteDefinitionIndent",5);function r(i){const a=s.events[s.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(i):n(i)}}function eye(t){let n=(t||{}).singleTilde;const s={name:"strikethrough",tokenize:i,resolveAll:r};return n==null&&(n=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function r(a,l){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let h=u;for(;h--;)if(a[h][0]==="exit"&&a[h][1].type==="strikethroughSequenceTemporary"&&a[h][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[h][1].end.offset-a[h][1].start.offset){a[u][1].type="strikethroughSequence",a[h][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},a[h][1].start),end:Object.assign({},a[u][1].end)},f={type:"strikethroughText",start:Object.assign({},a[h][1].end),end:Object.assign({},a[u][1].start)},g=[["enter",m,l],["enter",a[h][1],l],["exit",a[h][1],l],["enter",f,l]],y=l.parser.constructs.insideSpan.null;y&&jr(g,g.length,0,d_(y,a.slice(h+1,u),l)),jr(g,g.length,0,[["exit",f,l],["enter",a[u][1],l],["exit",a[u][1],l],["exit",m,l]]),jr(a,h-1,u-h+3,g),u=h+g.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function i(a,l,u){const h=this.previous,m=this.events;let f=0;return g;function g(b){return h===126&&m[m.length-1][1].type!=="characterEscape"?u(b):(a.enter("strikethroughSequenceTemporary"),y(b))}function y(b){const _=_h(h);if(b===126)return f>1?u(b):(a.consume(b),f++,y);if(f<2&&!n)return u(b);const w=a.exit("strikethroughSequenceTemporary"),k=_h(b);return w._open=!k||k===2&&!!_,w._close=!_||_===2&&!!k,l(b)}}}class tye{constructor(){this.map=[]}add(e,n,s){nye(this,e,n,s)}consume(e){if(this.map.sort(function(i,a){return i[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const s=[];for(;n>0;)n-=1,s.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];s.push(e.slice()),e.length=0;let r=s.pop();for(;r;){for(const i of r)e.push(i);r=s.pop()}this.map.length=0}}function nye(t,e,n,s){let r=0;if(!(n===0&&s.length===0)){for(;r<t.map.length;){if(t.map[r][0]===e){t.map[r][1]+=n,t.map[r][2].push(...s);return}r+=1}t.map.push([e,n,s])}}function sye(t,e){let n=!1;const s=[];for(;e<t.length;){const r=t[e];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&s.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const i=s.length-1;s[i]=s[i]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return s}function rye(){return{flow:{null:{name:"table",tokenize:iye,resolveAll:aye}}}}function iye(t,e,n){const s=this;let r=0,i=0,a;return l;function l(B){let K=s.events.length-1;for(;K>-1;){const Z=s.events[K][1].type;if(Z==="lineEnding"||Z==="linePrefix")K--;else break}const $=K>-1?s.events[K][1].type:null,W=$==="tableHead"||$==="tableRow"?N:u;return W===N&&s.parser.lazy[s.now().line]?n(B):W(B)}function u(B){return t.enter("tableHead"),t.enter("tableRow"),h(B)}function h(B){return B===124||(a=!0,i+=1),m(B)}function m(B){return B===null?n(B):ct(B)?i>1?(i=0,s.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),y):n(B):It(B)?zt(t,m,"whitespace")(B):(i+=1,a&&(a=!1,r+=1),B===124?(t.enter("tableCellDivider"),t.consume(B),t.exit("tableCellDivider"),a=!0,m):(t.enter("data"),f(B)))}function f(B){return B===null||B===124||nn(B)?(t.exit("data"),m(B)):(t.consume(B),B===92?g:f)}function g(B){return B===92||B===124?(t.consume(B),f):f(B)}function y(B){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(B):(t.enter("tableDelimiterRow"),a=!1,It(B)?zt(t,b,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):b(B))}function b(B){return B===45||B===58?w(B):B===124?(a=!0,t.enter("tableCellDivider"),t.consume(B),t.exit("tableCellDivider"),_):R(B)}function _(B){return It(B)?zt(t,w,"whitespace")(B):w(B)}function w(B){return B===58?(i+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(B),t.exit("tableDelimiterMarker"),k):B===45?(i+=1,k(B)):B===null||ct(B)?A(B):R(B)}function k(B){return B===45?(t.enter("tableDelimiterFiller"),C(B)):R(B)}function C(B){return B===45?(t.consume(B),C):B===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(B),t.exit("tableDelimiterMarker"),E):(t.exit("tableDelimiterFiller"),E(B))}function E(B){return It(B)?zt(t,A,"whitespace")(B):A(B)}function A(B){return B===124?b(B):B===null||ct(B)?!a||r!==i?R(B):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(B)):R(B)}function R(B){return n(B)}function N(B){return t.enter("tableRow"),M(B)}function M(B){return B===124?(t.enter("tableCellDivider"),t.consume(B),t.exit("tableCellDivider"),M):B===null||ct(B)?(t.exit("tableRow"),e(B)):It(B)?zt(t,M,"whitespace")(B):(t.enter("data"),I(B))}function I(B){return B===null||B===124||nn(B)?(t.exit("data"),M(B)):(t.consume(B),B===92?q:I)}function q(B){return B===92||B===124?(t.consume(B),I):I(B)}}function aye(t,e){let n=-1,s=!0,r=0,i=[0,0,0,0],a=[0,0,0,0],l=!1,u=0,h,m,f;const g=new tye;for(;++n<t.length;){const y=t[n],b=y[1];y[0]==="enter"?b.type==="tableHead"?(l=!1,u!==0&&(tD(g,e,u,h,m),m=void 0,u=0),h={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",h,e]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(s=!0,f=void 0,i=[0,0,0,0],a=[0,n+1,0,0],l&&(l=!1,m={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",m,e]])),r=b.type==="tableDelimiterRow"?2:m?3:1):r&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(s=!1,a[2]===0&&(i[1]!==0&&(a[0]=a[1],f=I0(g,e,i,r,void 0,f),i=[0,0,0,0]),a[2]=n)):b.type==="tableCellDivider"&&(s?s=!1:(i[1]!==0&&(a[0]=a[1],f=I0(g,e,i,r,void 0,f)),i=a,a=[i[1],n,0,0])):b.type==="tableHead"?(l=!0,u=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(u=n,i[1]!==0?(a[0]=a[1],f=I0(g,e,i,r,n,f)):a[1]!==0&&(f=I0(g,e,a,r,n,f)),r=0):r&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&tD(g,e,u,h,m),g.consume(e.events),n=-1;++n<e.events.length;){const y=e.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=sye(e.events,n))}return t}function I0(t,e,n,s,r,i){const a=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(i.end=Object.assign({},Iu(e.events,n[0])),t.add(n[0],0,[["exit",i,e]]));const u=Iu(e.events,n[1]);if(i={type:a,start:Object.assign({},u),end:Object.assign({},u)},t.add(n[1],0,[["enter",i,e]]),n[2]!==0){const h=Iu(e.events,n[2]),m=Iu(e.events,n[3]),f={type:l,start:Object.assign({},h),end:Object.assign({},m)};if(t.add(n[2],0,[["enter",f,e]]),s!==2){const g=e.events[n[2]],y=e.events[n[3]];if(g[1].end=Object.assign({},y[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,_=n[3]-n[2]-1;t.add(b,_,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return r!==void 0&&(i.end=Object.assign({},Iu(e.events,r)),t.add(r,0,[["exit",i,e]]),i=void 0),i}function tD(t,e,n,s,r){const i=[],a=Iu(e.events,n);r&&(r.end=Object.assign({},a),i.push(["exit",r,e])),s.end=Object.assign({},a),i.push(["exit",s,e]),t.add(n+1,0,i)}function Iu(t,e){const n=t[e],s=n[0]==="enter"?"start":"end";return n[1][s]}const oye={name:"tasklistCheck",tokenize:cye};function lye(){return{text:{91:oye}}}function cye(t,e,n){const s=this;return r;function r(u){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?n(u):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),i)}function i(u){return nn(u)?(t.enter("taskListCheckValueUnchecked"),t.consume(u),t.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(t.enter("taskListCheckValueChecked"),t.consume(u),t.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),l):n(u)}function l(u){return ct(u)?e(u):It(u)?t.check({tokenize:uye},e,n)(u):n(u)}}function uye(t,e,n){return zt(t,s,"whitespace");function s(r){return r===null?n(r):e(r)}}function hye(t){return xz([P0e(),K0e(),eye(t),rye(),lye()])}const dye={};function fye(t){const e=this,n=t||dye,s=e.data(),r=s.micromarkExtensions||(s.micromarkExtensions=[]),i=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),a=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);r.push(hye(n)),i.push(O0e()),a.push(M0e(n))}function pye(t){Uz(t,[/\r?\n|\r/g,mye])}function mye(){return{type:"break"}}function gye(){return function(t){pye(t)}}const yye={pre:({children:t})=>p.jsx(p.Fragment,{children:t}),li:({children:t,...e})=>p.jsx("li",{className:"py-0.5 ml-0",...e,children:t}),ul:({children:t,...e})=>p.jsx("ul",{className:"list-disc list-outside ml-5 pl-0 my-2",...e,children:t}),ol:({children:t,...e})=>p.jsx("ol",{className:"list-decimal list-outside ml-5 pl-0 my-2",...e,children:t}),strong:({children:t,...e})=>p.jsx("span",{className:"font-semibold",...e,children:t}),a:({children:t,href:e,...n})=>{let s=e||"";return s&&!s.startsWith("http")&&!s.startsWith("#")&&(s=`https://${s}`),p.jsx("a",{className:"text-sky-400 hover:underline",href:s,target:"_blank",rel:"noreferrer noopener",...n,children:t})},h1:({children:t,...e})=>p.jsx("h1",{className:"text-xl font-semibold mt-4 mb-2",...e,children:t}),h2:({children:t,...e})=>p.jsx("h2",{className:"text-lg font-semibold mt-4 mb-2",...e,children:t}),h3:({children:t,...e})=>p.jsx("h3",{className:"text-base font-semibold mt-3 mb-1",...e,children:t}),h4:({children:t,...e})=>p.jsx("h4",{className:"text-sm font-semibold mt-3 mb-1",...e,children:t}),h5:({children:t,...e})=>p.jsx("h5",{className:"text-sm font-semibold mt-2 mb-1",...e,children:t}),h6:({children:t,...e})=>p.jsx("h6",{className:"text-xs font-semibold mt-2 mb-1",...e,children:t}),p:({children:t,...e})=>p.jsx("p",{className:"my-2 leading-relaxed",...e,children:t}),table:({children:t,...e})=>p.jsx("div",{className:"overflow-x-auto my-3",children:p.jsx("table",{className:"w-full border-collapse border border-neutral-600 text-xs",...e,children:t})}),thead:({children:t,...e})=>p.jsx("thead",{className:"bg-neutral-700",...e,children:t}),tbody:({children:t,...e})=>p.jsx("tbody",{...e,children:t}),tr:({children:t,...e})=>p.jsx("tr",{className:"border-b border-neutral-600",...e,children:t}),th:({children:t,...e})=>p.jsx("th",{className:"p-2 text-left font-semibold border-r last:border-r-0 border-neutral-600",...e,children:t}),td:({children:t,...e})=>p.jsx("td",{className:"p-2 border-r last:border-r-0 border-neutral-600",...e,children:t}),blockquote:({children:t,...e})=>p.jsx("blockquote",{className:"border-l-4 border-neutral-500 pl-3 py-1 my-2 italic text-neutral-300",...e,children:t}),hr:({...t})=>p.jsx("hr",{className:"my-4 border-neutral-600",...t}),code({children:t,className:e,...n}){const s=/language-(\w+)/.exec(e||""),r=String(t).replace(/\n$/,""),i=r.includes(`
`);if(!s&&!i)return p.jsx("code",{...n,className:`${e||""} bg-neutral-700 px-1.5 py-0.5 rounded text-xs font-mono text-sky-300`,children:t});const a=s?.[1]||"text";return p.jsxs("div",{className:"my-3",children:[p.jsx("div",{className:"flex items-center justify-between bg-neutral-700 px-3 py-1 rounded-t text-xs text-neutral-400",children:p.jsx("span",{children:a})}),p.jsx("pre",{className:"bg-neutral-800 p-3 rounded-b overflow-x-auto",children:p.jsx("code",{className:"text-xs font-mono text-neutral-200",children:r})})]})}},vye=[fye,gye],bye=t=>{const e=Le.c(6),{children:n}=t;if(!n)return null;let s=n,r;if(e[0]!==s){s=s.replace(/^(#{1,6}\s+.+)\n```/gm,"$1\n\n```");let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=/```\n(#{1,6}\s+)/gm,e[3]=a):a=e[3],r=s.replace(a,"```\n\n$1"),e[0]=s,e[1]=r,e[2]=s}else r=e[1],s=e[2];s=r;let i;return e[4]!==s?(i=p.jsx(tge,{remarkPlugins:vye,components:yye,children:s}),e[4]=s,e[5]=i):i=e[5],i},_ye=z.memo(bye,(t,e)=>t.children===e.children);function d7(t){const e=Le.c(83),{isOpen:n,onClose:s,otherPanelOpen:r,adapterConfig:i,environment:a,tools:l,buildInstructions:u}=t,h=r===void 0?!1:r,[m,f]=z.useState(""),g=z.useRef(null),y=z.useRef(null),b=z.useRef(i.id);let _;if(e[0]!==u||e[1]!==a||e[2]!==l){const Te=Vhe(),ae=Hhe(Te),ve=u(a);_=fue(Ve=>Wce({adapter:ae,messages:Ve,tools:l,systemPrompts:[ve],agentLoopStrategy:k$(10)})),e[0]=u,e[1]=a,e[2]=l,e[3]=_}else _=e[3];const w=_;let k;e[4]!==w||e[5]!==l?(k={connection:w,tools:l},e[4]=w,e[5]=l,e[6]=k):k=e[6];const{messages:C,sendMessage:E,isLoading:A,stop:R,clear:N}=pue(k);let M,I;e[7]!==i.id||e[8]!==N?(M=()=>{b.current!==i.id&&(N(),b.current=i.id)},I=[i.id,N],e[7]=i.id,e[8]=N,e[9]=M,e[10]=I):(M=e[9],I=e[10]),z.useEffect(M,I);let q;e[11]===Symbol.for("react.memo_cache_sentinel")?(q=()=>{g.current?.scrollIntoView({behavior:"smooth"})},e[11]=q):q=e[11];let B;e[12]!==C?(B=[C],e[12]=C,e[13]=B):B=e[13],z.useEffect(q,B);let K,$;e[14]!==n?(K=()=>{n&&y.current?.focus()},$=[n],e[14]=n,e[15]=K,e[16]=$):(K=e[15],$=e[16]),z.useEffect(K,$);let W;e[17]!==m||e[18]!==A||e[19]!==E?(W=Te=>{Te.preventDefault(),!(!m.trim()||A)&&(E(m.trim()),f(""))},e[17]=m,e[18]=A,e[19]=E,e[20]=W):W=e[20];const Z=W;let G;e[21]!==Z?(G=Te=>{Te.key==="Enter"&&!Te.shiftKey&&(Te.preventDefault(),Z(Te))},e[21]=Z,e[22]=G):G=e[22];const L=G,Y=xye;let X;e[23]!==A||e[24]!==C.length?(X=(Te,ae)=>A&&Te.role==="assistant"&&ae===C.length-1,e[23]=A,e[24]=C.length,e[25]=X):X=e[25];const U=X,O=`fixed top-0 right-0 h-screen bg-white border-l border-neutral-200 dark:bg-neutral-900 dark:border-neutral-800 flex flex-col transition-all duration-300 ease-in-out z-30 ${n?"opacity-100 translate-x-0":"opacity-0 translate-x-full pointer-events-none"}`,P=h?"28rem":"40rem";let V;e[26]!==P?(V={width:P},e[26]=P,e[27]=V):V=e[27];let T;e[28]!==i.name?(T=p.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:i.name}),e[28]=i.name,e[29]=T):T=e[29];let Q;e[30]===Symbol.for("react.memo_cache_sentinel")?(Q=p.jsx(Qp,{size:18}),e[30]=Q):Q=e[30];let te;e[31]!==N?(te=p.jsx("button",{onClick:N,className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 rounded-md transition-colors",title:"Clear chat",children:Q}),e[31]=N,e[32]=te):te=e[32];let J;e[33]===Symbol.for("react.memo_cache_sentinel")?(J=p.jsx(Kv,{size:18}),e[33]=J):J=e[33];let ue;e[34]!==s?(ue=p.jsx("button",{onClick:s,className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 rounded-md transition-colors",children:J}),e[34]=s,e[35]=ue):ue=e[35];let we;e[36]!==te||e[37]!==ue?(we=p.jsxs("div",{className:"flex items-center gap-1",children:[te,ue]}),e[36]=te,e[37]=ue,e[38]=we):we=e[38];let ke;e[39]!==T||e[40]!==we?(ke=p.jsxs("div",{className:"shrink-0 h-16 px-4 flex items-center justify-between border-b border-neutral-200 dark:border-neutral-800",children:[T,we]}),e[39]=T,e[40]=we,e[41]=ke):ke=e[41];let et;if(e[42]!==U||e[43]!==C){let Te;e[45]!==U?(Te=(ae,ve)=>{const Ve=Y(ae);return p.jsx("div",{className:`text-sm ${ae.role==="user"?"bg-neutral-100 dark:bg-neutral-800/50 -mx-4 px-4 py-3 border-l-2 border-sky-500":""}`,children:p.jsx("div",{className:ae.role==="user"?"text-neutral-900 dark:text-neutral-100":"text-neutral-800 dark:text-neutral-200",children:ae.role==="assistant"?Ve?p.jsx(_ye,{children:Ve}):U(ae,ve)?p.jsxs("span",{className:"flex items-center gap-2 text-neutral-400",children:[p.jsx(Ma,{size:14,className:"animate-spin"}),"Thinking..."]}):null:p.jsx("span",{className:"whitespace-pre-wrap",children:Ve})})},ae.id)},e[45]=U,e[46]=Te):Te=e[46],et=C.map(Te),e[42]=U,e[43]=C,e[44]=et}else et=e[44];let ze;e[47]!==A||e[48]!==C?(ze=A&&(C.length===0||C[C.length-1]?.role==="user")&&p.jsx("div",{className:"text-sm",children:p.jsx("div",{className:"text-neutral-800 dark:text-neutral-200",children:p.jsxs("span",{className:"flex items-center gap-2 text-neutral-400",children:[p.jsx(Ma,{size:14,className:"animate-spin"}),"Thinking..."]})})}),e[47]=A,e[48]=C,e[49]=ze):ze=e[49];let Ce;e[50]===Symbol.for("react.memo_cache_sentinel")?(Ce=p.jsx("div",{ref:g}),e[50]=Ce):Ce=e[50];let Oe;e[51]!==et||e[52]!==ze?(Oe=p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[et,ze,Ce]}),e[51]=et,e[52]=ze,e[53]=Oe):Oe=e[53];let qe;e[54]===Symbol.for("react.memo_cache_sentinel")?(qe=Te=>f(Te.target.value),e[54]=qe):qe=e[54];let lt;e[55]===Symbol.for("react.memo_cache_sentinel")?(lt={maxHeight:"120px"},e[55]=lt):lt=e[55];let at;e[56]!==i.placeholder||e[57]!==L||e[58]!==m||e[59]!==A?(at=p.jsx("textarea",{ref:y,value:m,onChange:qe,onKeyDown:L,placeholder:i.placeholder,rows:1,disabled:A,className:"flex-1 px-4 py-2.5 bg-neutral-50 border border-neutral-300 dark:bg-neutral-800 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 text-sm placeholder-neutral-500 resize-none focus:outline-none focus:ring-2 focus:ring-sky-600 focus:border-transparent disabled:opacity-50",style:lt}),e[56]=i.placeholder,e[57]=L,e[58]=m,e[59]=A,e[60]=at):at=e[60];const Lt=A?"button":"submit",Bt=A?R:void 0;let At;e[61]!==m||e[62]!==A?(At=!A&&!m.trim(),e[61]=m,e[62]=A,e[63]=At):At=e[63];let jt;e[64]!==A?(jt=A?p.jsx(Bw,{size:18}):p.jsx(hZ,{size:18}),e[64]=A,e[65]=jt):jt=e[65];let De;e[66]!==Lt||e[67]!==Bt||e[68]!==At||e[69]!==jt?(De=p.jsx("button",{type:Lt,onClick:Bt,disabled:At,className:"p-2.5 bg-sky-600 hover:bg-sky-500 disabled:bg-neutral-300 dark:disabled:bg-neutral-700 disabled:text-neutral-500 text-white rounded-xl transition-colors",children:jt}),e[66]=Lt,e[67]=Bt,e[68]=At,e[69]=jt,e[70]=De):De=e[70];let He;e[71]!==at||e[72]!==De?(He=p.jsxs("div",{className:"flex items-end gap-2",children:[at,De]}),e[71]=at,e[72]=De,e[73]=He):He=e[73];let Ie;e[74]!==Z||e[75]!==He?(Ie=p.jsx("form",{onSubmit:Z,className:"shrink-0 p-4 border-t border-neutral-200 dark:border-neutral-800",children:He}),e[74]=Z,e[75]=He,e[76]=Ie):Ie=e[76];let Ke;return e[77]!==O||e[78]!==V||e[79]!==ke||e[80]!==Oe||e[81]!==Ie?(Ke=p.jsxs("div",{className:O,style:V,children:[ke,Oe,Ie]}),e[77]=O,e[78]=V,e[79]=ke,e[80]=Oe,e[81]=Ie,e[82]=Ke):Ke=e[82],Ke}function xye(t){return t.parts.filter(wye).map(Sye).join("").replace(/^undefined/,"")}function Sye(t){return t.content}function wye(t){return t.type==="text"&&!!t.content}const kye=Qi({resource:gs().describe("The type of resource to list (e.g., pods, deployments, services, configmaps, secrets, ingresses, gateways, httproutes, grpcroutes, tcproutes, udproutes, tlsroutes, jobs, cronjobs, daemonsets, statefulsets, replicasets, nodes, namespaces, persistentvolumes, persistentvolumeclaims, events)"),namespace:gs().optional().describe('The namespace to list resources from. Use "all" for all namespaces, or omit for cluster-scoped resources')}),Cye=Qi({resource:gs().describe("The type of resource (e.g., pod, deployment, service)"),name:gs().describe("The name of the resource"),namespace:gs().optional().describe("The namespace of the resource (required for namespaced resources)")}),Nye=Qi({name:gs().describe("The name of the pod"),namespace:gs().describe("The namespace of the pod"),container:gs().optional().describe("The container name (optional, defaults to first container)"),tailLines:gs().optional().describe("Number of lines to return from the end of the logs (default: 100)")}),Eye=Qi({resource:gs().describe("The type of resource (e.g., pod, deployment, service)"),name:gs().describe("The name of the resource"),namespace:gs().describe("The namespace of the resource")}),Aye=rl({name:"list_resources",description:"List Kubernetes resources of a specific type in a namespace or cluster-wide",inputSchema:kye}),Rye=rl({name:"get_resource",description:"Get detailed information about a specific Kubernetes resource",inputSchema:Cye}),Tye=rl({name:"get_pod_logs",description:"Get logs from a specific pod",inputSchema:Nye}),jye=rl({name:"describe_resource",description:"Get events and status conditions for a Kubernetes resource",inputSchema:Eye});async function xw(t,e){const n=e.toLowerCase(),s=await Zo(t,n);return s?{config:s,plural:s.name}:null}function Oye(t){const e=t.currentContext,n=Aye.client(async a=>{const l=a,u=await xw(e,l.resource);if(!u)return{error:`Unknown resource type: ${l.resource}`};const{config:h,plural:m}=u,f=Kl(h);let g;h.namespaced&&l.namespace&&l.namespace!=="all"?g=`${f}/namespaces/${l.namespace}/${m}`:g=`${f}/${m}`;const y=await fetch(`/contexts/${e}${g}`);if(!y.ok)return{error:`Failed to list ${m}: ${y.status} ${y.statusText}`};const b=await y.json();return{kind:b.kind,items:b.items?.map(_=>({name:_.metadata?.name,namespace:_.metadata?.namespace,createdAt:_.metadata?.creationTimestamp,status:_.status}))||[]}}),s=Rye.client(async a=>{const l=a,u=await xw(e,l.resource);if(!u)return{error:`Unknown resource type: ${l.resource}`};const{config:h,plural:m}=u,f=Kl(h);let g;h.namespaced&&l.namespace?g=`${f}/namespaces/${l.namespace}/${m}/${l.name}`:g=`${f}/${m}/${l.name}`;const y=await fetch(`/contexts/${e}${g}`);return y.ok?y.json():{error:`Failed to get ${l.resource} ${l.name}: ${y.status} ${y.statusText}`}}),r=Tye.client(async a=>{const l=a,u=l.tailLines||"100";let h=`/api/v1/namespaces/${l.namespace}/pods/${l.name}/log?tailLines=${u}`;l.container&&(h+=`&container=${l.container}`);const m=await fetch(`/contexts/${e}${h}`);return m.ok?{logs:await m.text()||"(no logs available)"}:{error:`Failed to get logs: ${m.status} ${m.statusText}`}}),i=jye.client(async a=>{const l=a,u=await xw(e,l.resource);if(!u)return{error:`Unknown resource type: ${l.resource}`};const{config:h,plural:m}=u,f=Kl(h);let g;h.namespaced&&l.namespace?g=`${f}/namespaces/${l.namespace}/${m}/${l.name}`:g=`${f}/${m}/${l.name}`;const y=await fetch(`/contexts/${e}${g}`);if(!y.ok)return{error:`Failed to get ${l.resource} ${l.name}: ${y.status}`};const b=await y.json(),_=`/api/v1/namespaces/${l.namespace}/events?fieldSelector=involvedObject.name=${l.name}`,w=await fetch(`/contexts/${e}${_}`);let k=[];return w.ok&&(k=(await w.json()).items?.map(E=>({type:E.type,reason:E.reason,message:E.message,lastTimestamp:E.lastTimestamp}))||[]),{metadata:b.metadata,spec:b.spec,status:b.status,events:k}});return A$(n,s,r,i)}function Mye(t){let e="";const n=[];return t.currentNamespace&&n.push(`- Current namespace: ${t.currentNamespace}`),t.selectedResourceKind&&n.push(`- Currently viewing resource type: ${t.selectedResourceKind}`),t.selectedResourceName&&n.push(`- Currently selected resource: ${t.selectedResourceName}`),n.length>0&&(e=`

The user is currently viewing:
${n.join(`
`)}

Use this context to provide more relevant answers. When the user asks about resources without specifying a namespace, use the current namespace.`),`You are a helpful Kubernetes assistant. You can help users understand and manage their Kubernetes clusters.
When users ask about resources, use the available tools to fetch real data from the cluster.
Provide clear, concise explanations and highlight any issues or warnings you find.
Format your responses using markdown for better readability.${e}`}const Iye={id:"kubernetes",name:"Kubernetes Assistant",placeholder:"Ask about your Kubernetes resources..."},Sw="ai";function Dye(t){const e=Le.c(50),{resource:n,context:s,namespace:r,selectedItem:i,onSelectItem:a,tab:l,onTabChange:u}=t,{isOpen:h,toggle:m,close:f}=yE();let g;e[0]!==h?(g=h(Sw),e[0]=h,e[1]=g):g=e[1];const y=g;let b;e[2]!==s||e[3]!==r||e[4]!==n.group||e[5]!==n.name?(b=["kubernetes","resources",s,n.group,n.name,r],e[2]=s,e[3]=r,e[4]=n.group,e[5]=n.name,e[6]=b):b=e[6];let _;e[7]!==s||e[8]!==r||e[9]!==n?(_=()=>x6(s,n,r),e[7]=s,e[8]=r,e[9]=n,e[10]=_):_=e[10];const{data:w,loading:k,error:C,refetch:E,isRefetching:A}=f$(b,_);let R;e[11]!==n.group||e[12]!==n.kind||e[13]!==n.version?(R=U=>U.object.metadata?{name:U.object.metadata.name||"",namespace:U.object.metadata.namespace,uid:U.object.metadata.uid||"",resourceVersion:U.object.metadata.resourceVersion||"",kind:n.kind,apiVersion:n.group?`${n.group}/${n.version}`:n.version||""}:null,e[11]=n.group,e[12]=n.kind,e[13]=n.version,e[14]=R):R=e[14];const N=R;let M;e[15]!==s||e[16]!==r||e[17]!==n.group||e[18]!==n.kind||e[19]!==n.version?(M=U=>({currentContext:s,currentNamespace:U?.object.metadata?.namespace||r||"all namespaces",selectedResourceKind:n.group?`${n.kind} (${n.group}/${n.version})`:`${n.kind} (${n.version})`,selectedResourceName:U?.object.metadata?.name}),e[15]=s,e[16]=r,e[17]=n.group,e[18]=n.kind,e[19]=n.version,e[20]=M):M=e[20];const I=M;let q;if(e[21]!==I){const U=I(null);q=Oye(U),e[21]=I,e[22]=q}else q=e[22];const B=q;let K;e[23]!==y||e[24]!==m?(K=()=>Ki().ai?p.jsx("button",{onClick:()=>m(Sw),className:`p-2 rounded-md transition-colors ${y?"text-sky-400 hover:text-sky-300 hover:bg-neutral-100 dark:hover:bg-neutral-800":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800"}`,title:"AI Assistant",children:p.jsx(y6,{size:18})}):null,e[23]=y,e[24]=m,e[25]=K):K=e[25];const $=K;let W;e[26]!==f||e[27]!==I||e[28]!==y||e[29]!==B?(W=(U,O)=>{const P=I(U);return p.jsx(d7,{isOpen:y,onClose:()=>f(Sw),otherPanelOpen:O,adapterConfig:Iye,environment:P,tools:B,buildInstructions:Mye})},e[26]=f,e[27]=I,e[28]=y,e[29]=B,e[30]=W):W=e[30];const Z=W;let G;e[31]!==s||e[32]!==N||e[33]!==y||e[34]!==u||e[35]!==l?(G=(U,O,P)=>{const V=N(U);return p.jsx(h$,{context:s,isOpen:!0,onClose:O,otherPanelOpen:P||y,resource:V,tab:l,onTabChange:u})},e[31]=s,e[32]=N,e[33]=y,e[34]=u,e[35]=l,e[36]=G):G=e[36];const L=G,Y=Pye;let X;return e[37]!==w||e[38]!==C||e[39]!==A||e[40]!==k||e[41]!==r||e[42]!==a||e[43]!==E||e[44]!==L||e[45]!==Z||e[46]!==$||e[47]!==n||e[48]!==i?(X=p.jsx(w$,{config:n,title:n.kind,namespace:r,data:w,loading:k,error:C,refetch:E,isRefetching:A,renderDetailPanel:L,renderHeaderActions:$,renderExtraPanels:Z,selectedItemName:i,onSelectItemName:a,getItemName:Y}),e[37]=w,e[38]=C,e[39]=A,e[40]=k,e[41]=r,e[42]=a,e[43]=E,e[44]=L,e[45]=Z,e[46]=$,e[47]=n,e[48]=i,e[49]=X):X=e[49],X}function Pye(t){return t.object.metadata?.name||""}const Lye=new Set(["apps","batch","networking.k8s.io","storage.k8s.io","rbac.authorization.k8s.io","policy","autoscaling","coordination.k8s.io","discovery.k8s.io","events.k8s.io","node.k8s.io","scheduling.k8s.io"]),Bye=t=>{const e=t.group||"";return e===""||Lye.has(e)};function $ye(){const t=Le.c(84);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={strict:!1},t[0]=e):e=t[0];const{context:n,resourceType:s,name:r}=Wp(e);let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i={from:v_.id},t[1]=i):i=t[1];const a=Bv(i),l=Sh();let u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=Ki(),t[2]=u):u=t[2];const h=u,[m,f]=z.useState(!1),[g,y]=z.useState(null);let b;t[3]===Symbol.for("react.memo_cache_sentinel")?(b=h.kubernetes?.contexts||[],t[3]=b):b=t[3];const _=b;let w;t[4]===Symbol.for("react.memo_cache_sentinel")?(w=h.docker?.contexts||[],t[4]=w):w=t[4];const k=w;let C,E;t[5]!==n?(C=["kubernetes","namespaces",n],E=()=>n?BZ(n):Promise.resolve({items:[]}),t[5]=n,t[6]=C,t[7]=E):(C=t[6],E=t[7]);const A=!!n;let R;t[8]!==A?(R={enabled:A},t[8]=A,t[9]=R):R=t[9];const{data:N}=f$(C,E,R);let M;t[10]!==N?.items?(M=N?.items||[],t[10]=N?.items,t[11]=M):M=t[11];const I=M;let q,B;t[12]!==n?(q=()=>{n&&PZ(n)},B=[n],t[12]=n,t[13]=q,t[14]=B):(q=t[13],B=t[14]),z.useEffect(q,B);let K,$;t[15]!==n||t[16]!==s?(K=()=>{n&&s&&Zo(n,s).then(Te=>{if(Te)y(Te);else if(s.includes("."))return _6(n,s);return null}).then(Te=>{Te&&y(Te)}).catch(()=>{y(null)})},$=[n,s],t[15]=n,t[16]=s,t[17]=K,t[18]=$):(K=t[17],$=t[18]),z.useEffect(K,$);const W=s?g:null;let Z;t[19]!==n||t[20]!==l||t[21]!==s||t[22]!==a.namespace?(Z=Te=>{n&&(MZ(n),HZ(n)),s?Zo(Te,s).then(ae=>{l(ae?{to:"/cluster/$context/$resourceType",params:{context:Te,resourceType:s},search:{namespace:a.namespace}}:{to:"/cluster/$context",params:{context:Te}})}).catch(()=>{l({to:"/cluster/$context",params:{context:Te}})}):l({to:"/cluster/$context",params:{context:Te},search:ae=>({...ae,namespace:a.namespace})})},t[19]=n,t[20]=l,t[21]=s,t[22]=a.namespace,t[23]=Z):Z=t[23];const G=Z;let L;t[24]!==l?(L=Te=>{l({to:".",search:ae=>({...ae,namespace:Te})})},t[24]=l,t[25]=L):L=t[25];const Y=L;let X;t[26]!==n||t[27]!==l?(X=Te=>{if(Te){const ae=Bye(Te)?Te.name:`${Te.name}.${Te.group}`;l({to:"/cluster/$context/$resourceType",params:{context:n,resourceType:ae},search:qye})}else l({to:"/cluster/$context/$resourceType",params:{context:n,resourceType:"overview"},search:Vye})},t[26]=n,t[27]=l,t[28]=X):X=t[28];const U=X;let O;t[29]!==n||t[30]!==l||t[31]!==s?(O=Te=>{Te&&s?l({to:"/cluster/$context/$resourceType/$name",params:{context:n,resourceType:s,name:Te},search:Hye}):s&&l({to:"/cluster/$context/$resourceType",params:{context:n,resourceType:s},search:Uye})},t[29]=n,t[30]=l,t[31]=s,t[32]=O):O=t[32];const P=O;let V;t[33]!==l?(V=Te=>{l({to:".",search:ae=>({...ae,tab:Te}),replace:!0})},t[33]=l,t[34]=V):V=t[34];const T=V;let Q;t[35]!==l?(Q=Te=>{l({to:"/docker/$context/$resourceType",params:{context:Te,resourceType:"containers"}})},t[35]=l,t[36]=Q):Q=t[36];const te=Q;let J;t[37]===Symbol.for("react.memo_cache_sentinel")?(J=()=>{f(!1)},t[37]=J):J=t[37];const ue=J;let we;t[38]!==n||t[39]!==l||t[40]!==a.namespace?(we=(Te,ae,ve)=>{ve&&ve!==a.namespace?l({to:"/cluster/$context/$resourceType/$name",params:{context:n,resourceType:Te,name:ae},search:{namespace:ve}}):l({to:"/cluster/$context/$resourceType/$name",params:{context:n,resourceType:Te,name:ae},search:Fye})},t[38]=n,t[39]=l,t[40]=a.namespace,t[41]=we):we=t[41];const ke=we,et=n||"";let ze;t[42]!==I||t[43]!==ke||t[44]!==a.namespace||t[45]!==Y||t[46]!==U||t[47]!==et?(ze=rJ({context:et,namespace:a.namespace,namespaces:I,setNamespace:Y,setSelectedResource:U,setSelectedItem:ke,onClose:ue}),t[42]=I,t[43]=ke,t[44]=a.namespace,t[45]=Y,t[46]=U,t[47]=et,t[48]=ze):ze=t[48];const Ce=ze;let Oe,qe;t[49]===Symbol.for("react.memo_cache_sentinel")?(Oe=()=>{const Te=ae=>{(ae.metaKey||ae.ctrlKey)&&ae.key==="k"&&(ae.preventDefault(),f(zye))};return document.addEventListener("keydown",Te),()=>document.removeEventListener("keydown",Te)},qe=[],t[49]=Oe,t[50]=qe):(Oe=t[49],qe=t[50]),z.useEffect(Oe,qe);const lt=s==="overview",at=!s,Lt=n||"";let Bt;t[51]!==G||t[52]!==te||t[53]!==Lt?(Bt=p.jsx("div",{className:"shrink-0 px-3 pt-3 pb-2",children:p.jsx(S6,{mode:"cluster",contexts:_,selectedContext:Lt,onSelectContext:G,dockerContexts:k,selectedDockerContext:"",onSelectDockerContext:te})}),t[51]=G,t[52]=te,t[53]=Lt,t[54]=Bt):Bt=t[54];const At=n||"";let jt;t[55]!==lt||t[56]!==at||t[57]!==I||t[58]!==g||t[59]!==a.namespace||t[60]!==Y||t[61]!==U||t[62]!==At?(jt=p.jsx(GZ,{context:At,namespace:a.namespace,namespaces:I,selectedResource:g,onSelectResource:U,onSelectNamespace:Y,isOverviewSelected:lt,isWelcome:at}),t[55]=lt,t[56]=at,t[57]=I,t[58]=g,t[59]=a.namespace,t[60]=Y,t[61]=U,t[62]=At,t[63]=jt):jt=t[63];let De;t[64]!==Bt||t[65]!==jt?(De=p.jsx("div",{className:"py-2 pl-2 shrink-0 h-full",children:p.jsxs("aside",{className:"w-56 h-full shrink-0 bg-white dark:bg-black/40 backdrop-blur-xl flex flex-col rounded-xl border border-neutral-300/50 dark:border-neutral-700/50",children:[Bt,jt]})}),t[64]=Bt,t[65]=jt,t[66]=De):De=t[66];let He;t[67]!==n||t[68]!==W||t[69]!==lt||t[70]!==at||t[71]!==r||t[72]!==a.namespace||t[73]!==a.tab||t[74]!==P||t[75]!==T?(He=at?p.jsx("main",{className:"flex-1 flex flex-col h-full min-w-0 items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-48 h-48 mx-auto dark:hidden"}),p.jsx("img",{src:"/logo_dark.png",alt:"Logo",className:"w-48 h-48 mx-auto hidden dark:block"}),p.jsxs("p",{className:"mt-4 text-sm text-neutral-500 dark:text-neutral-400",children:["Select a resource from the sidebar or press ",p.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-700 text-xs",children:"K"})," to search"]})]})}):lt?p.jsxs("main",{className:"flex-1 flex flex-col h-full min-w-0",children:[p.jsxs("header",{className:"shrink-0 h-14 flex items-center justify-between px-5 mt-2",children:[p.jsx("div",{className:"flex items-center gap-4",children:p.jsx("h2",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:"Overview"})}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("button",{onClick:()=>f(!0),className:"p-2 rounded-md text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 transition-colors",title:"Command Palette (K)",children:p.jsx(QC,{size:18})})})]}),p.jsx("section",{className:"flex-1 overflow-hidden min-h-0",children:p.jsx(Nle,{context:n||"",namespace:a.namespace})})]}):W?p.jsx(Dye,{context:n||"",namespace:a.namespace,resource:W,selectedItem:r,onSelectItem:P,tab:a.tab,onTabChange:T},`${W.group||""}/${W.name}`):p.jsx("div",{className:"flex-1 flex items-center justify-center text-neutral-500",children:"Loading resource..."}),t[67]=n,t[68]=W,t[69]=lt,t[70]=at,t[71]=r,t[72]=a.namespace,t[73]=a.tab,t[74]=P,t[75]=T,t[76]=He):He=t[76];let Ie;t[77]!==Ce||t[78]!==m?(Ie=p.jsx(w6,{isOpen:m,onClose:ue,adapter:Ce}),t[77]=Ce,t[78]=m,t[79]=Ie):Ie=t[79];let Ke;return t[80]!==De||t[81]!==He||t[82]!==Ie?(Ke=p.jsxs("div",{className:"flex h-screen overflow-hidden bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[De,He,Ie]}),t[80]=De,t[81]=He,t[82]=Ie,t[83]=Ke):Ke=t[83],Ke}function zye(t){return!t}function Fye(t){return t}function Uye(t){return{...t,tab:void 0}}function Hye(t){return t}function Vye(t){return t}function qye(t){return t}const Kye=[{id:"containers",label:"Containers",icon:ki},{id:"images",label:"Images",icon:xi},{id:"volumes",label:"Volumes",icon:js},{id:"networks",label:"Networks",icon:Wn}];function Wye(t){const e=Le.c(6),{selectedResource:n,onSelectResource:s,isWelcome:r}=t;let i;e[0]!==r||e[1]!==s||e[2]!==n?(i=Kye.map(l=>{const u=!r&&n===l.id;return p.jsx("li",{children:p.jsxs("button",{className:`flex items-center w-full px-3 py-2 text-sm rounded-lg transition-colors ${u?"bg-white/90 text-neutral-900 shadow-sm dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-white/50 hover:text-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-800/50 dark:hover:text-neutral-200"}`,onClick:()=>s(l.id),children:[p.jsx(l.icon,{size:16,className:"mr-2.5 shrink-0 opacity-70"}),p.jsx("span",{className:"truncate",children:l.label})]})},l.id)}),e[0]=r,e[1]=s,e[2]=n,e[3]=i):i=e[3];let a;return e[4]!==i?(a=p.jsx("nav",{className:"flex-1 py-1 overflow-y-auto overflow-x-hidden min-h-0",children:p.jsx("ul",{className:"px-2",children:i})}),e[4]=i,e[5]=a):a=e[5],a}async function Tc(t,e){const n=await fetch(`/contexts/${e}${t}`);if(!n.ok)throw new Error(`Docker API request failed: ${n.status} ${n.statusText}`);return n.json()}async function yp(t,e=!0){return Tc(`/containers/json?all=${e}`,t)}async function CC(t,e){return Tc(`/containers/${e}/json`,t)}async function cA(t){return Tc("/images/json",t)}async function Gye(t,e,n=!1){return g_(`/images/${e}?force=${n}`,t)}async function Yye(t){return(await Tc("/volumes",t)).Volumes??[]}async function nD(t,e){return Tc(`/volumes/${encodeURIComponent(e)}`,t)}async function Zye(t,e,n=!1){return g_(`/volumes/${encodeURIComponent(e)}?force=${n}`,t)}async function Jye(t){return Tc("/networks",t)}async function sD(t,e){return Tc(`/networks/${e}`,t)}async function Xye(t,e){return g_(`/networks/${e}`,t)}async function jm(t,e){const n=await fetch(`/contexts/${e}${t}`,{method:"POST"});if(!n.ok){const s=await n.text();throw new Error(s||`Docker API request failed: ${n.status} ${n.statusText}`)}}async function g_(t,e){const n=await fetch(`/contexts/${e}${t}`,{method:"DELETE"});if(!n.ok){const s=await n.text();throw new Error(s||`Docker API request failed: ${n.status} ${n.statusText}`)}}async function Qye(t,e){return jm(`/containers/${e}/start`,t)}async function eve(t,e){return jm(`/containers/${e}/stop`,t)}async function tve(t,e){return jm(`/containers/${e}/restart`,t)}async function nve(t,e){return jm(`/containers/${e}/pause`,t)}async function sve(t,e){return jm(`/containers/${e}/unpause`,t)}async function rve(t,e,n=!1){return g_(`/containers/${e}?force=${n}`,t)}function f7(t,e,n={}){const s=new URLSearchParams;return s.set("stdout",String(n.stdout??!0)),s.set("stderr",String(n.stderr??!0)),s.set("timestamps",String(n.timestamps??!0)),n.follow&&s.set("follow","true"),n.tail!==void 0&&s.set("tail",String(n.tail)),n.since!==void 0&&s.set("since",String(n.since)),n.until!==void 0&&s.set("until",String(n.until)),`/contexts/${t}/containers/${e}/logs?${s.toString()}`}async function ive(t,e,n={}){const s=f7(t,e,{...n,follow:!1}),r=await fetch(s);if(!r.ok)throw new Error(`Failed to fetch logs: ${r.status} ${r.statusText}`);return r.text()}async function ave(t,e,n,s,r){const i=f7(t,e,{...n,follow:!0}),a=await fetch(i,{signal:r});if(!a.ok)throw new Error(`Failed to stream logs: ${a.status} ${a.statusText}`);const l=a.body?.getReader();if(!l)throw new Error("No response body");const u=new TextDecoder;let h=[],m="",f=null;const g=_=>{m+=_;const w=m.split(`
`);m=w.pop()||"";for(const k of w)k.trim()&&s(k)},y=_=>{const w=u.decode(_,{stream:!0});g(w)},b=()=>{for(;h.length>=8;){const _=h[4]<<24|h[5]<<16|h[6]<<8|h[7];if(h.length<8+_)break;const w=new Uint8Array(h.slice(8,8+_));h=h.slice(8+_);const k=u.decode(w,{stream:!0});g(k)}};try{for(;;){const{done:_,value:w}=await l.read();if(_)break;if(f===null&&w.length>0){const k=w[0];w.length>=4&&k<=2&&w[1]===0&&w[2]===0&&w[3]===0?f=!0:f=!1}f?(h.push(...w),b()):y(w)}m.trim()&&s(m)}finally{l.releaseLock()}}function Yo(t){return!t||t.length===0?"unnamed":t[0].replace(/^\//,"")}function ove(t){if(t==="<none>:<none>")return{repository:"<none>",tag:"<none>"};if(t.includes("@")){const[r,i]=t.split("@");return{repository:r,tag:i}}const e=t.lastIndexOf("/"),s=(e>=0?t.substring(e+1):t).lastIndexOf(":");if(s>=0){const r=e>=0?e+1+s:s;return{repository:t.substring(0,r),tag:t.substring(r+1)}}return{repository:t,tag:"latest"}}function ly(t){return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:t<1024*1024*1024?`${(t/(1024*1024)).toFixed(1)} MB`:`${(t/(1024*1024*1024)).toFixed(2)} GB`}function lve(t){return!t||t.length===0?"-":t.filter(e=>e.PublicPort).map(e=>`${e.PublicPort}:${e.PrivatePort}/${e.Type}`).join(", ")||"-"}function p7(t){if(!t||t<=0)return"-";const e=new Date(t*1e3),s=new Date().getTime()-e.getTime(),r=Math.floor(s/1e3),i=Math.floor(r/60),a=Math.floor(i/60),l=Math.floor(a/24);return l>0?`${l}d`:a>0?`${a}h`:i>0?`${i}m`:`${r}s`}function m7(t){const e=[{name:"Name",type:"string",format:"",description:"Container name",priority:0},{name:"Image",type:"string",format:"",description:"Container image",priority:0},{name:"Status",type:"string",format:"",description:"Container status",priority:0},{name:"State",type:"string",format:"",description:"Container state",priority:1},{name:"Ports",type:"string",format:"",description:"Published ports",priority:1},{name:"Age",type:"string",format:"",description:"Time since created",priority:1}],n=t.map(s=>({cells:[Yo(s.Names??[]),s.Image??"",s.Status??"",s.State??"",lve(s.Ports??[]),p7(s.Created??0)],object:s}));return{columnDefinitions:e,rows:n}}function g7(t){const e=[{name:"Repository",type:"string",format:"",description:"Image repository",priority:0},{name:"Tag",type:"string",format:"",description:"Image tag",priority:0},{name:"Image ID",type:"string",format:"",description:"Image identifier",priority:0},{name:"Size",type:"string",format:"",description:"Image size",priority:1},{name:"Age",type:"string",format:"",description:"Time since created",priority:1}],n=t.map(s=>{const r=s.RepoTags?.[0]||"<none>:<none>",{repository:i,tag:a}=ove(r);return{cells:[i||"<none>",a||"<none>",s.Id?.replace("sha256:","").substring(0,12)??"<none>",ly(s.Size),p7(s.Created??0)],object:s}});return{columnDefinitions:e,rows:n}}function y7(t){const e=[{name:"Name",type:"string",format:"",description:"Volume name",priority:0},{name:"Driver",type:"string",format:"",description:"Volume driver",priority:0},{name:"Scope",type:"string",format:"",description:"Volume scope",priority:1},{name:"Mountpoint",type:"string",format:"",description:"Mount location",priority:2}],n=t.map(s=>({cells:[s.Name??"",s.Driver??"local",s.Scope??"local",s.Mountpoint??""],object:s}));return{columnDefinitions:e,rows:n}}function v7(t){const e=[{name:"Name",type:"string",format:"",description:"Network name",priority:0},{name:"Driver",type:"string",format:"",description:"Network driver",priority:0},{name:"Scope",type:"string",format:"",description:"Network scope",priority:1},{name:"ID",type:"string",format:"",description:"Network identifier",priority:2}],n=t.map(s=>({cells:[s.Name??"",s.Driver??"bridge",s.Scope??"local",s.Id?.substring(0,12)??""],object:s}));return{columnDefinitions:e,rows:n}}function of(t){return t.toLowerCase().replace(/[-_.]/g,"")}const rD=[{kind:"containers",label:"Containers",icon:ki,category:"Docker"},{kind:"images",label:"Images",icon:xi,category:"Docker"}];function cve(t){const{context:e,onSelectResource:n,onSelectItem:s,onClose:r}=t;return{id:"docker",resourceTypes:rD,supportsNamespaces:!1,searchModePrefixes:[{prefix:">",mode:"resources"}],async initialize(){},getAvailableResourceTypes(){return rD},getNamespaces(){return[]},resourceTypeToSearchResult(a){return{id:`type-${a.kind}`,type:"resource-type",label:a.label,sublabel:a.category,icon:a.icon,category:a.category,data:{dockerResourceType:a.kind}}},async searchResources(a){if(!a||a.length<2)return[];const l=[],u=of(a);try{const[h,m]=await Promise.all([yp(e,!0),cA(e)]);for(const f of h){const y=(f.Names||[])[0]?.replace(/^\//,"")||f.Id?.substring(0,12)||"",b=y;of(y).includes(u)&&l.push({id:`container/${f.Id}`,type:"resource",label:y,sublabel:`Container  ${f.State||"unknown"}`,icon:ki,category:"Docker",data:{dockerResourceType:"containers",resourceName:b}})}for(const f of m){const y=(f.RepoTags||[])[0]||f.Id?.substring(7,19)||"",b=y.replace(/:/g,"-");of(y).includes(u)&&l.push({id:`image/${f.Id}`,type:"resource",label:y,sublabel:"Image",icon:xi,category:"Docker",data:{dockerResourceType:"images",resourceName:b}})}}catch{}return l.sort((h,m)=>{const f=of(h.label)===u,g=of(m.label)===u;return f&&!g?-1:!f&&g?1:h.label.localeCompare(m.label)}),l.slice(0,50)},handleSelect(a){if(a.type==="resource-type"){const l=a.data.dockerResourceType;l&&n(l)}else if(a.type==="resource"){const l=a.data.dockerResourceType,u=a.data.resourceName;l&&u?s(l,u):l&&n(l)}r()},getPlaceholder(a){return a==="resources"?"Search resource types...":"Search containers and images... (> types)"},getHelpItems(){return[{prefix:">",label:"Resource types"}]},getCurrentScopeLabel(){return null}}}const uve=Qi({all:gs().optional().describe("Whether to include stopped containers (default: true)")}),hve=Qi({}),dve=Qi({container:gs().describe("The container name or ID")}),fve=Qi({container:gs().describe("The container name or ID"),tail:gs().optional().describe("Number of lines to return from the end of the logs (default: 100)")}),pve=rl({name:"list_containers",description:"List all Docker containers (running and stopped)",inputSchema:uve}),mve=rl({name:"list_images",description:"List all Docker images on the system",inputSchema:hve}),gve=rl({name:"inspect_container",description:"Get detailed information about a specific container",inputSchema:dve}),yve=rl({name:"get_container_logs",description:"Get logs from a specific container",inputSchema:fve});function vve(t){return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:t<1024*1024*1024?`${(t/(1024*1024)).toFixed(1)} MB`:`${(t/(1024*1024*1024)).toFixed(2)} GB`}function bve(t){const e=t.context,n=pve.client(async a=>{const u=a.all!=="false";return{containers:(await yp(e,u)).map(m=>({id:m.Id?.substring(0,12),name:Yo(m.Names??[]),image:m.Image,state:m.State,status:m.Status,ports:m.Ports?.filter(f=>f.PublicPort).map(f=>`${f.PublicPort}:${f.PrivatePort}/${f.Type}`)}))}}),s=mve.client(async()=>({images:(await cA(e)).map(l=>{const u=l.RepoTags?.[0]||"<none>:<none>",[h,m]=u.split(":");return{id:l.Id.replace("sha256:","").substring(0,12),repository:h,tag:m,size:vve(l.Size),created:new Date(l.Created*1e3).toISOString()}})})),r=gve.client(async a=>{const l=a;try{const h=(await yp(e,!0)).find(f=>f.Id?.startsWith(l.container)||Yo(f.Names??[]).toLowerCase()===l.container.toLowerCase());if(!h?.Id)return{error:`Container not found: ${l.container}`};const m=await CC(e,h.Id);return{id:m.Id?.substring(0,12),name:m.Name?.replace(/^\//,""),image:m.Config?.Image,state:{status:m.State?.Status,running:m.State?.Running,startedAt:m.State?.StartedAt,finishedAt:m.State?.FinishedAt,exitCode:m.State?.ExitCode},config:{env:m.Config?.Env,cmd:m.Config?.Cmd,workingDir:m.Config?.WorkingDir,exposedPorts:m.Config?.ExposedPorts?Object.keys(m.Config.ExposedPorts):[]},hostConfig:{portBindings:m.HostConfig?.PortBindings,binds:m.HostConfig?.Binds,networkMode:m.HostConfig?.NetworkMode,restartPolicy:m.HostConfig?.RestartPolicy},networkSettings:{ipAddress:m.NetworkSettings?.IPAddress,networks:m.NetworkSettings?.Networks?Object.keys(m.NetworkSettings.Networks):[]},mounts:m.Mounts?.map(f=>({type:f.Type,source:f.Source,destination:f.Destination,mode:f.Mode}))}}catch(u){return{error:`Failed to inspect container: ${u}`}}}),i=yve.client(async a=>{const l=a;try{const h=(await yp(e,!0)).find(g=>g.Id?.startsWith(l.container)||Yo(g.Names??[]).toLowerCase()===l.container.toLowerCase());if(!h?.Id)return{error:`Container not found: ${l.container}`};const m=parseInt(l.tail||"100",10);return{logs:await ive(e,h.Id,{tail:m})||"(no logs available)"}}catch(u){return{error:`Failed to get logs: ${u}`}}});return A$(n,s,r,i)}function _ve(t){let e="";const n=[];return t.selectedResourceType&&n.push(`- Currently viewing: ${t.selectedResourceType}`),t.selectedContainerName&&n.push(`- Currently selected container: ${t.selectedContainerName}`),n.length>0&&(e=`

The user is currently viewing:
${n.join(`
`)}

Use this context to provide more relevant answers.`),`You are a helpful Docker assistant. You can help users understand and manage their Docker containers and images.
When users ask about containers or images, use the available tools to fetch real data from the Docker daemon.
Provide clear, concise explanations and highlight any issues or warnings you find.
Format your responses using markdown for better readability.${e}`}const xve={id:"docker",name:"Docker Assistant",placeholder:"Ask about your containers and images..."};function Sve(t){switch(t?.toLowerCase()){case"running":return"running";case"paused":return"paused";case"exited":return"exited";case"created":return"created";case"dead":return"dead";case"removing":return"removing";case"restarting":return"restarting";default:return}}function wve(t){switch(t?.toLowerCase()){case"running":return"success";case"paused":return"warning";case"restarting":return"warning";case"exited":case"dead":return"error";default:return"neutral"}}const kve={types:["container"],adapt(t){const e=[],n=t.State,s=t.Config,r=t.NetworkSettings,i=[{label:"Status",value:n?.Status??"Unknown",status:wve(n?.Status),icon:n?.Running?z.createElement(Wu,{size:14}):n?.Paused?z.createElement(wp,{size:14}):z.createElement(Bw,{size:14})}];n?.Running&&i.push({label:"PID",value:n.Pid??0,status:"neutral"}),n?.ExitCode!==void 0&&n.ExitCode!==0&&i.push({label:"Exit Code",value:n.ExitCode,status:"error"}),e.push({id:"status",data:{type:"status-cards",items:i}});const a=[{label:"ID",value:t.Id?.substring(0,12)},{label:"Name",value:t.Name?.replace(/^\//,"")},{label:"Image",value:s?.Image},{label:"Created",value:t.Created?new Date(t.Created).toLocaleString():void 0},{label:"Platform",value:t.Platform},{label:"Driver",value:t.Driver}];n?.StartedAt&&n.StartedAt!=="0001-01-01T00:00:00Z"&&a.push({label:"Started",value:new Date(n.StartedAt).toLocaleString()}),n?.FinishedAt&&n.FinishedAt!=="0001-01-01T00:00:00Z"&&a.push({label:"Finished",value:new Date(n.FinishedAt).toLocaleString()}),e.push({id:"info",title:"Container",data:{type:"info-grid",items:a,columns:2}});const l=(s?.Env??[]).map(h=>{const[m,...f]=h.split("=");return{name:m,value:f.join("=")}}),u=[{name:t.Name?.replace(/^\//,"")??"container",image:s?.Image??"",state:Sve(n?.Status),stateReason:n?.Error||void 0,command:s?.Cmd??void 0,args:void 0,ports:Object.entries(s?.ExposedPorts??{}).map(([h])=>{const[m,f]=h.split("/");return{containerPort:parseInt(m,10),protocol:f?.toUpperCase()}}),mounts:t.Mounts?.map(h=>({name:h.Name??h.Type??"mount",mountPath:h.Destination??"",readOnly:!h.RW})),env:l.length>0?l:void 0}];if(e.push({id:"containers",title:"Configuration",data:{type:"containers",items:u}}),r?.Networks&&Object.keys(r.Networks).length>0){const h=[],m=[];for(const[f,g]of Object.entries(r.Networks))g.IPAddress&&h.push({type:`${f} IP`,address:g.IPAddress}),g.Gateway&&h.push({type:`${f} Gateway`,address:g.Gateway}),g.MacAddress&&m.push({label:`${f} MAC`,value:g.MacAddress});h.length>0&&e.push({id:"network-addresses",title:"Network",data:{type:"addresses",addresses:h}}),m.length>0&&e.push({id:"network-info",data:{type:"info-grid",items:m,columns:2}})}if(r?.Ports&&Object.keys(r.Ports).length>0){const h=[];for(const[m,f]of Object.entries(r.Ports))if(f&&f.length>0)for(const g of f)h.push({label:m,value:`${g.HostIp||"0.0.0.0"}:${g.HostPort}`});else h.push({label:m,value:"not published"});e.push({id:"ports",title:"Ports",data:{type:"info-grid",items:h,columns:2}})}if(t.Mounts&&t.Mounts.length>0){const h=t.Mounts.map(m=>({name:m.Name??m.Source??"volume",type:m.Type??"unknown",source:m.Source??"",extra:m.Driver?{Driver:m.Driver}:void 0,mounts:[{container:t.Name?.replace(/^\//,"")??"container",mountPath:m.Destination??"",readOnly:!m.RW}]}));e.push({id:"volumes",title:"Mounts",data:{type:"volumes",items:h}})}return s?.Labels&&Object.keys(s.Labels).length>0&&e.push({id:"labels",data:{type:"labels",labels:s.Labels}}),{sections:e}},actions:[{id:"start",label:"Start",icon:z.createElement(Wu,{size:14}),variant:"primary",execute:async(t,e)=>{await Qye(t,e.Id)},isVisible:t=>!t.State?.Running},{id:"stop",label:"Stop",icon:z.createElement(Bw,{size:14}),variant:"warning",execute:async(t,e)=>{await eve(t,e.Id)},isVisible:t=>t.State?.Running===!0},{id:"restart",label:"Restart",icon:z.createElement($n,{size:14}),variant:"secondary",execute:async(t,e)=>{await tve(t,e.Id)},isVisible:t=>t.State?.Running===!0},{id:"pause",label:"Pause",icon:z.createElement(wp,{size:14}),variant:"secondary",execute:async(t,e)=>{await nve(t,e.Id)},isVisible:t=>{const e=t;return e.State?.Running===!0&&!e.State?.Paused}},{id:"unpause",label:"Unpause",icon:z.createElement(Wu,{size:14}),variant:"secondary",execute:async(t,e)=>{await sve(t,e.Id)},isVisible:t=>t.State?.Paused===!0},{id:"delete",label:"Delete",icon:z.createElement(Qp,{size:14}),variant:"danger",confirm:{title:"Delete Container",message:"Are you sure you want to delete this container? This action cannot be undone.",confirmLabel:"Delete"},execute:async(t,e)=>{await rve(t,e.Id)},isVisible:t=>!t.State?.Running}]};function Cve(t){return t?new Date(t*1e3).toLocaleString():"Unknown"}function iD(t){if(!t||t==="<none>:<none>")return{repository:"<none>",tag:"<none>"};if(t.includes("@")){const[r,i]=t.split("@");return{repository:r,tag:i}}const e=t.lastIndexOf("/"),s=(e>=0?t.substring(e+1):t).lastIndexOf(":");if(s>=0){const r=e>=0?e+1+s:s;return{repository:t.substring(0,r),tag:t.substring(r+1)}}return{repository:t,tag:"latest"}}const Nve={types:["image"],adapt(t){const e=[],n=t.RepoTags??[],s=t.RepoDigests??[],r=n[0]||"<none>:<none>",{repository:i,tag:a}=iD(r),l=[{label:"Size",value:ly(t.Size),status:"neutral",icon:z.createElement(xi,{size:14})}];n.length>0&&l.push({label:"Tags",value:n.length,status:"neutral",icon:z.createElement(v6,{size:14})}),t.Containers!==void 0&&t.Containers>=0&&l.push({label:"Containers",value:t.Containers,status:t.Containers>0?"success":"neutral"}),e.push({id:"status",data:{type:"status-cards",items:l}});const u=[{label:"Repository",value:i!=="<none>"?i:void 0},{label:"Tag",value:a!=="<none>"?a:void 0},{label:"Image ID",value:t.Id?.replace("sha256:","").substring(0,12)},{label:"Full ID",value:t.Id?.replace("sha256:","")},{label:"Size",value:ly(t.Size)},{label:"Virtual Size",value:t.VirtualSize?ly(t.VirtualSize):void 0},{label:"Created",value:Cve(t.Created)}];if(t.ParentId&&u.push({label:"Parent",value:t.ParentId.replace("sha256:","").substring(0,12)}),e.push({id:"info",title:"Information",data:{type:"info-grid",items:u.filter(m=>m.value)}}),n.length>1){const m=n.map(f=>{const g=iD(f);return{label:g.repository,value:g.tag}});e.push({id:"tags",title:"Tags",data:{type:"info-grid",items:m}})}if(s.length>0){const m=s.map(f=>{const[g,y]=f.split("@");return{label:g,value:y?.substring(7,19)+"..."}});e.push({id:"digests",title:"Digests",data:{type:"info-grid",items:m}})}const h=t.Labels;return h&&Object.keys(h).length>0&&e.push({id:"labels",data:{type:"labels",labels:h}}),{sections:e}},actions:[{id:"delete",label:"Delete",icon:z.createElement(Qp,{size:14}),variant:"danger",confirm:{title:"Delete Image",message:"Are you sure you want to delete this image? This action cannot be undone.",confirmLabel:"Delete"},execute:async(t,e)=>{await Gye(t,e.Id)},isDisabled:t=>{const e=t;return e.Containers&&e.Containers>0?"Image is used by containers":!1}}]};function Eve(t){if(t==null||t<0)return"Unknown";if(t===0)return"0 B";const e=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(t)/Math.log(1024));return`${(t/Math.pow(1024,n)).toFixed(n>0?1:0)} ${e[n]}`}const Ave={types:["volume"],adapt(t){const e=[],n=[{label:"Driver",value:t.Driver??"local",status:"neutral",icon:z.createElement(js,{size:14})}];t.UsageData?.Size!==void 0&&t.UsageData.Size>=0&&n.push({label:"Size",value:Eve(t.UsageData.Size),status:"neutral"}),t.UsageData?.RefCount!==void 0&&t.UsageData.RefCount>=0&&n.push({label:"Containers",value:t.UsageData.RefCount,status:t.UsageData.RefCount>0?"success":"neutral"}),e.push({id:"status",data:{type:"status-cards",items:n}});const s=[{label:"Name",value:t.Name},{label:"Driver",value:t.Driver},{label:"Scope",value:t.Scope},{label:"Mountpoint",value:t.Mountpoint}];t.CreatedAt&&s.push({label:"Created",value:new Date(t.CreatedAt).toLocaleString()}),e.push({id:"info",title:"Information",data:{type:"info-grid",items:s.filter(a=>a.value)}});const r=t.Labels;r&&Object.keys(r).length>0&&e.push({id:"labels",data:{type:"labels",labels:r}});const i=t.Options;if(i&&Object.keys(i).length>0){const a=Object.entries(i).map(([l,u])=>({label:l,value:u}));e.push({id:"options",title:"Driver Options",data:{type:"info-grid",items:a}})}return{sections:e}},actions:[{id:"delete",label:"Delete",icon:z.createElement(Qp,{size:14}),variant:"danger",confirm:{title:"Delete Volume",message:"Are you sure you want to delete this volume? This action cannot be undone and all data will be lost.",confirmLabel:"Delete"},execute:async(t,e)=>{await Zye(t,e.Name)},isDisabled:t=>{const e=t;return e.UsageData?.RefCount&&e.UsageData.RefCount>0?"Volume is in use by containers":!1}}]},aD=["bridge","host","none"],Rve={types:["network"],adapt(t){const e=[],n=t.IPAM,s=t.Containers,r=[{label:"Driver",value:t.Driver??"bridge",status:"neutral",icon:z.createElement(Wn,{size:14})},{label:"Scope",value:t.Scope??"local",status:"neutral",icon:z.createElement(Tr,{size:14})}];t.Internal&&r.push({label:"Internal",value:"Yes",status:"warning",icon:z.createElement(Xp,{size:14})});const i=s?Object.keys(s).length:0;r.push({label:"Containers",value:i,status:i>0?"success":"neutral"}),e.push({id:"status",data:{type:"status-cards",items:r}});const a=[{label:"Name",value:t.Name},{label:"ID",value:t.Id?.substring(0,12)},{label:"Driver",value:t.Driver},{label:"Scope",value:t.Scope}];if(t.Created&&a.push({label:"Created",value:new Date(t.Created).toLocaleString()}),t.EnableIPv6&&a.push({label:"IPv6",value:"Enabled"}),t.Internal&&a.push({label:"Internal",value:"Yes"}),t.Attachable&&a.push({label:"Attachable",value:"Yes"}),t.Ingress&&a.push({label:"Ingress",value:"Yes"}),e.push({id:"info",title:"Information",data:{type:"info-grid",items:a.filter(u=>u.value)}}),n?.Config&&n.Config.length>0){const u=[];u.push({label:"Driver",value:n.Driver??"default"}),n.Config.forEach((h,m)=>{const f=n.Config.length>1?`[${m+1}] `:"";h.Subnet&&u.push({label:`${f}Subnet`,value:h.Subnet}),h.Gateway&&u.push({label:`${f}Gateway`,value:h.Gateway}),h.IPRange&&u.push({label:`${f}IP Range`,value:h.IPRange})}),e.push({id:"ipam",title:"IPAM Configuration",data:{type:"info-grid",items:u}})}if(s&&Object.keys(s).length>0){const u=Object.entries(s).map(([h,m])=>({label:m.Name||h.substring(0,12),value:m.IPv4Address||m.IPv6Address||"No IP"}));e.push({id:"containers",title:"Connected Containers",data:{type:"info-grid",items:u}})}const l=t.Labels;return l&&Object.keys(l).length>0&&e.push({id:"labels",data:{type:"labels",labels:l}}),{sections:e}},actions:[{id:"delete",label:"Delete",icon:z.createElement(Qp,{size:14}),variant:"danger",confirm:{title:"Delete Network",message:"Are you sure you want to delete this network? This action cannot be undone.",confirmLabel:"Delete"},execute:async(t,e)=>{await Xye(t,e.Id)},isDisabled:t=>{const e=t;return e.Name&&aD.includes(e.Name)?"Cannot delete built-in network":e.Containers&&Object.keys(e.Containers).length>0?"Network has connected containers":!1},isVisible:t=>{const e=t;return!e.Name||!aD.includes(e.Name)}}]},Tve=[kve,Nve,Ave,Rve],uA=new Map;Tve.forEach(t=>{t.types.forEach(e=>{uA.set(e.toLowerCase(),t)})});function b7(t){return uA.get(t.toLowerCase())??null}function jve(t){return uA.has(t.toLowerCase())}function Ove(t,e){const n=b7(e);return n?n.adapt(t):null}function _7(t,e="container"){const n=b7(e);return n?.actions?n.actions.filter(s=>!s.isVisible||s.isVisible(t)):[]}function Mve(t){return"Config"in t&&"State"in t?"container":"RepoTags"in t||"RepoDigests"in t?"image":"Mountpoint"in t&&"Driver"in t&&!("IPAM"in t)?"volume":"IPAM"in t?"network":"container"}function Ive(t){const e=Le.c(13),{context:n,resource:s,onActionComplete:r,hideActions:i}=t,a=i===void 0?!1:i;let l,u,h,m;if(e[0]!==n||e[1]!==a||e[2]!==r||e[3]!==s){m=Symbol.for("react.early_return_sentinel");e:{const g=Mve(s),y=Ove(s,g),b=_7(s,g);if(!y||y.sections.length===0){let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_=p.jsx("div",{className:"text-neutral-500 text-sm",children:"No visualization available"}),e[8]=_):_=e[8],m=_;break e}l="space-y-4",u=!a&&b.length>0&&p.jsx(CL,{context:n,actions:b,resource:s,onActionComplete:r}),h=y.sections.map(Dve)}e[0]=n,e[1]=a,e[2]=r,e[3]=s,e[4]=l,e[5]=u,e[6]=h,e[7]=m}else l=e[4],u=e[5],h=e[6],m=e[7];if(m!==Symbol.for("react.early_return_sentinel"))return m;let f;return e[9]!==l||e[10]!==u||e[11]!==h?(f=p.jsxs("div",{className:l,children:[u,h]}),e[9]=l,e[10]=u,e[11]=h,e[12]=f):f=e[12],f}function Dve(t){return p.jsx(NL,{section:t},t.id)}const Pve=1e3;function Lve(t){const e=t.replace(/\r/g,""),n=e.match(/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?Z)\s*(.*)$/);if(n){const[,s,r]=n;return{timestamp:s,message:r}}return{message:e}}function Bve(t){const e=Le.c(21),{context:n,container:s,tailLines:r}=t,i=r===void 0?Pve:r;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[0]=a):a=e[0];const[l,u]=z.useState(a),[h,m]=z.useState(null),f=z.useRef(null),g=s.Id;let y;e[1]!==s.Names?(y=s.Names??[],e[1]=s.Names,e[2]=y):y=e[2];let b;e[3]!==y?(b=Yo(y),e[3]=y,e[4]=b):b=e[4];const _=b,w=s.State==="running";let k,C;e[5]!==g||e[6]!==_||e[7]!==n||e[8]!==w||e[9]!==i?(k=()=>{if(!w||!g)return;const M=new AbortController;return f.current=M,ave(n,g,{follow:!0,stdout:!0,stderr:!0,timestamps:!0,tail:i},I=>{const q=Lve(I),B={timestamp:q.timestamp,message:q.message,source:_};u(K=>[...K,B])},M.signal).catch(I=>{I.name!=="AbortError"&&m(I.message)}),()=>{M.abort()}},C=[n,g,_,w,i],e[5]=g,e[6]=_,e[7]=n,e[8]=w,e[9]=i,e[10]=k,e[11]=C):(k=e[10],C=e[11]),z.useEffect(k,C);const E=w,A=w?void 0:"Container is not running. Start the container to view logs.";let R;e[12]!==_||e[13]!==E?(R=E?[_]:[],e[12]=_,e[13]=E,e[14]=R):R=e[14];let N;return e[15]!==h||e[16]!==E||e[17]!==l||e[18]!==R||e[19]!==A?(N={logs:l,sources:R,isLoading:!1,error:h,isAvailable:E,unavailableMessage:A},e[15]=h,e[16]=E,e[17]=l,e[18]=R,e[19]=A,e[20]=N):N=e[20],N}function $ve(t){const e=Le.c(10),{context:n,container:s,toolbarRef:r}=t;let i;e[0]!==s||e[1]!==n?(i={context:n,container:s},e[0]=s,e[1]=n,e[2]=i):i=e[2];const{logs:a,sources:l,isLoading:u,error:h,unavailableMessage:m}=Bve(i);let f;return e[3]!==h||e[4]!==u||e[5]!==a||e[6]!==l||e[7]!==r||e[8]!==m?(f=p.jsx(EL,{logs:a,sources:l,isLoading:u,error:h,emptyMessage:"Waiting for logs...",unavailableMessage:m,toolbarRef:r}),e[3]=h,e[4]=u,e[5]=a,e[6]=l,e[7]=r,e[8]=m,e[9]=f):f=e[9],f}function zve(t){const e=Le.c(4),{context:n,container:s,toolbarRef:r}=t;let i;return e[0]!==s||e[1]!==n||e[2]!==r?(i=p.jsx($ve,{context:n,container:s,toolbarRef:r},s.Id),e[0]=s,e[1]=n,e[2]=r,e[3]=i):i=e[3],i}function Fve({context:t,isOpen:e,onClose:n,otherPanelOpen:s=!1,resource:r,resourceType:i="containers"}){const[a,l]=z.useState(null),[u,h]=z.useState(!1),[m,f]=z.useState(null),[g,y]=z.useState("overview"),[b,_]=z.useState(null),[w,k]=z.useState(null),C=z.useRef(null),E=5e3,R=z.useCallback(L=>L?i==="containers"||i==="images"?L.Id??"":i==="volumes"?L.Name??"":i==="networks"?L.Id??"":"":"",[i])(r),M=z.useCallback(L=>{if(!L)return"";if(i==="containers")return Yo(L.Names??[]);if(i==="images"){const Y=L,X=Y.RepoTags?.[0];return X||(Y.Id?.replace("sha256:","").substring(0,12)??"")}return i==="volumes"||i==="networks"?L.Name??"":""},[i])(r),I=z.useCallback(async()=>{if(R)try{let L;if(i==="containers")L=await CC(t,R);else{if(i==="images")return;i==="volumes"?L=await nD(t,R):i==="networks"&&(L=await sD(t,R))}L&&l(L)}catch{}},[R,i,t]);z.useEffect(()=>{if(!e||!R||!a||i==="images")return;const L=setInterval(()=>{I()},E);return()=>clearInterval(L)},[e,R,a,I,i]),z.useEffect(()=>{if(y("overview"),!R){l(null),f(null);return}if(i==="images"){l(r);return}(async()=>{h(!0),f(null);try{let Y;i==="containers"?Y=await CC(t,R):i==="volumes"?Y=await nD(t,R):i==="networks"&&(Y=await sD(t,R)),Y&&l(Y)}catch(Y){f(Y instanceof Error?Y.message:"Failed to fetch resource details")}finally{h(!1)}})()},[R,i,r,t]);const q=i==="containers"?"container":i==="images"?"image":i==="volumes"?"volume":"network",B=a?_7(a,q).filter(L=>!(L.isVisible&&!L.isVisible(a))):[],K=async L=>{if(L.confirm){k(L);return}await $(L)},$=async L=>{if(a){_(L.id),k(null);try{await L.execute(t,a),await I()}catch(Y){console.error("Action failed:",Y)}finally{_(null)}}};if(!e)return null;const Z=i==="containers"?[{id:"overview",label:"Overview"},{id:"logs",label:"Logs"}]:[{id:"overview",label:"Overview"}],G=jve(q);return p.jsxs("div",{className:`fixed right-0 top-0 h-full bg-white dark:bg-neutral-900 border-l border-neutral-200 dark:border-neutral-700 shadow-xl z-30 flex flex-col transition-all duration-300 ${s?"w-md":"w-xl"}`,children:[p.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-4 border-b border-neutral-200 dark:border-neutral-800",children:[p.jsx("div",{className:"flex items-center gap-3 min-w-0",children:p.jsxs("div",{className:"min-w-0",children:[p.jsx("h2",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-100 truncate",children:M||"Resource"}),r&&p.jsx("span",{className:"text-xs text-neutral-400 font-mono mt-0.5",children:R.substring(0,12)})]})}),p.jsx("div",{className:"flex items-center gap-1",children:p.jsx("button",{onClick:n,className:"p-2 rounded-lg text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 transition-colors",title:"Close",children:p.jsx(Kv,{size:16})})})]}),p.jsxs("div",{className:"shrink-0 border-b border-neutral-200 dark:border-neutral-800 flex items-center",children:[p.jsx("div",{className:"flex",children:Z.filter(L=>L.id!=="overview"||G).map(L=>p.jsx("button",{onClick:()=>y(L.id),className:`px-4 py-2.5 text-sm font-medium transition-colors ${g===L.id?"text-neutral-900 dark:text-neutral-100 border-b-2 border-neutral-900 dark:border-neutral-100":"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:L.label},L.id))}),p.jsxs("div",{className:"ml-auto pr-4 flex items-center gap-1",children:[p.jsx("div",{ref:C,className:"flex items-center gap-1"}),g==="overview"&&B.map(L=>{const Y=L.isDisabled?.(a),X=Y===!0||typeof Y=="string",U=typeof Y=="string"?Y:void 0,O=b===L.id;return p.jsx("button",{onClick:()=>K(L),disabled:X||O,title:U||L.label,className:`
                  flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded transition-colors
                  ${X||O?"opacity-50 cursor-not-allowed":""}
                  ${L.variant==="primary"?"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":L.variant==="warning"?"text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":L.variant==="danger"?"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800"}
                `,children:O?p.jsx(Ma,{size:14,className:"animate-spin"}):L.icon},L.id)})]})]}),w&&p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:w.confirm?.title}),p.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-6",children:w.confirm?.message}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsx("button",{onClick:()=>k(null),className:"px-4 py-2 text-sm font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 transition-colors",children:"Cancel"}),p.jsx("button",{onClick:()=>$(w),className:`px-4 py-2 text-sm font-medium rounded transition-colors ${w.variant==="danger"?"bg-red-600 hover:bg-red-700 text-white":w.variant==="warning"?"bg-amber-600 hover:bg-amber-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:w.confirm?.confirmLabel||"Confirm"})]})]})}),p.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:u&&!a?p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsx(Ma,{className:"w-6 h-6 text-neutral-400 animate-spin"})}):m?p.jsx("div",{className:"p-4 text-red-500 text-sm",children:m}):r?p.jsxs(p.Fragment,{children:[g==="overview"&&a&&p.jsx("div",{className:"h-full overflow-auto p-4",children:p.jsx(Ive,{context:t,resource:a,onActionComplete:I,hideActions:!0})}),g==="logs"&&i==="containers"&&r&&p.jsx(zve,{context:t,container:r,toolbarRef:C})]}):p.jsx("div",{className:"p-4 text-neutral-500 text-sm",children:"No resource selected"})})]})}const ww="ai";function oD(t,e){switch(e){case"containers":return t.Id??"";case"images":return t.Id??"";case"volumes":return t.Name??"";case"networks":return t.Id??"";default:return""}}function Uve(t,e){switch(e){case"containers":{const n=t;return n.Names?Yo(n.Names):n.Id?.substring(0,12)??""}case"images":{const n=t;return n.RepoTags?.[0]?.replace(/:/g,"-")??n.Id?.substring(7,19)??""}case"volumes":return t.Name??"";case"networks":return t.Name??"";default:return""}}async function Hve(t,e){let n;switch(e){case"containers":{const s=await yp(t,!0);n=m7(s);break}case"images":{const s=await cA(t);n=g7(s);break}case"volumes":{const s=await Yye(t);n=y7(s);break}case"networks":{const s=await Jye(t);n=v7(s);break}}return[...n.rows].sort((s,r)=>{const i=oD(s.object,e),a=oD(r.object,e);return i.localeCompare(a)})}function Vve(t){const e=Le.c(53),{resourceType:n,context:s,selectedItem:r,onSelectItem:i}=t,{isOpen:a,toggle:l,close:u}=yE();let h;e[0]!==a?(h=a(ww),e[0]=a,e[1]=h):h=e[1];const m=h;let f;e[2]!==s||e[3]!==n?(f={queryKey:["docker",s,n],queryFn:()=>Hve(s,n),refetchInterval:5e3},e[2]=s,e[3]=n,e[4]=f):f=e[4];const{data:g,isLoading:y,error:b,refetch:_,isFetching:w}=by(f);let k;e[5]!==g?(k=g===void 0?[]:g,e[5]=g,e[6]=k):k=e[6];const C=k,E=w&&!y;let A;e[7]!==n?(A={name:n,namespaced:!1},e[7]=n,e[8]=A):A=e[8];const R=A;let N;e:{switch(n){case"containers":{let J;e[9]!==C?(J=m7(C.map(Gve)),e[9]=C,e[10]=J):J=e[10],N=J;break e}case"images":{let J;e[11]!==C?(J=g7(C.map(Wve)),e[11]=C,e[12]=J):J=e[12],N=J;break e}case"volumes":{let J;e[13]!==C?(J=y7(C.map(Kve)),e[13]=C,e[14]=J):J=e[14],N=J;break e}case"networks":{let J;e[15]!==C?(J=v7(C.map(qve)),e[15]=C,e[16]=J):J=e[16],N=J;break e}}N=void 0}const M=N;let I;e[17]===Symbol.for("react.memo_cache_sentinel")?(I={containers:"Containers",images:"Images",volumes:"Volumes",networks:"Networks"},e[17]=I):I=e[17];const B=I[n];let K;e[18]!==s||e[19]!==n?(K=J=>{const ue=J?.object;return{context:s,selectedResourceType:n,selectedContainerId:n==="containers"?ue?.Id?.substring(0,12):void 0,selectedContainerName:n==="containers"&&ue?.Names?Yo(ue.Names):void 0}},e[18]=s,e[19]=n,e[20]=K):K=e[20];const $=K;let W;if(e[21]!==$){const J=$(null);W=bve(J),e[21]=$,e[22]=W}else W=e[22];const Z=W;let G;e[23]!==m||e[24]!==l?(G=()=>Ki().ai?p.jsx("button",{onClick:()=>l(ww),className:`p-2 rounded-md transition-colors ${m?"text-sky-400 hover:text-sky-300 hover:bg-neutral-100 dark:hover:bg-neutral-800":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800"}`,title:"AI Assistant",children:p.jsx(y6,{size:18})}):null,e[23]=m,e[24]=l,e[25]=G):G=e[25];const L=G;let Y;e[26]!==u||e[27]!==$||e[28]!==m||e[29]!==Z?(Y=(J,ue)=>{const we=$(J);return p.jsx(d7,{isOpen:m,onClose:()=>u(ww),otherPanelOpen:ue,adapterConfig:xve,environment:we,tools:Z,buildInstructions:_ve})},e[26]=u,e[27]=$,e[28]=m,e[29]=Z,e[30]=Y):Y=e[30];const X=Y,U=n==="containers"||n==="images"||n==="volumes"||n==="networks";let O;e[31]!==s||e[32]!==m||e[33]!==n||e[34]!==U?(O=U?(J,ue,we)=>p.jsx(Fve,{context:s,isOpen:!0,onClose:ue,otherPanelOpen:we||m,resource:J.object,resourceType:n}):void 0,e[31]=s,e[32]=m,e[33]=n,e[34]=U,e[35]=O):O=e[35];const P=O;let V;e[36]!==n?(V=J=>Uve(J.object,n),e[36]=n,e[37]=V):V=e[37];const T=V,Q=M;let te;return e[38]!==R||e[39]!==b||e[40]!==T||e[41]!==E||e[42]!==y||e[43]!==i||e[44]!==_||e[45]!==P||e[46]!==X||e[47]!==L||e[48]!==r||e[49]!==U||e[50]!==Q||e[51]!==B?(te=p.jsx(w$,{config:R,title:B,data:Q,loading:y,error:b,refetch:_,isRefetching:E,showDetailPanel:U,renderDetailPanel:P,renderHeaderActions:L,renderExtraPanels:X,selectedItemName:r,onSelectItemName:i,getItemName:T}),e[38]=R,e[39]=b,e[40]=T,e[41]=E,e[42]=y,e[43]=i,e[44]=_,e[45]=P,e[46]=X,e[47]=L,e[48]=r,e[49]=U,e[50]=Q,e[51]=B,e[52]=te):te=e[52],te}function qve(t){return t.object}function Kve(t){return t.object}function Wve(t){return t.object}function Gve(t){return t.object}const Yve=["containers","images","volumes","networks"];function Zve(t){return Yve.includes(t)}function Jve(){const t=Le.c(52);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={strict:!1},t[0]=e):e=t[0];const{context:n,resourceType:s,name:r}=Wp(e),i=Sh();let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=Ki(),t[1]=a):a=t[1];const l=a,[u,h]=z.useState(!1);let m;t[2]===Symbol.for("react.memo_cache_sentinel")?(m=l.kubernetes?.contexts||[],t[2]=m):m=t[2];const f=m;let g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g=l.docker?.contexts||[],t[3]=g):g=t[3];const y=g,b=!s;let _;t[4]!==s?(_=s&&Zve(s)?s:null,t[4]=s,t[5]=_):_=t[5];const w=_;let k;t[6]!==w||t[7]!==i?(k=te=>{i(w?{to:"/docker/$context/$resourceType",params:{context:te,resourceType:w}}:{to:"/docker/$context",params:{context:te}})},t[6]=w,t[7]=i,t[8]=k):k=t[8];const C=k;let E;t[9]!==n||t[10]!==i?(E=te=>{i({to:"/docker/$context/$resourceType",params:{context:n,resourceType:te}})},t[9]=n,t[10]=i,t[11]=E):E=t[11];const A=E;let R;t[12]!==n||t[13]!==w||t[14]!==i?(R=te=>{w&&i(te?{to:"/docker/$context/$resourceType/$name",params:{context:n,resourceType:w,name:te}}:{to:"/docker/$context/$resourceType",params:{context:n,resourceType:w}})},t[12]=n,t[13]=w,t[14]=i,t[15]=R):R=t[15];const N=R;let M;t[16]!==i?(M=te=>{i({to:"/cluster/$context",params:{context:te}})},t[16]=i,t[17]=M):M=t[17];const I=M;let q;t[18]===Symbol.for("react.memo_cache_sentinel")?(q=()=>{h(!1)},t[18]=q):q=t[18];const B=q;let K;t[19]!==n||t[20]!==i?(K=(te,J)=>{i({to:"/docker/$context/$resourceType/$name",params:{context:n,resourceType:te,name:J}})},t[19]=n,t[20]=i,t[21]=K):K=t[21];const $=K,W=n||"";let Z;t[22]!==$||t[23]!==A||t[24]!==W?(Z=cve({context:W,onSelectResource:A,onSelectItem:$,onClose:B}),t[22]=$,t[23]=A,t[24]=W,t[25]=Z):Z=t[25];const G=Z;let L,Y;t[26]===Symbol.for("react.memo_cache_sentinel")?(L=()=>{const te=J=>{(J.metaKey||J.ctrlKey)&&J.key==="k"&&(J.preventDefault(),h(Xve))};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},Y=[],t[26]=L,t[27]=Y):(L=t[26],Y=t[27]),z.useEffect(L,Y);const X=n||"";let U;t[28]!==I||t[29]!==C||t[30]!==X?(U=p.jsx("div",{className:"shrink-0 px-3 pt-3 pb-2",children:p.jsx(S6,{mode:"docker",contexts:f,selectedContext:"",onSelectContext:I,dockerContexts:y,selectedDockerContext:X,onSelectDockerContext:C})}),t[28]=I,t[29]=C,t[30]=X,t[31]=U):U=t[31];let O;t[32]!==w||t[33]!==b||t[34]!==A?(O=p.jsx(Wye,{selectedResource:w,onSelectResource:A,isWelcome:b}),t[32]=w,t[33]=b,t[34]=A,t[35]=O):O=t[35];let P;t[36]!==U||t[37]!==O?(P=p.jsx("div",{className:"py-2 pl-2 shrink-0 h-full",children:p.jsxs("aside",{className:"w-56 h-full shrink-0 bg-white dark:bg-black/40 backdrop-blur-xl flex flex-col rounded-xl border border-neutral-300/50 dark:border-neutral-700/50",children:[U,O]})}),t[36]=U,t[37]=O,t[38]=P):P=t[38];let V;t[39]!==n||t[40]!==w||t[41]!==b||t[42]!==r||t[43]!==N?(V=b?p.jsx("main",{className:"flex-1 flex flex-col h-full min-w-0 items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-48 h-48 mx-auto dark:hidden"}),p.jsx("img",{src:"/logo_dark.png",alt:"Logo",className:"w-48 h-48 mx-auto hidden dark:block"}),p.jsxs("p",{className:"mt-4 text-sm text-neutral-500 dark:text-neutral-400",children:["Select a resource from the sidebar or press ",p.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-700 text-xs",children:"K"})," to search"]})]})}):w?p.jsx(Vve,{context:n||"",resourceType:w,selectedItem:r,onSelectItem:N},w):null,t[39]=n,t[40]=w,t[41]=b,t[42]=r,t[43]=N,t[44]=V):V=t[44];let T;t[45]!==G||t[46]!==u?(T=p.jsx(w6,{isOpen:u,onClose:B,adapter:G}),t[45]=G,t[46]=u,t[47]=T):T=t[47];let Q;return t[48]!==P||t[49]!==V||t[50]!==T?(Q=p.jsxs("div",{className:"flex h-screen overflow-hidden bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[P,V,T]}),t[48]=P,t[49]=V,t[50]=T,t[51]=Q):Q=t[51],Q}function Xve(t){return!t}function Qve(){const t=Le.c(14);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=Ki(),t[0]=e):e=t[0];const n=e,s=Sh();n.kubernetes?.contexts;let r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r=n.kubernetes?.contexts||[],t[1]=r):r=t[1];const i=r;let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=()=>n.docker?.contexts||[],t[2]=a):a=t[2],n.docker?.contexts;let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=a(),t[3]=l):l=t[3];const u=l,h=i.length>0,m=u.length>0;let f;t[4]!==s?(f=()=>{if(h){const b=n.kubernetes?.defaultContext||i[0];s({to:"/cluster/$context",params:{context:b},replace:!0});return}if(m){const b=n.docker?.defaultContext||u[0];s({to:"/docker/$context",params:{context:b},replace:!0});return}},t[4]=s,t[5]=f):f=t[5];let g;if(t[6]!==s?(g=[h,m,n.kubernetes?.defaultContext,n.docker?.defaultContext,i,u,s],t[6]=s,t[7]=g):g=t[7],z.useEffect(f,g),!h&&!m){let b,_,w;t[8]===Symbol.for("react.memo_cache_sentinel")?(b=p.jsxs("div",{className:"mb-6",children:[p.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-32 h-32 mx-auto dark:hidden opacity-50"}),p.jsx("img",{src:"/logo_dark.png",alt:"Logo",className:"w-32 h-32 mx-auto hidden dark:block opacity-50"})]}),_=p.jsx("h1",{className:"text-xl font-semibold text-neutral-700 dark:text-neutral-300 mb-3",children:"No Contexts Available"}),w=p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:"No Kubernetes or Docker contexts were found. Make sure your kubeconfig or Docker configuration is set up correctly."}),t[8]=b,t[9]=_,t[10]=w):(b=t[8],_=t[9],w=t[10]);let k;t[11]===Symbol.for("react.memo_cache_sentinel")?(k=p.jsx("p",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:"Quick setup:"}),t[11]=k):k=t[11];let C;return t[12]===Symbol.for("react.memo_cache_sentinel")?(C=p.jsx("div",{className:"flex h-screen overflow-hidden bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:p.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:p.jsxs("div",{className:"max-w-md mx-auto px-8 text-center",children:[b,_,w,p.jsxs("div",{className:"text-left text-xs text-neutral-400 dark:text-neutral-500 space-y-2 bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:[k,p.jsxs("p",{children:[" For Kubernetes: ensure ",p.jsx("code",{className:"bg-neutral-200 dark:bg-neutral-700 px-1 rounded",children:"~/.kube/config"})," exists"]}),p.jsx("p",{children:" For Docker: ensure Docker Desktop or Docker Engine is running"})]})]})})}),t[12]=C):C=t[12],C}let y;return t[13]===Symbol.for("react.memo_cache_sentinel")?(y=p.jsx("div",{className:"flex h-screen overflow-hidden bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:p.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:p.jsxs("div",{className:"mb-8",children:[p.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-32 h-32 mx-auto dark:hidden opacity-50"}),p.jsx("img",{src:"/logo_dark.png",alt:"Logo",className:"w-32 h-32 mx-auto hidden dark:block opacity-50"})]})})}),t[13]=y):y=t[13],y}const ebe=Qi({namespace:gs().optional(),panel:ky(["ai"]).optional(),tab:ky(["overview","metadata","yaml","events","logs","terminal"]).optional()}),tbe=Qi({panel:ky(["ai"]).optional()}),y_=hH({component:()=>p.jsx(JH,{client:CG,children:p.jsx(ED,{})})}),nbe=Ji({getParentRoute:()=>y_,path:"/",component:Qve}),v_=Ji({getParentRoute:()=>y_,path:"cluster/$context",validateSearch:ebe,component:$ye,beforeLoad:({params:t})=>{if(!(Ki().kubernetes?.contexts||[]).includes(t.context))throw TC({to:"/"})}}),sbe=Ji({getParentRoute:()=>v_,path:"/"}),x7=Ji({getParentRoute:()=>v_,path:"$resourceType"}),rbe=Ji({getParentRoute:()=>x7,path:"$name"}),hA=Ji({getParentRoute:()=>y_,path:"docker/$context",validateSearch:tbe,component:Jve,beforeLoad:({params:t})=>{if(!(Ki().docker?.contexts||[]).includes(t.context))throw TC({to:"/"})}}),ibe=Ji({getParentRoute:()=>hA,path:"/"}),S7=Ji({getParentRoute:()=>hA,path:"$resourceType"}),abe=Ji({getParentRoute:()=>S7,path:"$name"}),obe=y_.addChildren([nbe,v_.addChildren([sbe,x7.addChildren([rbe])]),hA.addChildren([ibe,S7.addChildren([abe])])]),lbe=_H({routeTree:obe,defaultPreload:"intent"});kH().then(()=>{UF.createRoot(document.getElementById("root")).render(p.jsx(z.StrictMode,{children:p.jsx(wH,{router:lbe})}))});
