(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var f5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zv={exports:{}},xh={};var p5;function KL(){if(p5)return xh;p5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:t,type:s,key:o,ref:r!==void 0?r:null,props:a}}return xh.Fragment=e,xh.jsx=n,xh.jsxs=n,xh}var m5;function GL(){return m5||(m5=1,Zv.exports=KL()),Zv.exports}var f=GL(),eb={exports:{}},at={};var g5;function YL(){if(g5)return at;g5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function k(O,V,A){this.props=O,this.context=V,this.refs=S,this.updater=A||x}k.prototype.isReactComponent={},k.prototype.setState=function(O,V){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,V,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=k.prototype;function E(O,V,A){this.props=O,this.context=V,this.refs=S,this.updater=A||x}var B=E.prototype=new C;B.constructor=E,w(B,k.prototype),B.isPureReactComponent=!0;var D=Array.isArray;function j(){}var $={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function Y(O,V,A){var Z=A.ref;return{$$typeof:t,type:O,key:V,ref:Z!==void 0?Z:null,props:A}}function z(O,V){return Y(O.type,V,O.props)}function J(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function F(O){var V={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(A){return V[A]})}var K=/\/+/g;function Q(O,V){return typeof O=="object"&&O!==null&&O.key!=null?F(""+O.key):V.toString(36)}function q(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(j,j):(O.status="pending",O.then(function(V){O.status==="pending"&&(O.status="fulfilled",O.value=V)},function(V){O.status==="pending"&&(O.status="rejected",O.reason=V)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function L(O,V,A,Z,oe){var te=typeof O;(te==="undefined"||te==="boolean")&&(O=null);var de=!1;if(O===null)de=!0;else switch(te){case"bigint":case"string":case"number":de=!0;break;case"object":switch(O.$$typeof){case t:case e:de=!0;break;case g:return de=O._init,L(de(O._payload),V,A,Z,oe)}}if(de)return oe=oe(O),de=Z===""?"."+Q(O,0):Z,D(oe)?(A="",de!=null&&(A=de.replace(K,"$&/")+"/"),L(oe,V,A,"",function(et){return et})):oe!=null&&(J(oe)&&(oe=z(oe,A+(oe.key==null||O&&O.key===oe.key?"":(""+oe.key).replace(K,"$&/")+"/")+de)),V.push(oe)),1;de=0;var xe=Z===""?".":Z+":";if(D(O))for(var Ce=0;Ce<O.length;Ce++)Z=O[Ce],te=xe+Q(Z,Ce),de+=L(Z,V,A,te,oe);else if(Ce=y(O),typeof Ce=="function")for(O=Ce.call(O),Ce=0;!(Z=O.next()).done;)Z=Z.value,te=xe+Q(Z,Ce++),de+=L(Z,V,A,te,oe);else if(te==="object"){if(typeof O.then=="function")return L(q(O),V,A,Z,oe);throw V=String(O),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return de}function G(O,V,A){if(O==null)return O;var Z=[],oe=0;return L(O,Z,"","",function(te){return V.call(A,te,oe++)}),Z}function U(O){if(O._status===-1){var V=O._result;V=V(),V.then(function(A){(O._status===0||O._status===-1)&&(O._status=1,O._result=A)},function(A){(O._status===0||O._status===-1)&&(O._status=2,O._result=A)}),O._status===-1&&(O._status=0,O._result=V)}if(O._status===1)return O._result.default;throw O._result}var M=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},R={map:G,forEach:function(O,V,A){G(O,function(){V.apply(this,arguments)},A)},count:function(O){var V=0;return G(O,function(){V++}),V},toArray:function(O){return G(O,function(V){return V})||[]},only:function(O){if(!J(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return at.Activity=m,at.Children=R,at.Component=k,at.Fragment=n,at.Profiler=r,at.PureComponent=E,at.StrictMode=s,at.Suspense=h,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,at.__COMPILER_RUNTIME={__proto__:null,c:function(O){return $.H.useMemoCache(O)}},at.cache=function(O){return function(){return O.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(O,V,A){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Z=w({},O.props),oe=O.key;if(V!=null)for(te in V.key!==void 0&&(oe=""+V.key),V)!H.call(V,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&V.ref===void 0||(Z[te]=V[te]);var te=arguments.length-2;if(te===1)Z.children=A;else if(1<te){for(var de=Array(te),xe=0;xe<te;xe++)de[xe]=arguments[xe+2];Z.children=de}return Y(O.type,oe,Z)},at.createContext=function(O){return O={$$typeof:o,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:a,_context:O},O},at.createElement=function(O,V,A){var Z,oe={},te=null;if(V!=null)for(Z in V.key!==void 0&&(te=""+V.key),V)H.call(V,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(oe[Z]=V[Z]);var de=arguments.length-2;if(de===1)oe.children=A;else if(1<de){for(var xe=Array(de),Ce=0;Ce<de;Ce++)xe[Ce]=arguments[Ce+2];oe.children=xe}if(O&&O.defaultProps)for(Z in de=O.defaultProps,de)oe[Z]===void 0&&(oe[Z]=de[Z]);return Y(O,te,oe)},at.createRef=function(){return{current:null}},at.forwardRef=function(O){return{$$typeof:c,render:O}},at.isValidElement=J,at.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:U}},at.memo=function(O,V){return{$$typeof:d,type:O,compare:V===void 0?null:V}},at.startTransition=function(O){var V=$.T,A={};$.T=A;try{var Z=O(),oe=$.S;oe!==null&&oe(A,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(j,M)}catch(te){M(te)}finally{V!==null&&A.types!==null&&(V.types=A.types),$.T=V}},at.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},at.use=function(O){return $.H.use(O)},at.useActionState=function(O,V,A){return $.H.useActionState(O,V,A)},at.useCallback=function(O,V){return $.H.useCallback(O,V)},at.useContext=function(O){return $.H.useContext(O)},at.useDebugValue=function(){},at.useDeferredValue=function(O,V){return $.H.useDeferredValue(O,V)},at.useEffect=function(O,V){return $.H.useEffect(O,V)},at.useEffectEvent=function(O){return $.H.useEffectEvent(O)},at.useId=function(){return $.H.useId()},at.useImperativeHandle=function(O,V,A){return $.H.useImperativeHandle(O,V,A)},at.useInsertionEffect=function(O,V){return $.H.useInsertionEffect(O,V)},at.useLayoutEffect=function(O,V){return $.H.useLayoutEffect(O,V)},at.useMemo=function(O,V){return $.H.useMemo(O,V)},at.useOptimistic=function(O,V){return $.H.useOptimistic(O,V)},at.useReducer=function(O,V,A){return $.H.useReducer(O,V,A)},at.useRef=function(O){return $.H.useRef(O)},at.useState=function(O){return $.H.useState(O)},at.useSyncExternalStore=function(O,V,A){return $.H.useSyncExternalStore(O,V,A)},at.useTransition=function(){return $.H.useTransition()},at.version="19.2.3",at}var y5;function pg(){return y5||(y5=1,eb.exports=YL()),eb.exports}var W=pg();const Wr=rS(W);var tb={exports:{}},wh={},nb={exports:{}},sb={};var v5;function XL(){return v5||(v5=1,(function(t){function e(L,G){var U=L.length;L.push(G);e:for(;0<U;){var M=U-1>>>1,R=L[M];if(0<r(R,G))L[M]=G,L[U]=R,U=M;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var G=L[0],U=L.pop();if(U!==G){L[0]=U;e:for(var M=0,R=L.length,O=R>>>1;M<O;){var V=2*(M+1)-1,A=L[V],Z=V+1,oe=L[Z];if(0>r(A,U))Z<R&&0>r(oe,A)?(L[M]=oe,L[Z]=U,M=Z):(L[M]=A,L[V]=U,M=V);else if(Z<R&&0>r(oe,U))L[M]=oe,L[Z]=U,M=Z;else break e}}return G}function r(L,G){var U=L.sortIndex-G.sortIndex;return U!==0?U:L.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var h=[],d=[],g=1,m=null,v=3,y=!1,x=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function B(L){for(var G=n(d);G!==null;){if(G.callback===null)s(d);else if(G.startTime<=L)s(d),G.sortIndex=G.expirationTime,e(h,G);else break;G=n(d)}}function D(L){if(w=!1,B(L),!x)if(n(h)!==null)x=!0,j||(j=!0,F());else{var G=n(d);G!==null&&q(D,G.startTime-L)}}var j=!1,$=-1,H=5,Y=-1;function z(){return S?!0:!(t.unstable_now()-Y<H)}function J(){if(S=!1,j){var L=t.unstable_now();Y=L;var G=!0;try{e:{x=!1,w&&(w=!1,C($),$=-1),y=!0;var U=v;try{t:{for(B(L),m=n(h);m!==null&&!(m.expirationTime>L&&z());){var M=m.callback;if(typeof M=="function"){m.callback=null,v=m.priorityLevel;var R=M(m.expirationTime<=L);if(L=t.unstable_now(),typeof R=="function"){m.callback=R,B(L),G=!0;break t}m===n(h)&&s(h),B(L)}else s(h);m=n(h)}if(m!==null)G=!0;else{var O=n(d);O!==null&&q(D,O.startTime-L),G=!1}}break e}finally{m=null,v=U,y=!1}G=void 0}}finally{G?F():j=!1}}}var F;if(typeof E=="function")F=function(){E(J)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Q=K.port2;K.port1.onmessage=J,F=function(){Q.postMessage(null)}}else F=function(){k(J,0)};function q(L,G){$=k(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(L){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var U=v;v=G;try{return L()}finally{v=U}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=v;v=L;try{return G()}finally{v=U}},t.unstable_scheduleCallback=function(L,G,U){var M=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?M+U:M):U=M,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=U+R,L={id:g++,callback:G,priorityLevel:L,startTime:U,expirationTime:R,sortIndex:-1},U>M?(L.sortIndex=U,e(d,L),n(h)===null&&L===n(d)&&(w?(C($),$=-1):w=!0,q(D,U-M))):(L.sortIndex=R,e(h,L),x||y||(x=!0,j||(j=!0,F()))),L},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(L){var G=v;return function(){var U=v;v=G;try{return L.apply(this,arguments)}finally{v=U}}}})(sb)),sb}var b5;function JL(){return b5||(b5=1,nb.exports=XL()),nb.exports}var rb={exports:{}},cs={};var _5;function QL(){if(_5)return cs;_5=1;var t=pg();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,d,g){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:h,containerInfo:d,implementation:g}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return cs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cs.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,g)},cs.flushSync=function(h){var d=o.T,g=s.p;try{if(o.T=null,s.p=2,h)return h()}finally{o.T=d,s.p=g,s.d.f()}},cs.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(h,d))},cs.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},cs.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,m=c(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?s.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:y}):g==="script"&&s.d.X(h,{crossOrigin:m,integrity:v,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},cs.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);s.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(h)},cs.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,m=c(g,d.crossOrigin);s.d.L(h,g,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},cs.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=c(d.as,d.crossOrigin);s.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(h)},cs.requestFormReset=function(h){s.d.r(h)},cs.unstable_batchedUpdates=function(h,d){return h(d)},cs.useFormState=function(h,d,g){return o.H.useFormState(h,d,g)},cs.useFormStatus=function(){return o.H.useHostTransitionStatus()},cs.version="19.2.3",cs}var x5;function eT(){if(x5)return rb.exports;x5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rb.exports=QL(),rb.exports}var w5;function ZL(){if(w5)return wh;w5=1;var t=JL(),e=pg(),n=eT();function s(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function o(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function c(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function h(i){if(a(i)!==i)throw Error(s(188))}function d(i){var l=i.alternate;if(!l){if(l=a(i),l===null)throw Error(s(188));return l!==i?null:i}for(var u=i,p=l;;){var b=u.return;if(b===null)break;var _=b.alternate;if(_===null){if(p=b.return,p!==null){u=p;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===u)return h(b),i;if(_===p)return h(b),l;_=_.sibling}throw Error(s(188))}if(u.return!==p.return)u=b,p=_;else{for(var N=!1,I=b.child;I;){if(I===u){N=!0,u=b,p=_;break}if(I===p){N=!0,p=b,u=_;break}I=I.sibling}if(!N){for(I=_.child;I;){if(I===u){N=!0,u=_,p=b;break}if(I===p){N=!0,p=_,u=b;break}I=I.sibling}if(!N)throw Error(s(189))}}if(u.alternate!==p)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?i:l}function g(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=g(i),l!==null)return l;i=i.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var K=Symbol.for("react.client.reference");function Q(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===K?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case j:return"SuspenseList";case Y:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case E:return i.displayName||"Context";case C:return(i._context.displayName||"Context")+".Consumer";case B:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return l=i.displayName||null,l!==null?l:Q(i.type)||"Memo";case H:l=i._payload,i=i._init;try{return Q(i(l))}catch{}}return null}var q=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},M=[],R=-1;function O(i){return{current:i}}function V(i){0>R||(i.current=M[R],M[R]=null,R--)}function A(i,l){R++,M[R]=i.current,i.current=l}var Z=O(null),oe=O(null),te=O(null),de=O(null);function xe(i,l){switch(A(te,l),A(oe,i),A(Z,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?L4(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=L4(l),i=I4(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}V(Z),A(Z,i)}function Ce(){V(Z),V(oe),V(te)}function et(i){i.memoizedState!==null&&A(de,i);var l=Z.current,u=I4(l,i.type);l!==u&&(A(oe,i),A(Z,u))}function Ne(i){oe.current===i&&(V(Z),V(oe)),de.current===i&&(V(de),yh._currentValue=U)}var Ge,Te;function tt(i){if(Ge===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Ge=l&&l[1]||"",Te=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+i+Te}var mt=!1;function ht(i,l){if(!i||mt)return"";mt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(he){var ue=he}Reflect.construct(i,[],ye)}else{try{ye.call()}catch(he){ue=he}i.call(ye.prototype)}}else{try{throw Error()}catch(he){ue=he}(ye=i())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(he){if(he&&ue&&typeof he.stack=="string")return[he.stack,ue.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),N=_[0],I=_[1];if(N&&I){var X=N.split(`
`),le=I.split(`
`);for(b=p=0;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;for(;b<le.length&&!le[b].includes("DetermineComponentFrameRoot");)b++;if(p===X.length||b===le.length)for(p=X.length-1,b=le.length-1;1<=p&&0<=b&&X[p]!==le[b];)b--;for(;1<=p&&0<=b;p--,b--)if(X[p]!==le[b]){if(p!==1||b!==1)do if(p--,b--,0>b||X[p]!==le[b]){var me=`
`+X[p].replace(" at new "," at ");return i.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",i.displayName)),me}while(1<=p&&0<=b);break}}}finally{mt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?tt(u):""}function Lt(i,l){switch(i.tag){case 26:case 27:case 5:return tt(i.type);case 16:return tt("Lazy");case 13:return i.child!==l&&l!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return ht(i.type,!1);case 11:return ht(i.type.render,!1);case 1:return ht(i.type,!0);case 31:return tt("Activity");default:return""}}function vn(i){try{var l="",u=null;do l+=Lt(i,u),u=i,i=i.return;while(i);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var os=Object.prototype.hasOwnProperty,Es=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,rt=t.unstable_shouldYield,Zt=t.unstable_requestPaint,Ot=t.unstable_now,Wn=t.unstable_getCurrentPriorityLevel,pe=t.unstable_ImmediatePriority,_e=t.unstable_UserBlockingPriority,We=t.unstable_NormalPriority,it=t.unstable_LowPriority,St=t.unstable_IdlePriority,En=t.log,re=t.unstable_setDisableYieldValue,ae=null,fe=null;function Se(i){if(typeof En=="function"&&re(i),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(ae,i)}catch{}}var Re=Math.clz32?Math.clz32:yt,It=Math.log,Bt=Math.LN2;function yt(i){return i>>>=0,i===0?32:31-(It(i)/Bt|0)|0}var Be=256,De=262144,Pe=4194304;function ze(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function dt(i,l,u){var p=i.pendingLanes;if(p===0)return 0;var b=0,_=i.suspendedLanes,N=i.pingedLanes;i=i.warmLanes;var I=p&134217727;return I!==0?(p=I&~_,p!==0?b=ze(p):(N&=I,N!==0?b=ze(N):u||(u=I&~i,u!==0&&(b=ze(u))))):(I=p&~_,I!==0?b=ze(I):N!==0?b=ze(N):u||(u=p&~i,u!==0&&(b=ze(u)))),b===0?0:l!==0&&l!==b&&(l&_)===0&&(_=b&-b,u=l&-l,_>=u||_===32&&(u&4194048)!==0)?l:b}function Mt(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function sn(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function js(){var i=Pe;return Pe<<=1,(Pe&62914560)===0&&(Pe=4194304),i}function Ao(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function ml(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Hy(i,l,u,p,b,_){var N=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var I=i.entanglements,X=i.expirationTimes,le=i.hiddenUpdates;for(u=N&~u;0<u;){var me=31-Re(u),ye=1<<me;I[me]=0,X[me]=-1;var ue=le[me];if(ue!==null)for(le[me]=null,me=0;me<ue.length;me++){var he=ue[me];he!==null&&(he.lane&=-536870913)}u&=~ye}p!==0&&vk(i,p,0),_!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=_&~(N&~l))}function vk(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var p=31-Re(l);i.entangledLanes|=l,i.entanglements[p]=i.entanglements[p]|1073741824|u&261930}function bk(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var p=31-Re(u),b=1<<p;b&l|i[p]&l&&(i[p]|=l),u&=~b}}function _k(i,l){var u=l&-l;return u=(u&42)!==0?1:Uy(u),(u&(i.suspendedLanes|l))!==0?0:u}function Uy(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Vy(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function xk(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:a5(i.type))}function wk(i,l){var u=G.p;try{return G.p=i,l()}finally{G.p=u}}var ma=Math.random().toString(36).slice(2),Kn="__reactFiber$"+ma,Ts="__reactProps$"+ma,Eo="__reactContainer$"+ma,Fy="__reactEvents$"+ma,LD="__reactListeners$"+ma,ID="__reactHandles$"+ma,Sk="__reactResources$"+ma,Ou="__reactMarker$"+ma;function qy(i){delete i[Kn],delete i[Ts],delete i[Fy],delete i[LD],delete i[ID]}function jo(i){var l=i[Kn];if(l)return l;for(var u=i.parentNode;u;){if(l=u[Eo]||u[Kn]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=F4(i);i!==null;){if(u=i[Kn])return u;i=F4(i)}return l}i=u,u=i.parentNode}return null}function To(i){if(i=i[Kn]||i[Eo]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function Bu(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(s(33))}function Ro(i){var l=i[Sk];return l||(l=i[Sk]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Pn(i){i[Ou]=!0}var kk=new Set,Ck={};function gl(i,l){Oo(i,l),Oo(i+"Capture",l)}function Oo(i,l){for(Ck[i]=l,i=0;i<l.length;i++)kk.add(l[i])}var PD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nk={},Ak={};function zD(i){return os.call(Ak,i)?!0:os.call(Nk,i)?!1:PD.test(i)?Ak[i]=!0:(Nk[i]=!0,!1)}function Kf(i,l,u){if(zD(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function Gf(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function Ai(i,l,u,p){if(p===null)i.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+p)}}function mr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ek(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function $D(i,l,u){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,_=p.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return b.call(this)},set:function(N){u=""+N,_.call(this,N)}}),Object.defineProperty(i,l,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Wy(i){if(!i._valueTracker){var l=Ek(i)?"checked":"value";i._valueTracker=$D(i,l,""+i[l])}}function jk(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),p="";return i&&(p=Ek(i)?i.checked?"true":"false":i.value),i=p,i!==u?(l.setValue(i),!0):!1}function Yf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var HD=/[\n"\\]/g;function gr(i){return i.replace(HD,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ky(i,l,u,p,b,_,N,I){i.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.type=N:i.removeAttribute("type"),l!=null?N==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+mr(l)):i.value!==""+mr(l)&&(i.value=""+mr(l)):N!=="submit"&&N!=="reset"||i.removeAttribute("value"),l!=null?Gy(i,N,mr(l)):u!=null?Gy(i,N,mr(u)):p!=null&&i.removeAttribute("value"),b==null&&_!=null&&(i.defaultChecked=!!_),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+mr(I):i.removeAttribute("name")}function Tk(i,l,u,p,b,_,N,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),l!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||l!=null)){Wy(i);return}u=u!=null?""+mr(u):"",l=l!=null?""+mr(l):u,I||l===i.value||(i.value=l),i.defaultValue=l}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=I?i.checked:!!p,i.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.name=N),Wy(i)}function Gy(i,l,u){l==="number"&&Yf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Bo(i,l,u,p){if(i=i.options,l){l={};for(var b=0;b<u.length;b++)l["$"+u[b]]=!0;for(u=0;u<i.length;u++)b=l.hasOwnProperty("$"+i[u].value),i[u].selected!==b&&(i[u].selected=b),b&&p&&(i[u].defaultSelected=!0)}else{for(u=""+mr(u),l=null,b=0;b<i.length;b++){if(i[b].value===u){i[b].selected=!0,p&&(i[b].defaultSelected=!0);return}l!==null||i[b].disabled||(l=i[b])}l!==null&&(l.selected=!0)}}function Rk(i,l,u){if(l!=null&&(l=""+mr(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+mr(u):""}function Ok(i,l,u,p){if(l==null){if(p!=null){if(u!=null)throw Error(s(92));if(q(p)){if(1<p.length)throw Error(s(93));p=p[0]}u=p}u==null&&(u=""),l=u}u=mr(l),i.defaultValue=u,p=i.textContent,p===u&&p!==""&&p!==null&&(i.value=p),Wy(i)}function Mo(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var UD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bk(i,l,u){var p=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":p?i.setProperty(l,u):typeof u!="number"||u===0||UD.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function Mk(i,l,u){if(l!=null&&typeof l!="object")throw Error(s(62));if(i=i.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var b in l)p=l[b],l.hasOwnProperty(b)&&u[b]!==p&&Bk(i,b,p)}else for(var _ in l)l.hasOwnProperty(_)&&Bk(i,_,l[_])}function Yy(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xf(i){return FD.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ei(){}var Xy=null;function Jy(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Do=null,Lo=null;function Dk(i){var l=To(i);if(l&&(i=l.stateNode)){var u=i[Ts]||null;e:switch(i=l.stateNode,l.type){case"input":if(Ky(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+gr(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var p=u[l];if(p!==i&&p.form===i.form){var b=p[Ts]||null;if(!b)throw Error(s(90));Ky(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<u.length;l++)p=u[l],p.form===i.form&&jk(p)}break e;case"textarea":Rk(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Bo(i,!!u.multiple,l,!1)}}}var Qy=!1;function Lk(i,l,u){if(Qy)return i(l,u);Qy=!0;try{var p=i(l);return p}finally{if(Qy=!1,(Do!==null||Lo!==null)&&(Ip(),Do&&(l=Do,i=Lo,Lo=Do=null,Dk(l),i)))for(l=0;l<i.length;l++)Dk(i[l])}}function Mu(i,l){var u=i.stateNode;if(u===null)return null;var p=u[Ts]||null;if(p===null)return null;u=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(s(231,l,typeof u));return u}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zy=!1;if(ji)try{var Du={};Object.defineProperty(Du,"passive",{get:function(){Zy=!0}}),window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{Zy=!1}var ga=null,e1=null,Jf=null;function Ik(){if(Jf)return Jf;var i,l=e1,u=l.length,p,b="value"in ga?ga.value:ga.textContent,_=b.length;for(i=0;i<u&&l[i]===b[i];i++);var N=u-i;for(p=1;p<=N&&l[u-p]===b[_-p];p++);return Jf=b.slice(i,1<p?1-p:void 0)}function Qf(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Zf(){return!0}function Pk(){return!1}function Rs(i){function l(u,p,b,_,N){this._reactName=u,this._targetInst=b,this.type=p,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(u=i[I],this[I]=u?u(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Zf:Pk,this.isPropagationStopped=Pk,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zf)},persist:function(){},isPersistent:Zf}),l}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ep=Rs(yl),Lu=m({},yl,{view:0,detail:0}),qD=Rs(Lu),t1,n1,Iu,tp=m({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r1,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Iu&&(Iu&&i.type==="mousemove"?(t1=i.screenX-Iu.screenX,n1=i.screenY-Iu.screenY):n1=t1=0,Iu=i),t1)},movementY:function(i){return"movementY"in i?i.movementY:n1}}),zk=Rs(tp),WD=m({},tp,{dataTransfer:0}),KD=Rs(WD),GD=m({},Lu,{relatedTarget:0}),s1=Rs(GD),YD=m({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),XD=Rs(YD),JD=m({},yl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),QD=Rs(JD),ZD=m({},yl,{data:0}),$k=Rs(ZD),e8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s8(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=n8[i])?!!l[i]:!1}function r1(){return s8}var r8=m({},Lu,{key:function(i){if(i.key){var l=e8[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Qf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?t8[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r1,charCode:function(i){return i.type==="keypress"?Qf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),i8=Rs(r8),a8=m({},tp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hk=Rs(a8),l8=m({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r1}),o8=Rs(l8),c8=m({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),u8=Rs(c8),h8=m({},tp,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),d8=Rs(h8),f8=m({},yl,{newState:0,oldState:0}),p8=Rs(f8),m8=[9,13,27,32],i1=ji&&"CompositionEvent"in window,Pu=null;ji&&"documentMode"in document&&(Pu=document.documentMode);var g8=ji&&"TextEvent"in window&&!Pu,Uk=ji&&(!i1||Pu&&8<Pu&&11>=Pu),Vk=" ",Fk=!1;function qk(i,l){switch(i){case"keyup":return m8.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wk(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Io=!1;function y8(i,l){switch(i){case"compositionend":return Wk(l);case"keypress":return l.which!==32?null:(Fk=!0,Vk);case"textInput":return i=l.data,i===Vk&&Fk?null:i;default:return null}}function v8(i,l){if(Io)return i==="compositionend"||!i1&&qk(i,l)?(i=Ik(),Jf=e1=ga=null,Io=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Uk&&l.locale!=="ko"?null:l.data;default:return null}}var b8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kk(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!b8[i.type]:l==="textarea"}function Gk(i,l,u,p){Do?Lo?Lo.push(p):Lo=[p]:Do=p,l=Fp(l,"onChange"),0<l.length&&(u=new ep("onChange","change",null,u,p),i.push({event:u,listeners:l}))}var zu=null,$u=null;function _8(i){T4(i,0)}function np(i){var l=Bu(i);if(jk(l))return i}function Yk(i,l){if(i==="change")return l}var Xk=!1;if(ji){var a1;if(ji){var l1="oninput"in document;if(!l1){var Jk=document.createElement("div");Jk.setAttribute("oninput","return;"),l1=typeof Jk.oninput=="function"}a1=l1}else a1=!1;Xk=a1&&(!document.documentMode||9<document.documentMode)}function Qk(){zu&&(zu.detachEvent("onpropertychange",Zk),$u=zu=null)}function Zk(i){if(i.propertyName==="value"&&np($u)){var l=[];Gk(l,$u,i,Jy(i)),Lk(_8,l)}}function x8(i,l,u){i==="focusin"?(Qk(),zu=l,$u=u,zu.attachEvent("onpropertychange",Zk)):i==="focusout"&&Qk()}function w8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return np($u)}function S8(i,l){if(i==="click")return np(l)}function k8(i,l){if(i==="input"||i==="change")return np(l)}function C8(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Ks=typeof Object.is=="function"?Object.is:C8;function Hu(i,l){if(Ks(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),p=Object.keys(l);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var b=u[p];if(!os.call(l,b)||!Ks(i[b],l[b]))return!1}return!0}function eC(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function tC(i,l){var u=eC(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=l&&p>=l)return{node:u,offset:l-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=eC(u)}}function nC(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?nC(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function sC(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Yf(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Yf(i.document)}return l}function o1(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var N8=ji&&"documentMode"in document&&11>=document.documentMode,Po=null,c1=null,Uu=null,u1=!1;function rC(i,l,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;u1||Po==null||Po!==Yf(p)||(p=Po,"selectionStart"in p&&o1(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Uu&&Hu(Uu,p)||(Uu=p,p=Fp(c1,"onSelect"),0<p.length&&(l=new ep("onSelect","select",null,l,u),i.push({event:l,listeners:p}),l.target=Po)))}function vl(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var zo={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionrun:vl("Transition","TransitionRun"),transitionstart:vl("Transition","TransitionStart"),transitioncancel:vl("Transition","TransitionCancel"),transitionend:vl("Transition","TransitionEnd")},h1={},iC={};ji&&(iC=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function bl(i){if(h1[i])return h1[i];if(!zo[i])return i;var l=zo[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in iC)return h1[i]=l[u];return i}var aC=bl("animationend"),lC=bl("animationiteration"),oC=bl("animationstart"),A8=bl("transitionrun"),E8=bl("transitionstart"),j8=bl("transitioncancel"),cC=bl("transitionend"),uC=new Map,d1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");d1.push("scrollEnd");function zr(i,l){uC.set(i,l),gl(l,[i])}var sp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},yr=[],$o=0,f1=0;function rp(){for(var i=$o,l=f1=$o=0;l<i;){var u=yr[l];yr[l++]=null;var p=yr[l];yr[l++]=null;var b=yr[l];yr[l++]=null;var _=yr[l];if(yr[l++]=null,p!==null&&b!==null){var N=p.pending;N===null?b.next=b:(b.next=N.next,N.next=b),p.pending=b}_!==0&&hC(u,b,_)}}function ip(i,l,u,p){yr[$o++]=i,yr[$o++]=l,yr[$o++]=u,yr[$o++]=p,f1|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function p1(i,l,u,p){return ip(i,l,u,p),ap(i)}function _l(i,l){return ip(i,null,null,l),ap(i)}function hC(i,l,u){i.lanes|=u;var p=i.alternate;p!==null&&(p.lanes|=u);for(var b=!1,_=i.return;_!==null;)_.childLanes|=u,p=_.alternate,p!==null&&(p.childLanes|=u),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(b=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,b&&l!==null&&(b=31-Re(u),i=_.hiddenUpdates,p=i[b],p===null?i[b]=[l]:p.push(l),l.lane=u|536870912),_):null}function ap(i){if(50<uh)throw uh=0,Sv=null,Error(s(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Ho={};function T8(i,l,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(i,l,u,p){return new T8(i,l,u,p)}function m1(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ti(i,l){var u=i.alternate;return u===null?(u=Gs(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function dC(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function lp(i,l,u,p,b,_){var N=0;if(p=i,typeof i=="function")m1(i)&&(N=1);else if(typeof i=="string")N=DL(i,u,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Y:return i=Gs(31,u,l,b),i.elementType=Y,i.lanes=_,i;case w:return xl(u.children,b,_,l);case S:N=8,b|=24;break;case k:return i=Gs(12,u,l,b|2),i.elementType=k,i.lanes=_,i;case D:return i=Gs(13,u,l,b),i.elementType=D,i.lanes=_,i;case j:return i=Gs(19,u,l,b),i.elementType=j,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:N=10;break e;case C:N=9;break e;case B:N=11;break e;case $:N=14;break e;case H:N=16,p=null;break e}N=29,u=Error(s(130,i===null?"null":typeof i,"")),p=null}return l=Gs(N,u,l,b),l.elementType=i,l.type=p,l.lanes=_,l}function xl(i,l,u,p){return i=Gs(7,i,p,l),i.lanes=u,i}function g1(i,l,u){return i=Gs(6,i,null,l),i.lanes=u,i}function fC(i){var l=Gs(18,null,null,0);return l.stateNode=i,l}function y1(i,l,u){return l=Gs(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var pC=new WeakMap;function vr(i,l){if(typeof i=="object"&&i!==null){var u=pC.get(i);return u!==void 0?u:(l={value:i,source:l,stack:vn(l)},pC.set(i,l),l)}return{value:i,source:l,stack:vn(l)}}var Uo=[],Vo=0,op=null,Vu=0,br=[],_r=0,ya=null,ei=1,ti="";function Ri(i,l){Uo[Vo++]=Vu,Uo[Vo++]=op,op=i,Vu=l}function mC(i,l,u){br[_r++]=ei,br[_r++]=ti,br[_r++]=ya,ya=i;var p=ei;i=ti;var b=32-Re(p)-1;p&=~(1<<b),u+=1;var _=32-Re(l)+b;if(30<_){var N=b-b%5;_=(p&(1<<N)-1).toString(32),p>>=N,b-=N,ei=1<<32-Re(l)+b|u<<b|p,ti=_+i}else ei=1<<_|u<<b|p,ti=i}function v1(i){i.return!==null&&(Ri(i,1),mC(i,1,0))}function b1(i){for(;i===op;)op=Uo[--Vo],Uo[Vo]=null,Vu=Uo[--Vo],Uo[Vo]=null;for(;i===ya;)ya=br[--_r],br[_r]=null,ti=br[--_r],br[_r]=null,ei=br[--_r],br[_r]=null}function gC(i,l){br[_r++]=ei,br[_r++]=ti,br[_r++]=ya,ei=l.id,ti=l.overflow,ya=i}var Gn=null,Yt=null,Nt=!1,va=null,xr=!1,_1=Error(s(519));function ba(i){var l=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fu(vr(l,i)),_1}function yC(i){var l=i.stateNode,u=i.type,p=i.memoizedProps;switch(l[Kn]=i,l[Ts]=p,u){case"dialog":xt("cancel",l),xt("close",l);break;case"iframe":case"object":case"embed":xt("load",l);break;case"video":case"audio":for(u=0;u<dh.length;u++)xt(dh[u],l);break;case"source":xt("error",l);break;case"img":case"image":case"link":xt("error",l),xt("load",l);break;case"details":xt("toggle",l);break;case"input":xt("invalid",l),Tk(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":xt("invalid",l);break;case"textarea":xt("invalid",l),Ok(l,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||p.suppressHydrationWarning===!0||M4(l.textContent,u)?(p.popover!=null&&(xt("beforetoggle",l),xt("toggle",l)),p.onScroll!=null&&xt("scroll",l),p.onScrollEnd!=null&&xt("scrollend",l),p.onClick!=null&&(l.onclick=Ei),l=!0):l=!1,l||ba(i,!0)}function vC(i){for(Gn=i.return;Gn;)switch(Gn.tag){case 5:case 31:case 13:xr=!1;return;case 27:case 3:xr=!0;return;default:Gn=Gn.return}}function Fo(i){if(i!==Gn)return!1;if(!Nt)return vC(i),Nt=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Pv(i.type,i.memoizedProps)),u=!u),u&&Yt&&ba(i),vC(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Yt=V4(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Yt=V4(i)}else l===27?(l=Yt,Ba(i.type)?(i=Vv,Vv=null,Yt=i):Yt=l):Yt=Gn?Sr(i.stateNode.nextSibling):null;return!0}function wl(){Yt=Gn=null,Nt=!1}function x1(){var i=va;return i!==null&&(Ds===null?Ds=i:Ds.push.apply(Ds,i),va=null),i}function Fu(i){va===null?va=[i]:va.push(i)}var w1=O(null),Sl=null,Oi=null;function _a(i,l,u){A(w1,l._currentValue),l._currentValue=u}function Bi(i){i._currentValue=w1.current,V(w1)}function S1(i,l,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),i===u)break;i=i.return}}function k1(i,l,u,p){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var _=b.dependencies;if(_!==null){var N=b.child;_=_.firstContext;e:for(;_!==null;){var I=_;_=b;for(var X=0;X<l.length;X++)if(I.context===l[X]){_.lanes|=u,I=_.alternate,I!==null&&(I.lanes|=u),S1(_.return,u,i),p||(N=null);break e}_=I.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(s(341));N.lanes|=u,_=N.alternate,_!==null&&(_.lanes|=u),S1(N,u,i),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===i){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function qo(i,l,u,p){i=null;for(var b=l,_=!1;b!==null;){if(!_){if((b.flags&524288)!==0)_=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var I=b.type;Ks(b.pendingProps.value,N.value)||(i!==null?i.push(I):i=[I])}}else if(b===de.current){if(N=b.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(yh):i=[yh])}b=b.return}i!==null&&k1(l,i,u,p),l.flags|=262144}function cp(i){for(i=i.firstContext;i!==null;){if(!Ks(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function kl(i){Sl=i,Oi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yn(i){return bC(Sl,i)}function up(i,l){return Sl===null&&kl(i),bC(i,l)}function bC(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Oi===null){if(i===null)throw Error(s(308));Oi=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Oi=Oi.next=l;return u}var R8=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,p){i.push(p)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},O8=t.unstable_scheduleCallback,B8=t.unstable_NormalPriority,bn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function C1(){return{controller:new R8,data:new Map,refCount:0}}function qu(i){i.refCount--,i.refCount===0&&O8(B8,function(){i.controller.abort()})}var Wu=null,N1=0,Wo=0,Ko=null;function M8(i,l){if(Wu===null){var u=Wu=[];N1=0,Wo=jv(),Ko={status:"pending",value:void 0,then:function(p){u.push(p)}}}return N1++,l.then(_C,_C),l}function _C(){if(--N1===0&&Wu!==null){Ko!==null&&(Ko.status="fulfilled");var i=Wu;Wu=null,Wo=0,Ko=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function D8(i,l){var u=[],p={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return i.then(function(){p.status="fulfilled",p.value=l;for(var b=0;b<u.length;b++)(0,u[b])(l)},function(b){for(p.status="rejected",p.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),p}var xC=L.S;L.S=function(i,l){r4=Ot(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&M8(i,l),xC!==null&&xC(i,l)};var Cl=O(null);function A1(){var i=Cl.current;return i!==null?i:qt.pooledCache}function hp(i,l){l===null?A(Cl,Cl.current):A(Cl,l.pool)}function wC(){var i=A1();return i===null?null:{parent:bn._currentValue,pool:i}}var Go=Error(s(460)),E1=Error(s(474)),dp=Error(s(542)),fp={then:function(){}};function SC(i){return i=i.status,i==="fulfilled"||i==="rejected"}function kC(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(Ei,Ei),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,NC(i),i;default:if(typeof l.status=="string")l.then(Ei,Ei);else{if(i=qt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=l,i.status="pending",i.then(function(p){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=p}},function(p){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,NC(i),i}throw Al=l,Go}}function Nl(i){try{var l=i._init;return l(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Al=u,Go):u}}var Al=null;function CC(){if(Al===null)throw Error(s(459));var i=Al;return Al=null,i}function NC(i){if(i===Go||i===dp)throw Error(s(483))}var Yo=null,Ku=0;function pp(i){var l=Ku;return Ku+=1,Yo===null&&(Yo=[]),kC(Yo,i,l)}function Gu(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function mp(i,l){throw l.$$typeof===v?Error(s(525)):(i=Object.prototype.toString.call(l),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function AC(i){function l(se,ee){if(i){var ie=se.deletions;ie===null?(se.deletions=[ee],se.flags|=16):ie.push(ee)}}function u(se,ee){if(!i)return null;for(;ee!==null;)l(se,ee),ee=ee.sibling;return null}function p(se){for(var ee=new Map;se!==null;)se.key!==null?ee.set(se.key,se):ee.set(se.index,se),se=se.sibling;return ee}function b(se,ee){return se=Ti(se,ee),se.index=0,se.sibling=null,se}function _(se,ee,ie){return se.index=ie,i?(ie=se.alternate,ie!==null?(ie=ie.index,ie<ee?(se.flags|=67108866,ee):ie):(se.flags|=67108866,ee)):(se.flags|=1048576,ee)}function N(se){return i&&se.alternate===null&&(se.flags|=67108866),se}function I(se,ee,ie,ge){return ee===null||ee.tag!==6?(ee=g1(ie,se.mode,ge),ee.return=se,ee):(ee=b(ee,ie),ee.return=se,ee)}function X(se,ee,ie,ge){var Ye=ie.type;return Ye===w?me(se,ee,ie.props.children,ge,ie.key):ee!==null&&(ee.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===H&&Nl(Ye)===ee.type)?(ee=b(ee,ie.props),Gu(ee,ie),ee.return=se,ee):(ee=lp(ie.type,ie.key,ie.props,null,se.mode,ge),Gu(ee,ie),ee.return=se,ee)}function le(se,ee,ie,ge){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ie.containerInfo||ee.stateNode.implementation!==ie.implementation?(ee=y1(ie,se.mode,ge),ee.return=se,ee):(ee=b(ee,ie.children||[]),ee.return=se,ee)}function me(se,ee,ie,ge,Ye){return ee===null||ee.tag!==7?(ee=xl(ie,se.mode,ge,Ye),ee.return=se,ee):(ee=b(ee,ie),ee.return=se,ee)}function ye(se,ee,ie){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=g1(""+ee,se.mode,ie),ee.return=se,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return ie=lp(ee.type,ee.key,ee.props,null,se.mode,ie),Gu(ie,ee),ie.return=se,ie;case x:return ee=y1(ee,se.mode,ie),ee.return=se,ee;case H:return ee=Nl(ee),ye(se,ee,ie)}if(q(ee)||F(ee))return ee=xl(ee,se.mode,ie,null),ee.return=se,ee;if(typeof ee.then=="function")return ye(se,pp(ee),ie);if(ee.$$typeof===E)return ye(se,up(se,ee),ie);mp(se,ee)}return null}function ue(se,ee,ie,ge){var Ye=ee!==null?ee.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ye!==null?null:I(se,ee,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case y:return ie.key===Ye?X(se,ee,ie,ge):null;case x:return ie.key===Ye?le(se,ee,ie,ge):null;case H:return ie=Nl(ie),ue(se,ee,ie,ge)}if(q(ie)||F(ie))return Ye!==null?null:me(se,ee,ie,ge,null);if(typeof ie.then=="function")return ue(se,ee,pp(ie),ge);if(ie.$$typeof===E)return ue(se,ee,up(se,ie),ge);mp(se,ie)}return null}function he(se,ee,ie,ge,Ye){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return se=se.get(ie)||null,I(ee,se,""+ge,Ye);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:return se=se.get(ge.key===null?ie:ge.key)||null,X(ee,se,ge,Ye);case x:return se=se.get(ge.key===null?ie:ge.key)||null,le(ee,se,ge,Ye);case H:return ge=Nl(ge),he(se,ee,ie,ge,Ye)}if(q(ge)||F(ge))return se=se.get(ie)||null,me(ee,se,ge,Ye,null);if(typeof ge.then=="function")return he(se,ee,ie,pp(ge),Ye);if(ge.$$typeof===E)return he(se,ee,ie,up(ee,ge),Ye);mp(ee,ge)}return null}function Ue(se,ee,ie,ge){for(var Ye=null,jt=null,qe=ee,ft=ee=0,Ct=null;qe!==null&&ft<ie.length;ft++){qe.index>ft?(Ct=qe,qe=null):Ct=qe.sibling;var Tt=ue(se,qe,ie[ft],ge);if(Tt===null){qe===null&&(qe=Ct);break}i&&qe&&Tt.alternate===null&&l(se,qe),ee=_(Tt,ee,ft),jt===null?Ye=Tt:jt.sibling=Tt,jt=Tt,qe=Ct}if(ft===ie.length)return u(se,qe),Nt&&Ri(se,ft),Ye;if(qe===null){for(;ft<ie.length;ft++)qe=ye(se,ie[ft],ge),qe!==null&&(ee=_(qe,ee,ft),jt===null?Ye=qe:jt.sibling=qe,jt=qe);return Nt&&Ri(se,ft),Ye}for(qe=p(qe);ft<ie.length;ft++)Ct=he(qe,se,ft,ie[ft],ge),Ct!==null&&(i&&Ct.alternate!==null&&qe.delete(Ct.key===null?ft:Ct.key),ee=_(Ct,ee,ft),jt===null?Ye=Ct:jt.sibling=Ct,jt=Ct);return i&&qe.forEach(function(Pa){return l(se,Pa)}),Nt&&Ri(se,ft),Ye}function Ze(se,ee,ie,ge){if(ie==null)throw Error(s(151));for(var Ye=null,jt=null,qe=ee,ft=ee=0,Ct=null,Tt=ie.next();qe!==null&&!Tt.done;ft++,Tt=ie.next()){qe.index>ft?(Ct=qe,qe=null):Ct=qe.sibling;var Pa=ue(se,qe,Tt.value,ge);if(Pa===null){qe===null&&(qe=Ct);break}i&&qe&&Pa.alternate===null&&l(se,qe),ee=_(Pa,ee,ft),jt===null?Ye=Pa:jt.sibling=Pa,jt=Pa,qe=Ct}if(Tt.done)return u(se,qe),Nt&&Ri(se,ft),Ye;if(qe===null){for(;!Tt.done;ft++,Tt=ie.next())Tt=ye(se,Tt.value,ge),Tt!==null&&(ee=_(Tt,ee,ft),jt===null?Ye=Tt:jt.sibling=Tt,jt=Tt);return Nt&&Ri(se,ft),Ye}for(qe=p(qe);!Tt.done;ft++,Tt=ie.next())Tt=he(qe,se,ft,Tt.value,ge),Tt!==null&&(i&&Tt.alternate!==null&&qe.delete(Tt.key===null?ft:Tt.key),ee=_(Tt,ee,ft),jt===null?Ye=Tt:jt.sibling=Tt,jt=Tt);return i&&qe.forEach(function(WL){return l(se,WL)}),Nt&&Ri(se,ft),Ye}function Vt(se,ee,ie,ge){if(typeof ie=="object"&&ie!==null&&ie.type===w&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case y:e:{for(var Ye=ie.key;ee!==null;){if(ee.key===Ye){if(Ye=ie.type,Ye===w){if(ee.tag===7){u(se,ee.sibling),ge=b(ee,ie.props.children),ge.return=se,se=ge;break e}}else if(ee.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===H&&Nl(Ye)===ee.type){u(se,ee.sibling),ge=b(ee,ie.props),Gu(ge,ie),ge.return=se,se=ge;break e}u(se,ee);break}else l(se,ee);ee=ee.sibling}ie.type===w?(ge=xl(ie.props.children,se.mode,ge,ie.key),ge.return=se,se=ge):(ge=lp(ie.type,ie.key,ie.props,null,se.mode,ge),Gu(ge,ie),ge.return=se,se=ge)}return N(se);case x:e:{for(Ye=ie.key;ee!==null;){if(ee.key===Ye)if(ee.tag===4&&ee.stateNode.containerInfo===ie.containerInfo&&ee.stateNode.implementation===ie.implementation){u(se,ee.sibling),ge=b(ee,ie.children||[]),ge.return=se,se=ge;break e}else{u(se,ee);break}else l(se,ee);ee=ee.sibling}ge=y1(ie,se.mode,ge),ge.return=se,se=ge}return N(se);case H:return ie=Nl(ie),Vt(se,ee,ie,ge)}if(q(ie))return Ue(se,ee,ie,ge);if(F(ie)){if(Ye=F(ie),typeof Ye!="function")throw Error(s(150));return ie=Ye.call(ie),Ze(se,ee,ie,ge)}if(typeof ie.then=="function")return Vt(se,ee,pp(ie),ge);if(ie.$$typeof===E)return Vt(se,ee,up(se,ie),ge);mp(se,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,ee!==null&&ee.tag===6?(u(se,ee.sibling),ge=b(ee,ie),ge.return=se,se=ge):(u(se,ee),ge=g1(ie,se.mode,ge),ge.return=se,se=ge),N(se)):u(se,ee)}return function(se,ee,ie,ge){try{Ku=0;var Ye=Vt(se,ee,ie,ge);return Yo=null,Ye}catch(qe){if(qe===Go||qe===dp)throw qe;var jt=Gs(29,qe,null,se.mode);return jt.lanes=ge,jt.return=se,jt}}}var El=AC(!0),EC=AC(!1),xa=!1;function j1(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function T1(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function wa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Sa(i,l,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Dt&2)!==0){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,l=ap(i),hC(i,null,u),l}return ip(i,p,l,u),ap(i)}function Yu(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var p=l.lanes;p&=i.pendingLanes,u|=p,l.lanes=u,bk(i,u)}}function R1(i,l){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var b=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?b=_=N:_=_.next=N,u=u.next}while(u!==null);_===null?b=_=l:_=_.next=l}else b=_=l;u={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var O1=!1;function Xu(){if(O1){var i=Ko;if(i!==null)throw i}}function Ju(i,l,u,p){O1=!1;var b=i.updateQueue;xa=!1;var _=b.firstBaseUpdate,N=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var X=I,le=X.next;X.next=null,N===null?_=le:N.next=le,N=X;var me=i.alternate;me!==null&&(me=me.updateQueue,I=me.lastBaseUpdate,I!==N&&(I===null?me.firstBaseUpdate=le:I.next=le,me.lastBaseUpdate=X))}if(_!==null){var ye=b.baseState;N=0,me=le=X=null,I=_;do{var ue=I.lane&-536870913,he=ue!==I.lane;if(he?(kt&ue)===ue:(p&ue)===ue){ue!==0&&ue===Wo&&(O1=!0),me!==null&&(me=me.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ue=i,Ze=I;ue=l;var Vt=u;switch(Ze.tag){case 1:if(Ue=Ze.payload,typeof Ue=="function"){ye=Ue.call(Vt,ye,ue);break e}ye=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ze.payload,ue=typeof Ue=="function"?Ue.call(Vt,ye,ue):Ue,ue==null)break e;ye=m({},ye,ue);break e;case 2:xa=!0}}ue=I.callback,ue!==null&&(i.flags|=64,he&&(i.flags|=8192),he=b.callbacks,he===null?b.callbacks=[ue]:he.push(ue))}else he={lane:ue,tag:I.tag,payload:I.payload,callback:I.callback,next:null},me===null?(le=me=he,X=ye):me=me.next=he,N|=ue;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;he=I,I=he.next,he.next=null,b.lastBaseUpdate=he,b.shared.pending=null}}while(!0);me===null&&(X=ye),b.baseState=X,b.firstBaseUpdate=le,b.lastBaseUpdate=me,_===null&&(b.shared.lanes=0),Ea|=N,i.lanes=N,i.memoizedState=ye}}function jC(i,l){if(typeof i!="function")throw Error(s(191,i));i.call(l)}function TC(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)jC(u[i],l)}var Xo=O(null),gp=O(0);function RC(i,l){i=Ui,A(gp,i),A(Xo,l),Ui=i|l.baseLanes}function B1(){A(gp,Ui),A(Xo,Xo.current)}function M1(){Ui=gp.current,V(Xo),V(gp)}var Ys=O(null),wr=null;function ka(i){var l=i.alternate;A(dn,dn.current&1),A(Ys,i),wr===null&&(l===null||Xo.current!==null||l.memoizedState!==null)&&(wr=i)}function D1(i){A(dn,dn.current),A(Ys,i),wr===null&&(wr=i)}function OC(i){i.tag===22?(A(dn,dn.current),A(Ys,i),wr===null&&(wr=i)):Ca()}function Ca(){A(dn,dn.current),A(Ys,Ys.current)}function Xs(i){V(Ys),wr===i&&(wr=null),V(dn)}var dn=O(0);function yp(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Hv(u)||Uv(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Mi=0,ct=null,Ht=null,_n=null,vp=!1,Jo=!1,jl=!1,bp=0,Qu=0,Qo=null,L8=0;function on(){throw Error(s(321))}function L1(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!Ks(i[u],l[u]))return!1;return!0}function I1(i,l,u,p,b,_){return Mi=_,ct=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,L.H=i===null||i.memoizedState===null?mN:Q1,jl=!1,_=u(p,b),jl=!1,Jo&&(_=MC(l,u,p,b)),BC(i),_}function BC(i){L.H=th;var l=Ht!==null&&Ht.next!==null;if(Mi=0,_n=Ht=ct=null,vp=!1,Qu=0,Qo=null,l)throw Error(s(300));i===null||xn||(i=i.dependencies,i!==null&&cp(i)&&(xn=!0))}function MC(i,l,u,p){ct=i;var b=0;do{if(Jo&&(Qo=null),Qu=0,Jo=!1,25<=b)throw Error(s(301));if(b+=1,_n=Ht=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}L.H=gN,_=l(u,p)}while(Jo);return _}function I8(){var i=L.H,l=i.useState()[0];return l=typeof l.then=="function"?Zu(l):l,i=i.useState()[0],(Ht!==null?Ht.memoizedState:null)!==i&&(ct.flags|=1024),l}function P1(){var i=bp!==0;return bp=0,i}function z1(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function $1(i){if(vp){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}vp=!1}Mi=0,_n=Ht=ct=null,Jo=!1,Qu=bp=0,Qo=null}function gs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?ct.memoizedState=_n=i:_n=_n.next=i,_n}function fn(){if(Ht===null){var i=ct.alternate;i=i!==null?i.memoizedState:null}else i=Ht.next;var l=_n===null?ct.memoizedState:_n.next;if(l!==null)_n=l,Ht=i;else{if(i===null)throw ct.alternate===null?Error(s(467)):Error(s(310));Ht=i,i={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},_n===null?ct.memoizedState=_n=i:_n=_n.next=i}return _n}function _p(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zu(i){var l=Qu;return Qu+=1,Qo===null&&(Qo=[]),i=kC(Qo,i,l),l=ct,(_n===null?l.memoizedState:_n.next)===null&&(l=l.alternate,L.H=l===null||l.memoizedState===null?mN:Q1),i}function xp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zu(i);if(i.$$typeof===E)return Yn(i)}throw Error(s(438,String(i)))}function H1(i){var l=null,u=ct.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var p=ct.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=_p(),ct.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),p=0;p<i;p++)u[p]=z;return l.index++,u}function Di(i,l){return typeof l=="function"?l(i):l}function wp(i){var l=fn();return U1(l,Ht,i)}function U1(i,l,u){var p=i.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=u;var b=i.baseQueue,_=p.pending;if(_!==null){if(b!==null){var N=b.next;b.next=_.next,_.next=N}l.baseQueue=b=_,p.pending=null}if(_=i.baseState,b===null)i.memoizedState=_;else{l=b.next;var I=N=null,X=null,le=l,me=!1;do{var ye=le.lane&-536870913;if(ye!==le.lane?(kt&ye)===ye:(Mi&ye)===ye){var ue=le.revertLane;if(ue===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),ye===Wo&&(me=!0);else if((Mi&ue)===ue){le=le.next,ue===Wo&&(me=!0);continue}else ye={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(I=X=ye,N=_):X=X.next=ye,ct.lanes|=ue,Ea|=ue;ye=le.action,jl&&u(_,ye),_=le.hasEagerState?le.eagerState:u(_,ye)}else ue={lane:ye,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(I=X=ue,N=_):X=X.next=ue,ct.lanes|=ye,Ea|=ye;le=le.next}while(le!==null&&le!==l);if(X===null?N=_:X.next=I,!Ks(_,i.memoizedState)&&(xn=!0,me&&(u=Ko,u!==null)))throw u;i.memoizedState=_,i.baseState=N,i.baseQueue=X,p.lastRenderedState=_}return b===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function V1(i){var l=fn(),u=l.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=i;var p=u.dispatch,b=u.pending,_=l.memoizedState;if(b!==null){u.pending=null;var N=b=b.next;do _=i(_,N.action),N=N.next;while(N!==b);Ks(_,l.memoizedState)||(xn=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),u.lastRenderedState=_}return[_,p]}function DC(i,l,u){var p=ct,b=fn(),_=Nt;if(_){if(u===void 0)throw Error(s(407));u=u()}else u=l();var N=!Ks((Ht||b).memoizedState,u);if(N&&(b.memoizedState=u,xn=!0),b=b.queue,W1(PC.bind(null,p,b,i),[i]),b.getSnapshot!==l||N||_n!==null&&_n.memoizedState.tag&1){if(p.flags|=2048,Zo(9,{destroy:void 0},IC.bind(null,p,b,u,l),null),qt===null)throw Error(s(349));_||(Mi&127)!==0||LC(p,l,u)}return u}function LC(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=ct.updateQueue,l===null?(l=_p(),ct.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function IC(i,l,u,p){l.value=u,l.getSnapshot=p,zC(l)&&$C(i)}function PC(i,l,u){return u(function(){zC(l)&&$C(i)})}function zC(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!Ks(i,u)}catch{return!0}}function $C(i){var l=_l(i,2);l!==null&&Ls(l,i,2)}function F1(i){var l=gs();if(typeof i=="function"){var u=i;if(i=u(),jl){Se(!0);try{u()}finally{Se(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:i},l}function HC(i,l,u,p){return i.baseState=u,U1(i,Ht,typeof p=="function"?p:Di)}function P8(i,l,u,p,b){if(Cp(i))throw Error(s(485));if(i=l.action,i!==null){var _={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};L.T!==null?u(!0):_.isTransition=!1,p(_),u=l.pending,u===null?(_.next=l.pending=_,UC(l,_)):(_.next=u.next,l.pending=u.next=_)}}function UC(i,l){var u=l.action,p=l.payload,b=i.state;if(l.isTransition){var _=L.T,N={};L.T=N;try{var I=u(b,p),X=L.S;X!==null&&X(N,I),VC(i,l,I)}catch(le){q1(i,l,le)}finally{_!==null&&N.types!==null&&(_.types=N.types),L.T=_}}else try{_=u(b,p),VC(i,l,_)}catch(le){q1(i,l,le)}}function VC(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){FC(i,l,p)},function(p){return q1(i,l,p)}):FC(i,l,u)}function FC(i,l,u){l.status="fulfilled",l.value=u,qC(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,UC(i,u)))}function q1(i,l,u){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=u,qC(l),l=l.next;while(l!==p)}i.action=null}function qC(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function WC(i,l){return l}function KC(i,l){if(Nt){var u=qt.formState;if(u!==null){e:{var p=ct;if(Nt){if(Yt){t:{for(var b=Yt,_=xr;b.nodeType!==8;){if(!_){b=null;break t}if(b=Sr(b.nextSibling),b===null){b=null;break t}}_=b.data,b=_==="F!"||_==="F"?b:null}if(b){Yt=Sr(b.nextSibling),p=b.data==="F!";break e}}ba(p)}p=!1}p&&(l=u[0])}}return u=gs(),u.memoizedState=u.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:WC,lastRenderedState:l},u.queue=p,u=dN.bind(null,ct,p),p.dispatch=u,p=F1(!1),_=J1.bind(null,ct,!1,p.queue),p=gs(),b={state:l,dispatch:null,action:i,pending:null},p.queue=b,u=P8.bind(null,ct,b,_,u),b.dispatch=u,p.memoizedState=i,[l,u,!1]}function GC(i){var l=fn();return YC(l,Ht,i)}function YC(i,l,u){if(l=U1(i,l,WC)[0],i=wp(Di)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Zu(l)}catch(N){throw N===Go?dp:N}else p=l;l=fn();var b=l.queue,_=b.dispatch;return u!==l.memoizedState&&(ct.flags|=2048,Zo(9,{destroy:void 0},z8.bind(null,b,u),null)),[p,_,i]}function z8(i,l){i.action=l}function XC(i){var l=fn(),u=Ht;if(u!==null)return YC(l,u,i);fn(),l=l.memoizedState,u=fn();var p=u.queue.dispatch;return u.memoizedState=i,[l,p,!1]}function Zo(i,l,u,p){return i={tag:i,create:u,deps:p,inst:l,next:null},l=ct.updateQueue,l===null&&(l=_p(),ct.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,l.lastEffect=i),i}function JC(){return fn().memoizedState}function Sp(i,l,u,p){var b=gs();ct.flags|=i,b.memoizedState=Zo(1|l,{destroy:void 0},u,p===void 0?null:p)}function kp(i,l,u,p){var b=fn();p=p===void 0?null:p;var _=b.memoizedState.inst;Ht!==null&&p!==null&&L1(p,Ht.memoizedState.deps)?b.memoizedState=Zo(l,_,u,p):(ct.flags|=i,b.memoizedState=Zo(1|l,_,u,p))}function QC(i,l){Sp(8390656,8,i,l)}function W1(i,l){kp(2048,8,i,l)}function $8(i){ct.flags|=4;var l=ct.updateQueue;if(l===null)l=_p(),ct.updateQueue=l,l.events=[i];else{var u=l.events;u===null?l.events=[i]:u.push(i)}}function ZC(i){var l=fn().memoizedState;return $8({ref:l,nextImpl:i}),function(){if((Dt&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}function eN(i,l){return kp(4,2,i,l)}function tN(i,l){return kp(4,4,i,l)}function nN(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function sN(i,l,u){u=u!=null?u.concat([i]):null,kp(4,4,nN.bind(null,l,i),u)}function K1(){}function rN(i,l){var u=fn();l=l===void 0?null:l;var p=u.memoizedState;return l!==null&&L1(l,p[1])?p[0]:(u.memoizedState=[i,l],i)}function iN(i,l){var u=fn();l=l===void 0?null:l;var p=u.memoizedState;if(l!==null&&L1(l,p[1]))return p[0];if(p=i(),jl){Se(!0);try{i()}finally{Se(!1)}}return u.memoizedState=[p,l],p}function G1(i,l,u){return u===void 0||(Mi&1073741824)!==0&&(kt&261930)===0?i.memoizedState=l:(i.memoizedState=u,i=a4(),ct.lanes|=i,Ea|=i,u)}function aN(i,l,u,p){return Ks(u,l)?u:Xo.current!==null?(i=G1(i,u,p),Ks(i,l)||(xn=!0),i):(Mi&42)===0||(Mi&1073741824)!==0&&(kt&261930)===0?(xn=!0,i.memoizedState=u):(i=a4(),ct.lanes|=i,Ea|=i,l)}function lN(i,l,u,p,b){var _=G.p;G.p=_!==0&&8>_?_:8;var N=L.T,I={};L.T=I,J1(i,!1,l,u);try{var X=b(),le=L.S;if(le!==null&&le(I,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var me=D8(X,p);eh(i,l,me,Zs(i))}else eh(i,l,p,Zs(i))}catch(ye){eh(i,l,{then:function(){},status:"rejected",reason:ye},Zs())}finally{G.p=_,N!==null&&I.types!==null&&(N.types=I.types),L.T=N}}function H8(){}function Y1(i,l,u,p){if(i.tag!==5)throw Error(s(476));var b=oN(i).queue;lN(i,b,l,U,u===null?H8:function(){return cN(i),u(p)})}function oN(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:U},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function cN(i){var l=oN(i);l.next===null&&(l=i.alternate.memoizedState),eh(i,l.next.queue,{},Zs())}function X1(){return Yn(yh)}function uN(){return fn().memoizedState}function hN(){return fn().memoizedState}function U8(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=Zs();i=wa(u);var p=Sa(l,i,u);p!==null&&(Ls(p,l,u),Yu(p,l,u)),l={cache:C1()},i.payload=l;return}l=l.return}}function V8(i,l,u){var p=Zs();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Cp(i)?fN(l,u):(u=p1(i,l,u,p),u!==null&&(Ls(u,i,p),pN(u,l,p)))}function dN(i,l,u){var p=Zs();eh(i,l,u,p)}function eh(i,l,u,p){var b={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Cp(i))fN(l,b);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var N=l.lastRenderedState,I=_(N,u);if(b.hasEagerState=!0,b.eagerState=I,Ks(I,N))return ip(i,l,b,0),qt===null&&rp(),!1}catch{}if(u=p1(i,l,b,p),u!==null)return Ls(u,i,p),pN(u,l,p),!0}return!1}function J1(i,l,u,p){if(p={lane:2,revertLane:jv(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Cp(i)){if(l)throw Error(s(479))}else l=p1(i,u,p,2),l!==null&&Ls(l,i,2)}function Cp(i){var l=i.alternate;return i===ct||l!==null&&l===ct}function fN(i,l){Jo=vp=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function pN(i,l,u){if((u&4194048)!==0){var p=l.lanes;p&=i.pendingLanes,u|=p,l.lanes=u,bk(i,u)}}var th={readContext:Yn,use:xp,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};th.useEffectEvent=on;var mN={readContext:Yn,use:xp,useCallback:function(i,l){return gs().memoizedState=[i,l===void 0?null:l],i},useContext:Yn,useEffect:QC,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,Sp(4194308,4,nN.bind(null,l,i),u)},useLayoutEffect:function(i,l){return Sp(4194308,4,i,l)},useInsertionEffect:function(i,l){Sp(4,2,i,l)},useMemo:function(i,l){var u=gs();l=l===void 0?null:l;var p=i();if(jl){Se(!0);try{i()}finally{Se(!1)}}return u.memoizedState=[p,l],p},useReducer:function(i,l,u){var p=gs();if(u!==void 0){var b=u(l);if(jl){Se(!0);try{u(l)}finally{Se(!1)}}}else b=l;return p.memoizedState=p.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},p.queue=i,i=i.dispatch=V8.bind(null,ct,i),[p.memoizedState,i]},useRef:function(i){var l=gs();return i={current:i},l.memoizedState=i},useState:function(i){i=F1(i);var l=i.queue,u=dN.bind(null,ct,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:K1,useDeferredValue:function(i,l){var u=gs();return G1(u,i,l)},useTransition:function(){var i=F1(!1);return i=lN.bind(null,ct,i.queue,!0,!1),gs().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var p=ct,b=gs();if(Nt){if(u===void 0)throw Error(s(407));u=u()}else{if(u=l(),qt===null)throw Error(s(349));(kt&127)!==0||LC(p,l,u)}b.memoizedState=u;var _={value:u,getSnapshot:l};return b.queue=_,QC(PC.bind(null,p,_,i),[i]),p.flags|=2048,Zo(9,{destroy:void 0},IC.bind(null,p,_,u,l),null),u},useId:function(){var i=gs(),l=qt.identifierPrefix;if(Nt){var u=ti,p=ei;u=(p&~(1<<32-Re(p)-1)).toString(32)+u,l="_"+l+"R_"+u,u=bp++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=L8++,l="_"+l+"r_"+u.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:X1,useFormState:KC,useActionState:KC,useOptimistic:function(i){var l=gs();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=J1.bind(null,ct,!0,u),u.dispatch=l,[i,l]},useMemoCache:H1,useCacheRefresh:function(){return gs().memoizedState=U8.bind(null,ct)},useEffectEvent:function(i){var l=gs(),u={impl:i};return l.memoizedState=u,function(){if((Dt&2)!==0)throw Error(s(440));return u.impl.apply(void 0,arguments)}}},Q1={readContext:Yn,use:xp,useCallback:rN,useContext:Yn,useEffect:W1,useImperativeHandle:sN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:iN,useReducer:wp,useRef:JC,useState:function(){return wp(Di)},useDebugValue:K1,useDeferredValue:function(i,l){var u=fn();return aN(u,Ht.memoizedState,i,l)},useTransition:function(){var i=wp(Di)[0],l=fn().memoizedState;return[typeof i=="boolean"?i:Zu(i),l]},useSyncExternalStore:DC,useId:uN,useHostTransitionStatus:X1,useFormState:GC,useActionState:GC,useOptimistic:function(i,l){var u=fn();return HC(u,Ht,i,l)},useMemoCache:H1,useCacheRefresh:hN};Q1.useEffectEvent=ZC;var gN={readContext:Yn,use:xp,useCallback:rN,useContext:Yn,useEffect:W1,useImperativeHandle:sN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:iN,useReducer:V1,useRef:JC,useState:function(){return V1(Di)},useDebugValue:K1,useDeferredValue:function(i,l){var u=fn();return Ht===null?G1(u,i,l):aN(u,Ht.memoizedState,i,l)},useTransition:function(){var i=V1(Di)[0],l=fn().memoizedState;return[typeof i=="boolean"?i:Zu(i),l]},useSyncExternalStore:DC,useId:uN,useHostTransitionStatus:X1,useFormState:XC,useActionState:XC,useOptimistic:function(i,l){var u=fn();return Ht!==null?HC(u,Ht,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:H1,useCacheRefresh:hN};gN.useEffectEvent=ZC;function Z1(i,l,u,p){l=i.memoizedState,u=u(p,l),u=u==null?l:m({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ev={enqueueSetState:function(i,l,u){i=i._reactInternals;var p=Zs(),b=wa(p);b.payload=l,u!=null&&(b.callback=u),l=Sa(i,b,p),l!==null&&(Ls(l,i,p),Yu(l,i,p))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var p=Zs(),b=wa(p);b.tag=1,b.payload=l,u!=null&&(b.callback=u),l=Sa(i,b,p),l!==null&&(Ls(l,i,p),Yu(l,i,p))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=Zs(),p=wa(u);p.tag=2,l!=null&&(p.callback=l),l=Sa(i,p,u),l!==null&&(Ls(l,i,u),Yu(l,i,u))}};function yN(i,l,u,p,b,_,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,_,N):l.prototype&&l.prototype.isPureReactComponent?!Hu(u,p)||!Hu(b,_):!0}function vN(i,l,u,p){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,p),l.state!==i&&ev.enqueueReplaceState(l,l.state,null)}function Tl(i,l){var u=l;if("ref"in l){u={};for(var p in l)p!=="ref"&&(u[p]=l[p])}if(i=i.defaultProps){u===l&&(u=m({},u));for(var b in i)u[b]===void 0&&(u[b]=i[b])}return u}function bN(i){sp(i)}function _N(i){console.error(i)}function xN(i){sp(i)}function Np(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function wN(i,l,u){try{var p=i.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function tv(i,l,u){return u=wa(u),u.tag=3,u.payload={element:null},u.callback=function(){Np(i,l)},u}function SN(i){return i=wa(i),i.tag=3,i}function kN(i,l,u,p){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var _=p.value;i.payload=function(){return b(_)},i.callback=function(){wN(l,u,p)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(i.callback=function(){wN(l,u,p),typeof b!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function F8(i,l,u,p,b){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=u.alternate,l!==null&&qo(l,u,b,!0),u=Ys.current,u!==null){switch(u.tag){case 31:case 13:return wr===null?Pp():u.alternate===null&&cn===0&&(cn=3),u.flags&=-257,u.flags|=65536,u.lanes=b,p===fp?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([p]):l.add(p),Nv(i,p,b)),!1;case 22:return u.flags|=65536,p===fp?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([p]):u.add(p)),Nv(i,p,b)),!1}throw Error(s(435,u.tag))}return Nv(i,p,b),Pp(),!1}if(Nt)return l=Ys.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,p!==_1&&(i=Error(s(422),{cause:p}),Fu(vr(i,u)))):(p!==_1&&(l=Error(s(423),{cause:p}),Fu(vr(l,u))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,p=vr(p,u),b=tv(i.stateNode,p,b),R1(i,b),cn!==4&&(cn=2)),!1;var _=Error(s(520),{cause:p});if(_=vr(_,u),ch===null?ch=[_]:ch.push(_),cn!==4&&(cn=2),l===null)return!0;p=vr(p,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=b&-b,u.lanes|=i,i=tv(u.stateNode,p,i),R1(u,i),!1;case 1:if(l=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ja===null||!ja.has(_))))return u.flags|=65536,b&=-b,u.lanes|=b,b=SN(b),kN(b,i,u,p),R1(u,b),!1}u=u.return}while(u!==null);return!1}var nv=Error(s(461)),xn=!1;function Xn(i,l,u,p){l.child=i===null?EC(l,null,u,p):El(l,i.child,u,p)}function CN(i,l,u,p,b){u=u.render;var _=l.ref;if("ref"in p){var N={};for(var I in p)I!=="ref"&&(N[I]=p[I])}else N=p;return kl(l),p=I1(i,l,u,N,_,b),I=P1(),i!==null&&!xn?(z1(i,l,b),Li(i,l,b)):(Nt&&I&&v1(l),l.flags|=1,Xn(i,l,p,b),l.child)}function NN(i,l,u,p,b){if(i===null){var _=u.type;return typeof _=="function"&&!m1(_)&&_.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=_,AN(i,l,_,p,b)):(i=lp(u.type,null,p,l,l.mode,b),i.ref=l.ref,i.return=l,l.child=i)}if(_=i.child,!uv(i,b)){var N=_.memoizedProps;if(u=u.compare,u=u!==null?u:Hu,u(N,p)&&i.ref===l.ref)return Li(i,l,b)}return l.flags|=1,i=Ti(_,p),i.ref=l.ref,i.return=l,l.child=i}function AN(i,l,u,p,b){if(i!==null){var _=i.memoizedProps;if(Hu(_,p)&&i.ref===l.ref)if(xn=!1,l.pendingProps=p=_,uv(i,b))(i.flags&131072)!==0&&(xn=!0);else return l.lanes=i.lanes,Li(i,l,b)}return sv(i,l,u,p,b)}function EN(i,l,u,p){var b=p.children,_=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,i!==null){for(p=l.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~_}else p=0,l.child=null;return jN(i,l,_,u,p)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&hp(l,_!==null?_.cachePool:null),_!==null?RC(l,_):B1(),OC(l);else return p=l.lanes=536870912,jN(i,l,_!==null?_.baseLanes|u:u,u,p)}else _!==null?(hp(l,_.cachePool),RC(l,_),Ca(),l.memoizedState=null):(i!==null&&hp(l,null),B1(),Ca());return Xn(i,l,b,u),l.child}function nh(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function jN(i,l,u,p,b){var _=A1();return _=_===null?null:{parent:bn._currentValue,pool:_},l.memoizedState={baseLanes:u,cachePool:_},i!==null&&hp(l,null),B1(),OC(l),i!==null&&qo(i,l,p,!0),l.childLanes=b,null}function Ap(i,l){return l=jp({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function TN(i,l,u){return El(l,i.child,null,u),i=Ap(l,l.pendingProps),i.flags|=2,Xs(l),l.memoizedState=null,i}function q8(i,l,u){var p=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(Nt){if(p.mode==="hidden")return i=Ap(l,p),l.lanes=536870912,nh(null,i);if(D1(l),(i=Yt)?(i=U4(i,xr),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:ya!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},u=fC(i),u.return=l,l.child=u,Gn=l,Yt=null)):i=null,i===null)throw ba(l);return l.lanes=536870912,null}return Ap(l,p)}var _=i.memoizedState;if(_!==null){var N=_.dehydrated;if(D1(l),b)if(l.flags&256)l.flags&=-257,l=TN(i,l,u);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(s(558));else if(xn||qo(i,l,u,!1),b=(u&i.childLanes)!==0,xn||b){if(p=qt,p!==null&&(N=_k(p,u),N!==0&&N!==_.retryLane))throw _.retryLane=N,_l(i,N),Ls(p,i,N),nv;Pp(),l=TN(i,l,u)}else i=_.treeContext,Yt=Sr(N.nextSibling),Gn=l,Nt=!0,va=null,xr=!1,i!==null&&gC(l,i),l=Ap(l,p),l.flags|=4096;return l}return i=Ti(i.child,{mode:p.mode,children:p.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Ep(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function sv(i,l,u,p,b){return kl(l),u=I1(i,l,u,p,void 0,b),p=P1(),i!==null&&!xn?(z1(i,l,b),Li(i,l,b)):(Nt&&p&&v1(l),l.flags|=1,Xn(i,l,u,b),l.child)}function RN(i,l,u,p,b,_){return kl(l),l.updateQueue=null,u=MC(l,p,u,b),BC(i),p=P1(),i!==null&&!xn?(z1(i,l,_),Li(i,l,_)):(Nt&&p&&v1(l),l.flags|=1,Xn(i,l,u,_),l.child)}function ON(i,l,u,p,b){if(kl(l),l.stateNode===null){var _=Ho,N=u.contextType;typeof N=="object"&&N!==null&&(_=Yn(N)),_=new u(p,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=ev,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=p,_.state=l.memoizedState,_.refs={},j1(l),N=u.contextType,_.context=typeof N=="object"&&N!==null?Yn(N):Ho,_.state=l.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(Z1(l,u,N,p),_.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&ev.enqueueReplaceState(_,_.state,null),Ju(l,p,_,b),Xu(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(i===null){_=l.stateNode;var I=l.memoizedProps,X=Tl(u,I);_.props=X;var le=_.context,me=u.contextType;N=Ho,typeof me=="object"&&me!==null&&(N=Yn(me));var ye=u.getDerivedStateFromProps;me=typeof ye=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=l.pendingProps!==I,me||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||le!==N)&&vN(l,_,p,N),xa=!1;var ue=l.memoizedState;_.state=ue,Ju(l,p,_,b),Xu(),le=l.memoizedState,I||ue!==le||xa?(typeof ye=="function"&&(Z1(l,u,ye,p),le=l.memoizedState),(X=xa||yN(l,u,X,p,ue,le,N))?(me||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=le),_.props=p,_.state=le,_.context=N,p=X):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{_=l.stateNode,T1(i,l),N=l.memoizedProps,me=Tl(u,N),_.props=me,ye=l.pendingProps,ue=_.context,le=u.contextType,X=Ho,typeof le=="object"&&le!==null&&(X=Yn(le)),I=u.getDerivedStateFromProps,(le=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==ye||ue!==X)&&vN(l,_,p,X),xa=!1,ue=l.memoizedState,_.state=ue,Ju(l,p,_,b),Xu();var he=l.memoizedState;N!==ye||ue!==he||xa||i!==null&&i.dependencies!==null&&cp(i.dependencies)?(typeof I=="function"&&(Z1(l,u,I,p),he=l.memoizedState),(me=xa||yN(l,u,me,p,ue,he,X)||i!==null&&i.dependencies!==null&&cp(i.dependencies))?(le||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,he,X),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,he,X)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===i.memoizedProps&&ue===i.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ue===i.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=he),_.props=p,_.state=he,_.context=X,p=me):(typeof _.componentDidUpdate!="function"||N===i.memoizedProps&&ue===i.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ue===i.memoizedState||(l.flags|=1024),p=!1)}return _=p,Ep(i,l),p=(l.flags&128)!==0,_||p?(_=l.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,i!==null&&p?(l.child=El(l,i.child,null,b),l.child=El(l,null,u,b)):Xn(i,l,u,b),l.memoizedState=_.state,i=l.child):i=Li(i,l,b),i}function BN(i,l,u,p){return wl(),l.flags|=256,Xn(i,l,u,p),l.child}var rv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iv(i){return{baseLanes:i,cachePool:wC()}}function av(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=Qs),i}function MN(i,l,u){var p=l.pendingProps,b=!1,_=(l.flags&128)!==0,N;if((N=_)||(N=i!==null&&i.memoizedState===null?!1:(dn.current&2)!==0),N&&(b=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,i===null){if(Nt){if(b?ka(l):Ca(),(i=Yt)?(i=U4(i,xr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:ya!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},u=fC(i),u.return=l,l.child=u,Gn=l,Yt=null)):i=null,i===null)throw ba(l);return Uv(i)?l.lanes=32:l.lanes=536870912,null}var I=p.children;return p=p.fallback,b?(Ca(),b=l.mode,I=jp({mode:"hidden",children:I},b),p=xl(p,b,u,null),I.return=l,p.return=l,I.sibling=p,l.child=I,p=l.child,p.memoizedState=iv(u),p.childLanes=av(i,N,u),l.memoizedState=rv,nh(null,p)):(ka(l),lv(l,I))}var X=i.memoizedState;if(X!==null&&(I=X.dehydrated,I!==null)){if(_)l.flags&256?(ka(l),l.flags&=-257,l=ov(i,l,u)):l.memoizedState!==null?(Ca(),l.child=i.child,l.flags|=128,l=null):(Ca(),I=p.fallback,b=l.mode,p=jp({mode:"visible",children:p.children},b),I=xl(I,b,u,null),I.flags|=2,p.return=l,I.return=l,p.sibling=I,l.child=p,El(l,i.child,null,u),p=l.child,p.memoizedState=iv(u),p.childLanes=av(i,N,u),l.memoizedState=rv,l=nh(null,p));else if(ka(l),Uv(I)){if(N=I.nextSibling&&I.nextSibling.dataset,N)var le=N.dgst;N=le,p=Error(s(419)),p.stack="",p.digest=N,Fu({value:p,source:null,stack:null}),l=ov(i,l,u)}else if(xn||qo(i,l,u,!1),N=(u&i.childLanes)!==0,xn||N){if(N=qt,N!==null&&(p=_k(N,u),p!==0&&p!==X.retryLane))throw X.retryLane=p,_l(i,p),Ls(N,i,p),nv;Hv(I)||Pp(),l=ov(i,l,u)}else Hv(I)?(l.flags|=192,l.child=i.child,l=null):(i=X.treeContext,Yt=Sr(I.nextSibling),Gn=l,Nt=!0,va=null,xr=!1,i!==null&&gC(l,i),l=lv(l,p.children),l.flags|=4096);return l}return b?(Ca(),I=p.fallback,b=l.mode,X=i.child,le=X.sibling,p=Ti(X,{mode:"hidden",children:p.children}),p.subtreeFlags=X.subtreeFlags&65011712,le!==null?I=Ti(le,I):(I=xl(I,b,u,null),I.flags|=2),I.return=l,p.return=l,p.sibling=I,l.child=p,nh(null,p),p=l.child,I=i.child.memoizedState,I===null?I=iv(u):(b=I.cachePool,b!==null?(X=bn._currentValue,b=b.parent!==X?{parent:X,pool:X}:b):b=wC(),I={baseLanes:I.baseLanes|u,cachePool:b}),p.memoizedState=I,p.childLanes=av(i,N,u),l.memoizedState=rv,nh(i.child,p)):(ka(l),u=i.child,i=u.sibling,u=Ti(u,{mode:"visible",children:p.children}),u.return=l,u.sibling=null,i!==null&&(N=l.deletions,N===null?(l.deletions=[i],l.flags|=16):N.push(i)),l.child=u,l.memoizedState=null,u)}function lv(i,l){return l=jp({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function jp(i,l){return i=Gs(22,i,null,l),i.lanes=0,i}function ov(i,l,u){return El(l,i.child,null,u),i=lv(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function DN(i,l,u){i.lanes|=l;var p=i.alternate;p!==null&&(p.lanes|=l),S1(i.return,l,u)}function cv(i,l,u,p,b,_){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:b,treeForkCount:_}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=u,N.tailMode=b,N.treeForkCount=_)}function LN(i,l,u){var p=l.pendingProps,b=p.revealOrder,_=p.tail;p=p.children;var N=dn.current,I=(N&2)!==0;if(I?(N=N&1|2,l.flags|=128):N&=1,A(dn,N),Xn(i,l,p,u),p=Nt?Vu:0,!I&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&DN(i,u,l);else if(i.tag===19)DN(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(u=l.child,b=null;u!==null;)i=u.alternate,i!==null&&yp(i)===null&&(b=u),u=u.sibling;u=b,u===null?(b=l.child,l.child=null):(b=u.sibling,u.sibling=null),cv(l,!1,b,u,_,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=l.child,l.child=null;b!==null;){if(i=b.alternate,i!==null&&yp(i)===null){l.child=b;break}i=b.sibling,b.sibling=u,u=b,b=i}cv(l,!0,u,null,_,p);break;case"together":cv(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function Li(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),Ea|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(qo(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(s(153));if(l.child!==null){for(i=l.child,u=Ti(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Ti(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function uv(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&cp(i)))}function W8(i,l,u){switch(l.tag){case 3:xe(l,l.stateNode.containerInfo),_a(l,bn,i.memoizedState.cache),wl();break;case 27:case 5:et(l);break;case 4:xe(l,l.stateNode.containerInfo);break;case 10:_a(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,D1(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(ka(l),l.flags|=128,null):(u&l.child.childLanes)!==0?MN(i,l,u):(ka(l),i=Li(i,l,u),i!==null?i.sibling:null);ka(l);break;case 19:var b=(i.flags&128)!==0;if(p=(u&l.childLanes)!==0,p||(qo(i,l,u,!1),p=(u&l.childLanes)!==0),b){if(p)return LN(i,l,u);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),A(dn,dn.current),p)break;return null;case 22:return l.lanes=0,EN(i,l,u,l.pendingProps);case 24:_a(l,bn,i.memoizedState.cache)}return Li(i,l,u)}function IN(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)xn=!0;else{if(!uv(i,u)&&(l.flags&128)===0)return xn=!1,W8(i,l,u);xn=(i.flags&131072)!==0}else xn=!1,Nt&&(l.flags&1048576)!==0&&mC(l,Vu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(i=Nl(l.elementType),l.type=i,typeof i=="function")m1(i)?(p=Tl(i,p),l.tag=1,l=ON(null,l,i,p,u)):(l.tag=0,l=sv(null,l,i,p,u));else{if(i!=null){var b=i.$$typeof;if(b===B){l.tag=11,l=CN(null,l,i,p,u);break e}else if(b===$){l.tag=14,l=NN(null,l,i,p,u);break e}}throw l=Q(i)||i,Error(s(306,l,""))}}return l;case 0:return sv(i,l,l.type,l.pendingProps,u);case 1:return p=l.type,b=Tl(p,l.pendingProps),ON(i,l,p,b,u);case 3:e:{if(xe(l,l.stateNode.containerInfo),i===null)throw Error(s(387));p=l.pendingProps;var _=l.memoizedState;b=_.element,T1(i,l),Ju(l,p,null,u);var N=l.memoizedState;if(p=N.cache,_a(l,bn,p),p!==_.cache&&k1(l,[bn],u,!0),Xu(),p=N.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=BN(i,l,p,u);break e}else if(p!==b){b=vr(Error(s(424)),l),Fu(b),l=BN(i,l,p,u);break e}else for(i=l.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Yt=Sr(i.firstChild),Gn=l,Nt=!0,va=null,xr=!0,u=EC(l,null,p,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(wl(),p===b){l=Li(i,l,u);break e}Xn(i,l,p,u)}l=l.child}return l;case 26:return Ep(i,l),i===null?(u=G4(l.type,null,l.pendingProps,null))?l.memoizedState=u:Nt||(u=l.type,i=l.pendingProps,p=qp(te.current).createElement(u),p[Kn]=l,p[Ts]=i,Jn(p,u,i),Pn(p),l.stateNode=p):l.memoizedState=G4(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return et(l),i===null&&Nt&&(p=l.stateNode=q4(l.type,l.pendingProps,te.current),Gn=l,xr=!0,b=Yt,Ba(l.type)?(Vv=b,Yt=Sr(p.firstChild)):Yt=b),Xn(i,l,l.pendingProps.children,u),Ep(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Nt&&((b=p=Yt)&&(p=wL(p,l.type,l.pendingProps,xr),p!==null?(l.stateNode=p,Gn=l,Yt=Sr(p.firstChild),xr=!1,b=!0):b=!1),b||ba(l)),et(l),b=l.type,_=l.pendingProps,N=i!==null?i.memoizedProps:null,p=_.children,Pv(b,_)?p=null:N!==null&&Pv(b,N)&&(l.flags|=32),l.memoizedState!==null&&(b=I1(i,l,I8,null,null,u),yh._currentValue=b),Ep(i,l),Xn(i,l,p,u),l.child;case 6:return i===null&&Nt&&((i=u=Yt)&&(u=SL(u,l.pendingProps,xr),u!==null?(l.stateNode=u,Gn=l,Yt=null,i=!0):i=!1),i||ba(l)),null;case 13:return MN(i,l,u);case 4:return xe(l,l.stateNode.containerInfo),p=l.pendingProps,i===null?l.child=El(l,null,p,u):Xn(i,l,p,u),l.child;case 11:return CN(i,l,l.type,l.pendingProps,u);case 7:return Xn(i,l,l.pendingProps,u),l.child;case 8:return Xn(i,l,l.pendingProps.children,u),l.child;case 12:return Xn(i,l,l.pendingProps.children,u),l.child;case 10:return p=l.pendingProps,_a(l,l.type,p.value),Xn(i,l,p.children,u),l.child;case 9:return b=l.type._context,p=l.pendingProps.children,kl(l),b=Yn(b),p=p(b),l.flags|=1,Xn(i,l,p,u),l.child;case 14:return NN(i,l,l.type,l.pendingProps,u);case 15:return AN(i,l,l.type,l.pendingProps,u);case 19:return LN(i,l,u);case 31:return q8(i,l,u);case 22:return EN(i,l,u,l.pendingProps);case 24:return kl(l),p=Yn(bn),i===null?(b=A1(),b===null&&(b=qt,_=C1(),b.pooledCache=_,_.refCount++,_!==null&&(b.pooledCacheLanes|=u),b=_),l.memoizedState={parent:p,cache:b},j1(l),_a(l,bn,b)):((i.lanes&u)!==0&&(T1(i,l),Ju(l,null,null,u),Xu()),b=i.memoizedState,_=l.memoizedState,b.parent!==p?(b={parent:p,cache:p},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),_a(l,bn,p)):(p=_.cache,_a(l,bn,p),p!==b.cache&&k1(l,[bn],u,!0))),Xn(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function Ii(i){i.flags|=4}function hv(i,l,u,p,b){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(u4())i.flags|=8192;else throw Al=fp,E1}else i.flags&=-16777217}function PN(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Z4(l))if(u4())i.flags|=8192;else throw Al=fp,E1}function Tp(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?js():536870912,i.lanes|=l,sc|=l)}function sh(i,l){if(!Nt)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Xt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(l)for(var b=i.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=p,i.childLanes=u,l}function K8(i,l,u){var p=l.pendingProps;switch(b1(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(l),null;case 1:return Xt(l),null;case 3:return u=l.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Bi(bn),Ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Fo(l)?Ii(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,x1())),Xt(l),null;case 26:var b=l.type,_=l.memoizedState;return i===null?(Ii(l),_!==null?(Xt(l),PN(l,_)):(Xt(l),hv(l,b,null,p,u))):_?_!==i.memoizedState?(Ii(l),Xt(l),PN(l,_)):(Xt(l),l.flags&=-16777217):(i=i.memoizedProps,i!==p&&Ii(l),Xt(l),hv(l,b,i,p,u)),null;case 27:if(Ne(l),u=te.current,b=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==p&&Ii(l);else{if(!p){if(l.stateNode===null)throw Error(s(166));return Xt(l),null}i=Z.current,Fo(l)?yC(l):(i=q4(b,p,u),l.stateNode=i,Ii(l))}return Xt(l),null;case 5:if(Ne(l),b=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==p&&Ii(l);else{if(!p){if(l.stateNode===null)throw Error(s(166));return Xt(l),null}if(_=Z.current,Fo(l))yC(l);else{var N=qp(te.current);switch(_){case 1:_=N.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:_=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":_=N.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":_=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":_=N.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof p.is=="string"?N.createElement("select",{is:p.is}):N.createElement("select"),p.multiple?_.multiple=!0:p.size&&(_.size=p.size);break;default:_=typeof p.is=="string"?N.createElement(b,{is:p.is}):N.createElement(b)}}_[Kn]=l,_[Ts]=p;e:for(N=l.child;N!==null;){if(N.tag===5||N.tag===6)_.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===l)break e;for(;N.sibling===null;){if(N.return===null||N.return===l)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}l.stateNode=_;e:switch(Jn(_,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ii(l)}}return Xt(l),hv(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,u),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==p&&Ii(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(s(166));if(i=te.current,Fo(l)){if(i=l.stateNode,u=l.memoizedProps,p=null,b=Gn,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}i[Kn]=l,i=!!(i.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||M4(i.nodeValue,u)),i||ba(l,!0)}else i=qp(i).createTextNode(p),i[Kn]=l,l.stateNode=i}return Xt(l),null;case 31:if(u=l.memoizedState,i===null||i.memoizedState!==null){if(p=Fo(l),u!==null){if(i===null){if(!p)throw Error(s(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Kn]=l}else wl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xt(l),i=!1}else u=x1(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return l.flags&256?(Xs(l),l):(Xs(l),null);if((l.flags&128)!==0)throw Error(s(558))}return Xt(l),null;case 13:if(p=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Fo(l),p!==null&&p.dehydrated!==null){if(i===null){if(!b)throw Error(s(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(s(317));b[Kn]=l}else wl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xt(l),b=!1}else b=x1(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(Xs(l),l):(Xs(l),null)}return Xs(l),(l.flags&128)!==0?(l.lanes=u,l):(u=p!==null,i=i!==null&&i.memoizedState!==null,u&&(p=l.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),_=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==b&&(p.flags|=2048)),u!==i&&u&&(l.child.flags|=8192),Tp(l,l.updateQueue),Xt(l),null);case 4:return Ce(),i===null&&Bv(l.stateNode.containerInfo),Xt(l),null;case 10:return Bi(l.type),Xt(l),null;case 19:if(V(dn),p=l.memoizedState,p===null)return Xt(l),null;if(b=(l.flags&128)!==0,_=p.rendering,_===null)if(b)sh(p,!1);else{if(cn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(_=yp(i),_!==null){for(l.flags|=128,sh(p,!1),i=_.updateQueue,l.updateQueue=i,Tp(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)dC(u,i),u=u.sibling;return A(dn,dn.current&1|2),Nt&&Ri(l,p.treeForkCount),l.child}i=i.sibling}p.tail!==null&&Ot()>Dp&&(l.flags|=128,b=!0,sh(p,!1),l.lanes=4194304)}else{if(!b)if(i=yp(_),i!==null){if(l.flags|=128,b=!0,i=i.updateQueue,l.updateQueue=i,Tp(l,i),sh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Nt)return Xt(l),null}else 2*Ot()-p.renderingStartTime>Dp&&u!==536870912&&(l.flags|=128,b=!0,sh(p,!1),l.lanes=4194304);p.isBackwards?(_.sibling=l.child,l.child=_):(i=p.last,i!==null?i.sibling=_:l.child=_,p.last=_)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Ot(),i.sibling=null,u=dn.current,A(dn,b?u&1|2:u&1),Nt&&Ri(l,p.treeForkCount),i):(Xt(l),null);case 22:case 23:return Xs(l),M1(),p=l.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(u&536870912)!==0&&(l.flags&128)===0&&(Xt(l),l.subtreeFlags&6&&(l.flags|=8192)):Xt(l),u=l.updateQueue,u!==null&&Tp(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==u&&(l.flags|=2048),i!==null&&V(Cl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Bi(bn),Xt(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function G8(i,l){switch(b1(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Bi(bn),Ce(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Ne(l),null;case 31:if(l.memoizedState!==null){if(Xs(l),l.alternate===null)throw Error(s(340));wl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(Xs(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(s(340));wl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return V(dn),null;case 4:return Ce(),null;case 10:return Bi(l.type),null;case 22:case 23:return Xs(l),M1(),i!==null&&V(Cl),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Bi(bn),null;case 25:return null;default:return null}}function zN(i,l){switch(b1(l),l.tag){case 3:Bi(bn),Ce();break;case 26:case 27:case 5:Ne(l);break;case 4:Ce();break;case 31:l.memoizedState!==null&&Xs(l);break;case 13:Xs(l);break;case 19:V(dn);break;case 10:Bi(l.type);break;case 22:case 23:Xs(l),M1(),i!==null&&V(Cl);break;case 24:Bi(bn)}}function rh(i,l){try{var u=l.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var b=p.next;u=b;do{if((u.tag&i)===i){p=void 0;var _=u.create,N=u.inst;p=_(),N.destroy=p}u=u.next}while(u!==b)}}catch(I){$t(l,l.return,I)}}function Na(i,l,u){try{var p=l.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var _=b.next;p=_;do{if((p.tag&i)===i){var N=p.inst,I=N.destroy;if(I!==void 0){N.destroy=void 0,b=l;var X=u,le=I;try{le()}catch(me){$t(b,X,me)}}}p=p.next}while(p!==_)}}catch(me){$t(l,l.return,me)}}function $N(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{TC(l,u)}catch(p){$t(i,i.return,p)}}}function HN(i,l,u){u.props=Tl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(p){$t(i,l,p)}}function ih(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof u=="function"?i.refCleanup=u(p):u.current=p}}catch(b){$t(i,l,b)}}function ni(i,l){var u=i.ref,p=i.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(b){$t(i,l,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){$t(i,l,b)}else u.current=null}function UN(i){var l=i.type,u=i.memoizedProps,p=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(b){$t(i,i.return,b)}}function dv(i,l,u){try{var p=i.stateNode;gL(p,i.type,u,l),p[Ts]=l}catch(b){$t(i,i.return,b)}}function VN(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ba(i.type)||i.tag===4}function fv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||VN(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ba(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pv(i,l,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Ei));else if(p!==4&&(p===27&&Ba(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(pv(i,l,u),i=i.sibling;i!==null;)pv(i,l,u),i=i.sibling}function Rp(i,l,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(p!==4&&(p===27&&Ba(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Rp(i,l,u),i=i.sibling;i!==null;)Rp(i,l,u),i=i.sibling}function FN(i){var l=i.stateNode,u=i.memoizedProps;try{for(var p=i.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Jn(l,p,u),l[Kn]=i,l[Ts]=u}catch(_){$t(i,i.return,_)}}var Pi=!1,wn=!1,mv=!1,qN=typeof WeakSet=="function"?WeakSet:Set,zn=null;function Y8(i,l){if(i=i.containerInfo,Lv=Qp,i=sC(i),o1(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var b=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var N=0,I=-1,X=-1,le=0,me=0,ye=i,ue=null;t:for(;;){for(var he;ye!==u||b!==0&&ye.nodeType!==3||(I=N+b),ye!==_||p!==0&&ye.nodeType!==3||(X=N+p),ye.nodeType===3&&(N+=ye.nodeValue.length),(he=ye.firstChild)!==null;)ue=ye,ye=he;for(;;){if(ye===i)break t;if(ue===u&&++le===b&&(I=N),ue===_&&++me===p&&(X=N),(he=ye.nextSibling)!==null)break;ye=ue,ue=ye.parentNode}ye=he}u=I===-1||X===-1?null:{start:I,end:X}}else u=null}u=u||{start:0,end:0}}else u=null;for(Iv={focusedElem:i,selectionRange:u},Qp=!1,zn=l;zn!==null;)if(l=zn,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,zn=i;else for(;zn!==null;){switch(l=zn,_=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)b=i[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,u=l,b=_.memoizedProps,_=_.memoizedState,p=u.stateNode;try{var Ue=Tl(u.type,b);i=p.getSnapshotBeforeUpdate(Ue,_),p.__reactInternalSnapshotBeforeUpdate=i}catch(Ze){$t(u,u.return,Ze)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)$v(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":$v(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=l.sibling,i!==null){i.return=l.return,zn=i;break}zn=l.return}}function WN(i,l,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:$i(i,u),p&4&&rh(5,u);break;case 1:if($i(i,u),p&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(N){$t(u,u.return,N)}else{var b=Tl(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(b,l,i.__reactInternalSnapshotBeforeUpdate)}catch(N){$t(u,u.return,N)}}p&64&&$N(u),p&512&&ih(u,u.return);break;case 3:if($i(i,u),p&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{TC(i,l)}catch(N){$t(u,u.return,N)}}break;case 27:l===null&&p&4&&FN(u);case 26:case 5:$i(i,u),l===null&&p&4&&UN(u),p&512&&ih(u,u.return);break;case 12:$i(i,u);break;case 31:$i(i,u),p&4&&YN(i,u);break;case 13:$i(i,u),p&4&&XN(i,u),p&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=rL.bind(null,u),kL(i,u))));break;case 22:if(p=u.memoizedState!==null||Pi,!p){l=l!==null&&l.memoizedState!==null||wn,b=Pi;var _=wn;Pi=p,(wn=l)&&!_?Hi(i,u,(u.subtreeFlags&8772)!==0):$i(i,u),Pi=b,wn=_}break;case 30:break;default:$i(i,u)}}function KN(i){var l=i.alternate;l!==null&&(i.alternate=null,KN(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&qy(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var en=null,Os=!1;function zi(i,l,u){for(u=u.child;u!==null;)GN(i,l,u),u=u.sibling}function GN(i,l,u){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(ae,u)}catch{}switch(u.tag){case 26:wn||ni(u,l),zi(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:wn||ni(u,l);var p=en,b=Os;Ba(u.type)&&(en=u.stateNode,Os=!1),zi(i,l,u),ph(u.stateNode),en=p,Os=b;break;case 5:wn||ni(u,l);case 6:if(p=en,b=Os,en=null,zi(i,l,u),en=p,Os=b,en!==null)if(Os)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(u.stateNode)}catch(_){$t(u,l,_)}else try{en.removeChild(u.stateNode)}catch(_){$t(u,l,_)}break;case 18:en!==null&&(Os?(i=en,$4(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),hc(i)):$4(en,u.stateNode));break;case 4:p=en,b=Os,en=u.stateNode.containerInfo,Os=!0,zi(i,l,u),en=p,Os=b;break;case 0:case 11:case 14:case 15:Na(2,u,l),wn||Na(4,u,l),zi(i,l,u);break;case 1:wn||(ni(u,l),p=u.stateNode,typeof p.componentWillUnmount=="function"&&HN(u,l,p)),zi(i,l,u);break;case 21:zi(i,l,u);break;case 22:wn=(p=wn)||u.memoizedState!==null,zi(i,l,u),wn=p;break;default:zi(i,l,u)}}function YN(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{hc(i)}catch(u){$t(l,l.return,u)}}}function XN(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{hc(i)}catch(u){$t(l,l.return,u)}}function X8(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new qN),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new qN),l;default:throw Error(s(435,i.tag))}}function Op(i,l){var u=X8(i);l.forEach(function(p){if(!u.has(p)){u.add(p);var b=iL.bind(null,i,p);p.then(b,b)}})}function Bs(i,l){var u=l.deletions;if(u!==null)for(var p=0;p<u.length;p++){var b=u[p],_=i,N=l,I=N;e:for(;I!==null;){switch(I.tag){case 27:if(Ba(I.type)){en=I.stateNode,Os=!1;break e}break;case 5:en=I.stateNode,Os=!1;break e;case 3:case 4:en=I.stateNode.containerInfo,Os=!0;break e}I=I.return}if(en===null)throw Error(s(160));GN(_,N,b),en=null,Os=!1,_=b.alternate,_!==null&&(_.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)JN(l,i),l=l.sibling}var $r=null;function JN(i,l){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Bs(l,i),Ms(i),p&4&&(Na(3,i,i.return),rh(3,i),Na(5,i,i.return));break;case 1:Bs(l,i),Ms(i),p&512&&(wn||u===null||ni(u,u.return)),p&64&&Pi&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var b=$r;if(Bs(l,i),Ms(i),p&512&&(wn||u===null||ni(u,u.return)),p&4){var _=u!==null?u.memoizedState:null;if(p=i.memoizedState,u===null)if(p===null)if(i.stateNode===null){e:{p=i.type,u=i.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":_=b.getElementsByTagName("title")[0],(!_||_[Ou]||_[Kn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=b.createElement(p),b.head.insertBefore(_,b.querySelector("head > title"))),Jn(_,p,u),_[Kn]=i,Pn(_),p=_;break e;case"link":var N=J4("link","href",b).get(p+(u.href||""));if(N){for(var I=0;I<N.length;I++)if(_=N[I],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(I,1);break t}}_=b.createElement(p),Jn(_,p,u),b.head.appendChild(_);break;case"meta":if(N=J4("meta","content",b).get(p+(u.content||""))){for(I=0;I<N.length;I++)if(_=N[I],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(I,1);break t}}_=b.createElement(p),Jn(_,p,u),b.head.appendChild(_);break;default:throw Error(s(468,p))}_[Kn]=i,Pn(_),p=_}i.stateNode=p}else Q4(b,i.type,i.stateNode);else i.stateNode=X4(b,p,i.memoizedProps);else _!==p?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,p===null?Q4(b,i.type,i.stateNode):X4(b,p,i.memoizedProps)):p===null&&i.stateNode!==null&&dv(i,i.memoizedProps,u.memoizedProps)}break;case 27:Bs(l,i),Ms(i),p&512&&(wn||u===null||ni(u,u.return)),u!==null&&p&4&&dv(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Bs(l,i),Ms(i),p&512&&(wn||u===null||ni(u,u.return)),i.flags&32){b=i.stateNode;try{Mo(b,"")}catch(Ue){$t(i,i.return,Ue)}}p&4&&i.stateNode!=null&&(b=i.memoizedProps,dv(i,b,u!==null?u.memoizedProps:b)),p&1024&&(mv=!0);break;case 6:if(Bs(l,i),Ms(i),p&4){if(i.stateNode===null)throw Error(s(162));p=i.memoizedProps,u=i.stateNode;try{u.nodeValue=p}catch(Ue){$t(i,i.return,Ue)}}break;case 3:if(Gp=null,b=$r,$r=Wp(l.containerInfo),Bs(l,i),$r=b,Ms(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{hc(l.containerInfo)}catch(Ue){$t(i,i.return,Ue)}mv&&(mv=!1,QN(i));break;case 4:p=$r,$r=Wp(i.stateNode.containerInfo),Bs(l,i),Ms(i),$r=p;break;case 12:Bs(l,i),Ms(i);break;case 31:Bs(l,i),Ms(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Op(i,p)));break;case 13:Bs(l,i),Ms(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Mp=Ot()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Op(i,p)));break;case 22:b=i.memoizedState!==null;var X=u!==null&&u.memoizedState!==null,le=Pi,me=wn;if(Pi=le||b,wn=me||X,Bs(l,i),wn=me,Pi=le,Ms(i),p&8192)e:for(l=i.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(u===null||X||Pi||wn||Rl(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){X=u=l;try{if(_=X.stateNode,b)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{I=X.stateNode;var ye=X.memoizedProps.style,ue=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;I.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Ue){$t(X,X.return,Ue)}}}else if(l.tag===6){if(u===null){X=l;try{X.stateNode.nodeValue=b?"":X.memoizedProps}catch(Ue){$t(X,X.return,Ue)}}}else if(l.tag===18){if(u===null){X=l;try{var he=X.stateNode;b?H4(he,!0):H4(X.stateNode,!1)}catch(Ue){$t(X,X.return,Ue)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=i.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Op(i,u))));break;case 19:Bs(l,i),Ms(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Op(i,p)));break;case 30:break;case 21:break;default:Bs(l,i),Ms(i)}}function Ms(i){var l=i.flags;if(l&2){try{for(var u,p=i.return;p!==null;){if(VN(p)){u=p;break}p=p.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var b=u.stateNode,_=fv(i);Rp(i,_,b);break;case 5:var N=u.stateNode;u.flags&32&&(Mo(N,""),u.flags&=-33);var I=fv(i);Rp(i,I,N);break;case 3:case 4:var X=u.stateNode.containerInfo,le=fv(i);pv(i,le,X);break;default:throw Error(s(161))}}catch(me){$t(i,i.return,me)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function QN(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;QN(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function $i(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)WN(i,l.alternate,l),l=l.sibling}function Rl(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Na(4,l,l.return),Rl(l);break;case 1:ni(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&HN(l,l.return,u),Rl(l);break;case 27:ph(l.stateNode);case 26:case 5:ni(l,l.return),Rl(l);break;case 22:l.memoizedState===null&&Rl(l);break;case 30:Rl(l);break;default:Rl(l)}i=i.sibling}}function Hi(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,b=i,_=l,N=_.flags;switch(_.tag){case 0:case 11:case 15:Hi(b,_,u),rh(4,_);break;case 1:if(Hi(b,_,u),p=_,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(le){$t(p,p.return,le)}if(p=_,b=p.updateQueue,b!==null){var I=p.stateNode;try{var X=b.shared.hiddenCallbacks;if(X!==null)for(b.shared.hiddenCallbacks=null,b=0;b<X.length;b++)jC(X[b],I)}catch(le){$t(p,p.return,le)}}u&&N&64&&$N(_),ih(_,_.return);break;case 27:FN(_);case 26:case 5:Hi(b,_,u),u&&p===null&&N&4&&UN(_),ih(_,_.return);break;case 12:Hi(b,_,u);break;case 31:Hi(b,_,u),u&&N&4&&YN(b,_);break;case 13:Hi(b,_,u),u&&N&4&&XN(b,_);break;case 22:_.memoizedState===null&&Hi(b,_,u),ih(_,_.return);break;case 30:break;default:Hi(b,_,u)}l=l.sibling}}function gv(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&qu(u))}function yv(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&qu(i))}function Hr(i,l,u,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ZN(i,l,u,p),l=l.sibling}function ZN(i,l,u,p){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Hr(i,l,u,p),b&2048&&rh(9,l);break;case 1:Hr(i,l,u,p);break;case 3:Hr(i,l,u,p),b&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&qu(i)));break;case 12:if(b&2048){Hr(i,l,u,p),i=l.stateNode;try{var _=l.memoizedProps,N=_.id,I=_.onPostCommit;typeof I=="function"&&I(N,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(X){$t(l,l.return,X)}}else Hr(i,l,u,p);break;case 31:Hr(i,l,u,p);break;case 13:Hr(i,l,u,p);break;case 23:break;case 22:_=l.stateNode,N=l.alternate,l.memoizedState!==null?_._visibility&2?Hr(i,l,u,p):ah(i,l):_._visibility&2?Hr(i,l,u,p):(_._visibility|=2,ec(i,l,u,p,(l.subtreeFlags&10256)!==0||!1)),b&2048&&gv(N,l);break;case 24:Hr(i,l,u,p),b&2048&&yv(l.alternate,l);break;default:Hr(i,l,u,p)}}function ec(i,l,u,p,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var _=i,N=l,I=u,X=p,le=N.flags;switch(N.tag){case 0:case 11:case 15:ec(_,N,I,X,b),rh(8,N);break;case 23:break;case 22:var me=N.stateNode;N.memoizedState!==null?me._visibility&2?ec(_,N,I,X,b):ah(_,N):(me._visibility|=2,ec(_,N,I,X,b)),b&&le&2048&&gv(N.alternate,N);break;case 24:ec(_,N,I,X,b),b&&le&2048&&yv(N.alternate,N);break;default:ec(_,N,I,X,b)}l=l.sibling}}function ah(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,p=l,b=p.flags;switch(p.tag){case 22:ah(u,p),b&2048&&gv(p.alternate,p);break;case 24:ah(u,p),b&2048&&yv(p.alternate,p);break;default:ah(u,p)}l=l.sibling}}var lh=8192;function tc(i,l,u){if(i.subtreeFlags&lh)for(i=i.child;i!==null;)e4(i,l,u),i=i.sibling}function e4(i,l,u){switch(i.tag){case 26:tc(i,l,u),i.flags&lh&&i.memoizedState!==null&&LL(u,$r,i.memoizedState,i.memoizedProps);break;case 5:tc(i,l,u);break;case 3:case 4:var p=$r;$r=Wp(i.stateNode.containerInfo),tc(i,l,u),$r=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=lh,lh=16777216,tc(i,l,u),lh=p):tc(i,l,u));break;default:tc(i,l,u)}}function t4(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function oh(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];zn=p,s4(p,i)}t4(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n4(i),i=i.sibling}function n4(i){switch(i.tag){case 0:case 11:case 15:oh(i),i.flags&2048&&Na(9,i,i.return);break;case 3:oh(i);break;case 12:oh(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Bp(i)):oh(i);break;default:oh(i)}}function Bp(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];zn=p,s4(p,i)}t4(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Na(8,l,l.return),Bp(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Bp(l));break;default:Bp(l)}i=i.sibling}}function s4(i,l){for(;zn!==null;){var u=zn;switch(u.tag){case 0:case 11:case 15:Na(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:qu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,zn=p;else e:for(u=i;zn!==null;){p=zn;var b=p.sibling,_=p.return;if(KN(p),p===u){zn=null;break e}if(b!==null){b.return=_,zn=b;break e}zn=_}}}var J8={getCacheForType:function(i){var l=Yn(bn),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u},cacheSignal:function(){return Yn(bn).controller.signal}},Q8=typeof WeakMap=="function"?WeakMap:Map,Dt=0,qt=null,_t=null,kt=0,zt=0,Js=null,Aa=!1,nc=!1,vv=!1,Ui=0,cn=0,Ea=0,Ol=0,bv=0,Qs=0,sc=0,ch=null,Ds=null,_v=!1,Mp=0,r4=0,Dp=1/0,Lp=null,ja=null,jn=0,Ta=null,rc=null,Vi=0,xv=0,wv=null,i4=null,uh=0,Sv=null;function Zs(){return(Dt&2)!==0&&kt!==0?kt&-kt:L.T!==null?jv():xk()}function a4(){if(Qs===0)if((kt&536870912)===0||Nt){var i=De;De<<=1,(De&3932160)===0&&(De=262144),Qs=i}else Qs=536870912;return i=Ys.current,i!==null&&(i.flags|=32),Qs}function Ls(i,l,u){(i===qt&&(zt===2||zt===9)||i.cancelPendingCommit!==null)&&(ic(i,0),Ra(i,kt,Qs,!1)),ml(i,u),((Dt&2)===0||i!==qt)&&(i===qt&&((Dt&2)===0&&(Ol|=u),cn===4&&Ra(i,kt,Qs,!1)),si(i))}function l4(i,l,u){if((Dt&6)!==0)throw Error(s(327));var p=!u&&(l&127)===0&&(l&i.expiredLanes)===0||Mt(i,l),b=p?tL(i,l):Cv(i,l,!0),_=p;do{if(b===0){nc&&!p&&Ra(i,l,0,!1);break}else{if(u=i.current.alternate,_&&!Z8(u)){b=Cv(i,l,!1),_=!1;continue}if(b===2){if(_=l,i.errorRecoveryDisabledLanes&_)var N=0;else N=i.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;e:{var I=i;b=ch;var X=I.current.memoizedState.isDehydrated;if(X&&(ic(I,N).flags|=256),N=Cv(I,N,!1),N!==2){if(vv&&!X){I.errorRecoveryDisabledLanes|=_,Ol|=_,b=4;break e}_=Ds,Ds=b,_!==null&&(Ds===null?Ds=_:Ds.push.apply(Ds,_))}b=N}if(_=!1,b!==2)continue}}if(b===1){ic(i,0),Ra(i,l,0,!0);break}e:{switch(p=i,_=b,_){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:Ra(p,l,Qs,!Aa);break e;case 2:Ds=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(b=Mp+300-Ot(),10<b)){if(Ra(p,l,Qs,!Aa),dt(p,0,!0)!==0)break e;Vi=l,p.timeoutHandle=P4(o4.bind(null,p,u,Ds,Lp,_v,l,Qs,Ol,sc,Aa,_,"Throttled",-0,0),b);break e}o4(p,u,Ds,Lp,_v,l,Qs,Ol,sc,Aa,_,null,-0,0)}}break}while(!0);si(i)}function o4(i,l,u,p,b,_,N,I,X,le,me,ye,ue,he){if(i.timeoutHandle=-1,ye=l.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},e4(l,_,ye);var Ue=(_&62914560)===_?Mp-Ot():(_&4194048)===_?r4-Ot():0;if(Ue=IL(ye,Ue),Ue!==null){Vi=_,i.cancelPendingCommit=Ue(g4.bind(null,i,l,_,u,p,b,N,I,X,me,ye,null,ue,he)),Ra(i,_,N,!le);return}}g4(i,l,_,u,p,b,N,I,X)}function Z8(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var b=u[p],_=b.getSnapshot;b=b.value;try{if(!Ks(_(),b))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ra(i,l,u,p){l&=~bv,l&=~Ol,i.suspendedLanes|=l,i.pingedLanes&=~l,p&&(i.warmLanes|=l),p=i.expirationTimes;for(var b=l;0<b;){var _=31-Re(b),N=1<<_;p[_]=-1,b&=~N}u!==0&&vk(i,u,l)}function Ip(){return(Dt&6)===0?(hh(0),!1):!0}function kv(){if(_t!==null){if(zt===0)var i=_t.return;else i=_t,Oi=Sl=null,$1(i),Yo=null,Ku=0,i=_t;for(;i!==null;)zN(i.alternate,i),i=i.return;_t=null}}function ic(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,bL(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Vi=0,kv(),qt=i,_t=u=Ti(i.current,null),kt=l,zt=0,Js=null,Aa=!1,nc=Mt(i,l),vv=!1,sc=Qs=bv=Ol=Ea=cn=0,Ds=ch=null,_v=!1,(l&8)!==0&&(l|=l&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=l;0<p;){var b=31-Re(p),_=1<<b;l|=i[b],p&=~_}return Ui=l,rp(),u}function c4(i,l){ct=null,L.H=th,l===Go||l===dp?(l=CC(),zt=3):l===E1?(l=CC(),zt=4):zt=l===nv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Js=l,_t===null&&(cn=1,Np(i,vr(l,i.current)))}function u4(){var i=Ys.current;return i===null?!0:(kt&4194048)===kt?wr===null:(kt&62914560)===kt||(kt&536870912)!==0?i===wr:!1}function h4(){var i=L.H;return L.H=th,i===null?th:i}function d4(){var i=L.A;return L.A=J8,i}function Pp(){cn=4,Aa||(kt&4194048)!==kt&&Ys.current!==null||(nc=!0),(Ea&134217727)===0&&(Ol&134217727)===0||qt===null||Ra(qt,kt,Qs,!1)}function Cv(i,l,u){var p=Dt;Dt|=2;var b=h4(),_=d4();(qt!==i||kt!==l)&&(Lp=null,ic(i,l)),l=!1;var N=cn;e:do try{if(zt!==0&&_t!==null){var I=_t,X=Js;switch(zt){case 8:kv(),N=6;break e;case 3:case 2:case 9:case 6:Ys.current===null&&(l=!0);var le=zt;if(zt=0,Js=null,ac(i,I,X,le),u&&nc){N=0;break e}break;default:le=zt,zt=0,Js=null,ac(i,I,X,le)}}eL(),N=cn;break}catch(me){c4(i,me)}while(!0);return l&&i.shellSuspendCounter++,Oi=Sl=null,Dt=p,L.H=b,L.A=_,_t===null&&(qt=null,kt=0,rp()),N}function eL(){for(;_t!==null;)f4(_t)}function tL(i,l){var u=Dt;Dt|=2;var p=h4(),b=d4();qt!==i||kt!==l?(Lp=null,Dp=Ot()+500,ic(i,l)):nc=Mt(i,l);e:do try{if(zt!==0&&_t!==null){l=_t;var _=Js;t:switch(zt){case 1:zt=0,Js=null,ac(i,l,_,1);break;case 2:case 9:if(SC(_)){zt=0,Js=null,p4(l);break}l=function(){zt!==2&&zt!==9||qt!==i||(zt=7),si(i)},_.then(l,l);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:SC(_)?(zt=0,Js=null,p4(l)):(zt=0,Js=null,ac(i,l,_,7));break;case 5:var N=null;switch(_t.tag){case 26:N=_t.memoizedState;case 5:case 27:var I=_t;if(N?Z4(N):I.stateNode.complete){zt=0,Js=null;var X=I.sibling;if(X!==null)_t=X;else{var le=I.return;le!==null?(_t=le,zp(le)):_t=null}break t}}zt=0,Js=null,ac(i,l,_,5);break;case 6:zt=0,Js=null,ac(i,l,_,6);break;case 8:kv(),cn=6;break e;default:throw Error(s(462))}}nL();break}catch(me){c4(i,me)}while(!0);return Oi=Sl=null,L.H=p,L.A=b,Dt=u,_t!==null?0:(qt=null,kt=0,rp(),cn)}function nL(){for(;_t!==null&&!rt();)f4(_t)}function f4(i){var l=IN(i.alternate,i,Ui);i.memoizedProps=i.pendingProps,l===null?zp(i):_t=l}function p4(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=RN(u,l,l.pendingProps,l.type,void 0,kt);break;case 11:l=RN(u,l,l.pendingProps,l.type.render,l.ref,kt);break;case 5:$1(l);default:zN(u,l),l=_t=dC(l,Ui),l=IN(u,l,Ui)}i.memoizedProps=i.pendingProps,l===null?zp(i):_t=l}function ac(i,l,u,p){Oi=Sl=null,$1(l),Yo=null,Ku=0;var b=l.return;try{if(F8(i,b,l,u,kt)){cn=1,Np(i,vr(u,i.current)),_t=null;return}}catch(_){if(b!==null)throw _t=b,_;cn=1,Np(i,vr(u,i.current)),_t=null;return}l.flags&32768?(Nt||p===1?i=!0:nc||(kt&536870912)!==0?i=!1:(Aa=i=!0,(p===2||p===9||p===3||p===6)&&(p=Ys.current,p!==null&&p.tag===13&&(p.flags|=16384))),m4(l,i)):zp(l)}function zp(i){var l=i;do{if((l.flags&32768)!==0){m4(l,Aa);return}i=l.return;var u=K8(l.alternate,l,Ui);if(u!==null){_t=u;return}if(l=l.sibling,l!==null){_t=l;return}_t=l=i}while(l!==null);cn===0&&(cn=5)}function m4(i,l){do{var u=G8(i.alternate,i);if(u!==null){u.flags&=32767,_t=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){_t=i;return}_t=i=u}while(i!==null);cn=6,_t=null}function g4(i,l,u,p,b,_,N,I,X){i.cancelPendingCommit=null;do $p();while(jn!==0);if((Dt&6)!==0)throw Error(s(327));if(l!==null){if(l===i.current)throw Error(s(177));if(_=l.lanes|l.childLanes,_|=f1,Hy(i,u,_,N,I,X),i===qt&&(_t=qt=null,kt=0),rc=l,Ta=i,Vi=u,xv=_,wv=b,i4=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,aL(We,function(){return x4(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=L.T,L.T=null,b=G.p,G.p=2,N=Dt,Dt|=4;try{Y8(i,l,u)}finally{Dt=N,G.p=b,L.T=p}}jn=1,y4(),v4(),b4()}}function y4(){if(jn===1){jn=0;var i=Ta,l=rc,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=L.T,L.T=null;var p=G.p;G.p=2;var b=Dt;Dt|=4;try{JN(l,i);var _=Iv,N=sC(i.containerInfo),I=_.focusedElem,X=_.selectionRange;if(N!==I&&I&&I.ownerDocument&&nC(I.ownerDocument.documentElement,I)){if(X!==null&&o1(I)){var le=X.start,me=X.end;if(me===void 0&&(me=le),"selectionStart"in I)I.selectionStart=le,I.selectionEnd=Math.min(me,I.value.length);else{var ye=I.ownerDocument||document,ue=ye&&ye.defaultView||window;if(ue.getSelection){var he=ue.getSelection(),Ue=I.textContent.length,Ze=Math.min(X.start,Ue),Vt=X.end===void 0?Ze:Math.min(X.end,Ue);!he.extend&&Ze>Vt&&(N=Vt,Vt=Ze,Ze=N);var se=tC(I,Ze),ee=tC(I,Vt);if(se&&ee&&(he.rangeCount!==1||he.anchorNode!==se.node||he.anchorOffset!==se.offset||he.focusNode!==ee.node||he.focusOffset!==ee.offset)){var ie=ye.createRange();ie.setStart(se.node,se.offset),he.removeAllRanges(),Ze>Vt?(he.addRange(ie),he.extend(ee.node,ee.offset)):(ie.setEnd(ee.node,ee.offset),he.addRange(ie))}}}}for(ye=[],he=I;he=he.parentNode;)he.nodeType===1&&ye.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ye.length;I++){var ge=ye[I];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Qp=!!Lv,Iv=Lv=null}finally{Dt=b,G.p=p,L.T=u}}i.current=l,jn=2}}function v4(){if(jn===2){jn=0;var i=Ta,l=rc,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=L.T,L.T=null;var p=G.p;G.p=2;var b=Dt;Dt|=4;try{WN(i,l.alternate,l)}finally{Dt=b,G.p=p,L.T=u}}jn=3}}function b4(){if(jn===4||jn===3){jn=0,Zt();var i=Ta,l=rc,u=Vi,p=i4;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?jn=5:(jn=0,rc=Ta=null,_4(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(ja=null),Vy(u),l=l.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(ae,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=L.T,b=G.p,G.p=2,L.T=null;try{for(var _=i.onRecoverableError,N=0;N<p.length;N++){var I=p[N];_(I.value,{componentStack:I.stack})}}finally{L.T=l,G.p=b}}(Vi&3)!==0&&$p(),si(i),b=i.pendingLanes,(u&261930)!==0&&(b&42)!==0?i===Sv?uh++:(uh=0,Sv=i):uh=0,hh(0)}}function _4(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,qu(l)))}function $p(){return y4(),v4(),b4(),x4()}function x4(){if(jn!==5)return!1;var i=Ta,l=xv;xv=0;var u=Vy(Vi),p=L.T,b=G.p;try{G.p=32>u?32:u,L.T=null,u=wv,wv=null;var _=Ta,N=Vi;if(jn=0,rc=Ta=null,Vi=0,(Dt&6)!==0)throw Error(s(331));var I=Dt;if(Dt|=4,n4(_.current),ZN(_,_.current,N,u),Dt=I,hh(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(ae,_)}catch{}return!0}finally{G.p=b,L.T=p,_4(i,l)}}function w4(i,l,u){l=vr(u,l),l=tv(i.stateNode,l,2),i=Sa(i,l,2),i!==null&&(ml(i,2),si(i))}function $t(i,l,u){if(i.tag===3)w4(i,i,u);else for(;l!==null;){if(l.tag===3){w4(l,i,u);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ja===null||!ja.has(p))){i=vr(u,i),u=SN(2),p=Sa(l,u,2),p!==null&&(kN(u,p,l,i),ml(p,2),si(p));break}}l=l.return}}function Nv(i,l,u){var p=i.pingCache;if(p===null){p=i.pingCache=new Q8;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(u)||(vv=!0,b.add(u),i=sL.bind(null,i,l,u),l.then(i,i))}function sL(i,l,u){var p=i.pingCache;p!==null&&p.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,qt===i&&(kt&u)===u&&(cn===4||cn===3&&(kt&62914560)===kt&&300>Ot()-Mp?(Dt&2)===0&&ic(i,0):bv|=u,sc===kt&&(sc=0)),si(i)}function S4(i,l){l===0&&(l=js()),i=_l(i,l),i!==null&&(ml(i,l),si(i))}function rL(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),S4(i,u)}function iL(i,l){var u=0;switch(i.tag){case 31:case 13:var p=i.stateNode,b=i.memoizedState;b!==null&&(u=b.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(s(314))}p!==null&&p.delete(l),S4(i,u)}function aL(i,l){return Es(i,l)}var Hp=null,lc=null,Av=!1,Up=!1,Ev=!1,Oa=0;function si(i){i!==lc&&i.next===null&&(lc===null?Hp=lc=i:lc=lc.next=i),Up=!0,Av||(Av=!0,oL())}function hh(i,l){if(!Ev&&Up){Ev=!0;do for(var u=!1,p=Hp;p!==null;){if(i!==0){var b=p.pendingLanes;if(b===0)var _=0;else{var N=p.suspendedLanes,I=p.pingedLanes;_=(1<<31-Re(42|i)+1)-1,_&=b&~(N&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,A4(p,_))}else _=kt,_=dt(p,p===qt?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||Mt(p,_)||(u=!0,A4(p,_));p=p.next}while(u);Ev=!1}}function lL(){k4()}function k4(){Up=Av=!1;var i=0;Oa!==0&&vL()&&(i=Oa);for(var l=Ot(),u=null,p=Hp;p!==null;){var b=p.next,_=C4(p,l);_===0?(p.next=null,u===null?Hp=b:u.next=b,b===null&&(lc=u)):(u=p,(i!==0||(_&3)!==0)&&(Up=!0)),p=b}jn!==0&&jn!==5||hh(i),Oa!==0&&(Oa=0)}function C4(i,l){for(var u=i.suspendedLanes,p=i.pingedLanes,b=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var N=31-Re(_),I=1<<N,X=b[N];X===-1?((I&u)===0||(I&p)!==0)&&(b[N]=sn(I,l)):X<=l&&(i.expiredLanes|=I),_&=~I}if(l=qt,u=kt,u=dt(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,u===0||i===l&&(zt===2||zt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Qe(p),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Mt(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(p!==null&&Qe(p),Vy(u)){case 2:case 8:u=_e;break;case 32:u=We;break;case 268435456:u=St;break;default:u=We}return p=N4.bind(null,i),u=Es(u,p),i.callbackPriority=l,i.callbackNode=u,l}return p!==null&&p!==null&&Qe(p),i.callbackPriority=2,i.callbackNode=null,2}function N4(i,l){if(jn!==0&&jn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if($p()&&i.callbackNode!==u)return null;var p=kt;return p=dt(i,i===qt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(l4(i,p,l),C4(i,Ot()),i.callbackNode!=null&&i.callbackNode===u?N4.bind(null,i):null)}function A4(i,l){if($p())return null;l4(i,l,!0)}function oL(){_L(function(){(Dt&6)!==0?Es(pe,lL):k4()})}function jv(){if(Oa===0){var i=Wo;i===0&&(i=Be,Be<<=1,(Be&261888)===0&&(Be=256)),Oa=i}return Oa}function E4(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xf(""+i)}function j4(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function cL(i,l,u,p,b){if(l==="submit"&&u&&u.stateNode===b){var _=E4((b[Ts]||null).action),N=p.submitter;N&&(l=(l=N[Ts]||null)?E4(l.formAction):N.getAttribute("formAction"),l!==null&&(_=l,N=null));var I=new ep("action","action",null,p,b);i.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Oa!==0){var X=N?j4(b,N):new FormData(b);Y1(u,{pending:!0,data:X,method:b.method,action:_},null,X)}}else typeof _=="function"&&(I.preventDefault(),X=N?j4(b,N):new FormData(b),Y1(u,{pending:!0,data:X,method:b.method,action:_},_,X))},currentTarget:b}]})}}for(var Tv=0;Tv<d1.length;Tv++){var Rv=d1[Tv],uL=Rv.toLowerCase(),hL=Rv[0].toUpperCase()+Rv.slice(1);zr(uL,"on"+hL)}zr(aC,"onAnimationEnd"),zr(lC,"onAnimationIteration"),zr(oC,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(A8,"onTransitionRun"),zr(E8,"onTransitionStart"),zr(j8,"onTransitionCancel"),zr(cC,"onTransitionEnd"),Oo("onMouseEnter",["mouseout","mouseover"]),Oo("onMouseLeave",["mouseout","mouseover"]),Oo("onPointerEnter",["pointerout","pointerover"]),Oo("onPointerLeave",["pointerout","pointerover"]),gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gl("onBeforeInput",["compositionend","keypress","textInput","paste"]),gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dh));function T4(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],b=p.event;p=p.listeners;e:{var _=void 0;if(l)for(var N=p.length-1;0<=N;N--){var I=p[N],X=I.instance,le=I.currentTarget;if(I=I.listener,X!==_&&b.isPropagationStopped())break e;_=I,b.currentTarget=le;try{_(b)}catch(me){sp(me)}b.currentTarget=null,_=X}else for(N=0;N<p.length;N++){if(I=p[N],X=I.instance,le=I.currentTarget,I=I.listener,X!==_&&b.isPropagationStopped())break e;_=I,b.currentTarget=le;try{_(b)}catch(me){sp(me)}b.currentTarget=null,_=X}}}}function xt(i,l){var u=l[Fy];u===void 0&&(u=l[Fy]=new Set);var p=i+"__bubble";u.has(p)||(R4(l,i,2,!1),u.add(p))}function Ov(i,l,u){var p=0;l&&(p|=4),R4(u,i,p,l)}var Vp="_reactListening"+Math.random().toString(36).slice(2);function Bv(i){if(!i[Vp]){i[Vp]=!0,kk.forEach(function(u){u!=="selectionchange"&&(dL.has(u)||Ov(u,!1,i),Ov(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Vp]||(l[Vp]=!0,Ov("selectionchange",!1,l))}}function R4(i,l,u,p){switch(a5(l)){case 2:var b=$L;break;case 8:b=HL;break;default:b=Gv}u=b.bind(null,l,u,i),b=void 0,!Zy||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?i.addEventListener(l,u,{capture:!0,passive:b}):i.addEventListener(l,u,!0):b!==void 0?i.addEventListener(l,u,{passive:b}):i.addEventListener(l,u,!1)}function Mv(i,l,u,p,b){var _=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var I=p.stateNode.containerInfo;if(I===b)break;if(N===4)for(N=p.return;N!==null;){var X=N.tag;if((X===3||X===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;I!==null;){if(N=jo(I),N===null)return;if(X=N.tag,X===5||X===6||X===26||X===27){p=_=N;continue e}I=I.parentNode}}p=p.return}Lk(function(){var le=_,me=Jy(u),ye=[];e:{var ue=uC.get(i);if(ue!==void 0){var he=ep,Ue=i;switch(i){case"keypress":if(Qf(u)===0)break e;case"keydown":case"keyup":he=i8;break;case"focusin":Ue="focus",he=s1;break;case"focusout":Ue="blur",he=s1;break;case"beforeblur":case"afterblur":he=s1;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=zk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=KD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=o8;break;case aC:case lC:case oC:he=XD;break;case cC:he=u8;break;case"scroll":case"scrollend":he=qD;break;case"wheel":he=d8;break;case"copy":case"cut":case"paste":he=QD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Hk;break;case"toggle":case"beforetoggle":he=p8}var Ze=(l&4)!==0,Vt=!Ze&&(i==="scroll"||i==="scrollend"),se=Ze?ue!==null?ue+"Capture":null:ue;Ze=[];for(var ee=le,ie;ee!==null;){var ge=ee;if(ie=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ie===null||se===null||(ge=Mu(ee,se),ge!=null&&Ze.push(fh(ee,ge,ie))),Vt)break;ee=ee.return}0<Ze.length&&(ue=new he(ue,Ue,null,u,me),ye.push({event:ue,listeners:Ze}))}}if((l&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",ue&&u!==Xy&&(Ue=u.relatedTarget||u.fromElement)&&(jo(Ue)||Ue[Eo]))break e;if((he||ue)&&(ue=me.window===me?me:(ue=me.ownerDocument)?ue.defaultView||ue.parentWindow:window,he?(Ue=u.relatedTarget||u.toElement,he=le,Ue=Ue?jo(Ue):null,Ue!==null&&(Vt=a(Ue),Ze=Ue.tag,Ue!==Vt||Ze!==5&&Ze!==27&&Ze!==6)&&(Ue=null)):(he=null,Ue=le),he!==Ue)){if(Ze=zk,ge="onMouseLeave",se="onMouseEnter",ee="mouse",(i==="pointerout"||i==="pointerover")&&(Ze=Hk,ge="onPointerLeave",se="onPointerEnter",ee="pointer"),Vt=he==null?ue:Bu(he),ie=Ue==null?ue:Bu(Ue),ue=new Ze(ge,ee+"leave",he,u,me),ue.target=Vt,ue.relatedTarget=ie,ge=null,jo(me)===le&&(Ze=new Ze(se,ee+"enter",Ue,u,me),Ze.target=ie,Ze.relatedTarget=Vt,ge=Ze),Vt=ge,he&&Ue)t:{for(Ze=fL,se=he,ee=Ue,ie=0,ge=se;ge;ge=Ze(ge))ie++;ge=0;for(var Ye=ee;Ye;Ye=Ze(Ye))ge++;for(;0<ie-ge;)se=Ze(se),ie--;for(;0<ge-ie;)ee=Ze(ee),ge--;for(;ie--;){if(se===ee||ee!==null&&se===ee.alternate){Ze=se;break t}se=Ze(se),ee=Ze(ee)}Ze=null}else Ze=null;he!==null&&O4(ye,ue,he,Ze,!1),Ue!==null&&Vt!==null&&O4(ye,Vt,Ue,Ze,!0)}}e:{if(ue=le?Bu(le):window,he=ue.nodeName&&ue.nodeName.toLowerCase(),he==="select"||he==="input"&&ue.type==="file")var jt=Yk;else if(Kk(ue))if(Xk)jt=k8;else{jt=w8;var qe=x8}else he=ue.nodeName,!he||he.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?le&&Yy(le.elementType)&&(jt=Yk):jt=S8;if(jt&&(jt=jt(i,le))){Gk(ye,jt,u,me);break e}qe&&qe(i,ue,le),i==="focusout"&&le&&ue.type==="number"&&le.memoizedProps.value!=null&&Gy(ue,"number",ue.value)}switch(qe=le?Bu(le):window,i){case"focusin":(Kk(qe)||qe.contentEditable==="true")&&(Po=qe,c1=le,Uu=null);break;case"focusout":Uu=c1=Po=null;break;case"mousedown":u1=!0;break;case"contextmenu":case"mouseup":case"dragend":u1=!1,rC(ye,u,me);break;case"selectionchange":if(N8)break;case"keydown":case"keyup":rC(ye,u,me)}var ft;if(i1)e:{switch(i){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else Io?qk(i,u)&&(Ct="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ct="onCompositionStart");Ct&&(Uk&&u.locale!=="ko"&&(Io||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Io&&(ft=Ik()):(ga=me,e1="value"in ga?ga.value:ga.textContent,Io=!0)),qe=Fp(le,Ct),0<qe.length&&(Ct=new $k(Ct,i,null,u,me),ye.push({event:Ct,listeners:qe}),ft?Ct.data=ft:(ft=Wk(u),ft!==null&&(Ct.data=ft)))),(ft=g8?y8(i,u):v8(i,u))&&(Ct=Fp(le,"onBeforeInput"),0<Ct.length&&(qe=new $k("onBeforeInput","beforeinput",null,u,me),ye.push({event:qe,listeners:Ct}),qe.data=ft)),cL(ye,i,le,u,me)}T4(ye,l)})}function fh(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Fp(i,l){for(var u=l+"Capture",p=[];i!==null;){var b=i,_=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||_===null||(b=Mu(i,u),b!=null&&p.unshift(fh(i,b,_)),b=Mu(i,l),b!=null&&p.push(fh(i,b,_))),i.tag===3)return p;i=i.return}return[]}function fL(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function O4(i,l,u,p,b){for(var _=l._reactName,N=[];u!==null&&u!==p;){var I=u,X=I.alternate,le=I.stateNode;if(I=I.tag,X!==null&&X===p)break;I!==5&&I!==26&&I!==27||le===null||(X=le,b?(le=Mu(u,_),le!=null&&N.unshift(fh(u,le,X))):b||(le=Mu(u,_),le!=null&&N.push(fh(u,le,X)))),u=u.return}N.length!==0&&i.push({event:l,listeners:N})}var pL=/\r\n?/g,mL=/\u0000|\uFFFD/g;function B4(i){return(typeof i=="string"?i:""+i).replace(pL,`
`).replace(mL,"")}function M4(i,l){return l=B4(l),B4(i)===l}function Ut(i,l,u,p,b,_){switch(u){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Mo(i,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Mo(i,""+p);break;case"className":Gf(i,"class",p);break;case"tabIndex":Gf(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Gf(i,u,p);break;case"style":Mk(i,p,_);break;case"data":if(l!=="object"){Gf(i,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Xf(""+p),i.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(l!=="input"&&Ut(i,l,"name",b.name,b,null),Ut(i,l,"formEncType",b.formEncType,b,null),Ut(i,l,"formMethod",b.formMethod,b,null),Ut(i,l,"formTarget",b.formTarget,b,null)):(Ut(i,l,"encType",b.encType,b,null),Ut(i,l,"method",b.method,b,null),Ut(i,l,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Xf(""+p),i.setAttribute(u,p);break;case"onClick":p!=null&&(i.onclick=Ei);break;case"onScroll":p!=null&&xt("scroll",i);break;case"onScrollEnd":p!=null&&xt("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(s(60));i.innerHTML=u}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}u=Xf(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""+p):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":p===!0?i.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,p):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(u,p):i.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(u):i.setAttribute(u,p);break;case"popover":xt("beforetoggle",i),xt("toggle",i),Kf(i,"popover",p);break;case"xlinkActuate":Ai(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ai(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ai(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ai(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ai(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ai(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ai(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ai(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ai(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Kf(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=VD.get(u)||u,Kf(i,u,p))}}function Dv(i,l,u,p,b,_){switch(u){case"style":Mk(i,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(s(60));i.innerHTML=u}}break;case"children":typeof p=="string"?Mo(i,p):(typeof p=="number"||typeof p=="bigint")&&Mo(i,""+p);break;case"onScroll":p!=null&&xt("scroll",i);break;case"onScrollEnd":p!=null&&xt("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ck.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),l=u.slice(2,b?u.length-7:void 0),_=i[Ts]||null,_=_!=null?_[u]:null,typeof _=="function"&&i.removeEventListener(l,_,b),typeof p=="function")){typeof _!="function"&&_!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,p,b);break e}u in i?i[u]=p:p===!0?i.setAttribute(u,""):Kf(i,u,p)}}}function Jn(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",i),xt("load",i);var p=!1,b=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var N=u[_];if(N!=null)switch(_){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Ut(i,l,_,N,u,null)}}b&&Ut(i,l,"srcSet",u.srcSet,u,null),p&&Ut(i,l,"src",u.src,u,null);return;case"input":xt("invalid",i);var I=_=N=b=null,X=null,le=null;for(p in u)if(u.hasOwnProperty(p)){var me=u[p];if(me!=null)switch(p){case"name":b=me;break;case"type":N=me;break;case"checked":X=me;break;case"defaultChecked":le=me;break;case"value":_=me;break;case"defaultValue":I=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(s(137,l));break;default:Ut(i,l,p,me,u,null)}}Tk(i,_,I,X,le,N,b,!1);return;case"select":xt("invalid",i),p=N=_=null;for(b in u)if(u.hasOwnProperty(b)&&(I=u[b],I!=null))switch(b){case"value":_=I;break;case"defaultValue":N=I;break;case"multiple":p=I;default:Ut(i,l,b,I,u,null)}l=_,u=N,i.multiple=!!p,l!=null?Bo(i,!!p,l,!1):u!=null&&Bo(i,!!p,u,!0);return;case"textarea":xt("invalid",i),_=b=p=null;for(N in u)if(u.hasOwnProperty(N)&&(I=u[N],I!=null))switch(N){case"value":p=I;break;case"defaultValue":b=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(91));break;default:Ut(i,l,N,I,u,null)}Ok(i,p,b,_);return;case"option":for(X in u)u.hasOwnProperty(X)&&(p=u[X],p!=null)&&(X==="selected"?i.selected=p&&typeof p!="function"&&typeof p!="symbol":Ut(i,l,X,p,u,null));return;case"dialog":xt("beforetoggle",i),xt("toggle",i),xt("cancel",i),xt("close",i);break;case"iframe":case"object":xt("load",i);break;case"video":case"audio":for(p=0;p<dh.length;p++)xt(dh[p],i);break;case"image":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"embed":case"source":case"link":xt("error",i),xt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in u)if(u.hasOwnProperty(le)&&(p=u[le],p!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Ut(i,l,le,p,u,null)}return;default:if(Yy(l)){for(me in u)u.hasOwnProperty(me)&&(p=u[me],p!==void 0&&Dv(i,l,me,p,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(p=u[I],p!=null&&Ut(i,l,I,p,u,null))}function gL(i,l,u,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,_=null,N=null,I=null,X=null,le=null,me=null;for(he in u){var ye=u[he];if(u.hasOwnProperty(he)&&ye!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":X=ye;default:p.hasOwnProperty(he)||Ut(i,l,he,null,p,ye)}}for(var ue in p){var he=p[ue];if(ye=u[ue],p.hasOwnProperty(ue)&&(he!=null||ye!=null))switch(ue){case"type":_=he;break;case"name":b=he;break;case"checked":le=he;break;case"defaultChecked":me=he;break;case"value":N=he;break;case"defaultValue":I=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,l));break;default:he!==ye&&Ut(i,l,ue,he,p,ye)}}Ky(i,N,I,X,le,me,_,b);return;case"select":he=N=I=ue=null;for(_ in u)if(X=u[_],u.hasOwnProperty(_)&&X!=null)switch(_){case"value":break;case"multiple":he=X;default:p.hasOwnProperty(_)||Ut(i,l,_,null,p,X)}for(b in p)if(_=p[b],X=u[b],p.hasOwnProperty(b)&&(_!=null||X!=null))switch(b){case"value":ue=_;break;case"defaultValue":I=_;break;case"multiple":N=_;default:_!==X&&Ut(i,l,b,_,p,X)}l=I,u=N,p=he,ue!=null?Bo(i,!!u,ue,!1):!!p!=!!u&&(l!=null?Bo(i,!!u,l,!0):Bo(i,!!u,u?[]:"",!1));return;case"textarea":he=ue=null;for(I in u)if(b=u[I],u.hasOwnProperty(I)&&b!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Ut(i,l,I,null,p,b)}for(N in p)if(b=p[N],_=u[N],p.hasOwnProperty(N)&&(b!=null||_!=null))switch(N){case"value":ue=b;break;case"defaultValue":he=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:b!==_&&Ut(i,l,N,b,p,_)}Rk(i,ue,he);return;case"option":for(var Ue in u)ue=u[Ue],u.hasOwnProperty(Ue)&&ue!=null&&!p.hasOwnProperty(Ue)&&(Ue==="selected"?i.selected=!1:Ut(i,l,Ue,null,p,ue));for(X in p)ue=p[X],he=u[X],p.hasOwnProperty(X)&&ue!==he&&(ue!=null||he!=null)&&(X==="selected"?i.selected=ue&&typeof ue!="function"&&typeof ue!="symbol":Ut(i,l,X,ue,p,he));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in u)ue=u[Ze],u.hasOwnProperty(Ze)&&ue!=null&&!p.hasOwnProperty(Ze)&&Ut(i,l,Ze,null,p,ue);for(le in p)if(ue=p[le],he=u[le],p.hasOwnProperty(le)&&ue!==he&&(ue!=null||he!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,l));break;default:Ut(i,l,le,ue,p,he)}return;default:if(Yy(l)){for(var Vt in u)ue=u[Vt],u.hasOwnProperty(Vt)&&ue!==void 0&&!p.hasOwnProperty(Vt)&&Dv(i,l,Vt,void 0,p,ue);for(me in p)ue=p[me],he=u[me],!p.hasOwnProperty(me)||ue===he||ue===void 0&&he===void 0||Dv(i,l,me,ue,p,he);return}}for(var se in u)ue=u[se],u.hasOwnProperty(se)&&ue!=null&&!p.hasOwnProperty(se)&&Ut(i,l,se,null,p,ue);for(ye in p)ue=p[ye],he=u[ye],!p.hasOwnProperty(ye)||ue===he||ue==null&&he==null||Ut(i,l,ye,ue,p,he)}function D4(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yL(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var b=u[p],_=b.transferSize,N=b.initiatorType,I=b.duration;if(_&&I&&D4(N)){for(N=0,I=b.responseEnd,p+=1;p<u.length;p++){var X=u[p],le=X.startTime;if(le>I)break;var me=X.transferSize,ye=X.initiatorType;me&&D4(ye)&&(X=X.responseEnd,N+=me*(X<I?1:(I-le)/(X-le)))}if(--p,l+=8*(_+N)/(b.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Lv=null,Iv=null;function qp(i){return i.nodeType===9?i:i.ownerDocument}function L4(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I4(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Pv(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var zv=null;function vL(){var i=window.event;return i&&i.type==="popstate"?i===zv?!1:(zv=i,!0):(zv=null,!1)}var P4=typeof setTimeout=="function"?setTimeout:void 0,bL=typeof clearTimeout=="function"?clearTimeout:void 0,z4=typeof Promise=="function"?Promise:void 0,_L=typeof queueMicrotask=="function"?queueMicrotask:typeof z4<"u"?function(i){return z4.resolve(null).then(i).catch(xL)}:P4;function xL(i){setTimeout(function(){throw i})}function Ba(i){return i==="head"}function $4(i,l){var u=l,p=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(p===0){i.removeChild(b),hc(l);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")ph(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,ph(u);for(var _=u.firstChild;_;){var N=_.nextSibling,I=_.nodeName;_[Ou]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=N}}else u==="body"&&ph(i.ownerDocument.body);u=b}while(u);hc(l)}function H4(i,l){var u=i;i=0;do{var p=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=p}while(u)}function $v(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":$v(u),qy(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function wL(i,l,u,p){for(;i.nodeType===1;){var b=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Ou])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var _=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Sr(i.nextSibling),i===null)break}return null}function SL(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Sr(i.nextSibling),i===null))return null;return i}function U4(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Sr(i.nextSibling),i===null))return null;return i}function Hv(i){return i.data==="$?"||i.data==="$~"}function Uv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function kL(i,l){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||u.readyState!=="loading")l();else{var p=function(){l(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Sr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var Vv=null;function V4(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(l===0)return Sr(i.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}i=i.nextSibling}return null}function F4(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return i;l--}else u!=="/$"&&u!=="/&"||l++}i=i.previousSibling}return null}function q4(i,l,u){switch(l=qp(u),i){case"html":if(i=l.documentElement,!i)throw Error(s(452));return i;case"head":if(i=l.head,!i)throw Error(s(453));return i;case"body":if(i=l.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ph(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);qy(i)}var kr=new Map,W4=new Set;function Wp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fi=G.d;G.d={f:CL,r:NL,D:AL,C:EL,L:jL,m:TL,X:OL,S:RL,M:BL};function CL(){var i=Fi.f(),l=Ip();return i||l}function NL(i){var l=To(i);l!==null&&l.tag===5&&l.type==="form"?cN(l):Fi.r(i)}var oc=typeof document>"u"?null:document;function K4(i,l,u){var p=oc;if(p&&typeof l=="string"&&l){var b=gr(l);b='link[rel="'+i+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),W4.has(b)||(W4.add(b),i={rel:i,crossOrigin:u,href:l},p.querySelector(b)===null&&(l=p.createElement("link"),Jn(l,"link",i),Pn(l),p.head.appendChild(l)))}}function AL(i){Fi.D(i),K4("dns-prefetch",i,null)}function EL(i,l){Fi.C(i,l),K4("preconnect",i,l)}function jL(i,l,u){Fi.L(i,l,u);var p=oc;if(p&&i&&l){var b='link[rel="preload"][as="'+gr(l)+'"]';l==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+gr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+gr(u.imageSizes)+'"]')):b+='[href="'+gr(i)+'"]';var _=b;switch(l){case"style":_=cc(i);break;case"script":_=uc(i)}kr.has(_)||(i=m({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),kr.set(_,i),p.querySelector(b)!==null||l==="style"&&p.querySelector(mh(_))||l==="script"&&p.querySelector(gh(_))||(l=p.createElement("link"),Jn(l,"link",i),Pn(l),p.head.appendChild(l)))}}function TL(i,l){Fi.m(i,l);var u=oc;if(u&&i){var p=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+gr(p)+'"][href="'+gr(i)+'"]',_=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=uc(i)}if(!kr.has(_)&&(i=m({rel:"modulepreload",href:i},l),kr.set(_,i),u.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(gh(_)))return}p=u.createElement("link"),Jn(p,"link",i),Pn(p),u.head.appendChild(p)}}}function RL(i,l,u){Fi.S(i,l,u);var p=oc;if(p&&i){var b=Ro(p).hoistableStyles,_=cc(i);l=l||"default";var N=b.get(_);if(!N){var I={loading:0,preload:null};if(N=p.querySelector(mh(_)))I.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":l},u),(u=kr.get(_))&&Fv(i,u);var X=N=p.createElement("link");Pn(X),Jn(X,"link",i),X._p=new Promise(function(le,me){X.onload=le,X.onerror=me}),X.addEventListener("load",function(){I.loading|=1}),X.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Kp(N,l,p)}N={type:"stylesheet",instance:N,count:1,state:I},b.set(_,N)}}}function OL(i,l){Fi.X(i,l);var u=oc;if(u&&i){var p=Ro(u).hoistableScripts,b=uc(i),_=p.get(b);_||(_=u.querySelector(gh(b)),_||(i=m({src:i,async:!0},l),(l=kr.get(b))&&qv(i,l),_=u.createElement("script"),Pn(_),Jn(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(b,_))}}function BL(i,l){Fi.M(i,l);var u=oc;if(u&&i){var p=Ro(u).hoistableScripts,b=uc(i),_=p.get(b);_||(_=u.querySelector(gh(b)),_||(i=m({src:i,async:!0,type:"module"},l),(l=kr.get(b))&&qv(i,l),_=u.createElement("script"),Pn(_),Jn(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(b,_))}}function G4(i,l,u,p){var b=(b=te.current)?Wp(b):null;if(!b)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=cc(u.href),u=Ro(b).hoistableStyles,p=u.get(l),p||(p={type:"style",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=cc(u.href);var _=Ro(b).hoistableStyles,N=_.get(i);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,N),(_=b.querySelector(mh(i)))&&!_._p&&(N.instance=_,N.state.loading=5),kr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},kr.set(i,u),_||ML(b,i,u,N.state))),l&&p===null)throw Error(s(528,""));return N}if(l&&p!==null)throw Error(s(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=uc(u),u=Ro(b).hoistableScripts,p=u.get(l),p||(p={type:"script",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function cc(i){return'href="'+gr(i)+'"'}function mh(i){return'link[rel="stylesheet"]['+i+"]"}function Y4(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function ML(i,l,u,p){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=i.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Jn(l,"link",u),Pn(l),i.head.appendChild(l))}function uc(i){return'[src="'+gr(i)+'"]'}function gh(i){return"script[async]"+i}function X4(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var p=i.querySelector('style[data-href~="'+gr(u.href)+'"]');if(p)return l.instance=p,Pn(p),p;var b=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Pn(p),Jn(p,"style",b),Kp(p,u.precedence,i),l.instance=p;case"stylesheet":b=cc(u.href);var _=i.querySelector(mh(b));if(_)return l.state.loading|=4,l.instance=_,Pn(_),_;p=Y4(u),(b=kr.get(b))&&Fv(p,b),_=(i.ownerDocument||i).createElement("link"),Pn(_);var N=_;return N._p=new Promise(function(I,X){N.onload=I,N.onerror=X}),Jn(_,"link",p),l.state.loading|=4,Kp(_,u.precedence,i),l.instance=_;case"script":return _=uc(u.src),(b=i.querySelector(gh(_)))?(l.instance=b,Pn(b),b):(p=u,(b=kr.get(_))&&(p=m({},u),qv(p,b)),i=i.ownerDocument||i,b=i.createElement("script"),Pn(b),Jn(b,"link",p),i.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Kp(p,u.precedence,i));return l.instance}function Kp(i,l,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,_=b,N=0;N<p.length;N++){var I=p[N];if(I.dataset.precedence===l)_=I;else if(_!==b)break}_?_.parentNode.insertBefore(i,_.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function Fv(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function qv(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Gp=null;function J4(i,l,u){if(Gp===null){var p=new Map,b=Gp=new Map;b.set(u,p)}else b=Gp,p=b.get(u),p||(p=new Map,b.set(u,p));if(p.has(i))return p;for(p.set(i,null),u=u.getElementsByTagName(i),b=0;b<u.length;b++){var _=u[b];if(!(_[Ou]||_[Kn]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(l)||"";N=i+N;var I=p.get(N);I?I.push(_):p.set(N,[_])}}return p}function Q4(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function DL(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(i=l.disabled,typeof l.precedence=="string"&&i==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Z4(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function LL(i,l,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=cc(p.href),_=l.querySelector(mh(b));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=Yp.bind(i),l.then(i,i)),u.state.loading|=4,u.instance=_,Pn(_);return}_=l.ownerDocument||l,p=Y4(p),(b=kr.get(b))&&Fv(p,b),_=_.createElement("link"),Pn(_);var N=_;N._p=new Promise(function(I,X){N.onload=I,N.onerror=X}),Jn(_,"link",p),u.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Yp.bind(i),l.addEventListener("load",u),l.addEventListener("error",u))}}var Wv=0;function IL(i,l){return i.stylesheets&&i.count===0&&Jp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var p=setTimeout(function(){if(i.stylesheets&&Jp(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+l);0<i.imgBytes&&Wv===0&&(Wv=62500*yL());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Jp(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Wv?50:800)+l);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function Yp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xp=null;function Jp(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xp=new Map,l.forEach(PL,i),Xp=null,Yp.call(i))}function PL(i,l){if(!(l.state.loading&4)){var u=Xp.get(i);if(u)var p=u.get(null);else{u=new Map,Xp.set(i,u);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<b.length;_++){var N=b[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),p=N)}p&&u.set(null,p)}b=l.instance,N=b.getAttribute("data-precedence"),_=u.get(N)||p,_===p&&u.set(null,b),u.set(N,b),this.count++,p=Yp.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),_?_.parentNode.insertBefore(b,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),l.state.loading|=4}}var yh={$$typeof:E,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function zL(i,l,u,p,b,_,N,I,X){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ao(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.hiddenUpdates=Ao(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function e5(i,l,u,p,b,_,N,I,X,le,me,ye){return i=new zL(i,l,u,N,X,le,me,ye,I),l=1,_===!0&&(l|=24),_=Gs(3,null,null,l),i.current=_,_.stateNode=i,l=C1(),l.refCount++,i.pooledCache=l,l.refCount++,_.memoizedState={element:p,isDehydrated:u,cache:l},j1(_),i}function t5(i){return i?(i=Ho,i):Ho}function n5(i,l,u,p,b,_){b=t5(b),p.context===null?p.context=b:p.pendingContext=b,p=wa(l),p.payload={element:u},_=_===void 0?null:_,_!==null&&(p.callback=_),u=Sa(i,p,l),u!==null&&(Ls(u,i,l),Yu(u,i,l))}function s5(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Kv(i,l){s5(i,l),(i=i.alternate)&&s5(i,l)}function r5(i){if(i.tag===13||i.tag===31){var l=_l(i,67108864);l!==null&&Ls(l,i,67108864),Kv(i,67108864)}}function i5(i){if(i.tag===13||i.tag===31){var l=Zs();l=Uy(l);var u=_l(i,l);u!==null&&Ls(u,i,l),Kv(i,l)}}var Qp=!0;function $L(i,l,u,p){var b=L.T;L.T=null;var _=G.p;try{G.p=2,Gv(i,l,u,p)}finally{G.p=_,L.T=b}}function HL(i,l,u,p){var b=L.T;L.T=null;var _=G.p;try{G.p=8,Gv(i,l,u,p)}finally{G.p=_,L.T=b}}function Gv(i,l,u,p){if(Qp){var b=Yv(p);if(b===null)Mv(i,l,p,Zp,u),l5(i,p);else if(VL(b,i,l,u,p))p.stopPropagation();else if(l5(i,p),l&4&&-1<UL.indexOf(i)){for(;b!==null;){var _=To(b);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=ze(_.pendingLanes);if(N!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;N;){var X=1<<31-Re(N);I.entanglements[1]|=X,N&=~X}si(_),(Dt&6)===0&&(Dp=Ot()+500,hh(0))}}break;case 31:case 13:I=_l(_,2),I!==null&&Ls(I,_,2),Ip(),Kv(_,2)}if(_=Yv(p),_===null&&Mv(i,l,p,Zp,u),_===b)break;b=_}b!==null&&p.stopPropagation()}else Mv(i,l,p,null,u)}}function Yv(i){return i=Jy(i),Xv(i)}var Zp=null;function Xv(i){if(Zp=null,i=jo(i),i!==null){var l=a(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=o(l),i!==null)return i;i=null}else if(u===31){if(i=c(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return Zp=i,null}function a5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wn()){case pe:return 2;case _e:return 8;case We:case it:return 32;case St:return 268435456;default:return 32}default:return 32}}var Jv=!1,Ma=null,Da=null,La=null,vh=new Map,bh=new Map,Ia=[],UL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l5(i,l){switch(i){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":vh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":bh.delete(l.pointerId)}}function _h(i,l,u,p,b,_){return i===null||i.nativeEvent!==_?(i={blockedOn:l,domEventName:u,eventSystemFlags:p,nativeEvent:_,targetContainers:[b]},l!==null&&(l=To(l),l!==null&&r5(l)),i):(i.eventSystemFlags|=p,l=i.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),i)}function VL(i,l,u,p,b){switch(l){case"focusin":return Ma=_h(Ma,i,l,u,p,b),!0;case"dragenter":return Da=_h(Da,i,l,u,p,b),!0;case"mouseover":return La=_h(La,i,l,u,p,b),!0;case"pointerover":var _=b.pointerId;return vh.set(_,_h(vh.get(_)||null,i,l,u,p,b)),!0;case"gotpointercapture":return _=b.pointerId,bh.set(_,_h(bh.get(_)||null,i,l,u,p,b)),!0}return!1}function o5(i){var l=jo(i.target);if(l!==null){var u=a(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){i.blockedOn=l,wk(i.priority,function(){i5(u)});return}}else if(l===31){if(l=c(u),l!==null){i.blockedOn=l,wk(i.priority,function(){i5(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function em(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Yv(i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);Xy=p,u.target.dispatchEvent(p),Xy=null}else return l=To(u),l!==null&&r5(l),i.blockedOn=u,!1;l.shift()}return!0}function c5(i,l,u){em(i)&&u.delete(l)}function FL(){Jv=!1,Ma!==null&&em(Ma)&&(Ma=null),Da!==null&&em(Da)&&(Da=null),La!==null&&em(La)&&(La=null),vh.forEach(c5),bh.forEach(c5)}function tm(i,l){i.blockedOn===l&&(i.blockedOn=null,Jv||(Jv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FL)))}var nm=null;function u5(i){nm!==i&&(nm=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nm===i&&(nm=null);for(var l=0;l<i.length;l+=3){var u=i[l],p=i[l+1],b=i[l+2];if(typeof p!="function"){if(Xv(p||u)===null)continue;break}var _=To(u);_!==null&&(i.splice(l,3),l-=3,Y1(_,{pending:!0,data:b,method:u.method,action:p},p,b))}}))}function hc(i){function l(X){return tm(X,i)}Ma!==null&&tm(Ma,i),Da!==null&&tm(Da,i),La!==null&&tm(La,i),vh.forEach(l),bh.forEach(l);for(var u=0;u<Ia.length;u++){var p=Ia[u];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Ia.length&&(u=Ia[0],u.blockedOn===null);)o5(u),u.blockedOn===null&&Ia.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var b=u[p],_=u[p+1],N=b[Ts]||null;if(typeof _=="function")N||u5(u);else if(N){var I=null;if(_&&_.hasAttribute("formAction")){if(b=_,N=_[Ts]||null)I=N.formAction;else if(Xv(b)!==null)continue}else I=N.action;typeof I=="function"?u[p+1]=I:(u.splice(p,3),p-=3),u5(u)}}}function h5(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(N){return b=N})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function Qv(i){this._internalRoot=i}sm.prototype.render=Qv.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(s(409));var u=l.current,p=Zs();n5(u,p,i,l,null,null)},sm.prototype.unmount=Qv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;n5(i.current,2,null,i,null,null),Ip(),l[Eo]=null}};function sm(i){this._internalRoot=i}sm.prototype.unstable_scheduleHydration=function(i){if(i){var l=xk();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Ia.length&&l!==0&&l<Ia[u].priority;u++);Ia.splice(u,0,i),u===0&&o5(i)}};var d5=e.version;if(d5!=="19.2.3")throw Error(s(527,d5,"19.2.3"));G.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=d(l),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var qL={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rm.isDisabled&&rm.supportsFiber)try{ae=rm.inject(qL),fe=rm}catch{}}return wh.createRoot=function(i,l){if(!r(i))throw Error(s(299));var u=!1,p="",b=bN,_=_N,N=xN;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=e5(i,1,!1,null,null,u,p,null,b,_,N,h5),i[Eo]=l.current,Bv(i),new Qv(l)},wh.hydrateRoot=function(i,l,u){if(!r(i))throw Error(s(299));var p=!1,b="",_=bN,N=_N,I=xN,X=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.formState!==void 0&&(X=u.formState)),l=e5(i,1,!0,l,u??null,p,b,X,_,N,I,h5),l.context=t5(null),u=l.current,p=Zs(),p=Uy(p),b=wa(p),b.callback=null,Sa(u,b,p),u=p,l.current.lanes=u,ml(l,u),si(l),i[Eo]=l.current,Bv(i),new sm(l)},wh.version="19.2.3",wh}var S5;function eI(){if(S5)return tb.exports;S5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tb.exports=ZL(),tb.exports}var tI=eI(),ib={exports:{}},ab={};var k5;function nI(){if(k5)return ab;k5=1;var t=pg().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return ab.c=function(e){return t.H.useMemoCache(e)},ab}var C5;function sI(){return C5||(C5=1,ib.exports=nI()),ib.exports}var He=sI();const rI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),N5=t=>{const e=iI(t);return e.charAt(0).toUpperCase()+e.slice(1)},tT=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),aI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var lI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oI=W.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:a,iconNode:o,...c},h)=>W.createElement("svg",{ref:h,...lI,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:tT("lucide",r),...!a&&!aI(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,g])=>W.createElement(d,g)),...Array.isArray(a)?a:[a]]));const je=(t,e)=>{const n=W.forwardRef(({className:s,...r},a)=>W.createElement(oI,{ref:a,iconNode:e,className:tT(`lucide-${rI(N5(t))}`,`lucide-${t}`,s),...r}));return n.displayName=N5(t),n};const cI=[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]],nT=je("app-window",cI);const uI=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],ul=je("box",uI);const hI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sT=je("calendar",hI);const dI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nn=je("check",dI);const fI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rs=je("chevron-down",fI);const pI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Or=je("chevron-right",pI);const mI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gI=je("chevron-up",mI);const yI=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],vI=je("chevrons-up-down",yI);const bI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vo=je("circle-alert",bI);const _I=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xI=je("circle-check-big",_I);const wI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jr=je("circle-check",wI);const SI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ff=je("circle-question-mark",SI);const kI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xi=je("circle-x",kI);const CI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aa=je("clock",CI);const NI=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],AI=je("cloud",NI);const EI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],jI=je("columns-3",EI);const TI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],hs=je("copy",TI);const RI=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],mg=je("cpu",RI);const OI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],hl=je("database",OI);const BI=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],MI=je("diamond",BI);const DI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],iS=je("disc",DI);const LI=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],aS=je("external-link",LI);const II=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lS=je("eye-off",II);const PI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oS=je("eye",PI);const zI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],l0=je("file-check",zI);const $I=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],HI=je("file-down",$I);const UI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yi=je("file-text",UI);const VI=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Hd=je("folder-open",VI);const FI=[["path",{d:"M2 9.35V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h7",key:"y8kt7d"}],["path",{d:"m8 16 3-3-3-3",key:"rlqrt1"}]],qI=je("folder-symlink",FI);const WI=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],KI=je("folder-tree",WI);const GI=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YI=je("funnel",GI);const XI=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],cS=je("ghost",XI);const JI=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],o0=je("git-branch",JI);const QI=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],ZI=je("git-compare",QI);const e7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Br=je("globe",e7);const t7=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Us=je("hard-drive",t7);const n7=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],s7=je("hash",n7);const r7=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],gg=je("hexagon",r7);const i7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],a7=je("info",i7);const l7=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],pf=je("key-round",l7);const o7=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],mf=je("key",o7);const c7=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ll=je("layers",c7);const u7=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],rT=je("layout-grid",u7);const h7=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ou=je("link",h7);const d7=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],f7=je("list",d7);const p7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gl=je("loader-circle",p7);const m7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yg=je("lock",m7);const g7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],y7=je("mail",g7);const v7=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],b7=je("maximize-2",v7);const _7=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],ns=je("network",_7);const x7=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],iT=je("newspaper",x7);const w7=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],aT=je("package",w7);const S7=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],uS=je("pause",S7);const k7=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],hS=je("play",k7);const C7=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],N7=je("plug-zap",C7);const A7=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M17 8a1 1 0 0 1 1 1v4a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1z",key:"1xoxul"}],["path",{d:"M9 8V2",key:"14iosj"}]],lT=je("plug",A7);const E7=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],j7=je("puzzle",E7);const T7=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],R7=je("radio",T7);const O7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dn=je("refresh-cw",O7);const B7=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],dS=je("rocket",B7);const M7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],D7=je("rotate-ccw",M7);const L7=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Ud=je("route",L7);const I7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],P7=je("save",I7);const z7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$7=je("search",z7);const H7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],U7=je("send",H7);const V7=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Yr=je("server",V7);const F7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q7=je("settings",F7);const W7=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],K7=je("share-2",W7);const G7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oT=je("shield-check",G7);const Y7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cu=je("shield",Y7);const X7=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],J7=je("sparkles",X7);const Q7=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Z7=je("tag",Q7);const eP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tP=je("target",eP);const nP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sP=je("trash-2",nP);const rP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c0=je("triangle-alert",rP);const iP=[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]],aP=je("unplug",iP);const lP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cT=je("user",lP);const oP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fS=je("x",oP);const cP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vg=je("zap",cP);const uP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],hP=je("zoom-in",uP);const dP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],fP=je("zoom-out",dP),u0=new Map,h0=new Map,xd=new Map;function pP(t){t?(u0.delete(t),h0.delete(t),xd.delete(t)):(u0.clear(),h0.clear(),xd.clear())}function A5(t){return t===""?0:t==="apps"?1:t==="batch"?2:t==="networking.k8s.io"?3:t==="storage.k8s.io"?4:t==="rbac.authorization.k8s.io"?5:t.endsWith(".k8s.io")?10:100}function mP(t){const e=t.group||"";return e?`${t.name}.${e}`:t.name}function Yl(t){const e=t.group||"",n=t.version||"v1";return e?`/apis/${e}/${n}`:"/api/v1"}function E5(t,e,n){const s=mP(n);t.set(s,n);const r=A5(n.group||""),a=o=>{const c=e.get(o);if(!c)e.set(o,n);else{const h=A5(c.group||"");r<h&&e.set(o,n)}};if(a(n.name),n.singularName&&a(n.singularName),n.shortNames)for(const o of n.shortNames)a(o)}async function lb(t,e){const n=`/contexts/${e}${t}`,s=await fetch(n);if(!s.ok)throw new Error(`API request failed: ${s.status} ${s.statusText}`);return s.json()}async function bg(t){const e=h0.get(t);if(e)return e;const n=xd.get(t);if(n)return n;const s=(async()=>{const r=new Map,a=new Map;try{const o=await lb("/api/v1",t);for(const c of o.resources){if(c.name.includes("/"))continue;const h={...c,group:"",version:"v1"};E5(r,a,h)}}catch(o){console.warn("Failed to fetch core v1 resources:",o)}try{const o=await lb("/apis",t);await Promise.all(o.groups.map(async c=>{const h=c.preferredVersion?.version||c.versions[0]?.version;if(!h)return;const d=`/apis/${c.name}/${h}`;try{const g=await lb(d,t);for(const m of g.resources){if(m.name.includes("/"))continue;const v={...m,group:m.group||c.name,version:m.version||h};E5(r,a,v)}}catch(g){console.warn(`Failed to fetch resources for ${d}:`,g)}}))}catch(o){console.warn("Failed to fetch API groups:",o)}return u0.set(t,r),h0.set(t,a),xd.delete(t),a})();return xd.set(t,s),s}async function bo(t,e){return(await bg(t)).get(e)}async function gP(t,e){return await bg(t),u0.get(t)?.get(e)}async function j5(t,e,n){const s=await bg(t);let r="";n&&n.includes("/")&&(r=n.split("/")[0]);for(const a of s.values())if(a.kind===e)if(n){if((a.group||"")===r)return a}else return a;if(n){for(const a of s.values())if(a.kind===e)return a}}function yP(t){bg(t).catch(console.error)}function vP(t){const e=t.spec;if(!e)throw new Error("CRD is missing spec");const n=e.versions.find(a=>a.storage),s=e.versions.find(a=>a.served),r=n?.name||s?.name||e.versions[0]?.name;return{name:e.names.plural,singularName:e.names.singular||"",namespaced:e.scope==="Namespaced",group:e.group,version:r,kind:e.names.kind,verbs:["get","list","watch","create","update","patch","delete"],shortNames:e.names.shortNames}}async function la(t,e){const n=e?`/contexts/${e}${t}`:t,s=await fetch(n);if(!s.ok)throw new Error(`API request failed: ${s.status} ${s.statusText}`);return s.json()}async function bP(t){return la("/api/v1/namespaces",t)}async function _P(t){return(await la("/apis/apiextensions.k8s.io/v1/customresourcedefinitions",t)).items}async function w_(t,e,n,s){const r=Yl(e),a=e.namespaced&&s?`${r}/namespaces/${s}/${e.name}/${n}`:`${r}/${e.name}/${n}`;return la(a,t)}async function uT(t,e,n,s,r){const a=Yl(e),o=e.namespaced&&r?`${a}/namespaces/${r}/${e.name}/${n}`:`${a}/${e.name}/${n}`,c=`/contexts/${t}${o}`,h=await fetch(c,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!h.ok){const d=await h.text();let g=`API request failed: ${h.status} ${h.statusText}`;try{const m=JSON.parse(d);m.message&&(g=m.message)}catch{}throw new Error(g)}return h.json()}async function _g(t,e,n){const s=Yl(e),r=e.namespaced&&n?`${s}/namespaces/${n}/${e.name}`:`${s}/${e.name}`;return(await la(r,t)).items}async function S_(t,e,n){const s=n?`involvedObject.name=${e},involvedObject.namespace=${n}`:`involvedObject.name=${e}`,r=n?`/api/v1/namespaces/${n}/events?fieldSelector=${encodeURIComponent(s)}`:`/api/v1/events?fieldSelector=${encodeURIComponent(s)}`;return(await la(r,t)).items.sort((o,c)=>{const h=o.lastTimestamp||o.eventTime||o.metadata?.creationTimestamp||"",d=c.lastTimestamp||c.eventTime||c.metadata?.creationTimestamp||"";return new Date(d).getTime()-new Date(h).getTime()})}let wc={contexts:[]};async function xP(){try{const[t,e]=await Promise.all([fetch("/config.json"),fetch("/contexts")]);if(t.ok){const n=await t.json();wc={...wc,...n}}else console.warn("Failed to load config.json, using defaults");if(e.ok){const n=await e.json();wc.contexts=n}else console.warn("Failed to load contexts, using defaults");return wc}catch(t){return console.warn("Error loading config:",t),wc}}function Vd(){return wc}function wP(t,e){return e.some(n=>n.includes("*")?new RegExp(`^${n.replace(/\*/g,".*")}$`).test(t):n===t)}function SP({namespaces:t,selectedNamespace:e,onSelectNamespace:n,disabled:s=!1,spaceLabels:r=[],platformNamespaces:a=[]}){const[o,c]=W.useState(!1),[h,d]=W.useState(""),[g,m]=W.useState(-1),v=W.useRef(null),y=W.useRef(null),x=W.useRef(null),w=W.useMemo(()=>H=>wP(H,a),[a]),S=W.useMemo(()=>{const H=[],Y=new Set;for(const F of r){const K=new Map;for(const Q of t){const q=Q.metadata?.name;if(!q||Y.has(q))continue;const L=Q.metadata?.labels?.[F];L&&(K.has(L)||K.set(L,[]),K.get(L).push(Q),Y.add(q))}for(const[Q,q]of Array.from(K.entries()).sort(([L],[G])=>L.localeCompare(G)))H.push({label:Q,namespaces:q.sort((L,G)=>(L.metadata?.name||"").localeCompare(G.metadata?.name||""))})}const z=t.filter(F=>{const K=F.metadata?.name;return K&&!Y.has(K)&&!w(K)}).sort((F,K)=>(F.metadata?.name||"").localeCompare(K.metadata?.name||""));z.length>0&&H.push({label:"User",namespaces:z});const J=t.filter(F=>{const K=F.metadata?.name;return K&&!Y.has(K)&&w(K)}).sort((F,K)=>(F.metadata?.name||"").localeCompare(K.metadata?.name||""));return J.length>0&&H.push({label:"Platform",namespaces:J}),H},[t,r,w]),k=W.useMemo(()=>h===""?S:S.map(H=>({...H,namespaces:H.namespaces.filter(Y=>Y.metadata?.name?.toLowerCase().includes(h.toLowerCase()))})).filter(H=>H.namespaces.length>0),[S,h]),C=W.useMemo(()=>{const H=[];(h===""||"all namespaces".includes(h.toLowerCase()))&&H.push({value:"",label:"All Namespaces"});for(const z of k)for(const J of z.namespaces){const F=J.metadata?.name;F&&H.push({value:F,label:F})}return H},[k,h]),E=k.some(H=>H.namespaces.length>0),B=h===""||"all namespaces".includes(h.toLowerCase());W.useEffect(()=>{if(!o)return;function H(Y){v.current&&!v.current.contains(Y.target)&&(c(!1),d(""))}return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[o]),W.useEffect(()=>{o&&(y.current?.focus(),m(-1))},[o]);const D=H=>{n(H||void 0),c(!1),d("")},j=H=>{switch(H.key){case"ArrowDown":H.preventDefault(),m(Y=>Math.min(Y+1,C.length-1));break;case"ArrowUp":H.preventDefault(),m(Y=>Math.max(Y-1,0));break;case"Enter":H.preventDefault(),g>=0&&g<C.length&&D(C[g].value);break;case"Escape":c(!1),d("");break}};W.useEffect(()=>{g>=0&&x.current&&x.current.querySelector(`[data-index="${g}"]`)?.scrollIntoView({block:"nearest"})},[g]);let $=-1;return f.jsxs("div",{className:"relative",ref:v,children:[f.jsxs("div",{className:"relative",children:[f.jsx("input",{ref:y,type:"text",className:"w-full px-3 py-1.5 pr-8 bg-neutral-50 dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-lg text-sm text-left disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-1 focus:ring-neutral-400/50 dark:focus:ring-neutral-500/50 cursor-default placeholder:text-neutral-400",value:o?h:e||"All Namespaces",onChange:H=>d(H.target.value),onFocus:()=>!s&&c(!0),onKeyDown:j,placeholder:o?"Search...":void 0,disabled:s,readOnly:!o}),f.jsx("button",{type:"button",onClick:()=>!s&&c(!o),className:"absolute inset-y-0 right-0 flex items-center pr-2",disabled:s,children:f.jsx(rs,{size:16,className:"text-neutral-400 dark:text-neutral-500"})})]}),o&&f.jsx("div",{ref:x,className:"absolute z-50 w-full mt-1 bg-white dark:bg-neutral-950 rounded-lg shadow-xl max-h-96 overflow-y-auto focus:outline-none border border-neutral-200 dark:border-neutral-700",children:!E&&!B?f.jsx("div",{className:"px-3 py-3 text-sm text-neutral-500 dark:text-neutral-400",children:"No namespaces found"}):f.jsxs(f.Fragment,{children:[B&&f.jsxs("div",{"data-index":++$,onClick:()=>D(""),className:`px-3 py-2 cursor-pointer text-sm flex items-center justify-between ${g===$?"bg-neutral-100 dark:bg-neutral-700":""} ${e===void 0?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400"}`,children:[f.jsx("span",{className:"truncate",children:"All Namespaces"}),e===void 0&&f.jsx(Nn,{size:16,className:"text-neutral-500 dark:text-neutral-400"})]}),k.map(H=>f.jsxs("div",{className:"py-1",children:[f.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 dark:text-neutral-500 uppercase tracking-wider",children:H.label}),H.namespaces.map(Y=>{const z=Y.metadata?.name;if(!z)return null;const J=++$,F=e===z,K=g===J;return f.jsxs("div",{"data-index":J,onClick:()=>D(z),className:`mx-1 px-2.5 py-1.5 rounded-md cursor-pointer text-sm flex items-center justify-between ${K?"bg-neutral-100 dark:bg-neutral-700":""} ${F?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400"}`,children:[f.jsx("span",{className:"truncate",children:z}),F&&f.jsx(Nn,{size:16,className:"text-neutral-500 dark:text-neutral-400"})]},z)})]},H.label))]})})]})}function kP(t){const e=He.c(24),{contexts:n,selectedContext:s,onSelectContext:r}=t,[a,o]=W.useState(!1),c=W.useRef(null);let h,d;e[0]!==a?(h=()=>{if(!a)return;const B=function(j){c.current&&!c.current.contains(j.target)&&o(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},d=[a],e[0]=a,e[1]=h,e[2]=d):(h=e[1],d=e[2]),W.useEffect(h,d);let g;e[3]!==r?(g=B=>{r(B),o(!1)},e[3]=r,e[4]=g):g=e[4];const m=g;if(n.length<=1)return null;let v;e[5]!==a?(v=()=>o(!a),e[5]=a,e[6]=v):v=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y=f.jsx(Yr,{size:12,className:"opacity-60 group-hover:opacity-80"}),e[7]=y):y=e[7];let x;e[8]!==s?(x=f.jsx("span",{className:"truncate flex-1 text-left",children:s}),e[8]=s,e[9]=x):x=e[9];const w=`opacity-40 group-hover:opacity-60 transition-transform ${a?"rotate-180":""}`;let S;e[10]!==w?(S=f.jsx(rs,{size:12,className:w}),e[10]=w,e[11]=S):S=e[11];let k;e[12]!==v||e[13]!==x||e[14]!==S?(k=f.jsxs("button",{type:"button",onClick:v,className:"flex items-center gap-1.5 w-full px-1 py-0.5 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors rounded group",children:[y,x,S]}),e[12]=v,e[13]=x,e[14]=S,e[15]=k):k=e[15];let C;e[16]!==n||e[17]!==m||e[18]!==a||e[19]!==s?(C=a&&f.jsx("div",{className:"absolute z-50 left-0 right-0 mt-1 bg-white dark:bg-neutral-950 rounded-lg shadow-xl max-h-64 overflow-y-auto border border-neutral-200 dark:border-neutral-700",children:f.jsxs("div",{className:"py-1",children:[f.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 dark:text-neutral-500 uppercase tracking-wider",children:"Clusters"}),n.map(B=>{const D=s===B.name;return f.jsxs("div",{onClick:()=>m(B.name),className:`mx-1 px-2.5 py-1.5 rounded-md cursor-pointer text-sm flex items-center justify-between hover:bg-neutral-100 dark:hover:bg-neutral-800 ${D?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 truncate",children:[f.jsx(Yr,{size:14,className:"opacity-50 shrink-0"}),f.jsx("span",{className:"truncate",children:B.name})]}),D&&f.jsx(Nn,{size:14,className:"text-neutral-500 dark:text-neutral-400 shrink-0"})]},B.name)})]})}),e[16]=n,e[17]=m,e[18]=a,e[19]=s,e[20]=C):C=e[20];let E;return e[21]!==C||e[22]!==k?(E=f.jsxs("div",{className:"relative",ref:c,children:[k,C]}),e[21]=C,e[22]=k,e[23]=E):E=e[23],E}async function CP(t,e){const n=`/contexts/${e}${t}`,s=await fetch(n,{headers:{Accept:"application/json;as=Table;v=v1;g=meta.k8s.io"}});if(!s.ok)throw new Error(`API request failed: ${s.status} ${s.statusText}`);return s.json()}async function pS(t,e,n){const s=Yl(e),r=e.namespaced&&n?`${s}/namespaces/${n}/${e.name}`:`${s}/${e.name}`;return CP(r,t)}const hT=W.createContext(null);function hr(){const t=W.useContext(hT);if(!t)throw new Error("useCluster must be used within a ClusterProvider");return t}function T5(t,e){return t.name===e.name&&(t.group||"")===(e.group||"")}const R5=[{kind:"pods",label:"Pods",icon:ul,category:"workloads"},{kind:"deployments",label:"Deployments",icon:dS,category:"workloads"},{kind:"daemonsets",label:"DaemonSets",icon:cS,category:"workloads"},{kind:"statefulsets",label:"StatefulSets",icon:hl,category:"workloads"},{kind:"replicasets",label:"ReplicaSets",icon:ll,category:"workloads"},{kind:"jobs",label:"Jobs",icon:vg,category:"workloads"},{kind:"cronjobs",label:"CronJobs",icon:aa,category:"workloads"},{kind:"secrets",label:"Secrets",icon:pf,category:"config"},{kind:"configmaps",label:"ConfigMaps",icon:yi,category:"config"},{kind:"applications",label:"Applications",icon:nT,category:"config"},{kind:"applicationsets",label:"ApplicationSets",icon:rT,category:"config"},{kind:"certificates",label:"Certificates",icon:oT,category:"config"},{kind:"certificaterequests",label:"CertificateRequests",icon:l0,category:"config"},{kind:"services",label:"Services",icon:lT,category:"network"},{kind:"ingresses",label:"Ingresses",icon:Br,category:"network"},{kind:"gateways",label:"Gateways",icon:ns,category:"network"},{kind:"httproutes",label:"HTTPRoutes",icon:Br,category:"network"},{kind:"grpcroutes",label:"GRPCRoutes",icon:Br,category:"network"},{kind:"tcproutes",label:"TCPRoutes",icon:ns,category:"network"},{kind:"udproutes",label:"UDPRoutes",icon:ns,category:"network"},{kind:"tlsroutes",label:"TLSRoutes",icon:ns,category:"network"},{kind:"persistentvolumes",label:"PersistentVolumes",icon:Us,category:"storage"},{kind:"persistentvolumeclaims",label:"PersistentVolumeClaims",icon:iS,category:"storage"},{kind:"namespaces",label:"Namespaces",icon:Hd,category:"cluster"},{kind:"nodes",label:"Nodes",icon:Yr,category:"cluster"},{kind:"events",label:"Events",icon:iT,category:"cluster"}],O5={workloads:"Workloads",config:"Config",network:"Network",storage:"Storage",cluster:"Cluster",crd:"Custom Resources"};function NP(t){const e=He.c(58),{selectedResource:n,onSelectResource:s,isOverviewSelected:r}=t,{context:a,contexts:o,namespace:c,namespaces:h,setContext:d,setNamespace:g}=hr();let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=new Map,e[0]=m):m=e[0];const[v,y]=W.useState(m);let x;e[1]===Symbol.for("react.memo_cache_sentinel")?(x=[],e[1]=x):x=e[1];const[w,S]=W.useState(x);let k;e[2]===Symbol.for("react.memo_cache_sentinel")?(k={workloads:!0,config:!0,network:!0,storage:!0,cluster:!0,crd:!1},e[2]=k):k=e[2];const[C,E]=W.useState(k);let B,D;e[3]!==a?(B=()=>{(async()=>{const M=new Map;for(const R of R5){const O=await bo(a,R.kind);O&&M.set(R.kind,O)}y(M)})()},D=[a],e[3]=a,e[4]=B,e[5]=D):(B=e[4],D=e[5]),W.useEffect(B,D);let j,$;e[6]!==a?(j=()=>{_P(a).then(U=>{const M=U.map(vP);M.sort(RP),S(M)}).catch(TP)},$=[a],e[6]=a,e[7]=j,e[8]=$):(j=e[7],$=e[8]),W.useEffect(j,$);let H;e[9]===Symbol.for("react.memo_cache_sentinel")?(H=U=>{E(M=>({...M,[U]:!M[U]}))},e[9]=H):H=e[9];const Y=H;let z,J,F,K,Q,q;if(e[10]!==v||e[11]!==a||e[12]!==o||e[13]!==w||e[14]!==C||e[15]!==r||e[16]!==c||e[17]!==h||e[18]!==s||e[19]!==n||e[20]!==d||e[21]!==g){const U=R5.reduce(jP,{}),M=w.reduce(EP,{}),R=Object.entries(M).sort(AP);K="w-56 h-full shrink-0 bg-white dark:bg-black/40 backdrop-blur-xl flex flex-col rounded-xl border border-neutral-300/50 dark:border-neutral-700/50";let O;e[28]!==a||e[29]!==o||e[30]!==d?(O=f.jsx(kP,{contexts:o,selectedContext:a,onSelectContext:d}),e[28]=a,e[29]=o,e[30]=d,e[31]=O):O=e[31];const V=n!==null&&!n.namespaced;let A,Z;e[32]===Symbol.for("react.memo_cache_sentinel")?(A=Vd().platform?.spaces?.labels,Z=Vd().platform?.namespaces,e[32]=A,e[33]=Z):(A=e[32],Z=e[33]);let oe;e[34]!==c||e[35]!==h||e[36]!==g||e[37]!==V?(oe=f.jsx(SP,{namespaces:h,selectedNamespace:c,onSelectNamespace:g,disabled:V,spaceLabels:A,platformNamespaces:Z}),e[34]=c,e[35]=h,e[36]=g,e[37]=V,e[38]=oe):oe=e[38],e[39]!==O||e[40]!==oe?(Q=f.jsxs("div",{className:"shrink-0 px-3 pt-3 pb-2 space-y-2",children:[O,oe]}),e[39]=O,e[40]=oe,e[41]=Q):Q=e[41],q="flex-1 py-1 overflow-y-auto overflow-x-hidden min-h-0";const te=`flex items-center w-full px-3 py-2 text-sm rounded-lg transition-colors ${r?"bg-white/90 text-neutral-900 shadow-sm dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-white/50 hover:text-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-800/50 dark:hover:text-neutral-200"}`;let de;e[42]!==s?(de=()=>s(null),e[42]=s,e[43]=de):de=e[43];let xe,Ce;e[44]===Symbol.for("react.memo_cache_sentinel")?(xe=f.jsx(ns,{size:16,className:"mr-2.5 shrink-0 opacity-70"}),Ce=f.jsx("span",{className:"font-medium",children:"Overview"}),e[44]=xe,e[45]=Ce):(xe=e[44],Ce=e[45]),e[46]!==te||e[47]!==de?(z=f.jsx("div",{className:"mb-2 px-2",children:f.jsxs("button",{className:te,onClick:de,children:[xe,Ce]})}),e[46]=te,e[47]=de,e[48]=z):z=e[48],J=Object.entries(U).map(et=>{const[Ne,Ge]=et;return f.jsxs("div",{className:"mb-1",children:[f.jsxs("button",{className:"flex items-center w-full px-4 py-1.5 text-[11px] font-semibold uppercase tracking-wider text-neutral-500 hover:text-neutral-700 dark:text-neutral-500 dark:hover:text-neutral-400 transition-colors",onClick:()=>Y(Ne),children:[f.jsx("span",{className:"mr-1.5 opacity-60",children:C[Ne]?f.jsx(rs,{size:12}):f.jsx(Or,{size:12})}),f.jsx("span",{children:O5[Ne]})]}),C[Ne]&&f.jsx("ul",{className:"px-2",children:Ge.map(Te=>{const tt=v.get(Te.kind);if(!tt)return null;const mt=n!==null&&T5(tt,n);return f.jsx("li",{children:f.jsxs("button",{className:`flex items-center w-full px-3 py-2 text-sm rounded-lg transition-colors ${mt?"bg-white/90 text-neutral-900 shadow-sm dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-white/50 hover:text-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-800/50 dark:hover:text-neutral-200"}`,onClick:()=>s(tt),children:[f.jsx(Te.icon,{size:16,className:"mr-2.5 shrink-0 opacity-70"}),f.jsx("span",{className:"truncate",children:Te.label})]})},Te.kind)})})]},Ne)}),F=w.length>0&&f.jsxs("div",{className:"mb-1",children:[f.jsxs("button",{className:"flex items-center w-full px-4 py-1.5 text-[11px] font-semibold uppercase tracking-wider text-neutral-500 hover:text-neutral-700 dark:text-neutral-500 dark:hover:text-neutral-400 transition-colors",onClick:()=>Y("crd"),children:[f.jsx("span",{className:"mr-1.5 opacity-60",children:C.crd?f.jsx(rs,{size:12}):f.jsx(Or,{size:12})}),f.jsx("span",{children:O5.crd}),f.jsx("span",{className:"ml-auto px-1.5 py-0.5 bg-neutral-300/60 rounded text-[10px] text-neutral-500 dark:bg-neutral-700 dark:text-neutral-500",children:w.length})]}),C.crd&&f.jsx("div",{className:"px-2",children:R.map(et=>{const[Ne,Ge]=et;return f.jsxs("div",{className:"mb-1",children:[f.jsx("div",{className:"px-3 py-1 text-[10px] text-neutral-400 truncate lowercase dark:text-neutral-600",title:Ne,children:Ne}),f.jsx("ul",{children:Ge.map(Te=>{const tt=n!==null&&T5(Te,n);return f.jsx("li",{children:f.jsxs("button",{className:`flex items-center w-full px-3 py-2 text-sm rounded-lg transition-colors ${tt?"bg-white/90 text-neutral-900 shadow-sm dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-white/50 hover:text-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-800/50 dark:hover:text-neutral-200"}`,onClick:()=>s(Te),title:`${Te.kind} (${Te.group})`,children:[f.jsx(gg,{size:16,className:"mr-2.5 shrink-0 opacity-70"}),f.jsx("span",{className:"truncate",children:Te.kind})]})},`${Te.group||""}/${Te.name}`)})})]},Ne)})})]}),e[10]=v,e[11]=a,e[12]=o,e[13]=w,e[14]=C,e[15]=r,e[16]=c,e[17]=h,e[18]=s,e[19]=n,e[20]=d,e[21]=g,e[22]=z,e[23]=J,e[24]=F,e[25]=K,e[26]=Q,e[27]=q}else z=e[22],J=e[23],F=e[24],K=e[25],Q=e[26],q=e[27];let L;e[49]!==z||e[50]!==J||e[51]!==F||e[52]!==q?(L=f.jsxs("nav",{className:q,children:[z,J,F]}),e[49]=z,e[50]=J,e[51]=F,e[52]=q,e[53]=L):L=e[53];let G;return e[54]!==K||e[55]!==Q||e[56]!==L?(G=f.jsxs("aside",{className:K,children:[Q,L]}),e[54]=K,e[55]=Q,e[56]=L,e[57]=G):G=e[57],G}function AP(t,e){const[n]=t,[s]=e,r=n.split(".").reverse().join("."),a=s.split(".").reverse().join(".");return r.localeCompare(a)}function EP(t,e){const n=e.group||"core";return t[n]||(t[n]=[]),t[n].push(e),t}function jP(t,e){return t[e.category]||(t[e.category]=[]),t[e.category].push(e),t}function TP(t){console.error("Failed to load CRDs:",t)}function RP(t,e){return t.kind.localeCompare(e.kind)}const OP=["selector","containers","images","labels","annotations","nominated node","readiness gates","node selector"];function BP(){const t=He.c(3),[e,n]=W.useState(MP);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=o=>{const c=o.toLowerCase();n(h=>{const d=new Set(h);return d.has(c)?d.delete(c):d.add(c),d})},t[0]=s):s=t[0];const r=s;let a;return t[1]!==e?(a={hiddenColumns:e,toggleColumn:r},t[1]=e,t[2]=a):a=t[2],a}function MP(){return new Set(OP)}const dT=W.createContext(null);function DP(){const t=W.useContext(dT);if(!t)throw new Error("usePanels must be used within a PanelProvider");return t}const LP=5e3;function fT(t,e=[],n={}){const{refetchInterval:s=LP,refetchShowLoading:r=!1}=n,[a,o]=W.useState(null),[c,h]=W.useState(!0),[d,g]=W.useState(null),[m,v]=W.useState(!1),y=W.useRef(!0),x=W.useCallback(async(S=!1)=>{(!S||r)&&h(!0),S&&v(!0);try{const k=await t();o(k),g(null)}catch(k){S||g(k instanceof Error?k:new Error("Unknown error"))}finally{h(!1),v(!1)}},[t,r,...e]);W.useEffect(()=>{y.current=!0,x(!1)},[x]),W.useEffect(()=>{if(!s||s<=0)return;const S=setInterval(()=>{(!y.current||a!==null)&&x(!0),y.current=!1},s);return()=>clearInterval(S)},[x,s,a]);const w=W.useCallback(()=>{x(!1)},[x]);return{data:a,loading:c,error:d,refetch:w,isRefetching:m}}function IP(t,e){return t==null?"<none>":e.format==="date-time"&&typeof t=="string"?PP(t):Array.isArray(t)?t.length>0?t.join(", "):"<none>":typeof t=="object"?JSON.stringify(t):String(t)}function PP(t){const e=new Date(t),s=new Date().getTime()-e.getTime(),r=Math.floor(s/1e3),a=Math.floor(r/60),o=Math.floor(a/60),c=Math.floor(o/24);return c>0?`${c}d`:o>0?`${o}h`:a>0?`${a}m`:`${r}s`}function zP(t){const e=t.name.toLowerCase();return e==="status"||e==="phase"||e==="ready"||e==="condition"}function $P(t){const e=He.c(75),{config:n,hiddenColumns:s,onColumnsLoaded:r,selectedItem:a,onSelectItem:o}=t,{context:c,namespace:h}=hr();let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={column:null,direction:null},e[0]=d):d=e[0];const[g,m]=W.useState(d);let v,y;e[1]!==n||e[2]!==c||e[3]!==h?(v=()=>pS(c,n,h),y=[c,n,h],e[1]=n,e[2]=c,e[3]=h,e[4]=v,e[5]=y):(v=e[4],y=e[5]);const{data:x,loading:w,error:S,refetch:k,isRefetching:C}=fT(v,y);let E;e:{if(!x?.columnDefinitions){let M;e[6]===Symbol.for("react.memo_cache_sentinel")?(M=[],e[6]=M):M=e[6],E=M;break e}let U;if(e[7]!==x.columnDefinitions||e[8]!==s){let M;e[10]!==s?(M=R=>!s.has(R.name.toLowerCase()),e[10]=s,e[11]=M):M=e[11],U=x.columnDefinitions.filter(M),e[7]=x.columnDefinitions,e[8]=s,e[9]=U}else U=e[9];E=U}const B=E;let D;e:{if(!x?.rows||!g.column||!g.direction){let V;e[12]!==x?.rows?(V=x?.rows??[],e[12]=x?.rows,e[13]=V):V=e[13],D=V;break e}let U;if(e[14]!==x.columnDefinitions||e[15]!==g){let V;e[17]!==g?(V=A=>A.name===g.column,e[17]=g,e[18]=V):V=e[18],U=x.columnDefinitions.findIndex(V),e[14]=x.columnDefinitions,e[15]=g,e[16]=U}else U=e[16];const M=U;if(M===-1){D=x.rows;break e}const R=x.columnDefinitions[M];let O;if(e[19]!==R||e[20]!==M||e[21]!==x.rows||e[22]!==g){let V;e[24]!==R||e[25]!==M||e[26]!==g?(V=(A,Z)=>{const oe=A.cells[M],te=Z.cells[M];if(oe==null&&te==null)return 0;if(oe==null)return g.direction==="asc"?-1:1;if(te==null)return g.direction==="asc"?1:-1;let de;if(R.format==="date-time"){const xe=new Date(String(oe)).getTime(),Ce=new Date(String(te)).getTime();de=xe-Ce}else typeof oe=="number"&&typeof te=="number"?de=oe-te:de=String(oe).localeCompare(String(te));return g.direction==="asc"?de:-de},e[24]=R,e[25]=M,e[26]=g,e[27]=V):V=e[27],O=[...x.rows].sort(V),e[19]=R,e[20]=M,e[21]=x.rows,e[22]=g,e[23]=O}else O=e[23];D=O}const j=D;let $;e[28]===Symbol.for("react.memo_cache_sentinel")?($=U=>{m(M=>M.column!==U?{column:U,direction:"asc"}:M.direction==="asc"?{column:U,direction:"desc"}:{column:null,direction:null})},e[28]=$):$=e[28];const H=$;let Y,z;if(e[29]!==x||e[30]!==r?(Y=()=>{x?.columnDefinitions&&r&&r(x.columnDefinitions)},z=[x,r],e[29]=x,e[30]=r,e[31]=Y,e[32]=z):(Y=e[31],z=e[32]),W.useEffect(Y,z),w){let U;e[33]===Symbol.for("react.memo_cache_sentinel")?(U=f.jsx("div",{className:"w-6 h-6 border-2 border-neutral-200 border-t-neutral-400 dark:border-neutral-700 dark:border-t-neutral-500 rounded-full animate-spin"}),e[33]=U):U=e[33];let M;return e[34]!==n.name?(M=f.jsx("div",{className:"h-full flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center gap-3 text-neutral-400 dark:text-neutral-500",children:[U,f.jsxs("span",{className:"text-sm",children:["Loading ",n.name,"..."]})]})}),e[34]=n.name,e[35]=M):M=e[35],M}if(S){let U;e[36]===Symbol.for("react.memo_cache_sentinel")?(U=f.jsx(c0,{size:18}),e[36]=U):U=e[36];let M;e[37]!==S.message?(M=f.jsx("span",{className:"text-sm",children:S.message}),e[37]=S.message,e[38]=M):M=e[38];let R;e[39]!==k?(R=f.jsx("button",{onClick:k,className:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 underline underline-offset-2",children:"Retry"}),e[39]=k,e[40]=R):R=e[40];let O;return e[41]!==M||e[42]!==R?(O=f.jsx("div",{className:"h-full flex items-center justify-center",children:f.jsxs("div",{className:"flex items-center gap-3 text-red-500 dark:text-red-400",children:[U,M,R]})}),e[41]=M,e[42]=R,e[43]=O):O=e[43],O}if(!x||!x.columnDefinitions||x.rows.length===0){let U;e[44]===Symbol.for("react.memo_cache_sentinel")?(U=f.jsx("svg",{className:"w-8 h-8 mb-2 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e[44]=U):U=e[44];let M;return e[45]!==n.name?(M=f.jsx("div",{className:"h-full flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center text-neutral-400 dark:text-neutral-500",children:[U,f.jsxs("span",{className:"text-sm",children:["No ",n.name," found"]})]})}),e[45]=n.name,e[46]=M):M=e[46],M}let J;e[47]!==C?(J=C&&f.jsx("div",{className:"absolute top-2 right-4 z-20",children:f.jsx(Dn,{size:14,className:"text-neutral-400 dark:text-neutral-500 animate-spin"})}),e[47]=C,e[48]=J):J=e[48];let F;if(e[49]!==g||e[50]!==B){let U;e[52]!==g?(U=(M,R)=>{const O=g.column===M.name;return f.jsx("th",{title:M.description,onClick:()=>H(M.name),className:`text-left px-4 py-2 text-[11px] font-medium whitespace-nowrap cursor-pointer transition-colors select-none group bg-neutral-100 dark:bg-neutral-950 ${O?"text-neutral-900 dark:text-neutral-200":"text-neutral-500 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-400"}`,children:f.jsxs("div",{className:"flex items-center gap-1",children:[M.name,f.jsx("span",{className:`transition-opacity ${O?"opacity-100":"opacity-0 group-hover:opacity-40"}`,children:O&&g.direction==="asc"?f.jsx(gI,{size:12}):O&&g.direction==="desc"?f.jsx(rs,{size:12}):f.jsx(vI,{size:12})})]})},R)},e[52]=g,e[53]=U):U=e[53],F=B.map(U),e[49]=g,e[50]=B,e[51]=F}else F=e[51];let K;e[54]!==F?(K=f.jsx("thead",{className:"sticky top-0 z-10 bg-neutral-100 dark:bg-neutral-950",children:f.jsx("tr",{children:F})}),e[54]=F,e[55]=K):K=e[55];let Q;if(e[56]!==x||e[57]!==o||e[58]!==a?.object||e[59]!==j||e[60]!==B){let U;e[62]!==x||e[63]!==o||e[64]!==a?.object||e[65]!==B?(U=(M,R)=>{const O=a?.object.metadata.uid===M.object.metadata.uid,V=R%2===1;return f.jsx("tr",{onClick:()=>o?.(O?null:M),className:`transition-colors cursor-pointer ${O?"bg-blue-500/20 dark:bg-blue-500/20":V?"bg-neutral-200/40 dark:bg-neutral-800/30 hover:bg-neutral-200/70 dark:hover:bg-neutral-800/50":"hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30"}`,children:B.map((A,Z)=>{const oe=x.columnDefinitions.findIndex(Ce=>Ce.name===A.name),te=M.cells[oe],de=IP(te,A),xe=A.name.toLowerCase()==="name";return zP(A)?f.jsx("td",{className:`px-4 py-2 whitespace-nowrap ${Z===0?"rounded-l-lg":""} ${Z===B.length-1?"rounded-r-lg":""}`,children:f.jsxs("span",{className:`inline-flex items-center gap-1.5 text-xs font-medium capitalize ${de.toLowerCase().match(/running|active|ready|available|bound|succeeded|complete|healthy|true/)?"text-emerald-600 dark:text-emerald-400":de.toLowerCase().match(/pending|creating|waiting|progressing|scheduled/)?"text-amber-600 dark:text-amber-400":de.toLowerCase().match(/failed|error|crashloopbackoff|terminated|unknown|lost|false/)?"text-red-600 dark:text-red-400":"text-neutral-500 dark:text-neutral-400"}`,children:[f.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${de.toLowerCase().match(/running|active|ready|available|bound|succeeded|complete|healthy|true/)?"bg-emerald-500":de.toLowerCase().match(/pending|creating|waiting|progressing|scheduled/)?"bg-amber-500":de.toLowerCase().match(/failed|error|crashloopbackoff|terminated|unknown|lost|false/)?"bg-red-500":"bg-neutral-400"}`}),de]})},Z):f.jsx("td",{className:`px-4 py-2 whitespace-nowrap ${Z===0?"rounded-l-lg":""} ${Z===B.length-1?"rounded-r-lg":""} ${xe?"text-neutral-900 dark:text-neutral-300":"text-neutral-500 dark:text-neutral-500"}`,children:de},Z)})},M.object.metadata.uid)},e[62]=x,e[63]=o,e[64]=a?.object,e[65]=B,e[66]=U):U=e[66],Q=j.map(U),e[56]=x,e[57]=o,e[58]=a?.object,e[59]=j,e[60]=B,e[61]=Q}else Q=e[61];let q;e[67]!==Q?(q=f.jsx("tbody",{children:Q}),e[67]=Q,e[68]=q):q=e[68];let L;e[69]!==K||e[70]!==q?(L=f.jsx("div",{className:"overflow-auto h-full",children:f.jsxs("table",{className:"w-full text-[13px]",children:[K,q]})}),e[69]=K,e[70]=q,e[71]=L):L=e[71];let G;return e[72]!==L||e[73]!==J?(G=f.jsxs("div",{className:"pl-2 h-full relative",children:[J,L]}),e[72]=L,e[73]=J,e[74]=G):G=e[74],G}function HP(t){const e=He.c(19),{columns:n,hiddenColumns:s,onToggleColumn:r}=t,[a,o]=W.useState(!1),c=W.useRef(null);let h,d;e[0]!==a?(h=()=>{if(!a)return;const k=function(E){c.current&&!c.current.contains(E.target)&&o(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},d=[a],e[0]=a,e[1]=h,e[2]=d):(h=e[1],d=e[2]),W.useEffect(h,d);let g,m;if(e[3]!==a?(g=()=>{if(!a)return;const k=function(E){E.key==="Escape"&&o(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},m=[a],e[3]=a,e[4]=g,e[5]=m):(g=e[4],m=e[5]),W.useEffect(g,m),n.length===0)return null;let v;e[6]!==a?(v=()=>o(!a),e[6]=a,e[7]=v):v=e[7];let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y=f.jsx(jI,{size:18}),e[8]=y):y=e[8];let x;e[9]!==v?(x=f.jsx("button",{onClick:v,className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 rounded-md transition-colors focus:outline-none",title:"Toggle columns",children:y}),e[9]=v,e[10]=x):x=e[10];let w;e[11]!==n||e[12]!==s||e[13]!==a||e[14]!==r?(w=a&&f.jsx("div",{className:"absolute right-0 z-50 mt-1 p-2 bg-white border border-neutral-300 dark:bg-neutral-900 dark:border-neutral-700 rounded-lg shadow-xl min-w-45 max-h-75 overflow-y-auto",children:n.map(k=>{const C=!s.has(k.name.toLowerCase());return f.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 cursor-pointer rounded hover:bg-neutral-100 dark:hover:bg-neutral-800",children:[f.jsx("span",{onClick:()=>r(k.name),className:`size-4 rounded border flex items-center justify-center cursor-pointer transition-colors ${C?"bg-neutral-500 border-neutral-500 dark:bg-neutral-600 dark:border-neutral-500":"border-neutral-300 bg-white dark:border-neutral-600 dark:bg-neutral-800"}`,children:C&&f.jsx(Nn,{size:12,className:"text-white dark:text-neutral-300"})}),f.jsx("span",{onClick:()=>r(k.name),className:"text-sm text-neutral-700 dark:text-neutral-400 cursor-pointer",children:k.name})]},k.name)})}),e[11]=n,e[12]=s,e[13]=a,e[14]=r,e[15]=w):w=e[15];let S;return e[16]!==x||e[17]!==w?(S=f.jsxs("div",{className:"relative",ref:c,children:[x,w]}),e[16]=x,e[17]=w,e[18]=S):S=e[18],S}function nt(t,e,n,s,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function ce(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}let pT=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return pT=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};function k_(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const C_=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Xe extends Error{}class is extends Xe{constructor(e,n,s,r){super(`${is.makeMessage(e,n,s)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=n;const a=n;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,n,s){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,s,r){if(!e||!r)return new xg({message:s,cause:C_(n)});const a=n?.error;return e===400?new mT(e,a,s,r):e===401?new gT(e,a,s,r):e===403?new yT(e,a,s,r):e===404?new vT(e,a,s,r):e===409?new bT(e,a,s,r):e===422?new _T(e,a,s,r):e===429?new xT(e,a,s,r):e>=500?new wT(e,a,s,r):new is(e,a,s,r)}}class Tr extends is{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class xg extends is{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class mS extends xg{constructor({message:e}={}){super({message:e??"Request timed out."})}}class mT extends is{}class gT extends is{}class yT extends is{}class vT extends is{}class bT extends is{}class _T extends is{}class xT extends is{}class wT extends is{}class ST extends Xe{constructor(){super("Could not parse response content as the length limit was reached")}}class kT extends Xe{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class $h extends Error{constructor(e){super(e)}}const UP=/^[a-z][a-z0-9+.-]*:/i,VP=t=>UP.test(t);let $s=t=>($s=Array.isArray,$s(t)),B5=$s;function CT(t){return typeof t!="object"?{}:t??{}}function FP(t){if(!t)return!0;for(const e in t)return!1;return!0}function qP(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ob(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const WP=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Xe(`${t} must be an integer`);if(e<0)throw new Xe(`${t} must be a positive integer`);return e},KP=t=>{try{return JSON.parse(t)}catch{return}},gf=t=>new Promise(e=>setTimeout(e,t)),Sc="6.15.0",GP=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function YP(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const XP=()=>{const t=YP();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":D5(Deno.build.os),"X-Stainless-Arch":M5(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":D5(globalThis.process.platform??"unknown"),"X-Stainless-Arch":M5(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=JP();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function JP(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,a=s[2]||0,o=s[3]||0;return{browser:e,version:`${r}.${a}.${o}`}}}return null}const M5=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",D5=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let L5;const QP=()=>L5??(L5=XP());function ZP(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function NT(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function AT(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return NT({start(){},async pull(n){const{done:s,value:r}=await e.next();s?n.close():n.enqueue(r)},async cancel(){await e.return?.()}})}function ET(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ez(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const tz=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),jT="RFC3986",TT=t=>String(t),I5={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:TT},nz="RFC1738";let N_=(t,e)=>(N_=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),N_(t,e));const ri=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),cb=1024,sz=(t,e,n,s,r)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let o="";for(let c=0;c<a.length;c+=cb){const h=a.length>=cb?a.slice(c,c+cb):a,d=[];for(let g=0;g<h.length;++g){let m=h.charCodeAt(g);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||r===nz&&(m===40||m===41)){d[d.length]=h.charAt(g);continue}if(m<128){d[d.length]=ri[m];continue}if(m<2048){d[d.length]=ri[192|m>>6]+ri[128|m&63];continue}if(m<55296||m>=57344){d[d.length]=ri[224|m>>12]+ri[128|m>>6&63]+ri[128|m&63];continue}g+=1,m=65536+((m&1023)<<10|h.charCodeAt(g)&1023),d[d.length]=ri[240|m>>18]+ri[128|m>>12&63]+ri[128|m>>6&63]+ri[128|m&63]}o+=d.join("")}return o};function rz(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function P5(t,e){if($s(t)){const n=[];for(let s=0;s<t.length;s+=1)n.push(e(t[s]));return n}return e(t)}const RT={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},OT=function(t,e){Array.prototype.push.apply(t,$s(e)?e:[e])};let z5;const Bn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:sz,encodeValuesOnly:!1,format:jT,formatter:TT,indices:!1,serializeDate(t){return(z5??(z5=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function iz(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const ub={};function BT(t,e,n,s,r,a,o,c,h,d,g,m,v,y,x,w,S,k){let C=t,E=k,B=0,D=!1;for(;(E=E.get(ub))!==void 0&&!D;){const z=E.get(t);if(B+=1,typeof z<"u"){if(z===B)throw new RangeError("Cyclic object value");D=!0}typeof E.get(ub)>"u"&&(B=0)}if(typeof d=="function"?C=d(e,C):C instanceof Date?C=v?.(C):n==="comma"&&$s(C)&&(C=P5(C,function(z){return z instanceof Date?v?.(z):z})),C===null){if(a)return h&&!w?h(e,Bn.encoder,S,"key",y):e;C=""}if(iz(C)||rz(C)){if(h){const z=w?e:h(e,Bn.encoder,S,"key",y);return[x?.(z)+"="+x?.(h(C,Bn.encoder,S,"value",y))]}return[x?.(e)+"="+x?.(String(C))]}const j=[];if(typeof C>"u")return j;let $;if(n==="comma"&&$s(C))w&&h&&(C=P5(C,h)),$=[{value:C.length>0?C.join(",")||null:void 0}];else if($s(d))$=d;else{const z=Object.keys(C);$=g?z.sort(g):z}const H=c?String(e).replace(/\./g,"%2E"):String(e),Y=s&&$s(C)&&C.length===1?H+"[]":H;if(r&&$s(C)&&C.length===0)return Y+"[]";for(let z=0;z<$.length;++z){const J=$[z],F=typeof J=="object"&&typeof J.value<"u"?J.value:C[J];if(o&&F===null)continue;const K=m&&c?J.replace(/\./g,"%2E"):J,Q=$s(C)?typeof n=="function"?n(Y,K):Y:Y+(m?"."+K:"["+K+"]");k.set(t,B);const q=new WeakMap;q.set(ub,k),OT(j,BT(F,Q,n,s,r,a,o,c,n==="comma"&&w&&$s(C)?null:h,d,g,m,v,y,x,w,S,q))}return j}function az(t=Bn){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Bn.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=jT;if(typeof t.format<"u"){if(!N_(I5,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const s=I5[n];let r=Bn.filter;(typeof t.filter=="function"||$s(t.filter))&&(r=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in RT?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=Bn.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Bn.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Bn.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Bn.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Bn.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Bn.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Bn.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Bn.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Bn.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Bn.encodeValuesOnly,filter:r,format:n,formatter:s,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Bn.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Bn.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Bn.strictNullHandling}}function lz(t,e={}){let n=t;const s=az(e);let r,a;typeof s.filter=="function"?(a=s.filter,n=a("",n)):$s(s.filter)&&(a=s.filter,r=a);const o=[];if(typeof n!="object"||n===null)return"";const c=RT[s.arrayFormat],h=c==="comma"&&s.commaRoundTrip;r||(r=Object.keys(n)),s.sort&&r.sort(s.sort);const d=new WeakMap;for(let v=0;v<r.length;++v){const y=r[v];s.skipNulls&&n[y]===null||OT(o,BT(n[y],y,c,h,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,d))}const g=o.join(s.delimiter);let m=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),g.length>0?m+g:""}function oz(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let s=0;for(const r of t)n.set(r,s),s+=r.length;return n}let $5;function gS(t){let e;return($5??(e=new globalThis.TextEncoder,$5=e.encode.bind(e)))(t)}let H5;function U5(t){let e;return(H5??(e=new globalThis.TextDecoder,H5=e.decode.bind(e)))(t)}var nr,sr;class wg{constructor(){nr.set(this,void 0),sr.set(this,void 0),nt(this,nr,new Uint8Array),nt(this,sr,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?gS(e):e;nt(this,nr,oz([ce(this,nr,"f"),n]));const s=[];let r;for(;(r=cz(ce(this,nr,"f"),ce(this,sr,"f")))!=null;){if(r.carriage&&ce(this,sr,"f")==null){nt(this,sr,r.index);continue}if(ce(this,sr,"f")!=null&&(r.index!==ce(this,sr,"f")+1||r.carriage)){s.push(U5(ce(this,nr,"f").subarray(0,ce(this,sr,"f")-1))),nt(this,nr,ce(this,nr,"f").subarray(ce(this,sr,"f"))),nt(this,sr,null);continue}const a=ce(this,sr,"f")!==null?r.preceding-1:r.preceding,o=U5(ce(this,nr,"f").subarray(0,a));s.push(o),nt(this,nr,ce(this,nr,"f").subarray(r.index)),nt(this,sr,null)}return s}flush(){return ce(this,nr,"f").length?this.decode(`
`):[]}}nr=new WeakMap,sr=new WeakMap;wg.NEWLINE_CHARS=new Set([`
`,"\r"]);wg.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function cz(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function uz(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}const d0={off:0,error:200,warn:300,info:400,debug:500},V5=(t,e,n)=>{if(t){if(qP(d0,t))return t;Qn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(d0))}`)}};function Hh(){}function im(t,e,n){return!e||d0[t]>d0[n]?Hh:e[t].bind(e)}const hz={error:Hh,warn:Hh,info:Hh,debug:Hh};let F5=new WeakMap;function Qn(t){const e=t.logger,n=t.logLevel??"off";if(!e)return hz;const s=F5.get(e);if(s&&s[0]===n)return s[1];const r={error:im("error",e,n),warn:im("warn",e,n),info:im("info",e,n),debug:im("debug",e,n)};return F5.set(e,[n,r]),r}const Dl=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Sh;class hi{constructor(e,n,s){this.iterator=e,Sh.set(this,void 0),this.controller=n,nt(this,Sh,s)}static fromSSEResponse(e,n,s){let r=!1;const a=s?Qn(s):console;async function*o(){if(r)throw new Xe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const h of dz(e,n))if(!c){if(h.data.startsWith("[DONE]")){c=!0;continue}if(h.event===null||!h.event.startsWith("thread.")){let d;try{d=JSON.parse(h.data)}catch(g){throw a.error("Could not parse message into JSON:",h.data),a.error("From chunk:",h.raw),g}if(d&&d.error)throw new is(void 0,d.error,void 0,e.headers);yield d}else{let d;try{d=JSON.parse(h.data)}catch(g){throw console.error("Could not parse message into JSON:",h.data),console.error("From chunk:",h.raw),g}if(h.event=="error")throw new is(void 0,d.error,d.message,void 0);yield{event:h.event,data:d}}}c=!0}catch(h){if(k_(h))return;throw h}finally{c||n.abort()}}return new hi(o,n,s)}static fromReadableStream(e,n,s){let r=!1;async function*a(){const c=new wg,h=ET(e);for await(const d of h)for(const g of c.decode(d))yield g;for(const d of c.flush())yield d}async function*o(){if(r)throw new Xe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const h of a())c||h&&(yield JSON.parse(h));c=!0}catch(h){if(k_(h))return;throw h}finally{c||n.abort()}}return new hi(o,n,s)}[(Sh=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),r=a=>({next:()=>{if(a.length===0){const o=s.next();e.push(o),n.push(o)}return a.shift()}});return[new hi(()=>r(e),this.controller,ce(this,Sh,"f")),new hi(()=>r(n),this.controller,ce(this,Sh,"f"))]}toReadableStream(){const e=this;let n;return NT({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:a}=await n.next();if(a)return s.close();const o=gS(JSON.stringify(r)+`
`);s.enqueue(o)}catch(r){s.error(r)}},async cancel(){await n.return?.()}})}}async function*dz(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Xe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Xe("Attempted to iterate over a response with no body");const n=new pz,s=new wg,r=ET(t.body);for await(const a of fz(r))for(const o of s.decode(a)){const c=n.decode(o);c&&(yield c)}for(const a of s.flush()){const o=n.decode(a);o&&(yield o)}}async function*fz(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?gS(n):n;let r=new Uint8Array(e.length+s.length);r.set(e),r.set(s,e.length),e=r;let a;for(;(a=uz(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class pz{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,r]=mz(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function mz(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function MT(t,e){const{response:n,requestLogID:s,retryOfRequestLogID:r,startTime:a}=e,o=await(async()=>{if(e.options.stream)return Qn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):hi.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type")?.split(";")[0]?.trim();if(h?.includes("application/json")||h?.endsWith("+json")){const m=await n.json();return DT(m,n)}return await n.text()})();return Qn(t).debug(`[${s}] response parsed`,Dl({retryOfRequestLogID:r,url:n.url,status:n.status,body:o,durationMs:Date.now()-a})),o}function DT(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Uh;class Sg extends Promise{constructor(e,n,s=MT){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=s,Uh.set(this,void 0),nt(this,Uh,e)}_thenUnwrap(e){return new Sg(ce(this,Uh,"f"),this.responsePromise,async(n,s)=>DT(e(await this.parseResponse(n,s),s),s.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(ce(this,Uh,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Uh=new WeakMap;var am;class yS{constructor(e,n,s,r){am.set(this,void 0),nt(this,am,e),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Xe("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await ce(this,am,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(am=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class gz extends Sg{constructor(e,n,s){super(e,n,async(r,a)=>new s(r,a.response,await MT(r,a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class kg extends yS{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class An extends yS{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...CT(this.options.query),after:n}}:null}}class f0 extends yS{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.has_more=s.has_more||!1,this.last_id=s.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...CT(this.options.query),after:e}}:null}}const LT=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function wd(t,e,n){return LT(),new File(t,e??"unknown_file",n)}function Lm(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const vS=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",q5=async(t,e)=>A_(t.body)?{...t,body:await IT(t.body,e)}:t,eo=async(t,e)=>({...t,body:await IT(t.body,e)}),W5=new WeakMap;function yz(t){const e=typeof t=="function"?t:t.fetch,n=W5.get(e);if(n)return n;const s=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,a=new FormData;return a.toString()!==await new r(a).text()}catch{return!0}})();return W5.set(e,s),s}const IT=async(t,e)=>{if(!await yz(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([s,r])=>E_(n,s,r))),n},PT=t=>t instanceof Blob&&"name"in t,vz=t=>typeof t=="object"&&t!==null&&(t instanceof Response||vS(t)||PT(t)),A_=t=>{if(vz(t))return!0;if(Array.isArray(t))return t.some(A_);if(t&&typeof t=="object"){for(const e in t)if(A_(t[e]))return!0}return!1},E_=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,wd([await n.blob()],Lm(n)));else if(vS(n))t.append(e,wd([await new Response(AT(n)).blob()],Lm(n)));else if(PT(n))t.append(e,n,Lm(n));else if(Array.isArray(n))await Promise.all(n.map(s=>E_(t,e+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>E_(t,`${e}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},zT=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",bz=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&zT(t),_z=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function xz(t,e,n){if(LT(),t=await t,bz(t))return t instanceof File?t:wd([await t.arrayBuffer()],t.name);if(_z(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),wd(await j_(r),e,n)}const s=await j_(t);if(e||(e=Lm(t)),!n?.type){const r=s.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n={...n,type:r})}return wd(s,e,n)}async function j_(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(zT(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(vS(t))for await(const n of t)e.push(...await j_(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${wz(t)}`)}return e}function wz(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class Ke{constructor(e){this._client=e}}function $T(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const K5=Object.freeze(Object.create(null)),Sz=(t=$T)=>function(n,...s){if(n.length===1)return n[0];let r=!1;const a=[],o=n.reduce((g,m,v)=>{/[?#]/.test(m)&&(r=!0);const y=s[v];let x=(r?encodeURIComponent:t)(""+y);return v!==s.length&&(y==null||typeof y=="object"&&y.toString===Object.getPrototypeOf(Object.getPrototypeOf(y.hasOwnProperty??K5)??K5)?.toString)&&(x=y+"",a.push({start:g.length+m.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),g+m+(v===s.length?"":x)},""),c=o.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=h.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((g,m)=>g.start-m.start),a.length>0){let g=0;const m=a.reduce((v,y)=>{const x=" ".repeat(y.start-g),w="^".repeat(y.length);return g=y.start+y.length,v+x+w},"");throw new Xe(`Path parameters result in path with invalid segments:
${a.map(v=>v.error).join(`
`)}
${o}
${m}`)}return o},we=Sz($T);let HT=class extends Ke{list(e,n={},s){return this._client.getAPIList(we`/chat/completions/${e}/messages`,An,{query:n,...s})}};function p0(t){return t!==void 0&&"function"in t&&t.function!==void 0}function bS(t){return t?.$brand==="auto-parseable-response-format"}function yf(t){return t?.$brand==="auto-parseable-tool"}function kz(t,e){return!e||!UT(e)?{...t,choices:t.choices.map(n=>(VT(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:_S(t,e)}function _S(t,e){const n=t.choices.map(s=>{if(s.finish_reason==="length")throw new ST;if(s.finish_reason==="content_filter")throw new kT;return VT(s.message.tool_calls),{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:s.message.tool_calls?.map(r=>Nz(e,r))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?Cz(e,s.message.content):null}}});return{...t,choices:n}}function Cz(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function Nz(t,e){const n=t.tools?.find(s=>p0(s)&&s.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:yf(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function Az(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(s=>p0(s)&&s.function?.name===e.function.name);return p0(n)&&(yf(n)||n?.function.strict||!1)}function UT(t){return bS(t.response_format)?!0:t.tools?.some(e=>yf(e)||e.type==="function"&&e.function.strict===!0)??!1}function VT(t){for(const e of t||[])if(e.type!=="function")throw new Xe(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function Ez(t){for(const e of t??[]){if(e.type!=="function")throw new Xe(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Xe(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const m0=t=>t?.role==="assistant",FT=t=>t?.role==="tool";var T_,Im,Pm,Vh,Fh,zm,qh,Ki,Wh,g0,y0,kc,qT;class xS{constructor(){T_.add(this),this.controller=new AbortController,Im.set(this,void 0),Pm.set(this,()=>{}),Vh.set(this,()=>{}),Fh.set(this,void 0),zm.set(this,()=>{}),qh.set(this,()=>{}),Ki.set(this,{}),Wh.set(this,!1),g0.set(this,!1),y0.set(this,!1),kc.set(this,!1),nt(this,Im,new Promise((e,n)=>{nt(this,Pm,e,"f"),nt(this,Vh,n,"f")})),nt(this,Fh,new Promise((e,n)=>{nt(this,zm,e,"f"),nt(this,qh,n,"f")})),ce(this,Im,"f").catch(()=>{}),ce(this,Fh,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},ce(this,T_,"m",qT).bind(this))},0)}_connected(){this.ended||(ce(this,Pm,"f").call(this),this._emit("connect"))}get ended(){return ce(this,Wh,"f")}get errored(){return ce(this,g0,"f")}get aborted(){return ce(this,y0,"f")}abort(){this.controller.abort()}on(e,n){return(ce(this,Ki,"f")[e]||(ce(this,Ki,"f")[e]=[])).push({listener:n}),this}off(e,n){const s=ce(this,Ki,"f")[e];if(!s)return this;const r=s.findIndex(a=>a.listener===n);return r>=0&&s.splice(r,1),this}once(e,n){return(ce(this,Ki,"f")[e]||(ce(this,Ki,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,s)=>{nt(this,kc,!0),e!=="error"&&this.once("error",s),this.once(e,n)})}async done(){nt(this,kc,!0),await ce(this,Fh,"f")}_emit(e,...n){if(ce(this,Wh,"f"))return;e==="end"&&(nt(this,Wh,!0),ce(this,zm,"f").call(this));const s=ce(this,Ki,"f")[e];if(s&&(ce(this,Ki,"f")[e]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!ce(this,kc,"f")&&!s?.length&&Promise.reject(r),ce(this,Vh,"f").call(this,r),ce(this,qh,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!ce(this,kc,"f")&&!s?.length&&Promise.reject(r),ce(this,Vh,"f").call(this,r),ce(this,qh,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Im=new WeakMap,Pm=new WeakMap,Vh=new WeakMap,Fh=new WeakMap,zm=new WeakMap,qh=new WeakMap,Ki=new WeakMap,Wh=new WeakMap,g0=new WeakMap,y0=new WeakMap,kc=new WeakMap,T_=new WeakSet,qT=function(e){if(nt(this,g0,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Tr),e instanceof Tr)return nt(this,y0,!0),this._emit("abort",e);if(e instanceof Xe)return this._emit("error",e);if(e instanceof Error){const n=new Xe(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Xe(String(e)))};function jz(t){return typeof t.parse=="function"}var vs,R_,v0,O_,B_,M_,WT,KT;const Tz=10;class GT extends xS{constructor(){super(...arguments),vs.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),FT(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(m0(e)&&e.tool_calls)for(const s of e.tool_calls)s.type==="function"&&this._emit("functionToolCall",s.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Xe("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),ce(this,vs,"m",R_).call(this)}async finalMessage(){return await this.done(),ce(this,vs,"m",v0).call(this)}async finalFunctionToolCall(){return await this.done(),ce(this,vs,"m",O_).call(this)}async finalFunctionToolCallResult(){return await this.done(),ce(this,vs,"m",B_).call(this)}async totalUsage(){return await this.done(),ce(this,vs,"m",M_).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=ce(this,vs,"m",v0).call(this);n&&this._emit("finalMessage",n);const s=ce(this,vs,"m",R_).call(this);s&&this._emit("finalContent",s);const r=ce(this,vs,"m",O_).call(this);r&&this._emit("finalFunctionToolCall",r);const a=ce(this,vs,"m",B_).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",ce(this,vs,"m",M_).call(this))}async _createChatCompletion(e,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ce(this,vs,"m",WT).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(_S(a,n))}async _runChatCompletion(e,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,s)}async _runTools(e,n,s){const r="tool",{tool_choice:a="auto",stream:o,...c}=n,h=typeof a!="string"&&a.type==="function"&&a?.function?.name,{maxChatCompletions:d=Tz}=s||{},g=n.tools.map(y=>{if(yf(y)){if(!y.$callback)throw new Xe("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:y.$callback,name:y.function.name,description:y.function.description||"",parameters:y.function.parameters,parse:y.$parseRaw,strict:!0}}}return y}),m={};for(const y of g)y.type==="function"&&(m[y.function.name||y.function.function.name]=y.function);const v="tools"in n?g.map(y=>y.type==="function"?{type:"function",function:{name:y.function.name||y.function.function.name,parameters:y.function.parameters,description:y.function.description,strict:y.function.strict}}:y):void 0;for(const y of n.messages)this._addMessage(y,!1);for(let y=0;y<d;++y){const w=(await this._createChatCompletion(e,{...c,tool_choice:a,tools:v,messages:[...this.messages]},s)).choices[0]?.message;if(!w)throw new Xe("missing message in ChatCompletion response");if(!w.tool_calls?.length)return;for(const S of w.tool_calls){if(S.type!=="function")continue;const k=S.id,{name:C,arguments:E}=S.function,B=m[C];if(B){if(h&&h!==C){const H=`Invalid tool_call: ${JSON.stringify(C)}. ${JSON.stringify(h)} requested. Please try again`;this._addMessage({role:r,tool_call_id:k,content:H});continue}}else{const H=`Invalid tool_call: ${JSON.stringify(C)}. Available options are: ${Object.keys(m).map(Y=>JSON.stringify(Y)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:k,content:H});continue}let D;try{D=jz(B)?await B.parse(E):E}catch(H){const Y=H instanceof Error?H.message:String(H);this._addMessage({role:r,tool_call_id:k,content:Y});continue}const j=await B.function(D,this),$=ce(this,vs,"m",KT).call(this,j);if(this._addMessage({role:r,tool_call_id:k,content:$}),h)return}}}}vs=new WeakSet,R_=function(){return ce(this,vs,"m",v0).call(this).content??null},v0=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(m0(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Xe("stream ended without producing a ChatCompletionMessage with role=assistant")},O_=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(m0(n)&&n?.tool_calls?.length)return n.tool_calls.filter(s=>s.type==="function").at(-1)?.function}},B_=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(FT(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>s.role==="assistant"&&s.tool_calls?.some(r=>r.type==="function"&&r.id===n.tool_call_id)))return n.content}},M_=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},WT=function(e){if(e.n!=null&&e.n>1)throw new Xe("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},KT=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class wS extends GT{static runTools(e,n,s){const r=new wS,a={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}_addMessage(e,n=!0){super._addMessage(e,n),m0(e)&&e.content&&this._emit("content",e.content)}}const YT=1,XT=2,JT=4,QT=8,ZT=16,e6=32,t6=64,n6=128,s6=256,r6=n6|s6,i6=ZT|e6|r6|t6,a6=YT|XT|i6,l6=JT|QT,Rz=a6|l6,$n={STR:YT,NUM:XT,ARR:JT,OBJ:QT,NULL:ZT,BOOL:e6,NAN:t6,INFINITY:n6,MINUS_INFINITY:s6,INF:r6,SPECIAL:i6,ATOM:a6,COLLECTION:l6,ALL:Rz};class Oz extends Error{}class Bz extends Error{}function Mz(t,e=$n.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Dz(t.trim(),e)}const Dz=(t,e)=>{const n=t.length;let s=0;const r=v=>{throw new Oz(`${v} at position ${s}`)},a=v=>{throw new Bz(`${v} at position ${s}`)},o=()=>(m(),s>=n&&r("Unexpected end of input"),t[s]==='"'?c():t[s]==="{"?h():t[s]==="["?d():t.substring(s,s+4)==="null"||$n.NULL&e&&n-s<4&&"null".startsWith(t.substring(s))?(s+=4,null):t.substring(s,s+4)==="true"||$n.BOOL&e&&n-s<4&&"true".startsWith(t.substring(s))?(s+=4,!0):t.substring(s,s+5)==="false"||$n.BOOL&e&&n-s<5&&"false".startsWith(t.substring(s))?(s+=5,!1):t.substring(s,s+8)==="Infinity"||$n.INFINITY&e&&n-s<8&&"Infinity".startsWith(t.substring(s))?(s+=8,1/0):t.substring(s,s+9)==="-Infinity"||$n.MINUS_INFINITY&e&&1<n-s&&n-s<9&&"-Infinity".startsWith(t.substring(s))?(s+=9,-1/0):t.substring(s,s+3)==="NaN"||$n.NAN&e&&n-s<3&&"NaN".startsWith(t.substring(s))?(s+=3,NaN):g()),c=()=>{const v=s;let y=!1;for(s++;s<n&&(t[s]!=='"'||y&&t[s-1]==="\\");)y=t[s]==="\\"?!y:!1,s++;if(t.charAt(s)=='"')try{return JSON.parse(t.substring(v,++s-Number(y)))}catch(x){a(String(x))}else if($n.STR&e)try{return JSON.parse(t.substring(v,s-Number(y))+'"')}catch{return JSON.parse(t.substring(v,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},h=()=>{s++,m();const v={};try{for(;t[s]!=="}";){if(m(),s>=n&&$n.OBJ&e)return v;const y=c();m(),s++;try{const x=o();Object.defineProperty(v,y,{value:x,writable:!0,enumerable:!0,configurable:!0})}catch(x){if($n.OBJ&e)return v;throw x}m(),t[s]===","&&s++}}catch{if($n.OBJ&e)return v;r("Expected '}' at end of object")}return s++,v},d=()=>{s++;const v=[];try{for(;t[s]!=="]";)v.push(o()),m(),t[s]===","&&s++}catch{if($n.ARR&e)return v;r("Expected ']' at end of array")}return s++,v},g=()=>{if(s===0){t==="-"&&$n.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(y){if($n.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(y))}}const v=s;for(t[s]==="-"&&s++;t[s]&&!",]}".includes(t[s]);)s++;s==n&&!($n.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(v,s))}catch{t.substring(v,s)==="-"&&$n.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(v,t.lastIndexOf("e")))}catch(x){a(String(x))}}},m=()=>{for(;s<n&&` 
\r	`.includes(t[s]);)s++};return o()},G5=t=>Mz(t,$n.ALL^$n.NUM);var Tn,qi,dc,za,hb,lm,db,fb,pb,om,mb,Y5;class Fd extends GT{constructor(e){super(),Tn.add(this),qi.set(this,void 0),dc.set(this,void 0),za.set(this,void 0),nt(this,qi,e),nt(this,dc,[])}get currentChatCompletionSnapshot(){return ce(this,za,"f")}static fromReadableStream(e){const n=new Fd(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,s){const r=new Fd(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,s){super._createChatCompletion;const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ce(this,Tn,"m",hb).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const o of a)ce(this,Tn,"m",db).call(this,o);if(a.controller.signal?.aborted)throw new Tr;return this._addChatCompletion(ce(this,Tn,"m",om).call(this))}async _fromReadableStream(e,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ce(this,Tn,"m",hb).call(this),this._connected();const r=hi.fromReadableStream(e,this.controller);let a;for await(const o of r)a&&a!==o.id&&this._addChatCompletion(ce(this,Tn,"m",om).call(this)),ce(this,Tn,"m",db).call(this,o),a=o.id;if(r.controller.signal?.aborted)throw new Tr;return this._addChatCompletion(ce(this,Tn,"m",om).call(this))}[(qi=new WeakMap,dc=new WeakMap,za=new WeakMap,Tn=new WeakSet,hb=function(){this.ended||nt(this,za,void 0)},lm=function(n){let s=ce(this,dc,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ce(this,dc,"f")[n.index]=s,s)},db=function(n){if(this.ended)return;const s=ce(this,Tn,"m",Y5).call(this,n);this._emit("chunk",n,s);for(const r of n.choices){const a=s.choices[r.index];r.delta.content!=null&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",r.delta.content,a.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),r.delta.refusal!=null&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:a.message.refusal}),r.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:a.logprobs?.content??[]}),r.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});const o=ce(this,Tn,"m",lm).call(this,a);a.finish_reason&&(ce(this,Tn,"m",pb).call(this,a),o.current_tool_call_index!=null&&ce(this,Tn,"m",fb).call(this,a,o.current_tool_call_index));for(const c of r.delta.tool_calls??[])o.current_tool_call_index!==c.index&&(ce(this,Tn,"m",pb).call(this,a),o.current_tool_call_index!=null&&ce(this,Tn,"m",fb).call(this,a,o.current_tool_call_index)),o.current_tool_call_index=c.index;for(const c of r.delta.tool_calls??[]){const h=a.message.tool_calls?.[c.index];h?.type&&(h?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:h.function?.name,index:c.index,arguments:h.function.arguments,parsed_arguments:h.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(h?.type,void 0))}}},fb=function(n,s){if(ce(this,Tn,"m",lm).call(this,n).done_tool_calls.has(s))return;const a=n.message.tool_calls?.[s];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const o=ce(this,qi,"f")?.tools?.find(c=>p0(c)&&c.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:s,arguments:a.function.arguments,parsed_arguments:yf(o)?o.$parseRaw(a.function.arguments):o?.function.strict?JSON.parse(a.function.arguments):null})}else a.type},pb=function(n){const s=ce(this,Tn,"m",lm).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const r=ce(this,Tn,"m",mb).call(this);this._emit("content.done",{content:n.message.content,parsed:r?r.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},om=function(){if(this.ended)throw new Xe("stream has ended, this shouldn't happen");const n=ce(this,za,"f");if(!n)throw new Xe("request ended without sending any chunks");return nt(this,za,void 0),nt(this,dc,[]),Lz(n,ce(this,qi,"f"))},mb=function(){const n=ce(this,qi,"f")?.response_format;return bS(n)?n:null},Y5=function(n){var s,r,a,o;let c=ce(this,za,"f");const{choices:h,...d}=n;c?Object.assign(c,d):c=nt(this,za,{...d,choices:[]});for(const{delta:g,finish_reason:m,index:v,logprobs:y=null,...x}of n.choices){let w=c.choices[v];if(w||(w=c.choices[v]={finish_reason:m,index:v,message:{},logprobs:y,...x}),y)if(!w.logprobs)w.logprobs=Object.assign({},y);else{const{content:j,refusal:$,...H}=y;Object.assign(w.logprobs,H),j&&((s=w.logprobs).content??(s.content=[]),w.logprobs.content.push(...j)),$&&((r=w.logprobs).refusal??(r.refusal=[]),w.logprobs.refusal.push(...$))}if(m&&(w.finish_reason=m,ce(this,qi,"f")&&UT(ce(this,qi,"f")))){if(m==="length")throw new ST;if(m==="content_filter")throw new kT}if(Object.assign(w,x),!g)continue;const{content:S,refusal:k,function_call:C,role:E,tool_calls:B,...D}=g;if(Object.assign(w.message,D),k&&(w.message.refusal=(w.message.refusal||"")+k),E&&(w.message.role=E),C&&(w.message.function_call?(C.name&&(w.message.function_call.name=C.name),C.arguments&&((a=w.message.function_call).arguments??(a.arguments=""),w.message.function_call.arguments+=C.arguments)):w.message.function_call=C),S&&(w.message.content=(w.message.content||"")+S,!w.message.refusal&&ce(this,Tn,"m",mb).call(this)&&(w.message.parsed=G5(w.message.content))),B){w.message.tool_calls||(w.message.tool_calls=[]);for(const{index:j,id:$,type:H,function:Y,...z}of B){const J=(o=w.message.tool_calls)[j]??(o[j]={});Object.assign(J,z),$&&(J.id=$),H&&(J.type=H),Y&&(J.function??(J.function={name:Y.name??"",arguments:""})),Y?.name&&(J.function.name=Y.name),Y?.arguments&&(J.function.arguments+=Y.arguments,Az(ce(this,qi,"f"),J)&&(J.function.parsed_arguments=G5(J.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("chunk",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((a,o)=>n.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new hi(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Lz(t,e){const{id:n,choices:s,created:r,model:a,system_fingerprint:o,...c}=t,h={...c,id:n,choices:s.map(({message:d,finish_reason:g,index:m,logprobs:v,...y})=>{if(!g)throw new Xe(`missing finish_reason for choice ${m}`);const{content:x=null,function_call:w,tool_calls:S,...k}=d,C=d.role;if(!C)throw new Xe(`missing role for choice ${m}`);if(w){const{arguments:E,name:B}=w;if(E==null)throw new Xe(`missing function_call.arguments for choice ${m}`);if(!B)throw new Xe(`missing function_call.name for choice ${m}`);return{...y,message:{content:x,function_call:{arguments:E,name:B},role:C,refusal:d.refusal??null},finish_reason:g,index:m,logprobs:v}}return S?{...y,index:m,finish_reason:g,logprobs:v,message:{...k,role:C,content:x,refusal:d.refusal??null,tool_calls:S.map((E,B)=>{const{function:D,type:j,id:$,...H}=E,{arguments:Y,name:z,...J}=D||{};if($==null)throw new Xe(`missing choices[${m}].tool_calls[${B}].id
${cm(t)}`);if(j==null)throw new Xe(`missing choices[${m}].tool_calls[${B}].type
${cm(t)}`);if(z==null)throw new Xe(`missing choices[${m}].tool_calls[${B}].function.name
${cm(t)}`);if(Y==null)throw new Xe(`missing choices[${m}].tool_calls[${B}].function.arguments
${cm(t)}`);return{...H,id:$,type:j,function:{...J,name:z,arguments:Y}}})}}:{...y,message:{...k,content:x,role:C,refusal:d.refusal??null},finish_reason:g,index:m,logprobs:v}}),created:r,model:a,object:"chat.completion",...o?{system_fingerprint:o}:{}};return kz(h,e)}function cm(t){return JSON.stringify(t)}class b0 extends Fd{static fromReadableStream(e){const n=new b0(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,s){const r=new b0(n),a={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}}let SS=class extends Ke{constructor(){super(...arguments),this.messages=new HT(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(we`/chat/completions/${e}`,n)}update(e,n,s){return this._client.post(we`/chat/completions/${e}`,{body:n,...s})}list(e={},n){return this._client.getAPIList("/chat/completions",An,{query:e,...n})}delete(e,n){return this._client.delete(we`/chat/completions/${e}`,n)}parse(e,n){return Ez(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(s=>_S(s,e))}runTools(e,n){return e.stream?b0.runTools(this._client,e,n):wS.runTools(this._client,e,n)}stream(e,n){return Fd.createChatCompletion(this._client,e,n)}};SS.Messages=HT;class kS extends Ke{constructor(){super(...arguments),this.completions=new SS(this._client)}}kS.Completions=SS;const o6=Symbol("brand.privateNullableHeaders");function*Iz(t){if(!t)return;if(o6 in t){const{values:s,nulls:r}=t;yield*s.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():B5(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let s of n){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=B5(s[1])?s[1]:[s[1]];let o=!1;for(const c of a)c!==void 0&&(e&&!o&&(o=!0,yield[r,null]),yield[r,c])}}const Ve=t=>{const e=new Headers,n=new Set;for(const s of t){const r=new Set;for(const[a,o]of Iz(s)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),o===null?(e.delete(a),n.add(c)):(e.append(a,o),n.delete(c))}}return{[o6]:!0,values:e,nulls:n}};class c6 extends Ke{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:Ve([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class u6 extends Ke{create(e,n){return this._client.post("/audio/transcriptions",eo({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class h6 extends Ke{create(e,n){return this._client.post("/audio/translations",eo({body:e,...n,__metadata:{model:e.model}},this._client))}}class vf extends Ke{constructor(){super(...arguments),this.transcriptions=new u6(this._client),this.translations=new h6(this._client),this.speech=new c6(this._client)}}vf.Transcriptions=u6;vf.Translations=h6;vf.Speech=c6;class d6 extends Ke{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(we`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",An,{query:e,...n})}cancel(e,n){return this._client.post(we`/batches/${e}/cancel`,n)}}class f6 extends Ke{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(we`/assistants/${e}`,{...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,s){return this._client.post(we`/assistants/${e}`,{body:n,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",An,{query:e,...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(we`/assistants/${e}`,{...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let p6=class extends Ke{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class m6 extends Ke{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let Cg=class extends Ke{constructor(){super(...arguments),this.sessions=new p6(this._client),this.transcriptionSessions=new m6(this._client)}};Cg.Sessions=p6;Cg.TranscriptionSessions=m6;class g6 extends Ke{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:Ve([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(we`/chatkit/sessions/${e}/cancel`,{...n,headers:Ve([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let y6=class extends Ke{retrieve(e,n){return this._client.get(we`/chatkit/threads/${e}`,{...n,headers:Ve([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",f0,{query:e,...n,headers:Ve([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(we`/chatkit/threads/${e}`,{...n,headers:Ve([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},s){return this._client.getAPIList(we`/chatkit/threads/${e}/items`,f0,{query:n,...s,headers:Ve([{"OpenAI-Beta":"chatkit_beta=v1"},s?.headers])})}};class Ng extends Ke{constructor(){super(...arguments),this.sessions=new g6(this._client),this.threads=new y6(this._client)}}Ng.Sessions=g6;Ng.Threads=y6;class v6 extends Ke{create(e,n,s){return this._client.post(we`/threads/${e}/messages`,{body:n,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,n,s){const{thread_id:r}=n;return this._client.get(we`/threads/${r}/messages/${e}`,{...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,n,s){const{thread_id:r,...a}=n;return this._client.post(we`/threads/${r}/messages/${e}`,{body:a,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e,n={},s){return this._client.getAPIList(we`/threads/${e}/messages`,An,{query:n,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,n,s){const{thread_id:r}=n;return this._client.delete(we`/threads/${r}/messages/${e}`,{...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class b6 extends Ke{retrieve(e,n,s){const{thread_id:r,run_id:a,...o}=n;return this._client.get(we`/threads/${r}/runs/${a}/steps/${e}`,{query:o,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e,n,s){const{thread_id:r,...a}=n;return this._client.getAPIList(we`/threads/${r}/runs/${e}/steps`,An,{query:a,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}const Pz=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,s=new Uint8Array(n);for(let r=0;r<n;r++)s[r]=e.charCodeAt(r);return Array.from(new Float32Array(s.buffer))}};var zz={};const fc=t=>{if(typeof globalThis.process<"u")return zz?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var Zn,Hl,D_,ui,$m,qr,Ul,Tc,zl,_0,ir,Hm,Um,Sd,Kh,Gh,X5,J5,Q5,Z5,eA,tA,nA;class kd extends xS{constructor(){super(...arguments),Zn.add(this),D_.set(this,[]),ui.set(this,{}),$m.set(this,{}),qr.set(this,void 0),Ul.set(this,void 0),Tc.set(this,void 0),zl.set(this,void 0),_0.set(this,void 0),ir.set(this,void 0),Hm.set(this,void 0),Um.set(this,void 0),Sd.set(this,void 0)}[(D_=new WeakMap,ui=new WeakMap,$m=new WeakMap,qr=new WeakMap,Ul=new WeakMap,Tc=new WeakMap,zl=new WeakMap,_0=new WeakMap,ir=new WeakMap,Hm=new WeakMap,Um=new WeakMap,Sd=new WeakMap,Zn=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((a,o)=>n.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Hl;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=hi.fromReadableStream(e,this.controller);for await(const a of r)ce(this,Zn,"m",Kh).call(this,a);if(r.controller.signal?.aborted)throw new Tr;return this._addRun(ce(this,Zn,"m",Gh).call(this))}toReadableStream(){return new hi(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,s,r){const a=new Hl;return a._run(()=>a._runToolAssistantStream(e,n,s,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,s,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},c=await e.submitToolOutputs(n,o,{...r,signal:this.controller.signal});this._connected();for await(const h of c)ce(this,Zn,"m",Kh).call(this,h);if(c.controller.signal?.aborted)throw new Tr;return this._addRun(ce(this,Zn,"m",Gh).call(this))}static createThreadAssistantStream(e,n,s){const r=new Hl;return r._run(()=>r._threadAssistantStream(e,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,s,r){const a=new Hl;return a._run(()=>a._runAssistantStream(e,n,s,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return ce(this,Hm,"f")}currentRun(){return ce(this,Um,"f")}currentMessageSnapshot(){return ce(this,qr,"f")}currentRunStepSnapshot(){return ce(this,Sd,"f")}async finalRunSteps(){return await this.done(),Object.values(ce(this,ui,"f"))}async finalMessages(){return await this.done(),Object.values(ce(this,$m,"f"))}async finalRun(){if(await this.done(),!ce(this,Ul,"f"))throw Error("Final run was not received.");return ce(this,Ul,"f")}async _createThreadAssistantStream(e,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await e.createAndRun(a,{...s,signal:this.controller.signal});this._connected();for await(const c of o)ce(this,Zn,"m",Kh).call(this,c);if(o.controller.signal?.aborted)throw new Tr;return this._addRun(ce(this,Zn,"m",Gh).call(this))}async _createAssistantStream(e,n,s,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},c=await e.create(n,o,{...r,signal:this.controller.signal});this._connected();for await(const h of c)ce(this,Zn,"m",Kh).call(this,h);if(c.controller.signal?.aborted)throw new Tr;return this._addRun(ce(this,Zn,"m",Gh).call(this))}static accumulateDelta(e,n){for(const[s,r]of Object.entries(n)){if(!e.hasOwnProperty(s)){e[s]=r;continue}let a=e[s];if(a==null){e[s]=r;continue}if(s==="index"||s==="type"){e[s]=r;continue}if(typeof a=="string"&&typeof r=="string")a+=r;else if(typeof a=="number"&&typeof r=="number")a+=r;else if(ob(a)&&ob(r))a=this.accumulateDelta(a,r);else if(Array.isArray(a)&&Array.isArray(r)){if(a.every(o=>typeof o=="string"||typeof o=="number")){a.push(...r);continue}for(const o of r){if(!ob(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const c=o.index;if(c==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const h=a[c];h==null?a.push(o):a[c]=this.accumulateDelta(h,o)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${r}, accValue: ${a}`);e[s]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,s){return await this._createThreadAssistantStream(n,e,s)}async _runAssistantStream(e,n,s,r){return await this._createAssistantStream(n,e,s,r)}async _runToolAssistantStream(e,n,s,r){return await this._createToolAssistantStream(n,e,s,r)}}Hl=kd,Kh=function(e){if(!this.ended)switch(nt(this,Hm,e),ce(this,Zn,"m",Q5).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":ce(this,Zn,"m",nA).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ce(this,Zn,"m",J5).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":ce(this,Zn,"m",X5).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Gh=function(){if(this.ended)throw new Xe("stream has ended, this shouldn't happen");if(!ce(this,Ul,"f"))throw Error("Final run has not been received");return ce(this,Ul,"f")},X5=function(e){const[n,s]=ce(this,Zn,"m",eA).call(this,e,ce(this,qr,"f"));nt(this,qr,n),ce(this,$m,"f")[n.id]=n;for(const r of s){const a=n.content[r.index];a?.type=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let a=r.text,o=n.content[r.index];if(o&&o.type=="text")this._emit("textDelta",a,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=ce(this,Tc,"f")){if(ce(this,zl,"f"))switch(ce(this,zl,"f").type){case"text":this._emit("textDone",ce(this,zl,"f").text,ce(this,qr,"f"));break;case"image_file":this._emit("imageFileDone",ce(this,zl,"f").image_file,ce(this,qr,"f"));break}nt(this,Tc,r.index)}nt(this,zl,n.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(ce(this,Tc,"f")!==void 0){const r=e.data.content[ce(this,Tc,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,ce(this,qr,"f"));break;case"text":this._emit("textDone",r.text,ce(this,qr,"f"));break}}ce(this,qr,"f")&&this._emit("messageDone",e.data),nt(this,qr,void 0)}},J5=function(e){const n=ce(this,Zn,"m",Z5).call(this,e);switch(nt(this,Sd,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const s=e.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of s.step_details.tool_calls)a.index==ce(this,_0,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(ce(this,ir,"f")&&this._emit("toolCallDone",ce(this,ir,"f")),nt(this,_0,a.index),nt(this,ir,n.step_details.tool_calls[a.index]),ce(this,ir,"f")&&this._emit("toolCallCreated",ce(this,ir,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":nt(this,Sd,void 0),e.data.step_details.type=="tool_calls"&&ce(this,ir,"f")&&(this._emit("toolCallDone",ce(this,ir,"f")),nt(this,ir,void 0)),this._emit("runStepDone",e.data,n);break}},Q5=function(e){ce(this,D_,"f").push(e),this._emit("event",e)},Z5=function(e){switch(e.event){case"thread.run.step.created":return ce(this,ui,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=ce(this,ui,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=e.data;if(s.delta){const r=Hl.accumulateDelta(n,s.delta);ce(this,ui,"f")[e.data.id]=r}return ce(this,ui,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":ce(this,ui,"f")[e.data.id]=e.data;break}if(ce(this,ui,"f")[e.data.id])return ce(this,ui,"f")[e.data.id];throw new Error("No snapshot available")},eA=function(e,n){let s=[];switch(e.event){case"thread.message.created":return[e.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const a of r.delta.content)if(a.index in n.content){let o=n.content[a.index];n.content[a.index]=ce(this,Zn,"m",tA).call(this,a,o)}else n.content[a.index]=a,s.push(a);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},tA=function(e,n){return Hl.accumulateDelta(n,e)},nA=function(e){switch(nt(this,Um,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":nt(this,Ul,e.data),ce(this,ir,"f")&&(this._emit("toolCallDone",ce(this,ir,"f")),nt(this,ir,void 0));break}};let CS=class extends Ke{constructor(){super(...arguments),this.steps=new b6(this._client)}create(e,n,s){const{include:r,...a}=n;return this._client.post(we`/threads/${e}/runs`,{query:{include:r},body:a,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:n.stream??!1})}retrieve(e,n,s){const{thread_id:r}=n;return this._client.get(we`/threads/${r}/runs/${e}`,{...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,n,s){const{thread_id:r,...a}=n;return this._client.post(we`/threads/${r}/runs/${e}`,{body:a,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e,n={},s){return this._client.getAPIList(we`/threads/${e}/runs`,An,{query:n,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}cancel(e,n,s){const{thread_id:r}=n;return this._client.post(we`/threads/${r}/runs/${e}/cancel`,{...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(r.id,{thread_id:e},s)}createAndStream(e,n,s){return kd.createAssistantStream(e,this._client.beta.threads.runs,n,s)}async poll(e,n,s){const r=Ve([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(e,n,{...s,headers:{...s?.headers,...r}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(s?.pollIntervalMs)c=s.pollIntervalMs;else{const h=o.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await gf(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,s){return kd.createAssistantStream(e,this._client.beta.threads.runs,n,s)}submitToolOutputs(e,n,s){const{thread_id:r,...a}=n;return this._client.post(we`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:a,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,s){const r=await this.submitToolOutputs(e,n,s);return await this.poll(r.id,n,s)}submitToolOutputsStream(e,n,s){return kd.createToolAssistantStream(e,this._client.beta.threads.runs,n,s)}};CS.Steps=b6;class Ag extends Ke{constructor(){super(...arguments),this.runs=new CS(this._client),this.messages=new v6(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(we`/threads/${e}`,{...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,s){return this._client.post(we`/threads/${e}`,{body:n,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,n){return this._client.delete(we`/threads/${e}`,{...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const s=await this.createAndRun(e,n);return await this.runs.poll(s.id,{thread_id:s.thread_id},n)}createAndRunStream(e,n){return kd.createThreadAssistantStream(e,this._client.beta.threads,n)}}Ag.Runs=CS;Ag.Messages=v6;class uu extends Ke{constructor(){super(...arguments),this.realtime=new Cg(this._client),this.chatkit=new Ng(this._client),this.assistants=new f6(this._client),this.threads=new Ag(this._client)}}uu.Realtime=Cg;uu.ChatKit=Ng;uu.Assistants=f6;uu.Threads=Ag;class _6 extends Ke{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class x6 extends Ke{retrieve(e,n,s){const{container_id:r}=n;return this._client.get(we`/containers/${r}/files/${e}/content`,{...s,headers:Ve([{Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}}let NS=class extends Ke{constructor(){super(...arguments),this.content=new x6(this._client)}create(e,n,s){return this._client.post(we`/containers/${e}/files`,eo({body:n,...s},this._client))}retrieve(e,n,s){const{container_id:r}=n;return this._client.get(we`/containers/${r}/files/${e}`,s)}list(e,n={},s){return this._client.getAPIList(we`/containers/${e}/files`,An,{query:n,...s})}delete(e,n,s){const{container_id:r}=n;return this._client.delete(we`/containers/${r}/files/${e}`,{...s,headers:Ve([{Accept:"*/*"},s?.headers])})}};NS.Content=x6;class AS extends Ke{constructor(){super(...arguments),this.files=new NS(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(we`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",An,{query:e,...n})}delete(e,n){return this._client.delete(we`/containers/${e}`,{...n,headers:Ve([{Accept:"*/*"},n?.headers])})}}AS.Files=NS;class w6 extends Ke{create(e,n,s){const{include:r,...a}=n;return this._client.post(we`/conversations/${e}/items`,{query:{include:r},body:a,...s})}retrieve(e,n,s){const{conversation_id:r,...a}=n;return this._client.get(we`/conversations/${r}/items/${e}`,{query:a,...s})}list(e,n={},s){return this._client.getAPIList(we`/conversations/${e}/items`,f0,{query:n,...s})}delete(e,n,s){const{conversation_id:r}=n;return this._client.delete(we`/conversations/${r}/items/${e}`,s)}}class ES extends Ke{constructor(){super(...arguments),this.items=new w6(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(we`/conversations/${e}`,n)}update(e,n,s){return this._client.post(we`/conversations/${e}`,{body:n,...s})}delete(e,n){return this._client.delete(we`/conversations/${e}`,n)}}ES.Items=w6;class S6 extends Ke{create(e,n){const s=!!e.encoding_format;let r=s?e.encoding_format:"base64";s&&Qn(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:r},...n});return s?a:(Qn(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(o=>(o&&o.data&&o.data.forEach(c=>{const h=c.embedding;c.embedding=Pz(h)}),o)))}}class k6 extends Ke{retrieve(e,n,s){const{eval_id:r,run_id:a}=n;return this._client.get(we`/evals/${r}/runs/${a}/output_items/${e}`,s)}list(e,n,s){const{eval_id:r,...a}=n;return this._client.getAPIList(we`/evals/${r}/runs/${e}/output_items`,An,{query:a,...s})}}class jS extends Ke{constructor(){super(...arguments),this.outputItems=new k6(this._client)}create(e,n,s){return this._client.post(we`/evals/${e}/runs`,{body:n,...s})}retrieve(e,n,s){const{eval_id:r}=n;return this._client.get(we`/evals/${r}/runs/${e}`,s)}list(e,n={},s){return this._client.getAPIList(we`/evals/${e}/runs`,An,{query:n,...s})}delete(e,n,s){const{eval_id:r}=n;return this._client.delete(we`/evals/${r}/runs/${e}`,s)}cancel(e,n,s){const{eval_id:r}=n;return this._client.post(we`/evals/${r}/runs/${e}`,s)}}jS.OutputItems=k6;class TS extends Ke{constructor(){super(...arguments),this.runs=new jS(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(we`/evals/${e}`,n)}update(e,n,s){return this._client.post(we`/evals/${e}`,{body:n,...s})}list(e={},n){return this._client.getAPIList("/evals",An,{query:e,...n})}delete(e,n){return this._client.delete(we`/evals/${e}`,n)}}TS.Runs=jS;let C6=class extends Ke{create(e,n){return this._client.post("/files",eo({body:e,...n},this._client))}retrieve(e,n){return this._client.get(we`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",An,{query:e,...n})}delete(e,n){return this._client.delete(we`/files/${e}`,n)}content(e,n){return this._client.get(we`/files/${e}/content`,{...n,headers:Ve([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:s=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),a=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await gf(n),o=await this.retrieve(e),Date.now()-a>s)throw new mS({message:`Giving up on waiting for file ${e} to finish processing after ${s} milliseconds.`});return o}};class N6 extends Ke{}let A6=class extends Ke{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class RS extends Ke{constructor(){super(...arguments),this.graders=new A6(this._client)}}RS.Graders=A6;class E6 extends Ke{create(e,n,s){return this._client.getAPIList(we`/fine_tuning/checkpoints/${e}/permissions`,kg,{body:n,method:"post",...s})}retrieve(e,n={},s){return this._client.get(we`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...s})}delete(e,n,s){const{fine_tuned_model_checkpoint:r}=n;return this._client.delete(we`/fine_tuning/checkpoints/${r}/permissions/${e}`,s)}}let OS=class extends Ke{constructor(){super(...arguments),this.permissions=new E6(this._client)}};OS.Permissions=E6;class j6 extends Ke{list(e,n={},s){return this._client.getAPIList(we`/fine_tuning/jobs/${e}/checkpoints`,An,{query:n,...s})}}class BS extends Ke{constructor(){super(...arguments),this.checkpoints=new j6(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(we`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",An,{query:e,...n})}cancel(e,n){return this._client.post(we`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},s){return this._client.getAPIList(we`/fine_tuning/jobs/${e}/events`,An,{query:n,...s})}pause(e,n){return this._client.post(we`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(we`/fine_tuning/jobs/${e}/resume`,n)}}BS.Checkpoints=j6;class hu extends Ke{constructor(){super(...arguments),this.methods=new N6(this._client),this.jobs=new BS(this._client),this.checkpoints=new OS(this._client),this.alpha=new RS(this._client)}}hu.Methods=N6;hu.Jobs=BS;hu.Checkpoints=OS;hu.Alpha=RS;class T6 extends Ke{}class MS extends Ke{constructor(){super(...arguments),this.graderModels=new T6(this._client)}}MS.GraderModels=T6;class R6 extends Ke{createVariation(e,n){return this._client.post("/images/variations",eo({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",eo({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class O6 extends Ke{retrieve(e,n){return this._client.get(we`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",kg,e)}delete(e,n){return this._client.delete(we`/models/${e}`,n)}}class B6 extends Ke{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class M6 extends Ke{accept(e,n,s){return this._client.post(we`/realtime/calls/${e}/accept`,{body:n,...s,headers:Ve([{Accept:"*/*"},s?.headers])})}hangup(e,n){return this._client.post(we`/realtime/calls/${e}/hangup`,{...n,headers:Ve([{Accept:"*/*"},n?.headers])})}refer(e,n,s){return this._client.post(we`/realtime/calls/${e}/refer`,{body:n,...s,headers:Ve([{Accept:"*/*"},s?.headers])})}reject(e,n={},s){return this._client.post(we`/realtime/calls/${e}/reject`,{body:n,...s,headers:Ve([{Accept:"*/*"},s?.headers])})}}class D6 extends Ke{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class Eg extends Ke{constructor(){super(...arguments),this.clientSecrets=new D6(this._client),this.calls=new M6(this._client)}}Eg.ClientSecrets=D6;Eg.Calls=M6;function $z(t,e){return!e||!Uz(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(s=>({...s,parsed:null}))}:n)}:L6(t,e)}function L6(t,e){const n=t.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:qz(e,r)};if(r.type==="message"){const a=r.content.map(o=>o.type==="output_text"?{...o,parsed:Hz(e,o.text)}:o);return{...r,content:a}}return r}),s=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||L_(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const r of s.output)if(r.type==="message"){for(const a of r.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),s}function Hz(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function Uz(t){return!!bS(t.text?.format)}function Vz(t){return t?.$brand==="auto-parseable-tool"}function Fz(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function qz(t,e){const n=Fz(t.tools??[],e.name);return{...e,...e,parsed_arguments:Vz(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function L_(t){const e=[];for(const n of t.output)if(n.type==="message")for(const s of n.content)s.type==="output_text"&&e.push(s.text);t.output_text=e.join("")}var pc,um,$a,hm,sA,rA,iA,aA;class DS extends xS{constructor(e){super(),pc.add(this),um.set(this,void 0),$a.set(this,void 0),hm.set(this,void 0),nt(this,um,e)}static createResponse(e,n,s){const r=new DS(n);return r._run(()=>r._createOrRetrieveResponse(e,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ce(this,pc,"m",sA).call(this);let a,o=null;"response_id"in n?(a=await e.responses.retrieve(n.response_id,{stream:!0},{...s,signal:this.controller.signal,stream:!0}),o=n.starting_after??null):a=await e.responses.create({...n,stream:!0},{...s,signal:this.controller.signal}),this._connected();for await(const c of a)ce(this,pc,"m",rA).call(this,c,o);if(a.controller.signal?.aborted)throw new Tr;return ce(this,pc,"m",iA).call(this)}[(um=new WeakMap,$a=new WeakMap,hm=new WeakMap,pc=new WeakSet,sA=function(){this.ended||nt(this,$a,void 0)},rA=function(n,s){if(this.ended)return;const r=(o,c)=>{(s==null||c.sequence_number>s)&&this._emit(o,c)},a=ce(this,pc,"m",aA).call(this,n);switch(r("event",n),n.type){case"response.output_text.delta":{const o=a.output[n.output_index];if(!o)throw new Xe(`missing output at index ${n.output_index}`);if(o.type==="message"){const c=o.content[n.content_index];if(!c)throw new Xe(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new Xe(`expected content to be 'output_text', got ${c.type}`);r("response.output_text.delta",{...n,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const o=a.output[n.output_index];if(!o)throw new Xe(`missing output at index ${n.output_index}`);o.type==="function_call"&&r("response.function_call_arguments.delta",{...n,snapshot:o.arguments});break}default:r(n.type,n);break}},iA=function(){if(this.ended)throw new Xe("stream has ended, this shouldn't happen");const n=ce(this,$a,"f");if(!n)throw new Xe("request ended without sending any events");nt(this,$a,void 0);const s=Wz(n,ce(this,um,"f"));return nt(this,hm,s),s},aA=function(n){let s=ce(this,$a,"f");if(!s){if(n.type!=="response.created")throw new Xe(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return s=nt(this,$a,n.response),s}switch(n.type){case"response.output_item.added":{s.output.push(n.item);break}case"response.content_part.added":{const r=s.output[n.output_index];if(!r)throw new Xe(`missing output at index ${n.output_index}`);const a=r.type,o=n.part;a==="message"&&o.type!=="reasoning_text"?r.content.push(o):a==="reasoning"&&o.type==="reasoning_text"&&(r.content||(r.content=[]),r.content.push(o));break}case"response.output_text.delta":{const r=s.output[n.output_index];if(!r)throw new Xe(`missing output at index ${n.output_index}`);if(r.type==="message"){const a=r.content[n.content_index];if(!a)throw new Xe(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new Xe(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=s.output[n.output_index];if(!r)throw new Xe(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.reasoning_text.delta":{const r=s.output[n.output_index];if(!r)throw new Xe(`missing output at index ${n.output_index}`);if(r.type==="reasoning"){const a=r.content?.[n.content_index];if(!a)throw new Xe(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new Xe(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{nt(this,$a,n.response);break}}return s},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((a,o)=>n.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=ce(this,hm,"f");if(!e)throw new Xe("stream ended without producing a ChatCompletion");return e}}function Wz(t,e){return $z(t,e)}class I6 extends Ke{list(e,n={},s){return this._client.getAPIList(we`/responses/${e}/input_items`,An,{query:n,...s})}}class P6 extends Ke{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class jg extends Ke{constructor(){super(...arguments),this.inputItems=new I6(this._client),this.inputTokens=new P6(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&L_(s),s))}retrieve(e,n={},s){return this._client.get(we`/responses/${e}`,{query:n,...s,stream:n?.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&L_(r),r))}delete(e,n){return this._client.delete(we`/responses/${e}`,{...n,headers:Ve([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(s=>L6(s,e))}stream(e,n){return DS.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(we`/responses/${e}/cancel`,n)}compact(e,n){return this._client.post("/responses/compact",{body:e,...n})}}jg.InputItems=I6;jg.InputTokens=P6;class z6 extends Ke{create(e,n,s){return this._client.post(we`/uploads/${e}/parts`,eo({body:n,...s},this._client))}}class LS extends Ke{constructor(){super(...arguments),this.parts=new z6(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(we`/uploads/${e}/cancel`,n)}complete(e,n,s){return this._client.post(we`/uploads/${e}/complete`,{body:n,...s})}}LS.Parts=z6;const Kz=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const r of e)r.status==="fulfilled"&&s.push(r.value);return s};class $6 extends Ke{create(e,n,s){return this._client.post(we`/vector_stores/${e}/file_batches`,{body:n,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,n,s){const{vector_store_id:r}=n;return this._client.get(we`/vector_stores/${r}/file_batches/${e}`,{...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}cancel(e,n,s){const{vector_store_id:r}=n;return this._client.post(we`/vector_stores/${r}/file_batches/${e}/cancel`,{...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(e,n,s){const r=await this.create(e,n);return await this.poll(e,r.id,s)}listFiles(e,n,s){const{vector_store_id:r,...a}=n;return this._client.getAPIList(we`/vector_stores/${r}/file_batches/${e}/files`,An,{query:a,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async poll(e,n,s){const r=Ve([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(n,{vector_store_id:e},{...s,headers:r}).withResponse();switch(a.status){case"in_progress":let c=5e3;if(s?.pollIntervalMs)c=s.pollIntervalMs;else{const h=o.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await gf(c);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:s=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=r?.maxConcurrency??5,o=Math.min(a,n.length),c=this._client,h=n.values(),d=[...s];async function g(v){for(let y of v){const x=await c.files.create({file:y,purpose:"assistants"},r);d.push(x.id)}}const m=Array(o).fill(h).map(g);return await Kz(m),await this.createAndPoll(e,{file_ids:d})}}class H6 extends Ke{create(e,n,s){return this._client.post(we`/vector_stores/${e}/files`,{body:n,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,n,s){const{vector_store_id:r}=n;return this._client.get(we`/vector_stores/${r}/files/${e}`,{...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,n,s){const{vector_store_id:r,...a}=n;return this._client.post(we`/vector_stores/${r}/files/${e}`,{body:a,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e,n={},s){return this._client.getAPIList(we`/vector_stores/${e}/files`,An,{query:n,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,n,s){const{vector_store_id:r}=n;return this._client.delete(we`/vector_stores/${r}/files/${e}`,{...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}async poll(e,n,s){const r=Ve([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...s,headers:r}).withResponse(),o=a.data;switch(o.status){case"in_progress":let c=5e3;if(s?.pollIntervalMs)c=s.pollIntervalMs;else{const h=a.response.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await gf(c);break;case"failed":case"completed":return o}}}async upload(e,n,s){const r=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(e,{file_id:r.id},s)}async uploadAndPoll(e,n,s){const r=await this.upload(e,n,s);return await this.poll(e,r.id,s)}content(e,n,s){const{vector_store_id:r}=n;return this._client.getAPIList(we`/vector_stores/${r}/files/${e}/content`,kg,{...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class Tg extends Ke{constructor(){super(...arguments),this.files=new H6(this._client),this.fileBatches=new $6(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(we`/vector_stores/${e}`,{...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,s){return this._client.post(we`/vector_stores/${e}`,{body:n,...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",An,{query:e,...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(we`/vector_stores/${e}`,{...n,headers:Ve([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,s){return this._client.getAPIList(we`/vector_stores/${e}/search`,kg,{body:n,method:"post",...s,headers:Ve([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}Tg.Files=H6;Tg.FileBatches=$6;class U6 extends Ke{create(e,n){return this._client.post("/videos",q5({body:e,...n},this._client))}retrieve(e,n){return this._client.get(we`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",f0,{query:e,...n})}delete(e,n){return this._client.delete(we`/videos/${e}`,n)}downloadContent(e,n={},s){return this._client.get(we`/videos/${e}/content`,{query:n,...s,headers:Ve([{Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}remix(e,n,s){return this._client.post(we`/videos/${e}/remix`,q5({body:n,...s},this._client))}}var Cc,V6,Vm;class F6 extends Ke{constructor(){super(...arguments),Cc.add(this)}async unwrap(e,n,s=this._client.webhookSecret,r=300){return await this.verifySignature(e,n,s,r),JSON.parse(e)}async verifySignature(e,n,s=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");ce(this,Cc,"m",V6).call(this,s);const a=Ve([n]).values,o=ce(this,Cc,"m",Vm).call(this,a,"webhook-signature"),c=ce(this,Cc,"m",Vm).call(this,a,"webhook-timestamp"),h=ce(this,Cc,"m",Vm).call(this,a,"webhook-id"),d=parseInt(c,10);if(isNaN(d))throw new $h("Invalid webhook timestamp format");const g=Math.floor(Date.now()/1e3);if(g-d>r)throw new $h("Webhook timestamp is too old");if(d>g+r)throw new $h("Webhook timestamp is too new");const m=o.split(" ").map(w=>w.startsWith("v1,")?w.substring(3):w),v=s.startsWith("whsec_")?Buffer.from(s.replace("whsec_",""),"base64"):Buffer.from(s,"utf-8"),y=h?`${h}.${c}.${e}`:`${c}.${e}`,x=await crypto.subtle.importKey("raw",v,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const w of m)try{const S=Buffer.from(w,"base64");if(await crypto.subtle.verify("HMAC",x,S,new TextEncoder().encode(y)))return}catch{continue}throw new $h("The given webhook signature does not match the expected signature")}}Cc=new WeakSet,V6=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Vm=function(e,n){if(!e)throw new Error("Headers are required");const s=e.get(n);if(s==null)throw new Error(`Missing required header: ${n}`);return s};var I_,IS,Fm,q6;class gt{constructor({baseURL:e=fc("OPENAI_BASE_URL"),apiKey:n=fc("OPENAI_API_KEY"),organization:s=fc("OPENAI_ORG_ID")??null,project:r=fc("OPENAI_PROJECT_ID")??null,webhookSecret:a=fc("OPENAI_WEBHOOK_SECRET")??null,...o}={}){if(I_.add(this),Fm.set(this,void 0),this.completions=new _6(this),this.chat=new kS(this),this.embeddings=new S6(this),this.files=new C6(this),this.images=new R6(this),this.audio=new vf(this),this.moderations=new B6(this),this.models=new O6(this),this.fineTuning=new hu(this),this.graders=new MS(this),this.vectorStores=new Tg(this),this.webhooks=new F6(this),this.beta=new uu(this),this.batches=new d6(this),this.uploads=new LS(this),this.responses=new jg(this),this.realtime=new Eg(this),this.conversations=new ES(this),this.evals=new TS(this),this.containers=new AS(this),this.videos=new U6(this),n===void 0)throw new Xe("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const c={apiKey:n,organization:s,project:r,webhookSecret:a,...o,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&GP())throw new Xe(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??IS.DEFAULT_TIMEOUT,this.logger=c.logger??console;const h="warn";this.logLevel=h,this.logLevel=V5(c.logLevel,"ClientOptions.logLevel",this)??V5(fc("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??h,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??ZP(),nt(this,Fm,tz),this._options=c,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=s,this.project=r,this.webhookSecret=a}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return Ve([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return lz(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Sc}`}defaultIdempotencyKey(){return`stainless-node-retry-${pT()}`}makeStatusError(e,n,s,r){return is.generate(e,n,s,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(s){throw s instanceof Xe?s:new Xe(`Failed to get token from 'apiKey' function: ${s.message}`,{cause:s})}if(typeof n!="string"||!n)throw new Xe(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,s){const r=!ce(this,I_,"m",q6).call(this)&&s||this.baseURL,a=VP(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return FP(o)||(n={...o,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:s}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(r=>({method:e,path:n,...r})))}request(e,n=null){return new Sg(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,s){const r=await e,a=r.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(r);const{req:o,url:c,timeout:h}=await this.buildRequest(r,{retryCount:a-n});await this.prepareRequest(o,{url:c,options:r});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=s===void 0?"":`, retryOf: ${s}`,m=Date.now();if(Qn(this).debug(`[${d}] sending request`,Dl({retryOfRequestLogID:s,method:r.method,url:c,options:r,headers:o.headers})),r.signal?.aborted)throw new Tr;const v=new AbortController,y=await this.fetchWithTimeout(c,o,h,v).catch(C_),x=Date.now();if(y instanceof globalThis.Error){const k=`retrying, ${n} attempts remaining`;if(r.signal?.aborted)throw new Tr;const C=k_(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return Qn(this).info(`[${d}] connection ${C?"timed out":"failed"} - ${k}`),Qn(this).debug(`[${d}] connection ${C?"timed out":"failed"} (${k})`,Dl({retryOfRequestLogID:s,url:c,durationMs:x-m,message:y.message})),this.retryRequest(r,n,s??d);throw Qn(this).info(`[${d}] connection ${C?"timed out":"failed"} - error; no more retries left`),Qn(this).debug(`[${d}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Dl({retryOfRequestLogID:s,url:c,durationMs:x-m,message:y.message})),C?new mS:new xg({cause:y})}const w=[...y.headers.entries()].filter(([k])=>k==="x-request-id").map(([k,C])=>", "+k+": "+JSON.stringify(C)).join(""),S=`[${d}${g}${w}] ${o.method} ${c} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${x-m}ms`;if(!y.ok){const k=await this.shouldRetry(y);if(n&&k){const $=`retrying, ${n} attempts remaining`;return await ez(y.body),Qn(this).info(`${S} - ${$}`),Qn(this).debug(`[${d}] response error (${$})`,Dl({retryOfRequestLogID:s,url:y.url,status:y.status,headers:y.headers,durationMs:x-m})),this.retryRequest(r,n,s??d,y.headers)}const C=k?"error; no more retries left":"error; not retryable";Qn(this).info(`${S} - ${C}`);const E=await y.text().catch($=>C_($).message),B=KP(E),D=B?void 0:E;throw Qn(this).debug(`[${d}] response error (${C})`,Dl({retryOfRequestLogID:s,url:y.url,status:y.status,headers:y.headers,message:D,durationMs:Date.now()-m})),this.makeStatusError(y.status,B,D,y.headers)}return Qn(this).info(S),Qn(this).debug(`[${d}] response start`,Dl({retryOfRequestLogID:s,url:y.url,status:y.status,headers:y.headers,durationMs:x-m})),{response:y,options:r,controller:v,requestLogID:d,retryOfRequestLogID:s,startTime:m}}getAPIList(e,n,s){return this.requestAPIList(n,{method:"get",path:e,...s})}requestAPIList(e,n){const s=this.makeRequest(n,null,void 0);return new gz(this,s,e)}async fetchWithTimeout(e,n,s,r){const{signal:a,method:o,...c}=n||{};a&&a.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),s),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,g={signal:r.signal,...d?{duplex:"half"}:{},method:"GET",...c};o&&(g.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,g)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s,r){let a;const o=r?.get("retry-after-ms");if(o){const h=parseFloat(o);Number.isNaN(h)||(a=h)}const c=r?.get("retry-after");if(c&&!a){const h=parseFloat(c);Number.isNaN(h)?a=Date.parse(c)-Date.now():a=h*1e3}if(!(a&&0<=a&&a<60*1e3)){const h=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,h)}return await gf(a),this.makeRequest(e,n-1,s)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,o=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return o*c*1e3}async buildRequest(e,{retryCount:n=0}={}){const s={...e},{method:r,path:a,query:o,defaultBaseURL:c}=s,h=this.buildURL(a,o,c);"timeout"in s&&WP("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const{bodyHeaders:d,body:g}=this.buildBody({options:s}),m=await this.buildHeaders({options:e,method:r,bodyHeaders:d,retryCount:n});return{req:{method:r,headers:m,...s.signal&&{signal:s.signal},...globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"},...g&&{body:g},...this.fetchOptions??{},...s.fetchOptions??{}},url:h,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:s,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const o=Ve([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...QP(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,s,e.headers]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Ve([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:AT(e)}:ce(this,Fm,"f").call(this,{body:e,headers:s})}}IS=gt,Fm=new WeakMap,I_=new WeakSet,q6=function(){return this.baseURL!=="https://api.openai.com/v1"};gt.OpenAI=IS;gt.DEFAULT_TIMEOUT=6e5;gt.OpenAIError=Xe;gt.APIError=is;gt.APIConnectionError=xg;gt.APIConnectionTimeoutError=mS;gt.APIUserAbortError=Tr;gt.NotFoundError=vT;gt.ConflictError=bT;gt.RateLimitError=xT;gt.BadRequestError=mT;gt.AuthenticationError=gT;gt.InternalServerError=wT;gt.PermissionDeniedError=yT;gt.UnprocessableEntityError=_T;gt.InvalidWebhookSignatureError=$h;gt.toFile=xz;gt.Completions=_6;gt.Chat=kS;gt.Embeddings=S6;gt.Files=C6;gt.Images=R6;gt.Audio=vf;gt.Moderations=B6;gt.Models=O6;gt.FineTuning=hu;gt.Graders=MS;gt.VectorStores=Tg;gt.Webhooks=F6;gt.Beta=uu;gt.Batches=d6;gt.Uploads=LS;gt.Responses=jg;gt.Realtime=Eg;gt.Conversations=ES;gt.Evals=TS;gt.Containers=AS;gt.Videos=U6;const Gz=new gt({baseURL:`${window.location.origin}/openai/v1`,apiKey:"not-needed",dangerouslyAllowBrowser:!0}),Ga={User:"user",Assistant:"assistant",Tool:"tool"};function Yz(t){return t.map(e=>({type:"function",name:e.name,description:e.description,parameters:e.parameters,strict:!1}))}async function Xz(t,e,n,s,r){const a=[];for(const g of n)switch(g.role){case Ga.User:{a.push({type:"message",role:"user",content:[{type:"input_text",text:g.content}]});break}case Ga.Tool:{if(g.toolResult){const m=typeof g.toolResult.data=="string"?g.toolResult.data:JSON.stringify(g.toolResult.data);a.push({type:"function_call_output",call_id:g.toolResult.id,output:m})}break}case Ga.Assistant:{if(g.toolCalls&&g.toolCalls.length>0)for(const m of g.toolCalls)a.push({type:"function_call",call_id:m.id,name:m.name,arguments:m.arguments});else a.push({type:"message",role:"assistant",content:g.content});break}}const o=Gz.responses.stream({model:t,tools:Yz(s),input:a,instructions:e});if(r){let g="";o.on("response.output_text.delta",m=>{const v=m.delta;g+=v,r(v,g)})}const c=await o.finalResponse();if(!c.output)return{role:Ga.Assistant,content:""};let h="";const d=[];for(const g of c.output)if(g.type==="message"){if(g.content)for(const m of g.content)m.type==="output_text"&&(h=m.text)}else g.type==="function_call"&&g.call_id&&d.push({id:g.call_id,name:g.name,arguments:g.arguments});return{role:Ga.Assistant,content:h,toolCalls:d.length>0?d:void 0}}const Jz=[{name:"list_resources",description:"List Kubernetes resources of a specific type in a namespace or cluster-wide",parameters:{type:"object",properties:{resource:{type:"string",description:"The type of resource to list (e.g., pods, deployments, services, configmaps, secrets, ingresses, gateways, httproutes, grpcroutes, tcproutes, udproutes, tlsroutes, jobs, cronjobs, daemonsets, statefulsets, replicasets, nodes, namespaces, persistentvolumes, persistentvolumeclaims, events)"},namespace:{type:"string",description:'The namespace to list resources from. Use "all" for all namespaces, or omit for cluster-scoped resources'}},required:["resource"]}},{name:"get_resource",description:"Get detailed information about a specific Kubernetes resource",parameters:{type:"object",properties:{resource:{type:"string",description:"The type of resource (e.g., pod, deployment, service)"},name:{type:"string",description:"The name of the resource"},namespace:{type:"string",description:"The namespace of the resource (required for namespaced resources)"}},required:["resource","name"]}},{name:"get_pod_logs",description:"Get logs from a specific pod",parameters:{type:"object",properties:{name:{type:"string",description:"The name of the pod"},namespace:{type:"string",description:"The namespace of the pod"},container:{type:"string",description:"The container name (optional, defaults to first container)"},tailLines:{type:"string",description:"Number of lines to return from the end of the logs (default: 100)"}},required:["name","namespace"]}},{name:"describe_resource",description:"Get events and status conditions for a Kubernetes resource",parameters:{type:"object",properties:{resource:{type:"string",description:"The type of resource (e.g., pod, deployment, service)"},name:{type:"string",description:"The name of the resource"},namespace:{type:"string",description:"The namespace of the resource"}},required:["resource","name","namespace"]}}];async function gb(t,e){const n=e.toLowerCase(),s=await bo(t,n);return s?{config:s,plural:s.name}:null}async function Qz(t,e,n){switch(e){case"list_resources":{const s=await gb(t,n.resource);if(!s)return{error:`Unknown resource type: ${n.resource}`};const{config:r,plural:a}=s,o=Yl(r);let c;r.namespaced&&n.namespace&&n.namespace!=="all"?c=`${o}/namespaces/${n.namespace}/${a}`:c=`${o}/${a}`;const h=await fetch(`/contexts/${t}${c}`);if(!h.ok)return{error:`Failed to list ${a}: ${h.status} ${h.statusText}`};const d=await h.json();return{kind:d.kind,items:d.items?.map(g=>({name:g.metadata?.name,namespace:g.metadata?.namespace,createdAt:g.metadata?.creationTimestamp,status:g.status}))||[]}}case"get_resource":{const s=await gb(t,n.resource);if(!s)return{error:`Unknown resource type: ${n.resource}`};const{config:r,plural:a}=s,o=Yl(r);let c;r.namespaced&&n.namespace?c=`${o}/namespaces/${n.namespace}/${a}/${n.name}`:c=`${o}/${a}/${n.name}`;const h=await fetch(`/contexts/${t}${c}`);return h.ok?h.json():{error:`Failed to get ${n.resource} ${n.name}: ${h.status} ${h.statusText}`}}case"get_pod_logs":{const s=n.tailLines||"100";let r=`/api/v1/namespaces/${n.namespace}/pods/${n.name}/log?tailLines=${s}`;n.container&&(r+=`&container=${n.container}`);const a=await fetch(`/contexts/${t}${r}`);return a.ok?{logs:await a.text()||"(no logs available)"}:{error:`Failed to get logs: ${a.status} ${a.statusText}`}}case"describe_resource":{const s=await gb(t,n.resource);if(!s)return{error:`Unknown resource type: ${n.resource}`};const{config:r,plural:a}=s,o=Yl(r);let c;r.namespaced&&n.namespace?c=`${o}/namespaces/${n.namespace}/${a}/${n.name}`:c=`${o}/${a}/${n.name}`;const h=await fetch(`/contexts/${t}${c}`);if(!h.ok)return{error:`Failed to get ${n.resource} ${n.name}: ${h.status}`};const d=await h.json(),g=`/api/v1/namespaces/${n.namespace}/events?fieldSelector=involvedObject.name=${n.name}`,m=await fetch(`/contexts/${t}${g}`);let v=[];return m.ok&&(v=(await m.json()).items?.map(x=>({type:x.type,reason:x.reason,message:x.message,lastTimestamp:x.lastTimestamp}))||[]),{metadata:d.metadata,spec:d.spec,status:d.status,events:v}}default:return{error:`Unknown tool: ${e}`}}}async function Zz(t,e){const n=JSON.parse(e.arguments),s=await Qz(t,e.name,n);return{id:e.id,data:s}}async function e$(t,e,n){const s=n?.model||"",r=n.environment.currentContext;let a="";if(n?.environment){const m=n.environment,v=[];m.currentNamespace&&v.push(`- Current namespace: ${m.currentNamespace}`),m.selectedResourceKind&&v.push(`- Currently viewing resource type: ${m.selectedResourceKind}`),m.selectedResourceName&&v.push(`- Currently selected resource: ${m.selectedResourceName}`),v.length>0&&(a=`

The user is currently viewing:
${v.join(`
`)}

Use this context to provide more relevant answers. When the user asks about resources without specifying a namespace, use the current namespace.`)}const o=n?.instructions||`You are a helpful Kubernetes assistant. You can help users understand and manage their Kubernetes clusters.
When users ask about resources, use the available tools to fetch real data from the cluster.
Provide clear, concise explanations and highlight any issues or warnings you find.
Format your responses using markdown for better readability.${a}`;let h=[...e,{role:Ga.User,content:t}],d=0;const g=10;for(;d<g;){d++;const m=await Xz(s,o,h,Jz,n?.onStream);if(!m.toolCalls||m.toolCalls.length===0)return{response:m,history:[...h,m]};h=[...h,m];for(const v of m.toolCalls){const y=JSON.parse(v.arguments);n?.onToolCall?.(v.name,y);const x=await Zz(r,v);h.push({role:Ga.Tool,content:"",toolResult:x})}}return{response:{role:Ga.Assistant,content:"I apologize, but I encountered an issue processing your request. Please try again."},history:h}}function t$(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const n$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,s$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,r$={};function lA(t,e){return(r$.jsx?s$:n$).test(t)}const i$=/[ \t\n\f\r]/g;function a$(t){return typeof t=="object"?t.type==="text"?oA(t.value):!1:oA(t)}function oA(t){return t.replace(i$,"")===""}let bf=class{constructor(e,n,s){this.normal=n,this.property=e,s&&(this.space=s)}};bf.prototype.normal={};bf.prototype.property={};bf.prototype.space=void 0;function W6(t,e){const n={},s={};for(const r of t)Object.assign(n,r.property),Object.assign(s,r.normal);return new bf(n,s,e)}function P_(t){return t.toLowerCase()}class Fs{constructor(e,n){this.attribute=n,this.property=e}}Fs.prototype.attribute="";Fs.prototype.booleanish=!1;Fs.prototype.boolean=!1;Fs.prototype.commaOrSpaceSeparated=!1;Fs.prototype.commaSeparated=!1;Fs.prototype.defined=!1;Fs.prototype.mustUseProperty=!1;Fs.prototype.number=!1;Fs.prototype.overloadedBoolean=!1;Fs.prototype.property="";Fs.prototype.spaceSeparated=!1;Fs.prototype.space=void 0;let l$=0;const pt=_o(),Sn=_o(),z_=_o(),Ae=_o(),Kt=_o(),Pc=_o(),rr=_o();function _o(){return 2**++l$}const $_=Object.freeze(Object.defineProperty({__proto__:null,boolean:pt,booleanish:Sn,commaOrSpaceSeparated:rr,commaSeparated:Pc,number:Ae,overloadedBoolean:z_,spaceSeparated:Kt},Symbol.toStringTag,{value:"Module"})),yb=Object.keys($_);class PS extends Fs{constructor(e,n,s,r){let a=-1;if(super(e,n),cA(this,"space",r),typeof s=="number")for(;++a<yb.length;){const o=yb[a];cA(this,yb[a],(s&$_[o])===$_[o])}}}PS.prototype.defined=!0;function cA(t,e,n){n&&(t[e]=n)}function du(t){const e={},n={};for(const[s,r]of Object.entries(t.properties)){const a=new PS(s,t.transform(t.attributes||{},s),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(s)&&(a.mustUseProperty=!0),e[s]=a,n[P_(s)]=s,n[P_(a.attribute)]=s}return new bf(e,n,t.space)}const K6=du({properties:{ariaActiveDescendant:null,ariaAtomic:Sn,ariaAutoComplete:null,ariaBusy:Sn,ariaChecked:Sn,ariaColCount:Ae,ariaColIndex:Ae,ariaColSpan:Ae,ariaControls:Kt,ariaCurrent:null,ariaDescribedBy:Kt,ariaDetails:null,ariaDisabled:Sn,ariaDropEffect:Kt,ariaErrorMessage:null,ariaExpanded:Sn,ariaFlowTo:Kt,ariaGrabbed:Sn,ariaHasPopup:null,ariaHidden:Sn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Kt,ariaLevel:Ae,ariaLive:null,ariaModal:Sn,ariaMultiLine:Sn,ariaMultiSelectable:Sn,ariaOrientation:null,ariaOwns:Kt,ariaPlaceholder:null,ariaPosInSet:Ae,ariaPressed:Sn,ariaReadOnly:Sn,ariaRelevant:null,ariaRequired:Sn,ariaRoleDescription:Kt,ariaRowCount:Ae,ariaRowIndex:Ae,ariaRowSpan:Ae,ariaSelected:Sn,ariaSetSize:Ae,ariaSort:null,ariaValueMax:Ae,ariaValueMin:Ae,ariaValueNow:Ae,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function G6(t,e){return e in t?t[e]:e}function Y6(t,e){return G6(t,e.toLowerCase())}const o$=du({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pc,acceptCharset:Kt,accessKey:Kt,action:null,allow:null,allowFullScreen:pt,allowPaymentRequest:pt,allowUserMedia:pt,alt:null,as:null,async:pt,autoCapitalize:null,autoComplete:Kt,autoFocus:pt,autoPlay:pt,blocking:Kt,capture:null,charSet:null,checked:pt,cite:null,className:Kt,cols:Ae,colSpan:null,content:null,contentEditable:Sn,controls:pt,controlsList:Kt,coords:Ae|Pc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:pt,defer:pt,dir:null,dirName:null,disabled:pt,download:z_,draggable:Sn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:pt,formTarget:null,headers:Kt,height:Ae,hidden:z_,high:Ae,href:null,hrefLang:null,htmlFor:Kt,httpEquiv:Kt,id:null,imageSizes:null,imageSrcSet:null,inert:pt,inputMode:null,integrity:null,is:null,isMap:pt,itemId:null,itemProp:Kt,itemRef:Kt,itemScope:pt,itemType:Kt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:pt,low:Ae,manifest:null,max:null,maxLength:Ae,media:null,method:null,min:null,minLength:Ae,multiple:pt,muted:pt,name:null,nonce:null,noModule:pt,noValidate:pt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:pt,optimum:Ae,pattern:null,ping:Kt,placeholder:null,playsInline:pt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:pt,referrerPolicy:null,rel:Kt,required:pt,reversed:pt,rows:Ae,rowSpan:Ae,sandbox:Kt,scope:null,scoped:pt,seamless:pt,selected:pt,shadowRootClonable:pt,shadowRootDelegatesFocus:pt,shadowRootMode:null,shape:null,size:Ae,sizes:null,slot:null,span:Ae,spellCheck:Sn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ae,step:null,style:null,tabIndex:Ae,target:null,title:null,translate:null,type:null,typeMustMatch:pt,useMap:null,value:Sn,width:Ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Kt,axis:null,background:null,bgColor:null,border:Ae,borderColor:null,bottomMargin:Ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:pt,declare:pt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ae,leftMargin:Ae,link:null,longDesc:null,lowSrc:null,marginHeight:Ae,marginWidth:Ae,noResize:pt,noHref:pt,noShade:pt,noWrap:pt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ae,rules:null,scheme:null,scrolling:Sn,standby:null,summary:null,text:null,topMargin:Ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:pt,disableRemotePlayback:pt,prefix:null,property:null,results:Ae,security:null,unselectable:null},space:"html",transform:Y6}),c$=du({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:rr,accentHeight:Ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ae,amplitude:Ae,arabicForm:null,ascent:Ae,attributeName:null,attributeType:null,azimuth:Ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ae,by:null,calcMode:null,capHeight:Ae,className:Kt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ae,diffuseConstant:Ae,direction:null,display:null,dur:null,divisor:Ae,dominantBaseline:null,download:pt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ae,enableBackground:null,end:null,event:null,exponent:Ae,externalResourcesRequired:null,fill:null,fillOpacity:Ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pc,g2:Pc,glyphName:Pc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ae,horizOriginX:Ae,horizOriginY:Ae,id:null,ideographic:Ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ae,k:Ae,k1:Ae,k2:Ae,k3:Ae,k4:Ae,kernelMatrix:rr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ae,overlineThickness:Ae,paintOrder:null,panose1:null,path:null,pathLength:Ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Kt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ae,pointsAtY:Ae,pointsAtZ:Ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rr,rev:rr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rr,requiredFeatures:rr,requiredFonts:rr,requiredFormats:rr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ae,specularExponent:Ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ae,strikethroughThickness:Ae,string:null,stroke:null,strokeDashArray:rr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ae,strokeOpacity:Ae,strokeWidth:null,style:null,surfaceScale:Ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rr,tabIndex:Ae,tableValues:null,target:null,targetX:Ae,targetY:Ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ae,underlineThickness:Ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ae,values:null,vAlphabetic:Ae,vMathematical:Ae,vectorEffect:null,vHanging:Ae,vIdeographic:Ae,version:null,vertAdvY:Ae,vertOriginX:Ae,vertOriginY:Ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:G6}),X6=du({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),J6=du({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Y6}),Q6=du({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),u$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},h$=/[A-Z]/g,uA=/-[a-z]/g,d$=/^data[-\w.:]+$/i;function f$(t,e){const n=P_(e);let s=e,r=Fs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&d$.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(uA,m$);s="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!uA.test(a)){let o=a.replace(h$,p$);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}r=PS}return new r(s,e)}function p$(t){return"-"+t.toLowerCase()}function m$(t){return t.charAt(1).toUpperCase()}const g$=W6([K6,o$,X6,J6,Q6],"html"),zS=W6([K6,c$,X6,J6,Q6],"svg");function y$(t){return t.join(" ").trim()}var mc={},vb,hA;function v$(){if(hA)return vb;hA=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,c=/^\s+|\s+$/g,h=`
`,d="/",g="*",m="",v="comment",y="declaration";function x(S,k){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];k=k||{};var C=1,E=1;function B(Q){var q=Q.match(e);q&&(C+=q.length);var L=Q.lastIndexOf(h);E=~L?Q.length-L:E+Q.length}function D(){var Q={line:C,column:E};return function(q){return q.position=new j(Q),Y(),q}}function j(Q){this.start=Q,this.end={line:C,column:E},this.source=k.source}j.prototype.content=S;function $(Q){var q=new Error(k.source+":"+C+":"+E+": "+Q);if(q.reason=Q,q.filename=k.source,q.line=C,q.column=E,q.source=S,!k.silent)throw q}function H(Q){var q=Q.exec(S);if(q){var L=q[0];return B(L),S=S.slice(L.length),q}}function Y(){H(n)}function z(Q){var q;for(Q=Q||[];q=J();)q!==!1&&Q.push(q);return Q}function J(){var Q=D();if(!(d!=S.charAt(0)||g!=S.charAt(1))){for(var q=2;m!=S.charAt(q)&&(g!=S.charAt(q)||d!=S.charAt(q+1));)++q;if(q+=2,m===S.charAt(q-1))return $("End of comment missing");var L=S.slice(2,q-2);return E+=2,B(L),S=S.slice(q),E+=2,Q({type:v,comment:L})}}function F(){var Q=D(),q=H(s);if(q){if(J(),!H(r))return $("property missing ':'");var L=H(a),G=Q({type:y,property:w(q[0].replace(t,m)),value:L?w(L[0].replace(t,m)):m});return H(o),G}}function K(){var Q=[];z(Q);for(var q;q=F();)q!==!1&&(Q.push(q),z(Q));return Q}return Y(),K()}function w(S){return S?S.replace(c,m):m}return vb=x,vb}var dA;function b$(){if(dA)return mc;dA=1;var t=mc&&mc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(mc,"__esModule",{value:!0}),mc.default=n;const e=t(v$());function n(s,r){let a=null;if(!s||typeof s!="string")return a;const o=(0,e.default)(s),c=typeof r=="function";return o.forEach(h=>{if(h.type!=="declaration")return;const{property:d,value:g}=h;c?r(d,g,h):g&&(a=a||{},a[d]=g)}),a}return mc}var kh={},fA;function _$(){if(fA)return kh;fA=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},o=function(d,g){return g.toUpperCase()},c=function(d,g){return"".concat(g,"-")},h=function(d,g){return g===void 0&&(g={}),a(d)?d:(d=d.toLowerCase(),g.reactCompat?d=d.replace(r,c):d=d.replace(s,c),d.replace(e,o))};return kh.camelCase=h,kh}var Ch,pA;function x$(){if(pA)return Ch;pA=1;var t=Ch&&Ch.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=t(b$()),n=_$();function s(r,a){var o={};return!r||typeof r!="string"||(0,e.default)(r,function(c,h){c&&h&&(o[(0,n.camelCase)(c,a)]=h)}),o}return s.default=s,Ch=s,Ch}var w$=x$();const S$=rS(w$),Z6=eR("end"),$S=eR("start");function eR(t){return e;function e(n){const s=n&&n.position&&n.position[t]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function k$(t){const e=$S(t),n=Z6(t);if(e&&n)return{start:e,end:n}}function Cd(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?mA(t.position):"start"in t||"end"in t?mA(t):"line"in t||"column"in t?H_(t):""}function H_(t){return gA(t&&t.line)+":"+gA(t&&t.column)}function mA(t){return H_(t&&t.start)+"-"+H_(t&&t.end)}function gA(t){return t&&typeof t=="number"?t:1}class ms extends Error{constructor(e,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let r="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?r=e:!a.cause&&e&&(o=!0,r=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof s=="string"){const h=s.indexOf(":");h===-1?a.ruleId=s:(a.source=s.slice(0,h),a.ruleId=s.slice(h+1))}if(!a.place&&a.ancestors&&a.ancestors){const h=a.ancestors[a.ancestors.length-1];h&&(a.place=h.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=c?c.line:void 0,this.name=Cd(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ms.prototype.file="";ms.prototype.name="";ms.prototype.reason="";ms.prototype.message="";ms.prototype.stack="";ms.prototype.column=void 0;ms.prototype.line=void 0;ms.prototype.ancestors=void 0;ms.prototype.cause=void 0;ms.prototype.fatal=void 0;ms.prototype.place=void 0;ms.prototype.ruleId=void 0;ms.prototype.source=void 0;const HS={}.hasOwnProperty,C$=new Map,N$=/[A-Z]/g,A$=new Set(["table","tbody","thead","tfoot","tr"]),E$=new Set(["td","th"]),tR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function j$(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let s;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=I$(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=L$(n,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:s,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?zS:g$,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=nR(r,t,void 0);return a&&typeof a!="string"?a:r.create(t,r.Fragment,{children:a||void 0},void 0)}function nR(t,e,n){if(e.type==="element")return T$(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return R$(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return B$(t,e,n);if(e.type==="mdxjsEsm")return O$(t,e);if(e.type==="root")return M$(t,e,n);if(e.type==="text")return D$(t,e)}function T$(t,e,n){const s=t.schema;let r=s;e.tagName.toLowerCase()==="svg"&&s.space==="html"&&(r=zS,t.schema=r),t.ancestors.push(e);const a=rR(t,e.tagName,!1),o=P$(t,e);let c=VS(t,e);return A$.has(e.tagName)&&(c=c.filter(function(h){return typeof h=="string"?!a$(h):!0})),sR(t,o,a,e),US(o,c),t.ancestors.pop(),t.schema=s,t.create(e,a,o,n)}function R$(t,e){if(e.data&&e.data.estree&&t.evaluater){const s=e.data.estree.body[0];return s.type,t.evaluater.evaluateExpression(s.expression)}qd(t,e.position)}function O$(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);qd(t,e.position)}function B$(t,e,n){const s=t.schema;let r=s;e.name==="svg"&&s.space==="html"&&(r=zS,t.schema=r),t.ancestors.push(e);const a=e.name===null?t.Fragment:rR(t,e.name,!0),o=z$(t,e),c=VS(t,e);return sR(t,o,a,e),US(o,c),t.ancestors.pop(),t.schema=s,t.create(e,a,o,n)}function M$(t,e,n){const s={};return US(s,VS(t,e)),t.create(e,t.Fragment,s,n)}function D$(t,e){return e.value}function sR(t,e,n,s){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=s)}function US(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function L$(t,e,n){return s;function s(r,a,o,c){const d=Array.isArray(o.children)?n:e;return c?d(a,o,c):d(a,o)}}function I$(t,e){return n;function n(s,r,a,o){const c=Array.isArray(a.children),h=$S(s);return e(r,a,o,c,{columnNumber:h?h.column-1:void 0,fileName:t,lineNumber:h?h.line:void 0},void 0)}}function P$(t,e){const n={};let s,r;for(r in e.properties)if(r!=="children"&&HS.call(e.properties,r)){const a=$$(t,r,e.properties[r]);if(a){const[o,c]=a;t.tableCellAlignToStyle&&o==="align"&&typeof c=="string"&&E$.has(e.tagName)?s=c:n[o]=c}}if(s){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function z$(t,e){const n={};for(const s of e.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&t.evaluater){const a=s.data.estree.body[0];a.type;const o=a.expression;o.type;const c=o.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else qd(t,e.position);else{const r=s.name;let a;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&t.evaluater){const c=s.value.data.estree.body[0];c.type,a=t.evaluater.evaluateExpression(c.expression)}else qd(t,e.position);else a=s.value===null?!0:s.value;n[r]=a}return n}function VS(t,e){const n=[];let s=-1;const r=t.passKeys?new Map:C$;for(;++s<e.children.length;){const a=e.children[s];let o;if(t.passKeys){const h=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(h){const d=r.get(h)||0;o=h+"-"+d,r.set(h,d+1)}}const c=nR(t,a,o);c!==void 0&&n.push(c)}return n}function $$(t,e,n){const s=f$(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?t$(n):y$(n)),s.property==="style"){let r=typeof n=="object"?n:H$(t,String(n));return t.stylePropertyNameCase==="css"&&(r=U$(r)),["style",r]}return[t.elementAttributeNameCase==="react"&&s.space?u$[s.property]||s.property:s.attribute,n]}}function H$(t,e){try{return S$(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const s=n,r=new ms("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=tR+"#cannot-parse-style-attribute",r}}function rR(t,e,n){let s;if(!n)s={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let a=-1,o;for(;++a<r.length;){const c=lA(r[a])?{type:"Identifier",name:r[a]}:{type:"Literal",value:r[a]};o=o?{type:"MemberExpression",object:o,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}s=o}else s=lA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(s.type==="Literal"){const r=s.value;return HS.call(t.components,r)?t.components[r]:r}if(t.evaluater)return t.evaluater.evaluateExpression(s);qd(t)}function qd(t,e){const n=new ms("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=tR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function U$(t){const e={};let n;for(n in t)HS.call(t,n)&&(e[V$(n)]=t[n]);return e}function V$(t){let e=t.replace(N$,F$);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function F$(t){return"-"+t.toLowerCase()}const bb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},q$={};function FS(t,e){const n=q$,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return iR(t,s,r)}function iR(t,e,n){if(W$(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return yA(t.children,e,n)}return Array.isArray(t)?yA(t,e,n):""}function yA(t,e,n){const s=[];let r=-1;for(;++r<t.length;)s[r]=iR(t[r],e,n);return s.join("")}function W$(t){return!!(t&&typeof t=="object")}const vA=document.createElement("i");function qS(t){const e="&"+t+";";vA.innerHTML=e;const n=vA.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ur(t,e,n,s){const r=t.length;let a=0,o;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,s.length<1e4)o=Array.from(s),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);a<s.length;)o=s.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function Er(t,e){return t.length>0?(ur(t,t.length,0,e),t):e}const bA={}.hasOwnProperty;function aR(t){const e={};let n=-1;for(;++n<t.length;)K$(e,t[n]);return e}function K$(t,e){let n;for(n in e){const r=(bA.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let o;if(a)for(o in a){bA.call(r,o)||(r[o]=[]);const c=a[o];G$(r[o],Array.isArray(c)?c:c?[c]:[])}}}function G$(t,e){let n=-1;const s=[];for(;++n<e.length;)(e[n].add==="after"?t:s).push(e[n]);ur(t,0,0,s)}function lR(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Kr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const xs=dl(/[A-Za-z]/),ds=dl(/[\dA-Za-z]/),Y$=dl(/[#-'*+\--9=?A-Z^-~]/);function x0(t){return t!==null&&(t<32||t===127)}const U_=dl(/\d/),X$=dl(/[\dA-Fa-f]/),J$=dl(/[!-/:-@[-`{-~]/);function Je(t){return t!==null&&t<-2}function Wt(t){return t!==null&&(t<0||t===32)}function wt(t){return t===-2||t===-1||t===32}const Rg=dl(new RegExp("\\p{P}|\\p{S}","u")),to=dl(/\s/);function dl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function fu(t){const e=[];let n=-1,s=0,r=0;for(;++n<t.length;){const a=t.charCodeAt(n);let o="";if(a===37&&ds(t.charCodeAt(n+1))&&ds(t.charCodeAt(n+2)))r=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const c=t.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(o=String.fromCharCode(a,c),r=1):o=""}else o=String.fromCharCode(a);o&&(e.push(t.slice(s,n),encodeURIComponent(o)),s=n+r+1,o=""),r&&(n+=r,r=0)}return e.join("")+t.slice(s)}function At(t,e,n,s){const r=s?s-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(h){return wt(h)?(t.enter(n),c(h)):e(h)}function c(h){return wt(h)&&a++<r?(t.consume(h),c):(t.exit(n),e(h))}}const Q$={tokenize:Z$};function Z$(t){const e=t.attempt(this.parser.constructs.contentInitial,s,r);let n;return e;function s(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),At(t,e,"linePrefix")}function r(c){return t.enter("paragraph"),a(c)}function a(c){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,o(c)}function o(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return Je(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),o)}}const e9={tokenize:t9},_A={tokenize:n9};function t9(t){const e=this,n=[];let s=0,r,a,o;return c;function c(E){if(s<n.length){const B=n[s];return e.containerState=B[1],t.attempt(B[0].continuation,h,d)(E)}return d(E)}function h(E){if(s++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&C();const B=e.events.length;let D=B,j;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){j=e.events[D][1].end;break}k(s);let $=B;for(;$<e.events.length;)e.events[$][1].end={...j},$++;return ur(e.events,D+1,0,e.events.slice(B)),e.events.length=$,d(E)}return c(E)}function d(E){if(s===n.length){if(!r)return v(E);if(r.currentConstruct&&r.currentConstruct.concrete)return x(E);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(_A,g,m)(E)}function g(E){return r&&C(),k(s),v(E)}function m(E){return e.parser.lazy[e.now().line]=s!==n.length,o=e.now().offset,x(E)}function v(E){return e.containerState={},t.attempt(_A,y,x)(E)}function y(E){return s++,n.push([e.currentConstruct,e.containerState]),v(E)}function x(E){if(E===null){r&&C(),k(0),t.consume(E);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:a}),w(E)}function w(E){if(E===null){S(t.exit("chunkFlow"),!0),k(0),t.consume(E);return}return Je(E)?(t.consume(E),S(t.exit("chunkFlow")),s=0,e.interrupt=void 0,c):(t.consume(E),w)}function S(E,B){const D=e.sliceStream(E);if(B&&D.push(null),E.previous=a,a&&(a.next=E),a=E,r.defineSkip(E.start),r.write(D),e.parser.lazy[E.start.line]){let j=r.events.length;for(;j--;)if(r.events[j][1].start.offset<o&&(!r.events[j][1].end||r.events[j][1].end.offset>o))return;const $=e.events.length;let H=$,Y,z;for(;H--;)if(e.events[H][0]==="exit"&&e.events[H][1].type==="chunkFlow"){if(Y){z=e.events[H][1].end;break}Y=!0}for(k(s),j=$;j<e.events.length;)e.events[j][1].end={...z},j++;ur(e.events,H+1,0,e.events.slice($)),e.events.length=j}}function k(E){let B=n.length;for(;B-- >E;){const D=n[B];e.containerState=D[1],D[0].exit.call(e,t)}n.length=E}function C(){r.write([null]),a=void 0,r=void 0,e.containerState._closeFlow=void 0}}function n9(t,e,n){return At(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Vc(t){if(t===null||Wt(t)||to(t))return 1;if(Rg(t))return 2}function Og(t,e,n){const s=[];let r=-1;for(;++r<t.length;){const a=t[r].resolveAll;a&&!s.includes(a)&&(e=a(e,n),s.push(a))}return e}const V_={name:"attention",resolveAll:s9,tokenize:r9};function s9(t,e){let n=-1,s,r,a,o,c,h,d,g;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(s=n;s--;)if(t[s][0]==="exit"&&t[s][1].type==="attentionSequence"&&t[s][1]._open&&e.sliceSerialize(t[s][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[s][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[s][1].end.offset-t[s][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[s][1].end.offset-t[s][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[s][1].end},v={...t[n][1].start};xA(m,-h),xA(v,h),o={type:h>1?"strongSequence":"emphasisSequence",start:m,end:{...t[s][1].end}},c={type:h>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},a={type:h>1?"strongText":"emphasisText",start:{...t[s][1].end},end:{...t[n][1].start}},r={type:h>1?"strong":"emphasis",start:{...o.start},end:{...c.end}},t[s][1].end={...o.start},t[n][1].start={...c.end},d=[],t[s][1].end.offset-t[s][1].start.offset&&(d=Er(d,[["enter",t[s][1],e],["exit",t[s][1],e]])),d=Er(d,[["enter",r,e],["enter",o,e],["exit",o,e],["enter",a,e]]),d=Er(d,Og(e.parser.constructs.insideSpan.null,t.slice(s+1,n),e)),d=Er(d,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(g=2,d=Er(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):g=0,ur(t,s-1,n-s+3,d),n=s+d.length-g-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function r9(t,e){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,r=Vc(s);let a;return o;function o(h){return a=h,t.enter("attentionSequence"),c(h)}function c(h){if(h===a)return t.consume(h),c;const d=t.exit("attentionSequence"),g=Vc(h),m=!g||g===2&&r||n.includes(h),v=!r||r===2&&g||n.includes(s);return d._open=!!(a===42?m:m&&(r||!v)),d._close=!!(a===42?v:v&&(g||!m)),e(h)}}function xA(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const i9={name:"autolink",tokenize:a9};function a9(t,e,n){let s=0;return r;function r(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(y){return xs(y)?(t.consume(y),o):y===64?n(y):d(y)}function o(y){return y===43||y===45||y===46||ds(y)?(s=1,c(y)):d(y)}function c(y){return y===58?(t.consume(y),s=0,h):(y===43||y===45||y===46||ds(y))&&s++<32?(t.consume(y),c):(s=0,d(y))}function h(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||x0(y)?n(y):(t.consume(y),h)}function d(y){return y===64?(t.consume(y),g):Y$(y)?(t.consume(y),d):n(y)}function g(y){return ds(y)?m(y):n(y)}function m(y){return y===46?(t.consume(y),s=0,g):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):v(y)}function v(y){if((y===45||ds(y))&&s++<63){const x=y===45?v:m;return t.consume(y),x}return n(y)}}const _f={partial:!0,tokenize:l9};function l9(t,e,n){return s;function s(a){return wt(a)?At(t,r,"linePrefix")(a):r(a)}function r(a){return a===null||Je(a)?e(a):n(a)}}const oR={continuation:{tokenize:c9},exit:u9,name:"blockQuote",tokenize:o9};function o9(t,e,n){const s=this;return r;function r(o){if(o===62){const c=s.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a}return n(o)}function a(o){return wt(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function c9(t,e,n){const s=this;return r;function r(o){return wt(o)?At(t,a,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return t.attempt(oR,e,n)(o)}}function u9(t){t.exit("blockQuote")}const cR={name:"characterEscape",tokenize:h9};function h9(t,e,n){return s;function s(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),r}function r(a){return J$(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const uR={name:"characterReference",tokenize:d9};function d9(t,e,n){const s=this;let r=0,a,o;return c;function c(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),h}function h(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,o=ds,g(m))}function d(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=X$,g):(t.enter("characterReferenceValue"),a=7,o=U_,g(m))}function g(m){if(m===59&&r){const v=t.exit("characterReferenceValue");return o===ds&&!qS(s.sliceSerialize(v))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(m)&&r++<a?(t.consume(m),g):n(m)}}const wA={partial:!0,tokenize:p9},SA={concrete:!0,name:"codeFenced",tokenize:f9};function f9(t,e,n){const s=this,r={partial:!0,tokenize:D};let a=0,o=0,c;return h;function h(j){return d(j)}function d(j){const $=s.events[s.events.length-1];return a=$&&$[1].type==="linePrefix"?$[2].sliceSerialize($[1],!0).length:0,c=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g(j)}function g(j){return j===c?(o++,t.consume(j),g):o<3?n(j):(t.exit("codeFencedFenceSequence"),wt(j)?At(t,m,"whitespace")(j):m(j))}function m(j){return j===null||Je(j)?(t.exit("codeFencedFence"),s.interrupt?e(j):t.check(wA,w,B)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===null||Je(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(j)):wt(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),At(t,y,"whitespace")(j)):j===96&&j===c?n(j):(t.consume(j),v)}function y(j){return j===null||Je(j)?m(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(j))}function x(j){return j===null||Je(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(j)):j===96&&j===c?n(j):(t.consume(j),x)}function w(j){return t.attempt(r,B,S)(j)}function S(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),k}function k(j){return a>0&&wt(j)?At(t,C,"linePrefix",a+1)(j):C(j)}function C(j){return j===null||Je(j)?t.check(wA,w,B)(j):(t.enter("codeFlowValue"),E(j))}function E(j){return j===null||Je(j)?(t.exit("codeFlowValue"),C(j)):(t.consume(j),E)}function B(j){return t.exit("codeFenced"),e(j)}function D(j,$,H){let Y=0;return z;function z(q){return j.enter("lineEnding"),j.consume(q),j.exit("lineEnding"),J}function J(q){return j.enter("codeFencedFence"),wt(q)?At(j,F,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):F(q)}function F(q){return q===c?(j.enter("codeFencedFenceSequence"),K(q)):H(q)}function K(q){return q===c?(Y++,j.consume(q),K):Y>=o?(j.exit("codeFencedFenceSequence"),wt(q)?At(j,Q,"whitespace")(q):Q(q)):H(q)}function Q(q){return q===null||Je(q)?(j.exit("codeFencedFence"),$(q)):H(q)}}}function p9(t,e,n){const s=this;return r;function r(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a)}function a(o){return s.parser.lazy[s.now().line]?n(o):e(o)}}const _b={name:"codeIndented",tokenize:g9},m9={partial:!0,tokenize:y9};function g9(t,e,n){const s=this;return r;function r(d){return t.enter("codeIndented"),At(t,a,"linePrefix",5)(d)}function a(d){const g=s.events[s.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?o(d):n(d)}function o(d){return d===null?h(d):Je(d)?t.attempt(m9,o,h)(d):(t.enter("codeFlowValue"),c(d))}function c(d){return d===null||Je(d)?(t.exit("codeFlowValue"),o(d)):(t.consume(d),c)}function h(d){return t.exit("codeIndented"),e(d)}}function y9(t,e,n){const s=this;return r;function r(o){return s.parser.lazy[s.now().line]?n(o):Je(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),r):At(t,a,"linePrefix",5)(o)}function a(o){const c=s.events[s.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):Je(o)?r(o):n(o)}}const v9={name:"codeText",previous:_9,resolve:b9,tokenize:x9};function b9(t){let e=t.length-4,n=3,s,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(s=n;++s<e;)if(t[s][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(s=n-1,e++;++s<=e;)r===void 0?s!==e&&t[s][1].type!=="lineEnding"&&(r=s):(s===e||t[s][1].type==="lineEnding")&&(t[r][1].type="codeTextData",s!==r+2&&(t[r][1].end=t[s-1][1].end,t.splice(r+2,s-r-2),e-=s-r-2,s=r+2),r=void 0);return t}function _9(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function x9(t,e,n){let s=0,r,a;return o;function o(m){return t.enter("codeText"),t.enter("codeTextSequence"),c(m)}function c(m){return m===96?(t.consume(m),s++,c):(t.exit("codeTextSequence"),h(m))}function h(m){return m===null?n(m):m===32?(t.enter("space"),t.consume(m),t.exit("space"),h):m===96?(a=t.enter("codeTextSequence"),r=0,g(m)):Je(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),h):(t.enter("codeTextData"),d(m))}function d(m){return m===null||m===32||m===96||Je(m)?(t.exit("codeTextData"),h(m)):(t.consume(m),d)}function g(m){return m===96?(t.consume(m),r++,g):r===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(m)):(a.type="codeTextData",d(m))}}class w9{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(e,s):e>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(e,n,s){const r=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return s&&Nh(this.left,s),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Nh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Nh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Nh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Nh(this.left,n.reverse())}}}function Nh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function hR(t){const e={};let n=-1,s,r,a,o,c,h,d;const g=new w9(t);for(;++n<g.length;){for(;n in e;)n=e[n];if(s=g.get(n),n&&s[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(h=s[1]._tokenizer.events,a=0,a<h.length&&h[a][1].type==="lineEndingBlank"&&(a+=2),a<h.length&&h[a][1].type==="content"))for(;++a<h.length&&h[a][1].type!=="content";)h[a][1].type==="chunkText"&&(h[a][1]._isInFirstContentOfListItem=!0,a++);if(s[0]==="enter")s[1].contentType&&(Object.assign(e,S9(g,n)),n=e[n],d=!0);else if(s[1]._container){for(a=n,r=void 0;a--;)if(o=g.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(r&&(g.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;r&&(s[1].end={...g.get(r)[1].start},c=g.slice(r,n),c.unshift(s),g.splice(r,n-r+1,c))}}return ur(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!d}function S9(t,e){const n=t.get(e)[1],s=t.get(e)[2];let r=e-1;const a=[];let o=n._tokenizer;o||(o=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const c=o.events,h=[],d={};let g,m,v=-1,y=n,x=0,w=0;const S=[w];for(;y;){for(;t.get(++r)[1]!==y;);a.push(r),y._tokenizer||(g=s.sliceStream(y),y.next||g.push(null),m&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(g),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=n;++v<c.length;)c[v][0]==="exit"&&c[v-1][0]==="enter"&&c[v][1].type===c[v-1][1].type&&c[v][1].start.line!==c[v][1].end.line&&(w=v+1,S.push(w),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),v=S.length;v--;){const k=c.slice(S[v],S[v+1]),C=a.pop();h.push([C,C+k.length-1]),t.splice(C,2,k)}for(h.reverse(),v=-1;++v<h.length;)d[x+h[v][0]]=x+h[v][1],x+=h[v][1]-h[v][0]-1;return d}const k9={resolve:N9,tokenize:A9},C9={partial:!0,tokenize:E9};function N9(t){return hR(t),t}function A9(t,e){let n;return s;function s(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(c)}function r(c){return c===null?a(c):Je(c)?t.check(C9,o,a)(c):(t.consume(c),r)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function o(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function E9(t,e,n){const s=this;return r;function r(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),At(t,a,"linePrefix")}function a(o){if(o===null||Je(o))return n(o);const c=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):t.interrupt(s.parser.constructs.flow,n,e)(o)}}function dR(t,e,n,s,r,a,o,c,h){const d=h||Number.POSITIVE_INFINITY;let g=0;return m;function m(k){return k===60?(t.enter(s),t.enter(r),t.enter(a),t.consume(k),t.exit(a),v):k===null||k===32||k===41||x0(k)?n(k):(t.enter(s),t.enter(o),t.enter(c),t.enter("chunkString",{contentType:"string"}),w(k))}function v(k){return k===62?(t.enter(a),t.consume(k),t.exit(a),t.exit(r),t.exit(s),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===62?(t.exit("chunkString"),t.exit(c),v(k)):k===null||k===60||Je(k)?n(k):(t.consume(k),k===92?x:y)}function x(k){return k===60||k===62||k===92?(t.consume(k),y):y(k)}function w(k){return!g&&(k===null||k===41||Wt(k))?(t.exit("chunkString"),t.exit(c),t.exit(o),t.exit(s),e(k)):g<d&&k===40?(t.consume(k),g++,w):k===41?(t.consume(k),g--,w):k===null||k===32||k===40||x0(k)?n(k):(t.consume(k),k===92?S:w)}function S(k){return k===40||k===41||k===92?(t.consume(k),w):w(k)}}function fR(t,e,n,s,r,a){const o=this;let c=0,h;return d;function d(y){return t.enter(s),t.enter(r),t.consume(y),t.exit(r),t.enter(a),g}function g(y){return c>999||y===null||y===91||y===93&&!h||y===94&&!c&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(t.exit(a),t.enter(r),t.consume(y),t.exit(r),t.exit(s),e):Je(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||Je(y)||c++>999?(t.exit("chunkString"),g(y)):(t.consume(y),h||(h=!wt(y)),y===92?v:m)}function v(y){return y===91||y===92||y===93?(t.consume(y),c++,m):m(y)}}function pR(t,e,n,s,r,a){let o;return c;function c(v){return v===34||v===39||v===40?(t.enter(s),t.enter(r),t.consume(v),t.exit(r),o=v===40?41:v,h):n(v)}function h(v){return v===o?(t.enter(r),t.consume(v),t.exit(r),t.exit(s),e):(t.enter(a),d(v))}function d(v){return v===o?(t.exit(a),h(o)):v===null?n(v):Je(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),At(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===o||v===null||Je(v)?(t.exit("chunkString"),d(v)):(t.consume(v),v===92?m:g)}function m(v){return v===o||v===92?(t.consume(v),g):g(v)}}function Nd(t,e){let n;return s;function s(r){return Je(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,s):wt(r)?At(t,s,n?"linePrefix":"lineSuffix")(r):e(r)}}const j9={name:"definition",tokenize:R9},T9={partial:!0,tokenize:O9};function R9(t,e,n){const s=this;let r;return a;function a(y){return t.enter("definition"),o(y)}function o(y){return fR.call(s,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function c(y){return r=Kr(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),h):n(y)}function h(y){return Wt(y)?Nd(t,d)(y):d(y)}function d(y){return dR(t,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function g(y){return t.attempt(T9,m,m)(y)}function m(y){return wt(y)?At(t,v,"whitespace")(y):v(y)}function v(y){return y===null||Je(y)?(t.exit("definition"),s.parser.defined.push(r),e(y)):n(y)}}function O9(t,e,n){return s;function s(c){return Wt(c)?Nd(t,r)(c):n(c)}function r(c){return pR(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return wt(c)?At(t,o,"whitespace")(c):o(c)}function o(c){return c===null||Je(c)?e(c):n(c)}}const B9={name:"hardBreakEscape",tokenize:M9};function M9(t,e,n){return s;function s(a){return t.enter("hardBreakEscape"),t.consume(a),r}function r(a){return Je(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const D9={name:"headingAtx",resolve:L9,tokenize:I9};function L9(t,e){let n=t.length-2,s=3,r,a;return t[s][1].type==="whitespace"&&(s+=2),n-2>s&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(s===n-1||n-4>s&&t[n-2][1].type==="whitespace")&&(n-=s+1===n?2:4),n>s&&(r={type:"atxHeadingText",start:t[s][1].start,end:t[n][1].end},a={type:"chunkText",start:t[s][1].start,end:t[n][1].end,contentType:"text"},ur(t,s,n-s+1,[["enter",r,e],["enter",a,e],["exit",a,e],["exit",r,e]])),t}function I9(t,e,n){let s=0;return r;function r(g){return t.enter("atxHeading"),a(g)}function a(g){return t.enter("atxHeadingSequence"),o(g)}function o(g){return g===35&&s++<6?(t.consume(g),o):g===null||Wt(g)?(t.exit("atxHeadingSequence"),c(g)):n(g)}function c(g){return g===35?(t.enter("atxHeadingSequence"),h(g)):g===null||Je(g)?(t.exit("atxHeading"),e(g)):wt(g)?At(t,c,"whitespace")(g):(t.enter("atxHeadingText"),d(g))}function h(g){return g===35?(t.consume(g),h):(t.exit("atxHeadingSequence"),c(g))}function d(g){return g===null||g===35||Wt(g)?(t.exit("atxHeadingText"),c(g)):(t.consume(g),d)}}const P9=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kA=["pre","script","style","textarea"],z9={concrete:!0,name:"htmlFlow",resolveTo:U9,tokenize:V9},$9={partial:!0,tokenize:q9},H9={partial:!0,tokenize:F9};function U9(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function V9(t,e,n){const s=this;let r,a,o,c,h;return d;function d(A){return g(A)}function g(A){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(A),m}function m(A){return A===33?(t.consume(A),v):A===47?(t.consume(A),a=!0,w):A===63?(t.consume(A),r=3,s.interrupt?e:R):xs(A)?(t.consume(A),o=String.fromCharCode(A),S):n(A)}function v(A){return A===45?(t.consume(A),r=2,y):A===91?(t.consume(A),r=5,c=0,x):xs(A)?(t.consume(A),r=4,s.interrupt?e:R):n(A)}function y(A){return A===45?(t.consume(A),s.interrupt?e:R):n(A)}function x(A){const Z="CDATA[";return A===Z.charCodeAt(c++)?(t.consume(A),c===Z.length?s.interrupt?e:F:x):n(A)}function w(A){return xs(A)?(t.consume(A),o=String.fromCharCode(A),S):n(A)}function S(A){if(A===null||A===47||A===62||Wt(A)){const Z=A===47,oe=o.toLowerCase();return!Z&&!a&&kA.includes(oe)?(r=1,s.interrupt?e(A):F(A)):P9.includes(o.toLowerCase())?(r=6,Z?(t.consume(A),k):s.interrupt?e(A):F(A)):(r=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(A):a?C(A):E(A))}return A===45||ds(A)?(t.consume(A),o+=String.fromCharCode(A),S):n(A)}function k(A){return A===62?(t.consume(A),s.interrupt?e:F):n(A)}function C(A){return wt(A)?(t.consume(A),C):z(A)}function E(A){return A===47?(t.consume(A),z):A===58||A===95||xs(A)?(t.consume(A),B):wt(A)?(t.consume(A),E):z(A)}function B(A){return A===45||A===46||A===58||A===95||ds(A)?(t.consume(A),B):D(A)}function D(A){return A===61?(t.consume(A),j):wt(A)?(t.consume(A),D):E(A)}function j(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),h=A,$):wt(A)?(t.consume(A),j):H(A)}function $(A){return A===h?(t.consume(A),h=null,Y):A===null||Je(A)?n(A):(t.consume(A),$)}function H(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Wt(A)?D(A):(t.consume(A),H)}function Y(A){return A===47||A===62||wt(A)?E(A):n(A)}function z(A){return A===62?(t.consume(A),J):n(A)}function J(A){return A===null||Je(A)?F(A):wt(A)?(t.consume(A),J):n(A)}function F(A){return A===45&&r===2?(t.consume(A),L):A===60&&r===1?(t.consume(A),G):A===62&&r===4?(t.consume(A),O):A===63&&r===3?(t.consume(A),R):A===93&&r===5?(t.consume(A),M):Je(A)&&(r===6||r===7)?(t.exit("htmlFlowData"),t.check($9,V,K)(A)):A===null||Je(A)?(t.exit("htmlFlowData"),K(A)):(t.consume(A),F)}function K(A){return t.check(H9,Q,V)(A)}function Q(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),q}function q(A){return A===null||Je(A)?K(A):(t.enter("htmlFlowData"),F(A))}function L(A){return A===45?(t.consume(A),R):F(A)}function G(A){return A===47?(t.consume(A),o="",U):F(A)}function U(A){if(A===62){const Z=o.toLowerCase();return kA.includes(Z)?(t.consume(A),O):F(A)}return xs(A)&&o.length<8?(t.consume(A),o+=String.fromCharCode(A),U):F(A)}function M(A){return A===93?(t.consume(A),R):F(A)}function R(A){return A===62?(t.consume(A),O):A===45&&r===2?(t.consume(A),R):F(A)}function O(A){return A===null||Je(A)?(t.exit("htmlFlowData"),V(A)):(t.consume(A),O)}function V(A){return t.exit("htmlFlow"),e(A)}}function F9(t,e,n){const s=this;return r;function r(o){return Je(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a):n(o)}function a(o){return s.parser.lazy[s.now().line]?n(o):e(o)}}function q9(t,e,n){return s;function s(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(_f,e,n)}}const W9={name:"htmlText",tokenize:K9};function K9(t,e,n){const s=this;let r,a,o;return c;function c(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),h}function h(R){return R===33?(t.consume(R),d):R===47?(t.consume(R),D):R===63?(t.consume(R),E):xs(R)?(t.consume(R),H):n(R)}function d(R){return R===45?(t.consume(R),g):R===91?(t.consume(R),a=0,x):xs(R)?(t.consume(R),C):n(R)}function g(R){return R===45?(t.consume(R),y):n(R)}function m(R){return R===null?n(R):R===45?(t.consume(R),v):Je(R)?(o=m,G(R)):(t.consume(R),m)}function v(R){return R===45?(t.consume(R),y):m(R)}function y(R){return R===62?L(R):R===45?v(R):m(R)}function x(R){const O="CDATA[";return R===O.charCodeAt(a++)?(t.consume(R),a===O.length?w:x):n(R)}function w(R){return R===null?n(R):R===93?(t.consume(R),S):Je(R)?(o=w,G(R)):(t.consume(R),w)}function S(R){return R===93?(t.consume(R),k):w(R)}function k(R){return R===62?L(R):R===93?(t.consume(R),k):w(R)}function C(R){return R===null||R===62?L(R):Je(R)?(o=C,G(R)):(t.consume(R),C)}function E(R){return R===null?n(R):R===63?(t.consume(R),B):Je(R)?(o=E,G(R)):(t.consume(R),E)}function B(R){return R===62?L(R):E(R)}function D(R){return xs(R)?(t.consume(R),j):n(R)}function j(R){return R===45||ds(R)?(t.consume(R),j):$(R)}function $(R){return Je(R)?(o=$,G(R)):wt(R)?(t.consume(R),$):L(R)}function H(R){return R===45||ds(R)?(t.consume(R),H):R===47||R===62||Wt(R)?Y(R):n(R)}function Y(R){return R===47?(t.consume(R),L):R===58||R===95||xs(R)?(t.consume(R),z):Je(R)?(o=Y,G(R)):wt(R)?(t.consume(R),Y):L(R)}function z(R){return R===45||R===46||R===58||R===95||ds(R)?(t.consume(R),z):J(R)}function J(R){return R===61?(t.consume(R),F):Je(R)?(o=J,G(R)):wt(R)?(t.consume(R),J):Y(R)}function F(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),r=R,K):Je(R)?(o=F,G(R)):wt(R)?(t.consume(R),F):(t.consume(R),Q)}function K(R){return R===r?(t.consume(R),r=void 0,q):R===null?n(R):Je(R)?(o=K,G(R)):(t.consume(R),K)}function Q(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Wt(R)?Y(R):(t.consume(R),Q)}function q(R){return R===47||R===62||Wt(R)?Y(R):n(R)}function L(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}function G(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),U}function U(R){return wt(R)?At(t,M,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):M(R)}function M(R){return t.enter("htmlTextData"),o(R)}}const WS={name:"labelEnd",resolveAll:J9,resolveTo:Q9,tokenize:Z9},G9={tokenize:eH},Y9={tokenize:tH},X9={tokenize:nH};function J9(t){let e=-1;const n=[];for(;++e<t.length;){const s=t[e][1];if(n.push(t[e]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const r=s.type==="labelImage"?4:2;s.type="data",e+=r}}return t.length!==n.length&&ur(t,0,t.length,n),t}function Q9(t,e){let n=t.length,s=0,r,a,o,c;for(;n--;)if(r=t[n][1],a){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(a=n,r.type!=="labelLink")){s=2;break}}else r.type==="labelEnd"&&(o=n);const h={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[o][1].end}},g={type:"labelText",start:{...t[a+s+2][1].end},end:{...t[o-2][1].start}};return c=[["enter",h,e],["enter",d,e]],c=Er(c,t.slice(a+1,a+s+3)),c=Er(c,[["enter",g,e]]),c=Er(c,Og(e.parser.constructs.insideSpan.null,t.slice(a+s+4,o-3),e)),c=Er(c,[["exit",g,e],t[o-2],t[o-1],["exit",d,e]]),c=Er(c,t.slice(o+1)),c=Er(c,[["exit",h,e]]),ur(t,a,t.length,c),t}function Z9(t,e,n){const s=this;let r=s.events.length,a,o;for(;r--;)if((s.events[r][1].type==="labelImage"||s.events[r][1].type==="labelLink")&&!s.events[r][1]._balanced){a=s.events[r][1];break}return c;function c(v){return a?a._inactive?m(v):(o=s.parser.defined.includes(Kr(s.sliceSerialize({start:a.end,end:s.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),h):n(v)}function h(v){return v===40?t.attempt(G9,g,o?g:m)(v):v===91?t.attempt(Y9,g,o?d:m)(v):o?g(v):m(v)}function d(v){return t.attempt(X9,g,m)(v)}function g(v){return e(v)}function m(v){return a._balanced=!0,n(v)}}function eH(t,e,n){return s;function s(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),r}function r(m){return Wt(m)?Nd(t,a)(m):a(m)}function a(m){return m===41?g(m):dR(t,o,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function o(m){return Wt(m)?Nd(t,h)(m):g(m)}function c(m){return n(m)}function h(m){return m===34||m===39||m===40?pR(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):g(m)}function d(m){return Wt(m)?Nd(t,g)(m):g(m)}function g(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function tH(t,e,n){const s=this;return r;function r(c){return fR.call(s,t,a,o,"reference","referenceMarker","referenceString")(c)}function a(c){return s.parser.defined.includes(Kr(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function o(c){return n(c)}}function nH(t,e,n){return s;function s(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),r}function r(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const sH={name:"labelStartImage",resolveAll:WS.resolveAll,tokenize:rH};function rH(t,e,n){const s=this;return r;function r(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),o):n(c)}function o(c){return c===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(c):e(c)}}const iH={name:"labelStartLink",resolveAll:WS.resolveAll,tokenize:aH};function aH(t,e,n){const s=this;return r;function r(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(o):e(o)}}const xb={name:"lineEnding",tokenize:lH};function lH(t,e){return n;function n(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),At(t,e,"linePrefix")}}const qm={name:"thematicBreak",tokenize:oH};function oH(t,e,n){let s=0,r;return a;function a(d){return t.enter("thematicBreak"),o(d)}function o(d){return r=d,c(d)}function c(d){return d===r?(t.enter("thematicBreakSequence"),h(d)):s>=3&&(d===null||Je(d))?(t.exit("thematicBreak"),e(d)):n(d)}function h(d){return d===r?(t.consume(d),s++,h):(t.exit("thematicBreakSequence"),wt(d)?At(t,c,"whitespace")(d):c(d))}}const zs={continuation:{tokenize:dH},exit:pH,name:"list",tokenize:hH},cH={partial:!0,tokenize:mH},uH={partial:!0,tokenize:fH};function hH(t,e,n){const s=this,r=s.events[s.events.length-1];let a=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return c;function c(y){const x=s.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!s.containerState.marker||y===s.containerState.marker:U_(y)){if(s.containerState.type||(s.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(qm,n,d)(y):d(y);if(!s.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(y)}return n(y)}function h(y){return U_(y)&&++o<10?(t.consume(y),h):(!s.interrupt||o<2)&&(s.containerState.marker?y===s.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),d(y)):n(y)}function d(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||y,t.check(_f,s.interrupt?n:g,t.attempt(cH,v,m))}function g(y){return s.containerState.initialBlankLine=!0,a++,v(y)}function m(y){return wt(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),v):n(y)}function v(y){return s.containerState.size=a+s.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function dH(t,e,n){const s=this;return s.containerState._closeFlow=void 0,t.check(_f,r,a);function r(c){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,At(t,e,"listItemIndent",s.containerState.size+1)(c)}function a(c){return s.containerState.furtherBlankLines||!wt(c)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,o(c)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,t.attempt(uH,e,o)(c))}function o(c){return s.containerState._closeFlow=!0,s.interrupt=void 0,At(t,t.attempt(zs,e,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function fH(t,e,n){const s=this;return At(t,r,"listItemIndent",s.containerState.size+1);function r(a){const o=s.events[s.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===s.containerState.size?e(a):n(a)}}function pH(t){t.exit(this.containerState.type)}function mH(t,e,n){const s=this;return At(t,r,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(a){const o=s.events[s.events.length-1];return!wt(a)&&o&&o[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const CA={name:"setextUnderline",resolveTo:gH,tokenize:yH};function gH(t,e){let n=t.length,s,r,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){s=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[r][1].type="setextHeadingText",a?(t.splice(r,0,["enter",o,e]),t.splice(a+1,0,["exit",t[s][1],e]),t[s][1].end={...t[a][1].end}):t[s][1]=o,t.push(["exit",o,e]),t}function yH(t,e,n){const s=this;let r;return a;function a(d){let g=s.events.length,m;for(;g--;)if(s.events[g][1].type!=="lineEnding"&&s.events[g][1].type!=="linePrefix"&&s.events[g][1].type!=="content"){m=s.events[g][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||m)?(t.enter("setextHeadingLine"),r=d,o(d)):n(d)}function o(d){return t.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===r?(t.consume(d),c):(t.exit("setextHeadingLineSequence"),wt(d)?At(t,h,"lineSuffix")(d):h(d))}function h(d){return d===null||Je(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const vH={tokenize:bH};function bH(t){const e=this,n=t.attempt(_f,s,t.attempt(this.parser.constructs.flowInitial,r,At(t,t.attempt(this.parser.constructs.flow,r,t.attempt(k9,r)),"linePrefix")));return n;function s(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const _H={resolveAll:gR()},xH=mR("string"),wH=mR("text");function mR(t){return{resolveAll:gR(t==="text"?SH:void 0),tokenize:e};function e(n){const s=this,r=this.parser.constructs[t],a=n.attempt(r,o,c);return o;function o(g){return d(g)?a(g):c(g)}function c(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),h}function h(g){return d(g)?(n.exit("data"),a(g)):(n.consume(g),h)}function d(g){if(g===null)return!0;const m=r[g];let v=-1;if(m)for(;++v<m.length;){const y=m[v];if(!y.previous||y.previous.call(s,s.previous))return!0}return!1}}}function gR(t){return e;function e(n,s){let r=-1,a;for(;++r<=n.length;)a===void 0?n[r]&&n[r][1].type==="data"&&(a=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==a+2&&(n[a][1].end=n[r-1][1].end,n.splice(a+2,r-a-2),r=a+2),a=void 0);return t?t(n,s):n}}function SH(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const s=t[n-1][1],r=e.sliceStream(s);let a=r.length,o=-1,c=0,h;for(;a--;){const d=r[a];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)c++,o--;if(o)break;o=-1}else if(d===-2)h=!0,c++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const d={type:n===t.length||h||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:s.start._bufferIndex+o,_index:s.start._index+a,line:s.end.line,column:s.end.column-c,offset:s.end.offset-c},end:{...s.end}};s.end={...d.start},s.start.offset===s.end.offset?Object.assign(s,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const kH={42:zs,43:zs,45:zs,48:zs,49:zs,50:zs,51:zs,52:zs,53:zs,54:zs,55:zs,56:zs,57:zs,62:oR},CH={91:j9},NH={[-2]:_b,[-1]:_b,32:_b},AH={35:D9,42:qm,45:[CA,qm],60:z9,61:CA,95:qm,96:SA,126:SA},EH={38:uR,92:cR},jH={[-5]:xb,[-4]:xb,[-3]:xb,33:sH,38:uR,42:V_,60:[i9,W9],91:iH,92:[B9,cR],93:WS,95:V_,96:v9},TH={null:[V_,_H]},RH={null:[42,95]},OH={null:[]},BH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:RH,contentInitial:CH,disable:OH,document:kH,flow:AH,flowInitial:NH,insideSpan:TH,string:EH,text:jH},Symbol.toStringTag,{value:"Module"}));function MH(t,e,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},a=[];let o=[],c=[];const h={attempt:$(D),check:$(j),consume:C,enter:E,exit:B,interrupt:$(j,{interrupt:!0})},d={code:null,containerState:{},defineSkip:w,events:[],now:x,parser:t,previous:null,sliceSerialize:v,sliceStream:y,write:m};let g=e.tokenize.call(d,h);return e.resolveAll&&a.push(e),d;function m(J){return o=Er(o,J),S(),o[o.length-1]!==null?[]:(H(e,0),d.events=Og(a,d.events,d),d.events)}function v(J,F){return LH(y(J),F)}function y(J){return DH(o,J)}function x(){const{_bufferIndex:J,_index:F,line:K,column:Q,offset:q}=s;return{_bufferIndex:J,_index:F,line:K,column:Q,offset:q}}function w(J){r[J.line]=J.column,z()}function S(){let J;for(;s._index<o.length;){const F=o[s._index];if(typeof F=="string")for(J=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===J&&s._bufferIndex<F.length;)k(F.charCodeAt(s._bufferIndex));else k(F)}}function k(J){g=g(J)}function C(J){Je(J)?(s.line++,s.column=1,s.offset+=J===-3?2:1,z()):J!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===o[s._index].length&&(s._bufferIndex=-1,s._index++)),d.previous=J}function E(J,F){const K=F||{};return K.type=J,K.start=x(),d.events.push(["enter",K,d]),c.push(K),K}function B(J){const F=c.pop();return F.end=x(),d.events.push(["exit",F,d]),F}function D(J,F){H(J,F.from)}function j(J,F){F.restore()}function $(J,F){return K;function K(Q,q,L){let G,U,M,R;return Array.isArray(Q)?V(Q):"tokenize"in Q?V([Q]):O(Q);function O(te){return de;function de(xe){const Ce=xe!==null&&te[xe],et=xe!==null&&te.null,Ne=[...Array.isArray(Ce)?Ce:Ce?[Ce]:[],...Array.isArray(et)?et:et?[et]:[]];return V(Ne)(xe)}}function V(te){return G=te,U=0,te.length===0?L:A(te[U])}function A(te){return de;function de(xe){return R=Y(),M=te,te.partial||(d.currentConstruct=te),te.name&&d.parser.constructs.disable.null.includes(te.name)?oe():te.tokenize.call(F?Object.assign(Object.create(d),F):d,h,Z,oe)(xe)}}function Z(te){return J(M,R),q}function oe(te){return R.restore(),++U<G.length?A(G[U]):L}}}function H(J,F){J.resolveAll&&!a.includes(J)&&a.push(J),J.resolve&&ur(d.events,F,d.events.length-F,J.resolve(d.events.slice(F),d)),J.resolveTo&&(d.events=J.resolveTo(d.events,d))}function Y(){const J=x(),F=d.previous,K=d.currentConstruct,Q=d.events.length,q=Array.from(c);return{from:Q,restore:L};function L(){s=J,d.previous=F,d.currentConstruct=K,d.events.length=Q,c=q,z()}}function z(){s.line in r&&s.column<2&&(s.column=r[s.line],s.offset+=r[s.line]-1)}}function DH(t,e){const n=e.start._index,s=e.start._bufferIndex,r=e.end._index,a=e.end._bufferIndex;let o;if(n===r)o=[t[n].slice(s,a)];else{if(o=t.slice(n,r),s>-1){const c=o[0];typeof c=="string"?o[0]=c.slice(s):o.shift()}a>0&&o.push(t[r].slice(0,a))}return o}function LH(t,e){let n=-1;const s=[];let r;for(;++n<t.length;){const a=t[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&r)continue;o=" ";break}default:o=String.fromCharCode(a)}r=a===-2,s.push(o)}return s.join("")}function IH(t){const s={constructs:aR([BH,...(t||{}).extensions||[]]),content:r(Q$),defined:[],document:r(e9),flow:r(vH),lazy:{},string:r(xH),text:r(wH)};return s;function r(a){return o;function o(c){return MH(s,a,c)}}}function PH(t){for(;!hR(t););return t}const NA=/[\0\t\n\r]/g;function zH(){let t=1,e="",n=!0,s;return r;function r(a,o,c){const h=[];let d,g,m,v,y;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),m=0,e="",n&&(a.charCodeAt(0)===65279&&m++,n=void 0);m<a.length;){if(NA.lastIndex=m,d=NA.exec(a),v=d&&d.index!==void 0?d.index:a.length,y=a.charCodeAt(v),!d){e=a.slice(m);break}if(y===10&&m===v&&s)h.push(-3),s=void 0;else switch(s&&(h.push(-5),s=void 0),m<v&&(h.push(a.slice(m,v)),t+=v-m),y){case 0:{h.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,h.push(-2);t++<g;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:s=!0,t=1}m=v+1}return c&&(s&&h.push(-5),e&&h.push(e),h.push(null)),h}}const $H=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function HH(t){return t.replace($H,UH)}function UH(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return lR(n.slice(a?2:1),a?16:10)}return qS(n)||t}const yR={}.hasOwnProperty;function VH(t,e,n){return typeof e!="string"&&(n=e,e=void 0),FH(n)(PH(IH(n).document().write(zH()(t,e,!0))))}function FH(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(os),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:a(mt),blockQuote:a(et),characterEscape:Y,characterReference:Y,codeFenced:a(Ne),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Ne,o),codeText:a(Ge,o),codeTextData:Y,data:Y,codeFlowValue:Y,definition:a(Te),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(tt),hardBreakEscape:a(ht),hardBreakTrailing:a(ht),htmlFlow:a(Lt,o),htmlFlowData:Y,htmlText:a(Lt,o),htmlTextData:Y,image:a(vn),label:o,link:a(os),listItem:a(Qe),listItemValue:v,listOrdered:a(Es,m),listUnordered:a(Es),paragraph:a(rt),reference:A,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(mt),strong:a(Zt),thematicBreak:a(Wn)},exit:{atxHeading:h(),atxHeadingSequence:D,autolink:h(),autolinkEmail:Ce,autolinkProtocol:xe,blockQuote:h(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:oe,characterReferenceMarkerNumeric:oe,characterReferenceValue:te,characterReference:de,codeFenced:h(S),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:z,codeIndented:h(k),codeText:h(q),codeTextData:z,data:z,definition:h(),definitionDestinationString:B,definitionLabelString:C,definitionTitleString:E,emphasis:h(),hardBreakEscape:h(F),hardBreakTrailing:h(F),htmlFlow:h(K),htmlFlowData:z,htmlText:h(Q),htmlTextData:z,image:h(G),label:M,labelText:U,lineEnding:J,link:h(L),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:Z,resourceDestinationString:R,resourceTitleString:O,resource:V,setextHeading:h(H),setextHeadingLineSequence:$,setextHeadingText:j,strong:h(),thematicBreak:h()}};vR(e,(t||{}).mdastExtensions||[]);const n={};return s;function s(pe){let _e={type:"root",children:[]};const We={stack:[_e],tokenStack:[],config:e,enter:c,exit:d,buffer:o,resume:g,data:n},it=[];let St=-1;for(;++St<pe.length;)if(pe[St][1].type==="listOrdered"||pe[St][1].type==="listUnordered")if(pe[St][0]==="enter")it.push(St);else{const En=it.pop();St=r(pe,En,St)}for(St=-1;++St<pe.length;){const En=e[pe[St][0]];yR.call(En,pe[St][1].type)&&En[pe[St][1].type].call(Object.assign({sliceSerialize:pe[St][2].sliceSerialize},We),pe[St][1])}if(We.tokenStack.length>0){const En=We.tokenStack[We.tokenStack.length-1];(En[1]||AA).call(We,void 0,En[0])}for(_e.position={start:Ha(pe.length>0?pe[0][1].start:{line:1,column:1,offset:0}),end:Ha(pe.length>0?pe[pe.length-2][1].end:{line:1,column:1,offset:0})},St=-1;++St<e.transforms.length;)_e=e.transforms[St](_e)||_e;return _e}function r(pe,_e,We){let it=_e-1,St=-1,En=!1,re,ae,fe,Se;for(;++it<=We;){const Re=pe[it];switch(Re[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Re[0]==="enter"?St++:St--,Se=void 0;break}case"lineEndingBlank":{Re[0]==="enter"&&(re&&!Se&&!St&&!fe&&(fe=it),Se=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Se=void 0}if(!St&&Re[0]==="enter"&&Re[1].type==="listItemPrefix"||St===-1&&Re[0]==="exit"&&(Re[1].type==="listUnordered"||Re[1].type==="listOrdered")){if(re){let It=it;for(ae=void 0;It--;){const Bt=pe[It];if(Bt[1].type==="lineEnding"||Bt[1].type==="lineEndingBlank"){if(Bt[0]==="exit")continue;ae&&(pe[ae][1].type="lineEndingBlank",En=!0),Bt[1].type="lineEnding",ae=It}else if(!(Bt[1].type==="linePrefix"||Bt[1].type==="blockQuotePrefix"||Bt[1].type==="blockQuotePrefixWhitespace"||Bt[1].type==="blockQuoteMarker"||Bt[1].type==="listItemIndent"))break}fe&&(!ae||fe<ae)&&(re._spread=!0),re.end=Object.assign({},ae?pe[ae][1].start:Re[1].end),pe.splice(ae||it,0,["exit",re,Re[2]]),it++,We++}if(Re[1].type==="listItemPrefix"){const It={type:"listItem",_spread:!1,start:Object.assign({},Re[1].start),end:void 0};re=It,pe.splice(it,0,["enter",It,Re[2]]),it++,We++,fe=void 0,Se=!0}}}return pe[_e][1]._spread=En,We}function a(pe,_e){return We;function We(it){c.call(this,pe(it),it),_e&&_e.call(this,it)}}function o(){this.stack.push({type:"fragment",children:[]})}function c(pe,_e,We){this.stack[this.stack.length-1].children.push(pe),this.stack.push(pe),this.tokenStack.push([_e,We||void 0]),pe.position={start:Ha(_e.start),end:void 0}}function h(pe){return _e;function _e(We){pe&&pe.call(this,We),d.call(this,We)}}function d(pe,_e){const We=this.stack.pop(),it=this.tokenStack.pop();if(it)it[0].type!==pe.type&&(_e?_e.call(this,pe,it[0]):(it[1]||AA).call(this,pe,it[0]));else throw new Error("Cannot close `"+pe.type+"` ("+Cd({start:pe.start,end:pe.end})+"): its not open");We.position.end=Ha(pe.end)}function g(){return FS(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function v(pe){if(this.data.expectingFirstListItemValue){const _e=this.stack[this.stack.length-2];_e.start=Number.parseInt(this.sliceSerialize(pe),10),this.data.expectingFirstListItemValue=void 0}}function y(){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.lang=pe}function x(){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.meta=pe}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=pe.replace(/(\r?\n|\r)$/g,"")}function C(pe){const _e=this.resume(),We=this.stack[this.stack.length-1];We.label=_e,We.identifier=Kr(this.sliceSerialize(pe)).toLowerCase()}function E(){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.title=pe}function B(){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.url=pe}function D(pe){const _e=this.stack[this.stack.length-1];if(!_e.depth){const We=this.sliceSerialize(pe).length;_e.depth=We}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function $(pe){const _e=this.stack[this.stack.length-1];_e.depth=this.sliceSerialize(pe).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function Y(pe){const We=this.stack[this.stack.length-1].children;let it=We[We.length-1];(!it||it.type!=="text")&&(it=Ot(),it.position={start:Ha(pe.start),end:void 0},We.push(it)),this.stack.push(it)}function z(pe){const _e=this.stack.pop();_e.value+=this.sliceSerialize(pe),_e.position.end=Ha(pe.end)}function J(pe){const _e=this.stack[this.stack.length-1];if(this.data.atHardBreak){const We=_e.children[_e.children.length-1];We.position.end=Ha(pe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(_e.type)&&(Y.call(this,pe),z.call(this,pe))}function F(){this.data.atHardBreak=!0}function K(){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=pe}function Q(){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=pe}function q(){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=pe}function L(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=_e,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function G(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=_e,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function U(pe){const _e=this.sliceSerialize(pe),We=this.stack[this.stack.length-2];We.label=HH(_e),We.identifier=Kr(_e).toLowerCase()}function M(){const pe=this.stack[this.stack.length-1],_e=this.resume(),We=this.stack[this.stack.length-1];if(this.data.inReference=!0,We.type==="link"){const it=pe.children;We.children=it}else We.alt=_e}function R(){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.url=pe}function O(){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.title=pe}function V(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function Z(pe){const _e=this.resume(),We=this.stack[this.stack.length-1];We.label=_e,We.identifier=Kr(this.sliceSerialize(pe)).toLowerCase(),this.data.referenceType="full"}function oe(pe){this.data.characterReferenceType=pe.type}function te(pe){const _e=this.sliceSerialize(pe),We=this.data.characterReferenceType;let it;We?(it=lR(_e,We==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):it=qS(_e);const St=this.stack[this.stack.length-1];St.value+=it}function de(pe){const _e=this.stack.pop();_e.position.end=Ha(pe.end)}function xe(pe){z.call(this,pe);const _e=this.stack[this.stack.length-1];_e.url=this.sliceSerialize(pe)}function Ce(pe){z.call(this,pe);const _e=this.stack[this.stack.length-1];_e.url="mailto:"+this.sliceSerialize(pe)}function et(){return{type:"blockquote",children:[]}}function Ne(){return{type:"code",lang:null,meta:null,value:""}}function Ge(){return{type:"inlineCode",value:""}}function Te(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function tt(){return{type:"emphasis",children:[]}}function mt(){return{type:"heading",depth:0,children:[]}}function ht(){return{type:"break"}}function Lt(){return{type:"html",value:""}}function vn(){return{type:"image",title:null,url:"",alt:null}}function os(){return{type:"link",title:null,url:"",children:[]}}function Es(pe){return{type:"list",ordered:pe.type==="listOrdered",start:null,spread:pe._spread,children:[]}}function Qe(pe){return{type:"listItem",spread:pe._spread,checked:null,children:[]}}function rt(){return{type:"paragraph",children:[]}}function Zt(){return{type:"strong",children:[]}}function Ot(){return{type:"text",value:""}}function Wn(){return{type:"thematicBreak"}}}function Ha(t){return{line:t.line,column:t.column,offset:t.offset}}function vR(t,e){let n=-1;for(;++n<e.length;){const s=e[n];Array.isArray(s)?vR(t,s):qH(t,s)}}function qH(t,e){let n;for(n in e)if(yR.call(e,n))switch(n){case"canContainEols":{const s=e[n];s&&t[n].push(...s);break}case"transforms":{const s=e[n];s&&t[n].push(...s);break}case"enter":case"exit":{const s=e[n];s&&Object.assign(t[n],s);break}}}function AA(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Cd({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Cd({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Cd({start:e.start,end:e.end})+") is still open")}function WH(t){const e=this;e.parser=n;function n(s){return VH(s,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function KH(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function GH(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function YH(t,e){const n=e.value?e.value+`
`:"",s={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(s.className=["language-"+r[0]]);let a={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function XH(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function JH(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function QH(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=String(e.identifier).toUpperCase(),r=fu(s.toLowerCase()),a=t.footnoteOrder.indexOf(s);let o,c=t.footnoteCounts.get(s);c===void 0?(c=0,t.footnoteOrder.push(s),o=t.footnoteOrder.length):o=a+1,c+=1,t.footnoteCounts.set(s,c);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(e,d),t.applyData(e,d)}function ZH(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function eU(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function bR(t,e){const n=e.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+s}];const r=t.all(e),a=r[0];a&&a.type==="text"?a.value="["+a.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=s:r.push({type:"text",value:s}),r}function tU(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return bR(t,e);const r={src:fu(s.url||""),alt:e.alt};s.title!==null&&s.title!==void 0&&(r.title=s.title);const a={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,a),t.applyData(e,a)}function nU(t,e){const n={src:fu(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,s),t.applyData(e,s)}function sU(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,s),t.applyData(e,s)}function rU(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return bR(t,e);const r={href:fu(s.url||"")};s.title!==null&&s.title!==void 0&&(r.title=s.title);const a={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function iU(t,e){const n={href:fu(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function aU(t,e,n){const s=t.all(e),r=n?lU(n):_R(e),a={},o=[];if(typeof e.checked=="boolean"){const g=s[0];let m;g&&g.type==="element"&&g.tagName==="p"?m=g:(m={type:"element",tagName:"p",properties:{},children:[]},s.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<s.length;){const g=s[c];(r||c!==0||g.type!=="element"||g.tagName!=="p")&&o.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!r?o.push(...g.children):o.push(g)}const h=s[s.length-1];h&&(r||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:o};return t.patch(e,d),t.applyData(e,d)}function lU(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let s=-1;for(;!e&&++s<n.length;)e=_R(n[s])}return e}function _R(t){const e=t.spread;return e??t.children.length>1}function oU(t,e){const n={},s=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<s.length;){const o=s[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(s,!0)};return t.patch(e,a),t.applyData(e,a)}function cU(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uU(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function hU(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function dU(t,e){const n=t.all(e),s=n.shift(),r=[];if(s){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([s],!0)};t.patch(e.children[0],o),r.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=$S(e.children[1]),h=Z6(e.children[e.children.length-1]);c&&h&&(o.position={start:c,end:h}),r.push(o)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function fU(t,e,n){const s=n?n.children:void 0,a=(s?s.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,c=o?o.length:e.children.length;let h=-1;const d=[];for(;++h<c;){const m=e.children[h],v={},y=o?o[h]:void 0;y&&(v.align=y);let x={type:"element",tagName:a,properties:v,children:[]};m&&(x.children=t.all(m),t.patch(m,x),x=t.applyData(m,x)),d.push(x)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,g),t.applyData(e,g)}function pU(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const EA=9,jA=32;function mU(t){const e=String(t),n=/\r?\n|\r/g;let s=n.exec(e),r=0;const a=[];for(;s;)a.push(TA(e.slice(r,s.index),r>0,!0),s[0]),r=s.index+s[0].length,s=n.exec(e);return a.push(TA(e.slice(r),r>0,!1)),a.join("")}function TA(t,e,n){let s=0,r=t.length;if(e){let a=t.codePointAt(s);for(;a===EA||a===jA;)s++,a=t.codePointAt(s)}if(n){let a=t.codePointAt(r-1);for(;a===EA||a===jA;)r--,a=t.codePointAt(r-1)}return r>s?t.slice(s,r):""}function gU(t,e){const n={type:"text",value:mU(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function yU(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const vU={blockquote:KH,break:GH,code:YH,delete:XH,emphasis:JH,footnoteReference:QH,heading:ZH,html:eU,imageReference:tU,image:nU,inlineCode:sU,linkReference:rU,link:iU,listItem:aU,list:oU,paragraph:cU,root:uU,strong:hU,table:dU,tableCell:pU,tableRow:fU,text:gU,thematicBreak:yU,toml:dm,yaml:dm,definition:dm,footnoteDefinition:dm};function dm(){}const xR=-1,Bg=0,Ad=1,w0=2,KS=3,GS=4,YS=5,XS=6,wR=7,SR=8,RA=typeof self=="object"?self:globalThis,bU=(t,e)=>{const n=(r,a)=>(t.set(a,r),r),s=r=>{if(t.has(r))return t.get(r);const[a,o]=e[r];switch(a){case Bg:case xR:return n(o,r);case Ad:{const c=n([],r);for(const h of o)c.push(s(h));return c}case w0:{const c=n({},r);for(const[h,d]of o)c[s(h)]=s(d);return c}case KS:return n(new Date(o),r);case GS:{const{source:c,flags:h}=o;return n(new RegExp(c,h),r)}case YS:{const c=n(new Map,r);for(const[h,d]of o)c.set(s(h),s(d));return c}case XS:{const c=n(new Set,r);for(const h of o)c.add(s(h));return c}case wR:{const{name:c,message:h}=o;return n(new RA[c](h),r)}case SR:return n(BigInt(o),r);case"BigInt":return n(Object(BigInt(o)),r);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:c}=new Uint8Array(o);return n(new DataView(c),o)}}return n(new RA[a](o),r)};return s},OA=t=>bU(new Map,t)(0),gc="",{toString:_U}={},{keys:xU}=Object,Ah=t=>{const e=typeof t;if(e!=="object"||!t)return[Bg,e];const n=_U.call(t).slice(8,-1);switch(n){case"Array":return[Ad,gc];case"Object":return[w0,gc];case"Date":return[KS,gc];case"RegExp":return[GS,gc];case"Map":return[YS,gc];case"Set":return[XS,gc];case"DataView":return[Ad,n]}return n.includes("Array")?[Ad,n]:n.includes("Error")?[wR,n]:[w0,n]},fm=([t,e])=>t===Bg&&(e==="function"||e==="symbol"),wU=(t,e,n,s)=>{const r=(o,c)=>{const h=s.push(o)-1;return n.set(c,h),h},a=o=>{if(n.has(o))return n.get(o);let[c,h]=Ah(o);switch(c){case Bg:{let g=o;switch(h){case"bigint":c=SR,g=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+h);g=null;break;case"undefined":return r([xR],o)}return r([c,g],o)}case Ad:{if(h){let v=o;return h==="DataView"?v=new Uint8Array(o.buffer):h==="ArrayBuffer"&&(v=new Uint8Array(o)),r([h,[...v]],o)}const g=[],m=r([c,g],o);for(const v of o)g.push(a(v));return m}case w0:{if(h)switch(h){case"BigInt":return r([h,o.toString()],o);case"Boolean":case"Number":case"String":return r([h,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());const g=[],m=r([c,g],o);for(const v of xU(o))(t||!fm(Ah(o[v])))&&g.push([a(v),a(o[v])]);return m}case KS:return r([c,o.toISOString()],o);case GS:{const{source:g,flags:m}=o;return r([c,{source:g,flags:m}],o)}case YS:{const g=[],m=r([c,g],o);for(const[v,y]of o)(t||!(fm(Ah(v))||fm(Ah(y))))&&g.push([a(v),a(y)]);return m}case XS:{const g=[],m=r([c,g],o);for(const v of o)(t||!fm(Ah(v)))&&g.push(a(v));return m}}const{message:d}=o;return r([c,{name:h,message:d}],o)};return a},BA=(t,{json:e,lossy:n}={})=>{const s=[];return wU(!(e||n),!!e,new Map,s)(t),s},S0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?OA(BA(t,e)):structuredClone(t):(t,e)=>OA(BA(t,e));function SU(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function kU(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function CU(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||SU,s=t.options.footnoteBackLabel||kU,r=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let h=-1;for(;++h<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[h]);if(!d)continue;const g=t.all(d),m=String(d.identifier).toUpperCase(),v=fu(m.toLowerCase());let y=0;const x=[],w=t.footnoteCounts.get(m);for(;w!==void 0&&++y<=w;){x.length>0&&x.push({type:"text",value:" "});let C=typeof n=="string"?n:n(h,y);typeof C=="string"&&(C={type:"text",value:C}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(h,y),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const S=g[g.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const C=S.children[S.children.length-1];C&&C.type==="text"?C.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...x)}else g.push(...x);const k={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(g,!0)};t.patch(d,k),c.push(k)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...S0(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const Mg=(function(t){if(t==null)return jU;if(typeof t=="function")return Dg(t);if(typeof t=="object")return Array.isArray(t)?NU(t):AU(t);if(typeof t=="string")return EU(t);throw new Error("Expected function, string, or object as test")});function NU(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Mg(t[n]);return Dg(s);function s(...r){let a=-1;for(;++a<e.length;)if(e[a].apply(this,r))return!0;return!1}}function AU(t){const e=t;return Dg(n);function n(s){const r=s;let a;for(a in t)if(r[a]!==e[a])return!1;return!0}}function EU(t){return Dg(e);function e(n){return n&&n.type===t}}function Dg(t){return e;function e(n,s,r){return!!(TU(n)&&t.call(this,n,typeof s=="number"?s:void 0,r||void 0))}}function jU(){return!0}function TU(t){return t!==null&&typeof t=="object"&&"type"in t}const kR=[],RU=!0,F_=!1,OU="skip";function CR(t,e,n,s){let r;typeof e=="function"&&typeof n!="function"?(s=n,n=e):r=e;const a=Mg(r),o=s?-1:1;c(t,void 0,[])();function c(h,d,g){const m=h&&typeof h=="object"?h:{};if(typeof m.type=="string"){const y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(h.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=kR,x,w,S;if((!e||a(h,d,g[g.length-1]||void 0))&&(y=BU(n(h,g)),y[0]===F_))return y;if("children"in h&&h.children){const k=h;if(k.children&&y[0]!==OU)for(w=(s?k.children.length:-1)+o,S=g.concat(k);w>-1&&w<k.children.length;){const C=k.children[w];if(x=c(C,w,S)(),x[0]===F_)return x;w=typeof x[1]=="number"?x[1]:w+o}}return y}}}function BU(t){return Array.isArray(t)?t:typeof t=="number"?[RU,t]:t==null?kR:[t]}function JS(t,e,n,s){let r,a,o;typeof e=="function"&&typeof n!="function"?(a=void 0,o=e,r=n):(a=e,o=n,r=s),CR(t,a,c,r);function c(h,d){const g=d[d.length-1],m=g?g.children.indexOf(h):void 0;return o(h,m,g)}}const q_={}.hasOwnProperty,MU={};function DU(t,e){const n=e||MU,s=new Map,r=new Map,a=new Map,o={...vU,...n.handlers},c={all:d,applyData:IU,definitionById:s,footnoteById:r,footnoteCounts:a,footnoteOrder:[],handlers:o,one:h,options:n,patch:LU,wrap:zU};return JS(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const m=g.type==="definition"?s:r,v=String(g.identifier).toUpperCase();m.has(v)||m.set(v,g)}}),c;function h(g,m){const v=g.type,y=c.handlers[v];if(q_.call(c.handlers,v)&&y)return y(c,g,m);if(c.options.passThrough&&c.options.passThrough.includes(v)){if("children"in g){const{children:w,...S}=g,k=S0(S);return k.children=c.all(g),k}return S0(g)}return(c.options.unknownHandler||PU)(c,g,m)}function d(g){const m=[];if("children"in g){const v=g.children;let y=-1;for(;++y<v.length;){const x=c.one(v[y],g);if(x){if(y&&v[y-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=MA(x.value)),!Array.isArray(x)&&x.type==="element")){const w=x.children[0];w&&w.type==="text"&&(w.value=MA(w.value))}Array.isArray(x)?m.push(...x):m.push(x)}}}return m}}function LU(t,e){t.position&&(e.position=k$(t))}function IU(t,e){let n=e;if(t&&t.data){const s=t.data.hName,r=t.data.hChildren,a=t.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const o="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,S0(a)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function PU(t,e){const n=e.data||{},s="value"in e&&!(q_.call(n,"hProperties")||q_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function zU(t,e){const n=[];let s=-1;for(e&&n.push({type:"text",value:`
`});++s<t.length;)s&&n.push({type:"text",value:`
`}),n.push(t[s]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function MA(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function DA(t,e){const n=DU(t,e),s=n.one(t,void 0),r=CU(n),a=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return r&&a.children.push({type:"text",value:`
`},r),a}function $U(t,e){return t&&"run"in t?async function(n,s){const r=DA(n,{file:s,...e});await t.run(r,s)}:function(n,s){return DA(n,{file:s,...t||e})}}function LA(t){if(t)throw t}var wb,IA;function HU(){if(IA)return wb;IA=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,r=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var g=t.call(d,"constructor"),m=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!m)return!1;var v;for(v in d);return typeof v>"u"||t.call(d,v)},o=function(d,g){n&&g.name==="__proto__"?n(d,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):d[g.name]=g.newValue},c=function(d,g){if(g==="__proto__")if(t.call(d,g)){if(s)return s(d,g).value}else return;return d[g]};return wb=function h(){var d,g,m,v,y,x,w=arguments[0],S=1,k=arguments.length,C=!1;for(typeof w=="boolean"&&(C=w,w=arguments[1]||{},S=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});S<k;++S)if(d=arguments[S],d!=null)for(g in d)m=c(w,g),v=c(d,g),w!==v&&(C&&v&&(a(v)||(y=r(v)))?(y?(y=!1,x=m&&r(m)?m:[]):x=m&&a(m)?m:{},o(w,{name:g,newValue:h(C,x,v)})):typeof v<"u"&&o(w,{name:g,newValue:v}));return w},wb}var UU=HU();const Sb=rS(UU);function W_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function VU(){const t=[],e={run:n,use:s};return e;function n(...r){let a=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);c(null,...r);function c(h,...d){const g=t[++a];let m=-1;if(h){o(h);return}for(;++m<r.length;)(d[m]===null||d[m]===void 0)&&(d[m]=r[m]);r=d,g?FU(g,c)(...d):o(null,...d)}}function s(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function FU(t,e){let n;return s;function s(...o){const c=t.length>o.length;let h;c&&o.push(r);try{h=t.apply(this,o)}catch(d){const g=d;if(c&&n)throw g;return r(g)}c||(h&&h.then&&typeof h.then=="function"?h.then(a,r):h instanceof Error?r(h):a(h))}function r(o,...c){n||(n=!0,e(o,...c))}function a(o){r(null,o)}}const ci={basename:qU,dirname:WU,extname:KU,join:GU,sep:"/"};function qU(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');xf(t);let n=0,s=-1,r=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.codePointAt(r)===47){if(a){n=r+1;break}}else s<0&&(a=!0,s=r+1);return s<0?"":t.slice(n,s)}if(e===t)return"";let o=-1,c=e.length-1;for(;r--;)if(t.codePointAt(r)===47){if(a){n=r+1;break}}else o<0&&(a=!0,o=r+1),c>-1&&(t.codePointAt(r)===e.codePointAt(c--)?c<0&&(s=r):(c=-1,s=o));return n===s?s=o:s<0&&(s=t.length),t.slice(n,s)}function WU(t){if(xf(t),t.length===0)return".";let e=-1,n=t.length,s;for(;--n;)if(t.codePointAt(n)===47){if(s){e=n;break}}else s||(s=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function KU(t){xf(t);let e=t.length,n=-1,s=0,r=-1,a=0,o;for(;e--;){const c=t.codePointAt(e);if(c===47){if(o){s=e+1;break}continue}n<0&&(o=!0,n=e+1),c===46?r<0?r=e:a!==1&&(a=1):r>-1&&(a=-1)}return r<0||n<0||a===0||a===1&&r===n-1&&r===s+1?"":t.slice(r,n)}function GU(...t){let e=-1,n;for(;++e<t.length;)xf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":YU(n)}function YU(t){xf(t);const e=t.codePointAt(0)===47;let n=XU(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function XU(t,e){let n="",s=0,r=-1,a=0,o=-1,c,h;for(;++o<=t.length;){if(o<t.length)c=t.codePointAt(o);else{if(c===47)break;c=47}if(c===47){if(!(r===o-1||a===1))if(r!==o-1&&a===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",s=0):(n=n.slice(0,h),s=n.length-1-n.lastIndexOf("/")),r=o,a=0;continue}}else if(n.length>0){n="",s=0,r=o,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+t.slice(r+1,o):n=t.slice(r+1,o),s=o-r-1;r=o,a=0}else c===46&&a>-1?a++:a=-1}return n}function xf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const JU={cwd:QU};function QU(){return"/"}function K_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function ZU(t){if(typeof t=="string")t=new URL(t);else if(!K_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return eV(t)}function eV(t){if(t.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const s=e.codePointAt(n+2);if(s===70||s===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const kb=["history","path","basename","stem","extname","dirname"];class NR{constructor(e){let n;e?K_(e)?n={path:e}:typeof e=="string"||tV(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":JU.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<kb.length;){const a=kb[s];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let r;for(r in n)kb.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?ci.basename(this.path):void 0}set basename(e){Nb(e,"basename"),Cb(e,"basename"),this.path=ci.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ci.dirname(this.path):void 0}set dirname(e){PA(this.basename,"dirname"),this.path=ci.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ci.extname(this.path):void 0}set extname(e){if(Cb(e,"extname"),PA(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ci.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){K_(e)&&(e=ZU(e)),Nb(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ci.basename(this.path,this.extname):void 0}set stem(e){Nb(e,"stem"),Cb(e,"stem"),this.path=ci.join(this.dirname||"",e+(this.extname||""))}fail(e,n,s){const r=this.message(e,n,s);throw r.fatal=!0,r}info(e,n,s){const r=this.message(e,n,s);return r.fatal=void 0,r}message(e,n,s){const r=new ms(e,n,s);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Cb(t,e){if(t&&t.includes(ci.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ci.sep+"`")}function Nb(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function PA(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function tV(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const nV=(function(t){const s=this.constructor.prototype,r=s[t],a=function(){return r.apply(a,arguments)};return Object.setPrototypeOf(a,s),a}),sV={}.hasOwnProperty;class QS extends nV{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=VU()}copy(){const e=new QS;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];e.use(...s)}return e.data(Sb(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(jb("data",this.frozen),this.namespace[e]=n,this):sV.call(this.namespace,e)&&this.namespace[e]||void 0:e?(jb("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const r=n.call(e,...s);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=pm(e),s=this.parser||this.Parser;return Ab("parse",s),s(String(n),n)}process(e,n){const s=this;return this.freeze(),Ab("process",this.parser||this.Parser),Eb("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(a,o){const c=pm(e),h=s.parse(c);s.run(h,c,function(g,m,v){if(g||!m||!v)return d(g);const y=m,x=s.stringify(y,v);aV(x)?v.value=x:v.result=x,d(g,v)});function d(g,m){g||!m?o(g):a?a(m):n(void 0,m)}}}processSync(e){let n=!1,s;return this.freeze(),Ab("processSync",this.parser||this.Parser),Eb("processSync",this.compiler||this.Compiler),this.process(e,r),$A("processSync","process",n),s;function r(a,o){n=!0,LA(a),s=o}}run(e,n,s){zA(e),this.freeze();const r=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?a(void 0,s):new Promise(a);function a(o,c){const h=pm(n);r.run(e,h,d);function d(g,m,v){const y=m||e;g?c(g):o?o(y):s(void 0,y,v)}}}runSync(e,n){let s=!1,r;return this.run(e,n,a),$A("runSync","run",s),r;function a(o,c){LA(o),r=c,s=!0}}stringify(e,n){this.freeze();const s=pm(n),r=this.compiler||this.Compiler;return Eb("stringify",r),zA(e),r(e,s)}use(e,...n){const s=this.attachers,r=this.namespace;if(jb("use",this.frozen),e!=null)if(typeof e=="function")h(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[g,...m]=d;h(g,m)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(r.settings=Sb(!0,r.settings,d.settings))}function c(d){let g=-1;if(d!=null)if(Array.isArray(d))for(;++g<d.length;){const m=d[g];a(m)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,g){let m=-1,v=-1;for(;++m<s.length;)if(s[m][0]===d){v=m;break}if(v===-1)s.push([d,...g]);else if(g.length>0){let[y,...x]=g;const w=s[v][1];W_(w)&&W_(y)&&(y=Sb(!0,w,y)),s[v]=[d,y,...x]}}}}const rV=new QS().freeze();function Ab(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Eb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function jb(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zA(t){if(!W_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function $A(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function pm(t){return iV(t)?t:new NR(t)}function iV(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function aV(t){return typeof t=="string"||lV(t)}function lV(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const oV="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",HA=[],UA={allowDangerousHtml:!0},cV=/^(https?|ircs?|mailto|xmpp)$/i,uV=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function hV(t){const e=dV(t),n=fV(t);return pV(e.runSync(e.parse(n),n),t)}function dV(t){const e=t.rehypePlugins||HA,n=t.remarkPlugins||HA,s=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...UA}:UA;return rV().use(WH).use(n).use($U,s).use(e)}function fV(t){const e=t.children||"",n=new NR;return typeof e=="string"&&(n.value=e),n}function pV(t,e){const n=e.allowedElements,s=e.allowElement,r=e.components,a=e.disallowedElements,o=e.skipHtml,c=e.unwrapDisallowed,h=e.urlTransform||mV;for(const g of uV)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+oV+g.id,void 0);return JS(t,d),j$(t,{Fragment:f.Fragment,components:r,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function d(g,m,v){if(g.type==="raw"&&v&&typeof m=="number")return o?v.children.splice(m,1):v.children[m]={type:"text",value:g.value},m;if(g.type==="element"){let y;for(y in bb)if(Object.hasOwn(bb,y)&&Object.hasOwn(g.properties,y)){const x=g.properties[y],w=bb[y];(w===null||w.includes(g.tagName))&&(g.properties[y]=h(String(x||""),y,g))}}if(g.type==="element"){let y=n?!n.includes(g.tagName):a?a.includes(g.tagName):!1;if(!y&&s&&typeof m=="number"&&(y=!s(g,m,v)),y&&v&&typeof m=="number")return c&&g.children?v.children.splice(m,1,...g.children):v.children.splice(m,1),m}}}function mV(t){const e=t.indexOf(":"),n=t.indexOf("?"),s=t.indexOf("#"),r=t.indexOf("/");return e===-1||r!==-1&&e>r||n!==-1&&e>n||s!==-1&&e>s||cV.test(t.slice(0,e))?t:""}function VA(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let s=0,r=n.indexOf(e);for(;r!==-1;)s++,r=n.indexOf(e,r+e.length);return s}function gV(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function AR(t,e,n){const r=Mg((n||{}).ignore||[]),a=yV(e);let o=-1;for(;++o<a.length;)CR(t,"text",c);function c(d,g){let m=-1,v;for(;++m<g.length;){const y=g[m],x=v?v.children:void 0;if(r(y,x?x.indexOf(y):void 0,v))return;v=y}if(v)return h(d,g)}function h(d,g){const m=g[g.length-1],v=a[o][0],y=a[o][1];let x=0;const S=m.children.indexOf(d);let k=!1,C=[];v.lastIndex=0;let E=v.exec(d.value);for(;E;){const B=E.index,D={index:E.index,input:E.input,stack:[...g,d]};let j=y(...E,D);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?v.lastIndex=B+1:(x!==B&&C.push({type:"text",value:d.value.slice(x,B)}),Array.isArray(j)?C.push(...j):j&&C.push(j),x=B+E[0].length,k=!0),!v.global)break;E=v.exec(d.value)}return k?(x<d.value.length&&C.push({type:"text",value:d.value.slice(x)}),m.children.splice(S,1,...C)):C=[d],S+C.length}}function yV(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let s=-1;for(;++s<n.length;){const r=n[s];e.push([vV(r[0]),bV(r[1])])}return e}function vV(t){return typeof t=="string"?new RegExp(gV(t),"g"):t}function bV(t){return typeof t=="function"?t:function(){return t}}const Tb="phrasing",Rb=["autolink","link","image","label"];function _V(){return{transforms:[AV],enter:{literalAutolink:wV,literalAutolinkEmail:Ob,literalAutolinkHttp:Ob,literalAutolinkWww:Ob},exit:{literalAutolink:NV,literalAutolinkEmail:CV,literalAutolinkHttp:SV,literalAutolinkWww:kV}}}function xV(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Tb,notInConstruct:Rb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Tb,notInConstruct:Rb},{character:":",before:"[ps]",after:"\\/",inConstruct:Tb,notInConstruct:Rb}]}}function wV(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Ob(t){this.config.enter.autolinkProtocol.call(this,t)}function SV(t){this.config.exit.autolinkProtocol.call(this,t)}function kV(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function CV(t){this.config.exit.autolinkEmail.call(this,t)}function NV(t){this.exit(t)}function AV(t){AR(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,EV],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),jV]],{ignore:["link","linkReference"]})}function EV(t,e,n,s,r){let a="";if(!ER(r)||(/^w/i.test(e)&&(n=e+n,e="",a="http://"),!TV(n)))return!1;const o=RV(n+s);if(!o[0])return!1;const c={type:"link",title:null,url:a+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[c,{type:"text",value:o[1]}]:c}function jV(t,e,n,s){return!ER(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function TV(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function RV(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],s=n.indexOf(")");const r=VA(t,"(");let a=VA(t,")");for(;s!==-1&&r>a;)t+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),a++;return[t,n]}function ER(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||to(n)||Rg(n))&&(!e||n!==47)}jR.peek=$V;function OV(){this.buffer()}function BV(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function MV(){this.buffer()}function DV(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function LV(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Kr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function IV(t){this.exit(t)}function PV(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Kr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function zV(t){this.exit(t)}function $V(){return"["}function jR(t,e,n,s){const r=n.createTracker(s);let a=r.move("[^");const o=n.enter("footnoteReference"),c=n.enter("reference");return a+=r.move(n.safe(n.associationId(t),{after:"]",before:a})),c(),o(),a+=r.move("]"),a}function HV(){return{enter:{gfmFootnoteCallString:OV,gfmFootnoteCall:BV,gfmFootnoteDefinitionLabelString:MV,gfmFootnoteDefinition:DV},exit:{gfmFootnoteCallString:LV,gfmFootnoteCall:IV,gfmFootnoteDefinitionLabelString:PV,gfmFootnoteDefinition:zV}}}function UV(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:jR},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,r,a,o){const c=a.createTracker(o);let h=c.move("[^");const d=a.enter("footnoteDefinition"),g=a.enter("label");return h+=c.move(a.safe(a.associationId(s),{before:h,after:"]"})),g(),h+=c.move("]:"),s.children&&s.children.length>0&&(c.shift(4),h+=c.move((e?`
`:" ")+a.indentLines(a.containerFlow(s,c.current()),e?TR:VV))),d(),h}}function VV(t,e,n){return e===0?t:TR(t,e,n)}function TR(t,e,n){return(n?"":"    ")+t}const FV=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];RR.peek=YV;function qV(){return{canContainEols:["delete"],enter:{strikethrough:KV},exit:{strikethrough:GV}}}function WV(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:FV}],handlers:{delete:RR}}}function KV(t){this.enter({type:"delete",children:[]},t)}function GV(t){this.exit(t)}function RR(t,e,n,s){const r=n.createTracker(s),a=n.enter("strikethrough");let o=r.move("~~");return o+=n.containerPhrasing(t,{...r.current(),before:o,after:"~"}),o+=r.move("~~"),a(),o}function YV(){return"~"}function XV(t){return t.length}function JV(t,e){const n=e||{},s=(n.align||[]).concat(),r=n.stringLength||XV,a=[],o=[],c=[],h=[];let d=0,g=-1;for(;++g<t.length;){const w=[],S=[];let k=-1;for(t[g].length>d&&(d=t[g].length);++k<t[g].length;){const C=QV(t[g][k]);if(n.alignDelimiters!==!1){const E=r(C);S[k]=E,(h[k]===void 0||E>h[k])&&(h[k]=E)}w.push(C)}o[g]=w,c[g]=S}let m=-1;if(typeof s=="object"&&"length"in s)for(;++m<d;)a[m]=FA(s[m]);else{const w=FA(s);for(;++m<d;)a[m]=w}m=-1;const v=[],y=[];for(;++m<d;){const w=a[m];let S="",k="";w===99?(S=":",k=":"):w===108?S=":":w===114&&(k=":");let C=n.alignDelimiters===!1?1:Math.max(1,h[m]-S.length-k.length);const E=S+"-".repeat(C)+k;n.alignDelimiters!==!1&&(C=S.length+C+k.length,C>h[m]&&(h[m]=C),y[m]=C),v[m]=E}o.splice(1,0,v),c.splice(1,0,y),g=-1;const x=[];for(;++g<o.length;){const w=o[g],S=c[g];m=-1;const k=[];for(;++m<d;){const C=w[m]||"";let E="",B="";if(n.alignDelimiters!==!1){const D=h[m]-(S[m]||0),j=a[m];j===114?E=" ".repeat(D):j===99?D%2?(E=" ".repeat(D/2+.5),B=" ".repeat(D/2-.5)):(E=" ".repeat(D/2),B=E):B=" ".repeat(D)}n.delimiterStart!==!1&&!m&&k.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&C==="")&&(n.delimiterStart!==!1||m)&&k.push(" "),n.alignDelimiters!==!1&&k.push(E),k.push(C),n.alignDelimiters!==!1&&k.push(B),n.padding!==!1&&k.push(" "),(n.delimiterEnd!==!1||m!==d-1)&&k.push("|")}x.push(n.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return x.join(`
`)}function QV(t){return t==null?"":String(t)}function FA(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function ZV(t,e,n,s){const r=n.enter("blockquote"),a=n.createTracker(s);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(t,a.current()),eF);return r(),o}function eF(t,e,n){return">"+(n?"":" ")+t}function tF(t,e){return qA(t,e.inConstruct,!0)&&!qA(t,e.notInConstruct,!1)}function qA(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let s=-1;for(;++s<e.length;)if(t.includes(e[s]))return!0;return!1}function WA(t,e,n,s){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&tF(n.stack,n.unsafe[r]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function nF(t,e){const n=String(t);let s=n.indexOf(e),r=s,a=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===r?++a>o&&(o=a):a=1,r=s+e.length,s=n.indexOf(e,r);return o}function sF(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function rF(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function iF(t,e,n,s){const r=rF(n),a=t.value||"",o=r==="`"?"GraveAccent":"Tilde";if(sF(t,n)){const m=n.enter("codeIndented"),v=n.indentLines(a,aF);return m(),v}const c=n.createTracker(s),h=r.repeat(Math.max(nF(a,r)+1,3)),d=n.enter("codeFenced");let g=c.move(h);if(t.lang){const m=n.enter(`codeFencedLang${o}`);g+=c.move(n.safe(t.lang,{before:g,after:" ",encode:["`"],...c.current()})),m()}if(t.lang&&t.meta){const m=n.enter(`codeFencedMeta${o}`);g+=c.move(" "),g+=c.move(n.safe(t.meta,{before:g,after:`
`,encode:["`"],...c.current()})),m()}return g+=c.move(`
`),a&&(g+=c.move(a+`
`)),g+=c.move(h),d(),g}function aF(t,e,n){return(n?"":"    ")+t}function ZS(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function lF(t,e,n,s){const r=ZS(n),a=r==='"'?"Quote":"Apostrophe",o=n.enter("definition");let c=n.enter("label");const h=n.createTracker(s);let d=h.move("[");return d+=h.move(n.safe(n.associationId(t),{before:d,after:"]",...h.current()})),d+=h.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),d+=h.move("<"),d+=h.move(n.safe(t.url,{before:d,after:">",...h.current()})),d+=h.move(">")):(c=n.enter("destinationRaw"),d+=h.move(n.safe(t.url,{before:d,after:t.title?" ":`
`,...h.current()}))),c(),t.title&&(c=n.enter(`title${a}`),d+=h.move(" "+r),d+=h.move(n.safe(t.title,{before:d,after:r,...h.current()})),d+=h.move(r),c()),o(),d}function oF(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Wd(t){return"&#x"+t.toString(16).toUpperCase()+";"}function k0(t,e,n){const s=Vc(t),r=Vc(e);return s===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}OR.peek=cF;function OR(t,e,n,s){const r=oF(n),a=n.enter("emphasis"),o=n.createTracker(s),c=o.move(r);let h=o.move(n.containerPhrasing(t,{after:r,before:c,...o.current()}));const d=h.charCodeAt(0),g=k0(s.before.charCodeAt(s.before.length-1),d,r);g.inside&&(h=Wd(d)+h.slice(1));const m=h.charCodeAt(h.length-1),v=k0(s.after.charCodeAt(0),m,r);v.inside&&(h=h.slice(0,-1)+Wd(m));const y=o.move(r);return a(),n.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},c+h+y}function cF(t,e,n){return n.options.emphasis||"*"}function uF(t,e){let n=!1;return JS(t,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,F_}),!!((!t.depth||t.depth<3)&&FS(t)&&(e.options.setext||n))}function hF(t,e,n,s){const r=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(s);if(uF(t,n)){const g=n.enter("headingSetext"),m=n.enter("phrasing"),v=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return m(),g(),v+`
`+(r===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const o="#".repeat(r),c=n.enter("headingAtx"),h=n.enter("phrasing");a.move(o+" ");let d=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(d)&&(d=Wd(d.charCodeAt(0))+d.slice(1)),d=d?o+" "+d:o,n.options.closeAtx&&(d+=" "+o),h(),c(),d}BR.peek=dF;function BR(t){return t.value||""}function dF(){return"<"}MR.peek=fF;function MR(t,e,n,s){const r=ZS(n),a=r==='"'?"Quote":"Apostrophe",o=n.enter("image");let c=n.enter("label");const h=n.createTracker(s);let d=h.move("![");return d+=h.move(n.safe(t.alt,{before:d,after:"]",...h.current()})),d+=h.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),d+=h.move("<"),d+=h.move(n.safe(t.url,{before:d,after:">",...h.current()})),d+=h.move(">")):(c=n.enter("destinationRaw"),d+=h.move(n.safe(t.url,{before:d,after:t.title?" ":")",...h.current()}))),c(),t.title&&(c=n.enter(`title${a}`),d+=h.move(" "+r),d+=h.move(n.safe(t.title,{before:d,after:r,...h.current()})),d+=h.move(r),c()),d+=h.move(")"),o(),d}function fF(){return"!"}DR.peek=pF;function DR(t,e,n,s){const r=t.referenceType,a=n.enter("imageReference");let o=n.enter("label");const c=n.createTracker(s);let h=c.move("![");const d=n.safe(t.alt,{before:h,after:"]",...c.current()});h+=c.move(d+"]["),o();const g=n.stack;n.stack=[],o=n.enter("reference");const m=n.safe(n.associationId(t),{before:h,after:"]",...c.current()});return o(),n.stack=g,a(),r==="full"||!d||d!==m?h+=c.move(m+"]"):r==="shortcut"?h=h.slice(0,-1):h+=c.move("]"),h}function pF(){return"!"}LR.peek=mF;function LR(t,e,n){let s=t.value||"",r="`",a=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(s);)r+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++a<n.unsafe.length;){const o=n.unsafe[a],c=n.compilePattern(o);let h;if(o.atBreak)for(;h=c.exec(s);){let d=h.index;s.charCodeAt(d)===10&&s.charCodeAt(d-1)===13&&d--,s=s.slice(0,d)+" "+s.slice(h.index+1)}}return r+s+r}function mF(){return"`"}function IR(t,e){const n=FS(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}PR.peek=gF;function PR(t,e,n,s){const r=ZS(n),a=r==='"'?"Quote":"Apostrophe",o=n.createTracker(s);let c,h;if(IR(t,n)){const g=n.stack;n.stack=[],c=n.enter("autolink");let m=o.move("<");return m+=o.move(n.containerPhrasing(t,{before:m,after:">",...o.current()})),m+=o.move(">"),c(),n.stack=g,m}c=n.enter("link"),h=n.enter("label");let d=o.move("[");return d+=o.move(n.containerPhrasing(t,{before:d,after:"](",...o.current()})),d+=o.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),d+=o.move("<"),d+=o.move(n.safe(t.url,{before:d,after:">",...o.current()})),d+=o.move(">")):(h=n.enter("destinationRaw"),d+=o.move(n.safe(t.url,{before:d,after:t.title?" ":")",...o.current()}))),h(),t.title&&(h=n.enter(`title${a}`),d+=o.move(" "+r),d+=o.move(n.safe(t.title,{before:d,after:r,...o.current()})),d+=o.move(r),h()),d+=o.move(")"),c(),d}function gF(t,e,n){return IR(t,n)?"<":"["}zR.peek=yF;function zR(t,e,n,s){const r=t.referenceType,a=n.enter("linkReference");let o=n.enter("label");const c=n.createTracker(s);let h=c.move("[");const d=n.containerPhrasing(t,{before:h,after:"]",...c.current()});h+=c.move(d+"]["),o();const g=n.stack;n.stack=[],o=n.enter("reference");const m=n.safe(n.associationId(t),{before:h,after:"]",...c.current()});return o(),n.stack=g,a(),r==="full"||!d||d!==m?h+=c.move(m+"]"):r==="shortcut"?h=h.slice(0,-1):h+=c.move("]"),h}function yF(){return"["}function e2(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function vF(t){const e=e2(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function bF(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function $R(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function _F(t,e,n,s){const r=n.enter("list"),a=n.bulletCurrent;let o=t.ordered?bF(n):e2(n);const c=t.ordered?o==="."?")":".":vF(n);let h=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const g=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&g&&(!g.children||!g.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(h=!0),$R(n)===o&&g){let m=-1;for(;++m<t.children.length;){const v=t.children[m];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(o=c),n.bulletCurrent=o;const d=n.containerFlow(t,s);return n.bulletLastUsed=o,n.bulletCurrent=a,r(),d}function xF(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function wF(t,e,n,s){const r=xF(n);let a=n.bulletCurrent||e2(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let o=a.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const c=n.createTracker(s);c.move(a+" ".repeat(o-a.length)),c.shift(o);const h=n.enter("listItem"),d=n.indentLines(n.containerFlow(t,c.current()),g);return h(),d;function g(m,v,y){return v?(y?"":" ".repeat(o))+m:(y?a:a+" ".repeat(o-a.length))+m}}function SF(t,e,n,s){const r=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(t,s);return a(),r(),o}const kF=Mg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function CF(t,e,n,s){return(t.children.some(function(o){return kF(o)})?n.containerPhrasing:n.containerFlow).call(n,t,s)}function NF(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}HR.peek=AF;function HR(t,e,n,s){const r=NF(n),a=n.enter("strong"),o=n.createTracker(s),c=o.move(r+r);let h=o.move(n.containerPhrasing(t,{after:r,before:c,...o.current()}));const d=h.charCodeAt(0),g=k0(s.before.charCodeAt(s.before.length-1),d,r);g.inside&&(h=Wd(d)+h.slice(1));const m=h.charCodeAt(h.length-1),v=k0(s.after.charCodeAt(0),m,r);v.inside&&(h=h.slice(0,-1)+Wd(m));const y=o.move(r+r);return a(),n.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},c+h+y}function AF(t,e,n){return n.options.strong||"*"}function EF(t,e,n,s){return n.safe(t.value,s)}function jF(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function TF(t,e,n){const s=($R(n)+(n.options.ruleSpaces?" ":"")).repeat(jF(n));return n.options.ruleSpaces?s.slice(0,-1):s}const UR={blockquote:ZV,break:WA,code:iF,definition:lF,emphasis:OR,hardBreak:WA,heading:hF,html:BR,image:MR,imageReference:DR,inlineCode:LR,link:PR,linkReference:zR,list:_F,listItem:wF,paragraph:SF,root:CF,strong:HR,text:EF,thematicBreak:TF};function RF(){return{enter:{table:OF,tableData:KA,tableHeader:KA,tableRow:MF},exit:{codeText:DF,table:BF,tableData:Bb,tableHeader:Bb,tableRow:Bb}}}function OF(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function BF(t){this.exit(t),this.data.inTable=void 0}function MF(t){this.enter({type:"tableRow",children:[]},t)}function Bb(t){this.exit(t)}function KA(t){this.enter({type:"tableCell",children:[]},t)}function DF(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,LF));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function LF(t,e){return e==="|"?e:t}function IF(t){const e=t||{},n=e.tableCellPadding,s=e.tablePipeAlign,r=e.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:o,tableCell:h,tableRow:c}};function o(y,x,w,S){return d(g(y,w,S),y.align)}function c(y,x,w,S){const k=m(y,w,S),C=d([k]);return C.slice(0,C.indexOf(`
`))}function h(y,x,w,S){const k=w.enter("tableCell"),C=w.enter("phrasing"),E=w.containerPhrasing(y,{...S,before:a,after:a});return C(),k(),E}function d(y,x){return JV(y,{align:x,alignDelimiters:s,padding:n,stringLength:r})}function g(y,x,w){const S=y.children;let k=-1;const C=[],E=x.enter("table");for(;++k<S.length;)C[k]=m(S[k],x,w);return E(),C}function m(y,x,w){const S=y.children;let k=-1;const C=[],E=x.enter("tableRow");for(;++k<S.length;)C[k]=h(S[k],y,x,w);return E(),C}function v(y,x,w){let S=UR.inlineCode(y,x,w);return w.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function PF(){return{exit:{taskListCheckValueChecked:GA,taskListCheckValueUnchecked:GA,paragraph:$F}}}function zF(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:HF}}}function GA(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function $F(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const s=n.children[0];if(s&&s.type==="text"){const r=e.children;let a=-1,o;for(;++a<r.length;){const c=r[a];if(c.type==="paragraph"){o=c;break}}o===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(t)}function HF(t,e,n,s){const r=t.children[0],a=typeof t.checked=="boolean"&&r&&r.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",c=n.createTracker(s);a&&c.move(o);let h=UR.listItem(t,e,n,{...s,...c.current()});return a&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),h;function d(g){return g+o}}function UF(){return[_V(),HV(),qV(),RF(),PF()]}function VF(t){return{extensions:[xV(),UV(t),WV(),IF(t),zF()]}}const FF={tokenize:XF,partial:!0},VR={tokenize:JF,partial:!0},FR={tokenize:QF,partial:!0},qR={tokenize:ZF,partial:!0},qF={tokenize:eq,partial:!0},WR={name:"wwwAutolink",tokenize:GF,previous:GR},KR={name:"protocolAutolink",tokenize:YF,previous:YR},oa={name:"emailAutolink",tokenize:KF,previous:XR},wi={};function WF(){return{text:wi}}let Bl=48;for(;Bl<123;)wi[Bl]=oa,Bl++,Bl===58?Bl=65:Bl===91&&(Bl=97);wi[43]=oa;wi[45]=oa;wi[46]=oa;wi[95]=oa;wi[72]=[oa,KR];wi[104]=[oa,KR];wi[87]=[oa,WR];wi[119]=[oa,WR];function KF(t,e,n){const s=this;let r,a;return o;function o(m){return!G_(m)||!XR.call(s,s.previous)||t2(s.events)?n(m):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),c(m))}function c(m){return G_(m)?(t.consume(m),c):m===64?(t.consume(m),h):n(m)}function h(m){return m===46?t.check(qF,g,d)(m):m===45||m===95||ds(m)?(a=!0,t.consume(m),h):g(m)}function d(m){return t.consume(m),r=!0,h}function g(m){return a&&r&&xs(s.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(m)):n(m)}}function GF(t,e,n){const s=this;return r;function r(o){return o!==87&&o!==119||!GR.call(s,s.previous)||t2(s.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(FF,t.attempt(VR,t.attempt(FR,a),n),n)(o))}function a(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function YF(t,e,n){const s=this;let r="",a=!1;return o;function o(m){return(m===72||m===104)&&YR.call(s,s.previous)&&!t2(s.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),r+=String.fromCodePoint(m),t.consume(m),c):n(m)}function c(m){if(xs(m)&&r.length<5)return r+=String.fromCodePoint(m),t.consume(m),c;if(m===58){const v=r.toLowerCase();if(v==="http"||v==="https")return t.consume(m),h}return n(m)}function h(m){return m===47?(t.consume(m),a?d:(a=!0,h)):n(m)}function d(m){return m===null||x0(m)||Wt(m)||to(m)||Rg(m)?n(m):t.attempt(VR,t.attempt(FR,g),n)(m)}function g(m){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(m)}}function XF(t,e,n){let s=0;return r;function r(o){return(o===87||o===119)&&s<3?(s++,t.consume(o),r):o===46&&s===3?(t.consume(o),a):n(o)}function a(o){return o===null?n(o):e(o)}}function JF(t,e,n){let s,r,a;return o;function o(d){return d===46||d===95?t.check(qR,h,c)(d):d===null||Wt(d)||to(d)||d!==45&&Rg(d)?h(d):(a=!0,t.consume(d),o)}function c(d){return d===95?s=!0:(r=s,s=void 0),t.consume(d),o}function h(d){return r||s||!a?n(d):e(d)}}function QF(t,e){let n=0,s=0;return r;function r(o){return o===40?(n++,t.consume(o),r):o===41&&s<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(qR,e,a)(o):o===null||Wt(o)||to(o)?e(o):(t.consume(o),r)}function a(o){return o===41&&s++,t.consume(o),r}}function ZF(t,e,n){return s;function s(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(t.consume(c),s):c===38?(t.consume(c),a):c===93?(t.consume(c),r):c===60||c===null||Wt(c)||to(c)?e(c):n(c)}function r(c){return c===null||c===40||c===91||Wt(c)||to(c)?e(c):s(c)}function a(c){return xs(c)?o(c):n(c)}function o(c){return c===59?(t.consume(c),s):xs(c)?(t.consume(c),o):n(c)}}function eq(t,e,n){return s;function s(a){return t.consume(a),r}function r(a){return ds(a)?n(a):e(a)}}function GR(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Wt(t)}function YR(t){return!xs(t)}function XR(t){return!(t===47||G_(t))}function G_(t){return t===43||t===45||t===46||t===95||ds(t)}function t2(t){let e=t.length,n=!1;for(;e--;){const s=t[e][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const tq={tokenize:cq,partial:!0};function nq(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:aq,continuation:{tokenize:lq},exit:oq}},text:{91:{name:"gfmFootnoteCall",tokenize:iq},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:sq,resolveTo:rq}}}}function sq(t,e,n){const s=this;let r=s.events.length;const a=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o;for(;r--;){const h=s.events[r][1];if(h.type==="labelImage"){o=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return c;function c(h){if(!o||!o._balanced)return n(h);const d=Kr(s.sliceSerialize({start:o.end,end:s.now()}));return d.codePointAt(0)!==94||!a.includes(d.slice(1))?n(h):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),e(h))}}function rq(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},c=[t[n+1],t[n+2],["enter",s,e],t[n+3],t[n+4],["enter",r,e],["exit",r,e],["enter",a,e],["enter",o,e],["exit",o,e],["exit",a,e],t[t.length-2],t[t.length-1],["exit",s,e]];return t.splice(n,t.length-n+1,...c),t}function iq(t,e,n){const s=this,r=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let a=0,o;return c;function c(m){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),h}function h(m){return m!==94?n(m):(t.enter("gfmFootnoteCallMarker"),t.consume(m),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",d)}function d(m){if(a>999||m===93&&!o||m===null||m===91||Wt(m))return n(m);if(m===93){t.exit("chunkString");const v=t.exit("gfmFootnoteCallString");return r.includes(Kr(s.sliceSerialize(v)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(m)}return Wt(m)||(o=!0),a++,t.consume(m),m===92?g:d}function g(m){return m===91||m===92||m===93?(t.consume(m),a++,d):d(m)}}function aq(t,e,n){const s=this,r=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let a,o=0,c;return h;function h(x){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(x){return x===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",g):n(x)}function g(x){if(o>999||x===93&&!c||x===null||x===91||Wt(x))return n(x);if(x===93){t.exit("chunkString");const w=t.exit("gfmFootnoteDefinitionLabelString");return a=Kr(s.sliceSerialize(w)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),v}return Wt(x)||(c=!0),o++,t.consume(x),x===92?m:g}function m(x){return x===91||x===92||x===93?(t.consume(x),o++,g):g(x)}function v(x){return x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),r.includes(a)||r.push(a),At(t,y,"gfmFootnoteDefinitionWhitespace")):n(x)}function y(x){return e(x)}}function lq(t,e,n){return t.check(_f,e,t.attempt(tq,e,n))}function oq(t){t.exit("gfmFootnoteDefinition")}function cq(t,e,n){const s=this;return At(t,r,"gfmFootnoteDefinitionIndent",5);function r(a){const o=s.events[s.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(a):n(a)}}function uq(t){let n=(t||{}).singleTilde;const s={name:"strikethrough",tokenize:a,resolveAll:r};return n==null&&(n=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function r(o,c){let h=-1;for(;++h<o.length;)if(o[h][0]==="enter"&&o[h][1].type==="strikethroughSequenceTemporary"&&o[h][1]._close){let d=h;for(;d--;)if(o[d][0]==="exit"&&o[d][1].type==="strikethroughSequenceTemporary"&&o[d][1]._open&&o[h][1].end.offset-o[h][1].start.offset===o[d][1].end.offset-o[d][1].start.offset){o[h][1].type="strikethroughSequence",o[d][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},o[d][1].start),end:Object.assign({},o[h][1].end)},m={type:"strikethroughText",start:Object.assign({},o[d][1].end),end:Object.assign({},o[h][1].start)},v=[["enter",g,c],["enter",o[d][1],c],["exit",o[d][1],c],["enter",m,c]],y=c.parser.constructs.insideSpan.null;y&&ur(v,v.length,0,Og(y,o.slice(d+1,h),c)),ur(v,v.length,0,[["exit",m,c],["enter",o[h][1],c],["exit",o[h][1],c],["exit",g,c]]),ur(o,d-1,h-d+3,v),h=d+v.length-2;break}}for(h=-1;++h<o.length;)o[h][1].type==="strikethroughSequenceTemporary"&&(o[h][1].type="data");return o}function a(o,c,h){const d=this.previous,g=this.events;let m=0;return v;function v(x){return d===126&&g[g.length-1][1].type!=="characterEscape"?h(x):(o.enter("strikethroughSequenceTemporary"),y(x))}function y(x){const w=Vc(d);if(x===126)return m>1?h(x):(o.consume(x),m++,y);if(m<2&&!n)return h(x);const S=o.exit("strikethroughSequenceTemporary"),k=Vc(x);return S._open=!k||k===2&&!!w,S._close=!w||w===2&&!!k,c(x)}}}class hq{constructor(){this.map=[]}add(e,n,s){dq(this,e,n,s)}consume(e){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const s=[];for(;n>0;)n-=1,s.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];s.push(e.slice()),e.length=0;let r=s.pop();for(;r;){for(const a of r)e.push(a);r=s.pop()}this.map.length=0}}function dq(t,e,n,s){let r=0;if(!(n===0&&s.length===0)){for(;r<t.map.length;){if(t.map[r][0]===e){t.map[r][1]+=n,t.map[r][2].push(...s);return}r+=1}t.map.push([e,n,s])}}function fq(t,e){let n=!1;const s=[];for(;e<t.length;){const r=t[e];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&s.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const a=s.length-1;s[a]=s[a]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return s}function pq(){return{flow:{null:{name:"table",tokenize:mq,resolveAll:gq}}}}function mq(t,e,n){const s=this;let r=0,a=0,o;return c;function c(z){let J=s.events.length-1;for(;J>-1;){const Q=s.events[J][1].type;if(Q==="lineEnding"||Q==="linePrefix")J--;else break}const F=J>-1?s.events[J][1].type:null,K=F==="tableHead"||F==="tableRow"?j:h;return K===j&&s.parser.lazy[s.now().line]?n(z):K(z)}function h(z){return t.enter("tableHead"),t.enter("tableRow"),d(z)}function d(z){return z===124||(o=!0,a+=1),g(z)}function g(z){return z===null?n(z):Je(z)?a>1?(a=0,s.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),y):n(z):wt(z)?At(t,g,"whitespace")(z):(a+=1,o&&(o=!1,r+=1),z===124?(t.enter("tableCellDivider"),t.consume(z),t.exit("tableCellDivider"),o=!0,g):(t.enter("data"),m(z)))}function m(z){return z===null||z===124||Wt(z)?(t.exit("data"),g(z)):(t.consume(z),z===92?v:m)}function v(z){return z===92||z===124?(t.consume(z),m):m(z)}function y(z){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(z):(t.enter("tableDelimiterRow"),o=!1,wt(z)?At(t,x,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):x(z))}function x(z){return z===45||z===58?S(z):z===124?(o=!0,t.enter("tableCellDivider"),t.consume(z),t.exit("tableCellDivider"),w):D(z)}function w(z){return wt(z)?At(t,S,"whitespace")(z):S(z)}function S(z){return z===58?(a+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(z),t.exit("tableDelimiterMarker"),k):z===45?(a+=1,k(z)):z===null||Je(z)?B(z):D(z)}function k(z){return z===45?(t.enter("tableDelimiterFiller"),C(z)):D(z)}function C(z){return z===45?(t.consume(z),C):z===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(z),t.exit("tableDelimiterMarker"),E):(t.exit("tableDelimiterFiller"),E(z))}function E(z){return wt(z)?At(t,B,"whitespace")(z):B(z)}function B(z){return z===124?x(z):z===null||Je(z)?!o||r!==a?D(z):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(z)):D(z)}function D(z){return n(z)}function j(z){return t.enter("tableRow"),$(z)}function $(z){return z===124?(t.enter("tableCellDivider"),t.consume(z),t.exit("tableCellDivider"),$):z===null||Je(z)?(t.exit("tableRow"),e(z)):wt(z)?At(t,$,"whitespace")(z):(t.enter("data"),H(z))}function H(z){return z===null||z===124||Wt(z)?(t.exit("data"),$(z)):(t.consume(z),z===92?Y:H)}function Y(z){return z===92||z===124?(t.consume(z),H):H(z)}}function gq(t,e){let n=-1,s=!0,r=0,a=[0,0,0,0],o=[0,0,0,0],c=!1,h=0,d,g,m;const v=new hq;for(;++n<t.length;){const y=t[n],x=y[1];y[0]==="enter"?x.type==="tableHead"?(c=!1,h!==0&&(YA(v,e,h,d,g),g=void 0,h=0),d={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},v.add(n,0,[["enter",d,e]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(s=!0,m=void 0,a=[0,0,0,0],o=[0,n+1,0,0],c&&(c=!1,g={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},v.add(n,0,[["enter",g,e]])),r=x.type==="tableDelimiterRow"?2:g?3:1):r&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(s=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],m=mm(v,e,a,r,void 0,m),a=[0,0,0,0]),o[2]=n)):x.type==="tableCellDivider"&&(s?s=!1:(a[1]!==0&&(o[0]=o[1],m=mm(v,e,a,r,void 0,m)),a=o,o=[a[1],n,0,0])):x.type==="tableHead"?(c=!0,h=n):x.type==="tableRow"||x.type==="tableDelimiterRow"?(h=n,a[1]!==0?(o[0]=o[1],m=mm(v,e,a,r,n,m)):o[1]!==0&&(m=mm(v,e,o,r,n,m)),r=0):r&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(o[3]=n)}for(h!==0&&YA(v,e,h,d,g),v.consume(e.events),n=-1;++n<e.events.length;){const y=e.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=fq(e.events,n))}return t}function mm(t,e,n,s,r,a){const o=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(a.end=Object.assign({},Nc(e.events,n[0])),t.add(n[0],0,[["exit",a,e]]));const h=Nc(e.events,n[1]);if(a={type:o,start:Object.assign({},h),end:Object.assign({},h)},t.add(n[1],0,[["enter",a,e]]),n[2]!==0){const d=Nc(e.events,n[2]),g=Nc(e.events,n[3]),m={type:c,start:Object.assign({},d),end:Object.assign({},g)};if(t.add(n[2],0,[["enter",m,e]]),s!==2){const v=e.events[n[2]],y=e.events[n[3]];if(v[1].end=Object.assign({},y[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const x=n[2]+1,w=n[3]-n[2]-1;t.add(x,w,[])}}t.add(n[3]+1,0,[["exit",m,e]])}return r!==void 0&&(a.end=Object.assign({},Nc(e.events,r)),t.add(r,0,[["exit",a,e]]),a=void 0),a}function YA(t,e,n,s,r){const a=[],o=Nc(e.events,n);r&&(r.end=Object.assign({},o),a.push(["exit",r,e])),s.end=Object.assign({},o),a.push(["exit",s,e]),t.add(n+1,0,a)}function Nc(t,e){const n=t[e],s=n[0]==="enter"?"start":"end";return n[1][s]}const yq={name:"tasklistCheck",tokenize:bq};function vq(){return{text:{91:yq}}}function bq(t,e,n){const s=this;return r;function r(h){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?n(h):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(h),t.exit("taskListCheckMarker"),a)}function a(h){return Wt(h)?(t.enter("taskListCheckValueUnchecked"),t.consume(h),t.exit("taskListCheckValueUnchecked"),o):h===88||h===120?(t.enter("taskListCheckValueChecked"),t.consume(h),t.exit("taskListCheckValueChecked"),o):n(h)}function o(h){return h===93?(t.enter("taskListCheckMarker"),t.consume(h),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),c):n(h)}function c(h){return Je(h)?e(h):wt(h)?t.check({tokenize:_q},e,n)(h):n(h)}}function _q(t,e,n){return At(t,s,"whitespace");function s(r){return r===null?n(r):e(r)}}function xq(t){return aR([WF(),nq(),uq(t),pq(),vq()])}const wq={};function Sq(t){const e=this,n=t||wq,s=e.data(),r=s.micromarkExtensions||(s.micromarkExtensions=[]),a=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),o=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);r.push(xq(n)),a.push(UF()),o.push(VF(n))}function kq(t){AR(t,[/\r?\n|\r/g,Cq])}function Cq(){return{type:"break"}}function Nq(){return function(t){kq(t)}}const Aq={pre:({children:t})=>f.jsx(f.Fragment,{children:t}),li:({children:t,...e})=>f.jsx("li",{className:"py-0.5 ml-0",...e,children:t}),ul:({children:t,...e})=>f.jsx("ul",{className:"list-disc list-outside ml-5 pl-0 my-2",...e,children:t}),ol:({children:t,...e})=>f.jsx("ol",{className:"list-decimal list-outside ml-5 pl-0 my-2",...e,children:t}),strong:({children:t,...e})=>f.jsx("span",{className:"font-semibold",...e,children:t}),a:({children:t,href:e,...n})=>{let s=e||"";return s&&!s.startsWith("http")&&!s.startsWith("#")&&(s=`https://${s}`),f.jsx("a",{className:"text-sky-400 hover:underline",href:s,target:"_blank",rel:"noreferrer noopener",...n,children:t})},h1:({children:t,...e})=>f.jsx("h1",{className:"text-xl font-semibold mt-4 mb-2",...e,children:t}),h2:({children:t,...e})=>f.jsx("h2",{className:"text-lg font-semibold mt-4 mb-2",...e,children:t}),h3:({children:t,...e})=>f.jsx("h3",{className:"text-base font-semibold mt-3 mb-1",...e,children:t}),h4:({children:t,...e})=>f.jsx("h4",{className:"text-sm font-semibold mt-3 mb-1",...e,children:t}),h5:({children:t,...e})=>f.jsx("h5",{className:"text-sm font-semibold mt-2 mb-1",...e,children:t}),h6:({children:t,...e})=>f.jsx("h6",{className:"text-xs font-semibold mt-2 mb-1",...e,children:t}),p:({children:t,...e})=>f.jsx("p",{className:"my-2 leading-relaxed",...e,children:t}),table:({children:t,...e})=>f.jsx("div",{className:"overflow-x-auto my-3",children:f.jsx("table",{className:"w-full border-collapse border border-neutral-600 text-xs",...e,children:t})}),thead:({children:t,...e})=>f.jsx("thead",{className:"bg-neutral-700",...e,children:t}),tbody:({children:t,...e})=>f.jsx("tbody",{...e,children:t}),tr:({children:t,...e})=>f.jsx("tr",{className:"border-b border-neutral-600",...e,children:t}),th:({children:t,...e})=>f.jsx("th",{className:"p-2 text-left font-semibold border-r last:border-r-0 border-neutral-600",...e,children:t}),td:({children:t,...e})=>f.jsx("td",{className:"p-2 border-r last:border-r-0 border-neutral-600",...e,children:t}),blockquote:({children:t,...e})=>f.jsx("blockquote",{className:"border-l-4 border-neutral-500 pl-3 py-1 my-2 italic text-neutral-300",...e,children:t}),hr:({...t})=>f.jsx("hr",{className:"my-4 border-neutral-600",...t}),code({children:t,className:e,...n}){const s=/language-(\w+)/.exec(e||""),r=String(t).replace(/\n$/,""),a=r.includes(`
`);if(!s&&!a)return f.jsx("code",{...n,className:`${e||""} bg-neutral-700 px-1.5 py-0.5 rounded text-xs font-mono text-sky-300`,children:t});const o=s?.[1]||"text";return f.jsxs("div",{className:"my-3",children:[f.jsx("div",{className:"flex items-center justify-between bg-neutral-700 px-3 py-1 rounded-t text-xs text-neutral-400",children:f.jsx("span",{children:o})}),f.jsx("pre",{className:"bg-neutral-800 p-3 rounded-b overflow-x-auto",children:f.jsx("code",{className:"text-xs font-mono text-neutral-200",children:r})})]})}},Eq=[Sq,Nq],jq=t=>{const e=He.c(6),{children:n}=t;if(!n)return null;let s=n,r;if(e[0]!==s){s=s.replace(/^(#{1,6}\s+.+)\n```/gm,"$1\n\n```");let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=/```\n(#{1,6}\s+)/gm,e[3]=o):o=e[3],r=s.replace(o,"```\n\n$1"),e[0]=s,e[1]=r,e[2]=s}else r=e[1],s=e[2];s=r;let a;return e[4]!==s?(a=f.jsx(hV,{remarkPlugins:Eq,components:Aq,children:s}),e[4]=s,e[5]=a):a=e[5],a},Tq=W.memo(jq,(t,e)=>t.children===e.children);function Rq({isOpen:t,onClose:e,otherPanelOpen:n=!1,environment:s}){const{context:r}=hr(),[a,o]=W.useState([]),[c,h]=W.useState([]),[d,g]=W.useState(""),[m,v]=W.useState(!1),y=W.useRef(null),x=W.useRef(null);W.useEffect(()=>{y.current?.scrollIntoView({behavior:"smooth"})},[a]),W.useEffect(()=>{t&&x.current?.focus()},[t]);const w=async C=>{if(C.preventDefault(),!d.trim()||m)return;const E={id:Date.now().toString(),role:"user",content:d.trim()},B=(Date.now()+1).toString();o(D=>[...D,E]),g(""),v(!0),o(D=>[...D,{id:B,role:"assistant",content:"",isStreaming:!0}]);try{const{response:D,history:j}=await e$(E.content,c,{environment:{currentContext:r,...s},model:Vd().ai?.model||"",onStream:($,H)=>{o(Y=>Y.map(z=>z.id===B?{...z,content:H}:z))},onToolCall:($,H)=>{console.log("Tool call:",$,H)}});h(j),o($=>$.map(H=>H.id===B?{...H,content:D.content,isStreaming:!1}:H))}catch(D){console.error("Chat error:",D),o(j=>j.map($=>$.id===B?{...$,content:"Sorry, I encountered an error. Please try again.",isStreaming:!1}:$))}finally{v(!1)}},S=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),w(C))},k=()=>{o([]),h([])};return f.jsxs("div",{className:`fixed top-0 right-0 h-screen bg-white border-l border-neutral-200 dark:bg-neutral-900 dark:border-neutral-800 flex flex-col transition-all duration-300 ease-in-out z-30 ${t?"opacity-100 translate-x-0":"opacity-0 translate-x-full pointer-events-none"}`,style:{width:n?"28rem":"40rem"},children:[f.jsxs("div",{className:"shrink-0 h-16 px-4 flex items-center justify-between border-b border-neutral-200 dark:border-neutral-800",children:[f.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"AI Assistant"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:k,className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 rounded-md transition-colors",title:"Clear chat",children:f.jsx(sP,{size:18})}),f.jsx("button",{onClick:e,className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 rounded-md transition-colors",children:f.jsx(fS,{size:18})})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[a.map(C=>f.jsx("div",{className:`text-sm ${C.role==="user"?"bg-neutral-100 dark:bg-neutral-800/50 -mx-4 px-4 py-3 border-l-2 border-sky-500":""}`,children:f.jsx("div",{className:C.role==="user"?"text-neutral-900 dark:text-neutral-100":"text-neutral-800 dark:text-neutral-200",children:C.content?C.role==="assistant"?f.jsx(Tq,{children:C.content}):f.jsx("span",{className:"whitespace-pre-wrap",children:C.content}):C.isStreaming&&f.jsxs("span",{className:"flex items-center gap-2 text-neutral-400",children:[f.jsx(Gl,{size:14,className:"animate-spin"}),"Thinking..."]})})},C.id)),f.jsx("div",{ref:y})]}),f.jsx("form",{onSubmit:w,className:"shrink-0 p-4 border-t border-neutral-200 dark:border-neutral-800",children:f.jsxs("div",{className:"flex items-end gap-2",children:[f.jsx("textarea",{ref:x,value:d,onChange:C=>g(C.target.value),onKeyDown:S,placeholder:"Ask about your resources...",rows:1,disabled:m,className:"flex-1 px-4 py-2.5 bg-neutral-50 border border-neutral-300 dark:bg-neutral-800 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 text-sm placeholder-neutral-500 resize-none focus:outline-none focus:ring-2 focus:ring-sky-600 focus:border-transparent disabled:opacity-50",style:{maxHeight:"120px"}}),f.jsx("button",{type:"submit",disabled:!d.trim()||m,className:"p-2.5 bg-sky-600 hover:bg-sky-500 disabled:bg-neutral-300 dark:disabled:bg-neutral-700 disabled:text-neutral-500 text-white rounded-xl transition-colors",children:m?f.jsx(Gl,{size:18,className:"animate-spin"}):f.jsx(U7,{size:18})})]})})]})}const Ed=new Map,jd=new Map;function Oq(t){t?(Ed.delete(t),jd.delete(t)):(Ed.clear(),jd.clear())}async function n2(t){const e=Ed.get(t);if(e!==void 0)return e;const n=jd.get(t);if(n)return n;const s=(async()=>{try{const a=await gP(t,"pods.metrics.k8s.io")!==void 0;return Ed.set(t,a),a}catch(r){return console.warn("Failed to check metrics availability:",r),Ed.set(t,!1),!1}finally{jd.delete(t)}})();return jd.set(t,s),s}function el(t){if(!t)return 0;if(t.endsWith("n"))return parseInt(t.slice(0,-1),10)||0;if(t.endsWith("m"))return(parseInt(t.slice(0,-1),10)||0)*1e6;const e=parseFloat(t);return isNaN(e)?0:e*1e9}function tl(t){if(!t)return 0;const e=t.match(/^(\d+(?:\.\d+)?)(Ki|Mi|Gi|Ti|K|M|G|T|k|m|g|t)?$/);if(!e){const r=parseInt(t,10);return isNaN(r)?0:r}const n=parseFloat(e[1]),s=e[2];if(!s)return n;switch(s){case"Ki":return n*1024;case"Mi":return n*1024*1024;case"Gi":return n*1024*1024*1024;case"Ti":return n*1024*1024*1024*1024;case"K":case"k":return n*1e3;case"M":case"m":return n*1e3*1e3;case"G":case"g":return n*1e3*1e3*1e3;case"T":case"t":return n*1e3*1e3*1e3*1e3;default:return n}}function Kd(t){if(t>=1e9){const e=t/1e9;return e>=10?`${Math.round(e)}`:`${e.toFixed(1)}`}return`${Math.round(t/1e6)}m`}function Gd(t){return t>=1024*1024*1024?`${(t/(1024*1024*1024)).toFixed(1)}Gi`:t>=1024*1024?`${(t/(1024*1024)).toFixed(0)}Mi`:t>=1024?`${(t/1024).toFixed(0)}Ki`:`${t}B`}function XA(t,e){return e<=0?0:Math.min(100,Math.round(t/e*100))}async function Bq(t,e,n){try{return await n2(t)?await la(`/apis/metrics.k8s.io/v1beta1/namespaces/${n}/pods/${e}`,t):null}catch{return null}}async function s2(t,e,n){try{if(!await n2(t))return[];const s=Object.entries(n).map(([a,o])=>`${a}=${o}`).join(",");return(await la(`/apis/metrics.k8s.io/v1beta1/namespaces/${e}/pods?labelSelector=${encodeURIComponent(s)}`,t)).items||[]}catch{return[]}}async function Mq(t,e){try{return await n2(t)?await la(`/apis/metrics.k8s.io/v1beta1/nodes/${e}`,t):null}catch{return null}}function r2(t){const e=new Map;for(const s of t)for(const r of s.containers){const a=e.get(r.name)||{cpuNanos:0,memoryBytes:0,count:0};a.cpuNanos+=el(r.usage.cpu),a.memoryBytes+=tl(r.usage.memory),a.count++,e.set(r.name,a)}const n=new Map;for(const[s,r]of e)n.set(s,{cpu:{usage:Kd(r.cpuNanos),usageNanoCores:r.cpuNanos},memory:{usage:Gd(r.memoryBytes),usageBytes:r.memoryBytes}});return n}function Y_(t){const e=Math.floor((Date.now()-t.getTime())/1e3);if(e<60)return`${e}s ago`;const n=Math.floor(e/60);if(n<60)return`${n}m ago`;const s=Math.floor(n/60);return s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`}function Eh(t){const e=t.match(/^(\d+)(Ki|Mi|Gi|Ti|K|M|G|T)?$/);if(!e)return t;const n=parseInt(e[1],10),s=e[2];return s?s==="Ki"&&n>=1024*1024?`${(n/(1024*1024)).toFixed(1)}Gi`:s==="Ki"&&n>=1024?`${(n/1024).toFixed(1)}Mi`:s==="Mi"&&n>=1024?`${(n/1024).toFixed(1)}Gi`:t:n>=1024*1024*1024?`${(n/(1024*1024*1024)).toFixed(1)}Gi`:n>=1024*1024?`${(n/(1024*1024)).toFixed(1)}Mi`:n>=1024?`${(n/1024).toFixed(1)}Ki`:`${n}B`}function JR(t){switch(t){case"ReadWriteOnce":return"bg-blue-500/20 text-blue-400 border border-blue-500/30";case"ReadOnlyMany":return"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30";case"ReadWriteMany":return"bg-purple-500/20 text-purple-400 border border-purple-500/30";case"ReadWriteOncePod":return"bg-amber-500/20 text-amber-400 border border-amber-500/30";default:return"bg-gray-700 text-gray-300"}}function QR(t){switch(t){case"ReadWriteOnce":return"RWO";case"ReadOnlyMany":return"ROX";case"ReadWriteMany":return"RWX";case"ReadWriteOncePod":return"RWOP";default:return t}}function Dq(t){const e=t.split(" ");if(e.length!==5)return t;const[n,s,r,a,o]=e;if(t==="* * * * *")return"Every minute";if(t==="0 * * * *")return"Every hour";if(t==="0 0 * * *")return"Every day at midnight";if(t==="0 0 * * 0")return"Every Sunday at midnight";if(t==="0 0 1 * *")return"First day of every month at midnight";const c=[];if(n!=="*"&&c.push(`at minute ${n}`),s!=="*"&&c.push(`at hour ${s}`),r!=="*"&&c.push(`on day ${r}`),a!=="*"&&c.push(`in month ${a}`),o!=="*"){const h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d=parseInt(o);c.push(`on ${isNaN(d)?o:h[d]||o}`)}return c.length>0?c.join(", "):"Custom schedule"}function JA(t){return{name:t.name,image:t.image||"",resources:t.resources?{requests:t.resources.requests,limits:t.resources.limits}:void 0,ports:t.ports?.map(e=>({name:e.name,containerPort:e.containerPort,protocol:e.protocol})),command:t.command,args:t.args,mounts:t.volumeMounts?.map(e=>({name:e.name,mountPath:e.mountPath,readOnly:e.readOnly,subPath:e.subPath}))}}function pu(t,e,n){const s=[];return e&&e.length>0&&s.push({id:"init-containers",title:"Init Containers",data:{type:"containers",items:e.map(JA)}}),t&&t.length>0&&s.push({id:"containers",title:"Containers",data:{type:"containers",items:t.map(JA),metricsLoader:n}}),s}function Lq(t){if(!t||t.length===0)return null;let e=0,n=0,s=0,r=0,a=!1,o=!1,c=!1,h=!1;for(const d of t){const g=d.resources;if(!g)continue;const m=g.requests,v=g.limits;m?.cpu&&(e+=el(m.cpu),a=!0),v?.cpu&&(n+=el(v.cpu),o=!0),m?.memory&&(s+=tl(m.memory),c=!0),v?.memory&&(r+=tl(v.memory),h=!0)}return!a&&!o&&!c&&!h?null:{cpu:{requests:a?Kd(e):void 0,requestsNanoCores:a?e:void 0,limits:o?Kd(n):void 0,limitsNanoCores:o?n:void 0},memory:{requests:c?Gd(s):void 0,requestsBytes:c?s:void 0,limits:h?Gd(r):void 0,limitsBytes:h?r:void 0}}}function xo(t){const e=Lq(t);return e?{id:"resource-quota",data:{type:"resource-quota",data:e}}:null}const Iq={kinds:["Deployment","Deployments"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,a=r?.namespace;if(!n)return{sections:[]};const o=n.replicas??1,c=s?.readyReplicas??0,h=s?.updatedReplicas??0,d=s?.availableReplicas??0,g=async()=>{const y=n.selector?.matchLabels;if(!a||!y||Object.keys(y).length===0)return null;const x=await s2(t,a,y);return x.length===0?null:r2(x)},m=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],v=xo(m);return{sections:[{id:"replicas",title:"Replica Status",data:{type:"gauges",items:[{label:"Ready",current:c,total:o,color:"emerald"},{label:"Updated",current:h,total:o,color:"blue"},{label:"Available",current:d,total:o,color:"cyan"}],showPodGrid:{total:o,ready:c,available:d,icon:"box"}}},{id:"strategy",data:{type:"info-grid",items:[{label:"Strategy",value:n.strategy?.type||"RollingUpdate"},...n.strategy?.rollingUpdate?[{label:"Max Surge",value:String(n.strategy.rollingUpdate.maxSurge??"25%"),color:"text-cyan-400"},{label:"Max Unavailable",value:String(n.strategy.rollingUpdate.maxUnavailable??"25%"),color:"text-amber-400"}]:[]],columns:3}},{id:"replicasets",data:{type:"related-replicasets",title:"ReplicaSets",loader:async()=>{if(!a||!r?.name)return[];try{const y=await bo(t,"replicasets");if(!y)return[];const x=await _g(t,y,a),w=r.name??"",S=r.uid;return x.filter(k=>{const C=k.metadata,E=C.name;if(C.ownerReferences?.some(D=>D.kind==="Deployment"&&D.name===w||D.uid===S))return!0;if(E.startsWith(w+"-")){const D=E.slice(w.length+1);return/^[a-z0-9]{7,10}$/.test(D)}return!1}).map(k=>{const C=k.metadata,E=k.spec,B=k.status,D=C.annotations;return{name:C.name,replicas:B?.replicas??0,readyReplicas:B?.readyReplicas??0,revision:D?.["deployment.kubernetes.io/revision"],images:E?.template?.spec?.containers?.map(j=>j.image)??[],isCurrent:(B?.replicas??0)>0}}).sort((k,C)=>{const E=parseInt(k.revision??"0");return parseInt(C.revision??"0")-E})}catch(y){return console.error("Failed to fetch ReplicaSets:",y),[]}}}},...pu(n.template?.spec?.containers,n.template?.spec?.initContainers,g),...v?[v]:[],...(s?.conditions??[]).length>0?[{id:"conditions",data:{type:"conditions",items:(s?.conditions??[]).map(y=>({type:y.type||"",status:y.status||"",reason:y.reason,message:y.message}))}}]:[]]}}},Pq={kinds:["Pod","Pods"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,a=r?.namespace;if(!n)return{sections:[]};const o=n.containers??[],c=n.initContainers??[],h=s?.containerStatuses??[],d=s?.initContainerStatuses??[],g=h.reduce((x,w)=>x+(w.restartCount??0),0),m=async()=>{const x=r?.name,w=a;if(!x||!w)return null;const S=await Bq(t,x,w);if(!S)return null;const k=new Map;for(const C of S.containers)k.set(C.name,{cpu:{usage:Kd(el(C.usage.cpu)),usageNanoCores:el(C.usage.cpu)},memory:{usage:Gd(tl(C.usage.memory)),usageBytes:tl(C.usage.memory)}});return k},v=[...o,...c],y=xo(v);return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Phase",value:s?.phase||"Unknown",status:$q(s?.phase)},{label:"Pod IP",value:s?.podIP||"Pending"},{label:"Node",value:n.nodeName||"Not scheduled"},{label:"Restarts",value:g,status:g>0?"warning":"success"}]}},...y?[y]:[],...c.length>0?[{id:"init-containers",title:"Init Containers",data:{type:"containers",items:c.map(x=>QA(x,d))}}]:[],{id:"containers",title:"Containers",data:{type:"containers",items:o.map(x=>QA(x,h)),metricsLoader:m}},...n.volumes?.length?[{id:"volumes",title:"Volumes",data:{type:"volumes",items:n.volumes.map(x=>zq(x,[...o,...c]))}}]:[],...(s?.conditions??[]).length>0?[{id:"conditions",data:{type:"conditions",items:(s?.conditions??[]).map(x=>({type:x.type||"",status:x.status||"",reason:x.reason,message:x.message}))}}]:[]]}}};function QA(t,e){const n=e.find(r=>r.name===t.name),s=Hq(n);return{name:t.name,image:t.image||"",state:s.state,stateReason:s.reason,ready:n?.ready,restartCount:n?.restartCount,resources:t.resources?{requests:t.resources.requests,limits:t.resources.limits}:void 0,ports:t.ports?.map(r=>({name:r.name,containerPort:r.containerPort,protocol:r.protocol})),command:t.command,args:t.args,mounts:t.volumeMounts?.map(r=>({name:r.name,mountPath:r.mountPath,readOnly:r.readOnly,subPath:r.subPath}))}}function zq(t,e){const n=Uq(t),s=[];for(const r of e)if(r.volumeMounts)for(const a of r.volumeMounts)a.name===t.name&&s.push({container:r.name,mountPath:a.mountPath,readOnly:a.readOnly??!1,subPath:a.subPath});return{name:t.name,type:n.type,source:n.detail,extra:n.extra,mounts:s}}function $q(t){switch(t?.toLowerCase()){case"running":return"success";case"succeeded":return"success";case"pending":return"warning";case"failed":return"error";default:return"neutral"}}function Hq(t){return t?.state?t.state.running?{state:"running"}:t.state.waiting?{state:"waiting",reason:t.state.waiting.reason}:t.state.terminated?{state:"terminated",reason:t.state.terminated.reason}:{}:{}}function Uq(t){if(t.configMap)return{type:"ConfigMap",detail:t.configMap.name||"",extra:{...t.configMap.optional!==void 0&&{optional:String(t.configMap.optional)},...t.configMap.defaultMode!==void 0&&{defaultMode:String(t.configMap.defaultMode).padStart(4,"0")}}};if(t.secret)return{type:"Secret",detail:t.secret.secretName||"",extra:{...t.secret.optional!==void 0&&{optional:String(t.secret.optional)},...t.secret.defaultMode!==void 0&&{defaultMode:String(t.secret.defaultMode).padStart(4,"0")}}};if(t.emptyDir)return{type:"EmptyDir",detail:t.emptyDir.medium||"default",extra:{...t.emptyDir.sizeLimit&&{sizeLimit:t.emptyDir.sizeLimit}}};if(t.hostPath)return{type:"HostPath",detail:t.hostPath.path,extra:{...t.hostPath.type&&{type:t.hostPath.type}}};if(t.persistentVolumeClaim)return{type:"PVC",detail:t.persistentVolumeClaim.claimName,extra:{...t.persistentVolumeClaim.readOnly&&{readOnly:"true"}}};if(t.projected){const e=t.projected.sources||[],n=e.map(s=>s.configMap?"ConfigMap":s.secret?"Secret":s.serviceAccountToken?"ServiceAccountToken":s.downwardAPI?"DownwardAPI":"Unknown");return{type:"Projected",detail:`${e.length} sources`,extra:{sources:n.join(", "),...t.projected.defaultMode!==void 0&&{defaultMode:String(t.projected.defaultMode).padStart(4,"0")}}}}return t.downwardAPI?{type:"DownwardAPI",detail:`${t.downwardAPI.items?.length||0} items`,extra:{...t.downwardAPI.defaultMode!==void 0&&{defaultMode:String(t.downwardAPI.defaultMode).padStart(4,"0")}}}:t.nfs?{type:"NFS",detail:`${t.nfs.server}:${t.nfs.path}`,extra:{...t.nfs.readOnly&&{readOnly:"true"}}}:t.csi?{type:"CSI",detail:t.csi.driver,extra:{...t.csi.fsType&&{fsType:t.csi.fsType},...t.csi.readOnly&&{readOnly:"true"}}}:{type:"Unknown",detail:""}}const Vq={kinds:["StatefulSet","StatefulSets"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,a=r?.namespace;if(!n)return{sections:[]};const o=n.replicas??1,c=s?.readyReplicas??0,h=s?.currentReplicas??0,d=s?.updatedReplicas??0,g=s?.availableReplicas??0,m=Array.from({length:o},(w,S)=>`${r?.name}-${S}`),v=async()=>{const w=n.selector?.matchLabels;if(!a||!w||Object.keys(w).length===0)return null;const S=await s2(t,a,w);return S.length===0?null:r2(S)},y=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],x=xo(y);return{sections:[{id:"replicas",title:"Replica Status",data:{type:"gauges",items:[{label:"Ready",current:c,total:o,color:"emerald"},{label:"Current",current:h,total:o,color:"blue"},{label:"Updated",current:d,total:o,color:"cyan"}],showPodGrid:{total:o,ready:c,available:g,showOrdinal:!0,icon:"database",podTitles:m}}},{id:"config",data:{type:"info-grid",items:[{label:"Service Name",value:n.serviceName,color:"text-cyan-400"},{label:"Pod Management",value:n.podManagementPolicy||"OrderedReady"},{label:"Update Strategy",value:n.updateStrategy?.type||"RollingUpdate"},...n.updateStrategy?.rollingUpdate?.partition!==void 0?[{label:"Partition",value:n.updateStrategy.rollingUpdate.partition,color:"text-amber-400"}]:[]],columns:2}},...s?.currentRevision?[{id:"revisions",title:"Revisions",data:{type:"info-grid",items:[{label:"Current",value:s.currentRevision,color:"text-cyan-400"},...s.updateRevision&&s.updateRevision!==s.currentRevision?[{label:"Update",value:s.updateRevision,color:"text-amber-400"}]:[]],columns:1}}]:[],...n.volumeClaimTemplates?.length?[{id:"volume-templates",title:"Volume Claim Templates",data:{type:"volume-claim-templates",items:n.volumeClaimTemplates.map(w=>({name:w.metadata?.name||"",size:w.spec?.resources?.requests?.storage,storageClass:w.spec?.storageClassName,accessModes:w.spec?.accessModes}))}}]:[],{id:"pvcs",data:{type:"related-pvcs",title:"Persistent Volume Claims",loader:async()=>{if(!a||!r?.name)return[];try{const w=await bo(t,"persistentvolumeclaims");if(!w)return[];const S=await _g(t,w,a),k=r.name,C=n?.volumeClaimTemplates?.map(E=>E.metadata?.name)??[];return S.filter(E=>{const D=E.metadata.name;return C.some(j=>D.startsWith(`${j}-${k}-`))}).map(E=>{const B=E.metadata,D=E.spec,j=E.status;return{name:B.name,status:j?.phase??"Unknown",capacity:j?.capacity?.storage,storageClass:D?.storageClassName}})}catch(w){return console.error("Failed to fetch PVCs:",w),[]}}}},...pu(n.template?.spec?.containers,n.template?.spec?.initContainers,v),...x?[x]:[],...(s?.conditions??[]).length>0?[{id:"conditions",data:{type:"conditions",items:(s?.conditions??[]).map(w=>({type:w.type||"",status:w.status||"",reason:w.reason,message:w.message}))}}]:[]]}}},Fq={kinds:["DaemonSet","DaemonSets"],adapt(t,e){const n=e.spec,s=e.status,a=e.metadata?.namespace;if(!n)return{sections:[]};const o=s?.desiredNumberScheduled??0,c=s?.currentNumberScheduled??0,h=s?.numberReady??0,d=s?.numberAvailable??0,g=s?.numberMisscheduled??0,m=s?.updatedNumberScheduled??0,v=async()=>{const w=n.selector?.matchLabels;if(!a||!w||Object.keys(w).length===0)return null;const S=await s2(t,a,w);return S.length===0?null:r2(S)},y=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],x=xo(y);return{sections:[{id:"distribution",title:"Node Distribution",data:{type:"gauges",items:[{label:"Scheduled",current:c,total:o,color:"blue"},{label:"Ready",current:h,total:o,color:"emerald"},{label:"Available",current:d,total:o,color:"cyan"}],showPodGrid:{total:o,ready:h,current:c,icon:"server"}}},{id:"status",data:{type:"info-grid",items:[{label:"Update Strategy",value:n.updateStrategy?.type||"RollingUpdate"},{label:"Updated",value:`${m}/${o}`,color:"text-cyan-400"},...g>0?[{label:"Misscheduled",value:`${g} pods on wrong nodes`,color:"text-red-400"}]:[]],columns:2}},...n.updateStrategy?.rollingUpdate?[{id:"rolling-update",title:"Rolling Update Config",data:{type:"info-grid",items:[{label:"Max Unavailable",value:String(n.updateStrategy.rollingUpdate.maxUnavailable??1),color:"text-amber-400"},...n.updateStrategy.rollingUpdate.maxSurge?[{label:"Max Surge",value:String(n.updateStrategy.rollingUpdate.maxSurge),color:"text-cyan-400"}]:[]],columns:2}}]:[],...n.template?.spec?.nodeSelector&&Object.keys(n.template.spec.nodeSelector).length>0?[{id:"node-selector",data:{type:"labels",labels:n.template.spec.nodeSelector,title:"Node Selector"}}]:[],...pu(n.template?.spec?.containers,n.template?.spec?.initContainers,v),...x?[x]:[],...(s?.conditions??[]).length>0?[{id:"conditions",data:{type:"conditions",items:(s?.conditions??[]).map(w=>({type:w.type||"",status:w.status||"",reason:w.reason,message:w.message}))}}]:[]]}}},qq={kinds:["Node","Nodes"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata;if(!s)return{sections:[]};const a=s.nodeInfo,o=s.conditions??[],c=s.addresses??[],h=s.capacity??{},d=s.allocatable??{},g=n?.taints??[],m=r?.labels??{},y=o.find(w=>w.type==="Ready")?.status==="True",x=Object.keys(m).filter(w=>w.startsWith("node-role.kubernetes.io/")).map(w=>w.replace("node-role.kubernetes.io/",""));return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:y?"Ready":"NotReady",status:y?"success":"error",icon:y?f.jsx(Jr,{size:14}):f.jsx(xi,{size:14})},{label:"Role",value:x.length>0?x.join(", "):"worker",icon:f.jsx(Yr,{size:14,className:"text-purple-400"})}]}},{id:"metrics",data:{type:"node-metrics",title:"Resource Usage",loader:async()=>{const w=r?.name;if(!w)return null;const S=await Mq(t,w);if(!S)return null;const k=d.cpu??"0",C=d.memory??"0";return{cpu:{usage:Kd(el(S.usage.cpu)),usageNanoCores:el(S.usage.cpu),allocatable:k,allocatableNanoCores:el(k)},memory:{usage:Gd(tl(S.usage.memory)),usageBytes:tl(S.usage.memory),allocatable:Eh(C),allocatableBytes:tl(C)}}}}},...c.length>0?[{id:"addresses",title:"Addresses",data:{type:"addresses",addresses:c.map(w=>({type:w.type||"",address:w.address||""}))}}]:[],{id:"resources",title:"Resources",data:{type:"capacity-bars",items:[{label:"CPU",icon:f.jsx(mg,{size:14,className:"text-blue-400"}),capacity:h.cpu??"0",allocatable:d.cpu??"0"},{label:"Memory",icon:f.jsx(Us,{size:14,className:"text-purple-400"}),capacity:Eh(h.memory??"0"),allocatable:Eh(d.memory??"0")},{label:"Pods",icon:f.jsx(ul,{size:14,className:"text-emerald-400"}),capacity:h.pods??"0",allocatable:d.pods??"0"},...h["ephemeral-storage"]?[{label:"Storage",icon:f.jsx(Us,{size:14,className:"text-amber-400"}),capacity:Eh(h["ephemeral-storage"]),allocatable:Eh(d["ephemeral-storage"]??"0")}]:[]]}},...a?[{id:"system-info",title:"System Info",data:{type:"info-grid",items:[{label:"OS",value:a.operatingSystem},{label:"Arch",value:a.architecture},{label:"Kernel",value:a.kernelVersion},{label:"OS Image",value:a.osImage},{label:"Container Runtime",value:a.containerRuntimeVersion},{label:"Kubelet",value:a.kubeletVersion},{label:"Kube-Proxy",value:a.kubeProxyVersion}],columns:2}}]:[],...g.length>0?[{id:"taints",title:"Taints",data:{type:"taints",items:g.map(w=>({key:w.key||"",value:w.value,effect:w.effect||""}))}}]:[],...o.length>0?[{id:"conditions",data:{type:"conditions",items:o.map(w=>({type:w.type||"",status:w.status||"",reason:w.reason,message:w.message}))}}]:[]]}}},Wq={kinds:["CronJob","CronJobs"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,a=r?.namespace;if(!n)return{sections:[]};const o=n.suspend??!1,c=n.schedule,h=s?.lastScheduleTime?new Date(s.lastScheduleTime):null,d=s?.lastSuccessfulTime?new Date(s.lastSuccessfulTime):null,g=s?.active?.length??0,m=Dq(c),v=[...n.jobTemplate?.spec?.template?.spec?.containers??[],...n.jobTemplate?.spec?.template?.spec?.initContainers??[]],y=xo(v);return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:o?"Suspended":"Active",status:o?"warning":"success",icon:o?f.jsx(uS,{size:14}):f.jsx(hS,{size:14})},{label:"Active Jobs",value:String(g),status:g>0?"warning":"neutral",icon:f.jsx(aa,{size:14,className:"text-blue-400"})}]}},...y?[y]:[],{id:"schedule",data:{type:"schedule",schedule:c,description:m}},{id:"timing",data:{type:"info-grid",items:[...h?[{label:"Last Scheduled",value:Y_(h),color:"text-purple-400"}]:[],...d?[{label:"Last Successful",value:Y_(d),color:"text-emerald-400"}]:[]],columns:2}},{id:"job-config",title:"Job Configuration",data:{type:"info-grid",items:[{label:"Concurrency Policy",value:n.concurrencyPolicy||"Allow",color:Kq(n.concurrencyPolicy)},...n.startingDeadlineSeconds?[{label:"Starting Deadline",value:`${n.startingDeadlineSeconds}s`}]:[],{label:"Successful History",value:n.successfulJobsHistoryLimit??3},{label:"Failed History",value:n.failedJobsHistoryLimit??1},...n.jobTemplate?.spec?.backoffLimit!==void 0?[{label:"Backoff Limit",value:n.jobTemplate.spec.backoffLimit}]:[],...n.jobTemplate?.spec?.activeDeadlineSeconds?[{label:"Job Deadline",value:`${n.jobTemplate.spec.activeDeadlineSeconds}s`,color:"text-amber-400"}]:[]],columns:2}},{id:"jobs",data:{type:"related-jobs",title:"Recent Jobs",loader:async()=>{if(!a||!r?.name)return[];try{const x=await bo(t,"jobs");if(!x)return[];const w=await _g(t,x,a),S=r.name??"",k=r.uid;return w.filter(C=>{const E=C.metadata,B=E.name;if(E.ownerReferences?.some(j=>j.kind==="CronJob"&&j.name===S||j.uid===k))return!0;if(B.startsWith(S+"-")){const j=B.slice(S.length+1);return/^\d{10}$/.test(j)}return!1}).map(C=>{const E=C.metadata,B=C.status,D=B?.conditions,j=D?.some(H=>H.type==="Complete"&&H.status==="True"),$=D?.some(H=>H.type==="Failed"&&H.status==="True");return{name:E.name,status:j?"Complete":$?"Failed":"Running",startTime:B?.startTime,completionTime:B?.completionTime,succeeded:B?.succeeded,failed:B?.failed}}).sort((C,E)=>{const B=C.startTime?new Date(C.startTime).getTime():0;return(E.startTime?new Date(E.startTime).getTime():0)-B})}catch(x){return console.error("Failed to fetch Jobs:",x),[]}}}},...pu(n.jobTemplate?.spec?.template?.spec?.containers,n.jobTemplate?.spec?.template?.spec?.initContainers)]}}};function Kq(t){switch(t){case"Forbid":return"text-red-400";case"Replace":return"text-amber-400";default:return"text-emerald-400"}}const Gq={kinds:["Job","Jobs"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=n.completions??1,a=n.parallelism??1,o=s?.succeeded??0,c=s?.failed??0,h=s?.active??0,d=n.backoffLimit??6,g=o>=r,m=s?.conditions?.some(k=>k.type==="Failed"&&k.status==="True"),v=g?"Complete":m?"Failed":h>0?"Running":"Pending",y=s?.startTime?new Date(s.startTime):void 0,x=s?.completionTime?new Date(s.completionTime):void 0,w=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],S=xo(w);return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:v,status:g?"success":m?"error":h>0?"warning":"neutral",icon:g?f.jsx(Jr,{size:14}):m?f.jsx(xi,{size:14}):f.jsx(hS,{size:14})},...y?[{label:"Duration",value:Yq(y,x),icon:f.jsx(aa,{size:14,className:"text-blue-400"})}]:[]]}},...S?[S]:[],{id:"progress",title:"Progress",data:{type:"job-progress",completions:r,succeeded:o,failed:c,active:h}},{id:"config",data:{type:"info-grid",items:[{label:"Parallelism",value:a,color:"text-cyan-400"},{label:"Backoff Limit",value:`${d}${c>0?` (${c} failures)`:""}`,color:c>=d?"text-red-400":c>0?"text-amber-400":void 0},...n.activeDeadlineSeconds?[{label:"Deadline",value:`${n.activeDeadlineSeconds}s`,color:"text-amber-400"}]:[],...n.ttlSecondsAfterFinished!==void 0?[{label:"TTL After Finished",value:`${n.ttlSecondsAfterFinished}s`}]:[],...n.completionMode?[{label:"Completion Mode",value:n.completionMode,color:"text-purple-400"}]:[]],columns:2}},...y?[{id:"timeline",title:"Timeline",data:{type:"timeline",startTime:y,completionTime:x}}]:[],...pu(n.template?.spec?.containers,n.template?.spec?.initContainers),...s?.conditions?.length?[{id:"conditions",data:{type:"conditions",items:s.conditions.map(k=>({type:k.type||"",status:k.status||"",reason:k.reason,message:k.message}))}}]:[]]}}};function Yq(t,e){const s=(e??new Date).getTime()-t.getTime(),r=Math.floor(s/1e3),a=Math.floor(r/60),o=Math.floor(a/60),c=Math.floor(o/24);return c>0?`${c}d ${o%24}h`:o>0?`${o}h ${a%60}m`:a>0?`${a}m ${r%60}s`:`${r}s`}const Xq={kinds:["ReplicaSet","ReplicaSets"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata;if(!n)return{sections:[]};const a=n.replicas??1,o=s?.replicas??0,c=s?.readyReplicas??0,h=s?.availableReplicas??0,d=r?.ownerReferences?.[0],g=r?.annotations?.["deployment.kubernetes.io/revision"],m=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],v=xo(m);return{sections:[...d?[{id:"owner",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"text-xs text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(ou,{size:10})," Owned By"]}),f.jsxs("div",{className:"text-sm flex items-center gap-2",children:[f.jsxs("span",{className:"text-neutral-500",children:[d.kind,":"]}),f.jsx("span",{className:"text-cyan-400",children:d.name}),g&&f.jsxs("span",{className:"text-xs bg-neutral-700 px-1.5 py-0.5 rounded text-neutral-400",children:["rev ",g]})]})]})}}]:[],{id:"replicas",title:"Replica Status",data:{type:"gauges",items:[{label:"Ready",current:c,total:a,color:"emerald"},{label:"Current",current:o,total:a,color:"blue"},{label:"Available",current:h,total:a,color:"cyan"}],showPodGrid:{total:Math.max(a,o),ready:c,available:h,current:o,icon:"box"}}},...v?[v]:[],...n.selector?.matchLabels?[{id:"selector",data:{type:"labels",labels:n.selector.matchLabels,title:"Selector"}}]:[],...pu(n.template?.spec?.containers,n.template?.spec?.initContainers),...(s?.conditions??[]).length>0?[{id:"conditions",data:{type:"conditions",items:(s?.conditions??[]).map(y=>({type:y.type||"",status:y.status||"",reason:y.reason,message:y.message}))}}]:[]]}}},Jq={kinds:["PersistentVolume","PersistentVolumes"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=s?.phase??"Unknown",a=n.capacity?.storage??"Unknown";return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Phase",value:r,status:Qq(r)},{label:"Capacity",value:a,icon:f.jsx(Us,{size:14,className:"text-purple-400"})},{label:"Reclaim Policy",value:n.persistentVolumeReclaimPolicy??"Delete",status:n.persistentVolumeReclaimPolicy==="Retain"?"warning":"neutral"},{label:"Volume Mode",value:n.volumeMode??"Filesystem"}]}},...n.accessModes?.length?[{id:"access-modes",title:"Access Modes",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.accessModes.map((o,c)=>f.jsx("span",{className:`text-xs px-2 py-1 rounded ${JR(o)}`,children:QR(o)},c))})}}]:[],...n.storageClassName?[{id:"storage-class",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Storage Class"}),f.jsxs("div",{className:"text-sm text-purple-600 dark:text-purple-400 flex items-center gap-2",children:[f.jsx(hl,{size:14}),n.storageClassName]})]})}}]:[],...n.claimRef?[{id:"claim-ref",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(ou,{size:10})," Bound To"]}),f.jsxs("div",{className:"text-sm",children:[f.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[n.claimRef.namespace,"/"]}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:n.claimRef.name})]})]})}}]:[],{id:"source",title:"Volume Source",data:{type:"custom",render:()=>{const o=Zq(n),c=o.find(d=>d.label==="Type")?.value||"Unknown",h=o.filter(d=>d.label!=="Type");return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3 space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:"Type:"}),f.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-purple-500/20 text-purple-700 dark:text-purple-400",children:c})]}),h.length>0&&f.jsx("div",{className:"space-y-1 pl-1",children:h.map((d,g)=>f.jsxs("div",{className:"text-xs",children:[f.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[d.label,":"]})," ",f.jsx("span",{className:d.color?`${d.color.replace("text-cyan-400","text-cyan-600 dark:text-cyan-400").replace("text-purple-400","text-purple-600 dark:text-purple-400")}`:"text-neutral-900 dark:text-neutral-300",children:d.value})]},g))})]})}}},...n.nodeAffinity?.required?.nodeSelectorTerms?[{id:"node-affinity",title:"Node Affinity",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.nodeAffinity.required.nodeSelectorTerms.map((o,c)=>f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-2",children:o.matchExpressions?.map((h,d)=>f.jsxs("div",{className:"text-xs",children:[f.jsx("span",{className:"text-purple-400",children:h.key}),f.jsx("span",{className:"text-neutral-500 mx-1",children:h.operator}),h.values&&f.jsx("span",{className:"text-cyan-400",children:h.values.join(", ")})]},d))},c))})}}]:[],...n.mountOptions?.length?[{id:"mount-options",title:"Mount Options",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-1",children:n.mountOptions.map((o,c)=>f.jsx("span",{className:"text-xs bg-neutral-200 dark:bg-neutral-800 px-2 py-1 rounded text-neutral-800 dark:text-neutral-300",children:o},c))})}}]:[]]}}};function Qq(t){switch(t){case"Bound":return"success";case"Available":return"success";case"Released":return"warning";case"Failed":return"error";default:return"neutral"}}function Zq(t){if(!t)return[];const e=[];return t.hostPath?(e.push({label:"Type",value:"HostPath"}),e.push({label:"Path",value:t.hostPath.path,color:"text-cyan-400"})):t.nfs?(e.push({label:"Type",value:"NFS"}),e.push({label:"Server",value:t.nfs.server,color:"text-cyan-400"}),e.push({label:"Path",value:t.nfs.path,color:"text-cyan-400"})):t.csi?(e.push({label:"Type",value:"CSI"}),e.push({label:"Driver",value:t.csi.driver,color:"text-purple-400"}),t.csi.volumeHandle&&e.push({label:"Handle",value:t.csi.volumeHandle,color:"text-cyan-400"})):t.local?(e.push({label:"Type",value:"Local"}),e.push({label:"Path",value:t.local.path,color:"text-cyan-400"})):t.awsElasticBlockStore?(e.push({label:"Type",value:"AWS EBS"}),e.push({label:"Volume ID",value:t.awsElasticBlockStore.volumeID,color:"text-cyan-400"})):t.gcePersistentDisk?(e.push({label:"Type",value:"GCE PD"}),e.push({label:"PD Name",value:t.gcePersistentDisk.pdName,color:"text-cyan-400"})):t.azureDisk?(e.push({label:"Type",value:"Azure Disk"}),e.push({label:"Disk Name",value:t.azureDisk.diskName,color:"text-cyan-400"})):e.push({label:"Type",value:"Unknown"}),e}const eW={kinds:["PersistentVolumeClaim","PersistentVolumeClaims"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=s?.phase??"Unknown",a=n.volumeName,o=n.resources?.requests?.storage,c=s?.capacity?.storage,h=[{id:"status",data:{type:"status-cards",items:[{label:"Phase",value:r,status:tW(r)},{label:"Requested",value:o??"Not specified",icon:f.jsx(Us,{size:14,className:"text-purple-400"})},...c?[{label:"Actual Capacity",value:c,status:"success"}]:[],{label:"Volume Mode",value:n.volumeMode??"Filesystem"}]}}];return n.accessModes?.length&&h.push({id:"access-modes",title:"Access Modes",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.accessModes.map((d,g)=>f.jsx("span",{className:`text-xs px-2 py-1 rounded ${JR(d)}`,children:QR(d)},g))})}}),n.storageClassName&&h.push({id:"storage-class",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Storage Class"}),f.jsxs("div",{className:"text-sm text-purple-600 dark:text-purple-400 flex items-center gap-2",children:[f.jsx(hl,{size:14}),n.storageClassName]})]})}}),a?h.push({id:"bound-volume",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(ou,{size:10})," Bound To"]}),f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"text-neutral-700 dark:text-neutral-400",children:"platform/"}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:a})]})]})}}):h.push({id:"no-volume",data:{type:"custom",render:()=>f.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:f.jsxs("div",{className:"text-yellow-400 text-sm flex items-center gap-2",children:[f.jsx(aS,{size:14}),"Not bound to any volume"]})})}}),n.selector?.matchLabels&&Object.keys(n.selector.matchLabels).length>0&&h.push({id:"selector",title:"Volume Selector",data:{type:"labels",labels:n.selector.matchLabels}}),s?.conditions?.length&&h.push({id:"conditions",data:{type:"conditions",items:s.conditions.map(d=>({type:d.type??"",status:d.status??"Unknown",reason:d.reason,message:d.message}))}}),{sections:h}}};function tW(t){switch(t){case"Bound":return"success";case"Pending":return"warning";case"Lost":return"error";default:return"neutral"}}const nW="/apis/argoproj.io/v1alpha1";async function ZR(t,e,n,s){const r=`/contexts/${t}${nW}/namespaces/${n}/applications/${e}`,a=await fetch(r,{method:"PATCH",headers:{"Content-Type":"application/merge-patch+json"},body:JSON.stringify(s)});if(!a.ok){const o=await a.text();throw new Error(`Failed to patch application: ${a.status} ${a.statusText} - ${o}`)}return a}async function ZA(t,e,n="argocd",s={}){const a={operation:{sync:{syncStrategy:s.strategy==="apply"?{apply:{}}:{hook:{}},...s.revision&&{revision:s.revision},...s.prune!==void 0&&{prune:s.prune},...s.dryRun!==void 0&&{dryRun:s.dryRun}}}};await ZR(t,e,n,a)}async function eE(t,e,n="argocd",s=!1){await ZR(t,e,n,{metadata:{annotations:{"argocd.argoproj.io/refresh":s?"hard":"normal"}}})}function sW(t){switch(t){case"Synced":return"success";case"OutOfSync":return"warning";default:return"neutral"}}function rW(t){switch(t){case"Healthy":return"success";case"Progressing":return"warning";case"Degraded":case"Missing":return"error";case"Suspended":return"warning";default:return"neutral"}}function iW(t){switch(t){case"Synced":return f.jsx(Jr,{size:14,className:"text-emerald-400"});case"OutOfSync":return f.jsx(Dn,{size:14,className:"text-amber-400"});default:return f.jsx(vo,{size:14,className:"text-gray-400"})}}function aW(t){switch(t){case"Healthy":return f.jsx(Jr,{size:14,className:"text-emerald-400"});case"Progressing":return f.jsx(Dn,{size:14,className:"text-blue-400 animate-spin"});case"Degraded":return f.jsx(xi,{size:14,className:"text-red-400"});case"Missing":return f.jsx(vo,{size:14,className:"text-red-400"});case"Suspended":return f.jsx(uS,{size:14,className:"text-amber-400"});default:return f.jsx(ff,{size:14,className:"text-gray-400"})}}function lW(t,e=12){switch(t){case"Healthy":return f.jsx(Jr,{size:e,className:"text-emerald-400 shrink-0"});case"Progressing":return f.jsx(Dn,{size:e,className:"text-blue-400 animate-spin shrink-0"});case"Degraded":return f.jsx(xi,{size:e,className:"text-red-400 shrink-0"});case"Missing":return f.jsx(vo,{size:e,className:"text-red-400 shrink-0"});case"Suspended":return f.jsx(uS,{size:e,className:"text-amber-400 shrink-0"});default:return f.jsx(ff,{size:e,className:"text-gray-400 shrink-0"})}}function oW(t){const e={Synced:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",OutOfSync:"bg-amber-500/20 text-amber-400 border-amber-500/30",Unknown:"bg-gray-500/20 text-gray-400 border-gray-500/30"},n=e[t]||e.Unknown;return f.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${n}`,children:t||"Unknown"})}function Mb(t){if(!t)return"Unknown";const e=new Date(t),s=Math.floor((new Date().getTime()-e.getTime())/1e3);return s<60?`${s}s ago`:s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:`${Math.floor(s/86400)}d ago`}function cW(t){if(!t)return"Unknown";const e=t.match(/[:/]([^/:]+\/[^/:]+?)(?:\.git)?$/);return e?e[1]:t}const uW={kinds:["Application","Applications"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=n.source||n.sources?.[0],a=s?.sync?.status||"Unknown",o=s?.health?.status||"Unknown",c=s?.operationState?.phase,h={healthy:0,progressing:0,degraded:0,missing:0,suspended:0,unknown:0};s?.resources?.forEach(g=>{const m=g.health?.status;let v;m?v=m.toLowerCase():v=g.status==="Synced"?"healthy":"unknown",v in h&&h[v]++});const d=s?.resources?.length||0;return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Sync Status",value:a,status:sW(a),icon:iW(a)},{label:"Health",value:o,status:rW(o),icon:aW(o)},...c?[{label:"Operation",value:c,status:c==="Succeeded"?"success":c==="Failed"?"error":"warning",icon:c==="Running"?f.jsx(Dn,{size:14,className:"animate-spin"}):void 0}]:[]]}},...d>0?[{id:"resource-health",title:"Resource Health",data:{type:"gauges",items:[{label:"Healthy",current:h.healthy,total:d,color:"emerald"},{label:"Progressing",current:h.progressing,total:d,color:"blue"},{label:"Degraded",current:h.degraded+h.missing,total:d,color:"amber"}]}}]:[],...s?.resources?.length?[{id:"resources",title:"Managed Resources",data:{type:"custom",render:()=>{const g=new Map;s.resources.forEach(v=>{const y=v.kind||"Unknown";g.has(y)||g.set(y,[]),g.get(y).push(v)});const m=Array.from(g.keys()).sort((v,y)=>{const x=g.get(v),w=g.get(y),S=x.some(C=>C.health?.status!=="Healthy"),k=w.some(C=>C.health?.status!=="Healthy");return S&&!k?-1:!S&&k?1:v.localeCompare(y)});return f.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:m.map(v=>{const y=g.get(v),x=[...y].sort((w,S)=>{const k=w.health?.status==="Healthy",C=S.health?.status==="Healthy";return!k&&C?-1:k&&!C?1:(w.name||"").localeCompare(S.name||"")});return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-2",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[f.jsx(aT,{size:12,className:"text-neutral-500"}),f.jsx("span",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400",children:v}),f.jsxs("span",{className:"text-[10px] text-neutral-500 dark:text-neutral-600",children:["(",y.length,")"]})]}),f.jsx("div",{className:"space-y-1",children:x.map((w,S)=>f.jsxs("div",{className:"flex items-center gap-2 text-xs pl-4",children:[lW(w.health?.status),f.jsx("span",{className:"text-neutral-700 dark:text-neutral-300 truncate flex-1",title:w.name,children:w.name}),w.namespace&&f.jsx("span",{className:"text-neutral-500 dark:text-neutral-600 text-[10px]",children:w.namespace}),oW(w.status),w.requiresPruning&&f.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border bg-red-500/20 text-red-400 border-red-500/30",children:"Prune"})]},`${w.namespace}-${w.name}-${S}`))})]},v)})})}}}]:[],{id:"source",title:"Source",data:{type:"info-grid",items:[{label:"Repository",value:cW(r?.repoURL),color:"text-cyan-400"},{label:"Path",value:r?.path||r?.chart||"/",color:"text-purple-400"},{label:"Target Revision",value:r?.targetRevision||"HEAD",color:"text-blue-400"},...s?.sync?.revision?[{label:"Current Revision",value:s.sync.revision.substring(0,7),color:"text-emerald-400"}]:[]],columns:2}},{id:"destination",title:"Destination",data:{type:"info-grid",items:[{label:"Server",value:n.destination?.name||n.destination?.server||"Unknown"},{label:"Namespace",value:n.destination?.namespace||"default",color:"text-cyan-400"},{label:"Project",value:n.project||"default",color:"text-purple-400"}],columns:2}},...n.syncPolicy?[{id:"sync-policy",title:"Sync Policy",data:{type:"info-grid",items:[...n.syncPolicy.automated?[{label:"Auto Sync",value:"Enabled",color:"text-emerald-400"},{label:"Prune",value:n.syncPolicy.automated.prune?"Yes":"No",color:n.syncPolicy.automated.prune?"text-amber-400":void 0},{label:"Self Heal",value:n.syncPolicy.automated.selfHeal?"Yes":"No",color:n.syncPolicy.automated.selfHeal?"text-emerald-400":void 0}]:[{label:"Auto Sync",value:"Disabled",color:"text-gray-400"}],...n.syncPolicy.retry?.limit?[{label:"Retry Limit",value:n.syncPolicy.retry.limit}]:[]],columns:2}}]:[],...n.syncPolicy?.syncOptions?.length?[{id:"sync-options",data:{type:"labels",labels:Object.fromEntries(n.syncPolicy.syncOptions.map(g=>{const[m,v]=g.split("=");return[m,v||"true"]})),title:"Sync Options"}}]:[],...s?.reconciledAt||s?.operationState?.finishedAt?[{id:"timing",data:{type:"info-grid",items:[...s?.reconciledAt?[{label:"Last Reconciled",value:Mb(s.reconciledAt)}]:[],...s?.operationState?.startedAt?[{label:"Operation Started",value:Mb(s.operationState.startedAt)}]:[],...s?.operationState?.finishedAt?[{label:"Operation Finished",value:Mb(s.operationState.finishedAt)}]:[]],columns:2}}]:[],...s?.health?.message?[{id:"health-message",title:"Health Message",data:{type:"info-grid",items:[{label:"Message",value:s.health.message}],columns:1}}]:[],...s?.operationState?.message?[{id:"operation-message",title:"Operation Message",data:{type:"info-grid",items:[{label:"Message",value:s.operationState.message}],columns:1}}]:[],...s?.summary?.images?.length?[{id:"images",title:"Images",data:{type:"container-images",containers:s.summary.images.map((g,m)=>({name:`image-${m+1}`,image:g}))}}]:[]]}},actions:[{id:"sync",label:"Sync",icon:f.jsx(hS,{size:14}),variant:"primary",confirm:{title:"Sync Application",message:"This will sync the application to match the desired state in Git. Continue?",confirmLabel:"Sync"},execute:async(t,e)=>{const n=e.metadata?.name,s=e.metadata?.namespace||"argocd";if(!n)throw new Error("Application name is required");await ZA(t,n,s)},isDisabled:t=>t.status?.operationState?.phase==="Running"?"Sync already in progress":!1},{id:"sync-prune",label:"Sync (Prune)",icon:f.jsx(MI,{size:14}),variant:"warning",confirm:{title:"Sync with Prune",message:"This will sync the application and DELETE resources that are no longer in Git. This action cannot be undone. Continue?",confirmLabel:"Sync & Prune"},execute:async(t,e)=>{const n=e.metadata?.name,s=e.metadata?.namespace||"argocd";if(!n)throw new Error("Application name is required");await ZA(t,n,s,{prune:!0})},isDisabled:t=>t.status?.operationState?.phase==="Running"?"Sync already in progress":!1},{id:"refresh",label:"Refresh",icon:f.jsx(Dn,{size:14}),variant:"secondary",execute:async(t,e)=>{const n=e.metadata?.name,s=e.metadata?.namespace||"argocd";if(!n)throw new Error("Application name is required");await eE(t,n,s)}},{id:"hard-refresh",label:"Hard Refresh",icon:f.jsx(ZI,{size:14}),variant:"secondary",execute:async(t,e)=>{const n=e.metadata?.name,s=e.metadata?.namespace||"argocd";if(!n)throw new Error("Application name is required");await eE(t,n,s,!0)}}]};function hW(t){return!t||t.length===0?{status:"Unknown",level:"neutral"}:t.find(r=>r.type==="ErrorOccurred"&&r.status==="True")?{status:"Error",level:"error"}:t.find(r=>r.type==="ResourcesUpToDate")?.status==="True"?{status:"Healthy",level:"success"}:t.find(r=>r.type==="ParametersGenerated")?.status==="True"?{status:"Progressing",level:"warning"}:{status:"Unknown",level:"neutral"}}function dW(t){switch(t){case"success":return f.jsx(Jr,{size:14,className:"text-emerald-400"});case"warning":return f.jsx(Dn,{size:14,className:"text-amber-400"});case"error":return f.jsx(xi,{size:14,className:"text-red-400"});default:return f.jsx(ff,{size:14,className:"text-gray-400"})}}function fW(t){if(t.list){const e=t.list.elements?.length||0;return{name:"List",icon:f.jsx(f7,{size:12,className:"text-blue-400"}),details:`${e} element${e!==1?"s":""}`}}if(t.clusters)return{name:"Clusters",icon:f.jsx(Yr,{size:12,className:"text-purple-400"}),details:t.clusters.selector?.matchLabels?Object.entries(t.clusters.selector.matchLabels).map(([e,n])=>`${e}=${n}`).join(", "):"All clusters"};if(t.git){const e=t.git.directories&&t.git.directories.length>0,n=t.git.files&&t.git.files.length>0;return{name:n?"Git Files":"Git Directories",icon:f.jsx(o0,{size:12,className:"text-cyan-400"}),details:e?t.git.directories?.map(s=>s.path).join(", "):n?t.git.files?.map(s=>s.path).join(", "):t.git.revision||"HEAD"}}if(t.matrix){const e=t.matrix.generators?.length||0;return{name:"Matrix",icon:f.jsx(ll,{size:12,className:"text-amber-400"}),details:`${e} generator${e!==1?"s":""}`}}if(t.merge){const e=t.merge.generators?.length||0;return{name:"Merge",icon:f.jsx(ll,{size:12,className:"text-orange-400"}),details:`${e} generator${e!==1?"s":""}`}}return t.scmProvider?{name:`SCM Provider (${t.scmProvider.github?"GitHub":t.scmProvider.gitlab?"GitLab":t.scmProvider.bitbucket?"Bitbucket":t.scmProvider.bitbucketServer?"Bitbucket Server":t.scmProvider.gitea?"Gitea":t.scmProvider.azureDevOps?"Azure DevOps":"Unknown"})`,icon:f.jsx(AI,{size:12,className:"text-green-400"}),details:t.scmProvider.github?.organization||t.scmProvider.gitlab?.group||t.scmProvider.bitbucket?.owner||t.scmProvider.azureDevOps?.organization}:t.pullRequest?{name:`Pull Request (${t.pullRequest.github?"GitHub":t.pullRequest.gitlab?"GitLab":t.pullRequest.bitbucketServer?"Bitbucket Server":"Unknown"})`,icon:f.jsx(o0,{size:12,className:"text-pink-400"}),details:t.pullRequest.github?.repo||t.pullRequest.gitlab?.project||t.pullRequest.bitbucketServer?.repo}:t.clusterDecisionResource?{name:"Cluster Decision Resource",icon:f.jsx(KI,{size:12,className:"text-indigo-400"}),details:t.clusterDecisionResource.configMapRef}:{name:"Unknown",icon:f.jsx(ff,{size:12,className:"text-gray-400"})}}function pW(t){if(!t)return"Unknown";const e=t.match(/[:/]([^/:]+\/[^/:]+?)(?:\.git)?$/);return e?e[1]:t}function mW(t){if(!t)return"Unknown";const e=new Date(t),s=Math.floor((new Date().getTime()-e.getTime())/1e3);return s<60?`${s}s ago`:s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:`${Math.floor(s/86400)}d ago`}const gW={kinds:["ApplicationSet","ApplicationSets"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata;if(!n)return{sections:[]};const a=n.template,o=a?.spec?.source||a?.spec?.sources?.[0],c=hW(s?.conditions),h=s?.applicationStatus?.length||0,d=s?.conditions?.map(g=>({type:g.type||"Unknown",status:g.status||"Unknown",reason:g.reason,message:g.message}))||[];return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:c.status,status:c.level,icon:dW(c.level)},{label:"Applications",value:h,status:h>0?"success":"neutral",icon:f.jsx(aT,{size:14,className:h>0?"text-emerald-400":"text-gray-400"})},{label:"Generators",value:n.generators?.length||0,status:"neutral",icon:f.jsx(ll,{size:14,className:"text-blue-400"})}]}},...n.generators?.length?[{id:"generators",title:"Generators",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.generators.map((g,m)=>{const v=fW(g);return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-2.5 flex items-center gap-3",children:[f.jsx("div",{className:"p-1.5 bg-neutral-200 dark:bg-neutral-700/50 rounded",children:v.icon}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-200",children:v.name}),v.details&&f.jsx("div",{className:"text-[10px] text-neutral-500 truncate",title:v.details,children:v.details})]})]},m)})})}}]:[],...s?.applicationStatus?.length?[{id:"applications",title:"Generated Applications",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto",children:s.applicationStatus.map((g,m)=>{const v=g.status==="Successful"||g.status==="Healthy"?"success":g.status==="Waiting"||g.status==="Progressing"?"warning":g.status==="Error"||g.status==="Failed"?"error":"neutral";return f.jsxs("div",{className:"flex items-center gap-2 text-xs bg-neutral-100 dark:bg-neutral-800/30 rounded px-2 py-1.5",children:[v==="success"&&f.jsx(Jr,{size:12,className:"text-emerald-400 shrink-0"}),v==="warning"&&f.jsx(Dn,{size:12,className:"text-amber-400 shrink-0"}),v==="error"&&f.jsx(xi,{size:12,className:"text-red-400 shrink-0"}),v==="neutral"&&f.jsx(ff,{size:12,className:"text-gray-400 shrink-0"}),f.jsx("span",{className:"text-neutral-700 dark:text-neutral-300 truncate flex-1",title:g.application,children:g.application||"Unknown"}),g.status&&f.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${v==="success"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":v==="warning"?"bg-amber-500/20 text-amber-400 border-amber-500/30":v==="error"?"bg-red-500/20 text-red-400 border-red-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"}`,children:g.status})]},g.application||m)})})}}]:[],...o?[{id:"template-source",title:"Template Source",data:{type:"info-grid",items:[{label:"Repository",value:pW(o.repoURL),color:"text-cyan-400"},{label:"Path",value:o.path||o.chart||"/",color:"text-purple-400"},{label:"Revision",value:o.targetRevision||"HEAD",color:"text-blue-400"}],columns:2}}]:[],...a?.spec?.destination?[{id:"template-destination",title:"Template Destination",data:{type:"info-grid",items:[{label:"Server",value:a.spec.destination.name||a.spec.destination.server||"{{server}}"},{label:"Namespace",value:a.spec.destination.namespace||"{{namespace}}",color:"text-cyan-400"},{label:"Project",value:a.spec.project||"default",color:"text-purple-400"}],columns:2}}]:[],...n.syncPolicy?[{id:"sync-policy",title:"Sync Policy",data:{type:"info-grid",items:[{label:"Preserve Resources on Deletion",value:n.syncPolicy.preserveResourcesOnDeletion?"Yes":"No",color:n.syncPolicy.preserveResourcesOnDeletion?"text-amber-400":void 0},...n.syncPolicy.applicationsSync?[{label:"Applications Sync",value:n.syncPolicy.applicationsSync,color:"text-blue-400"}]:[]],columns:2}}]:[],...n.strategy?[{id:"strategy",title:"Rollout Strategy",data:{type:"info-grid",items:[{label:"Type",value:n.strategy.type||"AllAtOnce",color:n.strategy.type==="RollingSync"?"text-cyan-400":void 0},...n.strategy.rollingSync?.steps?.length?[{label:"Steps",value:n.strategy.rollingSync.steps.length}]:[]],columns:2}}]:[],...n.goTemplate!==void 0?[{id:"template-options",title:"Template Options",data:{type:"info-grid",items:[{label:"Go Template",value:n.goTemplate?"Enabled":"Disabled",color:n.goTemplate?"text-emerald-400":"text-gray-400"},...n.goTemplateOptions?.length?[{label:"Options",value:n.goTemplateOptions.join(", ")}]:[]],columns:2}}]:[],...r?.creationTimestamp?[{id:"timing",data:{type:"info-grid",items:[{label:"Created",value:mW(r.creationTimestamp)}],columns:1}}]:[],...d.length>0?[{id:"conditions",data:{type:"conditions",items:d}}]:[]]}}};function yW(t){const e=t?.find(n=>n.type==="Ready");return e?{ready:e.status==="True",reason:e.reason,message:e.message}:{ready:!1}}function vW(t,e){return t?"success":e==="Issuing"||e==="Pending"?"warning":"error"}function bW(t,e){return t?f.jsx(Jr,{size:14,className:"text-emerald-400"}):e==="Issuing"||e==="Pending"?f.jsx(Dn,{size:14,className:"text-amber-400 animate-spin"}):f.jsx(xi,{size:14,className:"text-red-400"})}function _W(t){if(!t)return"Default (90d)";const e=t.match(/^(\d+)h$/);if(e){const n=parseInt(e[1],10);return n>=8760?`${Math.round(n/8760)}y`:n>=720?`${Math.round(n/720)}mo`:n>=24?`${Math.round(n/24)}d`:`${n}h`}return t}function gm(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function xW(t){if(!t)return{text:"Unknown",status:"neutral"};const e=new Date,s=new Date(t).getTime()-e.getTime(),r=Math.floor(s/(1e3*60*60*24));return s<0?{text:"Expired",status:"error"}:r<7?{text:`${r}d remaining`,status:"error"}:r<30?{text:`${r}d remaining`,status:"warning"}:r>365?{text:`${Math.floor(r/365)}y remaining`,status:"success"}:r>30?{text:`${Math.floor(r/30)}mo remaining`,status:"success"}:{text:`${r}d remaining`,status:"success"}}function wW(t){if(!t)return"RSA 2048";const e=t.algorithm??"RSA",n=t.size??(e==="ECDSA"?256:2048);return`${e} ${n}`}const SW={kinds:["Certificate","Certificates"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const{ready:r,reason:a}=yW(s?.conditions),o=xW(s?.notAfter),c=[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:r?"Ready":a??"Not Ready",status:vW(r,a),icon:bW(r,a)},{label:"Expires",value:o.text,status:o.status,icon:f.jsx(aa,{size:14,className:o.status==="error"?"text-red-400":o.status==="warning"?"text-amber-400":"text-emerald-400"})},{label:"Type",value:n.isCA?"CA Certificate":"TLS Certificate",status:"neutral",icon:f.jsx(cu,{size:14,className:n.isCA?"text-purple-400":"text-blue-400"})},{label:"Revision",value:s?.revision??1,status:"neutral"}]}}];if(c.push({id:"details",title:"Certificate Details",data:{type:"info-grid",columns:2,items:[{label:"Secret Name",value:n.secretName},...n.commonName?[{label:"Common Name",value:n.commonName}]:[],{label:"Duration",value:_W(n.duration)},{label:"Algorithm",value:wW(n.privateKey)},...s?.notBefore?[{label:"Valid From",value:gm(s.notBefore)}]:[],...s?.notAfter?[{label:"Valid Until",value:gm(s.notAfter)}]:[],...s?.renewalTime?[{label:"Renewal Time",value:gm(s.renewalTime)}]:[]]}}),c.push({id:"issuer",title:"Issuer",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(mf,{size:14,className:"text-purple-400"}),f.jsx("span",{className:"text-sm font-medium text-purple-300",children:n.issuerRef.kind??"Issuer"})]}),f.jsx("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:n.issuerRef.name}),n.issuerRef.group&&f.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:n.issuerRef.group})]})}}),n.dnsNames?.length&&c.push({id:"dns-names",title:"DNS Names",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.dnsNames.map((h,d)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-blue-500/20 text-blue-300 border border-blue-500/30",children:h},d))})}}),n.ipAddresses?.length&&c.push({id:"ip-addresses",title:"IP Addresses",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.ipAddresses.map((h,d)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-cyan-500/20 text-cyan-300 border border-cyan-500/30",children:h},d))})}}),n.uris?.length&&c.push({id:"uris",title:"URIs",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-1",children:n.uris.map((h,d)=>f.jsx("div",{className:"text-xs text-neutral-700 dark:text-neutral-300 font-mono",children:h},d))})}}),n.emailAddresses?.length&&c.push({id:"email-addresses",title:"Email Addresses",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.emailAddresses.map((h,d)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-amber-500/20 text-amber-300 border border-amber-500/30",children:h},d))})}}),n.usages?.length&&c.push({id:"usages",title:"Key Usages",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.usages.map((h,d)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300",children:h},d))})}}),n.privateKey&&c.push({id:"private-key",title:"Private Key",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(yg,{size:14,className:"text-neutral-400"}),f.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Configuration"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-500",children:"Algorithm:"}),f.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-300",children:n.privateKey.algorithm??"RSA"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-500",children:"Size:"}),f.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-300",children:n.privateKey.size??2048})]}),n.privateKey.encoding&&f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-500",children:"Encoding:"}),f.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-300",children:n.privateKey.encoding})]}),n.privateKey.rotationPolicy&&f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-500",children:"Rotation:"}),f.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-300",children:n.privateKey.rotationPolicy})]})]})]})}}),n.subject&&Object.keys(n.subject).some(h=>{const d=n.subject[h];return Array.isArray(d)?d.length>0:!!d})){const h=[];n.subject.organizations?.length&&h.push(`O=${n.subject.organizations.join(", ")}`),n.subject.organizationalUnits?.length&&h.push(`OU=${n.subject.organizationalUnits.join(", ")}`),n.subject.countries?.length&&h.push(`C=${n.subject.countries.join(", ")}`),n.subject.localities?.length&&h.push(`L=${n.subject.localities.join(", ")}`),n.subject.provinces?.length&&h.push(`ST=${n.subject.provinces.join(", ")}`),c.push({id:"subject",title:"Subject",data:{type:"custom",render:()=>f.jsx("div",{className:"text-xs text-neutral-700 dark:text-neutral-300 font-mono bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:h.join(", ")})}})}if(n.keystores){const h=[];n.keystores.jks?.create&&h.push("JKS"),n.keystores.pkcs12?.create&&h.push("PKCS#12"),h.length>0&&c.push({id:"keystores",title:"Keystores",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((d,g)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/20 text-green-300 border border-green-500/30",children:d},g))})}})}return s?.failedIssuanceAttempts&&s.failedIssuanceAttempts>0&&c.push({id:"failed-issuance",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[f.jsx(vo,{size:14}),f.jsxs("span",{className:"text-sm font-medium",children:["Failed Issuance Attempts: ",s.failedIssuanceAttempts]})]}),s.lastFailureTime&&f.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:["Last failure: ",gm(s.lastFailureTime)]})]})}}),s?.conditions&&s.conditions.length>0&&c.push({id:"conditions",data:{type:"conditions",items:s.conditions.map(h=>({type:h.type??"",status:h.status??"Unknown",reason:h.reason,message:h.message}))}}),{sections:c}}};var tE={};var nE;function kW(){if(nE)return tE;nE=1;var t;return(function(e){(function(n){var s=typeof globalThis=="object"?globalThis:typeof f5=="object"?f5:typeof self=="object"?self:typeof this=="object"?this:h(),r=a(e);typeof s.Reflect<"u"&&(r=a(s.Reflect,r)),n(r,s),typeof s.Reflect>"u"&&(s.Reflect=e);function a(d,g){return function(m,v){Object.defineProperty(d,m,{configurable:!0,writable:!0,value:v}),g&&g(m,v)}}function o(){try{return Function("return this;")()}catch{}}function c(){try{return(0,eval)("(function() { return this; })()")}catch{}}function h(){return o()||c()}})(function(n,s){var r=Object.prototype.hasOwnProperty,a=typeof Symbol=="function",o=a&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",c=a&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",h=typeof Object.create=="function",d={__proto__:[]}instanceof Array,g=!h&&!d,m={create:h?function(){return En(Object.create(null))}:d?function(){return En({__proto__:null})}:function(){return En({})},has:g?function(re,ae){return r.call(re,ae)}:function(re,ae){return ae in re},get:g?function(re,ae){return r.call(re,ae)?re[ae]:void 0}:function(re,ae){return re[ae]}},v=Object.getPrototypeOf(Function),y=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:We(),x=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:it(),w=typeof WeakMap=="function"?WeakMap:St(),S=a?Symbol.for("@reflect-metadata:registry"):void 0,k=Ot(),C=Wn(k);function E(re,ae,fe,Se){if(A(fe)){if(!Ge(re))throw new TypeError;if(!tt(ae))throw new TypeError;return K(re,ae)}else{if(!Ge(re))throw new TypeError;if(!te(ae))throw new TypeError;if(!te(Se)&&!A(Se)&&!Z(Se))throw new TypeError;return Z(Se)&&(Se=void 0),fe=Ne(fe),Q(re,ae,fe,Se)}}n("decorate",E);function B(re,ae){function fe(Se,Re){if(!te(Se))throw new TypeError;if(!A(Re)&&!mt(Re))throw new TypeError;M(re,ae,Se,Re)}return fe}n("metadata",B);function D(re,ae,fe,Se){if(!te(fe))throw new TypeError;return A(Se)||(Se=Ne(Se)),M(re,ae,fe,Se)}n("defineMetadata",D);function j(re,ae,fe){if(!te(ae))throw new TypeError;return A(fe)||(fe=Ne(fe)),q(re,ae,fe)}n("hasMetadata",j);function $(re,ae,fe){if(!te(ae))throw new TypeError;return A(fe)||(fe=Ne(fe)),L(re,ae,fe)}n("hasOwnMetadata",$);function H(re,ae,fe){if(!te(ae))throw new TypeError;return A(fe)||(fe=Ne(fe)),G(re,ae,fe)}n("getMetadata",H);function Y(re,ae,fe){if(!te(ae))throw new TypeError;return A(fe)||(fe=Ne(fe)),U(re,ae,fe)}n("getOwnMetadata",Y);function z(re,ae){if(!te(re))throw new TypeError;return A(ae)||(ae=Ne(ae)),R(re,ae)}n("getMetadataKeys",z);function J(re,ae){if(!te(re))throw new TypeError;return A(ae)||(ae=Ne(ae)),O(re,ae)}n("getOwnMetadataKeys",J);function F(re,ae,fe){if(!te(ae))throw new TypeError;if(A(fe)||(fe=Ne(fe)),!te(ae))throw new TypeError;A(fe)||(fe=Ne(fe));var Se=_e(ae,fe,!1);return A(Se)?!1:Se.OrdinaryDeleteMetadata(re,ae,fe)}n("deleteMetadata",F);function K(re,ae){for(var fe=re.length-1;fe>=0;--fe){var Se=re[fe],Re=Se(ae);if(!A(Re)&&!Z(Re)){if(!tt(Re))throw new TypeError;ae=Re}}return ae}function Q(re,ae,fe,Se){for(var Re=re.length-1;Re>=0;--Re){var It=re[Re],Bt=It(ae,fe,Se);if(!A(Bt)&&!Z(Bt)){if(!te(Bt))throw new TypeError;Se=Bt}}return Se}function q(re,ae,fe){var Se=L(re,ae,fe);if(Se)return!0;var Re=rt(ae);return Z(Re)?!1:q(re,Re,fe)}function L(re,ae,fe){var Se=_e(ae,fe,!1);return A(Se)?!1:Ce(Se.OrdinaryHasOwnMetadata(re,ae,fe))}function G(re,ae,fe){var Se=L(re,ae,fe);if(Se)return U(re,ae,fe);var Re=rt(ae);if(!Z(Re))return G(re,Re,fe)}function U(re,ae,fe){var Se=_e(ae,fe,!1);if(!A(Se))return Se.OrdinaryGetOwnMetadata(re,ae,fe)}function M(re,ae,fe,Se){var Re=_e(fe,Se,!0);Re.OrdinaryDefineOwnMetadata(re,ae,fe,Se)}function R(re,ae){var fe=O(re,ae),Se=rt(re);if(Se===null)return fe;var Re=R(Se,ae);if(Re.length<=0)return fe;if(fe.length<=0)return Re;for(var It=new x,Bt=[],yt=0,Be=fe;yt<Be.length;yt++){var De=Be[yt],Pe=It.has(De);Pe||(It.add(De),Bt.push(De))}for(var ze=0,dt=Re;ze<dt.length;ze++){var De=dt[ze],Pe=It.has(De);Pe||(It.add(De),Bt.push(De))}return Bt}function O(re,ae){var fe=_e(re,ae,!1);return fe?fe.OrdinaryOwnMetadataKeys(re,ae):[]}function V(re){if(re===null)return 1;switch(typeof re){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return re===null?1:6;default:return 6}}function A(re){return re===void 0}function Z(re){return re===null}function oe(re){return typeof re=="symbol"}function te(re){return typeof re=="object"?re!==null:typeof re=="function"}function de(re,ae){switch(V(re)){case 0:return re;case 1:return re;case 2:return re;case 3:return re;case 4:return re;case 5:return re}var fe="string",Se=Lt(re,o);if(Se!==void 0){var Re=Se.call(re,fe);if(te(Re))throw new TypeError;return Re}return xe(re)}function xe(re,ae){var fe,Se,Re;{var It=re.toString;if(Te(It)){var Se=It.call(re);if(!te(Se))return Se}var fe=re.valueOf;if(Te(fe)){var Se=fe.call(re);if(!te(Se))return Se}}throw new TypeError}function Ce(re){return!!re}function et(re){return""+re}function Ne(re){var ae=de(re);return oe(ae)?ae:et(ae)}function Ge(re){return Array.isArray?Array.isArray(re):re instanceof Object?re instanceof Array:Object.prototype.toString.call(re)==="[object Array]"}function Te(re){return typeof re=="function"}function tt(re){return typeof re=="function"}function mt(re){switch(V(re)){case 3:return!0;case 4:return!0;default:return!1}}function ht(re,ae){return re===ae||re!==re&&ae!==ae}function Lt(re,ae){var fe=re[ae];if(fe!=null){if(!Te(fe))throw new TypeError;return fe}}function vn(re){var ae=Lt(re,c);if(!Te(ae))throw new TypeError;var fe=ae.call(re);if(!te(fe))throw new TypeError;return fe}function os(re){return re.value}function Es(re){var ae=re.next();return ae.done?!1:ae}function Qe(re){var ae=re.return;ae&&ae.call(re)}function rt(re){var ae=Object.getPrototypeOf(re);if(typeof re!="function"||re===v||ae!==v)return ae;var fe=re.prototype,Se=fe&&Object.getPrototypeOf(fe);if(Se==null||Se===Object.prototype)return ae;var Re=Se.constructor;return typeof Re!="function"||Re===re?ae:Re}function Zt(){var re;!A(S)&&typeof s.Reflect<"u"&&!(S in s.Reflect)&&typeof s.Reflect.defineMetadata=="function"&&(re=pe(s.Reflect));var ae,fe,Se,Re=new w,It={registerProvider:Bt,getProvider:Be,setProvider:Pe};return It;function Bt(ze){if(!Object.isExtensible(It))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case re===ze:break;case A(ae):ae=ze;break;case ae===ze:break;case A(fe):fe=ze;break;case fe===ze:break;default:Se===void 0&&(Se=new x),Se.add(ze);break}}function yt(ze,dt){if(!A(ae)){if(ae.isProviderFor(ze,dt))return ae;if(!A(fe)){if(fe.isProviderFor(ze,dt))return ae;if(!A(Se))for(var Mt=vn(Se);;){var sn=Es(Mt);if(!sn)return;var js=os(sn);if(js.isProviderFor(ze,dt))return Qe(Mt),js}}}if(!A(re)&&re.isProviderFor(ze,dt))return re}function Be(ze,dt){var Mt=Re.get(ze),sn;return A(Mt)||(sn=Mt.get(dt)),A(sn)&&(sn=yt(ze,dt),A(sn)||(A(Mt)&&(Mt=new y,Re.set(ze,Mt)),Mt.set(dt,sn))),sn}function De(ze){if(A(ze))throw new TypeError;return ae===ze||fe===ze||!A(Se)&&Se.has(ze)}function Pe(ze,dt,Mt){if(!De(Mt))throw new Error("Metadata provider not registered.");var sn=Be(ze,dt);if(sn!==Mt){if(!A(sn))return!1;var js=Re.get(ze);A(js)&&(js=new y,Re.set(ze,js)),js.set(dt,Mt)}return!0}}function Ot(){var re;return!A(S)&&te(s.Reflect)&&Object.isExtensible(s.Reflect)&&(re=s.Reflect[S]),A(re)&&(re=Zt()),!A(S)&&te(s.Reflect)&&Object.isExtensible(s.Reflect)&&Object.defineProperty(s.Reflect,S,{enumerable:!1,configurable:!1,writable:!1,value:re}),re}function Wn(re){var ae=new w,fe={isProviderFor:function(De,Pe){var ze=ae.get(De);return A(ze)?!1:ze.has(Pe)},OrdinaryDefineOwnMetadata:Bt,OrdinaryHasOwnMetadata:Re,OrdinaryGetOwnMetadata:It,OrdinaryOwnMetadataKeys:yt,OrdinaryDeleteMetadata:Be};return k.registerProvider(fe),fe;function Se(De,Pe,ze){var dt=ae.get(De),Mt=!1;if(A(dt)){if(!ze)return;dt=new y,ae.set(De,dt),Mt=!0}var sn=dt.get(Pe);if(A(sn)){if(!ze)return;if(sn=new y,dt.set(Pe,sn),!re.setProvider(De,Pe,fe))throw dt.delete(Pe),Mt&&ae.delete(De),new Error("Wrong provider for target.")}return sn}function Re(De,Pe,ze){var dt=Se(Pe,ze,!1);return A(dt)?!1:Ce(dt.has(De))}function It(De,Pe,ze){var dt=Se(Pe,ze,!1);if(!A(dt))return dt.get(De)}function Bt(De,Pe,ze,dt){var Mt=Se(ze,dt,!0);Mt.set(De,Pe)}function yt(De,Pe){var ze=[],dt=Se(De,Pe,!1);if(A(dt))return ze;for(var Mt=dt.keys(),sn=vn(Mt),js=0;;){var Ao=Es(sn);if(!Ao)return ze.length=js,ze;var ml=os(Ao);try{ze[js]=ml}catch(Hy){try{Qe(sn)}finally{throw Hy}}js++}}function Be(De,Pe,ze){var dt=Se(Pe,ze,!1);if(A(dt)||!dt.delete(De))return!1;if(dt.size===0){var Mt=ae.get(Pe);A(Mt)||(Mt.delete(ze),Mt.size===0&&ae.delete(Mt))}return!0}}function pe(re){var ae=re.defineMetadata,fe=re.hasOwnMetadata,Se=re.getOwnMetadata,Re=re.getOwnMetadataKeys,It=re.deleteMetadata,Bt=new w,yt={isProviderFor:function(Be,De){var Pe=Bt.get(Be);return!A(Pe)&&Pe.has(De)?!0:Re(Be,De).length?(A(Pe)&&(Pe=new x,Bt.set(Be,Pe)),Pe.add(De),!0):!1},OrdinaryDefineOwnMetadata:ae,OrdinaryHasOwnMetadata:fe,OrdinaryGetOwnMetadata:Se,OrdinaryOwnMetadataKeys:Re,OrdinaryDeleteMetadata:It};return yt}function _e(re,ae,fe){var Se=k.getProvider(re,ae);if(!A(Se))return Se;if(fe){if(k.setProvider(re,ae,C))return C;throw new Error("Illegal state.")}}function We(){var re={},ae=[],fe=(function(){function yt(Be,De,Pe){this._index=0,this._keys=Be,this._values=De,this._selector=Pe}return yt.prototype["@@iterator"]=function(){return this},yt.prototype[c]=function(){return this},yt.prototype.next=function(){var Be=this._index;if(Be>=0&&Be<this._keys.length){var De=this._selector(this._keys[Be],this._values[Be]);return Be+1>=this._keys.length?(this._index=-1,this._keys=ae,this._values=ae):this._index++,{value:De,done:!1}}return{value:void 0,done:!0}},yt.prototype.throw=function(Be){throw this._index>=0&&(this._index=-1,this._keys=ae,this._values=ae),Be},yt.prototype.return=function(Be){return this._index>=0&&(this._index=-1,this._keys=ae,this._values=ae),{value:Be,done:!0}},yt})(),Se=(function(){function yt(){this._keys=[],this._values=[],this._cacheKey=re,this._cacheIndex=-2}return Object.defineProperty(yt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),yt.prototype.has=function(Be){return this._find(Be,!1)>=0},yt.prototype.get=function(Be){var De=this._find(Be,!1);return De>=0?this._values[De]:void 0},yt.prototype.set=function(Be,De){var Pe=this._find(Be,!0);return this._values[Pe]=De,this},yt.prototype.delete=function(Be){var De=this._find(Be,!1);if(De>=0){for(var Pe=this._keys.length,ze=De+1;ze<Pe;ze++)this._keys[ze-1]=this._keys[ze],this._values[ze-1]=this._values[ze];return this._keys.length--,this._values.length--,ht(Be,this._cacheKey)&&(this._cacheKey=re,this._cacheIndex=-2),!0}return!1},yt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=re,this._cacheIndex=-2},yt.prototype.keys=function(){return new fe(this._keys,this._values,Re)},yt.prototype.values=function(){return new fe(this._keys,this._values,It)},yt.prototype.entries=function(){return new fe(this._keys,this._values,Bt)},yt.prototype["@@iterator"]=function(){return this.entries()},yt.prototype[c]=function(){return this.entries()},yt.prototype._find=function(Be,De){if(!ht(this._cacheKey,Be)){this._cacheIndex=-1;for(var Pe=0;Pe<this._keys.length;Pe++)if(ht(this._keys[Pe],Be)){this._cacheIndex=Pe;break}}return this._cacheIndex<0&&De&&(this._cacheIndex=this._keys.length,this._keys.push(Be),this._values.push(void 0)),this._cacheIndex},yt})();return Se;function Re(yt,Be){return yt}function It(yt,Be){return Be}function Bt(yt,Be){return[yt,Be]}}function it(){var re=(function(){function ae(){this._map=new y}return Object.defineProperty(ae.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),ae.prototype.has=function(fe){return this._map.has(fe)},ae.prototype.add=function(fe){return this._map.set(fe,fe),this},ae.prototype.delete=function(fe){return this._map.delete(fe)},ae.prototype.clear=function(){this._map.clear()},ae.prototype.keys=function(){return this._map.keys()},ae.prototype.values=function(){return this._map.keys()},ae.prototype.entries=function(){return this._map.entries()},ae.prototype["@@iterator"]=function(){return this.keys()},ae.prototype[c]=function(){return this.keys()},ae})();return re}function St(){var re=16,ae=m.create(),fe=Se();return(function(){function Be(){this._key=Se()}return Be.prototype.has=function(De){var Pe=Re(De,!1);return Pe!==void 0?m.has(Pe,this._key):!1},Be.prototype.get=function(De){var Pe=Re(De,!1);return Pe!==void 0?m.get(Pe,this._key):void 0},Be.prototype.set=function(De,Pe){var ze=Re(De,!0);return ze[this._key]=Pe,this},Be.prototype.delete=function(De){var Pe=Re(De,!1);return Pe!==void 0?delete Pe[this._key]:!1},Be.prototype.clear=function(){this._key=Se()},Be})();function Se(){var Be;do Be="@@WeakMap@@"+yt();while(m.has(ae,Be));return ae[Be]=!0,Be}function Re(Be,De){if(!r.call(Be,fe)){if(!De)return;Object.defineProperty(Be,fe,{value:m.create()})}return Be[fe]}function It(Be,De){for(var Pe=0;Pe<De;++Pe)Be[Pe]=Math.random()*255|0;return Be}function Bt(Be){if(typeof Uint8Array=="function"){var De=new Uint8Array(Be);return typeof crypto<"u"?crypto.getRandomValues(De):typeof msCrypto<"u"?msCrypto.getRandomValues(De):It(De,Be),De}return It(new Array(Be),Be)}function yt(){var Be=Bt(re);Be[6]=Be[6]&79|64,Be[8]=Be[8]&191|128;for(var De="",Pe=0;Pe<re;++Pe){var ze=Be[Pe];(Pe===4||Pe===6||Pe===8)&&(De+="-"),ze<16&&(De+="0"),De+=ze.toString(16).toLowerCase()}return De}}function En(re){return re.__=void 0,delete re.__,re}})})(t||(t={})),tE}kW();const CW="[object ArrayBuffer]";class Oe{static isArrayBuffer(e){return Object.prototype.toString.call(e)===CW}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,n){if(e.constructor===n)return e;if(this.isArrayBuffer(e))return new n(e);if(this.isArrayBufferView(e))return new n(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,n){const s=Oe.toUint8Array(e),r=Oe.toUint8Array(n);if(s.length!==r.byteLength)return!1;for(let a=0;a<s.length;a++)if(s[a]!==r[a])return!1;return!0}static concat(...e){let n;Array.isArray(e[0])&&!(e[1]instanceof Function)||Array.isArray(e[0])&&e[1]instanceof Function?n=e[0]:e[e.length-1]instanceof Function?n=e.slice(0,e.length-1):n=e;let s=0;for(const o of n)s+=o.byteLength;const r=new Uint8Array(s);let a=0;for(const o of n){const c=this.toUint8Array(o);r.set(c,a),a+=c.length}return e[e.length-1]instanceof Function?this.toView(r,e[e.length-1]):r.buffer}}const Db="string",NW=/^[0-9a-f\s]+$/i,AW=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,EW=/^[a-zA-Z0-9-_]+$/;class sE{static fromString(e){const n=unescape(encodeURIComponent(e)),s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s.buffer}static toString(e){const n=Oe.toUint8Array(e);let s="";for(let a=0;a<n.length;a++)s+=String.fromCharCode(n[a]);return decodeURIComponent(escape(s))}}class ii{static toString(e,n=!1){const s=Oe.toArrayBuffer(e),r=new DataView(s);let a="";for(let o=0;o<s.byteLength;o+=2){const c=r.getUint16(o,n);a+=String.fromCharCode(c)}return a}static fromString(e,n=!1){const s=new ArrayBuffer(e.length*2),r=new DataView(s);for(let a=0;a<e.length;a++)r.setUint16(a*2,e.charCodeAt(a),n);return s}}class Fe{static isHex(e){return typeof e===Db&&NW.test(e)}static isBase64(e){return typeof e===Db&&AW.test(e)}static isBase64Url(e){return typeof e===Db&&EW.test(e)}static ToString(e,n="utf8"){const s=Oe.toUint8Array(e);switch(n.toLowerCase()){case"utf8":return this.ToUtf8String(s);case"binary":return this.ToBinary(s);case"hex":return this.ToHex(s);case"base64":return this.ToBase64(s);case"base64url":return this.ToBase64Url(s);case"utf16le":return ii.toString(s,!0);case"utf16":case"utf16be":return ii.toString(s);default:throw new Error(`Unknown type of encoding '${n}'`)}}static FromString(e,n="utf8"){if(!e)return new ArrayBuffer(0);switch(n.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return ii.fromString(e,!0);case"utf16":case"utf16be":return ii.fromString(e);default:throw new Error(`Unknown type of encoding '${n}'`)}}static ToBase64(e){const n=Oe.toUint8Array(e);if(typeof btoa<"u"){const s=this.ToString(n,"binary");return btoa(s)}else return Buffer.from(n).toString("base64")}static FromBase64(e){const n=this.formatString(e);if(!n)return new ArrayBuffer(0);if(!Fe.isBase64(n))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(n)):new Uint8Array(Buffer.from(n,"base64")).buffer}static FromBase64Url(e){const n=this.formatString(e);if(!n)return new ArrayBuffer(0);if(!Fe.isBase64Url(n))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(n.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,n=Fe.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.FromBinary(e);case"utf8":return sE.fromString(e);case"utf16":case"utf16be":return ii.fromString(e);case"utf16le":case"usc2":return ii.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${n}'`)}}static ToUtf8String(e,n=Fe.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.ToBinary(e);case"utf8":return sE.toString(e);case"utf16":case"utf16be":return ii.toString(e);case"utf16le":case"usc2":return ii.toString(e,!0);default:throw new Error(`Unknown type of encoding '${n}'`)}}static FromBinary(e){const n=e.length,s=new Uint8Array(n);for(let r=0;r<n;r++)s[r]=e.charCodeAt(r);return s.buffer}static ToBinary(e){const n=Oe.toUint8Array(e);let s="";for(let r=0;r<n.length;r++)s+=String.fromCharCode(n[r]);return s}static ToHex(e){const n=Oe.toUint8Array(e);let s="";const r=n.length;for(let a=0;a<r;a++){const o=n[a];o<16&&(s+="0"),s+=o.toString(16)}return s}static FromHex(e){let n=this.formatString(e);if(!n)return new ArrayBuffer(0);if(!Fe.isHex(n))throw new TypeError("Argument 'hexString' is not HEX encoded");n.length%2&&(n=`0${n}`);const s=new Uint8Array(n.length/2);for(let r=0;r<n.length;r=r+2){const a=n.slice(r,r+2);s[r/2]=parseInt(a,16)}return s.buffer}static ToUtf16String(e,n=!1){return ii.toString(e,n)}static FromUtf16String(e,n=!1){return ii.fromString(e,n)}static Base64Padding(e){const n=4-e.length%4;if(n<4)for(let s=0;s<n;s++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}}Fe.DEFAULT_UTF8_ENCODING="utf8";function jW(...t){const e=t.map(r=>r.byteLength).reduce((r,a)=>r+a),n=new Uint8Array(e);let s=0;return t.map(r=>new Uint8Array(r)).forEach(r=>{for(const a of r)n[s++]=a}),n.buffer}function eO(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;const n=new Uint8Array(t),s=new Uint8Array(e);for(let r=0;r<t.byteLength;r++)if(n[r]!==s[r])return!1;return!0}function Fc(t,e){let n=0;if(t.length===1)return t[0];for(let s=t.length-1;s>=0;s--)n+=t[t.length-1-s]*Math.pow(2,e*s);return n}function no(t,e,n=-1){const s=n;let r=t,a=0,o=Math.pow(2,e);for(let c=1;c<8;c++){if(t<o){let h;if(s<0)h=new ArrayBuffer(c),a=c;else{if(s<c)return new ArrayBuffer(0);h=new ArrayBuffer(s),a=s}const d=new Uint8Array(h);for(let g=c-1;g>=0;g--){const m=Math.pow(2,g*e);d[a-g-1]=Math.floor(r/m),r-=d[a-g-1]*m}return h}o*=Math.pow(2,e)}return new ArrayBuffer(0)}function X_(...t){let e=0,n=0;for(const a of t)e+=a.length;const s=new ArrayBuffer(e),r=new Uint8Array(s);for(const a of t)r.set(a,n),n+=a.length;return r}function tO(){const t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const c=t[0]===255&&t[1]&128,h=t[0]===0&&(t[1]&128)===0;(c||h)&&this.warnings.push("Needlessly long format")}const e=new ArrayBuffer(this.valueHex.byteLength),n=new Uint8Array(e);for(let c=0;c<this.valueHex.byteLength;c++)n[c]=0;n[0]=t[0]&128;const s=Fc(n,8),r=new ArrayBuffer(this.valueHex.byteLength),a=new Uint8Array(r);for(let c=0;c<this.valueHex.byteLength;c++)a[c]=t[c];return a[0]&=127,Fc(a,8)-s}function TW(t){const e=t<0?t*-1:t;let n=128;for(let s=1;s<8;s++){if(e<=n){if(t<0){const o=n-e,c=no(o,8,s),h=new Uint8Array(c);return h[0]|=128,c}let r=no(e,8,s),a=new Uint8Array(r);if(a[0]&128){const o=r.slice(0),c=new Uint8Array(o);r=new ArrayBuffer(r.byteLength+1),a=new Uint8Array(r);for(let h=0;h<o.byteLength;h++)a[h+1]=c[h];a[0]=0}return r}n*=Math.pow(2,8)}return new ArrayBuffer(0)}function RW(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new Uint8Array(t),s=new Uint8Array(e);for(let r=0;r<n.length;r++)if(n[r]!==s[r])return!1;return!0}function lr(t,e){const n=t.toString(10);if(e<n.length)return"";const s=e-n.length,r=new Array(s);for(let o=0;o<s;o++)r[o]="0";return r.join("").concat(n)}function C0(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function i2(t){let e=0,n=0;for(let r=0;r<t.length;r++){const a=t[r];e+=a.byteLength}const s=new Uint8Array(e);for(let r=0;r<t.length;r++){const a=t[r];s.set(new Uint8Array(a),n),n+=a.byteLength}return s.buffer}function ca(t,e,n,s){return e instanceof Uint8Array?e.byteLength?n<0?(t.error="Wrong parameter: inputOffset less than zero",!1):s<0?(t.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-n-s<0?(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(t.error="Wrong parameter: inputBuffer has zero length",!1):(t.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class Lg{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return i2(this.items)}}const jh=[new Uint8Array([1])],rE="0123456789",Lb="name",iE="valueHexView",OW="isHexOnly",BW="idBlock",MW="tagClass",DW="tagNumber",LW="isConstructed",IW="fromBER",PW="toBER",zW="local",Hs="",Si=new ArrayBuffer(0),Ig=new Uint8Array(0),Yd="EndOfContent",nO="OCTET STRING",sO="BIT STRING";function ki(t){var e;return e=class extends t{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(s){this.valueHexView=new Uint8Array(s)}constructor(...s){var r;super(...s);const a=s[0]||{};this.isHexOnly=(r=a.isHexOnly)!==null&&r!==void 0?r:!1,this.valueHexView=a.valueHex?Oe.toUint8Array(a.valueHex):Ig}fromBER(s,r,a){const o=s instanceof ArrayBuffer?new Uint8Array(s):s;if(!ca(this,o,r,a))return-1;const c=r+a;return this.valueHexView=o.subarray(r,c),this.valueHexView.length?(this.blockLength=a,c):(this.warnings.push("Zero buffer length"),r)}toBER(s=!1){return this.isHexOnly?s?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",Si)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Fe.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}class wo{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}constructor({blockLength:e=0,error:n=Hs,warnings:s=[],valueBeforeDecode:r=Ig}={}){this.blockLength=e,this.error=n,this.warnings=s,this.valueBeforeDecodeView=Oe.toUint8Array(r)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Fe.ToHex(this.valueBeforeDecodeView)}}}wo.NAME="baseBlock";class Cs extends wo{fromBER(e,n,s){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}Cs.NAME="valueBlock";class rO extends ki(wo){constructor({idBlock:e={}}={}){var n,s,r,a;super(),e?(this.isHexOnly=(n=e.isHexOnly)!==null&&n!==void 0?n:!1,this.valueHexView=e.valueHex?Oe.toUint8Array(e.valueHex):Ig,this.tagClass=(s=e.tagClass)!==null&&s!==void 0?s:-1,this.tagNumber=(r=e.tagNumber)!==null&&r!==void 0?r:-1,this.isConstructed=(a=e.isConstructed)!==null&&a!==void 0?a:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let n=0;switch(this.tagClass){case 1:n|=0;break;case 2:n|=64;break;case 3:n|=128;break;case 4:n|=192;break;default:return this.error="Unknown tag class",Si}if(this.isConstructed&&(n|=32),this.tagNumber<31&&!this.isHexOnly){const r=new Uint8Array(1);if(!e){let a=this.tagNumber;a&=31,n|=a,r[0]=n}return r.buffer}if(!this.isHexOnly){const r=no(this.tagNumber,7),a=new Uint8Array(r),o=r.byteLength,c=new Uint8Array(o+1);if(c[0]=n|31,!e){for(let h=0;h<o-1;h++)c[h+1]=a[h]|128;c[o]=a[o-1]}return c.buffer}const s=new Uint8Array(this.valueHexView.byteLength+1);if(s[0]=n|31,!e){const r=this.valueHexView;for(let a=0;a<r.length-1;a++)s[a+1]=r[a]|128;s[this.valueHexView.byteLength]=r[r.length-1]}return s.buffer}fromBER(e,n,s){const r=Oe.toUint8Array(e);if(!ca(this,r,n,s))return-1;const a=r.subarray(n,n+s);if(a.length===0)return this.error="Zero buffer length",-1;switch(a[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(a[0]&32)===32,this.isHexOnly=!1;const c=a[0]&31;if(c!==31)this.tagNumber=c,this.blockLength=1;else{let h=1,d=this.valueHexView=new Uint8Array(255),g=255;for(;a[h]&128;){if(d[h-1]=a[h]&127,h++,h>=a.length)return this.error="End of input reached before message was fully decoded",-1;if(h===g){g+=255;const v=new Uint8Array(g);for(let y=0;y<d.length;y++)v[y]=d[y];d=this.valueHexView=new Uint8Array(g)}}this.blockLength=h+1,d[h-1]=a[h]&127;const m=new Uint8Array(h);for(let v=0;v<h;v++)m[v]=d[v];d=this.valueHexView=new Uint8Array(h),d.set(m),this.blockLength<=9?this.tagNumber=Fc(d,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return n+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}rO.NAME="identificationBlock";class iO extends wo{constructor({lenBlock:e={}}={}){var n,s,r;super(),this.isIndefiniteForm=(n=e.isIndefiniteForm)!==null&&n!==void 0?n:!1,this.longFormUsed=(s=e.longFormUsed)!==null&&s!==void 0?s:!1,this.length=(r=e.length)!==null&&r!==void 0?r:0}fromBER(e,n,s){const r=Oe.toUint8Array(e);if(!ca(this,r,n,s))return-1;const a=r.subarray(n,n+s);if(a.length===0)return this.error="Zero buffer length",-1;if(a[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=a[0]===128,this.isIndefiniteForm)return this.blockLength=1,n+this.blockLength;if(this.longFormUsed=!!(a[0]&128),this.longFormUsed===!1)return this.length=a[0],this.blockLength=1,n+this.blockLength;const o=a[0]&127;if(o>8)return this.error="Too big integer",-1;if(o+1>a.length)return this.error="End of input reached before message was fully decoded",-1;const c=n+1,h=r.subarray(c,c+o);return h[o-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=Fc(h,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=o+1,n+this.blockLength}toBER(e=!1){let n,s;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return n=new ArrayBuffer(1),e===!1&&(s=new Uint8Array(n),s[0]=128),n;if(this.longFormUsed){const r=no(this.length,8);if(r.byteLength>127)return this.error="Too big length",Si;if(n=new ArrayBuffer(r.byteLength+1),e)return n;const a=new Uint8Array(r);s=new Uint8Array(n),s[0]=r.byteLength|128;for(let o=0;o<r.byteLength;o++)s[o+1]=a[o];return n}return n=new ArrayBuffer(1),e===!1&&(s=new Uint8Array(n),s[0]=this.length),n}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}iO.NAME="lengthBlock";const $e={};class as extends wo{constructor({name:e=Hs,optional:n=!1,primitiveSchema:s,...r}={},a){super(r),this.name=e,this.optional=n,s&&(this.primitiveSchema=s),this.idBlock=new rO(r),this.lenBlock=new iO(r),this.valueBlock=a?new a(r):new Cs(r)}fromBER(e,n,s){const r=this.valueBlock.fromBER(e,n,this.lenBlock.isIndefiniteForm?s:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}toBER(e,n){const s=n||new Lg;n||aO(this);const r=this.idBlock.toBER(e);if(s.write(r),this.lenBlock.isIndefiniteForm)s.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,s),s.write(new ArrayBuffer(2));else{const a=this.valueBlock.toBER(e);this.lenBlock.length=a.byteLength;const o=this.lenBlock.toBER(e);s.write(o),s.write(a)}return n?Si:s.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():Fe.ToHex(this.toBER())}onAsciiEncoding(){const e=this.constructor.NAME,n=Fe.ToHex(this.valueBlock.valueBeforeDecodeView);return`${e} : ${n}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;const n=this.toBER(),s=e.toBER();return RW(n,s)}}as.NAME="BaseBlock";function aO(t){var e;if(t instanceof $e.Constructed)for(const n of t.valueBlock.value)aO(n)&&(t.lenBlock.isIndefiniteForm=!0);return!!(!((e=t.lenBlock)===null||e===void 0)&&e.isIndefiniteForm)}class a2 extends as{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor({value:e=Hs,...n}={},s){super(n,s),e&&this.fromString(e)}fromBER(e,n,s){const r=this.valueBlock.fromBER(e,n,this.lenBlock.isIndefiniteForm?s:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}a2.NAME="BaseStringBlock";class lO extends ki(Cs){constructor({isHexOnly:e=!0,...n}={}){super(n),this.isHexOnly=e}}lO.NAME="PrimitiveValueBlock";var oO;class wf extends as{constructor(e={}){super(e,lO),this.idBlock.isConstructed=!1}}oO=wf;$e.Primitive=oO;wf.NAME="PRIMITIVE";function $W(t,e){if(t instanceof e)return t;const n=new e;return n.idBlock=t.idBlock,n.lenBlock=t.lenBlock,n.warnings=t.warnings,n.valueBeforeDecodeView=t.valueBeforeDecodeView,n}function mu(t,e=0,n=t.length){const s=e;let r=new as({},Cs);const a=new wo;if(!ca(a,t,e,n))return r.error=a.error,{offset:-1,result:r};if(!t.subarray(e,e+n).length)return r.error="Zero buffer length",{offset:-1,result:r};let c=r.idBlock.fromBER(t,e,n);if(r.idBlock.warnings.length&&r.warnings.concat(r.idBlock.warnings),c===-1)return r.error=r.idBlock.error,{offset:-1,result:r};if(e=c,n-=r.idBlock.blockLength,c=r.lenBlock.fromBER(t,e,n),r.lenBlock.warnings.length&&r.warnings.concat(r.lenBlock.warnings),c===-1)return r.error=r.lenBlock.error,{offset:-1,result:r};if(e=c,n-=r.lenBlock.blockLength,!r.idBlock.isConstructed&&r.lenBlock.isIndefiniteForm)return r.error="Indefinite length form used for primitive encoding form",{offset:-1,result:r};let h=as;switch(r.idBlock.tagClass){case 1:if(r.idBlock.tagNumber>=37&&r.idBlock.isHexOnly===!1)return r.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:r};switch(r.idBlock.tagNumber){case 0:if(r.idBlock.isConstructed&&r.lenBlock.length>0)return r.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:r};h=$e.EndOfContent;break;case 1:h=$e.Boolean;break;case 2:h=$e.Integer;break;case 3:h=$e.BitString;break;case 4:h=$e.OctetString;break;case 5:h=$e.Null;break;case 6:h=$e.ObjectIdentifier;break;case 10:h=$e.Enumerated;break;case 12:h=$e.Utf8String;break;case 13:h=$e.RelativeObjectIdentifier;break;case 14:h=$e.TIME;break;case 15:return r.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:r};case 16:h=$e.Sequence;break;case 17:h=$e.Set;break;case 18:h=$e.NumericString;break;case 19:h=$e.PrintableString;break;case 20:h=$e.TeletexString;break;case 21:h=$e.VideotexString;break;case 22:h=$e.IA5String;break;case 23:h=$e.UTCTime;break;case 24:h=$e.GeneralizedTime;break;case 25:h=$e.GraphicString;break;case 26:h=$e.VisibleString;break;case 27:h=$e.GeneralString;break;case 28:h=$e.UniversalString;break;case 29:h=$e.CharacterString;break;case 30:h=$e.BmpString;break;case 31:h=$e.DATE;break;case 32:h=$e.TimeOfDay;break;case 33:h=$e.DateTime;break;case 34:h=$e.Duration;break;default:{const d=r.idBlock.isConstructed?new $e.Constructed:new $e.Primitive;d.idBlock=r.idBlock,d.lenBlock=r.lenBlock,d.warnings=r.warnings,r=d}}break;default:h=r.idBlock.isConstructed?$e.Constructed:$e.Primitive}return r=$W(r,h),c=r.fromBER(t,e,r.lenBlock.isIndefiniteForm?n:r.lenBlock.length),r.valueBeforeDecodeView=t.subarray(s,s+r.blockLength),{offset:c,result:r}}function zc(t){if(!t.byteLength){const e=new as({},Cs);return e.error="Input buffer has zero length",{offset:-1,result:e}}return mu(Oe.toUint8Array(t).slice(),0,t.byteLength)}function HW(t,e){return t?1:e}class nl extends Cs{constructor({value:e=[],isIndefiniteForm:n=!1,...s}={}){super(s),this.value=e,this.isIndefiniteForm=n}fromBER(e,n,s){const r=Oe.toUint8Array(e);if(!ca(this,r,n,s))return-1;if(this.valueBeforeDecodeView=r.subarray(n,n+s),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),n;let a=n;for(;HW(this.isIndefiniteForm,s)>0;){const o=mu(r,a,s);if(o.offset===-1)return this.error=o.result.error,this.warnings.concat(o.result.warnings),-1;if(a=o.offset,this.blockLength+=o.result.blockLength,s-=o.result.blockLength,this.value.push(o.result),this.isIndefiniteForm&&o.result.constructor.NAME===Yd)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Yd?this.value.pop():this.warnings.push("No EndOfContent block encoded")),a}toBER(e,n){const s=n||new Lg;for(let r=0;r<this.value.length;r++)this.value[r].toBER(e,s);return n?Si:s.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const n of this.value)e.value.push(n.toJSON());return e}}nl.NAME="ConstructedValueBlock";var cO;class ws extends as{constructor(e={}){super(e,nl),this.idBlock.isConstructed=!0}fromBER(e,n,s){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const r=this.valueBlock.fromBER(e,n,this.lenBlock.isIndefiniteForm?s:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}onAsciiEncoding(){const e=[];for(const s of this.valueBlock.value)e.push(s.toString("ascii").split(`
`).map(r=>`  ${r}`).join(`
`));const n=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${n} :
${e.join(`
`)}`:`${n} :`}}cO=ws;$e.Constructed=cO;ws.NAME="CONSTRUCTED";class uO extends Cs{fromBER(e,n,s){return n}toBER(e){return Si}}uO.override="EndOfContentValueBlock";var hO;class l2 extends as{constructor(e={}){super(e,uO),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}hO=l2;$e.EndOfContent=hO;l2.NAME=Yd;var dO;class so extends as{constructor(e={}){super(e,Cs),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,n,s){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=s,n+s>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):n+s}toBER(e,n){const s=new ArrayBuffer(2);if(!e){const r=new Uint8Array(s);r[0]=5,r[1]=0}return n&&n.write(s),s}onAsciiEncoding(){return`${this.constructor.NAME}`}}dO=so;$e.Null=dO;so.NAME="NULL";class fO extends ki(Cs){get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}constructor({value:e,...n}={}){super(n),n.valueHex?this.valueHexView=Oe.toUint8Array(n.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}fromBER(e,n,s){const r=Oe.toUint8Array(e);return ca(this,r,n,s)?(this.valueHexView=r.subarray(n,n+s),s>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,tO.call(this),this.blockLength=s,n+s):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}fO.NAME="BooleanValueBlock";var pO;let Pg=class extends as{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor(e={}){super(e,fO),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};pO=Pg;$e.Boolean=pO;Pg.NAME="BOOLEAN";class mO extends ki(nl){constructor({isConstructed:e=!1,...n}={}){super(n),this.isConstructed=e}fromBER(e,n,s){let r=0;if(this.isConstructed){if(this.isHexOnly=!1,r=nl.prototype.fromBER.call(this,e,n,s),r===-1)return r;for(let a=0;a<this.value.length;a++){const o=this.value[a].constructor.NAME;if(o===Yd){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(o!==nO)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,r=super.fromBER(e,n,s),this.blockLength=s;return r}toBER(e,n){return this.isConstructed?nl.prototype.toBER.call(this,e,n):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}mO.NAME="OctetStringValueBlock";var o2;let Xl=class extends as{constructor({idBlock:e={},lenBlock:n={},...s}={}){var r,a;(r=s.isConstructed)!==null&&r!==void 0||(s.isConstructed=!!(!((a=s.value)===null||a===void 0)&&a.length)),super({idBlock:{isConstructed:s.isConstructed,...e},lenBlock:{...n,isIndefiniteForm:!!s.isIndefiniteForm},...s},mO),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,n,s){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,s===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),n;if(!this.valueBlock.isConstructed){const a=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(n,n+s);try{if(a.byteLength){const o=mu(a,0,a.byteLength);o.offset!==-1&&o.offset===s&&(this.valueBlock.value=[o.result])}}catch{}}return super.fromBER(e,n,s)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return ws.prototype.onAsciiEncoding.call(this);const e=this.constructor.NAME,n=Fe.ToHex(this.valueBlock.valueHexView);return`${e} : ${n}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const n of this.valueBlock.value)n instanceof o2&&e.push(n.valueBlock.valueHexView);return Oe.concat(e)}};o2=Xl;$e.OctetString=o2;Xl.NAME=nO;class gO extends ki(nl){constructor({unusedBits:e=0,isConstructed:n=!1,...s}={}){super(s),this.unusedBits=e,this.isConstructed=n,this.blockLength=this.valueHexView.byteLength}fromBER(e,n,s){if(!s)return n;let r=-1;if(this.isConstructed){if(r=nl.prototype.fromBER.call(this,e,n,s),r===-1)return r;for(const c of this.value){const h=c.constructor.NAME;if(h===Yd){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(h!==sO)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const d=c.valueBlock;if(this.unusedBits>0&&d.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=d.unusedBits}return r}const a=Oe.toUint8Array(e);if(!ca(this,a,n,s))return-1;const o=a.subarray(n,n+s);if(this.unusedBits=o[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const c=o.subarray(1);try{if(c.byteLength){const h=mu(c,0,c.byteLength);h.offset!==-1&&h.offset===s-1&&(this.value=[h.result])}}catch{}}return this.valueHexView=o.subarray(1),this.blockLength=o.length,n+s}toBER(e,n){if(this.isConstructed)return nl.prototype.toBER.call(this,e,n);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength){const r=new Uint8Array(1);return r[0]=0,r.buffer}const s=new Uint8Array(this.valueHexView.length+1);return s[0]=this.unusedBits,s.set(this.valueHexView,1),s.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}gO.NAME="BitStringValueBlock";var yO;let Jl=class extends as{constructor({idBlock:e={},lenBlock:n={},...s}={}){var r,a;(r=s.isConstructed)!==null&&r!==void 0||(s.isConstructed=!!(!((a=s.value)===null||a===void 0)&&a.length)),super({idBlock:{isConstructed:s.isConstructed,...e},lenBlock:{...n,isIndefiniteForm:!!s.isIndefiniteForm},...s},gO),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,n,s){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,n,s)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return ws.prototype.onAsciiEncoding.call(this);{const e=[],n=this.valueBlock.valueHexView;for(const o of n)e.push(o.toString(2).padStart(8,"0"));const s=e.join(""),r=this.constructor.NAME,a=s.substring(0,s.length-this.valueBlock.unusedBits);return`${r} : ${a}`}}};yO=Jl;$e.BitString=yO;Jl.NAME=sO;var vO;function UW(t,e){const n=new Uint8Array([0]),s=new Uint8Array(t),r=new Uint8Array(e);let a=s.slice(0);const o=a.length-1,c=r.slice(0),h=c.length-1;let d=0;const g=h<o?o:h;let m=0;for(let v=g;v>=0;v--,m++)!0===m<c.length?d=a[o-m]+c[h-m]+n[0]:d=a[o-m]+n[0],n[0]=d/10,!0===m>=a.length?a=X_(new Uint8Array([d%10]),a):a[o-m]=d%10;return n[0]>0&&(a=X_(n,a)),a}function aE(t){if(t>=jh.length)for(let e=jh.length;e<=t;e++){const n=new Uint8Array([0]);let s=jh[e-1].slice(0);for(let r=s.length-1;r>=0;r--){const a=new Uint8Array([(s[r]<<1)+n[0]]);n[0]=a[0]/10,s[r]=a[0]%10}n[0]>0&&(s=X_(n,s)),jh.push(s)}return jh[t]}function VW(t,e){let n=0;const s=new Uint8Array(t),r=new Uint8Array(e),a=s.slice(0),o=a.length-1,c=r.slice(0),h=c.length-1;let d,g=0;for(let m=h;m>=0;m--,g++)d=a[o-g]-c[h-g]-n,!0===d<0?(n=1,a[o-g]=d+10):(n=0,a[o-g]=d);if(n>0)for(let m=o-h+1;m>=0;m--,g++)if(d=a[o-g]-n,d<0)n=1,a[o-g]=d+10;else{n=0,a[o-g]=d;break}return a.slice()}class c2 extends ki(Cs){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=tO.call(this)))}constructor({value:e,...n}={}){super(n),this._valueDec=0,n.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(TW(e))}get valueDec(){return this._valueDec}fromDER(e,n,s,r=0){const a=this.fromBER(e,n,s);if(a===-1)return a;const o=this.valueHexView;return o[0]===0&&(o[1]&128)!==0?this.valueHexView=o.subarray(1):r!==0&&o.length<r&&(r-o.length>1&&(r=o.length+1),this.valueHexView=o.subarray(r-o.length)),a}toDER(e=!1){const n=this.valueHexView;switch(!0){case(n[0]&128)!==0:{const s=new Uint8Array(this.valueHexView.length+1);s[0]=0,s.set(n,1),this.valueHexView=s}break;case(n[0]===0&&(n[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,n,s){const r=super.fromBER(e,n,s);return r===-1||this.setValueHex(),r}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=this.valueHexView.length*8-1;let n=new Uint8Array(this.valueHexView.length*8/3),s=0,r;const a=this.valueHexView;let o="",c=!1;for(let h=a.byteLength-1;h>=0;h--){r=a[h];for(let d=0;d<8;d++)(r&1)===1&&(s===e?(n=VW(aE(s),n),o="-"):n=UW(n,aE(s))),s++,r>>=1}for(let h=0;h<n.length;h++)n[h]&&(c=!0),c&&(o+=rE.charAt(n[h]));return c===!1&&(o+=rE.charAt(0)),o}}vO=c2;c2.NAME="IntegerValueBlock";Object.defineProperty(vO.prototype,"valueHex",{set:function(t){this.valueHexView=new Uint8Array(t),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var Td;class gu extends as{constructor(e={}){super(e,c2),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return C0(),BigInt(this.valueBlock.toString())}static fromBigInt(e){C0();const n=BigInt(e),s=new Lg,r=n.toString(16).replace(/^-/,""),a=new Uint8Array(Fe.FromHex(r));if(n<0){const c=new Uint8Array(a.length+(a[0]&128?1:0));c[0]|=128;const d=BigInt(`0x${Fe.ToHex(c)}`)+n,g=Oe.toUint8Array(Fe.FromHex(d.toString(16)));g[0]|=128,s.write(g)}else a[0]&128&&s.write(new Uint8Array([0])),s.write(a);return new Td({valueHex:s.final()})}convertToDER(){const e=new Td({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new Td({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Td=gu;$e.Integer=Td;gu.NAME="INTEGER";var bO;class zg extends gu{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}bO=zg;$e.Enumerated=bO;zg.NAME="ENUMERATED";class J_ extends ki(Cs){constructor({valueDec:e=-1,isFirstSid:n=!1,...s}={}){super(s),this.valueDec=e,this.isFirstSid=n}fromBER(e,n,s){if(!s)return n;const r=Oe.toUint8Array(e);if(!ca(this,r,n,s))return-1;const a=r.subarray(n,n+s);this.valueHexView=new Uint8Array(s);for(let c=0;c<s&&(this.valueHexView[c]=a[c]&127,this.blockLength++,(a[c]&128)!==0);c++);const o=new Uint8Array(this.blockLength);for(let c=0;c<this.blockLength;c++)o[c]=this.valueHexView[c];return this.valueHexView=o,(a[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Fc(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}set valueBigInt(e){C0();let n=BigInt(e).toString(2);for(;n.length%7;)n="0"+n;const s=new Uint8Array(n.length/7);for(let r=0;r<s.length;r++)s[r]=parseInt(n.slice(r*7,r*7+7),2)+(r+1<s.length?128:0);this.fromBER(s.buffer,0,s.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const r=this.valueHexView,a=new Uint8Array(this.blockLength);for(let o=0;o<this.blockLength-1;o++)a[o]=r[o]|128;return a[this.blockLength-1]=r[this.blockLength-1],a.buffer}const n=no(this.valueDec,7);if(n.byteLength===0)return this.error="Error during encoding SID value",Si;const s=new Uint8Array(n.byteLength);if(!e){const r=new Uint8Array(n),a=n.byteLength-1;for(let o=0;o<a;o++)s[o]=r[o]|128;s[a]=r[a]}return s}toString(){let e="";if(this.isHexOnly)e=Fe.ToHex(this.valueHexView);else if(this.isFirstSid){let n=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",n-=40):(e="2.",n-=80),e+=n.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}J_.NAME="sidBlock";class _O extends Cs{constructor({value:e=Hs,...n}={}){super(n),this.value=[],e&&this.fromString(e)}fromBER(e,n,s){let r=n;for(;s>0;){const a=new J_;if(r=a.fromBER(e,r,s),r===-1)return this.blockLength=0,this.error=a.error,r;this.value.length===0&&(a.isFirstSid=!0),this.blockLength+=a.blockLength,s-=a.blockLength,this.value.push(a)}return r}toBER(e){const n=[];for(let s=0;s<this.value.length;s++){const r=this.value[s].toBER(e);if(r.byteLength===0)return this.error=this.value[s].error,Si;n.push(r)}return i2(n)}fromString(e){this.value=[];let n=0,s=0,r="",a=!1;do if(s=e.indexOf(".",n),s===-1?r=e.substring(n):r=e.substring(n,s),n=s+1,a){const o=this.value[0];let c=0;switch(o.valueDec){case 0:break;case 1:c=40;break;case 2:c=80;break;default:this.value=[];return}const h=parseInt(r,10);if(isNaN(h))return;o.valueDec=h+c,a=!1}else{const o=new J_;if(r>Number.MAX_SAFE_INTEGER){C0();const c=BigInt(r);o.valueBigInt=c}else if(o.valueDec=parseInt(r,10),isNaN(o.valueDec))return;this.value.length||(o.isFirstSid=!0,a=!0),this.value.push(o)}while(s!==-1)}toString(){let e="",n=!1;for(let s=0;s<this.value.length;s++){n=this.value[s].isHexOnly;let r=this.value[s].toString();s!==0&&(e=`${e}.`),n?(r=`{${r}}`,this.value[s].isFirstSid?e=`2.{${r} - 80}`:e+=r):e+=r}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)e.sidArray.push(this.value[n].toJSON());return e}}_O.NAME="ObjectIdentifierValueBlock";var xO;class $g extends as{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,_O),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}xO=$g;$e.ObjectIdentifier=xO;$g.NAME="OBJECT IDENTIFIER";class Q_ extends ki(wo){constructor({valueDec:e=0,...n}={}){super(n),this.valueDec=e}fromBER(e,n,s){if(s===0)return n;const r=Oe.toUint8Array(e);if(!ca(this,r,n,s))return-1;const a=r.subarray(n,n+s);this.valueHexView=new Uint8Array(s);for(let c=0;c<s&&(this.valueHexView[c]=a[c]&127,this.blockLength++,(a[c]&128)!==0);c++);const o=new Uint8Array(this.blockLength);for(let c=0;c<this.blockLength;c++)o[c]=this.valueHexView[c];return this.valueHexView=o,(a[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Fc(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const r=this.valueHexView,a=new Uint8Array(this.blockLength);for(let o=0;o<this.blockLength-1;o++)a[o]=r[o]|128;return a[this.blockLength-1]=r[this.blockLength-1],a.buffer}const n=no(this.valueDec,7);if(n.byteLength===0)return this.error="Error during encoding SID value",Si;const s=new Uint8Array(n.byteLength);if(!e){const r=new Uint8Array(n),a=n.byteLength-1;for(let o=0;o<a;o++)s[o]=r[o]|128;s[a]=r[a]}return s.buffer}toString(){let e="";return this.isHexOnly?e=Fe.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}Q_.NAME="relativeSidBlock";class wO extends Cs{constructor({value:e=Hs,...n}={}){super(n),this.value=[],e&&this.fromString(e)}fromBER(e,n,s){let r=n;for(;s>0;){const a=new Q_;if(r=a.fromBER(e,r,s),r===-1)return this.blockLength=0,this.error=a.error,r;this.blockLength+=a.blockLength,s-=a.blockLength,this.value.push(a)}return r}toBER(e,n){const s=[];for(let r=0;r<this.value.length;r++){const a=this.value[r].toBER(e);if(a.byteLength===0)return this.error=this.value[r].error,Si;s.push(a)}return i2(s)}fromString(e){this.value=[];let n=0,s=0,r="";do{s=e.indexOf(".",n),s===-1?r=e.substring(n):r=e.substring(n,s),n=s+1;const a=new Q_;if(a.valueDec=parseInt(r,10),isNaN(a.valueDec))return!0;this.value.push(a)}while(s!==-1);return!0}toString(){let e="",n=!1;for(let s=0;s<this.value.length;s++){n=this.value[s].isHexOnly;let r=this.value[s].toString();s!==0&&(e=`${e}.`),n&&(r=`{${r}}`),e+=r}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)e.sidArray.push(this.value[n].toJSON());return e}}wO.NAME="RelativeObjectIdentifierValueBlock";var SO;class u2 extends as{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,wO),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}SO=u2;$e.RelativeObjectIdentifier=SO;u2.NAME="RelativeObjectIdentifier";var kO;class Gr extends ws{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}kO=Gr;$e.Sequence=kO;Gr.NAME="SEQUENCE";var CO;let pi=class extends ws{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};CO=pi;$e.Set=CO;pi.NAME="SET";class NO extends ki(Cs){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=Hs}toJSON(){return{...super.toJSON(),value:this.value}}}NO.NAME="StringValueBlock";class AO extends NO{}AO.NAME="SimpleStringValueBlock";class dr extends a2{constructor({...e}={}){super(e,AO)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,Oe.toUint8Array(e))}fromString(e){const n=e.length,s=this.valueBlock.valueHexView=new Uint8Array(n);for(let r=0;r<n;r++)s[r]=e.charCodeAt(r);this.valueBlock.value=e}}dr.NAME="SIMPLE STRING";class EO extends dr{fromBuffer(e){this.valueBlock.valueHexView=Oe.toUint8Array(e);try{this.valueBlock.value=Fe.ToUtf8String(e)}catch(n){this.warnings.push(`Error during "decodeURIComponent": ${n}, using raw string`),this.valueBlock.value=Fe.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(Fe.FromUtf8String(e)),this.valueBlock.value=e}}EO.NAME="Utf8StringValueBlock";var jO;class ua extends EO{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}jO=ua;$e.Utf8String=jO;ua.NAME="UTF8String";class TO extends dr{fromBuffer(e){this.valueBlock.value=Fe.ToUtf16String(e),this.valueBlock.valueHexView=Oe.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(Fe.FromUtf16String(e))}}TO.NAME="BmpStringValueBlock";var RO;class Hg extends TO{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}RO=Hg;$e.BmpString=RO;Hg.NAME="BMPString";class OO extends dr{fromBuffer(e){const n=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),s=new Uint8Array(n);for(let r=0;r<s.length;r+=4)s[r]=s[r+3],s[r+1]=s[r+2],s[r+2]=0,s[r+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(n))}fromString(e){const n=e.length,s=this.valueBlock.valueHexView=new Uint8Array(n*4);for(let r=0;r<n;r++){const a=no(e.charCodeAt(r),8),o=new Uint8Array(a);if(o.length>4)continue;const c=4-o.length;for(let h=o.length-1;h>=0;h--)s[r*4+h+c]=o[h]}this.valueBlock.value=e}}OO.NAME="UniversalStringValueBlock";var BO;class Ug extends OO{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}BO=Ug;$e.UniversalString=BO;Ug.NAME="UniversalString";var MO;class Vg extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}MO=Vg;$e.NumericString=MO;Vg.NAME="NumericString";var DO;class Fg extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}DO=Fg;$e.PrintableString=DO;Fg.NAME="PrintableString";var LO;class qg extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}LO=qg;$e.TeletexString=LO;qg.NAME="TeletexString";var IO;class Wg extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}IO=Wg;$e.VideotexString=IO;Wg.NAME="VideotexString";var PO;class Kg extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}PO=Kg;$e.IA5String=PO;Kg.NAME="IA5String";var zO;class Gg extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}zO=Gg;$e.GraphicString=zO;Gg.NAME="GraphicString";var $O;class Sf extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}$O=Sf;$e.VisibleString=$O;Sf.NAME="VisibleString";var HO;class Yg extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}HO=Yg;$e.GeneralString=HO;Yg.NAME="GeneralString";var UO;class Xg extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}UO=Xg;$e.CharacterString=UO;Xg.NAME="CharacterString";var VO;class kf extends Sf{constructor({value:e,valueDate:n,...s}={}){if(super(s),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let r=0;r<e.length;r++)this.valueBlock.valueHexView[r]=e.charCodeAt(r)}n&&(this.fromDate(n),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,Oe.toUint8Array(e)))}toBuffer(){const e=this.toString(),n=new ArrayBuffer(e.length),s=new Uint8Array(n);for(let r=0;r<e.length;r++)s[r]=e.charCodeAt(r);return n}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const s=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(s===null){this.error="Wrong input string for conversion";return}const r=parseInt(s[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(s[2],10),this.day=parseInt(s[3],10),this.hour=parseInt(s[4],10),this.minute=parseInt(s[5],10),this.second=parseInt(s[6],10)}toString(e="iso"){if(e==="iso"){const n=new Array(7);return n[0]=lr(this.year<2e3?this.year-1900:this.year-2e3,2),n[1]=lr(this.month,2),n[2]=lr(this.day,2),n[3]=lr(this.hour,2),n[4]=lr(this.minute,2),n[5]=lr(this.second,2),n[6]="Z",n.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}VO=kf;$e.UTCTime=VO;kf.NAME="UTCTime";var FO;class Jg extends kf{constructor(e={}){var n;super(e),(n=this.millisecond)!==null&&n!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){const e=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(e)}fromString(e){let n=!1,s="",r="",a=0,o,c=0,h=0;if(e[e.length-1]==="Z")s=e.substring(0,e.length-1),n=!0;else{const m=new Number(e[e.length-1]);if(isNaN(m.valueOf()))throw new Error("Wrong input string for conversion");s=e}if(n){if(s.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(s.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let m=1,v=s.indexOf("+"),y="";if(v===-1&&(v=s.indexOf("-"),m=-1),v!==-1){if(y=s.substring(v+1),s=s.substring(0,v),y.length!==2&&y.length!==4)throw new Error("Wrong input string for conversion");let x=parseInt(y.substring(0,2),10);if(isNaN(x.valueOf()))throw new Error("Wrong input string for conversion");if(c=m*x,y.length===4){if(x=parseInt(y.substring(2,4),10),isNaN(x.valueOf()))throw new Error("Wrong input string for conversion");h=m*x}}}let d=s.indexOf(".");if(d===-1&&(d=s.indexOf(",")),d!==-1){const m=new Number(`0${s.substring(d)}`);if(isNaN(m.valueOf()))throw new Error("Wrong input string for conversion");a=m.valueOf(),r=s.substring(0,d)}else r=s;switch(!0){case r.length===8:if(o=/(\d{4})(\d{2})(\d{2})/ig,d!==-1)throw new Error("Wrong input string for conversion");break;case r.length===10:if(o=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,d!==-1){let m=60*a;this.minute=Math.floor(m),m=60*(m-this.minute),this.second=Math.floor(m),m=1e3*(m-this.second),this.millisecond=Math.floor(m)}break;case r.length===12:if(o=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,d!==-1){let m=60*a;this.second=Math.floor(m),m=1e3*(m-this.second),this.millisecond=Math.floor(m)}break;case r.length===14:if(o=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,d!==-1){const m=1e3*a;this.millisecond=Math.floor(m)}break;default:throw new Error("Wrong input string for conversion")}const g=o.exec(r);if(g===null)throw new Error("Wrong input string for conversion");for(let m=1;m<g.length;m++)switch(m){case 1:this.year=parseInt(g[m],10);break;case 2:this.month=parseInt(g[m],10);break;case 3:this.day=parseInt(g[m],10);break;case 4:this.hour=parseInt(g[m],10)+c;break;case 5:this.minute=parseInt(g[m],10)+h;break;case 6:this.second=parseInt(g[m],10);break;default:throw new Error("Wrong input string for conversion")}if(n===!1){const m=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=m.getUTCFullYear(),this.month=m.getUTCMonth(),this.day=m.getUTCDay(),this.hour=m.getUTCHours(),this.minute=m.getUTCMinutes(),this.second=m.getUTCSeconds(),this.millisecond=m.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){const n=[];return n.push(lr(this.year,4)),n.push(lr(this.month,2)),n.push(lr(this.day,2)),n.push(lr(this.hour,2)),n.push(lr(this.minute,2)),n.push(lr(this.second,2)),this.millisecond!==0&&(n.push("."),n.push(lr(this.millisecond,3))),n.push("Z"),n.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}FO=Jg;$e.GeneralizedTime=FO;Jg.NAME="GeneralizedTime";var qO;class h2 extends ua{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}qO=h2;$e.DATE=qO;h2.NAME="DATE";var WO;class d2 extends ua{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}WO=d2;$e.TimeOfDay=WO;d2.NAME="TimeOfDay";var KO;class f2 extends ua{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}KO=f2;$e.DateTime=KO;f2.NAME="DateTime";var GO;class p2 extends ua{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}GO=p2;$e.Duration=GO;p2.NAME="Duration";var YO;class m2 extends ua{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}YO=m2;$e.TIME=YO;m2.NAME="TIME";class ro{constructor({name:e=Hs,optional:n=!1}={}){this.name=e,this.optional=n}}class g2 extends ro{constructor({value:e=[],...n}={}){super(n),this.value=e}}class N0 extends ro{constructor({value:e=new ro,local:n=!1,...s}={}){super(s),this.value=e,this.local=n}}class FW{get data(){return this.dataView.slice().buffer}set data(e){this.dataView=Oe.toUint8Array(e)}constructor({data:e=Ig}={}){this.dataView=Oe.toUint8Array(e)}fromBER(e,n,s){const r=n+s;return this.dataView=Oe.toUint8Array(e).subarray(n,r),r}toBER(e){return this.dataView.slice().buffer}}function Ya(t,e,n){if(n instanceof g2){for(const a of n.value)if(Ya(t,e,a).verified)return{verified:!0,result:t};{const a={verified:!1,result:{error:"Wrong values for Choice type"}};return n.hasOwnProperty(Lb)&&(a.name=n.name),a}}if(n instanceof ro)return n.hasOwnProperty(Lb)&&(t[n.name]=e),{verified:!0,result:t};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(n instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(BW in n))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(IW in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(PW in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const s=n.idBlock.toBER(!1);if(s.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(n.idBlock.fromBER(s,0,s.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(n.idBlock.hasOwnProperty(MW)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:t};if(n.idBlock.hasOwnProperty(DW)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:t};if(n.idBlock.hasOwnProperty(LW)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:t};if(!(OW in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:t};if(n.idBlock.isHexOnly){if(!(iE in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const a=n.idBlock.valueHexView,o=e.idBlock.valueHexView;if(a.length!==o.length)return{verified:!1,result:t};for(let c=0;c<a.length;c++)if(a[c]!==o[1])return{verified:!1,result:t}}if(n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Hs),n.name&&(t[n.name]=e)),n instanceof $e.Constructed){let a=0,o={verified:!1,result:{error:"Unknown error"}},c=n.valueBlock.value.length;if(c>0&&n.valueBlock.value[0]instanceof N0&&(c=e.valueBlock.value.length),c===0)return{verified:!0,result:t};if(e.valueBlock.value.length===0&&n.valueBlock.value.length!==0){let h=!0;for(let d=0;d<n.valueBlock.value.length;d++)h=h&&(n.valueBlock.value[d].optional||!1);return h?{verified:!0,result:t}:(n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Hs),n.name&&delete t[n.name]),t.error="Inconsistent object length",{verified:!1,result:t})}for(let h=0;h<c;h++)if(h-a>=e.valueBlock.value.length){if(n.valueBlock.value[h].optional===!1){const d={verified:!1,result:t};return t.error="Inconsistent length between ASN.1 data and schema",n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Hs),n.name&&(delete t[n.name],d.name=n.name)),d}}else if(n.valueBlock.value[0]instanceof N0){if(o=Ya(t,e.valueBlock.value[h],n.valueBlock.value[0].value),o.verified===!1)if(n.valueBlock.value[0].optional)a++;else return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Hs),n.name&&delete t[n.name]),o;if(Lb in n.valueBlock.value[0]&&n.valueBlock.value[0].name.length>0){let d={};zW in n.valueBlock.value[0]&&n.valueBlock.value[0].local?d=e:d=t,typeof d[n.valueBlock.value[0].name]>"u"&&(d[n.valueBlock.value[0].name]=[]),d[n.valueBlock.value[0].name].push(e.valueBlock.value[h])}}else if(o=Ya(t,e.valueBlock.value[h-a],n.valueBlock.value[h]),o.verified===!1)if(n.valueBlock.value[h].optional)a++;else return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Hs),n.name&&delete t[n.name]),o;if(o.verified===!1){const h={verified:!1,result:t};return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Hs),n.name&&(delete t[n.name],h.name=n.name)),h}return{verified:!0,result:t}}if(n.primitiveSchema&&iE in e.valueBlock){const a=mu(e.valueBlock.valueHexView);if(a.offset===-1){const o={verified:!1,result:a.result};return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Hs),n.name&&(delete t[n.name],o.name=n.name)),o}return Ya(t,a.result,n.primitiveSchema)}return{verified:!0,result:t}}function qW(t,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const n=mu(Oe.toUint8Array(t));return n.offset===-1?{verified:!1,result:n.result}:Ya(n.result,n.result,e)}const XO=Object.freeze(Object.defineProperty({__proto__:null,Any:ro,BaseBlock:as,BaseStringBlock:a2,BitString:Jl,BmpString:Hg,Boolean:Pg,CharacterString:Xg,Choice:g2,Constructed:ws,DATE:h2,DateTime:f2,Duration:p2,EndOfContent:l2,Enumerated:zg,GeneralString:Yg,GeneralizedTime:Jg,GraphicString:Gg,HexBlock:ki,IA5String:Kg,Integer:gu,Null:so,NumericString:Vg,ObjectIdentifier:$g,OctetString:Xl,Primitive:wf,PrintableString:Fg,RawData:FW,RelativeObjectIdentifier:u2,Repeated:N0,Sequence:Gr,Set:pi,TIME:m2,TeletexString:qg,TimeOfDay:d2,UTCTime:kf,UniversalString:Ug,Utf8String:ua,ValueBlock:Cs,VideotexString:Wg,ViewWriter:Lg,VisibleString:Sf,compareSchema:Ya,fromBER:zc,verifySchema:qW},Symbol.toStringTag,{value:"Module"}));var be;(function(t){t[t.Sequence=0]="Sequence",t[t.Set=1]="Set",t[t.Choice=2]="Choice"})(be||(be={}));var ne;(function(t){t[t.Any=1]="Any",t[t.Boolean=2]="Boolean",t[t.OctetString=3]="OctetString",t[t.BitString=4]="BitString",t[t.Integer=5]="Integer",t[t.Enumerated=6]="Enumerated",t[t.ObjectIdentifier=7]="ObjectIdentifier",t[t.Utf8String=8]="Utf8String",t[t.BmpString=9]="BmpString",t[t.UniversalString=10]="UniversalString",t[t.NumericString=11]="NumericString",t[t.PrintableString=12]="PrintableString",t[t.TeletexString=13]="TeletexString",t[t.VideotexString=14]="VideotexString",t[t.IA5String=15]="IA5String",t[t.GraphicString=16]="GraphicString",t[t.VisibleString=17]="VisibleString",t[t.GeneralString=18]="GeneralString",t[t.CharacterString=19]="CharacterString",t[t.UTCTime=20]="UTCTime",t[t.GeneralizedTime=21]="GeneralizedTime",t[t.DATE=22]="DATE",t[t.TimeOfDay=23]="TimeOfDay",t[t.DateTime=24]="DateTime",t[t.Duration=25]="Duration",t[t.TIME=26]="TIME",t[t.Null=27]="Null"})(ne||(ne={}));class Qg{constructor(e,n=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(Oe.isBufferSource(e))this.unusedBits=n,this.value=Oe.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof Jl))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new Jl({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new Jl({name:e})}toNumber(){let e="";const n=new Uint8Array(this.value);for(const s of n)e+=s.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let n=e.toString(2);const s=n.length+7>>3;this.unusedBits=(s<<3)-n.length;const r=new Uint8Array(s);n=n.padStart(s<<3,"0").split("").reverse().join("");let a=0;for(;a<s;)r[a]=parseInt(n.slice(a<<3,(a<<3)+8),2),a++;this.value=r.buffer}}class Et{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):Oe.isBufferSource(e)?this.buffer=Oe.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}fromASN(e){if(!(e instanceof Xl))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new Xl({valueHex:this.buffer})}toSchema(e){return new Xl({name:e})}}const WW={fromASN:t=>t instanceof so?null:t.valueBeforeDecodeView,toASN:t=>{if(t===null)return new so;const e=zc(t);if(e.result.error)throw new Error(e.result.error);return e.result}},KW={fromASN:t=>t.valueBlock.valueHexView.byteLength>=4?t.valueBlock.toString():t.valueBlock.valueDec,toASN:t=>new gu({value:+t})},GW={fromASN:t=>t.valueBlock.valueDec,toASN:t=>new zg({value:t})},Qt={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new gu({valueHex:t})},YW={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Jl({valueHex:t})},XW={fromASN:t=>t.valueBlock.toString(),toASN:t=>new $g({value:t})},JW={fromASN:t=>t.valueBlock.value,toASN:t=>new Pg({value:t})},A0={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Xl({valueHex:t})},QW={fromASN:t=>new Et(t.getValue()),toASN:t=>t.toASN()};function Ir(t){return{fromASN:e=>e.valueBlock.value,toASN:e=>new t({value:e})}}const JO=Ir(ua),ZW=Ir(Hg),eK=Ir(Ug),tK=Ir(Vg),nK=Ir(Fg),sK=Ir(qg),rK=Ir(Wg),iK=Ir(Kg),aK=Ir(Gg),lK=Ir(Sf),oK=Ir(Yg),cK=Ir(Xg),uK={fromASN:t=>t.toDate(),toASN:t=>new kf({valueDate:t})},hK={fromASN:t=>t.toDate(),toASN:t=>new Jg({valueDate:t})},dK={fromASN:()=>null,toASN:()=>new so};function Rd(t){switch(t){case ne.Any:return WW;case ne.BitString:return YW;case ne.BmpString:return ZW;case ne.Boolean:return JW;case ne.CharacterString:return cK;case ne.Enumerated:return GW;case ne.GeneralString:return oK;case ne.GeneralizedTime:return hK;case ne.GraphicString:return aK;case ne.IA5String:return iK;case ne.Integer:return KW;case ne.Null:return dK;case ne.NumericString:return tK;case ne.ObjectIdentifier:return XW;case ne.OctetString:return A0;case ne.PrintableString:return nK;case ne.TeletexString:return sK;case ne.UTCTime:return uK;case ne.UniversalString:return eK;case ne.Utf8String:return JO;case ne.VideotexString:return rK;case ne.VisibleString:return lK;default:return null}}function Ji(t){return typeof t=="function"&&t.prototype?t.prototype.toASN&&t.prototype.fromASN?!0:Ji(t.prototype):!!(t&&typeof t=="object"&&"toASN"in t&&"fromASN"in t)}function QO(t){var e;if(t){const n=Object.getPrototypeOf(t);return((e=n?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:QO(n)}return!1}function fK(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;const n=new Uint8Array(t),s=new Uint8Array(e);for(let r=0;r<t.byteLength;r++)if(n[r]!==s[r])return!1;return!0}class pK{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,n=!1){const s=this.items.get(e);if(!s)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(n&&!s.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return s}cache(e){const n=this.get(e);n.schema||(n.schema=this.create(e,!0))}createDefault(e){const n={type:be.Sequence,items:{}},s=this.findParentSchema(e);return s&&(Object.assign(n,s),n.items=Object.assign({},n.items,s.items)),n}create(e,n){const s=this.items.get(e)||this.createDefault(e),r=[];for(const a in s.items){const o=s.items[a],c=n?a:"";let h;if(typeof o.type=="number"){const g=ne[o.type],m=XO[g];if(!m)throw new Error(`Cannot get ASN1 class by name '${g}'`);h=new m({name:c})}else Ji(o.type)?h=new o.type().toSchema(c):o.optional?this.get(o.type).type===be.Choice?h=new ro({name:c}):(h=this.create(o.type,!1),h.name=c):h=new ro({name:c});const d=!!o.optional||o.defaultValue!==void 0;if(o.repeated){h.name="";const g=o.repeated==="set"?pi:Gr;h=new g({name:"",value:[new N0({name:c,value:h})]})}if(o.context!==null&&o.context!==void 0)if(o.implicit)if(typeof o.type=="number"||Ji(o.type)){const g=o.repeated?ws:wf;r.push(new g({name:c,optional:d,idBlock:{tagClass:3,tagNumber:o.context}}))}else{this.cache(o.type);const g=!!o.repeated;let m=g?h:this.get(o.type,!0).schema;m="valueBlock"in m?m.valueBlock.value:m.value,r.push(new ws({name:g?"":c,optional:d,idBlock:{tagClass:3,tagNumber:o.context},value:m}))}else r.push(new ws({optional:d,idBlock:{tagClass:3,tagNumber:o.context},value:[h]}));else h.optional=d,r.push(h)}switch(s.type){case be.Sequence:return new Gr({value:r,name:""});case be.Set:return new pi({value:r,name:""});case be.Choice:return new g2({value:r,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,n){return this.items.set(e,n),this}findParentSchema(e){const n=Object.getPrototypeOf(e);return n?this.items.get(n)||this.findParentSchema(n):null}}const es=new pK,ke=t=>e=>{let n;es.has(e)?n=es.get(e):(n=es.createDefault(e),es.set(e,n)),Object.assign(n,t)},P=t=>(e,n)=>{let s;es.has(e.constructor)?s=es.get(e.constructor):(s=es.createDefault(e.constructor),es.set(e.constructor,s));const r=Object.assign({},t);if(typeof r.type=="number"&&!r.converter){const a=Rd(t.type);if(!a)throw new Error(`Cannot get default converter for property '${n}' of ${e.constructor.name}`);r.converter=a}r.raw=t.raw,s.items[n]=r};class Th extends Error{constructor(){super(...arguments),this.schemas=[]}}class mK{static parse(e,n){const s=zc(e);if(s.result.error)throw new Error(s.result.error);return this.fromASN(s.result,n)}static fromASN(e,n){try{if(Ji(n))return new n().fromASN(e);const s=es.get(n);es.cache(n);let r=s.schema;const a=this.handleChoiceTypes(e,s,n,r);if(a?.result)return a.result;a?.targetSchema&&(r=a.targetSchema);const o=this.handleSequenceTypes(e,s,n,r),c=new n;return QO(n)?this.handleArrayTypes(e,s,n):(this.processSchemaItems(s,o,c),c)}catch(s){throw s instanceof Th&&s.schemas.push(n.name),s}}static handleChoiceTypes(e,n,s,r){if(e.constructor===ws&&n.type===be.Choice&&e.idBlock.tagClass===3)for(const a in n.items){const o=n.items[a];if(o.context===e.idBlock.tagNumber&&o.implicit&&typeof o.type=="function"&&es.has(o.type)){const c=es.get(o.type);if(c&&c.type===be.Sequence){const h=new Gr;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in h.valueBlock){h.valueBlock.value=e.valueBlock.value;const d=this.fromASN(h,o.type),g=new s;return g[a]=d,{result:g}}}}}else if(e.constructor===ws&&n.type!==be.Choice){const a=new ws({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:n.schema.valueBlock.value});for(const o in n.items)delete e[o];return{targetSchema:a}}return null}static handleSequenceTypes(e,n,s,r){if(n.type===be.Sequence){const a=Ya({},e,r);if(!a.verified)throw new Th(`Data does not match to ${s.name} ASN1 schema.${a.result.error?` ${a.result.error}`:""}`);return a}else{const a=Ya({},e,r);if(!a.verified)throw new Th(`Data does not match to ${s.name} ASN1 schema.${a.result.error?` ${a.result.error}`:""}`);return a}}static processRepeatedField(e,n,s){let r=e.slice(n);if(r.length===1&&r[0].constructor.name==="Sequence"){const a=r[0];a.valueBlock&&a.valueBlock.value&&Array.isArray(a.valueBlock.value)&&(r=a.valueBlock.value)}if(typeof s.type=="number"){const a=Rd(s.type);if(!a)throw new Error(`No converter for ASN.1 type ${s.type}`);return r.filter(o=>o&&o.valueBlock).map(o=>{try{return a.fromASN(o)}catch{return}}).filter(o=>o!==void 0)}else return r.filter(a=>a&&a.valueBlock).map(a=>{try{return this.fromASN(a,s.type)}catch{return}}).filter(a=>a!==void 0)}static processPrimitiveField(e,n){const s=Rd(n.type);if(!s)throw new Error(`No converter for ASN.1 type ${n.type}`);return s.fromASN(e)}static isOptionalChoiceField(e){return e.optional&&typeof e.type=="function"&&es.has(e.type)&&es.get(e.type).type===be.Choice}static processOptionalChoiceField(e,n){try{return{processed:!0,value:this.fromASN(e,n.type)}}catch(s){if(s instanceof Th&&/Wrong values for Choice type/.test(s.message))return{processed:!1};throw s}}static handleArrayTypes(e,n,s){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const r=n.itemType;if(typeof r=="number"){const a=Rd(r);if(!a)throw new Error(`Cannot get default converter for array item of ${s.name} ASN1 schema`);return s.from(e.valueBlock.value,o=>a.fromASN(o))}else return s.from(e.valueBlock.value,a=>this.fromASN(a,r))}static processSchemaItems(e,n,s){for(const r in e.items){const a=n.result[r];if(!a)continue;const o=e.items[r],c=o.type;let h;typeof c=="number"||Ji(c)?h=this.processPrimitiveSchemaItem(a,o,c):h=this.processComplexSchemaItem(a,o,c),h&&typeof h=="object"&&"value"in h&&"raw"in h?(s[r]=h.value,s[`${r}Raw`]=h.raw):s[r]=h}}static processPrimitiveSchemaItem(e,n,s){var r;const a=(r=n.converter)!==null&&r!==void 0?r:Ji(s)?new s:null;if(!a)throw new Error("Converter is empty");return n.repeated?this.processRepeatedPrimitiveItem(e,n,a):this.processSinglePrimitiveItem(e,n,s,a)}static processRepeatedPrimitiveItem(e,n,s){if(n.implicit){const r=n.repeated==="sequence"?Gr:pi,a=new r;a.valueBlock=e.valueBlock;const o=zc(a.toBER(!1));if(o.offset===-1)throw new Error(`Cannot parse the child item. ${o.result.error}`);if(!("value"in o.result.valueBlock&&Array.isArray(o.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const c=o.result.valueBlock.value;return Array.from(c,h=>s.fromASN(h))}else return Array.from(e,r=>s.fromASN(r))}static processSinglePrimitiveItem(e,n,s,r){let a=e;if(n.implicit){let o;if(Ji(s))o=new s().toSchema("");else{const c=ne[s],h=XO[c];if(!h)throw new Error(`Cannot get '${c}' class from asn1js module`);o=new h}o.valueBlock=a.valueBlock,a=zc(o.toBER(!1)).result}return r.fromASN(a)}static processComplexSchemaItem(e,n,s){if(n.repeated){if(!Array.isArray(e))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");return Array.from(e,r=>this.fromASN(r,s))}else{const r=this.handleImplicitTagging(e,n,s);if(this.isOptionalChoiceField(n))try{return this.fromASN(r,s)}catch(a){if(a instanceof Th&&/Wrong values for Choice type/.test(a.message))return;throw a}else{const a=this.fromASN(r,s);return n.raw?{value:a,raw:e.valueBeforeDecodeView}:a}}}static handleImplicitTagging(e,n,s){if(n.implicit&&typeof n.context=="number"){const r=es.get(s);if(r.type===be.Sequence){const a=new Gr;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in a.valueBlock)return a.valueBlock.value=e.valueBlock.value,a}else if(r.type===be.Set){const a=new pi;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in a.valueBlock)return a.valueBlock.value=e.valueBlock.value,a}}return e}}class y2{static serialize(e){return e instanceof as?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&Ji(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");const n=e.constructor,s=es.get(n);es.cache(n);let r=[];if(s.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof s.itemType=="number"){const o=Rd(s.itemType);if(!o)throw new Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);r=e.map(c=>o.toASN(c))}else r=e.map(o=>this.toAsnItem({type:s.itemType},"[]",n,o))}else for(const o in s.items){const c=s.items[o],h=e[o];if(h===void 0||c.defaultValue===h||typeof c.defaultValue=="object"&&typeof h=="object"&&fK(this.serialize(c.defaultValue),this.serialize(h)))continue;const d=y2.toAsnItem(c,o,n,h);if(typeof c.context=="number")if(c.implicit)if(!c.repeated&&(typeof c.type=="number"||Ji(c.type))){const g={};g.valueHex=d instanceof so?d.valueBeforeDecodeView:d.valueBlock.toBER(),r.push(new wf({optional:c.optional,idBlock:{tagClass:3,tagNumber:c.context},...g}))}else r.push(new ws({optional:c.optional,idBlock:{tagClass:3,tagNumber:c.context},value:d.valueBlock.value}));else r.push(new ws({optional:c.optional,idBlock:{tagClass:3,tagNumber:c.context},value:[d]}));else c.repeated?r=r.concat(d):r.push(d)}let a;switch(s.type){case be.Sequence:a=new Gr({value:r});break;case be.Set:a=new pi({value:r});break;case be.Choice:if(!r[0])throw new Error(`Schema '${n.name}' has wrong data. Choice cannot be empty.`);a=r[0];break}return a}static toAsnItem(e,n,s,r){let a;if(typeof e.type=="number"){const o=e.converter;if(!o)throw new Error(`Property '${n}' doesn't have converter for type ${ne[e.type]} in schema '${s.name}'`);if(e.repeated){if(!Array.isArray(r))throw new TypeError("Parameter 'objProp' should be type of Array.");const c=Array.from(r,d=>o.toASN(d)),h=e.repeated==="sequence"?Gr:pi;a=new h({value:c})}else a=o.toASN(r)}else if(e.repeated){if(!Array.isArray(r))throw new TypeError("Parameter 'objProp' should be type of Array.");const o=Array.from(r,h=>this.toASN(h)),c=e.repeated==="sequence"?Gr:pi;a=new c({value:o})}else a=this.toASN(r);return a}}class Pt extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(const n of e)this.push(n)}}}class Me{static serialize(e){return y2.serialize(e)}static parse(e,n){return mK.parse(e,n)}static toString(e){const n=Oe.isBufferSource(e)?Oe.toArrayBuffer(e):Me.serialize(e),s=zc(n);if(s.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${s.result.error}`);return s.result.toString()}}function T(t,e,n,s){var r=arguments.length,a=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,s);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a}function ut(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}function tn(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n}class lE{static isIPv4(e){return/^(\d{1,3}\.){3}\d{1,3}$/.test(e)}static parseIPv4(e){const n=e.split(".");if(n.length!==4)throw new Error("Invalid IPv4 address");return n.map(s=>{const r=parseInt(s,10);if(isNaN(r)||r<0||r>255)throw new Error("Invalid IPv4 address part");return r})}static parseIPv6(e){const s=this.expandIPv6(e).split(":");if(s.length!==8)throw new Error("Invalid IPv6 address");return s.reduce((r,a)=>{const o=parseInt(a,16);if(isNaN(o)||o<0||o>65535)throw new Error("Invalid IPv6 address part");return r.push(o>>8&255),r.push(o&255),r},[])}static expandIPv6(e){if(!e.includes("::"))return e;const n=e.split("::");if(n.length>2)throw new Error("Invalid IPv6 address");const s=n[0]?n[0].split(":"):[],r=n[1]?n[1].split(":"):[],a=8-(s.length+r.length);if(a<0)throw new Error("Invalid IPv6 address");return[...s,...Array(a).fill("0"),...r].join(":")}static formatIPv6(e){const n=[];for(let s=0;s<16;s+=2)n.push((e[s]<<8|e[s+1]).toString(16));return this.compressIPv6(n.join(":"))}static compressIPv6(e){const n=e.split(":");let s=-1,r=0,a=-1,o=0;for(let c=0;c<n.length;c++)n[c]==="0"?(a===-1&&(a=c),o++):(o>r&&(s=a,r=o),a=-1,o=0);if(o>r&&(s=a,r=o),r>1){const c=n.slice(0,s).join(":"),h=n.slice(s+r).join(":");return`${c}::${h}`}return e}static parseCIDR(e){const[n,s]=e.split("/"),r=parseInt(s,10);if(this.isIPv4(n)){if(r<0||r>32)throw new Error("Invalid IPv4 prefix length");return[this.parseIPv4(n),r]}else{if(r<0||r>128)throw new Error("Invalid IPv6 prefix length");return[this.parseIPv6(n),r]}}static decodeIP(e){if(e.length===64&&parseInt(e,16)===0)return"::/0";if(e.length!==16)return e;const n=parseInt(e.slice(8),16).toString(2).split("").reduce((r,a)=>r+ +a,0);let s=e.slice(0,8).replace(/(.{2})/g,r=>`${parseInt(r,16)}.`);return s=s.slice(0,-1),`${s}/${n}`}static toString(e){const n=new Uint8Array(e);if(n.length===4)return Array.from(n).join(".");if(n.length===16)return this.formatIPv6(n);if(n.length===8||n.length===32){const s=n.length/2,r=n.slice(0,s),a=n.slice(s);if(n.every(h=>h===0))return n.length===8?"0.0.0.0/0":"::/0";const c=a.reduce((h,d)=>h+(d.toString(2).match(/1/g)||[]).length,0);return n.length===8?`${Array.from(r).join(".")}/${c}`:`${this.formatIPv6(r)}/${c}`}return this.decodeIP(Fe.ToHex(e))}static fromString(e){if(e.includes("/")){const[s,r]=this.parseCIDR(e),a=new Uint8Array(s.length);let o=r;for(let h=0;h<a.length;h++)o>=8?(a[h]=255,o-=8):o>0&&(a[h]=255<<8-o,o=0);const c=new Uint8Array(s.length*2);return c.set(s,0),c.set(a,s.length),c.buffer}const n=this.isIPv4(e)?this.parseIPv4(e):this.parseIPv6(e);return new Uint8Array(n).buffer}}var Z_,ex,tx;let ls=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};T([P({type:ne.TeletexString})],ls.prototype,"teletexString",void 0);T([P({type:ne.PrintableString})],ls.prototype,"printableString",void 0);T([P({type:ne.UniversalString})],ls.prototype,"universalString",void 0);T([P({type:ne.Utf8String})],ls.prototype,"utf8String",void 0);T([P({type:ne.BmpString})],ls.prototype,"bmpString",void 0);ls=T([ke({type:be.Choice})],ls);let qc=class extends ls{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?Fe.ToHex(this.anyValue):super.toString())}};T([P({type:ne.IA5String})],qc.prototype,"ia5String",void 0);T([P({type:ne.Any})],qc.prototype,"anyValue",void 0);qc=T([ke({type:be.Choice})],qc);class Zg{constructor(e={}){this.type="",this.value=new qc,Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],Zg.prototype,"type",void 0);T([P({type:qc})],Zg.prototype,"value",void 0);let Wc=Z_=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Z_.prototype)}};Wc=Z_=T([ke({type:be.Set,itemType:Zg})],Wc);let nx=ex=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,ex.prototype)}};nx=ex=T([ke({type:be.Sequence,itemType:Wc})],nx);let Mn=tx=class extends nx{constructor(e){super(e),Object.setPrototypeOf(this,tx.prototype)}};Mn=tx=T([ke({type:be.Sequence})],Mn);const gK={fromASN:t=>lE.toString(A0.fromASN(t)),toASN:t=>A0.toASN(lE.fromString(t))};class Xd{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],Xd.prototype,"typeId",void 0);T([P({type:ne.Any,context:0})],Xd.prototype,"value",void 0);class v2{constructor(e={}){this.partyName=new ls,Object.assign(this,e)}}T([P({type:ls,optional:!0,context:0,implicit:!0})],v2.prototype,"nameAssigner",void 0);T([P({type:ls,context:1,implicit:!0})],v2.prototype,"partyName",void 0);let lt=class{constructor(e={}){Object.assign(this,e)}};T([P({type:Xd,context:0,implicit:!0})],lt.prototype,"otherName",void 0);T([P({type:ne.IA5String,context:1,implicit:!0})],lt.prototype,"rfc822Name",void 0);T([P({type:ne.IA5String,context:2,implicit:!0})],lt.prototype,"dNSName",void 0);T([P({type:ne.Any,context:3,implicit:!0})],lt.prototype,"x400Address",void 0);T([P({type:Mn,context:4,implicit:!1})],lt.prototype,"directoryName",void 0);T([P({type:v2,context:5})],lt.prototype,"ediPartyName",void 0);T([P({type:ne.IA5String,context:6,implicit:!0})],lt.prototype,"uniformResourceIdentifier",void 0);T([P({type:ne.OctetString,context:7,implicit:!0,converter:gK})],lt.prototype,"iPAddress",void 0);T([P({type:ne.ObjectIdentifier,context:8,implicit:!0})],lt.prototype,"registeredID",void 0);lt=T([ke({type:be.Choice})],lt);const b2="1.3.6.1.5.5.7",yK=`${b2}.1`,yu=`${b2}.3`,ey=`${b2}.48`,oE=`${ey}.1`,cE=`${ey}.2`,uE=`${ey}.3`,hE=`${ey}.5`,ha="2.5.29";var sx;const rx=`${yK}.1`;class Cf{constructor(e={}){this.accessMethod="",this.accessLocation=new lt,Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],Cf.prototype,"accessMethod",void 0);T([P({type:lt})],Cf.prototype,"accessLocation",void 0);let Rc=sx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,sx.prototype)}};Rc=sx=T([ke({type:be.Sequence,itemType:Cf})],Rc);const ix=`${ha}.35`;class _2 extends Et{}class Vl{constructor(e={}){e&&Object.assign(this,e)}}T([P({type:_2,context:0,optional:!0,implicit:!0})],Vl.prototype,"keyIdentifier",void 0);T([P({type:lt,context:1,optional:!0,implicit:!0,repeated:"sequence"})],Vl.prototype,"authorityCertIssuer",void 0);T([P({type:ne.Integer,context:2,optional:!0,implicit:!0,converter:Qt})],Vl.prototype,"authorityCertSerialNumber",void 0);const ZO=`${ha}.19`;class E0{constructor(e={}){this.cA=!1,Object.assign(this,e)}}T([P({type:ne.Boolean,defaultValue:!1})],E0.prototype,"cA",void 0);T([P({type:ne.Integer,optional:!0})],E0.prototype,"pathLenConstraint",void 0);var ax;let ps=ax=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,ax.prototype)}};ps=ax=T([ke({type:be.Sequence,itemType:lt})],ps);var lx;let dE=lx=class extends ps{constructor(e){super(e),Object.setPrototypeOf(this,lx.prototype)}};dE=lx=T([ke({type:be.Sequence})],dE);var ox;const eB=`${ha}.32`;let ta=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};T([P({type:ne.IA5String})],ta.prototype,"ia5String",void 0);T([P({type:ne.VisibleString})],ta.prototype,"visibleString",void 0);T([P({type:ne.BmpString})],ta.prototype,"bmpString",void 0);T([P({type:ne.Utf8String})],ta.prototype,"utf8String",void 0);ta=T([ke({type:be.Choice})],ta);class x2{constructor(e={}){this.organization=new ta,this.noticeNumbers=[],Object.assign(this,e)}}T([P({type:ta})],x2.prototype,"organization",void 0);T([P({type:ne.Integer,repeated:"sequence"})],x2.prototype,"noticeNumbers",void 0);class w2{constructor(e={}){Object.assign(this,e)}}T([P({type:x2,optional:!0})],w2.prototype,"noticeRef",void 0);T([P({type:ta,optional:!0})],w2.prototype,"explicitText",void 0);let j0=class{constructor(e={}){Object.assign(this,e)}};T([P({type:ne.IA5String})],j0.prototype,"cPSuri",void 0);T([P({type:w2})],j0.prototype,"userNotice",void 0);j0=T([ke({type:be.Choice})],j0);class S2{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],S2.prototype,"policyQualifierId",void 0);T([P({type:ne.Any})],S2.prototype,"qualifier",void 0);class ty{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],ty.prototype,"policyIdentifier",void 0);T([P({type:S2,repeated:"sequence",optional:!0})],ty.prototype,"policyQualifiers",void 0);let T0=ox=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,ox.prototype)}};T0=ox=T([ke({type:be.Sequence,itemType:ty})],T0);let R0=class{constructor(e=0){this.value=e}};T([P({type:ne.Integer})],R0.prototype,"value",void 0);R0=T([ke({type:be.Choice})],R0);let fE=class extends R0{};fE=T([ke({type:be.Choice})],fE);var cx;const ux=`${ha}.31`;var Vr;(function(t){t[t.unused=1]="unused",t[t.keyCompromise=2]="keyCompromise",t[t.cACompromise=4]="cACompromise",t[t.affiliationChanged=8]="affiliationChanged",t[t.superseded=16]="superseded",t[t.cessationOfOperation=32]="cessationOfOperation",t[t.certificateHold=64]="certificateHold",t[t.privilegeWithdrawn=128]="privilegeWithdrawn",t[t.aACompromise=256]="aACompromise"})(Vr||(Vr={}));class tB extends Qg{toJSON(){const e=[],n=this.toNumber();return n&Vr.aACompromise&&e.push("aACompromise"),n&Vr.affiliationChanged&&e.push("affiliationChanged"),n&Vr.cACompromise&&e.push("cACompromise"),n&Vr.certificateHold&&e.push("certificateHold"),n&Vr.cessationOfOperation&&e.push("cessationOfOperation"),n&Vr.keyCompromise&&e.push("keyCompromise"),n&Vr.privilegeWithdrawn&&e.push("privilegeWithdrawn"),n&Vr.superseded&&e.push("superseded"),n&Vr.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}}let io=class{constructor(e={}){Object.assign(this,e)}};T([P({type:lt,context:0,repeated:"sequence",implicit:!0})],io.prototype,"fullName",void 0);T([P({type:Wc,context:1,implicit:!0})],io.prototype,"nameRelativeToCRLIssuer",void 0);io=T([ke({type:be.Choice})],io);class vu{constructor(e={}){Object.assign(this,e)}}T([P({type:io,context:0,optional:!0})],vu.prototype,"distributionPoint",void 0);T([P({type:tB,context:1,optional:!0,implicit:!0})],vu.prototype,"reasons",void 0);T([P({type:lt,context:2,optional:!0,repeated:"sequence",implicit:!0})],vu.prototype,"cRLIssuer",void 0);let $c=cx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,cx.prototype)}};$c=cx=T([ke({type:be.Sequence,itemType:vu})],$c);var hx;let pE=hx=class extends $c{constructor(e){super(e),Object.setPrototypeOf(this,hx.prototype)}};pE=hx=T([ke({type:be.Sequence,itemType:vu})],pE);class fs{constructor(e={}){this.onlyContainsUserCerts=fs.ONLY,this.onlyContainsCACerts=fs.ONLY,this.indirectCRL=fs.ONLY,this.onlyContainsAttributeCerts=fs.ONLY,Object.assign(this,e)}}fs.ONLY=!1;T([P({type:io,context:0,optional:!0})],fs.prototype,"distributionPoint",void 0);T([P({type:ne.Boolean,context:1,defaultValue:fs.ONLY,implicit:!0})],fs.prototype,"onlyContainsUserCerts",void 0);T([P({type:ne.Boolean,context:2,defaultValue:fs.ONLY,implicit:!0})],fs.prototype,"onlyContainsCACerts",void 0);T([P({type:tB,context:3,optional:!0,implicit:!0})],fs.prototype,"onlySomeReasons",void 0);T([P({type:ne.Boolean,context:4,defaultValue:fs.ONLY,implicit:!0})],fs.prototype,"indirectCRL",void 0);T([P({type:ne.Boolean,context:5,defaultValue:fs.ONLY,implicit:!0})],fs.prototype,"onlyContainsAttributeCerts",void 0);var Od;(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(Od||(Od={}));let dx=class{constructor(e=Od.unspecified){this.reason=Od.unspecified,this.reason=e}toJSON(){return Od[this.reason]}toString(){return this.toJSON()}};T([P({type:ne.Enumerated})],dx.prototype,"reason",void 0);dx=T([ke({type:be.Choice})],dx);var fx;const nB=`${ha}.37`;let O0=fx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,fx.prototype)}};O0=fx=T([ke({type:be.Sequence,itemType:ne.ObjectIdentifier})],O0);const vK=`${yu}.1`,bK=`${yu}.2`,_K=`${yu}.3`,xK=`${yu}.4`,wK=`${yu}.8`,SK=`${yu}.9`;let px=class{constructor(e=new ArrayBuffer(0)){this.value=e}};T([P({type:ne.Integer,converter:Qt})],px.prototype,"value",void 0);px=T([ke({type:be.Choice})],px);let mx=class{constructor(e){this.value=new Date,e&&(this.value=e)}};T([P({type:ne.GeneralizedTime})],mx.prototype,"value",void 0);mx=T([ke({type:be.Choice})],mx);var gx;const sB=`${ha}.18`;let mE=gx=class extends ps{constructor(e){super(e),Object.setPrototypeOf(this,gx.prototype)}};mE=gx=T([ke({type:be.Sequence})],mE);const rB=`${ha}.15`;var Fr;(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(Fr||(Fr={}));class Ib extends Qg{toJSON(){const e=this.toNumber(),n=[];return e&Fr.cRLSign&&n.push("crlSign"),e&Fr.dataEncipherment&&n.push("dataEncipherment"),e&Fr.decipherOnly&&n.push("decipherOnly"),e&Fr.digitalSignature&&n.push("digitalSignature"),e&Fr.encipherOnly&&n.push("encipherOnly"),e&Fr.keyAgreement&&n.push("keyAgreement"),e&Fr.keyCertSign&&n.push("keyCertSign"),e&Fr.keyEncipherment&&n.push("keyEncipherment"),e&Fr.nonRepudiation&&n.push("nonRepudiation"),n}toString(){return`[${this.toJSON().join(", ")}]`}}var yx;class ny{constructor(e={}){this.base=new lt,this.minimum=0,Object.assign(this,e)}}T([P({type:lt})],ny.prototype,"base",void 0);T([P({type:ne.Integer,context:0,defaultValue:0,implicit:!0})],ny.prototype,"minimum",void 0);T([P({type:ne.Integer,context:1,optional:!0,implicit:!0})],ny.prototype,"maximum",void 0);let B0=yx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,yx.prototype)}};B0=yx=T([ke({type:be.Sequence,itemType:ny})],B0);class iB{constructor(e={}){Object.assign(this,e)}}T([P({type:B0,context:0,optional:!0,implicit:!0})],iB.prototype,"permittedSubtrees",void 0);T([P({type:B0,context:1,optional:!0,implicit:!0})],iB.prototype,"excludedSubtrees",void 0);class aB{constructor(e={}){Object.assign(this,e)}}T([P({type:ne.Integer,context:0,implicit:!0,optional:!0,converter:Qt})],aB.prototype,"requireExplicitPolicy",void 0);T([P({type:ne.Integer,context:1,implicit:!0,optional:!0,converter:Qt})],aB.prototype,"inhibitPolicyMapping",void 0);var vx;class k2{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],k2.prototype,"issuerDomainPolicy",void 0);T([P({type:ne.ObjectIdentifier})],k2.prototype,"subjectDomainPolicy",void 0);let gE=vx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,vx.prototype)}};gE=vx=T([ke({type:be.Sequence,itemType:k2})],gE);var bx;const lB=`${ha}.17`;let _x=bx=class extends ps{constructor(e){super(e),Object.setPrototypeOf(this,bx.prototype)}};_x=bx=T([ke({type:be.Sequence})],_x);let na=class{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}};T([P({type:ne.ObjectIdentifier})],na.prototype,"type",void 0);T([P({type:ne.Any,repeated:"set"})],na.prototype,"values",void 0);var xx;let yE=xx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,xx.prototype)}};yE=xx=T([ke({type:be.Sequence,itemType:na})],yE);const oB=`${ha}.14`;class sl extends _2{}class cB{constructor(e={}){Object.assign(this,e)}}T([P({type:ne.GeneralizedTime,context:0,implicit:!0,optional:!0})],cB.prototype,"notBefore",void 0);T([P({type:ne.GeneralizedTime,context:1,implicit:!0,optional:!0})],cB.prototype,"notAfter",void 0);var Bd;(function(t){t[t.keyUpdateAllowed=1]="keyUpdateAllowed",t[t.newExtensions=2]="newExtensions",t[t.pKIXCertificate=4]="pKIXCertificate"})(Bd||(Bd={}));class uB extends Qg{toJSON(){const e=[],n=this.toNumber();return n&Bd.pKIXCertificate&&e.push("pKIXCertificate"),n&Bd.newExtensions&&e.push("newExtensions"),n&Bd.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}}class hB{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new uB,Object.assign(this,e)}}T([P({type:ne.GeneralString})],hB.prototype,"entrustVers",void 0);T([P({type:uB})],hB.prototype,"entrustInfoFlags",void 0);var wx;let vE=wx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,wx.prototype)}};vE=wx=T([ke({type:be.Sequence,itemType:Cf})],vE);class Ie{constructor(e={}){this.algorithm="",Object.assign(this,e)}isEqual(e){return e instanceof Ie&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&eO(e.parameters,this.parameters)||e.parameters===this.parameters)}}T([P({type:ne.ObjectIdentifier})],Ie.prototype,"algorithm",void 0);T([P({type:ne.Any,optional:!0})],Ie.prototype,"parameters",void 0);class di{constructor(e={}){this.algorithm=new Ie,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:Ie})],di.prototype,"algorithm",void 0);T([P({type:ne.BitString})],di.prototype,"subjectPublicKey",void 0);let ss=class{constructor(e){if(e)if(typeof e=="string"||typeof e=="number"||e instanceof Date){const n=new Date(e);n.getUTCFullYear()>2049?this.generalTime=n:this.utcTime=n}else Object.assign(this,e)}getTime(){const e=this.utcTime||this.generalTime;if(!e)throw new Error("Cannot get time from CHOICE object");return e}};T([P({type:ne.UTCTime})],ss.prototype,"utcTime",void 0);T([P({type:ne.GeneralizedTime})],ss.prototype,"generalTime",void 0);ss=T([ke({type:be.Choice})],ss);class sy{constructor(e){this.notBefore=new ss(new Date),this.notAfter=new ss(new Date),e&&(this.notBefore=new ss(e.notBefore),this.notAfter=new ss(e.notAfter))}}T([P({type:ss})],sy.prototype,"notBefore",void 0);T([P({type:ss})],sy.prototype,"notAfter",void 0);var Sx;let Xr=class dB{constructor(e={}){this.extnID="",this.critical=dB.CRITICAL,this.extnValue=new Et,Object.assign(this,e)}};Xr.CRITICAL=!1;T([P({type:ne.ObjectIdentifier})],Xr.prototype,"extnID",void 0);T([P({type:ne.Boolean,defaultValue:Xr.CRITICAL})],Xr.prototype,"critical",void 0);T([P({type:Et})],Xr.prototype,"extnValue",void 0);let ao=Sx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Sx.prototype)}};ao=Sx=T([ke({type:be.Sequence,itemType:Xr})],ao);var Kc;(function(t){t[t.v1=0]="v1",t[t.v2=1]="v2",t[t.v3=2]="v3"})(Kc||(Kc={}));class Pr{constructor(e={}){this.version=Kc.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new Ie,this.issuer=new Mn,this.validity=new sy,this.subject=new Mn,this.subjectPublicKeyInfo=new di,Object.assign(this,e)}}T([P({type:ne.Integer,context:0,defaultValue:Kc.v1})],Pr.prototype,"version",void 0);T([P({type:ne.Integer,converter:Qt})],Pr.prototype,"serialNumber",void 0);T([P({type:Ie})],Pr.prototype,"signature",void 0);T([P({type:Mn})],Pr.prototype,"issuer",void 0);T([P({type:sy})],Pr.prototype,"validity",void 0);T([P({type:Mn})],Pr.prototype,"subject",void 0);T([P({type:di})],Pr.prototype,"subjectPublicKeyInfo",void 0);T([P({type:ne.BitString,context:1,implicit:!0,optional:!0})],Pr.prototype,"issuerUniqueID",void 0);T([P({type:ne.BitString,context:2,implicit:!0,optional:!0})],Pr.prototype,"subjectUniqueID",void 0);T([P({type:ao,context:3,optional:!0})],Pr.prototype,"extensions",void 0);class Gc{constructor(e={}){this.tbsCertificate=new Pr,this.signatureAlgorithm=new Ie,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:Pr,raw:!0})],Gc.prototype,"tbsCertificate",void 0);T([P({type:Ie})],Gc.prototype,"signatureAlgorithm",void 0);T([P({type:ne.BitString})],Gc.prototype,"signatureValue",void 0);class ry{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new ss,Object.assign(this,e)}}T([P({type:ne.Integer,converter:Qt})],ry.prototype,"userCertificate",void 0);T([P({type:ss})],ry.prototype,"revocationDate",void 0);T([P({type:Xr,optional:!0,repeated:"sequence"})],ry.prototype,"crlEntryExtensions",void 0);class da{constructor(e={}){this.signature=new Ie,this.issuer=new Mn,this.thisUpdate=new ss,Object.assign(this,e)}}T([P({type:ne.Integer,optional:!0})],da.prototype,"version",void 0);T([P({type:Ie})],da.prototype,"signature",void 0);T([P({type:Mn})],da.prototype,"issuer",void 0);T([P({type:ss})],da.prototype,"thisUpdate",void 0);T([P({type:ss,optional:!0})],da.prototype,"nextUpdate",void 0);T([P({type:ry,repeated:"sequence",optional:!0})],da.prototype,"revokedCertificates",void 0);T([P({type:Xr,optional:!0,context:0,repeated:"sequence"})],da.prototype,"crlExtensions",void 0);class C2{constructor(e={}){this.tbsCertList=new da,this.signatureAlgorithm=new Ie,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:da,raw:!0})],C2.prototype,"tbsCertList",void 0);T([P({type:Ie})],C2.prototype,"signatureAlgorithm",void 0);T([P({type:ne.BitString})],C2.prototype,"signature",void 0);class bu{constructor(e={}){this.issuer=new Mn,this.serialNumber=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:Mn})],bu.prototype,"issuer",void 0);T([P({type:ne.Integer,converter:Qt})],bu.prototype,"serialNumber",void 0);let Yc=class{constructor(e={}){Object.assign(this,e)}};T([P({type:sl,context:0,implicit:!0})],Yc.prototype,"subjectKeyIdentifier",void 0);T([P({type:bu})],Yc.prototype,"issuerAndSerialNumber",void 0);Yc=T([ke({type:be.Choice})],Yc);var sa;(function(t){t[t.v0=0]="v0",t[t.v1=1]="v1",t[t.v2=2]="v2",t[t.v3=3]="v3",t[t.v4=4]="v4",t[t.v5=5]="v5"})(sa||(sa={}));let Jd=class extends Ie{};Jd=T([ke({type:be.Sequence})],Jd);let M0=class extends Ie{};M0=T([ke({type:be.Sequence})],M0);let vi=class extends Ie{};vi=T([ke({type:be.Sequence})],vi);let D0=class extends Ie{};D0=T([ke({type:be.Sequence})],D0);let bE=class extends Ie{};bE=T([ke({type:be.Sequence})],bE);let kx=class extends Ie{};kx=T([ke({type:be.Sequence})],kx);let _u=class{constructor(e={}){this.attrType="",this.attrValues=[],Object.assign(this,e)}};T([P({type:ne.ObjectIdentifier})],_u.prototype,"attrType",void 0);T([P({type:ne.Any,repeated:"set"})],_u.prototype,"attrValues",void 0);var Cx;class Ci{constructor(e={}){this.version=sa.v0,this.sid=new Yc,this.digestAlgorithm=new Jd,this.signatureAlgorithm=new M0,this.signature=new Et,Object.assign(this,e)}}T([P({type:ne.Integer})],Ci.prototype,"version",void 0);T([P({type:Yc})],Ci.prototype,"sid",void 0);T([P({type:Jd})],Ci.prototype,"digestAlgorithm",void 0);T([P({type:_u,repeated:"set",context:0,implicit:!0,optional:!0,raw:!0})],Ci.prototype,"signedAttrs",void 0);T([P({type:M0})],Ci.prototype,"signatureAlgorithm",void 0);T([P({type:Et})],Ci.prototype,"signature",void 0);T([P({type:_u,repeated:"set",context:1,implicit:!0,optional:!0})],Ci.prototype,"unsignedAttrs",void 0);let L0=Cx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Cx.prototype)}};L0=Cx=T([ke({type:be.Set,itemType:Ci})],L0);let _E=class extends Ci{};_E=T([ke({type:be.Sequence})],_E);let xE=class extends ss{};xE=T([ke({type:be.Choice})],xE);class N2{constructor(e={}){this.acIssuer=new lt,this.acSerial=0,this.attrs=[],Object.assign(this,e)}}T([P({type:lt})],N2.prototype,"acIssuer",void 0);T([P({type:ne.Integer})],N2.prototype,"acSerial",void 0);T([P({type:na,repeated:"sequence"})],N2.prototype,"attrs",void 0);var Nx;let I0=Nx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Nx.prototype)}};I0=Nx=T([ke({type:be.Sequence,itemType:ne.ObjectIdentifier})],I0);class iy{constructor(e={}){this.permitUnSpecified=!0,Object.assign(this,e)}}T([P({type:ne.Integer,optional:!0})],iy.prototype,"pathLenConstraint",void 0);T([P({type:I0,implicit:!0,context:0,optional:!0})],iy.prototype,"permittedAttrs",void 0);T([P({type:I0,implicit:!0,context:1,optional:!0})],iy.prototype,"excludedAttrs",void 0);T([P({type:ne.Boolean,defaultValue:!0})],iy.prototype,"permitUnSpecified",void 0);class So{constructor(e={}){this.issuer=new ps,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ps})],So.prototype,"issuer",void 0);T([P({type:ne.Integer,converter:Qt})],So.prototype,"serial",void 0);T([P({type:ne.BitString,optional:!0})],So.prototype,"issuerUID",void 0);var Ax;(function(t){t[t.publicKey=0]="publicKey",t[t.publicKeyCert=1]="publicKeyCert",t[t.otherObjectTypes=2]="otherObjectTypes"})(Ax||(Ax={}));class ko{constructor(e={}){this.digestedObjectType=Ax.publicKey,this.digestAlgorithm=new Ie,this.objectDigest=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.Enumerated})],ko.prototype,"digestedObjectType",void 0);T([P({type:ne.ObjectIdentifier,optional:!0})],ko.prototype,"otherObjectTypeID",void 0);T([P({type:Ie})],ko.prototype,"digestAlgorithm",void 0);T([P({type:ne.BitString})],ko.prototype,"objectDigest",void 0);class ay{constructor(e={}){Object.assign(this,e)}}T([P({type:ps,optional:!0})],ay.prototype,"issuerName",void 0);T([P({type:So,context:0,implicit:!0,optional:!0})],ay.prototype,"baseCertificateID",void 0);T([P({type:ko,context:1,implicit:!0,optional:!0})],ay.prototype,"objectDigestInfo",void 0);let Xc=class{constructor(e={}){Object.assign(this,e)}};T([P({type:lt,repeated:"sequence"})],Xc.prototype,"v1Form",void 0);T([P({type:ay,context:0,implicit:!0})],Xc.prototype,"v2Form",void 0);Xc=T([ke({type:be.Choice})],Xc);class ly{constructor(e={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,e)}}T([P({type:ne.GeneralizedTime})],ly.prototype,"notBeforeTime",void 0);T([P({type:ne.GeneralizedTime})],ly.prototype,"notAfterTime",void 0);class Nf{constructor(e={}){Object.assign(this,e)}}T([P({type:So,implicit:!0,context:0,optional:!0})],Nf.prototype,"baseCertificateID",void 0);T([P({type:ps,implicit:!0,context:1,optional:!0})],Nf.prototype,"entityName",void 0);T([P({type:ko,implicit:!0,context:2,optional:!0})],Nf.prototype,"objectDigestInfo",void 0);var Ex;(function(t){t[t.v2=1]="v2"})(Ex||(Ex={}));class Qr{constructor(e={}){this.version=Ex.v2,this.holder=new Nf,this.issuer=new Xc,this.signature=new Ie,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new ly,this.attributes=[],Object.assign(this,e)}}T([P({type:ne.Integer})],Qr.prototype,"version",void 0);T([P({type:Nf})],Qr.prototype,"holder",void 0);T([P({type:Xc})],Qr.prototype,"issuer",void 0);T([P({type:Ie})],Qr.prototype,"signature",void 0);T([P({type:ne.Integer,converter:Qt})],Qr.prototype,"serialNumber",void 0);T([P({type:ly})],Qr.prototype,"attrCertValidityPeriod",void 0);T([P({type:na,repeated:"sequence"})],Qr.prototype,"attributes",void 0);T([P({type:ne.BitString,optional:!0})],Qr.prototype,"issuerUniqueID",void 0);T([P({type:ao,optional:!0})],Qr.prototype,"extensions",void 0);class oy{constructor(e={}){this.acinfo=new Qr,this.signatureAlgorithm=new Ie,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:Qr})],oy.prototype,"acinfo",void 0);T([P({type:Ie})],oy.prototype,"signatureAlgorithm",void 0);T([P({type:ne.BitString})],oy.prototype,"signatureValue",void 0);var P0;(function(t){t[t.unmarked=1]="unmarked",t[t.unclassified=2]="unclassified",t[t.restricted=4]="restricted",t[t.confidential=8]="confidential",t[t.secret=16]="secret",t[t.topSecret=32]="topSecret"})(P0||(P0={}));class jx extends Qg{}class A2{constructor(e={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier,implicit:!0,context:0})],A2.prototype,"type",void 0);T([P({type:ne.Any,implicit:!0,context:1})],A2.prototype,"value",void 0);class E2{constructor(e={}){this.policyId="",this.classList=new jx(P0.unclassified),Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],E2.prototype,"policyId",void 0);T([P({type:jx,defaultValue:new jx(P0.unclassified)})],E2.prototype,"classList",void 0);T([P({type:A2,repeated:"set"})],E2.prototype,"securityCategories",void 0);class cy{constructor(e={}){Object.assign(this,e)}}T([P({type:Et})],cy.prototype,"cotets",void 0);T([P({type:ne.ObjectIdentifier})],cy.prototype,"oid",void 0);T([P({type:ne.Utf8String})],cy.prototype,"string",void 0);class fB{constructor(e={}){this.values=[],Object.assign(this,e)}}T([P({type:ps,implicit:!0,context:0,optional:!0})],fB.prototype,"policyAuthority",void 0);T([P({type:cy,repeated:"sequence"})],fB.prototype,"values",void 0);var Tx;class uy{constructor(e={}){this.targetCertificate=new So,Object.assign(this,e)}}T([P({type:So})],uy.prototype,"targetCertificate",void 0);T([P({type:lt,optional:!0})],uy.prototype,"targetName",void 0);T([P({type:ko,optional:!0})],uy.prototype,"certDigestInfo",void 0);let Jc=class{constructor(e={}){Object.assign(this,e)}};T([P({type:lt,context:0,implicit:!0})],Jc.prototype,"targetName",void 0);T([P({type:lt,context:1,implicit:!0})],Jc.prototype,"targetGroup",void 0);T([P({type:uy,context:2,implicit:!0})],Jc.prototype,"targetCert",void 0);Jc=T([ke({type:be.Choice})],Jc);let Rx=Tx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Tx.prototype)}};Rx=Tx=T([ke({type:be.Sequence,itemType:Jc})],Rx);var Ox;let wE=Ox=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Ox.prototype)}};wE=Ox=T([ke({type:be.Sequence,itemType:Rx})],wE);class pB{constructor(e={}){Object.assign(this,e)}}T([P({type:ps,implicit:!0,context:0,optional:!0})],pB.prototype,"roleAuthority",void 0);T([P({type:lt,implicit:!0,context:1})],pB.prototype,"roleName",void 0);class j2{constructor(e={}){this.service=new lt,this.ident=new lt,Object.assign(this,e)}}T([P({type:lt})],j2.prototype,"service",void 0);T([P({type:lt})],j2.prototype,"ident",void 0);T([P({type:Et,optional:!0})],j2.prototype,"authInfo",void 0);var Bx;class T2{constructor(e={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],T2.prototype,"otherCertFormat",void 0);T([P({type:ne.Any})],T2.prototype,"otherCert",void 0);let Qc=class{constructor(e={}){Object.assign(this,e)}};T([P({type:Gc})],Qc.prototype,"certificate",void 0);T([P({type:oy,context:2,implicit:!0})],Qc.prototype,"v2AttrCert",void 0);T([P({type:T2,context:3,implicit:!0})],Qc.prototype,"other",void 0);Qc=T([ke({type:be.Choice})],Qc);let z0=Bx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Bx.prototype)}};z0=Bx=T([ke({type:be.Set,itemType:Qc})],z0);class xu{constructor(e={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],xu.prototype,"contentType",void 0);T([P({type:ne.Any,context:0})],xu.prototype,"content",void 0);let Qd=class{constructor(e={}){Object.assign(this,e)}};T([P({type:Et})],Qd.prototype,"single",void 0);T([P({type:ne.Any})],Qd.prototype,"any",void 0);Qd=T([ke({type:be.Choice})],Qd);class hy{constructor(e={}){this.eContentType="",Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],hy.prototype,"eContentType",void 0);T([P({type:Qd,context:0,optional:!0})],hy.prototype,"eContent",void 0);let Zd=class{constructor(e={}){Object.assign(this,e)}};T([P({type:Et,context:0,implicit:!0,optional:!0})],Zd.prototype,"value",void 0);T([P({type:Et,converter:QW,context:0,implicit:!0,optional:!0,repeated:"sequence"})],Zd.prototype,"constructedValue",void 0);Zd=T([ke({type:be.Choice})],Zd);class Af{constructor(e={}){this.contentType="",this.contentEncryptionAlgorithm=new D0,Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],Af.prototype,"contentType",void 0);T([P({type:D0})],Af.prototype,"contentEncryptionAlgorithm",void 0);T([P({type:Zd,optional:!0})],Af.prototype,"encryptedContent",void 0);class dy{constructor(e={}){this.keyAttrId="",Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],dy.prototype,"keyAttrId",void 0);T([P({type:ne.Any,optional:!0})],dy.prototype,"keyAttr",void 0);var Mx;class fy{constructor(e={}){this.subjectKeyIdentifier=new sl,Object.assign(this,e)}}T([P({type:sl})],fy.prototype,"subjectKeyIdentifier",void 0);T([P({type:ne.GeneralizedTime,optional:!0})],fy.prototype,"date",void 0);T([P({type:dy,optional:!0})],fy.prototype,"other",void 0);let Zc=class{constructor(e={}){Object.assign(this,e)}};T([P({type:fy,context:0,implicit:!0,optional:!0})],Zc.prototype,"rKeyId",void 0);T([P({type:bu,optional:!0})],Zc.prototype,"issuerAndSerialNumber",void 0);Zc=T([ke({type:be.Choice})],Zc);class R2{constructor(e={}){this.rid=new Zc,this.encryptedKey=new Et,Object.assign(this,e)}}T([P({type:Zc})],R2.prototype,"rid",void 0);T([P({type:Et})],R2.prototype,"encryptedKey",void 0);let $0=Mx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Mx.prototype)}};$0=Mx=T([ke({type:be.Sequence,itemType:R2})],$0);class O2{constructor(e={}){this.algorithm=new Ie,this.publicKey=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:Ie})],O2.prototype,"algorithm",void 0);T([P({type:ne.BitString})],O2.prototype,"publicKey",void 0);let lo=class{constructor(e={}){Object.assign(this,e)}};T([P({type:sl,context:0,implicit:!0,optional:!0})],lo.prototype,"subjectKeyIdentifier",void 0);T([P({type:O2,context:1,implicit:!0,optional:!0})],lo.prototype,"originatorKey",void 0);T([P({type:bu,optional:!0})],lo.prototype,"issuerAndSerialNumber",void 0);lo=T([ke({type:be.Choice})],lo);class wu{constructor(e={}){this.version=sa.v3,this.originator=new lo,this.keyEncryptionAlgorithm=new vi,this.recipientEncryptedKeys=new $0,Object.assign(this,e)}}T([P({type:ne.Integer})],wu.prototype,"version",void 0);T([P({type:lo,context:0})],wu.prototype,"originator",void 0);T([P({type:Et,context:1,optional:!0})],wu.prototype,"ukm",void 0);T([P({type:vi})],wu.prototype,"keyEncryptionAlgorithm",void 0);T([P({type:$0})],wu.prototype,"recipientEncryptedKeys",void 0);let eu=class{constructor(e={}){Object.assign(this,e)}};T([P({type:sl,context:0,implicit:!0})],eu.prototype,"subjectKeyIdentifier",void 0);T([P({type:bu})],eu.prototype,"issuerAndSerialNumber",void 0);eu=T([ke({type:be.Choice})],eu);class Ef{constructor(e={}){this.version=sa.v0,this.rid=new eu,this.keyEncryptionAlgorithm=new vi,this.encryptedKey=new Et,Object.assign(this,e)}}T([P({type:ne.Integer})],Ef.prototype,"version",void 0);T([P({type:eu})],Ef.prototype,"rid",void 0);T([P({type:vi})],Ef.prototype,"keyEncryptionAlgorithm",void 0);T([P({type:Et})],Ef.prototype,"encryptedKey",void 0);class jf{constructor(e={}){this.keyIdentifier=new Et,Object.assign(this,e)}}T([P({type:Et})],jf.prototype,"keyIdentifier",void 0);T([P({type:ne.GeneralizedTime,optional:!0})],jf.prototype,"date",void 0);T([P({type:dy,optional:!0})],jf.prototype,"other",void 0);class Tf{constructor(e={}){this.version=sa.v4,this.kekid=new jf,this.keyEncryptionAlgorithm=new vi,this.encryptedKey=new Et,Object.assign(this,e)}}T([P({type:ne.Integer})],Tf.prototype,"version",void 0);T([P({type:jf})],Tf.prototype,"kekid",void 0);T([P({type:vi})],Tf.prototype,"keyEncryptionAlgorithm",void 0);T([P({type:Et})],Tf.prototype,"encryptedKey",void 0);class Rf{constructor(e={}){this.version=sa.v0,this.keyEncryptionAlgorithm=new vi,this.encryptedKey=new Et,Object.assign(this,e)}}T([P({type:ne.Integer})],Rf.prototype,"version",void 0);T([P({type:kx,context:0,optional:!0})],Rf.prototype,"keyDerivationAlgorithm",void 0);T([P({type:vi})],Rf.prototype,"keyEncryptionAlgorithm",void 0);T([P({type:Et})],Rf.prototype,"encryptedKey",void 0);class B2{constructor(e={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],B2.prototype,"oriType",void 0);T([P({type:ne.Any})],B2.prototype,"oriValue",void 0);let ol=class{constructor(e={}){Object.assign(this,e)}};T([P({type:Ef,optional:!0})],ol.prototype,"ktri",void 0);T([P({type:wu,context:1,implicit:!0,optional:!0})],ol.prototype,"kari",void 0);T([P({type:Tf,context:2,implicit:!0,optional:!0})],ol.prototype,"kekri",void 0);T([P({type:Rf,context:3,implicit:!0,optional:!0})],ol.prototype,"pwri",void 0);T([P({type:B2,context:4,implicit:!0,optional:!0})],ol.prototype,"ori",void 0);ol=T([ke({type:be.Choice})],ol);var Dx;let H0=Dx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Dx.prototype)}};H0=Dx=T([ke({type:be.Set,itemType:ol})],H0);var Lx;class py{constructor(e={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],py.prototype,"otherRevInfoFormat",void 0);T([P({type:ne.Any})],py.prototype,"otherRevInfo",void 0);let U0=class{constructor(e={}){this.other=new py,Object.assign(this,e)}};T([P({type:py,context:1,implicit:!0})],U0.prototype,"other",void 0);U0=T([ke({type:be.Choice})],U0);let V0=Lx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Lx.prototype)}};V0=Lx=T([ke({type:be.Set,itemType:U0})],V0);class M2{constructor(e={}){Object.assign(this,e)}}T([P({type:z0,context:0,implicit:!0,optional:!0})],M2.prototype,"certs",void 0);T([P({type:V0,context:1,implicit:!0,optional:!0})],M2.prototype,"crls",void 0);var Ix;let Px=Ix=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Ix.prototype)}};Px=Ix=T([ke({type:be.Set,itemType:_u})],Px);class Of{constructor(e={}){this.version=sa.v0,this.recipientInfos=new H0,this.encryptedContentInfo=new Af,Object.assign(this,e)}}T([P({type:ne.Integer})],Of.prototype,"version",void 0);T([P({type:M2,context:0,implicit:!0,optional:!0})],Of.prototype,"originatorInfo",void 0);T([P({type:H0})],Of.prototype,"recipientInfos",void 0);T([P({type:Af})],Of.prototype,"encryptedContentInfo",void 0);T([P({type:Px,context:1,implicit:!0,optional:!0})],Of.prototype,"unprotectedAttrs",void 0);const kK="1.2.840.113549.1.7.2";var zx;let F0=zx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,zx.prototype)}};F0=zx=T([ke({type:be.Set,itemType:Jd})],F0);class Su{constructor(e={}){this.version=sa.v0,this.digestAlgorithms=new F0,this.encapContentInfo=new hy,this.signerInfos=new L0,Object.assign(this,e)}}T([P({type:ne.Integer})],Su.prototype,"version",void 0);T([P({type:F0})],Su.prototype,"digestAlgorithms",void 0);T([P({type:hy})],Su.prototype,"encapContentInfo",void 0);T([P({type:z0,context:0,implicit:!0,optional:!0})],Su.prototype,"certificates",void 0);T([P({type:V0,context:1,implicit:!0,optional:!0})],Su.prototype,"crls",void 0);T([P({type:L0})],Su.prototype,"signerInfos",void 0);const ef="1.2.840.10045.2.1",D2="1.2.840.10045.4.1",mB="1.2.840.10045.4.3.1",L2="1.2.840.10045.4.3.2",I2="1.2.840.10045.4.3.3",P2="1.2.840.10045.4.3.4",SE="1.2.840.10045.3.1.7",kE="1.3.132.0.34",CE="1.3.132.0.35";function Bf(t){return new Ie({algorithm:t})}const CK=Bf(D2);Bf(mB);const NK=Bf(L2),AK=Bf(I2),EK=Bf(P2);let tf=class{constructor(e={}){Object.assign(this,e)}};T([P({type:ne.ObjectIdentifier})],tf.prototype,"fieldType",void 0);T([P({type:ne.Any})],tf.prototype,"parameters",void 0);tf=T([ke({type:be.Sequence})],tf);class jK extends Et{}let tu=class{constructor(e={}){Object.assign(this,e)}};T([P({type:ne.OctetString})],tu.prototype,"a",void 0);T([P({type:ne.OctetString})],tu.prototype,"b",void 0);T([P({type:ne.BitString,optional:!0})],tu.prototype,"seed",void 0);tu=T([ke({type:be.Sequence})],tu);var $x;(function(t){t[t.ecpVer1=1]="ecpVer1"})($x||($x={}));let ra=class{constructor(e={}){this.version=$x.ecpVer1,Object.assign(this,e)}};T([P({type:ne.Integer})],ra.prototype,"version",void 0);T([P({type:tf})],ra.prototype,"fieldID",void 0);T([P({type:tu})],ra.prototype,"curve",void 0);T([P({type:jK})],ra.prototype,"base",void 0);T([P({type:ne.Integer,converter:Qt})],ra.prototype,"order",void 0);T([P({type:ne.Integer,optional:!0})],ra.prototype,"cofactor",void 0);ra=T([ke({type:be.Sequence})],ra);let cl=class{constructor(e={}){Object.assign(this,e)}};T([P({type:ne.ObjectIdentifier})],cl.prototype,"namedCurve",void 0);T([P({type:ne.Null})],cl.prototype,"implicitCurve",void 0);T([P({type:ra})],cl.prototype,"specifiedCurve",void 0);cl=T([ke({type:be.Choice})],cl);class my{constructor(e={}){this.version=1,this.privateKey=new Et,Object.assign(this,e)}}T([P({type:ne.Integer})],my.prototype,"version",void 0);T([P({type:Et})],my.prototype,"privateKey",void 0);T([P({type:cl,context:0,optional:!0})],my.prototype,"parameters",void 0);T([P({type:ne.BitString,context:1,optional:!0})],my.prototype,"publicKey",void 0);class q0{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.Integer,converter:Qt})],q0.prototype,"r",void 0);T([P({type:ne.Integer,converter:Qt})],q0.prototype,"s",void 0);const qs="1.2.840.113549.1.1",oo=`${qs}.1`,TK=`${qs}.7`,RK=`${qs}.9`,Md=`${qs}.10`,OK=`${qs}.2`,BK=`${qs}.4`,W0=`${qs}.5`,MK=`${qs}.14`,Hx=`${qs}.11`,K0=`${qs}.12`,G0=`${qs}.13`,gB=`${qs}.15`,yB=`${qs}.16`,Y0="1.3.14.3.2.26",vB="2.16.840.1.101.3.4.2.4",X0="2.16.840.1.101.3.4.2.1",J0="2.16.840.1.101.3.4.2.2",Q0="2.16.840.1.101.3.4.2.3",DK="2.16.840.1.101.3.4.2.5",LK="2.16.840.1.101.3.4.2.6",IK="1.2.840.113549.2.2",PK="1.2.840.113549.2.5",gy=`${qs}.8`;function In(t){return new Ie({algorithm:t,parameters:null})}In(IK);In(PK);const co=In(Y0);In(vB);In(X0);In(J0);In(Q0);In(DK);In(LK);const bB=new Ie({algorithm:gy,parameters:Me.serialize(co)}),_B=new Ie({algorithm:RK,parameters:Me.serialize(A0.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});In(oo);In(OK);In(BK);In(W0);In(gB);In(yB);In(K0);In(G0);In(gB);In(yB);class yy{constructor(e={}){this.hashAlgorithm=new Ie(co),this.maskGenAlgorithm=new Ie({algorithm:gy,parameters:Me.serialize(co)}),this.pSourceAlgorithm=new Ie(_B),Object.assign(this,e)}}T([P({type:Ie,context:0,defaultValue:co})],yy.prototype,"hashAlgorithm",void 0);T([P({type:Ie,context:1,defaultValue:bB})],yy.prototype,"maskGenAlgorithm",void 0);T([P({type:Ie,context:2,defaultValue:_B})],yy.prototype,"pSourceAlgorithm",void 0);new Ie({algorithm:TK,parameters:Me.serialize(new yy)});class uo{constructor(e={}){this.hashAlgorithm=new Ie(co),this.maskGenAlgorithm=new Ie({algorithm:gy,parameters:Me.serialize(co)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}}T([P({type:Ie,context:0,defaultValue:co})],uo.prototype,"hashAlgorithm",void 0);T([P({type:Ie,context:1,defaultValue:bB})],uo.prototype,"maskGenAlgorithm",void 0);T([P({type:ne.Integer,context:2,defaultValue:20})],uo.prototype,"saltLength",void 0);T([P({type:ne.Integer,context:3,defaultValue:1})],uo.prototype,"trailerField",void 0);new Ie({algorithm:Md,parameters:Me.serialize(new uo)});class vy{constructor(e={}){this.digestAlgorithm=new Ie,this.digest=new Et,Object.assign(this,e)}}T([P({type:Ie})],vy.prototype,"digestAlgorithm",void 0);T([P({type:Et})],vy.prototype,"digest",void 0);var Ux;class by{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.Integer,converter:Qt})],by.prototype,"prime",void 0);T([P({type:ne.Integer,converter:Qt})],by.prototype,"exponent",void 0);T([P({type:ne.Integer,converter:Qt})],by.prototype,"coefficient",void 0);let Vx=Ux=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Ux.prototype)}};Vx=Ux=T([ke({type:be.Sequence,itemType:by})],Vx);class Ni{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.Integer})],Ni.prototype,"version",void 0);T([P({type:ne.Integer,converter:Qt})],Ni.prototype,"modulus",void 0);T([P({type:ne.Integer,converter:Qt})],Ni.prototype,"publicExponent",void 0);T([P({type:ne.Integer,converter:Qt})],Ni.prototype,"privateExponent",void 0);T([P({type:ne.Integer,converter:Qt})],Ni.prototype,"prime1",void 0);T([P({type:ne.Integer,converter:Qt})],Ni.prototype,"prime2",void 0);T([P({type:ne.Integer,converter:Qt})],Ni.prototype,"exponent1",void 0);T([P({type:ne.Integer,converter:Qt})],Ni.prototype,"exponent2",void 0);T([P({type:ne.Integer,converter:Qt})],Ni.prototype,"coefficient",void 0);T([P({type:Vx,optional:!0})],Ni.prototype,"otherPrimeInfos",void 0);class z2{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.Integer,converter:Qt})],z2.prototype,"modulus",void 0);T([P({type:ne.Integer,converter:Qt})],z2.prototype,"publicExponent",void 0);var Fx;(function(t){t[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton",t[t.ResolutionScoped=2]="ResolutionScoped",t[t.ContainerScoped=3]="ContainerScoped"})(Fx||(Fx={}));const Is=Fx;var qx=function(t,e){return qx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var r in s)s.hasOwnProperty(r)&&(n[r]=s[r])},qx(t,e)};function $2(t,e){qx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function zK(t,e,n,s){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(g){try{d(s.next(g))}catch(m){o(m)}}function h(g){try{d(s.throw(g))}catch(m){o(m)}}function d(g){g.done?a(g.value):r(g.value).then(c,h)}d((s=s.apply(t,[])).next())})}function $K(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,r,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(g){return h([d,g])}}function h(d){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,r&&(a=d[0]&2?r.return:d[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,d[1])).done)return a;switch(r=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(g){d=[6,g],r=0}finally{s=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function ym(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z0(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),r,a=[],o;try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a}function $l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Z0(arguments[e]));return t}var HK="injectionTokens";function UK(t){var e=Reflect.getMetadata("design:paramtypes",t)||[],n=Reflect.getOwnMetadata(HK,t)||{};return Object.keys(n).forEach(function(s){e[+s]=n[s]}),e}function xB(t){return!!t.useClass}function Wx(t){return!!t.useFactory}var wB=(function(){function t(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return t.prototype.createProxy=function(e){var n=this,s={},r=!1,a,o=function(){return r||(a=e(n.wrap()),r=!0),a};return new Proxy(s,this.createHandler(o))},t.prototype.createHandler=function(e){var n={},s=function(r){n[r]=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];a[0]=e();var c=Reflect[r];return c.apply(void 0,$l(a))}};return this.reflectMethods.forEach(s),n},t})();function yc(t){return typeof t=="string"||typeof t=="symbol"}function VK(t){return typeof t=="object"&&"token"in t&&"multiple"in t}function NE(t){return typeof t=="object"&&"token"in t&&"transform"in t}function FK(t){return typeof t=="function"||t instanceof wB}function Wm(t){return!!t.useToken}function Km(t){return t.useValue!=null}function qK(t){return xB(t)||Km(t)||Wm(t)||Wx(t)}var H2=(function(){function t(){this._registryMap=new Map}return t.prototype.entries=function(){return this._registryMap.entries()},t.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},t.prototype.get=function(e){this.ensure(e);var n=this._registryMap.get(e);return n[n.length-1]||null},t.prototype.set=function(e,n){this.ensure(e),this._registryMap.get(e).push(n)},t.prototype.setAll=function(e,n){this._registryMap.set(e,n)},t.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},t.prototype.clear=function(){this._registryMap.clear()},t.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},t})(),WK=(function(t){$2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(H2),vm=(function(){function t(){this.scopedResolutions=new Map}return t})();function KK(t,e){if(t===null)return"at position #"+e;var n=t.split(",")[e].trim();return'"'+n+'" at position #'+e}function GK(t,e,n){return n===void 0&&(n="    "),$l([t],e.message.split(`
`).map(function(s){return n+s})).join(`
`)}function YK(t,e,n){var s=Z0(t.toString().match(/constructor\(([\w, ]+)\)/)||[],2),r=s[1],a=r===void 0?null:r,o=KK(a,e);return GK("Cannot inject the dependency "+o+' of "'+t.name+'" constructor. Reason:',n)}function XK(t){if(typeof t.dispose!="function")return!1;var e=t.dispose;return!(e.length>0)}var JK=(function(t){$2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(H2),QK=(function(t){$2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(H2),ZK=(function(){function t(){this.preResolution=new JK,this.postResolution=new QK}return t})(),SB=new Map,eG=(function(){function t(e){this.parent=e,this._registry=new WK,this.interceptors=new ZK,this.disposed=!1,this.disposables=new Set}return t.prototype.register=function(e,n,s){s===void 0&&(s={lifecycle:Is.Transient}),this.ensureNotDisposed();var r;if(qK(n)?r=n:r={useClass:n},Wm(r))for(var a=[e],o=r;o!=null;){var c=o.useToken;if(a.includes(c))throw new Error("Token registration cycle detected! "+$l(a,[c]).join(" -> "));a.push(c);var h=this._registry.get(c);h&&Wm(h.provider)?o=h.provider:o=null}if((s.lifecycle===Is.Singleton||s.lifecycle==Is.ContainerScoped||s.lifecycle==Is.ResolutionScoped)&&(Km(r)||Wx(r)))throw new Error('Cannot use lifecycle "'+Is[s.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:r,options:s}),this},t.prototype.registerType=function(e,n){return this.ensureNotDisposed(),yc(n)?this.register(e,{useToken:n}):this.register(e,{useClass:n})},t.prototype.registerInstance=function(e,n){return this.ensureNotDisposed(),this.register(e,{useValue:n})},t.prototype.registerSingleton=function(e,n){if(this.ensureNotDisposed(),yc(e)){if(yc(n))return this.register(e,{useToken:n},{lifecycle:Is.Singleton});if(n)return this.register(e,{useClass:n},{lifecycle:Is.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var s=e;return n&&!yc(n)&&(s=n),this.register(e,{useClass:s},{lifecycle:Is.Singleton})},t.prototype.resolve=function(e,n,s){n===void 0&&(n=new vm),s===void 0&&(s=!1),this.ensureNotDisposed();var r=this.getRegistration(e);if(!r&&yc(e)){if(s)return;throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"Single"),r){var a=this.resolveRegistration(r,n);return this.executePostResolutionInterceptor(e,a,"Single"),a}if(FK(e)){var a=this.construct(e,n);return this.executePostResolutionInterceptor(e,a,"Single"),a}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},t.prototype.executePreResolutionInterceptor=function(e,n){var s,r;if(this.interceptors.preResolution.has(e)){var a=[];try{for(var o=ym(this.interceptors.preResolution.getAll(e)),c=o.next();!c.done;c=o.next()){var h=c.value;h.options.frequency!="Once"&&a.push(h),h.callback(e,n)}}catch(d){s={error:d}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(s)throw s.error}}this.interceptors.preResolution.setAll(e,a)}},t.prototype.executePostResolutionInterceptor=function(e,n,s){var r,a;if(this.interceptors.postResolution.has(e)){var o=[];try{for(var c=ym(this.interceptors.postResolution.getAll(e)),h=c.next();!h.done;h=c.next()){var d=h.value;d.options.frequency!="Once"&&o.push(d),d.callback(e,n,s)}}catch(g){r={error:g}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}this.interceptors.postResolution.setAll(e,o)}},t.prototype.resolveRegistration=function(e,n){if(this.ensureNotDisposed(),e.options.lifecycle===Is.ResolutionScoped&&n.scopedResolutions.has(e))return n.scopedResolutions.get(e);var s=e.options.lifecycle===Is.Singleton,r=e.options.lifecycle===Is.ContainerScoped,a=s||r,o;return Km(e.provider)?o=e.provider.useValue:Wm(e.provider)?o=a?e.instance||(e.instance=this.resolve(e.provider.useToken,n)):this.resolve(e.provider.useToken,n):xB(e.provider)?o=a?e.instance||(e.instance=this.construct(e.provider.useClass,n)):this.construct(e.provider.useClass,n):Wx(e.provider)?o=e.provider.useFactory(this):o=this.construct(e.provider,n),e.options.lifecycle===Is.ResolutionScoped&&n.scopedResolutions.set(e,o),o},t.prototype.resolveAll=function(e,n,s){var r=this;n===void 0&&(n=new vm),s===void 0&&(s=!1),this.ensureNotDisposed();var a=this.getAllRegistrations(e);if(!a&&yc(e)){if(s)return[];throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"All"),a){var o=a.map(function(h){return r.resolveRegistration(h,n)});return this.executePostResolutionInterceptor(e,o,"All"),o}var c=[this.construct(e,n)];return this.executePostResolutionInterceptor(e,c,"All"),c},t.prototype.isRegistered=function(e,n){return n===void 0&&(n=!1),this.ensureNotDisposed(),this._registry.has(e)||n&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},t.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},t.prototype.clearInstances=function(){var e,n;this.ensureNotDisposed();try{for(var s=ym(this._registry.entries()),r=s.next();!r.done;r=s.next()){var a=Z0(r.value,2),o=a[0],c=a[1];this._registry.setAll(o,c.filter(function(h){return!Km(h.provider)}).map(function(h){return h.instance=void 0,h}))}}catch(h){e={error:h}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.createChildContainer=function(){var e,n;this.ensureNotDisposed();var s=new t(this);try{for(var r=ym(this._registry.entries()),a=r.next();!a.done;a=r.next()){var o=Z0(a.value,2),c=o[0],h=o[1];h.some(function(d){var g=d.options;return g.lifecycle===Is.ContainerScoped})&&s._registry.setAll(c,h.map(function(d){return d.options.lifecycle===Is.ContainerScoped?{provider:d.provider,options:d.options}:d}))}}catch(d){e={error:d}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return s},t.prototype.beforeResolution=function(e,n,s){s===void 0&&(s={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:n,options:s})},t.prototype.afterResolution=function(e,n,s){s===void 0&&(s={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:n,options:s})},t.prototype.dispose=function(){return zK(this,void 0,void 0,function(){var e;return $K(this,function(n){switch(n.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach(function(s){var r=s.dispose();r&&e.push(r)}),[4,Promise.all(e)];case 1:return n.sent(),[2]}})})},t.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},t.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},t.prototype.construct=function(e,n){var s=this;if(e instanceof wB)return e.createProxy(function(a){return s.resolve(a,n)});var r=(function(){var a=SB.get(e);if(!a||a.length===0){if(e.length===0)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var o=a.map(s.resolveParams(n,e));return new(e.bind.apply(e,$l([void 0],o)))})();return XK(r)&&this.disposables.add(r),r},t.prototype.resolveParams=function(e,n){var s=this;return function(r,a){var o,c,h;try{return VK(r)?NE(r)?r.multiple?(o=s.resolve(r.transform)).transform.apply(o,$l([s.resolveAll(r.token,new vm,r.isOptional)],r.transformArgs)):(c=s.resolve(r.transform)).transform.apply(c,$l([s.resolve(r.token,e,r.isOptional)],r.transformArgs)):r.multiple?s.resolveAll(r.token,new vm,r.isOptional):s.resolve(r.token,e,r.isOptional):NE(r)?(h=s.resolve(r.transform,e)).transform.apply(h,$l([s.resolve(r.token,e)],r.transformArgs)):s.resolve(r,e)}catch(d){throw new Error(YK(n,a,d))}}},t.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},t})(),ks=new eG;function _y(t){return function(e){SB.set(e,UK(e))}}if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);var Kx;class xy{constructor(e={}){this.attrId="",this.attrValues=[],Object.assign(e)}}T([P({type:ne.ObjectIdentifier})],xy.prototype,"attrId",void 0);T([P({type:ne.Any,repeated:"set"})],xy.prototype,"attrValues",void 0);let AE=Kx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Kx.prototype)}};AE=Kx=T([ke({type:be.Sequence,itemType:xy})],AE);var Gx;let EE=Gx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Gx.prototype)}};EE=Gx=T([ke({type:be.Sequence,itemType:xu})],EE);class kB{constructor(e={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],kB.prototype,"certId",void 0);T([P({type:ne.Any,context:0})],kB.prototype,"certValue",void 0);class CB{constructor(e={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],CB.prototype,"crlId",void 0);T([P({type:ne.Any,context:0})],CB.prototype,"crltValue",void 0);class NB extends Et{}let wy=class{constructor(e={}){this.encryptionAlgorithm=new Ie,this.encryptedData=new NB,Object.assign(this,e)}};T([P({type:Ie})],wy.prototype,"encryptionAlgorithm",void 0);T([P({type:NB})],wy.prototype,"encryptedData",void 0);var Yx,Xx;(function(t){t[t.v1=0]="v1"})(Xx||(Xx={}));class AB extends Et{}let Jx=Yx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Yx.prototype)}};Jx=Yx=T([ke({type:be.Sequence,itemType:na})],Jx);class Mf{constructor(e={}){this.version=Xx.v1,this.privateKeyAlgorithm=new Ie,this.privateKey=new AB,Object.assign(this,e)}}T([P({type:ne.Integer})],Mf.prototype,"version",void 0);T([P({type:Ie})],Mf.prototype,"privateKeyAlgorithm",void 0);T([P({type:AB})],Mf.prototype,"privateKey",void 0);T([P({type:Jx,implicit:!0,context:0,optional:!0})],Mf.prototype,"attributes",void 0);let jE=class extends Mf{};jE=T([ke({type:be.Sequence})],jE);let TE=class extends wy{};TE=T([ke({type:be.Sequence})],TE);class EB{constructor(e={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],EB.prototype,"secretTypeId",void 0);T([P({type:ne.Any,context:0})],EB.prototype,"secretValue",void 0);class Df{constructor(e={}){this.mac=new vy,this.macSalt=new Et,this.iterations=1,Object.assign(this,e)}}T([P({type:vy})],Df.prototype,"mac",void 0);T([P({type:Et})],Df.prototype,"macSalt",void 0);T([P({type:ne.Integer,defaultValue:1})],Df.prototype,"iterations",void 0);class Sy{constructor(e={}){this.version=3,this.authSafe=new xu,this.macData=new Df,Object.assign(this,e)}}T([P({type:ne.Integer})],Sy.prototype,"version",void 0);T([P({type:xu})],Sy.prototype,"authSafe",void 0);T([P({type:Df,optional:!0})],Sy.prototype,"macData",void 0);var Qx;class ky{constructor(e={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ne.ObjectIdentifier})],ky.prototype,"bagId",void 0);T([P({type:ne.Any,context:0})],ky.prototype,"bagValue",void 0);T([P({type:xy,repeated:"set",optional:!0})],ky.prototype,"bagAttributes",void 0);let RE=Qx=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,Qx.prototype)}};RE=Qx=T([ke({type:be.Sequence,itemType:ky})],RE);var Zx,ew,tw;const jB="1.2.840.113549.1.9",TB=`${jB}.7`,U2=`${jB}.14`;let eg=class extends ls{constructor(e={}){super(e)}toString(){return this.ia5String||super.toString()}};T([P({type:ne.IA5String})],eg.prototype,"ia5String",void 0);eg=T([ke({type:be.Choice})],eg);let OE=class extends xu{};OE=T([ke({type:be.Sequence})],OE);let BE=class extends Sy{};BE=T([ke({type:be.Sequence})],BE);let ME=class extends wy{};ME=T([ke({type:be.Sequence})],ME);let nw=class{constructor(e=""){this.value=e}toString(){return this.value}};T([P({type:ne.IA5String})],nw.prototype,"value",void 0);nw=T([ke({type:be.Choice})],nw);let DE=class extends eg{};DE=T([ke({type:be.Choice})],DE);let LE=class extends ls{};LE=T([ke({type:be.Choice})],LE);let sw=class{constructor(e=new Date){this.value=e}};T([P({type:ne.GeneralizedTime})],sw.prototype,"value",void 0);sw=T([ke({type:be.Choice})],sw);let IE=class extends ls{};IE=T([ke({type:be.Choice})],IE);let rw=class{constructor(e="M"){this.value=e}toString(){return this.value}};T([P({type:ne.PrintableString})],rw.prototype,"value",void 0);rw=T([ke({type:be.Choice})],rw);let tg=class{constructor(e=""){this.value=e}toString(){return this.value}};T([P({type:ne.PrintableString})],tg.prototype,"value",void 0);tg=T([ke({type:be.Choice})],tg);let PE=class extends tg{};PE=T([ke({type:be.Choice})],PE);let zE=class extends ls{};zE=T([ke({type:be.Choice})],zE);let iw=class{constructor(e=""){this.value=e}toString(){return this.value}};T([P({type:ne.ObjectIdentifier})],iw.prototype,"value",void 0);iw=T([ke({type:be.Choice})],iw);let $E=class extends ss{};$E=T([ke({type:be.Choice})],$E);let aw=class{constructor(e=0){this.value=e}toString(){return this.value.toString()}};T([P({type:ne.Integer})],aw.prototype,"value",void 0);aw=T([ke({type:be.Choice})],aw);let HE=class extends Ci{};HE=T([ke({type:be.Sequence})],HE);let ng=class extends ls{};ng=T([ke({type:be.Choice})],ng);let UE=Zx=class extends ao{constructor(e){super(e),Object.setPrototypeOf(this,Zx.prototype)}};UE=Zx=T([ke({type:be.Sequence})],UE);let VE=ew=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,ew.prototype)}};VE=ew=T([ke({type:be.Set,itemType:_u})],VE);let lw=class{constructor(e=""){this.value=e}toString(){return this.value}};T([P({type:ne.BmpString})],lw.prototype,"value",void 0);lw=T([ke({type:be.Choice})],lw);let ow=class extends Ie{};ow=T([ke({type:be.Sequence})],ow);let FE=tw=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,tw.prototype)}};FE=tw=T([ke({type:be.Sequence,itemType:ow})],FE);var cw;let sg=cw=class extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,cw.prototype)}};sg=cw=T([ke({type:be.Sequence,itemType:na})],sg);class ku{constructor(e={}){this.version=0,this.subject=new Mn,this.subjectPKInfo=new di,this.attributes=new sg,Object.assign(this,e)}}T([P({type:ne.Integer})],ku.prototype,"version",void 0);T([P({type:Mn})],ku.prototype,"subject",void 0);T([P({type:di})],ku.prototype,"subjectPKInfo",void 0);T([P({type:sg,implicit:!0,context:0,optional:!0})],ku.prototype,"attributes",void 0);class nf{constructor(e={}){this.certificationRequestInfo=new ku,this.signatureAlgorithm=new Ie,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}T([P({type:ku,raw:!0})],nf.prototype,"certificationRequestInfo",void 0);T([P({type:Ie})],nf.prototype,"signatureAlgorithm",void 0);T([P({type:ne.BitString})],nf.prototype,"signature",void 0);const Lf="crypto.algorithm";class tG{getAlgorithms(){return ks.resolveAll(Lf)}toAsnAlgorithm(e){({...e});for(const n of this.getAlgorithms()){const s=n.toAsnAlgorithm(e);if(s)return s}if(/^[0-9.]+$/.test(e.name)){const n=new Ie({algorithm:e.name});if("parameters"in e){const s=e;n.parameters=s.parameters}return n}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(e){for(const s of this.getAlgorithms()){const r=s.toWebAlgorithm(e);if(r)return r}return{name:e.algorithm,parameters:e.parameters}}}const nu="crypto.algorithmProvider";ks.registerSingleton(nu,tG);var Gm;const Ws="1.3.36.3.3.2.8.1.1",qE=`${Ws}.1`,WE=`${Ws}.2`,KE=`${Ws}.3`,GE=`${Ws}.4`,YE=`${Ws}.5`,XE=`${Ws}.6`,JE=`${Ws}.7`,QE=`${Ws}.8`,ZE=`${Ws}.9`,e3=`${Ws}.10`,t3=`${Ws}.11`,n3=`${Ws}.12`,s3=`${Ws}.13`,r3=`${Ws}.14`,i3="brainpoolP160r1",a3="brainpoolP160t1",l3="brainpoolP192r1",o3="brainpoolP192t1",c3="brainpoolP224r1",u3="brainpoolP224t1",h3="brainpoolP256r1",d3="brainpoolP256t1",f3="brainpoolP320r1",p3="brainpoolP320t1",m3="brainpoolP384r1",g3="brainpoolP384t1",y3="brainpoolP512r1",v3="brainpoolP512t1",rn="ECDSA";let sf=Gm=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case rn.toLowerCase():if("hash"in e)switch((typeof e.hash=="string"?e.hash:e.hash.name).toLowerCase()){case"sha-1":return CK;case"sha-256":return NK;case"sha-384":return AK;case"sha-512":return EK}else if("namedCurve"in e){let n="";switch(e.namedCurve){case"P-256":n=SE;break;case"K-256":n=Gm.SECP256K1;break;case"P-384":n=kE;break;case"P-521":n=CE;break;case i3:n=qE;break;case a3:n=WE;break;case l3:n=KE;break;case o3:n=GE;break;case c3:n=YE;break;case u3:n=XE;break;case h3:n=JE;break;case d3:n=QE;break;case f3:n=ZE;break;case p3:n=e3;break;case m3:n=t3;break;case g3:n=n3;break;case y3:n=s3;break;case v3:n=r3;break}if(n)return new Ie({algorithm:ef,parameters:Me.serialize(new cl({namedCurve:n}))})}}return null}toWebAlgorithm(e){switch(e.algorithm){case D2:return{name:rn,hash:{name:"SHA-1"}};case L2:return{name:rn,hash:{name:"SHA-256"}};case I2:return{name:rn,hash:{name:"SHA-384"}};case P2:return{name:rn,hash:{name:"SHA-512"}};case ef:{if(!e.parameters)throw new TypeError("Cannot get required parameters from EC algorithm");switch(Me.parse(e.parameters,cl).namedCurve){case SE:return{name:rn,namedCurve:"P-256"};case Gm.SECP256K1:return{name:rn,namedCurve:"K-256"};case kE:return{name:rn,namedCurve:"P-384"};case CE:return{name:rn,namedCurve:"P-521"};case qE:return{name:rn,namedCurve:i3};case WE:return{name:rn,namedCurve:a3};case KE:return{name:rn,namedCurve:l3};case GE:return{name:rn,namedCurve:o3};case YE:return{name:rn,namedCurve:c3};case XE:return{name:rn,namedCurve:u3};case JE:return{name:rn,namedCurve:h3};case QE:return{name:rn,namedCurve:d3};case ZE:return{name:rn,namedCurve:f3};case e3:return{name:rn,namedCurve:p3};case t3:return{name:rn,namedCurve:m3};case n3:return{name:rn,namedCurve:g3};case s3:return{name:rn,namedCurve:y3};case r3:return{name:rn,namedCurve:v3}}}}return null}};sf.SECP256K1="1.3.132.0.10";sf=Gm=T([_y()],sf);ks.registerSingleton(Lf,sf);const RB=Symbol("name"),OB=Symbol("value");class Rt{constructor(e,n={},s=""){this[RB]=e,this[OB]=s;for(const r in n)this[r]=n[r]}}Rt.NAME=RB;Rt.VALUE=OB;class nG{static toTextObject(e){const n=new Rt("Algorithm Identifier",{},fl.toString(e.algorithm));if(e.parameters)if(e.algorithm===ef){const s=new sf().toWebAlgorithm(e);s&&"namedCurve"in s?n["Named Curve"]=s.namedCurve:n.Parameters=e.parameters}else n.Parameters=e.parameters;return n}}class fl{static toString(e){const n=this.items[e];return n||e}}fl.items={[Y0]:"sha1",[vB]:"sha224",[X0]:"sha256",[J0]:"sha384",[Q0]:"sha512",[oo]:"rsaEncryption",[W0]:"sha1WithRSAEncryption",[MK]:"sha224WithRSAEncryption",[Hx]:"sha256WithRSAEncryption",[K0]:"sha384WithRSAEncryption",[G0]:"sha512WithRSAEncryption",[ef]:"ecPublicKey",[D2]:"ecdsaWithSHA1",[mB]:"ecdsaWithSHA224",[L2]:"ecdsaWithSHA256",[I2]:"ecdsaWithSHA384",[P2]:"ecdsaWithSHA512",[vK]:"TLS WWW server authentication",[bK]:"TLS WWW client authentication",[_K]:"Code Signing",[xK]:"E-mail Protection",[wK]:"Time Stamping",[SK]:"OCSP Signing",[kK]:"Signed Data"};class ho{static serialize(e){return this.serializeObj(e).join(`
`)}static pad(e=0){return"".padStart(2*e," ")}static serializeObj(e,n=0){const s=[];let r=this.pad(n++),a="";const o=e[Rt.VALUE];o&&(a=` ${o}`),s.push(`${r}${e[Rt.NAME]}:${a}`),r=this.pad(n);for(const c in e){if(typeof c=="symbol")continue;const h=e[c],d=c?`${c}: `:"";if(typeof h=="string"||typeof h=="number"||typeof h=="boolean")s.push(`${r}${d}${h}`);else if(h instanceof Date)s.push(`${r}${d}${h.toUTCString()}`);else if(Array.isArray(h))for(const g of h)g[Rt.NAME]=c,s.push(...this.serializeObj(g,n));else if(h instanceof Rt)h[Rt.NAME]=c,s.push(...this.serializeObj(h,n));else if(Oe.isBufferSource(h))c?(s.push(`${r}${d}`),s.push(...this.serializeBufferSource(h,n+1))):s.push(...this.serializeBufferSource(h,n));else if("toTextObject"in h){const g=h.toTextObject();g[Rt.NAME]=c,s.push(...this.serializeObj(g,n))}else throw new TypeError("Cannot serialize data in text format. Unsupported type.")}return s}static serializeBufferSource(e,n=0){const s=this.pad(n),r=Oe.toUint8Array(e),a=[];for(let o=0;o<r.length;){const c=[];for(let h=0;h<16&&o<r.length;h++){h===8&&c.push("");const d=r[o++].toString(16).padStart(2,"0");c.push(d)}a.push(`${s}${c.join(" ")}`)}return a}static serializeAlgorithm(e){return this.algorithmSerializer.toTextObject(e)}}ho.oidSerializer=fl;ho.algorithmSerializer=nG;var Ac;class pl{get rawData(){return ut(this,Ac,"f")||tn(this,Ac,Me.serialize(this.asn),"f"),ut(this,Ac,"f")}constructor(...e){Ac.set(this,void 0),Oe.isBufferSource(e[0])?(this.asn=Me.parse(e[0],e[1]),tn(this,Ac,Oe.toArrayBuffer(e[0]),"f"),this.onInit(this.asn)):(this.asn=e[0],this.onInit(this.asn))}equal(e){return e instanceof pl?eO(e.rawData,this.rawData):!1}toString(e="text"){switch(e){case"asn":return Me.toString(this.rawData);case"text":return ho.serialize(this.toTextObject());case"hex":return Fe.ToHex(this.rawData);case"base64":return Fe.ToBase64(this.rawData);case"base64url":return Fe.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){return this.constructor.NAME}toTextObject(){const e=this.toTextObjectEmpty();return e[""]=this.rawData,e}toTextObjectEmpty(e){return new Rt(this.getTextName(),{},e)}}Ac=new WeakMap;pl.NAME="ASN";class fr extends pl{constructor(...e){let n;Oe.isBufferSource(e[0])?n=Oe.toArrayBuffer(e[0]):n=Me.serialize(new Xr({extnID:e[0],critical:e[1],extnValue:new Et(Oe.toArrayBuffer(e[2]))})),super(n,Xr)}onInit(e){this.type=e.extnID,this.critical=e.critical,this.value=e.extnValue.buffer}toTextObject(){const e=this.toTextObjectWithoutValue();return e[""]=this.value,e}toTextObjectWithoutValue(){const e=this.toTextObjectEmpty(this.critical?"critical":void 0);return e[Rt.NAME]===fr.NAME&&(e[Rt.NAME]=fl.toString(this.type)),e}}var BB;class Xa{static isCryptoKeyPair(e){return e&&e.privateKey&&e.publicKey}static isCryptoKey(e){return e&&e.usages&&e.type&&e.algorithm&&e.extractable!==void 0}constructor(){this.items=new Map,this[BB]="CryptoProvider",typeof self<"u"&&typeof crypto<"u"?this.set(Xa.DEFAULT,crypto):typeof global<"u"&&global.crypto&&global.crypto.subtle&&this.set(Xa.DEFAULT,global.crypto)}clear(){this.items.clear()}delete(e){return this.items.delete(e)}forEach(e,n){return this.items.forEach(e,n)}has(e){return this.items.has(e)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(e=Xa.DEFAULT){const n=this.items.get(e.toLowerCase());if(!n)throw new Error(`Cannot get Crypto by name '${e}'`);return n}set(e,n){if(typeof e=="string"){if(!n)throw new TypeError("Argument 'value' is required");this.items.set(e.toLowerCase(),n)}else this.items.set(Xa.DEFAULT,e);return this}}BB=Symbol.toStringTag;Xa.DEFAULT="default";const _s=new Xa,sG=/^[0-2](?:\.[1-9][0-9]*)+$/;function rG(t){return new RegExp(sG).test(t)}class MB{constructor(e={}){this.items={};for(const n in e)this.register(n,e[n])}get(e){return this.items[e]||null}findId(e){return rG(e)?e:this.get(e)}register(e,n){this.items[e]=n,this.items[n]=e}}const Vs=new MB;Vs.register("CN","2.5.4.3");Vs.register("L","2.5.4.7");Vs.register("ST","2.5.4.8");Vs.register("O","2.5.4.10");Vs.register("OU","2.5.4.11");Vs.register("C","2.5.4.6");Vs.register("DC","0.9.2342.19200300.100.1.25");Vs.register("E","1.2.840.113549.1.9.1");Vs.register("G","2.5.4.42");Vs.register("I","2.5.4.43");Vs.register("SN","2.5.4.4");Vs.register("T","2.5.4.12");function iG(t,e){return`\\${Fe.ToHex(Fe.FromUtf8String(e)).toUpperCase()}`}function aG(t){return t.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,iG)}class fo{static isASCII(e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)>255)return!1;return!0}static isPrintableString(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/g.test(e)}constructor(e,n={}){this.extraNames=new MB,this.asn=new Mn;for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)){const r=n[s];this.extraNames.register(s,r)}typeof e=="string"?this.asn=this.fromString(e):e instanceof Mn?this.asn=e:Oe.isBufferSource(e)?this.asn=Me.parse(e,Mn):this.asn=this.fromJSON(e)}getField(e){const n=this.extraNames.findId(e)||Vs.findId(e),s=[];for(const r of this.asn)for(const a of r)a.type===n&&s.push(a.value.toString());return s}getName(e){return this.extraNames.get(e)||Vs.get(e)}toString(){return this.asn.map(e=>e.map(n=>{const s=this.getName(n.type)||n.type,r=n.value.anyValue?`#${Fe.ToHex(n.value.anyValue)}`:aG(n.value.toString());return`${s}=${r}`}).join("+")).join(", ")}toJSON(){var e;const n=[];for(const s of this.asn){const r={};for(const a of s){const o=this.getName(a.type)||a.type;(e=r[o])!==null&&e!==void 0||(r[o]=[]),r[o].push(a.value.anyValue?`#${Fe.ToHex(a.value.anyValue)}`:a.value.toString())}n.push(r)}return n}fromString(e){const n=new Mn,s=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+"\\](?=[,+]|$))|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g;let r=null,a=",";for(;r=s.exec(`${e},`);){let[,o,c]=r;const h=c[c.length-1];(h===","||h==="+")&&(c=c.slice(0,c.length-1),r[3]=h);const d=r[3];o=this.getTypeOid(o);const g=this.createAttribute(o,c);a==="+"?n[n.length-1].push(g):n.push(new Wc([g])),a=d}return n}fromJSON(e){const n=new Mn;for(const s of e){const r=new Wc;for(const a in s){const o=this.getTypeOid(a),c=s[a];for(const h of c){const d=this.createAttribute(o,h);r.push(d)}}n.push(r)}return n}getTypeOid(e){if(/[\d.]+/.test(e)||(e=this.getName(e)||""),!e)throw new Error(`Cannot get OID for name type '${e}'`);return e}createAttribute(e,n){const s=new Zg({type:e});if(typeof n=="object")for(const r in n)switch(r){case"ia5String":s.value.ia5String=n[r];break;case"utf8String":s.value.utf8String=n[r];break;case"universalString":s.value.universalString=n[r];break;case"bmpString":s.value.bmpString=n[r];break;case"printableString":s.value.printableString=n[r];break}else if(n[0]==="#")s.value.anyValue=Fe.FromHex(n.slice(1));else{const r=this.processStringValue(n);e===this.getName("E")||e===this.getName("DC")?s.value.ia5String=r:fo.isPrintableString(r)?s.value.printableString=r:s.value.utf8String=r}return s}processStringValue(e){const n=/"(.*?[^\\])?"/.exec(e);return n&&(e=n[1]),e.replace(/\\0a/ig,`
`).replace(/\\0d/ig,"\r").replace(/\\0g/ig,"	").replace(/\\(.)/g,"$1")}toArrayBuffer(){return Me.serialize(this.asn)}async getThumbprint(...e){var n;let s,r="SHA-1";return e.length>=1&&!(!((n=e[0])===null||n===void 0)&&n.subtle)?(r=e[0]||r,s=e[1]||_s.get()):s=e[0]||_s.get(),await s.subtle.digest(r,this.toArrayBuffer())}}const DB="Cannot initialize GeneralName from ASN.1 data.",b3=`${DB} Unsupported string format in use.`,lG=`${DB} Value doesn't match to GUID regular expression.`,_3=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i,x3="1.3.6.1.4.1.311.25.1",w3="1.3.6.1.4.1.311.20.2.3",Pb="dns",zb="dn",$b="email",Hb="ip",Ub="url",Vb="guid",Fb="upn",bm="id";class Ja extends pl{constructor(...e){let n;if(e.length===2)switch(e[0]){case zb:{const s=new fo(e[1]).toArrayBuffer(),r=Me.parse(s,Mn);n=new lt({directoryName:r});break}case Pb:n=new lt({dNSName:e[1]});break;case $b:n=new lt({rfc822Name:e[1]});break;case Vb:{const s=new RegExp(_3,"i").exec(e[1]);if(!s)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");const r=s.slice(1).map((a,o)=>o<3?Fe.ToHex(new Uint8Array(Fe.FromHex(a)).reverse()):a).join("");n=new lt({otherName:new Xd({typeId:x3,value:Me.serialize(new Et(Fe.FromHex(r)))})});break}case Hb:n=new lt({iPAddress:e[1]});break;case bm:n=new lt({registeredID:e[1]});break;case Fb:{n=new lt({otherName:new Xd({typeId:w3,value:Me.serialize(JO.toASN(e[1]))})});break}case Ub:n=new lt({uniformResourceIdentifier:e[1]});break;default:throw new Error("Cannot create GeneralName. Unsupported type of the name")}else Oe.isBufferSource(e[0])?n=Me.parse(e[0],lt):n=e[0];super(n)}onInit(e){if(e.dNSName!=null)this.type=Pb,this.value=e.dNSName;else if(e.rfc822Name!=null)this.type=$b,this.value=e.rfc822Name;else if(e.iPAddress!=null)this.type=Hb,this.value=e.iPAddress;else if(e.uniformResourceIdentifier!=null)this.type=Ub,this.value=e.uniformResourceIdentifier;else if(e.registeredID!=null)this.type=bm,this.value=e.registeredID;else if(e.directoryName!=null)this.type=zb,this.value=new fo(e.directoryName).toString();else if(e.otherName!=null)if(e.otherName.typeId===x3){this.type=Vb;const n=Me.parse(e.otherName.value,Et),s=new RegExp(_3,"i").exec(Fe.ToHex(n));if(!s)throw new Error(lG);this.value=s.slice(1).map((r,a)=>a<3?Fe.ToHex(new Uint8Array(Fe.FromHex(r)).reverse()):r).join("-")}else if(e.otherName.typeId===w3)this.type=Fb,this.value=Me.parse(e.otherName.value,ls).toString();else throw new Error(b3);else throw new Error(b3)}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let e;switch(this.type){case zb:case Pb:case Vb:case Hb:case bm:case Fb:case Ub:e=this.type.toUpperCase();break;case $b:e="Email";break;default:throw new Error("Unsupported GeneralName type")}let n=this.value;return this.type===bm&&(n=fl.toString(n)),new Rt(e,void 0,n)}}class po extends pl{constructor(e){let n;if(e instanceof ps)n=e;else if(Array.isArray(e)){const s=[];for(const r of e)if(r instanceof lt)s.push(r);else{const a=Me.parse(new Ja(r.type,r.value).rawData,lt);s.push(a)}n=new ps(s)}else if(Oe.isBufferSource(e))n=Me.parse(e,ps);else throw new Error("Cannot initialize GeneralNames. Incorrect incoming arguments");super(n)}onInit(e){const n=[];for(const s of e){let r=null;try{r=new Ja(s)}catch{continue}n.push(r)}this.items=n}toJSON(){return this.items.map(e=>e.toJSON())}toTextObject(){const e=super.toTextObjectEmpty();for(const n of this.items){const s=n.toTextObject();let r=e[s[Rt.NAME]];Array.isArray(r)||(r=[],e[s[Rt.NAME]]=r),r.push(s)}return e}}po.NAME="GeneralNames";const Dd="-{5}",rf="\\n",oG=`[^${rf}]+`,cG=`${Dd}BEGIN (${oG}(?=${Dd}))${Dd}`,uG=`${Dd}END \\1${Dd}`,su="\\n",hG=`[^:${rf}]+`,dG=`(?:[^${rf}]+${su}(?: +[^${rf}]+${su})*)`,fG="[a-zA-Z0-9=+/]+",pG=`(?:${fG}${su})+`,S3=`${cG}${su}(?:((?:${hG}: ${dG})+))?${su}?(${pG})${uG}`;class cr{static isPem(e){return typeof e=="string"&&new RegExp(S3,"g").test(e.replace(/\r/g,""))}static decodeWithHeaders(e){e=e.replace(/\r/g,"");const n=new RegExp(S3,"g"),s=[];let r=null;for(;r=n.exec(e);){const a=r[3].replace(new RegExp(`[${rf}]+`,"g"),""),o={type:r[1],headers:[],rawData:Fe.FromBase64(a)},c=r[2];if(c){const h=c.split(new RegExp(su,"g"));let d=null;for(const g of h){const[m,v]=g.split(/:(.*)/);if(v===void 0){if(!d)throw new Error("Cannot parse PEM string. Incorrect header value");d.value+=m.trim()}else d&&o.headers.push(d),d={key:m,value:v.trim()}}d&&o.headers.push(d)}s.push(o)}return s}static decode(e){return this.decodeWithHeaders(e).map(s=>s.rawData)}static decodeFirst(e){const n=this.decode(e);if(!n.length)throw new RangeError("PEM string doesn't contain any objects");return n[0]}static encode(e,n){if(Array.isArray(e)){const s=new Array;return n?e.forEach(r=>{if(!Oe.isBufferSource(r))throw new TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource");s.push(this.encodeStruct({type:n,rawData:Oe.toArrayBuffer(r)}))}):e.forEach(r=>{if(!("type"in r))throw new TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut");s.push(this.encodeStruct(r))}),s.join(`
`)}else{if(!n)throw new Error("Required argument 'tag' is missed");return this.encodeStruct({type:n,rawData:Oe.toArrayBuffer(e)})}}static encodeStruct(e){var n;const s=e.type.toLocaleUpperCase(),r=[];if(r.push(`-----BEGIN ${s}-----`),!((n=e.headers)===null||n===void 0)&&n.length){for(const d of e.headers)r.push(`${d.key}: ${d.value}`);r.push("")}const a=Fe.ToBase64(e.rawData);let o,c=0;const h=Array();for(;c<a.length&&(a.length-c<64?o=a.substring(c):(o=a.substring(c,c+64),c+=64),o.length!==0);)if(h.push(o),o.length<64)break;return r.push(...h),r.push(`-----END ${s}-----`),r.join(`
`)}}cr.CertificateTag="CERTIFICATE";cr.CrlTag="CRL";cr.CertificateRequestTag="CERTIFICATE REQUEST";cr.PublicKeyTag="PUBLIC KEY";cr.PrivateKeyTag="PRIVATE KEY";class ia extends pl{static isAsnEncoded(e){return Oe.isBufferSource(e)||typeof e=="string"}static toArrayBuffer(e){if(typeof e=="string"){if(cr.isPem(e))return cr.decode(e)[0];if(Fe.isHex(e))return Fe.FromHex(e);if(Fe.isBase64(e))return Fe.FromBase64(e);if(Fe.isBase64Url(e))return Fe.FromBase64Url(e);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}else{const n=Oe.toUint8Array(e);if(n.length>0&&n[0]===48)return Oe.toArrayBuffer(e);const s=Fe.ToBinary(e);if(cr.isPem(s))return cr.decode(s)[0];if(Fe.isHex(s))return Fe.FromHex(s);if(Fe.isBase64(s))return Fe.FromBase64(s);if(Fe.isBase64Url(s))return Fe.FromBase64Url(s);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}}constructor(...e){ia.isAsnEncoded(e[0])?super(ia.toArrayBuffer(e[0]),e[1]):super(e[0])}toString(e="pem"){return e==="pem"?cr.encode(this.rawData,this.tag):super.toString(e)}}class mi extends ia{static async create(e,n=_s.get()){if(e instanceof mi)return e;if(Xa.isCryptoKey(e)){if(e.type!=="public")throw new TypeError("Public key is required");const s=await n.subtle.exportKey("spki",e);return new mi(s)}else{if(e.publicKey)return e.publicKey;if(Oe.isBufferSource(e))return new mi(e);throw new TypeError("Unsupported PublicKeyType")}}constructor(e){ia.isAsnEncoded(e)?super(e,di):super(e),this.tag=cr.PublicKeyTag}async export(...e){let n,s=["verify"],r={hash:"SHA-256",...this.algorithm};e.length>1?(r=e[0]||r,s=e[1]||s,n=e[2]||_s.get()):n=e[0]||_s.get();let a=this.rawData;const o=Me.parse(this.rawData,di);return o.algorithm.algorithm===Md&&(a=mG(o,a)),n.subtle.importKey("spki",a,r,!0,s)}onInit(e){const n=ks.resolve(nu),s=this.algorithm=n.toWebAlgorithm(e.algorithm);if(e.algorithm.algorithm===oo){const r=Me.parse(e.subjectPublicKey,z2),a=Oe.toUint8Array(r.modulus);s.publicExponent=Oe.toUint8Array(r.publicExponent),s.modulusLength=(a[0]?a:a.slice(1)).byteLength<<3}}async getThumbprint(...e){var n;let s,r="SHA-1";return e.length>=1&&!(!((n=e[0])===null||n===void 0)&&n.subtle)?(r=e[0]||r,s=e[1]||_s.get()):s=e[0]||_s.get(),await s.subtle.digest(r,this.rawData)}async getKeyIdentifier(...e){let n,s="SHA-1";e.length===1?typeof e[0]=="string"?(s=e[0],n=_s.get()):n=e[0]:e.length===2?(s=e[0],n=e[1]):n=_s.get();const r=Me.parse(this.rawData,di);return await n.subtle.digest(s,r.subjectPublicKey)}toTextObject(){const e=this.toTextObjectEmpty(),n=Me.parse(this.rawData,di);switch(e.Algorithm=ho.serializeAlgorithm(n.algorithm),n.algorithm.algorithm){case ef:e["EC Point"]=n.subjectPublicKey;break;case oo:default:e["Raw Data"]=n.subjectPublicKey}return e}}function mG(t,e){return t.algorithm=new Ie({algorithm:oo,parameters:null}),e=Me.serialize(t),e}class af extends fr{static async create(e,n=!1,s=_s.get()){if("name"in e&&"serialNumber"in e)return new af(e,n);const a=await(await mi.create(e,s)).getKeyIdentifier(s);return new af(Fe.ToHex(a),n)}constructor(...e){if(Oe.isBufferSource(e[0]))super(e[0]);else if(typeof e[0]=="string"){const n=new Vl({keyIdentifier:new _2(Fe.FromHex(e[0]))});super(ix,e[1],Me.serialize(n))}else{const n=e[0],s=n.name instanceof po?Me.parse(n.name.rawData,ps):n.name,r=new Vl({authorityCertIssuer:s,authorityCertSerialNumber:Fe.FromHex(n.serialNumber)});super(ix,e[1],Me.serialize(r))}}onInit(e){super.onInit(e);const n=Me.parse(e.extnValue,Vl);n.keyIdentifier&&(this.keyId=Fe.ToHex(n.keyIdentifier)),(n.authorityCertIssuer||n.authorityCertSerialNumber)&&(this.certId={name:n.authorityCertIssuer||[],serialNumber:n.authorityCertSerialNumber?Fe.ToHex(n.authorityCertSerialNumber):""})}toTextObject(){const e=this.toTextObjectWithoutValue(),n=Me.parse(this.value,Vl);return n.authorityCertIssuer&&(e["Authority Issuer"]=new po(n.authorityCertIssuer).toTextObject()),n.authorityCertSerialNumber&&(e["Authority Serial Number"]=n.authorityCertSerialNumber),n.keyIdentifier&&(e[""]=n.keyIdentifier),e}}af.NAME="Authority Key Identifier";class LB extends fr{constructor(...e){if(Oe.isBufferSource(e[0])){super(e[0]);const n=Me.parse(this.value,E0);this.ca=n.cA,this.pathLength=n.pathLenConstraint}else{const n=new E0({cA:e[0],pathLenConstraint:e[1]});super(ZO,e[2],Me.serialize(n)),this.ca=e[0],this.pathLength=e[1]}}toTextObject(){const e=this.toTextObjectWithoutValue();return this.ca&&(e.CA=this.ca),this.pathLength!==void 0&&(e["Path Length"]=this.pathLength),e}}LB.NAME="Basic Constraints";var k3;(function(t){t.serverAuth="1.3.6.1.5.5.7.3.1",t.clientAuth="1.3.6.1.5.5.7.3.2",t.codeSigning="1.3.6.1.5.5.7.3.3",t.emailProtection="1.3.6.1.5.5.7.3.4",t.timeStamping="1.3.6.1.5.5.7.3.8",t.ocspSigning="1.3.6.1.5.5.7.3.9"})(k3||(k3={}));class IB extends fr{constructor(...e){if(Oe.isBufferSource(e[0])){super(e[0]);const n=Me.parse(this.value,O0);this.usages=n.map(s=>s)}else{const n=new O0(e[0]);super(nB,e[1],Me.serialize(n)),this.usages=e[0]}}toTextObject(){const e=this.toTextObjectWithoutValue();return e[""]=this.usages.map(n=>fl.toString(n)).join(", "),e}}IB.NAME="Extended Key Usages";var Yi;(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(Yi||(Yi={}));class PB extends fr{constructor(...e){if(Oe.isBufferSource(e[0])){super(e[0]);const n=Me.parse(this.value,Ib);this.usages=n.toNumber()}else{const n=new Ib(e[0]);super(rB,e[1],Me.serialize(n)),this.usages=e[0]}}toTextObject(){const e=this.toTextObjectWithoutValue(),n=Me.parse(this.value,Ib);return e[""]=n.toJSON().join(", "),e}}PB.NAME="Key Usages";class Cy extends fr{static async create(e,n=!1,s=_s.get()){const a=await(await mi.create(e,s)).getKeyIdentifier(s);return new Cy(Fe.ToHex(a),n)}constructor(...e){if(Oe.isBufferSource(e[0])){super(e[0]);const n=Me.parse(this.value,sl);this.keyId=Fe.ToHex(n)}else{const n=typeof e[0]=="string"?Fe.FromHex(e[0]):e[0],s=new sl(n);super(oB,e[1],Me.serialize(s)),this.keyId=Fe.ToHex(n)}}toTextObject(){const e=this.toTextObjectWithoutValue(),n=Me.parse(this.value,sl);return e[""]=n,e}}Cy.NAME="Subject Key Identifier";class zB extends fr{constructor(...e){Oe.isBufferSource(e[0])?super(e[0]):super(lB,e[1],new po(e[0]||[]).rawData)}onInit(e){super.onInit(e);const n=Me.parse(e.extnValue,_x);this.names=new po(n)}toTextObject(){const e=this.toTextObjectWithoutValue(),n=this.names.toTextObject();for(const s in n)e[s]=n[s];return e}}zB.NAME="Subject Alternative Name";class pr{static register(e,n){this.items.set(e,n)}static create(e){const n=new fr(e),s=this.items.get(n.type);return s?new s(e):n}}pr.items=new Map;class $B extends fr{constructor(...e){var n;if(Oe.isBufferSource(e[0])){super(e[0]);const s=Me.parse(this.value,T0);this.policies=s.map(r=>r.policyIdentifier)}else{const s=e[0],r=(n=e[1])!==null&&n!==void 0?n:!1,a=new T0(s.map(o=>new ty({policyIdentifier:o})));super(eB,r,Me.serialize(a)),this.policies=s}}toTextObject(){const e=this.toTextObjectWithoutValue();return e.Policy=this.policies.map(n=>new Rt("",{},fl.toString(n))),e}}$B.NAME="Certificate Policies";pr.register(eB,$B);class HB extends fr{constructor(...e){var n;if(Oe.isBufferSource(e[0]))super(e[0]);else if(Array.isArray(e[0])&&typeof e[0][0]=="string"){const r=e[0].map(o=>new vu({distributionPoint:new io({fullName:[new lt({uniformResourceIdentifier:o})]})})),a=new $c(r);super(ux,e[1],Me.serialize(a))}else{const s=new $c(e[0]);super(ux,e[1],Me.serialize(s))}(n=this.distributionPoints)!==null&&n!==void 0||(this.distributionPoints=[])}onInit(e){super.onInit(e);const n=Me.parse(e.extnValue,$c);this.distributionPoints=n}toTextObject(){const e=this.toTextObjectWithoutValue();return e["Distribution Point"]=this.distributionPoints.map(n=>{var s;const r={};return n.distributionPoint&&(r[""]=(s=n.distributionPoint.fullName)===null||s===void 0?void 0:s.map(a=>new Ja(a).toString()).join(", ")),n.reasons&&(r.Reasons=n.reasons.toString()),n.cRLIssuer&&(r["CRL Issuer"]=n.cRLIssuer.map(a=>a.toString()).join(", ")),r}),e}}HB.NAME="CRL Distribution Points";class UB extends fr{constructor(...e){var n,s,r,a;if(Oe.isBufferSource(e[0]))super(e[0]);else if(e[0]instanceof Rc){const o=new Rc(e[0]);super(rx,e[1],Me.serialize(o))}else{const o=e[0],c=new Rc;xm(c,o,oE,"ocsp"),xm(c,o,cE,"caIssuers"),xm(c,o,uE,"timeStamping"),xm(c,o,hE,"caRepository"),super(rx,e[1],Me.serialize(c))}(n=this.ocsp)!==null&&n!==void 0||(this.ocsp=[]),(s=this.caIssuers)!==null&&s!==void 0||(this.caIssuers=[]),(r=this.timeStamping)!==null&&r!==void 0||(this.timeStamping=[]),(a=this.caRepository)!==null&&a!==void 0||(this.caRepository=[])}onInit(e){super.onInit(e),this.ocsp=[],this.caIssuers=[],this.timeStamping=[],this.caRepository=[],Me.parse(e.extnValue,Rc).forEach(s=>{switch(s.accessMethod){case oE:this.ocsp.push(new Ja(s.accessLocation));break;case cE:this.caIssuers.push(new Ja(s.accessLocation));break;case uE:this.timeStamping.push(new Ja(s.accessLocation));break;case hE:this.caRepository.push(new Ja(s.accessLocation));break}})}toTextObject(){const e=this.toTextObjectWithoutValue();return this.ocsp.length&&_m(e,"OCSP",this.ocsp),this.caIssuers.length&&_m(e,"CA Issuers",this.caIssuers),this.timeStamping.length&&_m(e,"Time Stamping",this.timeStamping),this.caRepository.length&&_m(e,"CA Repository",this.caRepository),e}}UB.NAME="Authority Info Access";function _m(t,e,n){if(n.length===1)t[e]=n[0].toTextObject();else{const s=new Rt("");n.forEach((r,a)=>{const o=r.toTextObject(),c=`${o[Rt.NAME]} ${a+1}`;let h=s[c];Array.isArray(h)||(h=[],s[c]=h),h.push(o)}),t[e]=s}}function xm(t,e,n,s){const r=e[s];r&&(Array.isArray(r)?r:[r]).forEach(o=>{typeof o=="string"&&(o=new Ja("url",o)),t.push(new Cf({accessMethod:n,accessLocation:Me.parse(o.rawData,lt)}))})}class VB extends fr{constructor(...e){Oe.isBufferSource(e[0])?super(e[0]):super(sB,e[1],new po(e[0]||[]).rawData)}onInit(e){super.onInit(e);const n=Me.parse(e.extnValue,ps);this.names=new po(n)}toTextObject(){const e=this.toTextObjectWithoutValue(),n=this.names.toTextObject();for(const s in n)e[s]=n[s];return e}}VB.NAME="Issuer Alternative Name";class Cu extends pl{constructor(...e){let n;if(Oe.isBufferSource(e[0]))n=Oe.toArrayBuffer(e[0]);else{const s=e[0],r=Array.isArray(e[1])?e[1].map(a=>Oe.toArrayBuffer(a)):[];n=Me.serialize(new na({type:s,values:r}))}super(n,na)}onInit(e){this.type=e.type,this.values=e.values}toTextObject(){const e=this.toTextObjectWithoutValue();return e.Value=this.values.map(n=>new Rt("",{"":n})),e}toTextObjectWithoutValue(){const e=this.toTextObjectEmpty();return e[Rt.NAME]===Cu.NAME&&(e[Rt.NAME]=fl.toString(this.type)),e}}Cu.NAME="Attribute";class FB extends Cu{constructor(...e){var n;if(Oe.isBufferSource(e[0]))super(e[0]);else{const s=new ng({printableString:e[0]});super(TB,[Me.serialize(s)])}(n=this.password)!==null&&n!==void 0||(this.password="")}onInit(e){if(super.onInit(e),this.values[0]){const n=Me.parse(this.values[0],ng);this.password=n.toString()}}toTextObject(){const e=this.toTextObjectWithoutValue();return e[Rt.VALUE]=this.password,e}}FB.NAME="Challenge Password";class V2 extends Cu{constructor(...e){var n;if(Oe.isBufferSource(e[0]))super(e[0]);else{const s=e[0],r=new ao;for(const a of s)r.push(Me.parse(a.rawData,Xr));super(U2,[Me.serialize(r)])}(n=this.items)!==null&&n!==void 0||(this.items=[])}onInit(e){if(super.onInit(e),this.values[0]){const n=Me.parse(this.values[0],ao);this.items=n.map(s=>pr.create(Me.serialize(s)))}}toTextObject(){const e=this.toTextObjectWithoutValue(),n=this.items.map(s=>s.toTextObject());for(const s of n)e[s[Rt.NAME]]=s;return e}}V2.NAME="Extensions";class Ny{static register(e,n){this.items.set(e,n)}static create(e){const n=new Cu(e),s=this.items.get(n.type);return s?new s(e):n}}Ny.items=new Map;const Ay="crypto.signatureFormatter";class gG{toAsnSignature(e,n){return Oe.toArrayBuffer(n)}toWebSignature(e,n){return Oe.toArrayBuffer(n)}}var Ym;let uw=Ym=class{static createPssParams(e,n){const s=Ym.getHashAlgorithm(e);return s?new uo({hashAlgorithm:s,maskGenAlgorithm:new Ie({algorithm:gy,parameters:Me.serialize(s)}),saltLength:n}):null}static getHashAlgorithm(e){const n=ks.resolve(nu);return typeof e=="string"?n.toAsnAlgorithm({name:e}):typeof e=="object"&&e&&"name"in e?n.toAsnAlgorithm(e):null}toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"rsassa-pkcs1-v1_5":if("hash"in e){let n;if(typeof e.hash=="string")n=e.hash;else if(e.hash&&typeof e.hash=="object"&&"name"in e.hash&&typeof e.hash.name=="string")n=e.hash.name.toUpperCase();else throw new Error("Cannot get hash algorithm name");switch(n.toLowerCase()){case"sha-1":return new Ie({algorithm:W0,parameters:null});case"sha-256":return new Ie({algorithm:Hx,parameters:null});case"sha-384":return new Ie({algorithm:K0,parameters:null});case"sha-512":return new Ie({algorithm:G0,parameters:null})}}else return new Ie({algorithm:oo,parameters:null});break;case"rsa-pss":if("hash"in e){if(!("saltLength"in e&&typeof e.saltLength=="number"))throw new Error("Cannot get 'saltLength' from 'alg' argument");const n=Ym.createPssParams(e.hash,e.saltLength);if(!n)throw new Error("Cannot create PSS parameters");return new Ie({algorithm:Md,parameters:Me.serialize(n)})}else return new Ie({algorithm:Md,parameters:null})}return null}toWebAlgorithm(e){switch(e.algorithm){case oo:return{name:"RSASSA-PKCS1-v1_5"};case W0:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case Hx:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case K0:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case G0:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case Md:if(e.parameters){const n=Me.parse(e.parameters,uo);return{name:"RSA-PSS",hash:ks.resolve(nu).toWebAlgorithm(n.hashAlgorithm),saltLength:n.saltLength}}else return{name:"RSA-PSS"}}return null}};uw=Ym=T([_y()],uw);ks.registerSingleton(Lf,uw);let hw=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"sha-1":return new Ie({algorithm:Y0});case"sha-256":return new Ie({algorithm:X0});case"sha-384":return new Ie({algorithm:J0});case"sha-512":return new Ie({algorithm:Q0})}return null}toWebAlgorithm(e){switch(e.algorithm){case Y0:return{name:"SHA-1"};case X0:return{name:"SHA-256"};case J0:return{name:"SHA-384"};case Q0:return{name:"SHA-512"}}return null}};hw=T([_y()],hw);ks.registerSingleton(Lf,hw);class Rr{addPadding(e,n){const s=Oe.toUint8Array(n),r=new Uint8Array(e);return r.set(s,e-s.length),r.buffer}removePadding(e,n=!1){let s=Oe.toUint8Array(e);for(let r=0;r<s.length;r++)if(s[r]){s=s.slice(r);break}if(n&&s[0]>127){const r=new Uint8Array(s.length+1);return r.set(s,1),r.buffer}return s.buffer}toAsnSignature(e,n){if(e.name==="ECDSA"){const s=e.namedCurve,r=Rr.namedCurveSize.get(s)||Rr.defaultNamedCurveSize,a=new q0,o=Oe.toUint8Array(n);return a.r=this.removePadding(o.slice(0,r),!0),a.s=this.removePadding(o.slice(r,r+r),!0),Me.serialize(a)}return null}toWebSignature(e,n){if(e.name==="ECDSA"){const s=Me.parse(n,q0),r=e.namedCurve,a=Rr.namedCurveSize.get(r)||Rr.defaultNamedCurveSize,o=this.addPadding(a,this.removePadding(s.r)),c=this.addPadding(a,this.removePadding(s.s));return jW(o,c)}return null}}Rr.namedCurveSize=new Map;Rr.defaultNamedCurveSize=32;const qb="1.3.101.110",C3="1.3.101.111",Wb="1.3.101.112",N3="1.3.101.113";let dw=class{toAsnAlgorithm(e){let n=null;switch(e.name.toLowerCase()){case"ed25519":n=Wb;break;case"x25519":n=qb;break;case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":n=Wb;break;case"ed448":n=N3;break}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":n=qb;break;case"x448":n=C3;break}}return n?new Ie({algorithm:n}):null}toWebAlgorithm(e){switch(e.algorithm){case Wb:return{name:"Ed25519"};case N3:return{name:"EdDSA",namedCurve:"Ed448"};case qb:return{name:"X25519"};case C3:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};dw=T([_y()],dw);ks.registerSingleton(Lf,dw);var Yh,Xh,Jh,Qh,Zh,ed,td,Ec;class yG extends ia{get subjectName(){return ut(this,Xh,"f")||tn(this,Xh,new fo(this.asn.certificationRequestInfo.subject),"f"),ut(this,Xh,"f")}get subject(){return ut(this,Jh,"f")||tn(this,Jh,this.subjectName.toString(),"f"),ut(this,Jh,"f")}get signatureAlgorithm(){if(!ut(this,Qh,"f")){const e=ks.resolve(nu);tn(this,Qh,e.toWebAlgorithm(this.asn.signatureAlgorithm),"f")}return ut(this,Qh,"f")}get signature(){return ut(this,Zh,"f")||tn(this,Zh,this.asn.signature,"f"),ut(this,Zh,"f")}get publicKey(){return ut(this,ed,"f")||tn(this,ed,new mi(this.asn.certificationRequestInfo.subjectPKInfo),"f"),ut(this,ed,"f")}get attributes(){return ut(this,td,"f")||tn(this,td,this.asn.certificationRequestInfo.attributes.map(e=>Ny.create(Me.serialize(e))),"f"),ut(this,td,"f")}get extensions(){if(!ut(this,Ec,"f")){tn(this,Ec,[],"f");const e=this.getAttribute(U2);e instanceof V2&&tn(this,Ec,e.items,"f")}return ut(this,Ec,"f")}get tbs(){return ut(this,Yh,"f")||tn(this,Yh,this.asn.certificationRequestInfoRaw||Me.serialize(this.asn.certificationRequestInfo),"f"),ut(this,Yh,"f")}constructor(e){const n=ia.isAsnEncoded(e)?[e,nf]:[e];super(n[0],n[1]),Yh.set(this,void 0),Xh.set(this,void 0),Jh.set(this,void 0),Qh.set(this,void 0),Zh.set(this,void 0),ed.set(this,void 0),td.set(this,void 0),Ec.set(this,void 0),this.tag=cr.CertificateRequestTag}onInit(e){}getAttribute(e){for(const n of this.attributes)if(n.type===e)return n;return null}getAttributes(e){return this.attributes.filter(n=>n.type===e)}getExtension(e){for(const n of this.extensions)if(n.type===e)return n;return null}getExtensions(e){return this.extensions.filter(n=>n.type===e)}async verify(e=_s.get()){const n={...this.publicKey.algorithm,...this.signatureAlgorithm},s=await this.publicKey.export(n,["verify"],e),r=ks.resolveAll(Ay).reverse();let a=null;for(const c of r)if(a=c.toWebSignature(n,this.signature),a)break;if(!a)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await e.subtle.verify(this.signatureAlgorithm,s,a,this.tbs)}toTextObject(){const e=this.toTextObjectEmpty(),n=Me.parse(this.rawData,nf),s=n.certificationRequestInfo,r=new Rt("",{Version:`${Kc[s.version]} (${s.version})`,Subject:this.subject,"Subject Public Key Info":this.publicKey});if(this.attributes.length){const a=new Rt("");for(const o of this.attributes){const c=o.toTextObject();a[c[Rt.NAME]]=c}r.Attributes=a}return e.Data=r,e.Signature=new Rt("",{Algorithm:ho.serializeAlgorithm(n.signatureAlgorithm),"":n.signature}),e}}Yh=new WeakMap,Xh=new WeakMap,Jh=new WeakMap,Qh=new WeakMap,Zh=new WeakMap,ed=new WeakMap,td=new WeakMap,Ec=new WeakMap;yG.NAME="PKCS#10 Certificate Request";var nd,sd,rd,id,ad,ld,od,cd,ud,hd,jc,dd;class qB extends ia{get publicKey(){return ut(this,dd,"f")||tn(this,dd,new mi(this.asn.tbsCertificate.subjectPublicKeyInfo),"f"),ut(this,dd,"f")}get serialNumber(){if(!ut(this,sd,"f")){const e=this.asn.tbsCertificate;let n=new Uint8Array(e.serialNumber);n.length>1&&n[0]===0&&n[1]>127&&(n=n.slice(1)),tn(this,sd,Fe.ToHex(n),"f")}return ut(this,sd,"f")}get subjectName(){return ut(this,rd,"f")||tn(this,rd,new fo(this.asn.tbsCertificate.subject),"f"),ut(this,rd,"f")}get subject(){return ut(this,id,"f")||tn(this,id,this.subjectName.toString(),"f"),ut(this,id,"f")}get issuerName(){return ut(this,ad,"f")||tn(this,ad,new fo(this.asn.tbsCertificate.issuer),"f"),ut(this,ad,"f")}get issuer(){return ut(this,ld,"f")||tn(this,ld,this.issuerName.toString(),"f"),ut(this,ld,"f")}get notBefore(){if(!ut(this,od,"f")){const e=this.asn.tbsCertificate.validity.notBefore.utcTime||this.asn.tbsCertificate.validity.notBefore.generalTime;if(!e)throw new Error("Cannot get 'notBefore' value");tn(this,od,e,"f")}return ut(this,od,"f")}get notAfter(){if(!ut(this,cd,"f")){const e=this.asn.tbsCertificate.validity.notAfter.utcTime||this.asn.tbsCertificate.validity.notAfter.generalTime;if(!e)throw new Error("Cannot get 'notAfter' value");tn(this,cd,e,"f")}return ut(this,cd,"f")}get signatureAlgorithm(){if(!ut(this,ud,"f")){const e=ks.resolve(nu);tn(this,ud,e.toWebAlgorithm(this.asn.signatureAlgorithm),"f")}return ut(this,ud,"f")}get signature(){return ut(this,hd,"f")||tn(this,hd,this.asn.signatureValue,"f"),ut(this,hd,"f")}get extensions(){return ut(this,jc,"f")||(tn(this,jc,[],"f"),this.asn.tbsCertificate.extensions&&tn(this,jc,this.asn.tbsCertificate.extensions.map(e=>pr.create(Me.serialize(e))),"f")),ut(this,jc,"f")}get tbs(){return ut(this,nd,"f")||tn(this,nd,this.asn.tbsCertificateRaw||Me.serialize(this.asn.tbsCertificate),"f"),ut(this,nd,"f")}constructor(e){const n=ia.isAsnEncoded(e)?[e,Gc]:[e];super(n[0],n[1]),nd.set(this,void 0),sd.set(this,void 0),rd.set(this,void 0),id.set(this,void 0),ad.set(this,void 0),ld.set(this,void 0),od.set(this,void 0),cd.set(this,void 0),ud.set(this,void 0),hd.set(this,void 0),jc.set(this,void 0),dd.set(this,void 0),this.tag=cr.CertificateTag}onInit(e){}getExtension(e){for(const n of this.extensions)if(typeof e=="string"){if(n.type===e)return n}else if(n instanceof e)return n;return null}getExtensions(e){return this.extensions.filter(n=>typeof e=="string"?n.type===e:n instanceof e)}async verify(e={},n=_s.get()){let s,r;const a=e.publicKey;try{if(!a)s={...this.publicKey.algorithm,...this.signatureAlgorithm},r=await this.publicKey.export(s,["verify"],n);else if("publicKey"in a)s={...a.publicKey.algorithm,...this.signatureAlgorithm},r=await a.publicKey.export(s,["verify"],n);else if(a instanceof mi)s={...a.algorithm,...this.signatureAlgorithm},r=await a.export(s,["verify"],n);else if(Oe.isBufferSource(a)){const d=new mi(a);s={...d.algorithm,...this.signatureAlgorithm},r=await d.export(s,["verify"],n)}else s={...a.algorithm,...this.signatureAlgorithm},r=a}catch{return!1}const o=ks.resolveAll(Ay).reverse();let c=null;for(const d of o)if(c=d.toWebSignature(s,this.signature),c)break;if(!c)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");const h=await n.subtle.verify(this.signatureAlgorithm,r,c,this.tbs);if(e.signatureOnly)return h;{const g=(e.date||new Date).getTime();return h&&this.notBefore.getTime()<g&&g<this.notAfter.getTime()}}async getThumbprint(...e){let n,s="SHA-1";return e[0]&&(e[0].subtle?n=e[0]:(s=e[0]||s,n=e[1])),n??(n=_s.get()),await n.subtle.digest(s,this.rawData)}async isSelfSigned(e=_s.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:!0},e)}toTextObject(){const e=this.toTextObjectEmpty(),n=Me.parse(this.rawData,Gc),s=n.tbsCertificate,r=new Rt("",{Version:`${Kc[s.version]} (${s.version})`,"Serial Number":s.serialNumber,"Signature Algorithm":ho.serializeAlgorithm(s.signature),Issuer:this.issuer,Validity:new Rt("",{"Not Before":s.validity.notBefore.getTime(),"Not After":s.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(s.issuerUniqueID&&(r["Issuer Unique ID"]=s.issuerUniqueID),s.subjectUniqueID&&(r["Subject Unique ID"]=s.subjectUniqueID),this.extensions.length){const a=new Rt("");for(const o of this.extensions){const c=o.toTextObject();a[c[Rt.NAME]]=c}r.Extensions=a}return e.Data=r,e.Signature=new Rt("",{Algorithm:ho.serializeAlgorithm(n.signatureAlgorithm),"":n.signatureValue}),e}}nd=new WeakMap,sd=new WeakMap,rd=new WeakMap,id=new WeakMap,ad=new WeakMap,ld=new WeakMap,od=new WeakMap,cd=new WeakMap,ud=new WeakMap,hd=new WeakMap,jc=new WeakMap,dd=new WeakMap;qB.NAME="Certificate";var A3;(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(A3||(A3={}));pr.register(ZO,LB);pr.register(nB,IB);pr.register(rB,PB);pr.register(oB,Cy);pr.register(ix,af);pr.register(lB,zB);pr.register(ux,HB);pr.register(rx,UB);pr.register(sB,VB);Ny.register(TB,FB);Ny.register(U2,V2);ks.registerSingleton(Ay,gG);ks.registerSingleton(Ay,Rr);Rr.namedCurveSize.set("P-256",32);Rr.namedCurveSize.set("K-256",32);Rr.namedCurveSize.set("P-384",48);Rr.namedCurveSize.set("P-521",66);const vG=["-----BEGIN CERTIFICATE-----","-----BEGIN X509 CERTIFICATE-----","-----BEGIN TRUSTED CERTIFICATE-----"],bG=["-----BEGIN PRIVATE KEY-----","-----BEGIN RSA PRIVATE KEY-----","-----BEGIN EC PRIVATE KEY-----","-----BEGIN ENCRYPTED PRIVATE KEY-----"],_G=["-----BEGIN PUBLIC KEY-----","-----BEGIN RSA PUBLIC KEY-----"],xG=["-----BEGIN CERTIFICATE REQUEST-----","-----BEGIN NEW CERTIFICATE REQUEST-----"];function wG(t){const e=t.trim();for(const n of vG)if(e.startsWith(n))return{type:"certificate",content:e};for(const n of bG)if(e.startsWith(n))return{type:"private-key",content:e};for(const n of _G)if(e.startsWith(n))return{type:"public-key",content:e};for(const n of xG)if(e.startsWith(n))return{type:"csr",content:e};return null}function SG(t){try{const e=new qB(t),n=new Date,s={};for(const k of e.subject.split(", ")){const[C,E]=k.split("=");C&&E&&(s[C]=E)}const r={};for(const k of e.issuer.split(", ")){const[C,E]=k.split("=");C&&E&&(r[C]=E)}const a=e.notBefore,o=e.notAfter,c=n>o,h=n<a,d=Math.ceil((o.getTime()-n.getTime())/(1e3*60*60*24)),g=e.subject===e.issuer;let m="Unknown";try{const k=e.publicKey;m=k.algorithm.name||"Unknown","namedCurve"in k.algorithm&&(m+=` (${k.algorithm.namedCurve})`),"modulusLength"in k.algorithm&&(m+=` ${k.algorithm.modulusLength}-bit`)}catch{}const v=e.signatureAlgorithm.name||"Unknown";let y,x,w,S=!1;for(const k of e.extensions){if(k.type==="2.5.29.15")try{const C=k;y=[],C.usages&Yi.digitalSignature&&y.push("Digital Signature"),C.usages&Yi.keyEncipherment&&y.push("Key Encipherment"),C.usages&Yi.dataEncipherment&&y.push("Data Encipherment"),C.usages&Yi.keyAgreement&&y.push("Key Agreement"),C.usages&Yi.keyCertSign&&y.push("Certificate Signing"),C.usages&Yi.cRLSign&&y.push("CRL Signing"),C.usages&Yi.nonRepudiation&&y.push("Non-Repudiation")}catch{}if(k.type==="2.5.29.37")try{x=k.usages.map(E=>{const B=String(E);return{"1.3.6.1.5.5.7.3.1":"Server Authentication","1.3.6.1.5.5.7.3.2":"Client Authentication","1.3.6.1.5.5.7.3.3":"Code Signing","1.3.6.1.5.5.7.3.4":"Email Protection","1.3.6.1.5.5.7.3.8":"Time Stamping","1.3.6.1.5.5.7.3.9":"OCSP Signing"}[B]||B})}catch{}if(k.type==="2.5.29.17")try{w=k.names.items.map(E=>E.type==="dns"?`DNS:${E.value}`:E.type==="ip"?`IP:${E.value}`:E.type==="email"?`Email:${E.value}`:E.type==="url"?`URI:${E.value}`:String(E.value))}catch{}if(k.type==="2.5.29.19")try{S=k.ca}catch{}}return{subject:s,issuer:r,serialNumber:e.serialNumber,notBefore:a,notAfter:o,isExpired:c,isNotYetValid:h,daysUntilExpiry:d,keyAlgorithm:m,signatureAlgorithm:v,keyUsage:y,extKeyUsage:x,subjectAltNames:w,isSelfSigned:g,isCA:S}}catch(e){return console.error("Failed to parse certificate:",e),null}}function E3(t){return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"})}function Kb(t){const e=["CN","O","OU","L","ST","C"],n=[];for(const s of e)t[s]&&n.push(`${s}=${t[s]}`);for(const[s,r]of Object.entries(t))e.includes(s)||n.push(`${s}=${r}`);return n.join(", ")}function fw(t){const e=He.c(34),{name:n,pem:s}=t,[r,a]=W.useState(!0),[o,c]=W.useState(!1);let h,d;if(e[0]!==o||e[1]!==r||e[2]!==n||e[3]!==s){d=Symbol.for("react.early_return_sentinel");e:{const g=SG(s);let m;e[6]!==s?(m=async()=>{await navigator.clipboard.writeText(s),c(!0),setTimeout(()=>c(!1),2e3)},e[6]=s,e[7]=m):m=e[7];const v=m;if(!g){let z;e[8]===Symbol.for("react.memo_cache_sentinel")?(z=f.jsx(c0,{size:14,className:"text-amber-500"}),e[8]=z):z=e[8];let J;e[9]!==n?(J=f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[9]=n,e[10]=J):J=e[10];let F;e[11]===Symbol.for("react.memo_cache_sentinel")?(F=f.jsx("span",{className:"text-xs text-neutral-500",children:"Failed to parse certificate"}),e[11]=F):F=e[11];let K;e[12]!==J?(K=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[z,J,F]})}),e[12]=J,e[13]=K):K=e[13],d=K;break e}let y="text-emerald-500",x="bg-emerald-100 dark:bg-emerald-500/20",w="Valid";g.isExpired?(y="text-red-500",x="bg-red-100 dark:bg-red-500/20",w="Expired"):g.isNotYetValid?(y="text-amber-500",x="bg-amber-100 dark:bg-amber-500/20",w="Not Yet Valid"):g.daysUntilExpiry<=30&&(y="text-amber-500",x="bg-amber-100 dark:bg-amber-500/20",w=`Expires in ${g.daysUntilExpiry} days`);let S;e[14]!==r?(S=()=>a(!r),e[14]=r,e[15]=S):S=e[15];let k;e[16]===Symbol.for("react.memo_cache_sentinel")?(k=f.jsx(cu,{size:14,className:"text-blue-500 dark:text-blue-400"}),e[16]=k):k=e[16];let C;e[17]!==n?(C=f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[17]=n,e[18]=C):C=e[18];const E=`text-xs px-1.5 py-0.5 rounded ${x} ${y}`;let B;e[19]!==w||e[20]!==E?(B=f.jsx("span",{className:E,children:w}),e[19]=w,e[20]=E,e[21]=B):B=e[21];let D;e[22]!==v?(D=z=>{z.stopPropagation(),v()},e[22]=v,e[23]=D):D=e[23];let j;e[24]!==o?(j=o?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(hs,{size:14,className:"text-neutral-400"}),e[24]=o,e[25]=j):j=e[25];let $;e[26]!==j||e[27]!==D?($=f.jsx("button",{onClick:D,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy certificate",children:j}),e[26]=j,e[27]=D,e[28]=$):$=e[28];let H;e[29]!==r?(H=r?f.jsx(rs,{size:14,className:"text-neutral-400"}):f.jsx(Or,{size:14,className:"text-neutral-400"}),e[29]=r,e[30]=H):H=e[30];let Y;e[31]!==$||e[32]!==H?(Y=f.jsxs("div",{className:"flex items-center gap-1",children:[$,H]}),e[31]=$,e[32]=H,e[33]=Y):Y=e[33],h=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[f.jsxs("button",{onClick:S,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[k,C,B,g.isCA&&f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-purple-100 dark:bg-purple-500/20 text-purple-600 dark:text-purple-400",children:"CA"}),g.isSelfSigned&&f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-600/50 text-neutral-600 dark:text-neutral-400",children:"Self-Signed"})]}),Y]}),r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3 space-y-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Subject"}),f.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:g.subject.CN||Kb(g.subject)}),g.subject.CN&&Object.keys(g.subject).length>1&&f.jsx("div",{className:"text-xs font-mono text-neutral-500 mt-0.5",children:Kb(g.subject)})]}),!g.isSelfSigned&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Issuer"}),f.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:g.issuer.CN||Kb(g.issuer)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Not Before"}),f.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:E3(g.notBefore)})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Not After"}),f.jsxs("div",{className:`text-xs font-mono flex items-center gap-1 ${g.isExpired?"text-red-500":g.daysUntilExpiry<=30?"text-amber-500":"text-neutral-700 dark:text-neutral-300"}`,children:[g.isExpired?f.jsx(c0,{size:12}):g.daysUntilExpiry<=30?f.jsx(aa,{size:12}):f.jsx(xI,{size:12,className:"text-emerald-500"}),E3(g.notAfter)]})]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Serial Number"}),f.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300 break-all",children:g.serialNumber})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Key Algorithm"}),f.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:g.keyAlgorithm})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Signature Algorithm"}),f.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:g.signatureAlgorithm})]})]}),g.subjectAltNames&&g.subjectAltNames.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Subject Alternative Names"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:g.subjectAltNames.map(NG)})]}),g.keyUsage&&g.keyUsage.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Key Usage"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:g.keyUsage.map(CG)})]}),g.extKeyUsage&&g.extKeyUsage.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Extended Key Usage"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:g.extKeyUsage.map(kG)})]})]})]})}e[0]=o,e[1]=r,e[2]=n,e[3]=s,e[4]=h,e[5]=d}else h=e[4],d=e[5];return d!==Symbol.for("react.early_return_sentinel")?d:h}function kG(t,e){return f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-600/50 text-neutral-600 dark:text-neutral-400",children:t},e)}function CG(t,e){return f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-600/50 text-neutral-600 dark:text-neutral-400",children:t},e)}function NG(t,e){return f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 font-mono",children:t},e)}function AG(t){const e=He.c(32),{name:n,pem:s}=t,[r,a]=W.useState(!1),[o,c]=W.useState(!1);let h;e[0]!==s?(h=async()=>{await navigator.clipboard.writeText(s),c(!0),setTimeout(()=>c(!1),2e3)},e[0]=s,e[1]=h):h=e[1];const d=h;let g;e[2]!==r?(g=()=>a(!r),e[2]=r,e[3]=g):g=e[3];let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=f.jsx(cu,{size:14,className:"text-red-500 dark:text-red-400"}),e[4]=m):m=e[4];let v;e[5]!==n?(v=f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[5]=n,e[6]=v):v=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y=f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400",children:"Private Key"}),e[7]=y):y=e[7];let x;e[8]!==v?(x=f.jsxs("div",{className:"flex items-center gap-2",children:[m,v,y]}),e[8]=v,e[9]=x):x=e[9];let w;e[10]!==d?(w=$=>{$.stopPropagation(),d()},e[10]=d,e[11]=w):w=e[11];let S;e[12]!==o?(S=o?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(hs,{size:14,className:"text-neutral-400"}),e[12]=o,e[13]=S):S=e[13];let k;e[14]!==w||e[15]!==S?(k=f.jsx("button",{onClick:w,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy private key",children:S}),e[14]=w,e[15]=S,e[16]=k):k=e[16];let C;e[17]!==r?(C=r?f.jsx(rs,{size:14,className:"text-neutral-400"}):f.jsx(Or,{size:14,className:"text-neutral-400"}),e[17]=r,e[18]=C):C=e[18];let E;e[19]!==C||e[20]!==k?(E=f.jsxs("div",{className:"flex items-center gap-1",children:[k,C]}),e[19]=C,e[20]=k,e[21]=E):E=e[21];let B;e[22]!==E||e[23]!==g||e[24]!==x?(B=f.jsxs("button",{onClick:g,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[x,E]}),e[22]=E,e[23]=g,e[24]=x,e[25]=B):B=e[25];let D;e[26]!==r||e[27]!==s?(D=r&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:s})}),e[26]=r,e[27]=s,e[28]=D):D=e[28];let j;return e[29]!==B||e[30]!==D?(j=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[B,D]}),e[29]=B,e[30]=D,e[31]=j):j=e[31],j}function WB(t){const e=He.c(32),{name:n,pem:s}=t,[r,a]=W.useState(!1),[o,c]=W.useState(!1);let h;e[0]!==s?(h=async()=>{await navigator.clipboard.writeText(s),c(!0),setTimeout(()=>c(!1),2e3)},e[0]=s,e[1]=h):h=e[1];const d=h;let g;e[2]!==r?(g=()=>a(!r),e[2]=r,e[3]=g):g=e[3];let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=f.jsx(cu,{size:14,className:"text-amber-500 dark:text-amber-400"}),e[4]=m):m=e[4];let v;e[5]!==n?(v=f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[5]=n,e[6]=v):v=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y=f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-500/20 text-amber-600 dark:text-amber-400",children:"Certificate Request"}),e[7]=y):y=e[7];let x;e[8]!==v?(x=f.jsxs("div",{className:"flex items-center gap-2",children:[m,v,y]}),e[8]=v,e[9]=x):x=e[9];let w;e[10]!==d?(w=$=>{$.stopPropagation(),d()},e[10]=d,e[11]=w):w=e[11];let S;e[12]!==o?(S=o?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(hs,{size:14,className:"text-neutral-400"}),e[12]=o,e[13]=S):S=e[13];let k;e[14]!==w||e[15]!==S?(k=f.jsx("button",{onClick:w,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy CSR",children:S}),e[14]=w,e[15]=S,e[16]=k):k=e[16];let C;e[17]!==r?(C=r?f.jsx(rs,{size:14,className:"text-neutral-400"}):f.jsx(Or,{size:14,className:"text-neutral-400"}),e[17]=r,e[18]=C):C=e[18];let E;e[19]!==C||e[20]!==k?(E=f.jsxs("div",{className:"flex items-center gap-1",children:[k,C]}),e[19]=C,e[20]=k,e[21]=E):E=e[21];let B;e[22]!==E||e[23]!==g||e[24]!==x?(B=f.jsxs("button",{onClick:g,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[x,E]}),e[22]=E,e[23]=g,e[24]=x,e[25]=B):B=e[25];let D;e[26]!==r||e[27]!==s?(D=r&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:s})}),e[26]=r,e[27]=s,e[28]=D):D=e[28];let j;return e[29]!==B||e[30]!==D?(j=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[B,D]}),e[29]=B,e[30]=D,e[31]=j):j=e[31],j}function EG(t){const e=He.c(6),{name:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=f.jsx(cu,{size:14,className:"text-blue-500 dark:text-blue-400"}),e[0]=s):s=e[0];let r;e[1]!==n?(r=f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[1]=n,e[2]=r):r=e[2];let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400",children:"Public Key"}),e[3]=a):a=e[3];let o;return e[4]!==r?(o=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[s,r,a]})}),e[4]=r,e[5]=o):o=e[5],o}function jG(t){const e=t?.find(m=>m.type==="Approved"),n=t?.find(m=>m.type==="Denied"),s=t?.find(m=>m.type==="Ready"),r=t?.find(m=>m.type==="InvalidRequest"),a=e?.status==="True",o=n?.status==="True",c=s?.status==="True",h=s?.status==="False"||r?.status==="True";let d,g;return c?(d=s?.reason,g=s?.message):h?(d=s?.reason||r?.reason,g=s?.message||r?.message):o?(d=n?.reason,g=n?.message):a&&(d=e?.reason,g=e?.message),{approved:a,denied:o,ready:c,failed:h,reason:d,message:g}}function TG(t){return t.ready?{text:"Issued",level:"success"}:t.failed||t.denied?{text:t.denied?"Denied":"Failed",level:"error"}:t.approved?{text:"Approved",level:"warning"}:{text:"Pending",level:"warning"}}function RG(t){return t.ready?f.jsx(Jr,{size:14,className:"text-emerald-400"}):t.failed||t.denied?f.jsx(xi,{size:14,className:"text-red-400"}):t.approved?f.jsx(Dn,{size:14,className:"text-amber-400 animate-spin"}):f.jsx(vo,{size:14,className:"text-amber-400"})}function OG(t){if(!t)return"Default (90d)";const e=t.match(/^(\d+)h/);if(e){const n=parseInt(e[1],10);return n>=8760?`${Math.round(n/8760)}y`:n>=720?`${Math.round(n/720)}mo`:n>=24?`${Math.round(n/24)}d`:`${n}h`}return t}function j3(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function Gb(t){if(!t)return null;try{return atob(t)}catch{return null}}const BG={kinds:["CertificateRequest","CertificateRequests"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata;if(!n)return{sections:[]};const a=jG(s?.conditions),o=TG(a),c=r?.annotations?.["cert-manager.io/certificate-name"],h=r?.annotations?.["cert-manager.io/certificate-revision"],d=[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:o.text,status:o.level,icon:RG(a)},...a.approved?[{label:"Approved",value:"Yes",status:"success",icon:f.jsx(Jr,{size:14,className:"text-emerald-400"})}]:[],...n.isCA?[{label:"Type",value:"CA Certificate",status:"neutral",icon:f.jsx(l0,{size:14,className:"text-purple-400"})}]:[{label:"Type",value:"TLS Certificate",status:"neutral",icon:f.jsx(l0,{size:14,className:"text-blue-400"})}],...h?[{label:"Revision",value:h,status:"neutral"}]:[]]}}];if(c&&d.push({id:"parent-certificate",title:"Parent Certificate",data:{type:"custom",render:()=>f.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ou,{size:14,className:"text-blue-400"}),f.jsx("span",{className:"text-sm text-blue-300",children:c})]})})}}),d.push({id:"details",title:"Request Details",data:{type:"info-grid",columns:2,items:[{label:"Duration",value:OG(n.duration)},...r?.creationTimestamp?[{label:"Created",value:j3(r.creationTimestamp)}]:[],...n.username?[{label:"Requested By",value:n.username.split(":").pop()||n.username}]:[]]}}),d.push({id:"issuer",title:"Issuer",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(mf,{size:14,className:"text-purple-400"}),f.jsx("span",{className:"text-sm font-medium text-purple-300",children:n.issuerRef.kind??"Issuer"})]}),f.jsx("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:n.issuerRef.name}),n.issuerRef.group&&f.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:n.issuerRef.group})]})}}),(n.username||n.groups?.length)&&d.push({id:"requester",title:"Requester",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(cT,{size:14,className:"text-neutral-600 dark:text-neutral-400"}),f.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Identity"})]}),n.username&&f.jsxs("div",{className:"text-xs text-neutral-700 dark:text-neutral-400 mb-1",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"User:"})," ",f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:n.username})]}),n.groups&&n.groups.length>0&&f.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:n.groups.map((g,m)=>f.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-400",children:g},m))})]})}}),n.usages?.length&&d.push({id:"usages",title:"Key Usages",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.usages.map((g,m)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300",children:g},m))})}}),s?.certificate){const g=Gb(s.certificate),m=s.ca?Gb(s.ca):null;d.push({id:"certificate-issued",title:"Certificate",data:{type:"custom",render:()=>f.jsxs("div",{className:"space-y-3",children:[g&&f.jsx(fw,{name:"Issued Certificate",pem:g}),m&&f.jsx(fw,{name:"CA Certificate",pem:m})]})}})}if(n.request){const g=Gb(n.request);g&&d.push({id:"csr",title:"Certificate Signing Request",data:{type:"custom",render:()=>f.jsx(WB,{name:"Certificate Request",pem:g})}})}return s?.failureTime&&d.push({id:"failure",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[f.jsx(aa,{size:14}),f.jsx("span",{className:"text-sm font-medium",children:"Failed"})]}),f.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:["Failure time: ",j3(s.failureTime)]}),a.message&&f.jsx("div",{className:"text-xs text-red-400/70 mt-1",children:a.message})]})}}),s?.conditions&&s.conditions.length>0&&d.push({id:"conditions",data:{type:"conditions",items:s.conditions.map(g=>({type:g.type??"",status:g.status??"Unknown",reason:g.reason,message:g.message}))}}),{sections:d}}};function KB(t){if(t)return t instanceof Date?t.toISOString():t}function T3(t){const e=KB(t);return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A"}function R3(t){const e=KB(t);if(!e)return"N/A";const n=new Date(e),r=new Date().getTime()-n.getTime(),a=Math.floor(r/1e3),o=Math.floor(a/60),c=Math.floor(o/60),h=Math.floor(c/24);return h>0?`${h}d ago`:c>0?`${c}h ago`:o>0?`${o}m ago`:a>0?`${a}s ago`:"just now"}const MG={kinds:["Event","Events"],adapt(t,e){const n=e.metadata,s=e.involvedObject,r=e.source,a=e.type==="Warning",o=e.count??1,c=e.firstTimestamp||e.eventTime||n?.creationTimestamp,h=e.lastTimestamp||e.eventTime,d=[{id:"status",data:{type:"status-cards",items:[{label:"Type",value:e.type||"Normal",status:a?"warning":"success",icon:a?f.jsx(c0,{size:14,className:"text-amber-400"}):f.jsx(a7,{size:14,className:"text-emerald-400"})},{label:"Reason",value:e.reason||"Unknown",status:"neutral"},...o>1?[{label:"Count",value:o,status:"neutral",icon:f.jsx(s7,{size:14,className:"text-blue-400"})}]:[]]}}];return e.message&&d.push({id:"message",title:"Message",data:{type:"custom",render:()=>f.jsx("div",{className:`p-3 rounded-lg border ${a?"bg-amber-500/10 border-amber-500/30":"bg-neutral-100 dark:bg-neutral-900/50 border-neutral-200 dark:border-neutral-700"}`,children:f.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 whitespace-pre-wrap",children:e.message})})}}),s&&s.name&&d.push({id:"involved-object",title:"Involved Object",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(tP,{size:14,className:"text-blue-400"}),f.jsx("span",{className:"text-sm font-medium text-blue-300",children:s.kind||"Resource"})]}),f.jsxs("div",{className:"space-y-1 text-xs",children:[f.jsxs("div",{className:"text-neutral-300",children:[f.jsx("span",{className:"text-neutral-500",children:"Name: "}),f.jsx("span",{className:"text-cyan-400 font-mono",children:s.name})]}),s.namespace&&f.jsxs("div",{className:"text-neutral-300",children:[f.jsx("span",{className:"text-neutral-500",children:"Namespace: "}),f.jsx("span",{className:"text-purple-400",children:s.namespace})]}),s.fieldPath&&f.jsxs("div",{className:"text-neutral-300",children:[f.jsx("span",{className:"text-neutral-500",children:"Field: "}),f.jsx("span",{className:"text-neutral-400 font-mono",children:s.fieldPath})]}),s.apiVersion&&f.jsxs("div",{className:"text-neutral-300",children:[f.jsx("span",{className:"text-neutral-500",children:"API Version: "}),f.jsx("span",{className:"text-neutral-400",children:s.apiVersion})]})]})]})}}),d.push({id:"timestamps",title:"Timestamps",data:{type:"custom",render:()=>f.jsxs("div",{className:"space-y-2",children:[c&&f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx(sT,{size:14,className:"text-neutral-500"}),f.jsx("span",{className:"text-neutral-500",children:"First seen:"}),f.jsx("span",{className:"text-neutral-300",children:T3(c)}),f.jsxs("span",{className:"text-neutral-500",children:["(",R3(c),")"]})]}),h&&o>1&&f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx(Dn,{size:14,className:"text-neutral-500"}),f.jsx("span",{className:"text-neutral-500",children:"Last seen:"}),f.jsx("span",{className:"text-neutral-300",children:T3(h)}),f.jsxs("span",{className:"text-neutral-500",children:["(",R3(h),")"]})]})]})}}),r&&(r.component||r.host)&&d.push({id:"source",title:"Source",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Yr,{size:14,className:"text-neutral-400"}),f.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Event Source"})]}),f.jsxs("div",{className:"space-y-1 text-xs",children:[r.component&&f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-300",children:[f.jsx("span",{className:"text-neutral-500",children:"Component: "}),f.jsx("span",{className:"text-cyan-400",children:r.component})]}),r.host&&f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-300",children:[f.jsx("span",{className:"text-neutral-500",children:"Host: "}),f.jsx("span",{className:"text-neutral-400 font-mono",children:r.host})]})]})]})}}),(e.reportingComponent||e.reportingInstance)&&d.push({id:"reporting",title:"Reporting",data:{type:"info-grid",columns:2,items:[...e.reportingComponent?[{label:"Component",value:e.reportingComponent}]:[],...e.reportingInstance?[{label:"Instance",value:e.reportingInstance}]:[],...e.action?[{label:"Action",value:e.action}]:[]]}}),e.related&&e.related.name&&e.related.name!==s?.name&&d.push({id:"related",title:"Related Object",data:{type:"info-grid",columns:2,items:[{label:"Kind",value:e.related.kind||"Unknown"},{label:"Name",value:e.related.name},...e.related.namespace?[{label:"Namespace",value:e.related.namespace}]:[]]}}),{sections:d}}};function DG(t){switch(t){case"LoadBalancer":return{label:"LoadBalancer",status:"success",icon:f.jsx(Br,{size:14,className:"text-emerald-400"})};case"NodePort":return{label:"NodePort",status:"warning",icon:f.jsx(Yr,{size:14,className:"text-amber-400"})};case"ExternalName":return{label:"ExternalName",status:"neutral",icon:f.jsx(aS,{size:14,className:"text-purple-400"})};default:return{label:t||"ClusterIP",status:"neutral",icon:f.jsx(ns,{size:14,className:"text-blue-400"})}}}const LG={kinds:["Service","Services"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=DG(n.type),a=n.type==="LoadBalancer",o=s?.loadBalancer?.ingress,c=a&&o&&o.length>0,h=[{id:"status",data:{type:"status-cards",items:[{label:"Type",value:r.label,status:r.status,icon:r.icon},...n.clusterIP&&n.clusterIP!=="None"?[{label:"Cluster IP",value:n.clusterIP,status:"neutral",icon:f.jsx(ns,{size:14,className:"text-blue-400"})}]:[],...n.clusterIP==="None"?[{label:"Cluster IP",value:"Headless",status:"neutral",icon:f.jsx(ns,{size:14,className:"text-neutral-400"})}]:[],...n.externalName?[{label:"External Name",value:n.externalName,status:"neutral",icon:f.jsx(aS,{size:14,className:"text-purple-400"})}]:[]]}}];return n.ports&&n.ports.length>0&&h.push({id:"ports",title:"Ports",data:{type:"custom",render:()=>f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[f.jsx("th",{className:"pb-2 text-left text-neutral-500 font-medium",children:"Name"}),f.jsx("th",{className:"pb-2 text-left text-neutral-500 font-medium",children:"Protocol"}),f.jsx("th",{className:"pb-2 text-right text-neutral-500 font-medium",children:"Port"}),f.jsx("th",{className:"pb-2 text-right text-neutral-500 font-medium",children:"Target"}),f.jsx("th",{className:"pb-2 text-right text-neutral-500 font-medium",children:"NodePort"})]})}),f.jsx("tbody",{children:n.ports.map((g,m)=>f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-2 text-neutral-900 dark:text-neutral-300",children:g.name||f.jsx("span",{className:"text-neutral-400 italic",children:"unnamed"})}),f.jsx("td",{className:"py-2",children:f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-400",children:g.protocol||"TCP"})}),f.jsx("td",{className:"py-2 text-right font-mono text-neutral-700 dark:text-neutral-300",children:g.port}),f.jsx("td",{className:"py-2 text-right font-mono text-neutral-700 dark:text-neutral-300",children:g.targetPort||f.jsx("span",{className:"text-neutral-400",children:""})}),f.jsx("td",{className:"py-2 text-right font-mono text-amber-500 dark:text-amber-400",children:g.nodePort||f.jsx("span",{className:"text-neutral-400",children:""})})]},m))})]})})}}),a&&h.push({id:"loadbalancer",title:"Load Balancer",data:{type:"custom",render:()=>f.jsx("div",{className:`rounded-lg p-3 border ${c?"bg-emerald-500/10 border-emerald-500/30":"bg-amber-500/10 border-amber-500/30"}`,children:c?f.jsx("div",{className:"space-y-2",children:o.map((g,m)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Br,{size:14,className:"text-emerald-400"}),f.jsx("span",{className:"text-sm font-mono text-emerald-300",children:g.ip||g.hostname||"N/A"})]},m))}):f.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[f.jsx(Br,{size:14}),f.jsx("span",{className:"text-sm",children:"Pending external IP assignment..."})]})})}}),n.externalIPs&&n.externalIPs.length>0&&h.push({id:"external-ips",title:"External IPs",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.externalIPs.map((g,m)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-purple-500/20 text-purple-300 font-mono",children:g},m))})}}),n.selector&&Object.keys(n.selector).length>0&&h.push({id:"selector",data:{type:"labels",labels:n.selector,title:"Selector"}}),(n.externalTrafficPolicy||n.internalTrafficPolicy||n.sessionAffinity!=="None")&&h.push({id:"traffic",title:"Traffic Configuration",data:{type:"info-grid",columns:2,items:[...n.externalTrafficPolicy?[{label:"External Traffic",value:n.externalTrafficPolicy,color:n.externalTrafficPolicy==="Local"?"text-amber-400":void 0}]:[],...n.internalTrafficPolicy?[{label:"Internal Traffic",value:n.internalTrafficPolicy}]:[],...n.sessionAffinity&&n.sessionAffinity!=="None"?[{label:"Session Affinity",value:n.sessionAffinity,color:"text-purple-400"}]:[],...n.sessionAffinityConfig?.clientIP?.timeoutSeconds?[{label:"Affinity Timeout",value:`${n.sessionAffinityConfig.clientIP.timeoutSeconds}s`}]:[],...n.healthCheckNodePort?[{label:"Health Check Port",value:n.healthCheckNodePort}]:[]]}}),a&&(n.loadBalancerIP||n.loadBalancerSourceRanges?.length||n.loadBalancerClass)&&h.push({id:"lb-config",title:"Load Balancer Configuration",data:{type:"custom",render:()=>f.jsxs("div",{className:"space-y-2",children:[n.loadBalancerIP&&f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx("span",{className:"text-neutral-500",children:"Requested IP:"}),f.jsx("span",{className:"text-neutral-300 font-mono",children:n.loadBalancerIP})]}),n.loadBalancerClass&&f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx("span",{className:"text-neutral-500",children:"Class:"}),f.jsx("span",{className:"text-neutral-300",children:n.loadBalancerClass})]}),n.loadBalancerSourceRanges&&n.loadBalancerSourceRanges.length>0&&f.jsxs("div",{className:"text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(yg,{size:14,className:"text-neutral-500"}),f.jsx("span",{className:"text-neutral-500",children:"Source Ranges:"})]}),f.jsx("div",{className:"flex flex-wrap gap-1 ml-5",children:n.loadBalancerSourceRanges.map((g,m)=>f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-amber-500/20 text-amber-300 font-mono",children:g},m))})]}),n.allocateLoadBalancerNodePorts===!1&&f.jsx("div",{className:"text-xs text-neutral-500",children:"NodePort allocation disabled"})]})}}),s?.conditions&&s.conditions.length>0&&h.push({id:"conditions",data:{type:"conditions",items:s.conditions.map(g=>({type:g.type,status:g.status,reason:g.reason,message:g.message}))}}),{sections:h}}};async function IG(t){try{const e=atob(t),n=atob(e),s=new Uint8Array(n.length);for(let v=0;v<n.length;v++)s[v]=n.charCodeAt(v);const r=new DecompressionStream("gzip"),a=r.writable.getWriter();a.write(s),a.close();const o=r.readable.getReader(),c=[];for(;;){const{done:v,value:y}=await o.read();if(v)break;c.push(y)}const h=c.reduce((v,y)=>v+y.length,0),d=new Uint8Array(h);let g=0;for(const v of c)d.set(v,g),g+=v.length;const m=new TextDecoder().decode(d);return JSON.parse(m)}catch(e){return console.error("Failed to decode Helm release:",e),null}}function PG(t){switch(t?.toLowerCase()){case"deployed":return"text-emerald-400";case"failed":return"text-red-400";case"pending-install":case"pending-upgrade":case"pending-rollback":return"text-yellow-400";case"uninstalling":case"superseded":return"text-neutral-400";default:return"text-neutral-300"}}function zG(t){const e=He.c(52),{encoded:n}=t,[s,r]=W.useState(null),[a,o]=W.useState(null),[c,h]=W.useState(!0),[d,g]=W.useState(!1),[m,v]=W.useState(!1),[y,x]=W.useState(!1),[w,S]=W.useState(null);let k,C;e[0]!==n?(k=()=>{IG(n).then(xe=>{r(xe),h(!1)}).catch(()=>{o("Failed to decode Helm release data"),h(!1)})},C=[n],e[0]=n,e[1]=k,e[2]=C):(k=e[1],C=e[2]),W.useEffect(k,C);let E;e[3]===Symbol.for("react.memo_cache_sentinel")?(E=async(xe,Ce)=>{await navigator.clipboard.writeText(Ce),S(xe),setTimeout(()=>S(null),2e3)},e[3]=E):E=e[3];const B=E;if(c){let xe;return e[4]===Symbol.for("react.memo_cache_sentinel")?(xe=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Decoding Helm release..."})}),e[4]=xe):xe=e[4],xe}if(a||!s){const xe=a||"Failed to decode release";let Ce;return e[5]!==xe?(Ce=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:xe})}),e[5]=xe,e[6]=Ce):Ce=e[6],Ce}const D=s.chart?.metadata,j=s.info;let $;e[7]!==D?($=D?.description&&f.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:D.description}),e[7]=D,e[8]=$):$=e[8];let H;e[9]===Symbol.for("react.memo_cache_sentinel")?(H=f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Release"}),e[9]=H):H=e[9];const Y=s.name||"Unknown";let z;e[10]!==Y?(z=f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[H,f.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:Y})]}),e[10]=Y,e[11]=z):z=e[11];let J;e[12]===Symbol.for("react.memo_cache_sentinel")?(J=f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Revision"}),e[12]=J):J=e[12];const F=s.version||1;let K;e[13]!==F?(K=f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[J,f.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:F})]}),e[13]=F,e[14]=K):K=e[14];let Q;e[15]===Symbol.for("react.memo_cache_sentinel")?(Q=f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Status"}),e[15]=Q):Q=e[15];const q=j?.status;let L;e[16]!==q?(L=PG(q),e[16]=q,e[17]=L):L=e[17];const G=`py-1.5 font-medium ${L}`,U=j?.status||"Unknown";let M;e[18]!==G||e[19]!==U?(M=f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[Q,f.jsx("td",{className:G,children:U})]}),e[18]=G,e[19]=U,e[20]=M):M=e[20];let R;e[21]!==D?(R=D&&f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Chart"}),f.jsxs("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:[D.name,"-",D.version]})]}),e[21]=D,e[22]=R):R=e[22];let O;e[23]!==D?(O=D?.appVersion&&f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"App Version"}),f.jsx("td",{className:"py-1.5 text-cyan-600 dark:text-cyan-400",children:D.appVersion})]}),e[23]=D,e[24]=O):O=e[24];let V;e[25]!==j?(V=j?.last_deployed&&f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Last Deployed"}),f.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:new Date(j.last_deployed).toLocaleString()})]}),e[25]=j,e[26]=V):V=e[26];let A;e[27]!==K||e[28]!==M||e[29]!==R||e[30]!==O||e[31]!==V||e[32]!==z?(A=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("table",{className:"w-full text-xs",children:f.jsxs("tbody",{children:[z,K,M,R,O,V]})})}),e[27]=K,e[28]=M,e[29]=R,e[30]=O,e[31]=V,e[32]=z,e[33]=A):A=e[33];let Z;e[34]!==w||e[35]!==s.config||e[36]!==d?(Z=s.config&&Object.keys(s.config).length>0&&f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[f.jsxs("button",{onClick:()=>g(!d),className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(mf,{size:14,className:"text-amber-500 dark:text-amber-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"User Values"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:xe=>{xe.stopPropagation(),B("values",JSON.stringify(s.config,null,2))},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy values",children:w==="values"?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(hs,{size:14,className:"text-neutral-400"})}),d?f.jsx(rs,{size:14,className:"text-neutral-400"}):f.jsx(Or,{size:14,className:"text-neutral-400"})]})]}),d&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:JSON.stringify(s.config,null,2)})})]}),e[34]=w,e[35]=s.config,e[36]=d,e[37]=Z):Z=e[37];let oe;e[38]!==w||e[39]!==j||e[40]!==y?(oe=j?.notes&&f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[f.jsxs("button",{onClick:()=>x(!y),className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(yi,{size:14,className:"text-blue-500 dark:text-blue-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"Release Notes"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:xe=>{xe.stopPropagation(),B("notes",j.notes||"")},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy notes",children:w==="notes"?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(hs,{size:14,className:"text-neutral-400"})}),y?f.jsx(rs,{size:14,className:"text-neutral-400"}):f.jsx(Or,{size:14,className:"text-neutral-400"})]})]}),y&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:j.notes})})]}),e[38]=w,e[39]=j,e[40]=y,e[41]=oe):oe=e[41];let te;e[42]!==w||e[43]!==s.manifest||e[44]!==m?(te=s.manifest&&f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[f.jsxs("button",{onClick:()=>v(!m),className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(yi,{size:14,className:"text-purple-500 dark:text-purple-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"Rendered Manifest"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:xe=>{xe.stopPropagation(),B("manifest",s.manifest||"")},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy manifest",children:w==="manifest"?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(hs,{size:14,className:"text-neutral-400"})}),m?f.jsx(rs,{size:14,className:"text-neutral-400"}):f.jsx(Or,{size:14,className:"text-neutral-400"})]})]}),m&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-96 overflow-y-auto",children:s.manifest})})]}),e[42]=w,e[43]=s.manifest,e[44]=m,e[45]=te):te=e[45];let de;return e[46]!==A||e[47]!==Z||e[48]!==oe||e[49]!==te||e[50]!==$?(de=f.jsxs("div",{className:"space-y-4",children:[$,A,Z,oe,te]}),e[46]=A,e[47]=Z,e[48]=oe,e[49]=te,e[50]=$,e[51]=de):de=e[51],de}function $G(t){try{const e=atob(t);return JSON.parse(e)}catch{return null}}function HG(t){try{const e=atob(t),[n,...s]=e.split(":");return{username:n,password:s.join(":")}}catch{return null}}function UG(t){const e=He.c(21),{encoded:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=new Set,e[0]=s):s=e[0];const[r,a]=W.useState(s),[o,c]=W.useState(null),[h,d]=W.useState(!1);let g,m,v,y,x;if(e[1]!==o||e[2]!==n||e[3]!==r){x=Symbol.for("react.early_return_sentinel");e:{const k=$G(n);m=k?JSON.stringify(k,null,2):null;let C;e[9]===Symbol.for("react.memo_cache_sentinel")?(C=async(D,j)=>{await navigator.clipboard.writeText(j),c(D),setTimeout(()=>c(null),2e3)},e[9]=C):C=e[9],g=C;const E=D=>{a(j=>{const $=new Set(j);return $.has(D)?$.delete(D):$.add(D),$})};if(!k||!k.auths){let D;e[10]===Symbol.for("react.memo_cache_sentinel")?(D=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Failed to decode Docker config"})}),e[10]=D):D=e[10],x=D;break e}const B=Object.entries(k.auths);if(B.length===0){let D;e[11]===Symbol.for("react.memo_cache_sentinel")?(D=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"No registries configured"})}),e[11]=D):D=e[11],x=D;break e}v="space-y-3",y=B.map(D=>{const[j,$]=D;let H=$.username,Y=$.password;if(!H&&$.auth){const J=HG($.auth);J&&(H=J.username,Y=J.password)}const z=r.has(j);return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(Yr,{size:14,className:"text-blue-500 dark:text-blue-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-200 break-all",children:j})]}),f.jsx("table",{className:"w-full text-xs",children:f.jsxs("tbody",{children:[H&&f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap w-1",children:f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(cT,{size:12}),"Username"]})}),f.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:H}),f.jsx("td",{className:"py-1.5",children:f.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[f.jsx("div",{className:"w-7"}),f.jsx("button",{onClick:()=>g(`${j}-username`,H),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy username",children:o===`${j}-username`?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(hs,{size:12,className:"text-neutral-400"})})]})})]}),Y&&f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap w-1",children:f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(mf,{size:12}),"Password"]})}),f.jsx("td",{className:"py-1.5 font-mono",children:z?f.jsx("span",{className:"text-neutral-900 dark:text-neutral-300 break-all",children:Y}):f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:""})}),f.jsx("td",{className:"py-1.5",children:f.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[f.jsx("button",{onClick:()=>E(j),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:z?"Hide password":"Reveal password",children:z?f.jsx(lS,{size:12,className:"text-neutral-400"}):f.jsx(oS,{size:12,className:"text-neutral-400"})}),f.jsx("button",{onClick:()=>g(`${j}-password`,Y),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy password",children:o===`${j}-password`?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(hs,{size:12,className:"text-neutral-400"})})]})})]}),$.email&&f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap w-1",children:f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(y7,{size:12}),"Email"]})}),f.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:$.email}),f.jsx("td",{className:"py-1.5",children:f.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[f.jsx("div",{className:"w-7"}),f.jsx("button",{onClick:()=>g(`${j}-email`,$.email),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy email",children:o===`${j}-email`?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(hs,{size:12,className:"text-neutral-400"})})]})})]})]})})]},j)})}e[1]=o,e[2]=n,e[3]=r,e[4]=g,e[5]=m,e[6]=v,e[7]=y,e[8]=x}else g=e[4],m=e[5],v=e[6],y=e[7],x=e[8];if(x!==Symbol.for("react.early_return_sentinel"))return x;let w;e[12]!==o||e[13]!==g||e[14]!==m||e[15]!==h?(w=m&&f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[f.jsxs("button",{onClick:()=>d(!h),className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(yi,{size:14,className:"text-purple-500 dark:text-purple-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"Docker Config"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:k=>{k.stopPropagation(),g("raw",m)},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy JSON",children:o==="raw"?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(hs,{size:14,className:"text-neutral-400"})}),h?f.jsx(rs,{size:14,className:"text-neutral-400"}):f.jsx(Or,{size:14,className:"text-neutral-400"})]})]}),h&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:m})})]}),e[12]=o,e[13]=g,e[14]=m,e[15]=h,e[16]=w):w=e[16];let S;return e[17]!==v||e[18]!==y||e[19]!==w?(S=f.jsxs("div",{className:v,children:[y,w]}),e[17]=v,e[18]=y,e[19]=w,e[20]=S):S=e[20],S}function VG(t){try{return atob(t)}catch{return null}}function FG(t){let e=0;for(let n=0;n<Math.min(t.length,1e3);n++){const s=t.charCodeAt(n);(s===0||s<32&&s!==9&&s!==10&&s!==13)&&e++}return e>t.length*.1}function O3(t){return t.replace(/^[\r\n]+|[\r\n]+$/g,"").includes(`
`)}function qG(t){return!t.endsWith(".crt")&&!t.endsWith(".pem")&&t!=="ca.crt"&&t!=="tls.crt"&&t!=="namespace"}function WG(t){const e=He.c(12),{entries:n}=t,[s,r]=W.useState(null);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Set,e[0]=a):a=e[0];const[o,c]=W.useState(a);let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=async(x,w)=>{await navigator.clipboard.writeText(w),r(x),setTimeout(()=>r(null),2e3)},e[1]=h):h=e[1];const d=h;let g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g=x=>{c(w=>{const S=new Set(w);return S.has(x)?S.delete(x):S.add(x),S})},e[2]=g):g=e[2];const m=g;let v;if(e[3]!==s||e[4]!==n||e[5]!==o){let x;e[7]!==s||e[8]!==o?(x=w=>{const{key:S,decoded:k,isSensitive:C}=w;return f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap",children:S}),f.jsx("td",{className:"py-1.5 font-mono break-all",children:C&&!o.has(S)?f.jsx("span",{className:"text-neutral-400",children:""}):f.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:k})}),f.jsx("td",{className:"py-1.5 w-1",children:f.jsxs("div",{className:"flex items-center gap-1",children:[C?f.jsx("button",{onClick:()=>m(S),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:o.has(S)?"Hide value":"Reveal value",children:o.has(S)?f.jsx(lS,{size:12,className:"text-neutral-400"}):f.jsx(oS,{size:12,className:"text-neutral-400"})}):f.jsx("div",{className:"w-7"}),f.jsx("button",{onClick:()=>d(S,k),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy value",children:s===S?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(hs,{size:12,className:"text-neutral-400"})})]})})]},S)},e[7]=s,e[8]=o,e[9]=x):x=e[9],v=n.map(x),e[3]=s,e[4]=n,e[5]=o,e[6]=v}else v=e[6];let y;return e[10]!==v?(y=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("table",{className:"w-full text-xs",children:f.jsx("tbody",{children:v})})}),e[10]=v,e[11]=y):y=e[11],y}function KG(t){const e=He.c(35),{name:n,decoded:s,isSensitive:r}=t,[a,o]=W.useState(!1),[c,h]=W.useState(!1),[d,g]=W.useState(!1);let m;e[0]!==s?(m=async()=>{await navigator.clipboard.writeText(s),g(!0),setTimeout(()=>g(!1),2e3)},e[0]=s,e[1]=m):m=e[1];const v=m;let y;e[2]!==a?(y=()=>o(!a),e[2]=a,e[3]=y):y=e[3];let x;e[4]===Symbol.for("react.memo_cache_sentinel")?(x=f.jsx(mf,{size:14,className:"text-amber-500 dark:text-amber-400"}),e[4]=x):x=e[4];let w;e[5]!==n?(w=f.jsxs("div",{className:"flex items-center gap-2",children:[x,f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n})]}),e[5]=n,e[6]=w):w=e[6];let S;e[7]!==v?(S=Y=>{Y.stopPropagation(),v()},e[7]=v,e[8]=S):S=e[8];let k;e[9]!==d?(k=d?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(hs,{size:14,className:"text-neutral-400"}),e[9]=d,e[10]=k):k=e[10];let C;e[11]!==S||e[12]!==k?(C=f.jsx("button",{onClick:S,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy value",children:k}),e[11]=S,e[12]=k,e[13]=C):C=e[13];let E;e[14]!==r||e[15]!==c?(E=r&&f.jsx("button",{onClick:Y=>{Y.stopPropagation(),h(!c)},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:c?"Hide value":"Reveal value",children:c?f.jsx(lS,{size:14,className:"text-neutral-400"}):f.jsx(oS,{size:14,className:"text-neutral-400"})}),e[14]=r,e[15]=c,e[16]=E):E=e[16];let B;e[17]!==a?(B=a?f.jsx(rs,{size:14,className:"text-neutral-400"}):f.jsx(Or,{size:14,className:"text-neutral-400"}),e[17]=a,e[18]=B):B=e[18];let D;e[19]!==C||e[20]!==E||e[21]!==B?(D=f.jsxs("div",{className:"flex items-center gap-1",children:[C,E,B]}),e[19]=C,e[20]=E,e[21]=B,e[22]=D):D=e[22];let j;e[23]!==D||e[24]!==y||e[25]!==w?(j=f.jsxs("button",{onClick:y,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[w,D]}),e[23]=D,e[24]=y,e[25]=w,e[26]=j):j=e[26];let $;e[27]!==s||e[28]!==a||e[29]!==r||e[30]!==c?($=a&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:r&&!c?f.jsx("span",{className:"text-xs text-neutral-400 font-mono",children:""}):f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:s})}),e[27]=s,e[28]=a,e[29]=r,e[30]=c,e[31]=$):$=e[31];let H;return e[32]!==j||e[33]!==$?(H=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[j,$]}),e[32]=j,e[33]=$,e[34]=H):H=e[34],H}const GG={kinds:["Secret","Secrets"],adapt(t,e){const n=e.data||{},s=e.stringData||{},r=[...new Set([...Object.keys(n),...Object.keys(s)])];if(e.type==="helm.sh/release.v1"&&n.release)return{sections:[{id:"helm-release",data:{type:"custom",render:()=>f.jsx(zG,{encoded:n.release})}}]};if(e.type==="kubernetes.io/dockerconfigjson"&&n[".dockerconfigjson"])return{sections:[{id:"docker-config",data:{type:"custom",render:()=>f.jsx(UG,{encoded:n[".dockerconfigjson"]})}}]};const a=[];e.immutable&&a.push({id:"status",data:{type:"status-cards",items:[{label:"Immutable",value:"Yes",status:"warning",icon:f.jsx(yg,{size:14,className:"text-amber-400"})}]}});const o=[],c=[],h=[],d=[],g=[],m=[],v=[];return r.forEach(y=>{const x=n[y]||btoa(s[y]||""),w=VG(x),S=qG(y);if(!w)h.push(y);else if(FG(w))h.push(y);else{const k=wG(w);if(k)switch(k.type){case"certificate":d.push({key:y,pem:k.content});break;case"private-key":g.push({key:y,pem:k.content});break;case"public-key":m.push(y);break;case"csr":v.push({key:y,pem:k.content});break;default:O3(w)?c.push({key:y,decoded:w,isSensitive:S}):o.push({key:y,decoded:w,isSensitive:S})}else O3(w)?c.push({key:y,decoded:w,isSensitive:S}):o.push({key:y,decoded:w,isSensitive:S})}}),d.length>0&&a.push({id:"certificates",title:"Certificates",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:d.map(({key:y,pem:x})=>f.jsx(fw,{name:y,pem:x},y))})}}),g.length>0&&a.push({id:"private-keys",title:"Private Keys",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:g.map(({key:y,pem:x})=>f.jsx(AG,{name:y,pem:x},y))})}}),m.length>0&&a.push({id:"public-keys",title:"Public Keys",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:m.map(y=>f.jsx(EG,{name:y},y))})}}),v.length>0&&a.push({id:"csrs",title:"Certificate Requests",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:v.map(({key:y,pem:x})=>f.jsx(WB,{name:y,pem:x},y))})}}),o.length>0&&a.push({id:"data-simple",title:"Data",data:{type:"custom",render:()=>f.jsx(WG,{entries:o})}}),c.length>0&&a.push({id:"data-multiline",title:o.length>0?"Files":"Data",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:c.map(({key:y,decoded:x,isSensitive:w})=>f.jsx(KG,{name:y,decoded:x,isSensitive:w},y))})}}),h.length>0&&a.push({id:"binary-data",title:"Binary Data",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:h.map(y=>f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(yi,{size:14,className:"text-purple-500 dark:text-purple-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:y}),f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-purple-100 dark:bg-purple-500/20 text-purple-600 dark:text-purple-400",children:"Binary"})]})},y))})}}),{sections:a}}};function YG(t){return t.includes(`
`)}function XG(t){const e=He.c(29),{name:n,value:s}=t,[r,a]=W.useState(!1),[o,c]=W.useState(!1);let h;e[0]!==s?(h=async()=>{await navigator.clipboard.writeText(s),c(!0),setTimeout(()=>c(!1),2e3)},e[0]=s,e[1]=h):h=e[1];const d=h;let g;e[2]!==r?(g=()=>a(!r),e[2]=r,e[3]=g):g=e[3];let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=f.jsx(yi,{size:14,className:"text-blue-500 dark:text-blue-400"}),e[4]=m):m=e[4];let v;e[5]!==n?(v=f.jsxs("div",{className:"flex items-center gap-2",children:[m,f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n})]}),e[5]=n,e[6]=v):v=e[6];let y;e[7]!==d?(y=D=>{D.stopPropagation(),d()},e[7]=d,e[8]=y):y=e[8];let x;e[9]!==o?(x=o?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(hs,{size:14,className:"text-neutral-400"}),e[9]=o,e[10]=x):x=e[10];let w;e[11]!==y||e[12]!==x?(w=f.jsx("button",{onClick:y,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy value",children:x}),e[11]=y,e[12]=x,e[13]=w):w=e[13];let S;e[14]!==r?(S=r?f.jsx(rs,{size:14,className:"text-neutral-400"}):f.jsx(Or,{size:14,className:"text-neutral-400"}),e[14]=r,e[15]=S):S=e[15];let k;e[16]!==w||e[17]!==S?(k=f.jsxs("div",{className:"flex items-center gap-1",children:[w,S]}),e[16]=w,e[17]=S,e[18]=k):k=e[18];let C;e[19]!==g||e[20]!==v||e[21]!==k?(C=f.jsxs("button",{onClick:g,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[v,k]}),e[19]=g,e[20]=v,e[21]=k,e[22]=C):C=e[22];let E;e[23]!==r||e[24]!==s?(E=r&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-700 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:s})}),e[23]=r,e[24]=s,e[25]=E):E=e[25];let B;return e[26]!==C||e[27]!==E?(B=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[C,E]}),e[26]=C,e[27]=E,e[28]=B):B=e[28],B}function JG(t){const e=He.c(8),{entries:n}=t,[s,r]=W.useState(null);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=async(d,g)=>{await navigator.clipboard.writeText(g),r(d),setTimeout(()=>r(null),2e3)},e[0]=a):a=e[0];const o=a;let c;if(e[1]!==s||e[2]!==n){let d;e[4]!==s?(d=g=>{const[m,v]=g;return f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap",children:m}),f.jsx("td",{className:"py-1.5 font-mono break-all text-neutral-900 dark:text-neutral-300",children:v}),f.jsx("td",{className:"py-1.5 w-1",children:f.jsx("button",{onClick:()=>o(m,v),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy value",children:s===m?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(hs,{size:12,className:"text-neutral-400"})})})]},m)},e[4]=s,e[5]=d):d=e[5],c=n.map(d),e[1]=s,e[2]=n,e[3]=c}else c=e[3];let h;return e[6]!==c?(h=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("table",{className:"w-full text-xs",children:f.jsx("tbody",{children:c})})}),e[6]=c,e[7]=h):h=e[7],h}function QG(t){const e=He.c(16),{name:n,value:s}=t,[r,a]=W.useState(!1);let o;e[0]!==s?(o=async()=>{await navigator.clipboard.writeText(s),a(!0),setTimeout(()=>a(!1),2e3)},e[0]=s,e[1]=o):o=e[1];const c=o;let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=f.jsx(yi,{size:14,className:"text-purple-500 dark:text-purple-400"}),e[2]=h):h=e[2];let d;e[3]!==n?(d=f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[3]=n,e[4]=d):d=e[4];let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-purple-100 dark:bg-purple-500/20 text-purple-600 dark:text-purple-400",children:"Binary"}),e[5]=g):g=e[5];let m;e[6]!==d?(m=f.jsxs("div",{className:"flex items-center gap-2",children:[h,d,g]}),e[6]=d,e[7]=m):m=e[7];let v;e[8]!==r?(v=r?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(hs,{size:12,className:"text-neutral-400"}),e[8]=r,e[9]=v):v=e[9];let y;e[10]!==c||e[11]!==v?(y=f.jsx("button",{onClick:c,className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy base64 value",children:v}),e[10]=c,e[11]=v,e[12]=y):y=e[12];let x;return e[13]!==m||e[14]!==y?(x=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-3",children:f.jsxs("div",{className:"flex items-center justify-between",children:[m,y]})}),e[13]=m,e[14]=y,e[15]=x):x=e[15],x}const ZG={kinds:["ConfigMap","ConfigMaps"],adapt(t,e){const n=e.data||{},s=e.binaryData||{},r=Object.keys(n),a=Object.keys(s),o=r.length+a.length,c=[{id:"status",data:{type:"status-cards",items:[...e.immutable?[{label:"Immutable",value:"Yes",status:"warning",icon:f.jsx(yg,{size:14,className:"text-amber-400"})}]:[]]}}],h=[],d=[];return r.forEach(g=>{YG(n[g])?d.push([g,n[g]]):h.push([g,n[g]])}),h.length>0&&c.push({id:"data-simple",title:"Data",data:{type:"custom",render:()=>f.jsx(JG,{entries:h})}}),d.length>0&&c.push({id:"data-multiline",title:h.length>0?"Files":"Data",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:d.map(([g,m])=>f.jsx(XG,{name:g,value:m},g))})}}),a.length>0&&c.push({id:"binary-data",title:"Binary Data",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:a.map(g=>f.jsx(QG,{name:g,value:s[g]},g))})}}),o===0&&c.push({id:"empty",data:{type:"custom",render:()=>f.jsxs("div",{className:"text-center py-8 text-neutral-400 dark:text-neutral-500",children:[f.jsx(yi,{size:32,className:"mx-auto mb-2 opacity-50"}),f.jsx("p",{className:"text-sm",children:"This ConfigMap is empty"})]})}}),{sections:c}}},eY={kinds:["Gateway","Gateways"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=s?.conditions?.find(d=>d.type==="Accepted"),a=s?.conditions?.find(d=>d.type==="Programmed"),o=r?.status==="True",c=a?.status==="True",h=s?.listeners?.reduce((d,g)=>d+(g.attachedRoutes||0),0)||0;return{sections:[{id:"status",title:"Gateway Status",data:{type:"status-cards",items:[{label:"Gateway Class",value:n.gatewayClassName,status:"neutral"},{label:"Accepted",value:o?"Yes":"No",status:o?"success":"error"},{label:"Programmed",value:c?"Yes":"No",status:c?"success":"error"},{label:"Attached Routes",value:h,status:"neutral"}]}},...s?.addresses&&s.addresses.length>0?[{id:"addresses",title:"Addresses",data:{type:"info-grid",items:s.addresses.map(d=>({label:d.type||"IPAddress",value:d.value,color:"text-blue-400"})),columns:2}}]:[],{id:"listeners",title:"Listeners",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.listeners.map(d=>f.jsx(tY,{listener:d,status:s},d.name))})}},...(s?.conditions??[]).length>0?[{id:"conditions",data:{type:"conditions",items:(s?.conditions??[]).map(d=>({type:d.type||"",status:d.status||"",reason:d.reason,message:d.message}))}}]:[]]}}};function tY(t){const e=He.c(32),{listener:n,status:s}=t,[r,a]=Wr.useState(!1);let o;e[0]!==n.name||e[1]!==s?.listeners?(o=s?.listeners?.find(B=>B.name===n.name),e[0]=n.name,e[1]=s?.listeners,e[2]=o):o=e[2];const h=o?.attachedRoutes??0;let d;e[3]!==r?(d=()=>a(!r),e[3]=r,e[4]=d):d=e[4];let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=f.jsx(R7,{size:14,className:"text-emerald-400"}),e[5]=g):g=e[5];let m;e[6]!==n.name?(m=f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:n.name}),e[6]=n.name,e[7]=m):m=e[7];let v;e[8]!==n.protocol?(v=f.jsx("span",{className:"px-1.5 py-0.5 rounded text-xs bg-blue-500/20 text-blue-400",children:n.protocol}),e[8]=n.protocol,e[9]=v):v=e[9];let y;e[10]!==m||e[11]!==v?(y=f.jsxs("div",{className:"flex items-center gap-2",children:[m,v]}),e[10]=m,e[11]=v,e[12]=y):y=e[12];const x=h!==1?"s":"";let w;e[13]!==h||e[14]!==n.port||e[15]!==x?(w=f.jsxs("div",{className:"text-xs text-neutral-500",children:["Port ",n.port,"  ",h," route",x]}),e[13]=h,e[14]=n.port,e[15]=x,e[16]=w):w=e[16];let S;e[17]!==y||e[18]!==w?(S=f.jsxs("div",{className:"flex-1 min-w-0",children:[y,w]}),e[17]=y,e[18]=w,e[19]=S):S=e[19];let k;e[20]!==d||e[21]!==S?(k=f.jsxs("button",{onClick:d,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[g,S]}),e[20]=d,e[21]=S,e[22]=k):k=e[22];let C;e[23]!==h||e[24]!==r||e[25]!==n.hostname||e[26]!==n.port||e[27]!==n.protocol?(C=r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Protocol & Port"}),f.jsxs("div",{className:"text-xs space-y-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Protocol:"}),f.jsx("span",{className:"text-blue-400",children:n.protocol})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Port:"}),f.jsx("span",{className:"text-cyan-400",children:n.port})]})]})]}),n.hostname&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Hostname"}),f.jsx("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Br,{size:10,className:"text-cyan-400"}),f.jsx("span",{className:"text-cyan-400",children:n.hostname})]})})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Attached Routes"}),f.jsxs("div",{className:"text-xs",children:[f.jsx("span",{className:"text-emerald-400 font-medium",children:h}),f.jsxs("span",{className:"text-neutral-500 ml-1",children:["route",h!==1?"s":""," attached"]})]})]})]}),e[23]=h,e[24]=r,e[25]=n.hostname,e[26]=n.port,e[27]=n.protocol,e[28]=C):C=e[28];let E;return e[29]!==k||e[30]!==C?(E=f.jsxs("div",{className:"border border-emerald-500/30 bg-emerald-500/5 rounded-lg overflow-hidden",children:[k,C]}),e[29]=k,e[30]=C,e[31]=E):E=e[31],E}const nY={kinds:["HTTPRoute","HTTPRoutes"],adapt(t,e){const n=e.spec,s=e.status;return n?{sections:[...n.parentRefs&&n.parentRefs.length>0?[{id:"parents",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(ou,{size:10})," Parent Gateway",n.parentRefs.length>1?"s":""]}),f.jsx("div",{className:"space-y-1",children:n.parentRefs.map((r,a)=>{const c=s?.parents?.find(d=>d.parentRef.name===r.name)?.conditions?.find(d=>d.type==="Accepted"),h=c?.status==="True";return f.jsxs("div",{className:"text-sm flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Gateway:"}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:r.name}),r.namespace&&f.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:["(",r.namespace,")"]}),f.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${h?"bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-amber-500/20 text-amber-700 dark:text-amber-400"}`,children:h?"Accepted":c?.reason||"Unknown"})]},a)})})]})}}]:[],...n.hostnames&&n.hostnames.length>0?[{id:"hostnames",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-2",children:"Hostnames"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:n.hostnames.map((r,a)=>f.jsx("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded px-2.5 py-1 text-sm text-cyan-600 dark:text-cyan-400 font-mono",children:r},a))})]})}}]:[],...n.rules&&n.rules.length>0?[{id:"rules",title:"Routing Rules",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.rules.map((r,a)=>f.jsx(sY,{rule:r,index:a},r.matches?.[0]?.path?.value||`rule-${a}`))})}}]:[],...s?.parents?.some(r=>r.conditions&&r.conditions.length>0)?[{id:"parent-conditions",title:"Parent Status",data:{type:"conditions",items:s.parents.flatMap(r=>(r.conditions||[]).map(a=>({type:`${r.parentRef.name}: ${a.type}`,status:a.status,reason:a.reason,message:a.message})))}}]:[]]}:{sections:[]}}};function sY(t){const e=He.c(22),{rule:n,index:s}=t,[r,a]=Wr.useState(!1),o=n.matches?.length||0,c=n.backendRefs?.length||0;let h;e[0]!==r?(h=()=>a(!r),e[0]=r,e[1]=h):h=e[1];let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=f.jsx(Ud,{size:14,className:"text-purple-400"}),e[2]=d):d=e[2];const g=s+1;let m;e[3]!==g?(m=f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:["Rule ",g]})}),e[3]=g,e[4]=m):m=e[4];const v=o>0?`${o} match${o!==1?"es":""}`:"All requests",y=c!==1?"s":"";let x;e[5]!==c||e[6]!==v||e[7]!==y?(x=f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:[v,"  ",c," backend",y]}),e[5]=c,e[6]=v,e[7]=y,e[8]=x):x=e[8];let w;e[9]!==m||e[10]!==x?(w=f.jsxs("div",{className:"flex-1 min-w-0",children:[m,x]}),e[9]=m,e[10]=x,e[11]=w):w=e[11];let S;e[12]!==h||e[13]!==w?(S=f.jsxs("button",{onClick:h,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[d,w]}),e[12]=h,e[13]=w,e[14]=S):S=e[14];let k;e[15]!==r||e[16]!==n.backendRefs||e[17]!==n.matches?(k=r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[n.matches&&n.matches.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Matches"}),f.jsx("div",{className:"space-y-2",children:n.matches.map(iY)})]}),n.backendRefs&&n.backendRefs.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Backend Services"}),f.jsx("div",{className:"space-y-2",children:n.backendRefs.map(rY)})]})]}),e[15]=r,e[16]=n.backendRefs,e[17]=n.matches,e[18]=k):k=e[18];let C;return e[19]!==k||e[20]!==S?(C=f.jsxs("div",{className:"border border-purple-500/30 bg-purple-500/5 rounded-lg overflow-hidden",children:[S,k]}),e[19]=k,e[20]=S,e[21]=C):C=e[21],C}function rY(t,e){return f.jsx("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(o0,{size:10,className:"text-emerald-600 dark:text-emerald-400"}),f.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:t.name}),t.port&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:":"}),f.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:t.port})]}),t.weight!==void 0&&f.jsxs("span",{className:"ml-auto px-1 py-0.5 rounded bg-amber-500/20 text-amber-400 text-[10px]",children:["weight: ",t.weight]})]})},e)}function iY(t,e){return f.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:[t.path?.value&&f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Ud,{size:10,className:"text-cyan-600 dark:text-cyan-400"}),f.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Path:"}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:t.path.value})]}),t.method&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400 ml-4",children:"Method:"}),f.jsx("span",{className:"px-1 py-0.5 rounded bg-blue-500/20 text-blue-400 text-[10px] font-mono",children:t.method})]})]},e)}const aY={kinds:["GRPCRoute","GRPCRoutes"],adapt(t,e){const n=e.spec,s=e.status;return n?{sections:[...n.parentRefs&&n.parentRefs.length>0?[{id:"parents",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(ou,{size:10})," Parent Gateway",n.parentRefs.length>1?"s":""]}),f.jsx("div",{className:"space-y-1",children:n.parentRefs.map((r,a)=>{const c=s?.parents?.find(d=>d.parentRef.name===r.name)?.conditions?.find(d=>d.type==="Accepted"),h=c?.status==="True";return f.jsxs("div",{className:"text-sm flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Gateway:"}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:r.name}),r.namespace&&f.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:["(",r.namespace,")"]}),f.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${h?"bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-amber-500/20 text-amber-700 dark:text-amber-400"}`,children:h?"Accepted":c?.reason||"Unknown"})]},a)})})]})}}]:[],...n.hostnames&&n.hostnames.length>0?[{id:"hostnames",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-2",children:"Hostnames"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:n.hostnames.map((r,a)=>f.jsx("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded px-2.5 py-1 text-sm text-cyan-600 dark:text-cyan-400 font-mono",children:r},a))})]})}}]:[],...n.rules&&n.rules.length>0?[{id:"rules",title:"Routing Rules",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.rules.map((r,a)=>f.jsx(lY,{rule:r,index:a},r.matches?.[0]?.method?.service||`rule-${a}`))})}}]:[],...s?.parents?.some(r=>r.conditions&&r.conditions.length>0)?[{id:"parent-conditions",title:"Parent Status",data:{type:"conditions",items:s.parents.flatMap(r=>(r.conditions||[]).map(a=>({type:`${r.parentRef.name}: ${a.type}`,status:a.status,reason:a.reason,message:a.message})))}}]:[]]}:{sections:[]}}};function lY(t){const e=He.c(22),{rule:n,index:s}=t,[r,a]=Wr.useState(!1),o=n.matches?.length||0,c=n.backendRefs?.length||0;let h;e[0]!==r?(h=()=>a(!r),e[0]=r,e[1]=h):h=e[1];let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=f.jsx(ns,{size:14,className:"text-indigo-400"}),e[2]=d):d=e[2];const g=s+1;let m;e[3]!==g?(m=f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:["Rule ",g]})}),e[3]=g,e[4]=m):m=e[4];const v=o>0?`${o} match${o!==1?"es":""}`:"All methods",y=c!==1?"s":"";let x;e[5]!==c||e[6]!==v||e[7]!==y?(x=f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:[v,"  ",c," backend",y]}),e[5]=c,e[6]=v,e[7]=y,e[8]=x):x=e[8];let w;e[9]!==m||e[10]!==x?(w=f.jsxs("div",{className:"flex-1 min-w-0",children:[m,x]}),e[9]=m,e[10]=x,e[11]=w):w=e[11];let S;e[12]!==h||e[13]!==w?(S=f.jsxs("button",{onClick:h,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[d,w]}),e[12]=h,e[13]=w,e[14]=S):S=e[14];let k;e[15]!==r||e[16]!==n.backendRefs||e[17]!==n.matches?(k=r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[n.matches&&n.matches.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"gRPC Method Matches"}),f.jsx("div",{className:"space-y-2",children:n.matches.map(cY)})]}),n.backendRefs&&n.backendRefs.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Backend Services"}),f.jsx("div",{className:"space-y-2",children:n.backendRefs.map(oY)})]})]}),e[15]=r,e[16]=n.backendRefs,e[17]=n.matches,e[18]=k):k=e[18];let C;return e[19]!==k||e[20]!==S?(C=f.jsxs("div",{className:"border border-indigo-500/30 bg-indigo-500/5 rounded-lg overflow-hidden",children:[S,k]}),e[19]=k,e[20]=S,e[21]=C):C=e[21],C}function oY(t,e){return f.jsx("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(o0,{size:10,className:"text-emerald-600 dark:text-emerald-400"}),f.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:t.name}),t.port&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:":"}),f.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:t.port})]}),t.weight!==void 0&&f.jsxs("span",{className:"ml-auto px-1 py-0.5 rounded bg-amber-500/20 text-amber-400 text-[10px]",children:["weight: ",t.weight]})]})},e)}function cY(t,e){return f.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:[t.method?.service&&f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(ns,{size:10,className:"text-purple-600 dark:text-purple-400"}),f.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Service:"}),f.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-mono",children:t.method.service})]}),t.method?.method&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-400 ml-4",children:"Method:"}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:t.method.method})]})]},e)}const uY={kinds:["Ingress","Ingresses"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=s?.loadBalancer?.ingress&&s.loadBalancer.ingress.length>0;return{sections:[{id:"status",title:"Ingress Status",data:{type:"status-cards",items:[{label:"Ingress Class",value:n.ingressClassName||"default",status:"neutral"},{label:"Load Balancer",value:r?"Ready":"Pending",status:r?"success":"warning"}]}},...r?[{id:"load-balancer",title:"Load Balancer",data:{type:"info-grid",items:(s?.loadBalancer?.ingress||[]).map(a=>({label:a.hostname?"Hostname":"IP Address",value:a.hostname||a.ip||"Unknown",color:"text-blue-400"})),columns:2}}]:[],...n.tls&&n.tls.length>0?[{id:"tls",title:"TLS Configuration",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.tls.map((a,o)=>f.jsx(fY,{tls:a,index:o},a.secretName||`tls-${o}`))})}}]:[],...n.rules&&n.rules.length>0?[{id:"rules",title:"Routing Rules",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.rules.map((a,o)=>f.jsx(hY,{rule:a,index:o},a.host||`rule-${o}`))})}}]:[],...n.defaultBackend?.service?[{id:"default-backend",title:"Default Backend",data:{type:"info-grid",items:[{label:"Service",value:n.defaultBackend.service.name},{label:"Port",value:String(n.defaultBackend.service.port?.number||n.defaultBackend.service.port?.name||"unknown")}],columns:2}}]:[]]}}};function hY(t){const e=He.c(21),{rule:n,index:s}=t,[r,a]=Wr.useState(!1);let o;e[0]!==r?(o=()=>a(!r),e[0]=r,e[1]=o):o=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=f.jsx(ns,{size:14,className:"text-blue-400"}),e[2]=c):c=e[2];const h=n.host||`Rule ${s+1}`;let d;e[3]!==h?(d=f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:h})}),e[3]=h,e[4]=d):d=e[4];const g=n.http?.paths.length||0,m=n.http?.paths.length!==1?"s":"";let v;e[5]!==g||e[6]!==m?(v=f.jsxs("div",{className:"text-xs text-neutral-500",children:[g," path",m]}),e[5]=g,e[6]=m,e[7]=v):v=e[7];let y;e[8]!==d||e[9]!==v?(y=f.jsxs("div",{className:"flex-1 min-w-0",children:[d,v]}),e[8]=d,e[9]=v,e[10]=y):y=e[10];let x;e[11]!==o||e[12]!==y?(x=f.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[c,y]}),e[11]=o,e[12]=y,e[13]=x):x=e[13];let w;e[14]!==r||e[15]!==n.host||e[16]!==n.http?(w=r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[n.host&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Host"}),f.jsx("div",{className:"text-xs text-cyan-400",children:n.host})]}),n.http?.paths&&n.http.paths.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Paths"}),f.jsx("div",{className:"space-y-2",children:n.http.paths.map(dY)})]})]}),e[14]=r,e[15]=n.host,e[16]=n.http,e[17]=w):w=e[17];let S;return e[18]!==w||e[19]!==x?(S=f.jsxs("div",{className:"border border-blue-500/30 bg-blue-500/5 rounded-lg overflow-hidden",children:[x,w]}),e[18]=w,e[19]=x,e[20]=S):S=e[20],S}function dY(t,e){const n=t.backend.service?.port?.number||t.backend.service?.port?.name||"";return f.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Ud,{size:10,className:"text-purple-400"}),f.jsx("span",{className:"text-neutral-700 dark:text-neutral-300 font-mono",children:t.path||"/"}),f.jsx("span",{className:"px-1 py-0.5 rounded bg-purple-500/20 text-purple-400 text-[10px]",children:t.pathType})]}),f.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-600",children:""}),f.jsx("span",{className:"text-emerald-400",children:t.backend.service?.name||"unknown"}),f.jsx("span",{className:"text-neutral-600",children:":"}),f.jsx("span",{className:"text-blue-400",children:n})]})]},e)}function fY(t){const e=He.c(22),{tls:n,index:s}=t,[r,a]=Wr.useState(!1);let o;e[0]!==r?(o=()=>a(!r),e[0]=r,e[1]=o):o=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=f.jsx(pf,{size:14,className:"text-amber-400"}),e[2]=c):c=e[2];const h=n.secretName||`TLS ${s+1}`;let d;e[3]!==h?(d=f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:h})}),e[3]=h,e[4]=d):d=e[4];let g;e[5]!==n.hosts?(g=n.hosts?.join(", ")||"All hosts",e[5]=n.hosts,e[6]=g):g=e[6];let m;e[7]!==g?(m=f.jsx("div",{className:"text-xs text-neutral-500 truncate",children:g}),e[7]=g,e[8]=m):m=e[8];let v;e[9]!==d||e[10]!==m?(v=f.jsxs("div",{className:"flex-1 min-w-0",children:[d,m]}),e[9]=d,e[10]=m,e[11]=v):v=e[11];let y;e[12]!==o||e[13]!==v?(y=f.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[c,v]}),e[12]=o,e[13]=v,e[14]=y):y=e[14];let x;e[15]!==r||e[16]!==n.hosts||e[17]!==n.secretName?(x=r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Secret"}),f.jsx("div",{className:"text-xs text-purple-400",children:n.secretName||"default"})]}),n.hosts&&n.hosts.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Hosts"}),f.jsx("div",{className:"space-y-1",children:n.hosts.map(pY)})]})]}),e[15]=r,e[16]=n.hosts,e[17]=n.secretName,e[18]=x):x=e[18];let w;return e[19]!==y||e[20]!==x?(w=f.jsxs("div",{className:"border border-amber-500/30 bg-amber-500/5 rounded-lg overflow-hidden",children:[y,x]}),e[19]=y,e[20]=x,e[21]=w):w=e[21],w}function pY(t,e){return f.jsx("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Br,{size:10,className:"text-cyan-400"}),f.jsx("span",{className:"text-cyan-400",children:t})]})},e)}const mY=[Iq,Pq,Vq,Fq,qq,Wq,Gq,Xq,Jq,eW,uW,gW,SW,BG,MG,LG,GG,ZG,eY,nY,aY,uY],F2=new Map;mY.forEach(t=>{t.kinds.forEach(e=>{F2.set(e.toLowerCase(),t)})});function GB(t){return F2.get(t.toLowerCase())??null}function B3(t){return F2.has(t.toLowerCase())}function gY(t,e){const n=e.kind;if(!n)return null;const s=GB(n);return s?s.adapt(t,e):null}function YB(t){const e=t.kind;if(!e)return[];const n=GB(e);return n?.actions?n.actions.filter(s=>!s.isVisible||s.isVisible(t)):[]}function yY({actions:t,resource:e,onActionComplete:n}){const{context:s}=hr(),[r,a]=W.useState(null),[o,c]=W.useState(null),[h,d]=W.useState(null);if(t.length===0)return null;const g=async y=>{d(null),a(y.id);try{await y.execute(s,e),n?.()}catch(x){d(x instanceof Error?x.message:"Action failed")}finally{a(null),c(null)}},m=y=>{y.confirm?c(y):g(y)},v=(y="secondary")=>{switch(y){case"primary":return"bg-blue-600 hover:bg-blue-700 text-white border-blue-600";case"danger":return"bg-red-600 hover:bg-red-700 text-white border-red-600";case"warning":return"bg-amber-600 hover:bg-amber-700 text-white border-amber-600";default:return"bg-neutral-700 hover:bg-neutral-600 text-neutral-200 border-neutral-600"}};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.map(y=>{const x=y.isDisabled?.(e),w=x===!0||typeof x=="string",S=typeof x=="string"?x:void 0,k=r===y.id;return f.jsxs("button",{onClick:()=>m(y),disabled:w||k,title:S,className:`
                flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded border
                transition-colors duration-150
                ${v(y.variant)}
                ${w?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                ${k?"opacity-75":""}
              `,children:[k?f.jsx(Dn,{size:14,className:"animate-spin"}):y.icon,y.label]},y.id)})}),h&&f.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-xs",children:h}),o&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 rounded-lg p-4 max-w-md mx-4 shadow-xl",children:[f.jsx("h3",{className:"text-sm font-semibold text-neutral-200 mb-2",children:o.confirm?.title}),f.jsx("p",{className:"text-xs text-neutral-400 mb-4",children:o.confirm?.message}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>c(null),className:"px-3 py-1.5 text-xs font-medium rounded border border-neutral-600 bg-neutral-700 hover:bg-neutral-600 text-neutral-200",children:"Cancel"}),f.jsxs("button",{onClick:()=>g(o),disabled:r===o.id,className:`
                  flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded border
                  ${v(o.variant)}
                  ${r===o.id?"opacity-75":""}
                `,children:[r===o.id&&f.jsx(Dn,{size:14,className:"animate-spin"}),o.confirm?.confirmLabel||"Confirm"]})]})]})})]})}function vY(t){const e=He.c(6),{items:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={success:"text-emerald-400",warning:"text-amber-400",error:"text-red-400",neutral:"text-neutral-900 dark:text-neutral-100"},e[0]=s):s=e[0];const r=s;let a;if(e[1]!==n){let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=(h,d)=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:h.label}),f.jsxs("div",{className:`text-sm font-medium flex items-center gap-2 ${r[h.status||"neutral"]}`,children:[h.icon,h.value]}),h.description&&f.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:h.description})]},d),e[3]=c):c=e[3],a=n.map(c),e[1]=n,e[2]=a}else a=e[2];let o;return e[4]!==a?(o=f.jsx("div",{className:"grid grid-cols-2 gap-3",children:a}),e[4]=a,e[5]=o):o=e[5],o}function bY(t){const e=He.c(12),{items:n,podGrid:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={emerald:"text-emerald-400",blue:"text-blue-400",cyan:"text-cyan-400",purple:"text-purple-400",amber:"text-amber-400"},e[0]=r):r=e[0];const a=r;let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o={emerald:"bg-emerald-500",blue:"bg-blue-500",cyan:"bg-cyan-500",purple:"bg-purple-500",amber:"bg-amber-500"},e[1]=o):o=e[1];const c=o;let h;if(e[2]!==n){let v;e[4]===Symbol.for("react.memo_cache_sentinel")?(v=(y,x)=>{const w=y.total>0?Math.min(y.current/y.total*100,100):0;return f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:y.label}),f.jsxs("span",{className:a[y.color],children:[y.current,"/",y.total]})]}),f.jsx("div",{className:"h-1 bg-neutral-300 dark:bg-neutral-700 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full ${c[y.color]}`,style:{width:`${w}%`}})})]},x)},e[4]=v):v=e[4],h=n.map(v),e[2]=n,e[3]=h}else h=e[3];let d;e[5]!==h?(d=f.jsx("div",{className:"flex items-center gap-4 mb-3",children:h}),e[5]=h,e[6]=d):d=e[6];let g;e[7]!==s?(g=s&&f.jsx(_Y,{data:s}),e[7]=s,e[8]=g):g=e[8];let m;return e[9]!==d||e[10]!==g?(m=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-3",children:[d,g]}),e[9]=d,e[10]=g,e[11]=m):m=e[11],m}function _Y(t){const e=He.c(10),{data:n}=t,s=n.icon==="database"?hl:n.icon==="server"?Yr:ul;let r;e[0]!==n.total?(r=Array.from({length:n.total}),e[0]=n.total,e[1]=r):r=e[1];let a;return e[2]!==s||e[3]!==n.available||e[4]!==n.current||e[5]!==n.podTitles||e[6]!==n.ready||e[7]!==n.showOrdinal||e[8]!==r?(a=f.jsx("div",{className:"flex flex-wrap gap-1",children:r.map((o,c)=>{const h=c<n.ready,d=n.available!==void 0?c<n.available:h,g=n.current!==void 0?c<n.current:d,m=n.podTitles?.[c]??`Pod ${c}`;return f.jsxs("div",{className:`${n.showOrdinal?"w-8 h-8":"w-6 h-6"} rounded flex flex-col items-center justify-center ${h?"bg-emerald-500/20 border border-emerald-500/50":d?"bg-cyan-500/20 border border-cyan-500/50":g?"bg-amber-500/20 border border-amber-500/50":"bg-neutral-300/50 dark:bg-neutral-700/50 border border-neutral-400 dark:border-neutral-600"}`,title:`${m}: ${h?"Ready":d?"Available":g?"Current":"Pending"}`,children:[f.jsx(s,{size:n.showOrdinal?10:12,className:h?"text-emerald-600 dark:text-emerald-400":d?"text-cyan-600 dark:text-cyan-400":g?"text-amber-600 dark:text-amber-400":"text-neutral-600 dark:text-neutral-500"}),n.showOrdinal&&f.jsx("span",{className:`text-[9px] ${h?"text-emerald-600 dark:text-emerald-400":d?"text-cyan-600 dark:text-cyan-400":g?"text-amber-600 dark:text-amber-400":"text-neutral-600 dark:text-neutral-500"}`,children:c})]},c)})}),e[2]=s,e[3]=n.available,e[4]=n.current,e[5]=n.podTitles,e[6]=n.ready,e[7]=n.showOrdinal,e[8]=r,e[9]=a):a=e[9],a}const xY=new Set(["MemoryPressure","DiskPressure","PIDPressure","NetworkUnavailable","Failed","ErrorOccurred"]);function wY(t){return t.replace(/([a-z])([A-Z])/g,"$1 $2")}function SY(t){const e=He.c(13),{conditions:n}=t;if(!n||n.length===0)return null;const s=NY;let r,a,o,c;if(e[0]!==n){c=Symbol.for("react.early_return_sentinel");e:{let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=y=>!s(y),e[5]=g):g=e[5];const m=n.filter(g);if(m.length===0){c=null;break e}const v=[...m].sort(CY);e[6]===Symbol.for("react.memo_cache_sentinel")?(o=f.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:"Conditions"}),e[6]=o):o=e[6],r="rounded-lg overflow-hidden border border-neutral-200 dark:border-neutral-700/50",a=v.map(kY)}e[0]=n,e[1]=r,e[2]=a,e[3]=o,e[4]=c}else r=e[1],a=e[2],o=e[3],c=e[4];if(c!==Symbol.for("react.early_return_sentinel"))return c;let h;e[7]!==r||e[8]!==a?(h=f.jsx("div",{className:r,children:a}),e[7]=r,e[8]=a,e[9]=h):h=e[9];let d;return e[10]!==o||e[11]!==h?(d=f.jsxs("div",{children:[o,h]}),e[10]=o,e[11]=h,e[12]=d):d=e[12],d}function kY(t,e){const n=t.status==="Unknown";let s,r,a,o,c;return n?(s="bg-amber-50/50 dark:bg-amber-500/5",r="bg-amber-100 dark:bg-amber-500/20",a=vo,o="text-amber-500 dark:text-amber-400",c="text-amber-700 dark:text-amber-400"):(s="bg-red-50/50 dark:bg-red-500/5",r="bg-red-100 dark:bg-red-500/20",a=xi,o="text-red-500 dark:text-red-400",c="text-red-700 dark:text-red-400"),f.jsxs("div",{className:`${s} ${e>0?"border-t border-neutral-200 dark:border-neutral-700/50":""}`,children:[f.jsxs("div",{className:"flex items-center gap-3 px-3 py-2",children:[f.jsx("div",{className:`shrink-0 w-6 h-6 rounded-full flex items-center justify-center ${r}`,children:f.jsx(a,{size:14,className:o})}),f.jsx("span",{className:`text-sm font-medium flex-1 ${c}`,children:wY(t.reason||t.type)})]}),t.message&&f.jsx("div",{className:"px-3 pb-2 pl-12",children:f.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-500 wrap-break-word",children:t.message})})]},`${t.type}-${e}`)}function CY(t,e){const n=t.status==="Unknown",s=e.status==="Unknown";return n===s?0:n?1:-1}function NY(t){const e=xY.has(t.type),n=t.status==="True";return e?!n:n}function AY(t,e){if(t==="running")return{label:"Running",borderClass:"border-emerald-500/30 bg-emerald-500/5",badgeClass:"bg-emerald-500/20 text-emerald-400",iconClass:"text-emerald-400"};if(t==="waiting"){const n=e==="CrashLoopBackOff"||e==="Error";return{label:e||"Waiting",borderClass:n?"border-red-500/30 bg-red-500/5":"border-amber-500/30 bg-amber-500/5",badgeClass:n?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400",iconClass:n?"text-red-400":"text-amber-400"}}return t==="terminated"?{label:e||"Terminated",borderClass:"border-neutral-300 bg-neutral-100 dark:border-neutral-700 dark:bg-neutral-900/50",badgeClass:"bg-neutral-200 text-neutral-600 dark:bg-neutral-700 dark:text-neutral-400",iconClass:"text-neutral-500 dark:text-neutral-400"}:{label:"Unknown",borderClass:"border-neutral-300 bg-neutral-100 dark:border-neutral-700 dark:bg-neutral-900/50",badgeClass:"bg-neutral-200 text-neutral-600 dark:bg-neutral-700 dark:text-neutral-400",iconClass:"text-neutral-500 dark:text-neutral-400"}}const EY=15e3;function jY(t){const e=He.c(10),{items:n,metricsLoader:s}=t,[r,a]=W.useState(null);let o,c;if(e[0]!==s?(o=()=>{if(!s)return;let g=!0;const m=async()=>{const y=await s();g&&a(y)};m();const v=setInterval(m,EY);return()=>{g=!1,clearInterval(v)}},c=[s],e[0]=s,e[1]=o,e[2]=c):(o=e[1],c=e[2]),W.useEffect(o,c),n.length===0)return null;let h;if(e[3]!==n||e[4]!==r){let g;e[6]!==r?(g=m=>f.jsx(TY,{container:m,metrics:r?.get(m.name)},m.name),e[6]=r,e[7]=g):g=e[7],h=n.map(g),e[3]=n,e[4]=r,e[5]=h}else h=e[5];let d;return e[8]!==h?(d=f.jsx("div",{className:"space-y-2",children:h}),e[8]=h,e[9]=d):d=e[9],d}function TY(t){const e=He.c(44),{container:n,metrics:s}=t,[r,a]=W.useState(!1);let o;e[0]!==n.state||e[1]!==n.stateReason?(o=AY(n.state,n.stateReason),e[0]=n.state,e[1]=n.stateReason,e[2]=o):o=e[2];const c=o,h=`border rounded-lg overflow-hidden ${c.borderClass}`;let d;e[3]!==r?(d=()=>a(!r),e[3]=r,e[4]=d):d=e[4];let g;e[5]!==c.iconClass?(g=f.jsx(ul,{size:16,className:c.iconClass}),e[5]=c.iconClass,e[6]=g):g=e[6];let m;e[7]!==n.name?(m=f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:n.name}),e[7]=n.name,e[8]=m):m=e[8];let v;e[9]!==n.state||e[10]!==c.badgeClass||e[11]!==c.label?(v=n.state&&f.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${c.badgeClass}`,children:c.label}),e[9]=n.state,e[10]=c.badgeClass,e[11]=c.label,e[12]=v):v=e[12];let y;e[13]!==m||e[14]!==v?(y=f.jsxs("div",{className:"flex items-center gap-2",children:[m,v]}),e[13]=m,e[14]=v,e[15]=y):y=e[15];let x;e[16]!==n.image?(x=f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 truncate",children:n.image}),e[16]=n.image,e[17]=x):x=e[17];let w;e[18]!==y||e[19]!==x?(w=f.jsxs("div",{className:"flex-1 min-w-0",children:[y,x]}),e[18]=y,e[19]=x,e[20]=w):w=e[20];let S;e[21]!==s?(S=s&&f.jsxs("div",{className:"flex items-center gap-3 text-xs font-mono",children:[f.jsx("span",{className:"text-blue-400",title:"CPU",children:s.cpu.usage}),f.jsx("span",{className:"text-purple-400",title:"Memory",children:s.memory.usage})]}),e[21]=s,e[22]=S):S=e[22];let k;e[23]!==n.restartCount?(k=(n.restartCount??0)>0&&f.jsxs("div",{className:"text-xs text-amber-400",children:[n.restartCount," restarts"]}),e[23]=n.restartCount,e[24]=k):k=e[24];let C;e[25]!==S||e[26]!==k||e[27]!==d||e[28]!==g||e[29]!==w?(C=f.jsxs("button",{onClick:d,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[g,w,S,k]}),e[25]=S,e[26]=k,e[27]=d,e[28]=g,e[29]=w,e[30]=C):C=e[30];let E;e[31]!==n.args||e[32]!==n.command||e[33]!==n.image||e[34]!==n.mounts||e[35]!==n.ports||e[36]!==n.resources||e[37]!==r||e[38]!==s?(E=r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Image"}),f.jsx("div",{className:"text-xs text-cyan-600 dark:text-cyan-400 break-all",children:n.image})]}),(n.command||n.args)&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Command"}),f.jsx("code",{className:"text-xs text-neutral-900 dark:text-neutral-300 bg-neutral-200 dark:bg-neutral-800 px-2 py-1 rounded block",children:[...n.command||[],...n.args||[]].join(" ")})]}),n.ports&&n.ports.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Ports"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:n.ports.map(MY)})]}),!s&&n.resources&&f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.resources.requests&&f.jsxs("div",{children:[f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(mg,{size:10})," Requests"]}),f.jsx("div",{className:"text-xs space-y-0.5",children:Object.entries(n.resources.requests).map(BY)})]}),n.resources.limits&&f.jsxs("div",{children:[f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(Us,{size:10})," Limits"]}),f.jsx("div",{className:"text-xs space-y-0.5",children:Object.entries(n.resources.limits).map(OY)})]})]}),n.mounts&&n.mounts.length>0&&f.jsxs("div",{children:[f.jsxs("div",{className:"text-xs text-neutral-500 mb-2 flex items-center gap-1",children:[f.jsx(Us,{size:10})," Volume Mounts"]}),f.jsx("div",{className:"text-xs space-y-1.5",children:n.mounts.map(RY)})]})]}),e[31]=n.args,e[32]=n.command,e[33]=n.image,e[34]=n.mounts,e[35]=n.ports,e[36]=n.resources,e[37]=r,e[38]=s,e[39]=E):E=e[39];let B;return e[40]!==C||e[41]!==E||e[42]!==h?(B=f.jsxs("div",{className:h,children:[C,E]}),e[40]=C,e[41]=E,e[42]=h,e[43]=B):B=e[43],B}function RY(t,e){return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded p-2 flex items-center gap-2",children:[f.jsx("span",{className:"text-purple-400 truncate max-w-35",title:t.name,children:t.name}),f.jsx("span",{className:"text-neutral-600",children:""}),f.jsx("span",{className:"text-cyan-400 font-mono truncate flex-1",title:t.mountPath,children:t.mountPath}),t.readOnly&&f.jsx("span",{className:"text-amber-400 text-[10px] px-1 py-0.5 bg-amber-500/10 rounded",children:"(ro)"})]},e)}function OY(t){const[e,n]=t;return f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[f.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[e,":"]})," ",n]},e)}function BY(t){const[e,n]=t;return f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[f.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[e,":"]})," ",n]},e)}function MY(t,e){return f.jsxs("span",{className:"text-xs text-neutral-900 dark:text-neutral-100 bg-neutral-200 dark:bg-neutral-800 px-2 py-1 rounded",children:[t.containerPort,"/",t.protocol||"TCP",t.name&&f.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500 ml-1",children:["(",t.name,")"]})]},e)}function DY(t){const e=He.c(4),{items:n}=t;if(n.length===0)return null;let s;e[0]!==n?(s=n.map(LY),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=f.jsx("div",{className:"space-y-2",children:s}),e[2]=s,e[3]=r):r=e[3],r}function LY(t){return f.jsx(IY,{volume:t},t.name)}function IY(t){const e=He.c(33),{volume:n}=t,[s,r]=W.useState(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={ConfigMap:"border-blue-500/30 bg-blue-500/5",Secret:"border-amber-500/30 bg-amber-500/5",PVC:"border-emerald-500/30 bg-emerald-500/5",EmptyDir:"border-neutral-500/30 bg-neutral-500/5",HostPath:"border-red-500/30 bg-red-500/5",Projected:"border-purple-500/30 bg-purple-500/5",DownwardAPI:"border-cyan-500/30 bg-cyan-500/5",NFS:"border-orange-500/30 bg-orange-500/5",CSI:"border-indigo-500/30 bg-indigo-500/5"},e[0]=a):a=e[0];const o=a;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c={ConfigMap:f.jsx(q7,{size:14,className:"text-blue-400"}),Secret:f.jsx(pf,{size:14,className:"text-amber-400"}),PVC:f.jsx(hl,{size:14,className:"text-emerald-400"}),EmptyDir:f.jsx(Hd,{size:14,className:"text-neutral-400"}),HostPath:f.jsx(qI,{size:14,className:"text-red-400"}),Projected:f.jsx(ll,{size:14,className:"text-purple-400"}),DownwardAPI:f.jsx(HI,{size:14,className:"text-cyan-400"}),NFS:f.jsx(ns,{size:14,className:"text-orange-400"}),CSI:f.jsx(j7,{size:14,className:"text-indigo-400"})},e[1]=c):c=e[1];const h=c;let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d={ConfigMap:"bg-blue-500/20 text-blue-400",Secret:"bg-amber-500/20 text-amber-400",PVC:"bg-emerald-500/20 text-emerald-400",EmptyDir:"bg-neutral-500/20 text-neutral-400",HostPath:"bg-red-500/20 text-red-400",Projected:"bg-purple-500/20 text-purple-400",DownwardAPI:"bg-cyan-500/20 text-cyan-400",NFS:"bg-orange-500/20 text-orange-400",CSI:"bg-indigo-500/20 text-indigo-400"},e[2]=d):d=e[2];const g=d,m=`border rounded-lg overflow-hidden ${o[n.type]||"border-neutral-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900/50"}`;let v;e[3]!==s?(v=()=>r(!s),e[3]=s,e[4]=v):v=e[4];let y;e[5]!==n.type?(y=h[n.type]||f.jsx(Us,{size:14,className:"text-neutral-600 dark:text-neutral-400"}),e[5]=n.type,e[6]=y):y=e[6];let x;e[7]!==n.name?(x=f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:n.name})}),e[7]=n.name,e[8]=x):x=e[8];let w;e[9]!==n.source?(w=n.source&&f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400/70",children:n.source}),e[9]=n.source,e[10]=w):w=e[10];let S;e[11]!==n.mounts?(S=n.mounts.length>0&&f.jsxs("span",{className:"ml-2",children:[" ",n.mounts.map($Y).join(", ")]}),e[11]=n.mounts,e[12]=S):S=e[12];let k;e[13]!==w||e[14]!==S?(k=f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 truncate",children:[w,S]}),e[13]=w,e[14]=S,e[15]=k):k=e[15];let C;e[16]!==k||e[17]!==x?(C=f.jsxs("div",{className:"flex-1 min-w-0",children:[x,k]}),e[16]=k,e[17]=x,e[18]=C):C=e[18];let E;e[19]!==C||e[20]!==v||e[21]!==y?(E=f.jsxs("button",{onClick:v,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[y,C]}),e[19]=C,e[20]=v,e[21]=y,e[22]=E):E=e[22];let B;e[23]!==s||e[24]!==n.extra||e[25]!==n.mounts||e[26]!==n.source||e[27]!==n.type?(B=s&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Source"}),f.jsxs("div",{className:"text-xs",children:[f.jsx("span",{className:`px-1.5 py-0.5 rounded ${g[n.type]||"bg-neutral-200 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-400"}`,children:n.type}),n.source&&f.jsx("span",{className:"ml-2 text-cyan-600 dark:text-cyan-400",children:n.source})]}),n.extra&&Object.keys(n.extra).length>0&&f.jsx("div",{className:"mt-2 text-xs space-y-1",children:Object.entries(n.extra).map(zY)})]}),n.mounts.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Mount Points"}),f.jsx("div",{className:"space-y-2",children:n.mounts.map(PY)})]})]}),e[23]=s,e[24]=n.extra,e[25]=n.mounts,e[26]=n.source,e[27]=n.type,e[28]=B):B=e[28];let D;return e[29]!==E||e[30]!==B||e[31]!==m?(D=f.jsxs("div",{className:m,children:[E,B]}),e[29]=E,e[30]=B,e[31]=m,e[32]=D):D=e[32],D}function PY(t,e){return f.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ul,{size:10,className:"text-blue-400"}),f.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:t.container}),f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:""}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:t.mountPath}),t.readOnly&&f.jsx("span",{className:"px-1 py-0.5 rounded bg-amber-500/20 text-amber-400 text-[10px]",children:"read-only"})]}),t.subPath&&f.jsxs("div",{className:"ml-4 mt-1 text-neutral-600 dark:text-neutral-500",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"subPath:"})," ",f.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:t.subPath})]})]},e)}function zY(t){const[e,n]=t;return f.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400",children:[f.jsxs("span",{className:"text-neutral-500",children:[e,":"]})," ",f.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:String(n)})]},e)}function $Y(t){return t.mountPath}function HY(t){const e=He.c(4),{items:n}=t;if(n.length===0)return null;let s;e[0]!==n?(s=n.map(UY),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=f.jsx("div",{className:"space-y-3",children:s}),e[2]=s,e[3]=r):r=e[3],r}function UY(t,e){return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-300",children:[t.icon,t.label]}),f.jsxs("div",{className:"text-xs",children:[f.jsx("span",{className:"text-cyan-400",children:t.allocatable}),f.jsx("span",{className:"text-neutral-500",children:" / "}),f.jsx("span",{className:"text-neutral-400",children:t.capacity})]})]}),f.jsxs("div",{className:"text-[10px] text-neutral-500 flex justify-between",children:[f.jsx("span",{children:"Allocatable"}),f.jsx("span",{children:"Capacity"})]})]},e)}function VY(t){const e=He.c(6),{items:n}=t;if(n.length===0)return null;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={NoSchedule:"bg-red-500/20 text-red-400 border-red-500/30",PreferNoSchedule:"bg-amber-500/20 text-amber-400 border-amber-500/30",NoExecute:"bg-purple-500/20 text-purple-400 border-purple-500/30"},e[0]=s):s=e[0];const r=s;let a;if(e[1]!==n){let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=(h,d)=>f.jsxs("span",{className:"text-xs bg-neutral-200 dark:bg-neutral-700 px-2 py-0.5 rounded flex items-center gap-1",title:`${h.key}=${h.value||""}:${h.effect}`,children:[f.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:h.key}),h.value&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-neutral-400",children:"="}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:h.value})]}),f.jsx("span",{className:`ml-1 px-1 py-0.5 rounded text-[10px] border ${r[h.effect]??"bg-neutral-700 text-neutral-300"}`,children:h.effect})]},d),e[3]=c):c=e[3],a=n.map(c),e[1]=n,e[2]=a}else a=e[2];let o;return e[4]!==a?(o=f.jsx("div",{className:"flex flex-wrap gap-1",children:a}),e[4]=a,e[5]=o):o=e[5],o}function FY(t){const e=He.c(18),{loader:n,title:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[a,o]=W.useState(r),[c,h]=W.useState(!0);let d,g;if(e[1]!==n?(d=()=>{n().then(o).finally(()=>h(!1))},g=[n],e[1]=n,e[2]=d,e[3]=g):(d=e[2],g=e[3]),W.useEffect(d,g),c){let w;e[4]!==s?(w=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[4]=s,e[5]=w):w=e[5];let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:"Loading ReplicaSets..."}),e[6]=S):S=e[6];let k;return e[7]!==w?(k=f.jsxs("div",{children:[w,S]}),e[7]=w,e[8]=k):k=e[8],k}if(a.length===0)return null;let m;e[9]!==s?(m=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[9]=s,e[10]=m):m=e[10];let v;e[11]!==a?(v=a.map(qY),e[11]=a,e[12]=v):v=e[12];let y;e[13]!==v?(y=f.jsx("div",{className:"space-y-2",children:v}),e[13]=v,e[14]=y):y=e[14];let x;return e[15]!==m||e[16]!==y?(x=f.jsxs("div",{children:[m,y]}),e[15]=m,e[16]=y,e[17]=x):x=e[17],x}function qY(t){return f.jsx("div",{className:`border rounded-lg p-3 ${t.isCurrent?"border-blue-500/30 bg-blue-500/5":"border-neutral-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900/50 opacity-60"}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ll,{size:16,className:t.isCurrent?"text-blue-400":"text-neutral-600 dark:text-neutral-500"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate",title:t.name,children:t.name}),t.revision&&f.jsxs("span",{className:"text-xs bg-neutral-200 dark:bg-neutral-700 px-1.5 py-0.5 rounded text-neutral-700 dark:text-neutral-400",children:["rev ",t.revision]})]}),t.images.length>0&&f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 truncate",children:t.images.join(", ")})]}),f.jsxs("div",{className:"text-xs",children:[f.jsxs("span",{className:t.readyReplicas===t.replicas?"text-emerald-600 dark:text-emerald-400":"text-amber-600 dark:text-amber-400",children:[t.readyReplicas,"/",t.replicas]}),f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500 ml-1",children:"ready"})]})]})},t.name)}function WY(t){const e=He.c(18),{loader:n,title:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[a,o]=W.useState(r),[c,h]=W.useState(!0);let d,g;if(e[1]!==n?(d=()=>{n().then(o).finally(()=>h(!1))},g=[n],e[1]=n,e[2]=d,e[3]=g):(d=e[2],g=e[3]),W.useEffect(d,g),c){let w;e[4]!==s?(w=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[4]=s,e[5]=w):w=e[5];let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:"Loading PVCs..."}),e[6]=S):S=e[6];let k;return e[7]!==w?(k=f.jsxs("div",{children:[w,S]}),e[7]=w,e[8]=k):k=e[8],k}if(a.length===0)return null;let m;e[9]!==s?(m=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[9]=s,e[10]=m):m=e[10];let v;e[11]!==a?(v=a.map(KY),e[11]=a,e[12]=v):v=e[12];let y;e[13]!==v?(y=f.jsx("div",{className:"space-y-2",children:v}),e[13]=v,e[14]=y):y=e[14];let x;return e[15]!==m||e[16]!==y?(x=f.jsxs("div",{children:[m,y]}),e[15]=m,e[16]=y,e[17]=x):x=e[17],x}function KY(t){return f.jsx("div",{className:`border rounded-lg p-3 ${t.status==="Bound"?"border-emerald-500/30 bg-emerald-500/5":"border-neutral-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900/50"}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Us,{size:16,className:t.status==="Bound"?"text-emerald-600 dark:text-emerald-400":"text-neutral-600 dark:text-neutral-500"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate",children:t.name})}),f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:[t.storageClass||"default"," storage class"]})]}),f.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[t.capacity&&f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:t.capacity}),f.jsx("span",{className:t.status==="Bound"?"text-emerald-600 dark:text-emerald-400":"text-amber-600 dark:text-amber-400",children:t.status})]})]})},t.name)}function GY(t){const e=He.c(25),{loader:n,title:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[a,o]=W.useState(r),[c,h]=W.useState(!0),[d,g]=W.useState(!0);let m,v;if(e[1]!==n?(m=()=>{n().then(o).finally(()=>h(!1))},v=[n],e[1]=n,e[2]=m,e[3]=v):(m=e[2],v=e[3]),W.useEffect(m,v),c){let B;e[4]!==s?(B=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[4]=s,e[5]=B):B=e[5];let D;e[6]===Symbol.for("react.memo_cache_sentinel")?(D=f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:"Loading jobs..."}),e[6]=D):D=e[6];let j;return e[7]!==B?(j=f.jsxs("div",{children:[B,D]}),e[7]=B,e[8]=j):j=e[8],j}if(a.length===0)return null;let y;e[9]!==d||e[10]!==a?(y=d?a:a.slice(0,3),e[9]=d,e[10]=a,e[11]=y):y=e[11];const x=y;let w;e[12]!==s?(w=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[12]=s,e[13]=w):w=e[13];let S;e[14]!==x?(S=x.map(YY),e[14]=x,e[15]=S):S=e[15];let k;e[16]!==d||e[17]!==a.length?(k=a.length>3&&f.jsxs("button",{onClick:()=>g(!d),className:"flex items-center gap-1 text-xs text-neutral-600 dark:text-neutral-500 hover:text-neutral-900 dark:hover:text-neutral-300 transition-colors mt-2",children:[d?f.jsx(rs,{size:12}):f.jsx(Or,{size:12}),d?"Show less":`Show ${a.length-3} more`]}),e[16]=d,e[17]=a.length,e[18]=k):k=e[18];let C;e[19]!==S||e[20]!==k?(C=f.jsxs("div",{className:"space-y-2",children:[S,k]}),e[19]=S,e[20]=k,e[21]=C):C=e[21];let E;return e[22]!==w||e[23]!==C?(E=f.jsxs("div",{children:[w,C]}),e[22]=w,e[23]=C,e[24]=E):E=e[24],E}function YY(t){return f.jsx("div",{className:`border rounded-lg p-3 ${t.status==="Complete"?"border-emerald-500/30 bg-emerald-500/5":t.status==="Failed"?"border-red-500/30 bg-red-500/5":"border-amber-500/30 bg-amber-500/5"}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[t.status==="Complete"?f.jsx(Jr,{size:16,className:"text-emerald-400"}):t.status==="Failed"?f.jsx(xi,{size:16,className:"text-red-400"}):f.jsx(aa,{size:16,className:"text-amber-400"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate",title:t.name,children:t.name})}),t.startTime&&f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:["Started ",Y_(new Date(t.startTime))]})]}),f.jsx("span",{className:`text-xs ${t.status==="Complete"?"text-emerald-600 dark:text-emerald-400":t.status==="Failed"?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"}`,children:t.status})]})},t.name)}function XY(t){const e=He.c(4),{items:n}=t;let s;e[0]!==n?(s=n.map(JY),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=f.jsx("div",{className:"space-y-2",children:s}),e[2]=s,e[3]=r):r=e[3],r}function JY(t,e){return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Us,{size:14,className:"text-purple-400"}),f.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:t.name})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.size&&f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Size:"})," ",f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:t.size})]}),t.storageClass&&f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Class:"})," ",f.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:t.storageClass})]}),t.accessModes&&f.jsxs("div",{className:"col-span-2",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Access:"})," ",f.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:t.accessModes.join(", ")})]})]})]},e)}function QY(t){const e=He.c(8),{schedule:n,description:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(sT,{size:16,className:"text-purple-400"}),f.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:"Schedule"})]}),e[0]=r):r=e[0];let a;e[1]!==n?(a=f.jsx("div",{className:"font-mono text-cyan-600 dark:text-cyan-400 text-lg mb-1",children:n}),e[1]=n,e[2]=a):a=e[2];let o;e[3]!==s?(o=f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:s}),e[3]=s,e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==o?(c=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[r,a,o]}),e[5]=a,e[6]=o,e[7]=c):c=e[7],c}function ZY(t){const e=He.c(35),{completions:n,succeeded:s,failed:r,active:a}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=f.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-300",children:"Completions"}),e[0]=o):o=e[0];const c=s>=n?"text-emerald-600 dark:text-emerald-400":"text-cyan-600 dark:text-cyan-400";let h;e[1]!==s||e[2]!==c?(h=f.jsx("span",{className:c,children:s}),e[1]=s,e[2]=c,e[3]=h):h=e[3];let d;e[4]!==n?(d=f.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[" / ",n]}),e[4]=n,e[5]=d):d=e[5];let g;e[6]!==h||e[7]!==d?(g=f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o,f.jsxs("span",{className:"text-sm",children:[h,d]})]}),e[6]=h,e[7]=d,e[8]=g):g=e[8];let m;e[9]!==n||e[10]!==s?(m=s>0&&f.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${s/n*100}%`}}),e[9]=n,e[10]=s,e[11]=m):m=e[11];let v;e[12]!==n||e[13]!==r?(v=r>0&&f.jsx("div",{className:"h-full bg-red-500",style:{width:`${r/(n+r)*100}%`}}),e[12]=n,e[13]=r,e[14]=v):v=e[14];let y;e[15]!==m||e[16]!==v?(y=f.jsxs("div",{className:"h-2 bg-neutral-300 dark:bg-neutral-700 rounded-full overflow-hidden flex",children:[m,v]}),e[15]=m,e[16]=v,e[17]=y):y=e[17];let x;e[18]===Symbol.for("react.memo_cache_sentinel")?(x=f.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e[18]=x):x=e[18];let w;e[19]!==s?(w=f.jsxs("div",{className:"flex items-center gap-1",children:[x,f.jsxs("span",{className:"text-neutral-700 dark:text-neutral-400",children:["Succeeded: ",s]})]}),e[19]=s,e[20]=w):w=e[20];let S;e[21]===Symbol.for("react.memo_cache_sentinel")?(S=f.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),e[21]=S):S=e[21];let k;e[22]!==a?(k=f.jsxs("div",{className:"flex items-center gap-1",children:[S,f.jsxs("span",{className:"text-neutral-700 dark:text-neutral-400",children:["Active: ",a]})]}),e[22]=a,e[23]=k):k=e[23];let C;e[24]===Symbol.for("react.memo_cache_sentinel")?(C=f.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e[24]=C):C=e[24];let E;e[25]!==r?(E=f.jsxs("div",{className:"flex items-center gap-1",children:[C,f.jsxs("span",{className:"text-neutral-700 dark:text-neutral-400",children:["Failed: ",r]})]}),e[25]=r,e[26]=E):E=e[26];let B;e[27]!==w||e[28]!==k||e[29]!==E?(B=f.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs",children:[w,k,E]}),e[27]=w,e[28]=k,e[29]=E,e[30]=B):B=e[30];let D;return e[31]!==B||e[32]!==g||e[33]!==y?(D=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[g,y,B]}),e[31]=B,e[32]=g,e[33]=y,e[34]=D):D=e[34],D}function eX(t){const e=He.c(7),{startTime:n,completionTime:s}=t;let r;e[0]!==n?(r=n&&f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Started:"})," ",f.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:n.toLocaleString()})]}),e[0]=n,e[1]=r):r=e[1];let a;e[2]!==s?(a=s&&f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Completed:"})," ",f.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:s.toLocaleString()})]}),e[2]=s,e[3]=a):a=e[3];let o;return e[4]!==r||e[5]!==a?(o=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3 space-y-2 text-xs",children:[r,a]}),e[4]=r,e[5]=a,e[6]=o):o=e[6],o}function tX(t){const e=He.c(11),{items:n,columns:s}=t,r=s===void 0?2:s;let a,o;if(e[0]!==r||e[1]!==n){const h=n.filter(nX),d=r===3?"grid-cols-3":r===2?"grid-cols-2":"grid-cols-1";let g;e[4]!==r?(g=y=>{if(r!==3)return"";const x=y%3;return x===0?"text-left":x===1?"text-center":"text-right"},e[4]=r,e[5]=g):g=e[5];const m=g;a=`bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3 grid gap-2 text-xs ${d}`;let v;e[6]!==m?(v=(y,x)=>f.jsxs("div",{className:`overflow-hidden ${m(x)}`,children:[f.jsxs("span",{className:"text-neutral-500 dark:text-neutral-500",children:[y.label,":"]})," ",f.jsx("span",{className:y.color||"text-neutral-900 dark:text-neutral-300",children:y.value})]},x),e[6]=m,e[7]=v):v=e[7],o=h.map(v),e[0]=r,e[1]=n,e[2]=a,e[3]=o}else a=e[2],o=e[3];let c;return e[8]!==a||e[9]!==o?(c=f.jsx("div",{className:a,children:o}),e[8]=a,e[9]=o,e[10]=c):c=e[10],c}function nX(t){return t.value!==void 0&&t.value!==null}function sX(t){const e=He.c(20),{labels:n,title:s}=t,r=s===void 0?"Labels":s;let a,o,c,h,d;if(e[0]!==n||e[1]!==r){d=Symbol.for("react.early_return_sentinel");e:{const y=Object.entries(n);if(y.length===0){d=null;break e}const x=["node-role.kubernetes.io/","kubernetes.io/os","kubernetes.io/arch","node.kubernetes.io/instance-type","topology.kubernetes.io/"],w=[...y].sort((k,C)=>{const E=x.some(D=>k[0].startsWith(D)),B=x.some(D=>C[0].startsWith(D));return E&&!B?-1:!E&&B?1:0});let S;e[7]===Symbol.for("react.memo_cache_sentinel")?(S=f.jsx(Z7,{size:12}),e[7]=S):S=e[7],e[8]!==r?(h=f.jsxs("h5",{className:"flex items-center gap-2 text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:[S,r]}),e[8]=r,e[9]=h):h=e[9],o="w-full text-xs table-fixed",e[10]===Symbol.for("react.memo_cache_sentinel")?(c=f.jsxs("colgroup",{children:[f.jsx("col",{className:"w-[40%]"}),f.jsx("col",{className:"w-[60%]"})]}),e[10]=c):c=e[10],a=w.map((k,C)=>{const[E,B]=k,D=x.some(j=>E.startsWith(j));return f.jsxs("tr",{className:C%2===0?"bg-neutral-50 dark:bg-neutral-800/30":"",children:[f.jsx("td",{className:`py-1.5 px-2 truncate ${D?"text-blue-600 dark:text-blue-400":"text-sky-600 dark:text-sky-400"}`,title:E,children:E}),f.jsx("td",{className:"py-1.5 px-2 text-emerald-600 dark:text-emerald-400 truncate",title:B,children:B})]},E)})}e[0]=n,e[1]=r,e[2]=a,e[3]=o,e[4]=c,e[5]=h,e[6]=d}else a=e[2],o=e[3],c=e[4],h=e[5],d=e[6];if(d!==Symbol.for("react.early_return_sentinel"))return d;let g;e[11]!==a?(g=f.jsx("tbody",{children:a}),e[11]=a,e[12]=g):g=e[12];let m;e[13]!==o||e[14]!==c||e[15]!==g?(m=f.jsxs("table",{className:o,children:[c,g]}),e[13]=o,e[14]=c,e[15]=g,e[16]=m):m=e[16];let v;return e[17]!==h||e[18]!==m?(v=f.jsxs("div",{children:[h,m]}),e[17]=h,e[18]=m,e[19]=v):v=e[19],v}function rX(t){const e=He.c(4),{containers:n}=t;let s;e[0]!==n?(s=n.map(iX),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=f.jsx("div",{className:"space-y-1",children:s}),e[2]=s,e[3]=r):r=e[3],r}function iX(t){return f.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 px-2 py-1.5 rounded flex items-center gap-2",children:[f.jsx(ul,{size:12,className:"text-blue-400"}),f.jsxs("span",{className:"text-neutral-900 dark:text-neutral-300",children:[t.name,":"]}),f.jsx("span",{className:"text-cyan-400 truncate",children:t.image})]},t.name)}function aX(t){const e=He.c(4),{addresses:n}=t;let s;e[0]!==n?(s=n.map(lX),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=f.jsx("div",{className:"grid grid-cols-2 gap-2",children:s}),e[2]=s,e[3]=r):r=e[3],r}function lX(t,e){return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-2",children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:t.type}),f.jsx("div",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-mono",children:t.address})]},e)}const oX=15e3;function cX(t){const e=He.c(56),{loader:n,title:s}=t,[r,a]=W.useState(null),[o,c]=W.useState(!0);let h,d;if(e[0]!==n?(h=()=>{let O=!0;const V=async()=>{const Z=await n();O&&(a(Z),c(!1))};V();const A=setInterval(V,oX);return()=>{O=!1,clearInterval(A)}},d=[n],e[0]=n,e[1]=h,e[2]=d):(h=e[1],d=e[2]),W.useEffect(h,d),!o&&r===null)return null;if(o){let O;e[3]!==s?(O=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[3]=s,e[4]=O):O=e[4];let V;e[5]===Symbol.for("react.memo_cache_sentinel")?(V=f.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[f.jsx(Dn,{size:12,className:"animate-spin"}),"Loading metrics..."]}),e[5]=V):V=e[5];let A;return e[6]!==O?(A=f.jsxs("div",{children:[O,V]}),e[6]=O,e[7]=A):A=e[7],A}if(!r)return null;const g=XA(r.cpu.usageNanoCores,r.cpu.allocatableNanoCores),m=XA(r.memory.usageBytes,r.memory.allocatableBytes);let v;e[8]!==s?(v=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[8]=s,e[9]=v):v=e[9];let y;e[10]===Symbol.for("react.memo_cache_sentinel")?(y=f.jsxs("span",{className:"text-xs text-neutral-400 flex items-center gap-1.5",children:[f.jsx(mg,{size:12}),"CPU Usage"]}),e[10]=y):y=e[10];const x=g>80?"text-amber-400":"text-blue-400";let w;e[11]!==r.cpu.usage||e[12]!==x?(w=f.jsx("span",{className:x,children:r.cpu.usage}),e[11]=r.cpu.usage,e[12]=x,e[13]=w):w=e[13];let S;e[14]!==r.cpu.allocatable?(S=f.jsxs("span",{className:"text-neutral-500",children:[" / ",r.cpu.allocatable]}),e[14]=r.cpu.allocatable,e[15]=S):S=e[15];let k;e[16]!==w||e[17]!==S?(k=f.jsxs("div",{className:"flex items-center justify-between",children:[y,f.jsxs("span",{className:"text-xs font-mono",children:[w,S]})]}),e[16]=w,e[17]=S,e[18]=k):k=e[18];const C=`h-full transition-all duration-300 ${g>80?"bg-amber-500":"bg-blue-500"}`,E=`${g}%`;let B;e[19]!==E?(B={width:E},e[19]=E,e[20]=B):B=e[20];let D;e[21]!==B||e[22]!==C?(D=f.jsx("div",{className:"h-2 bg-neutral-700 rounded-full overflow-hidden",children:f.jsx("div",{className:C,style:B})}),e[21]=B,e[22]=C,e[23]=D):D=e[23];let j;e[24]!==g?(j=f.jsxs("div",{className:"text-xs text-neutral-500 text-right",children:[g,"% utilized"]}),e[24]=g,e[25]=j):j=e[25];let $;e[26]!==D||e[27]!==j||e[28]!==k?($=f.jsxs("div",{className:"bg-neutral-900/50 rounded-lg p-3 space-y-2",children:[k,D,j]}),e[26]=D,e[27]=j,e[28]=k,e[29]=$):$=e[29];let H;e[30]===Symbol.for("react.memo_cache_sentinel")?(H=f.jsxs("span",{className:"text-xs text-neutral-400 flex items-center gap-1.5",children:[f.jsx(Us,{size:12}),"Memory Usage"]}),e[30]=H):H=e[30];const Y=m>80?"text-amber-400":"text-purple-400";let z;e[31]!==r.memory.usage||e[32]!==Y?(z=f.jsx("span",{className:Y,children:r.memory.usage}),e[31]=r.memory.usage,e[32]=Y,e[33]=z):z=e[33];let J;e[34]!==r.memory.allocatable?(J=f.jsxs("span",{className:"text-neutral-500",children:[" / ",r.memory.allocatable]}),e[34]=r.memory.allocatable,e[35]=J):J=e[35];let F;e[36]!==z||e[37]!==J?(F=f.jsxs("div",{className:"flex items-center justify-between",children:[H,f.jsxs("span",{className:"text-xs font-mono",children:[z,J]})]}),e[36]=z,e[37]=J,e[38]=F):F=e[38];const K=`h-full transition-all duration-300 ${m>80?"bg-amber-500":"bg-purple-500"}`,Q=`${m}%`;let q;e[39]!==Q?(q={width:Q},e[39]=Q,e[40]=q):q=e[40];let L;e[41]!==K||e[42]!==q?(L=f.jsx("div",{className:"h-2 bg-neutral-700 rounded-full overflow-hidden",children:f.jsx("div",{className:K,style:q})}),e[41]=K,e[42]=q,e[43]=L):L=e[43];let G;e[44]!==m?(G=f.jsxs("div",{className:"text-xs text-neutral-500 text-right",children:[m,"% utilized"]}),e[44]=m,e[45]=G):G=e[45];let U;e[46]!==F||e[47]!==L||e[48]!==G?(U=f.jsxs("div",{className:"bg-neutral-900/50 rounded-lg p-3 space-y-2",children:[F,L,G]}),e[46]=F,e[47]=L,e[48]=G,e[49]=U):U=e[49];let M;e[50]!==$||e[51]!==U?(M=f.jsxs("div",{className:"space-y-3",children:[$,U]}),e[50]=$,e[51]=U,e[52]=M):M=e[52];let R;return e[53]!==M||e[54]!==v?(R=f.jsxs("div",{children:[v,M]}),e[53]=M,e[54]=v,e[55]=R):R=e[55],R}function uX(t){const e=He.c(24),{data:n}=t,{cpu:s,memory:r}=n;if(!(s.requests||s.limits||r.requests||r.limits))return null;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=f.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:"Resource Quota"}),e[0]=o):o=e[0];let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(mg,{size:14,className:"text-blue-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400",children:"CPU"})]}),e[1]=c):c=e[1];let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=f.jsx("span",{className:"text-xs text-neutral-500",children:"Requests"}),e[2]=h):h=e[2];const d=s.requests||"";let g;e[3]!==d?(g=f.jsxs("div",{className:"flex items-center justify-between",children:[h,f.jsx("span",{className:"text-sm font-mono text-neutral-900 dark:text-neutral-100",children:d})]}),e[3]=d,e[4]=g):g=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=f.jsx("span",{className:"text-xs text-neutral-500",children:"Limits"}),e[5]=m):m=e[5];const v=s.limits||"";let y;e[6]!==v?(y=f.jsxs("div",{className:"flex items-center justify-between",children:[m,f.jsx("span",{className:"text-sm font-mono text-neutral-900 dark:text-neutral-100",children:v})]}),e[6]=v,e[7]=y):y=e[7];let x;e[8]!==g||e[9]!==y?(x=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-3",children:[c,f.jsxs("div",{className:"space-y-1.5",children:[g,y]})]}),e[8]=g,e[9]=y,e[10]=x):x=e[10];let w;e[11]===Symbol.for("react.memo_cache_sentinel")?(w=f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Us,{size:14,className:"text-purple-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400",children:"Memory"})]}),e[11]=w):w=e[11];let S;e[12]===Symbol.for("react.memo_cache_sentinel")?(S=f.jsx("span",{className:"text-xs text-neutral-500",children:"Requests"}),e[12]=S):S=e[12];const k=r.requests||"";let C;e[13]!==k?(C=f.jsxs("div",{className:"flex items-center justify-between",children:[S,f.jsx("span",{className:"text-sm font-mono text-neutral-900 dark:text-neutral-100",children:k})]}),e[13]=k,e[14]=C):C=e[14];let E;e[15]===Symbol.for("react.memo_cache_sentinel")?(E=f.jsx("span",{className:"text-xs text-neutral-500",children:"Limits"}),e[15]=E):E=e[15];const B=r.limits||"";let D;e[16]!==B?(D=f.jsxs("div",{className:"flex items-center justify-between",children:[E,f.jsx("span",{className:"text-sm font-mono text-neutral-900 dark:text-neutral-100",children:B})]}),e[16]=B,e[17]=D):D=e[17];let j;e[18]!==C||e[19]!==D?(j=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-3",children:[w,f.jsxs("div",{className:"space-y-1.5",children:[C,D]})]}),e[18]=C,e[19]=D,e[20]=j):j=e[20];let $;return e[21]!==j||e[22]!==x?($=f.jsxs("div",{children:[o,f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x,j]})]}),e[21]=j,e[22]=x,e[23]=$):$=e[23],$}function hX(t){const e=He.c(9),{section:n}=t,{title:s,data:r}=n;let a;e[0]!==r?(a=dX(r),e[0]=r,e[1]=a):a=e[1];const o=a;if(o===null)return null;if(!s){let d;return e[2]!==o?(d=f.jsx(f.Fragment,{children:o}),e[2]=o,e[3]=d):d=e[3],d}let c;e[4]!==s?(c=f.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[4]=s,e[5]=c):c=e[5];let h;return e[6]!==o||e[7]!==c?(h=f.jsxs("div",{children:[c,o]}),e[6]=o,e[7]=c,e[8]=h):h=e[8],h}function dX(t){switch(t.type){case"status-cards":return f.jsx(vY,{items:t.items});case"gauges":return f.jsx(bY,{items:t.items,podGrid:t.showPodGrid});case"conditions":return f.jsx(SY,{conditions:t.items});case"info-grid":return f.jsx(tX,{items:t.items,columns:t.columns});case"containers":return f.jsx(jY,{items:t.items,metricsLoader:t.metricsLoader});case"volumes":return f.jsx(DY,{items:t.items});case"labels":return f.jsx(sX,{labels:t.labels,title:t.title});case"capacity-bars":return f.jsx(HY,{items:t.items});case"taints":return f.jsx(VY,{items:t.items});case"container-images":return f.jsx(rX,{containers:t.containers});case"related-replicasets":return f.jsx(FY,{loader:t.loader,title:t.title});case"related-pvcs":return f.jsx(WY,{loader:t.loader,title:t.title});case"related-jobs":return f.jsx(GY,{loader:t.loader,title:t.title});case"volume-claim-templates":return f.jsx(XY,{items:t.items});case"schedule":return f.jsx(QY,{schedule:t.schedule,description:t.description});case"job-progress":return f.jsx(ZY,{...t});case"timeline":return f.jsx(eX,{startTime:t.startTime,completionTime:t.completionTime});case"addresses":return f.jsx(aX,{addresses:t.addresses});case"node-metrics":return f.jsx(cX,{loader:t.loader,title:t.title});case"resource-quota":return f.jsx(uX,{data:t.data});case"custom":return t.render();default:return null}}function fX(t){const e=He.c(25),{resource:n,onActionComplete:s,hideActions:r}=t,a=r===void 0?!1:r,{context:o}=hr();let c,h,d,g,m;if(e[0]!==o||e[1]!==a||e[2]!==s||e[3]!==n){m=Symbol.for("react.early_return_sentinel");e:{const y=gY(o,n);let x;e[9]!==n?(x=YB(n),e[9]=n,e[10]=x):x=e[10];const w=x,S=n.metadata?.annotations?.["kubernetes.io/description"];if(!y||y.sections.length===0){let k;e[11]!==n.kind?(k=f.jsxs("div",{className:"text-neutral-500 text-sm",children:["No visualization available for ",n.kind]}),e[11]=n.kind,e[12]=k):k=e[12],m=k;break e}c="space-y-4",e[13]!==w||e[14]!==a||e[15]!==s||e[16]!==n?(h=!a&&f.jsx(yY,{actions:w,resource:n,onActionComplete:s}),e[13]=w,e[14]=a,e[15]=s,e[16]=n,e[17]=h):h=e[17],e[18]!==S?(d=S&&f.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:S}),e[18]=S,e[19]=d):d=e[19],g=y.sections.map(pX)}e[0]=o,e[1]=a,e[2]=s,e[3]=n,e[4]=c,e[5]=h,e[6]=d,e[7]=g,e[8]=m}else c=e[4],h=e[5],d=e[6],g=e[7],m=e[8];if(m!==Symbol.for("react.early_return_sentinel"))return m;let v;return e[20]!==c||e[21]!==h||e[22]!==d||e[23]!==g?(v=f.jsxs("div",{className:c,children:[h,d,g]}),e[20]=c,e[21]=h,e[22]=d,e[23]=g,e[24]=v):v=e[24],v}function pX(t){return f.jsx(hX,{section:t},t.id)}function M3(t,e,n){const s=t.match(/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+Z)\s+(.*)$/);return s?{podName:e,container:n,timestamp:s[1],message:s[2]}:{podName:e,container:n,message:t}}async function mX(t,e,n,s){const r=new URLSearchParams;s.container&&r.set("container",s.container),r.set("follow","true"),r.set("tailLines",String(s.tailLines)),r.set("timestamps","true");const a=`/contexts/${t}/api/v1/namespaces/${e}/pods/${n}/log?${r.toString()}`;try{const o=await fetch(a,{signal:s.signal});if(!o.ok)throw new Error(`Failed to fetch logs: ${o.status} ${o.statusText}`);if(!o.body)throw new Error("No response body");const c=o.body.getReader(),h=new TextDecoder;let d="";for(;;){const{done:g,value:m}=await c.read();if(g)break;d+=h.decode(m,{stream:!0});const v=d.split(`
`);d=v.pop()||"";for(const y of v)y.trim()&&s.onLog(M3(y,n,s.container))}d.trim()&&s.onLog(M3(d,n,s.container))}catch(o){if(o.name==="AbortError")return;s.onError?.(o)}}function gX(t){const e=new AbortController;for(const n of t.podNames)mX(t.context,t.namespace,n,{container:t.container,follow:t.follow,tailLines:t.tailLines,timestamps:t.timestamps,onLog:t.onLog,onError:t.onError,signal:e.signal});return e}async function yX(t,e,n,s){let r;switch(n.toLowerCase()){case"deployment":r=`/apis/apps/v1/namespaces/${e}/deployments/${s}`;break;case"daemonset":r=`/apis/apps/v1/namespaces/${e}/daemonsets/${s}`;break;case"replicaset":r=`/apis/apps/v1/namespaces/${e}/replicasets/${s}`;break;case"statefulset":r=`/apis/apps/v1/namespaces/${e}/statefulsets/${s}`;break;case"job":r=`/apis/batch/v1/namespaces/${e}/jobs/${s}`;break;default:throw new Error(`Unsupported workload kind: ${n}`)}const a=await fetch(`/contexts/${t}${r}`);if(!a.ok)throw new Error(`Failed to fetch ${n}: ${a.status}`);const c=(await a.json()).spec?.selector?.matchLabels;if(!c)throw new Error("Workload has no selector labels");const h=Object.entries(c).map(([m,v])=>`${m}=${v}`).join(","),d=await fetch(`/contexts/${t}/api/v1/namespaces/${e}/pods?labelSelector=${encodeURIComponent(h)}`);if(!d.ok)throw new Error(`Failed to fetch pods: ${d.status}`);return(await d.json()).items.map(m=>m.metadata.name)}var XB=eT();function q2(t){const e=He.c(6),{toolbarRef:n,children:s}=t,[r,a]=W.useState(null);let o,c;e[0]!==n?(o=()=>{a(n.current)},c=[n],e[0]=n,e[1]=o,e[2]=c):(o=e[1],c=e[2]),W.useEffect(o,c);let h;return e[3]!==s||e[4]!==r?(h=r?XB.createPortal(s,r):null,e[3]=s,e[4]=r,e[5]=h):h=e[5],h}const D3=["text-cyan-400","text-emerald-400","text-amber-400","text-purple-400","text-pink-400","text-blue-400","text-red-400","text-orange-400"];function L3(t,e){const n=e.indexOf(t);return D3[n%D3.length]}function vX(t){if(!t)return"";try{return new Date(t).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})}catch{return t}}const bX=/^([IWEF])(\d{4})\s+(\d{2}:\d{2}:\d{2}\.\d+)\s+\d+\s+([\w.]+:\d+)]\s*(.*)$/;function _X(t){const e=t.match(bX);if(!e)return null;const[,n,,,s,r]=e,a=n==="E"?"error":n==="W"?"warn":n==="F"?"error":"info",o=JB(r),c=[`source: ${s}`];for(const[h,d]of Object.entries(o))c.push(`${h}: ${d}`);return{format:"klog",formatted:c.join(`
`),level:a}}function JB(t){const e={},n=/(?:"([^"]*)"|([\w.]+)=(?:"([^"]*)"|([^\s]*)))/g;let s,r=0;for(;(s=n.exec(t))!==null;)if(s[1]!==void 0)e[`msg${r||""}`]=s[1],r++;else{const a=s[2],o=s[3]??s[4]??"";e[a]=o}return e}function xX(t){const e=t.trim();if(!/\w+=/.test(e))return null;const n=JB(e),s=Object.keys(n);if(s.length<2)return null;let r="unknown";const a=(n.level??n.lvl??n.severity??"").toLowerCase();return a.includes("err")||a==="fatal"?r="error":a.includes("warn")?r="warn":a==="info"?r="info":a==="debug"&&(r="debug"),{format:"logfmt",formatted:s.map(c=>`${c}: ${n[c]}`).join(`
`),level:r}}function wX(t){const e=t.trim();if(e.startsWith("{")||e.startsWith("["))try{const r=JSON.parse(e);return{format:"json",formatted:JSON.stringify(r,null,2),jsonData:r}}catch{}const n=_X(e);if(n)return n;const s=xX(e);return s||{format:"plain",formatted:t}}const SX={error:"text-red-600 dark:text-red-400",warn:"text-yellow-600 dark:text-yellow-400",info:"text-blue-600 dark:text-blue-400",debug:"text-neutral-600 dark:text-neutral-400",trace:"text-neutral-500 dark:text-neutral-500",unknown:"text-neutral-700 dark:text-neutral-300"},kX={error:"bg-red-50 dark:bg-red-500/10 border-l-2 border-red-400 dark:border-red-500/50",warn:"bg-yellow-50 dark:bg-yellow-500/10 border-l-2 border-yellow-400 dark:border-yellow-500/50",info:"",debug:"",trace:"",unknown:""};function CX(t,e,n){if(n&&n!=="unknown")return n;if(e){const a=e.level??e.severity??e.lvl??e.log_level??"",o=String(a).toLowerCase();if(o.includes("err")||o==="fatal"||o==="critical")return"error";if(o.includes("warn"))return"warn";if(o==="info")return"info";if(o==="debug")return"debug";if(o==="trace")return"trace"}const r=t.toLowerCase().slice(0,100);return/\b(error|err|fatal|critical|panic|exception)\b/.test(r)?"error":/\b(warn|warning)\b/.test(r)?"warn":/\binfo\b/.test(r)?"info":/\bdebug\b/.test(r)?"debug":/\btrace\b/.test(r)?"trace":"unknown"}function NX(t,e){const[n,s]=W.useState({podNames:[],loading:!1,error:null}),r=e.kind,a=e.metadata?.name,o=e.metadata?.namespace;return W.useEffect(()=>{if(!r||!a||!o)return;if(r==="Pod"){s({podNames:[a],loading:!1,error:null});return}let c=!1;async function h(){try{const d=await yX(t,o,r,a);c||s({podNames:d,loading:!1,error:null})}catch(d){c||s(g=>({...g,loading:!1,error:d.message}))}}return s(d=>({...d,loading:!0,error:null})),h(),()=>{c=!0}},[t,o,r,a]),n}const AX=4e3;function EX(t){const e=He.c(61),{resource:n,toolbarRef:s}=t,{context:r}=hr();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[0]=a):a=e[0];const[o,c]=W.useState(a),[h,d]=W.useState(null),[g,m]=W.useState(!0),[v,y]=W.useState(!1),[x,w]=W.useState(!1),[S,k]=W.useState(!1),C=W.useRef(null),E=W.useRef(null);let B;e[1]!==o?(B=async()=>{const mt=o.map(jX).join(`
`);await navigator.clipboard.writeText(mt),w(!0),setTimeout(()=>w(!1),2e3)},e[1]=o,e[2]=B):B=e[2];const D=B,j=W.useRef(null),$=n.metadata?.namespace,{podNames:H,loading:Y,error:z}=NX(r,n);let J;e[3]===Symbol.for("react.memo_cache_sentinel")?(J=()=>{if(!E.current)return;const{scrollTop:mt,scrollHeight:ht,clientHeight:Lt}=E.current,vn=ht-mt-Lt<50;m(vn)},e[3]=J):J=e[3];const F=J;let K;e[4]!==g?(K=()=>{g&&C.current&&C.current.scrollIntoView({behavior:"smooth"})},e[4]=g,e[5]=K):K=e[5];let Q;e[6]!==g||e[7]!==o?(Q=[o,g],e[6]=g,e[7]=o,e[8]=Q):Q=e[8],W.useEffect(K,Q);const q=H.length>0&&!v&&!Y;let L,G;e[9]!==r||e[10]!==$||e[11]!==H||e[12]!==q?(L=()=>{if(q){const mt=setTimeout(()=>{H.length>0&&$&&(d(null),y(!0),j.current=gX({context:r,namespace:$,podNames:H,follow:!0,tailLines:AX,timestamps:!0,onLog:ht=>{c(Lt=>[...Lt,ht])},onError:ht=>{d(ht.message)}}))},0);return()=>clearTimeout(mt)}},G=[q,r,$,H],e[9]=r,e[10]=$,e[11]=H,e[12]=q,e[13]=L,e[14]=G):(L=e[13],G=e[14]),W.useEffect(L,G);let U,M;e[15]===Symbol.for("react.memo_cache_sentinel")?(U=()=>()=>{j.current?.abort(),j.current=null},M=[],e[15]=U,e[16]=M):(U=e[15],M=e[16]),W.useEffect(U,M);let R;e[17]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{m(!0),C.current?.scrollIntoView({behavior:"smooth"})},e[17]=R):R=e[17];const O=R,V=z||h;let A;e[18]!==x||e[19]!==D||e[20]!==o.length||e[21]!==S||e[22]!==s?(A=s&&f.jsxs(q2,{toolbarRef:s,children:[f.jsx("button",{onClick:()=>k(!S),className:`flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded transition-colors ${S?"text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-500/20":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800"}`,title:S?"Show all logs":"Show only errors & warnings",children:f.jsx(YI,{size:12})}),f.jsx("button",{onClick:D,disabled:o.length===0,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Copy logs",children:x?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(hs,{size:12})})]}),e[18]=x,e[19]=D,e[20]=o.length,e[21]=S,e[22]=s,e[23]=A):A=e[23];let Z;e[24]!==H?(Z=H.length>1&&f.jsx("div",{className:"shrink-0 px-4 py-2 border-b border-neutral-200 dark:border-neutral-800 bg-neutral-100 dark:bg-neutral-900/30",children:f.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(mt=>f.jsxs("span",{className:`text-xs ${L3(mt,H)} flex items-center gap-1`,title:mt,children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-current"}),mt]},mt))})}),e[24]=H,e[25]=Z):Z=e[25];let oe;e[26]!==Y?(oe=Y&&f.jsx("div",{className:"p-4 text-neutral-500 dark:text-neutral-500",children:"Loading pods..."}),e[26]=Y,e[27]=oe):oe=e[27];let te;e[28]!==V?(te=V&&f.jsx("div",{className:"p-4 text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-500/10 border-b border-red-300 dark:border-red-500/30",children:V}),e[28]=V,e[29]=te):te=e[29];let de;e[30]!==Y||e[31]!==H.length?(de=!Y&&H.length===0&&f.jsx("div",{className:"p-4 text-neutral-500 dark:text-neutral-500",children:"No pods found"}),e[30]=Y,e[31]=H.length,e[32]=de):de=e[32];let xe;e[33]!==V||e[34]!==Y||e[35]!==o.length||e[36]!==H.length?(xe=o.length===0&&!Y&&H.length>0&&!V&&f.jsx("div",{className:"p-4 text-neutral-500 dark:text-neutral-500",children:"Waiting for logs..."}),e[33]=V,e[34]=Y,e[35]=o.length,e[36]=H.length,e[37]=xe):xe=e[37];let Ce;if(e[38]!==o||e[39]!==H||e[40]!==S){let mt;e[42]!==H||e[43]!==S?(mt=(ht,Lt)=>{const vn=wX(ht.message),os=CX(ht.message,vn.jsonData,vn.level);if(S&&os!=="error"&&os!=="warn")return null;const Es=SX[os],Qe=kX[os],rt=vn.format!=="plain";return f.jsxs("div",{className:`hover:bg-neutral-100 dark:hover:bg-neutral-900/50 rounded px-2 py-1 group ${Qe}`,children:[f.jsxs("div",{className:"flex items-center gap-2 text-[10px] leading-tight mb-0.5",children:[f.jsx("span",{className:"text-neutral-500 dark:text-neutral-600",children:vX(ht.timestamp)}),f.jsx("span",{className:`${L3(ht.podName,H)}`,title:ht.podName,children:ht.podName}),ht.container&&ht.container!==ht.podName&&f.jsx("span",{className:"text-neutral-500 dark:text-neutral-500",children:ht.container})]}),rt?f.jsx("pre",{className:`${Es} whitespace-pre overflow-x-auto scrollbar-hide leading-snug text-[11px]`,children:vn.formatted}):f.jsx("div",{className:`${Es} break-all whitespace-pre-wrap leading-snug`,children:vn.formatted})]},Lt)},e[42]=H,e[43]=S,e[44]=mt):mt=e[44],Ce=o.map(mt),e[38]=o,e[39]=H,e[40]=S,e[41]=Ce}else Ce=e[41];let et;e[45]===Symbol.for("react.memo_cache_sentinel")?(et=f.jsx("div",{ref:C}),e[45]=et):et=e[45];let Ne;e[46]!==Ce?(Ne=f.jsxs("div",{className:"p-2 space-y-1",children:[Ce,et]}),e[46]=Ce,e[47]=Ne):Ne=e[47];let Ge;e[48]!==oe||e[49]!==te||e[50]!==de||e[51]!==xe||e[52]!==Ne?(Ge=f.jsxs("div",{ref:E,onScroll:F,className:"flex-1 overflow-auto font-mono text-xs",children:[oe,te,de,xe,Ne]}),e[48]=oe,e[49]=te,e[50]=de,e[51]=xe,e[52]=Ne,e[53]=Ge):Ge=e[53];let Te;e[54]!==g?(Te=!g&&f.jsx("div",{className:"shrink-0 px-4 py-2 border-t border-neutral-200 dark:border-neutral-800 bg-neutral-100 dark:bg-neutral-900/50",children:f.jsxs("button",{onClick:O,className:"flex items-center gap-1 text-xs text-neutral-600 dark:text-neutral-500 hover:text-neutral-900 dark:hover:text-neutral-300",children:[f.jsx(rs,{size:12}),"Scroll to bottom"]})}),e[54]=g,e[55]=Te):Te=e[55];let tt;return e[56]!==A||e[57]!==Z||e[58]!==Ge||e[59]!==Te?(tt=f.jsxs("div",{className:"flex flex-col h-full bg-neutral-50 dark:bg-neutral-950",children:[A,Z,Ge,Te]}),e[56]=A,e[57]=Z,e[58]=Ge,e[59]=Te,e[60]=tt):tt=e[60],tt}function jX(t){return`${t.timestamp} [${t.podName}] ${t.message}`}var QB=Object.defineProperty,TX=Object.getOwnPropertyDescriptor,RX=(t,e)=>{for(var n in e)QB(t,n,{get:e[n],enumerable:!0})},hn=(t,e,n,s)=>{for(var r=s>1?void 0:s?TX(e,n):e,a=t.length-1,o;a>=0;a--)(o=t[a])&&(r=(s?o(e,n,r):o(r))||r);return s&&r&&QB(e,n,r),r},Le=(t,e)=>(n,s)=>e(n,s,t),I3="Terminal input",pw={get:()=>I3,set:t=>I3=t},P3="Too much output to announce, navigate to rows manually to read",mw={get:()=>P3,set:t=>P3=t};function OX(t){return t.replace(/\r?\n/g,"\r")}function BX(t,e){return e?"\x1B[200~"+t+"\x1B[201~":t}function MX(t,e){t.clipboardData&&t.clipboardData.setData("text/plain",e.selectionText),t.preventDefault()}function DX(t,e,n,s){if(t.stopPropagation(),t.clipboardData){let r=t.clipboardData.getData("text/plain");ZB(r,e,n,s)}}function ZB(t,e,n,s){t=OX(t),t=BX(t,n.decPrivateModes.bracketedPasteMode&&s.rawOptions.ignoreBracketedPasteMode!==!0),n.triggerDataEvent(t,!0),e.value=""}function eM(t,e,n){let s=n.getBoundingClientRect(),r=t.clientX-s.left-10,a=t.clientY-s.top-10;e.style.width="20px",e.style.height="20px",e.style.left=`${r}px`,e.style.top=`${a}px`,e.style.zIndex="1000",e.focus()}function z3(t,e,n,s,r){eM(t,e,n),r&&s.rightClickSelect(t),e.value=s.selectionText,e.select()}function Wa(t){return t>65535?(t-=65536,String.fromCharCode((t>>10)+55296)+String.fromCharCode(t%1024+56320)):String.fromCharCode(t)}function Ey(t,e=0,n=t.length){let s="";for(let r=e;r<n;++r){let a=t[r];a>65535?(a-=65536,s+=String.fromCharCode((a>>10)+55296)+String.fromCharCode(a%1024+56320)):s+=String.fromCharCode(a)}return s}var LX=class{constructor(){this._interim=0}clear(){this._interim=0}decode(t,e){let n=t.length;if(!n)return 0;let s=0,r=0;if(this._interim){let a=t.charCodeAt(r++);56320<=a&&a<=57343?e[s++]=(this._interim-55296)*1024+a-56320+65536:(e[s++]=this._interim,e[s++]=a),this._interim=0}for(let a=r;a<n;++a){let o=t.charCodeAt(a);if(55296<=o&&o<=56319){if(++a>=n)return this._interim=o,s;let c=t.charCodeAt(a);56320<=c&&c<=57343?e[s++]=(o-55296)*1024+c-56320+65536:(e[s++]=o,e[s++]=c);continue}o!==65279&&(e[s++]=o)}return s}},IX=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(t,e){let n=t.length;if(!n)return 0;let s=0,r,a,o,c,h=0,d=0;if(this.interim[0]){let v=!1,y=this.interim[0];y&=(y&224)===192?31:(y&240)===224?15:7;let x=0,w;for(;(w=this.interim[++x]&63)&&x<4;)y<<=6,y|=w;let S=(this.interim[0]&224)===192?2:(this.interim[0]&240)===224?3:4,k=S-x;for(;d<k;){if(d>=n)return 0;if(w=t[d++],(w&192)!==128){d--,v=!0;break}else this.interim[x++]=w,y<<=6,y|=w&63}v||(S===2?y<128?d--:e[s++]=y:S===3?y<2048||y>=55296&&y<=57343||y===65279||(e[s++]=y):y<65536||y>1114111||(e[s++]=y)),this.interim.fill(0)}let g=n-4,m=d;for(;m<n;){for(;m<g&&!((r=t[m])&128)&&!((a=t[m+1])&128)&&!((o=t[m+2])&128)&&!((c=t[m+3])&128);)e[s++]=r,e[s++]=a,e[s++]=o,e[s++]=c,m+=4;if(r=t[m++],r<128)e[s++]=r;else if((r&224)===192){if(m>=n)return this.interim[0]=r,s;if(a=t[m++],(a&192)!==128){m--;continue}if(h=(r&31)<<6|a&63,h<128){m--;continue}e[s++]=h}else if((r&240)===224){if(m>=n)return this.interim[0]=r,s;if(a=t[m++],(a&192)!==128){m--;continue}if(m>=n)return this.interim[0]=r,this.interim[1]=a,s;if(o=t[m++],(o&192)!==128){m--;continue}if(h=(r&15)<<12|(a&63)<<6|o&63,h<2048||h>=55296&&h<=57343||h===65279)continue;e[s++]=h}else if((r&248)===240){if(m>=n)return this.interim[0]=r,s;if(a=t[m++],(a&192)!==128){m--;continue}if(m>=n)return this.interim[0]=r,this.interim[1]=a,s;if(o=t[m++],(o&192)!==128){m--;continue}if(m>=n)return this.interim[0]=r,this.interim[1]=a,this.interim[2]=o,s;if(c=t[m++],(c&192)!==128){m--;continue}if(h=(r&7)<<18|(a&63)<<12|(o&63)<<6|c&63,h<65536||h>1114111)continue;e[s++]=h}}return s}},tM="",Qa=" ",If=class nM{constructor(){this.fg=0,this.bg=0,this.extended=new rg}static toColorRGB(e){return[e>>>16&255,e>>>8&255,e&255]}static fromColorRGB(e){return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255}clone(){let e=new nM;return e.fg=this.fg,e.bg=this.bg,e.extended=this.extended.clone(),e}isInverse(){return this.fg&67108864}isBold(){return this.fg&134217728}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:this.fg&268435456}isBlink(){return this.fg&536870912}isInvisible(){return this.fg&1073741824}isItalic(){return this.bg&67108864}isDim(){return this.bg&134217728}isStrikethrough(){return this.fg&2147483648}isProtected(){return this.bg&536870912}isOverline(){return this.bg&1073741824}getFgColorMode(){return this.fg&50331648}getBgColorMode(){return this.bg&50331648}isFgRGB(){return(this.fg&50331648)===50331648}isBgRGB(){return(this.bg&50331648)===50331648}isFgPalette(){return(this.fg&50331648)===16777216||(this.fg&50331648)===33554432}isBgPalette(){return(this.bg&50331648)===16777216||(this.bg&50331648)===33554432}isFgDefault(){return(this.fg&50331648)===0}isBgDefault(){return(this.bg&50331648)===0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(this.fg&50331648){case 16777216:case 33554432:return this.fg&255;case 50331648:return this.fg&16777215;default:return-1}}getBgColor(){switch(this.bg&50331648){case 16777216:case 33554432:return this.bg&255;case 50331648:return this.bg&16777215;default:return-1}}hasExtendedAttrs(){return this.bg&268435456}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(this.bg&268435456&&~this.extended.underlineColor)switch(this.extended.underlineColor&50331648){case 16777216:case 33554432:return this.extended.underlineColor&255;case 50331648:return this.extended.underlineColor&16777215;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return this.bg&268435456&&~this.extended.underlineColor?this.extended.underlineColor&50331648:this.getFgColorMode()}isUnderlineColorRGB(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===50331648:this.isFgRGB()}isUnderlineColorPalette(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===16777216||(this.extended.underlineColor&50331648)===33554432:this.isFgPalette()}isUnderlineColorDefault(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===0:this.isFgDefault()}getUnderlineStyle(){return this.fg&268435456?this.bg&268435456?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}},rg=class sM{constructor(e=0,n=0){this._ext=0,this._urlId=0,this._ext=e,this._urlId=n}get ext(){return this._urlId?this._ext&-469762049|this.underlineStyle<<26:this._ext}set ext(e){this._ext=e}get underlineStyle(){return this._urlId?5:(this._ext&469762048)>>26}set underlineStyle(e){this._ext&=-469762049,this._ext|=e<<26&469762048}get underlineColor(){return this._ext&67108863}set underlineColor(e){this._ext&=-67108864,this._ext|=e&67108863}get urlId(){return this._urlId}set urlId(e){this._urlId=e}get underlineVariantOffset(){let e=(this._ext&3758096384)>>29;return e<0?e^4294967288:e}set underlineVariantOffset(e){this._ext&=536870911,this._ext|=e<<29&3758096384}clone(){return new sM(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}},Mr=class rM extends If{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new rg,this.combinedData=""}static fromCharData(e){let n=new rM;return n.setFromCharData(e),n}isCombined(){return this.content&2097152}getWidth(){return this.content>>22}getChars(){return this.content&2097152?this.combinedData:this.content&2097151?Wa(this.content&2097151):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):this.content&2097151}setFromCharData(e){this.fg=e[0],this.bg=0;let n=!1;if(e[1].length>2)n=!0;else if(e[1].length===2){let s=e[1].charCodeAt(0);if(55296<=s&&s<=56319){let r=e[1].charCodeAt(1);56320<=r&&r<=57343?this.content=(s-55296)*1024+r-56320+65536|e[2]<<22:n=!0}else n=!0}else this.content=e[1].charCodeAt(0)|e[2]<<22;n&&(this.combinedData=e[1],this.content=2097152|e[2]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},$3="di$target",gw="di$dependencies",Yb=new Map;function PX(t){return t[gw]||[]}function qn(t){if(Yb.has(t))return Yb.get(t);let e=function(n,s,r){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");zX(e,n,r)};return e._id=t,Yb.set(t,e),e}function zX(t,e,n){e[$3]===e?e[gw].push({id:t,index:n}):(e[gw]=[{id:t,index:n}],e[$3]=e)}var Ns=qn("BufferService"),iM=qn("CoreMouseService"),Co=qn("CoreService"),$X=qn("CharsetService"),W2=qn("InstantiationService"),aM=qn("LogService"),As=qn("OptionsService"),lM=qn("OscLinkService"),HX=qn("UnicodeService"),Pf=qn("DecorationService"),yw=class{constructor(t,e,n){this._bufferService=t,this._optionsService=e,this._oscLinkService=n}provideLinks(t,e){let n=this._bufferService.buffer.lines.get(t-1);if(!n){e(void 0);return}let s=[],r=this._optionsService.rawOptions.linkHandler,a=new Mr,o=n.getTrimmedLength(),c=-1,h=-1,d=!1;for(let g=0;g<o;g++)if(!(h===-1&&!n.hasContent(g))){if(n.loadCell(g,a),a.hasExtendedAttrs()&&a.extended.urlId)if(h===-1){h=g,c=a.extended.urlId;continue}else d=a.extended.urlId!==c;else h!==-1&&(d=!0);if(d||h!==-1&&g===o-1){let m=this._oscLinkService.getLinkData(c)?.uri;if(m){let v={start:{x:h+1,y:t},end:{x:g+(!d&&g===o-1?1:0),y:t}},y=!1;if(!r?.allowNonHttpProtocols)try{let x=new URL(m);["http:","https:"].includes(x.protocol)||(y=!0)}catch{y=!0}y||s.push({text:m,range:v,activate:(x,w)=>r?r.activate(x,w,v):UX(x,w),hover:(x,w)=>r?.hover?.(x,w,v),leave:(x,w)=>r?.leave?.(x,w,v)})}d=!1,a.hasExtendedAttrs()&&a.extended.urlId?(h=g,c=a.extended.urlId):(h=-1,c=-1)}}e(s)}};yw=hn([Le(0,Ns),Le(1,As),Le(2,lM)],yw);function UX(t,e){if(confirm(`Do you want to navigate to ${e}?

WARNING: This link could potentially be dangerous`)){let n=window.open();if(n){try{n.opener=null}catch{}n.location.href=e}else console.warn("Opening link blocked as opener could not be cleared")}}var jy=qn("CharSizeService"),fa=qn("CoreBrowserService"),K2=qn("MouseService"),pa=qn("RenderService"),VX=qn("SelectionService"),oM=qn("CharacterJoinerService"),Nu=qn("ThemeService"),cM=qn("LinkProviderService"),FX=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?H3.isErrorNoTelemetry(t)?new H3(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(e=>{e(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},qX=new FX;function Xm(t){WX(t)||qX.onUnexpectedError(t)}var vw="Canceled";function WX(t){return t instanceof KX?!0:t instanceof Error&&t.name===vw&&t.message===vw}var KX=class extends Error{constructor(){super(vw),this.name=this.message}};function GX(t){return new Error(`Illegal argument: ${t}`)}var H3=class bw extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof bw)return e;let n=new bw;return n.message=e.message,n.stack=e.stack,n}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},_w=class uM extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,uM.prototype)}};function er(t,e=0){return t[t.length-(1+e)]}var YX;(t=>{function e(a){return a<0}t.isLessThan=e;function n(a){return a<=0}t.isLessThanOrEqual=n;function s(a){return a>0}t.isGreaterThan=s;function r(a){return a===0}t.isNeitherLessOrGreaterThan=r,t.greaterThan=1,t.lessThan=-1,t.neitherLessOrGreaterThan=0})(YX||={});function XX(t,e){let n=this,s=!1,r;return function(){return s||(s=!0,e||(r=t.apply(n,arguments))),r}}var hM;(t=>{function e(B){return B&&typeof B=="object"&&typeof B[Symbol.iterator]=="function"}t.is=e;let n=Object.freeze([]);function s(){return n}t.empty=s;function*r(B){yield B}t.single=r;function a(B){return e(B)?B:r(B)}t.wrap=a;function o(B){return B||n}t.from=o;function*c(B){for(let D=B.length-1;D>=0;D--)yield B[D]}t.reverse=c;function h(B){return!B||B[Symbol.iterator]().next().done===!0}t.isEmpty=h;function d(B){return B[Symbol.iterator]().next().value}t.first=d;function g(B,D){let j=0;for(let $ of B)if(D($,j++))return!0;return!1}t.some=g;function m(B,D){for(let j of B)if(D(j))return j}t.find=m;function*v(B,D){for(let j of B)D(j)&&(yield j)}t.filter=v;function*y(B,D){let j=0;for(let $ of B)yield D($,j++)}t.map=y;function*x(B,D){let j=0;for(let $ of B)yield*D($,j++)}t.flatMap=x;function*w(...B){for(let D of B)yield*D}t.concat=w;function S(B,D,j){let $=j;for(let H of B)$=D($,H);return $}t.reduce=S;function*k(B,D,j=B.length){for(D<0&&(D+=B.length),j<0?j+=B.length:j>B.length&&(j=B.length);D<j;D++)yield B[D]}t.slice=k;function C(B,D=Number.POSITIVE_INFINITY){let j=[];if(D===0)return[j,B];let $=B[Symbol.iterator]();for(let H=0;H<D;H++){let Y=$.next();if(Y.done)return[j,t.empty()];j.push(Y.value)}return[j,{[Symbol.iterator](){return $}}]}t.consume=C;async function E(B){let D=[];for await(let j of B)D.push(j);return Promise.resolve(D)}t.asyncToArray=E})(hM||={});function mo(t){if(hM.is(t)){let e=[];for(let n of t)if(n)try{n.dispose()}catch(s){e.push(s)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}function JX(...t){return nn(()=>mo(t))}function nn(t){return{dispose:XX(()=>{t()})}}var dM=class fM{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{mo(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?fM.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),void 0)}};dM.DISABLE_DISPOSED_WARNING=!1;var rl=dM,bt=class{constructor(){this._store=new rl,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};bt.None=Object.freeze({dispose(){}});var ru=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(t){this._isDisposed||t===this._value||(this._value?.dispose(),this._value=t)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}clearAndLeak(){let t=this._value;return this._value=void 0,t}},Qi=typeof window=="object"?window:globalThis,xw=class ww{constructor(e){this.element=e,this.next=ww.Undefined,this.prev=ww.Undefined}};xw.Undefined=new xw(void 0);var an=xw,U3=class{constructor(){this._first=an.Undefined,this._last=an.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===an.Undefined}clear(){let t=this._first;for(;t!==an.Undefined;){let e=t.next;t.prev=an.Undefined,t.next=an.Undefined,t=e}this._first=an.Undefined,this._last=an.Undefined,this._size=0}unshift(t){return this._insert(t,!1)}push(t){return this._insert(t,!0)}_insert(t,e){let n=new an(t);if(this._first===an.Undefined)this._first=n,this._last=n;else if(e){let r=this._last;this._last=n,n.prev=r,r.next=n}else{let r=this._first;this._first=n,n.next=r,r.prev=n}this._size+=1;let s=!1;return()=>{s||(s=!0,this._remove(n))}}shift(){if(this._first!==an.Undefined){let t=this._first.element;return this._remove(this._first),t}}pop(){if(this._last!==an.Undefined){let t=this._last.element;return this._remove(this._last),t}}_remove(t){if(t.prev!==an.Undefined&&t.next!==an.Undefined){let e=t.prev;e.next=t.next,t.next.prev=e}else t.prev===an.Undefined&&t.next===an.Undefined?(this._first=an.Undefined,this._last=an.Undefined):t.next===an.Undefined?(this._last=this._last.prev,this._last.next=an.Undefined):t.prev===an.Undefined&&(this._first=this._first.next,this._first.prev=an.Undefined);this._size-=1}*[Symbol.iterator](){let t=this._first;for(;t!==an.Undefined;)yield t.element,t=t.next}},QX=globalThis.performance&&typeof globalThis.performance.now=="function",ZX=class pM{static create(e){return new pM(e)}constructor(e){this._now=QX&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}},ts;(t=>{t.None=()=>bt.None;function e(F,K){return m(F,()=>{},0,void 0,!0,void 0,K)}t.defer=e;function n(F){return(K,Q=null,q)=>{let L=!1,G;return G=F(U=>{if(!L)return G?G.dispose():L=!0,K.call(Q,U)},null,q),L&&G.dispose(),G}}t.once=n;function s(F,K,Q){return d((q,L=null,G)=>F(U=>q.call(L,K(U)),null,G),Q)}t.map=s;function r(F,K,Q){return d((q,L=null,G)=>F(U=>{K(U),q.call(L,U)},null,G),Q)}t.forEach=r;function a(F,K,Q){return d((q,L=null,G)=>F(U=>K(U)&&q.call(L,U),null,G),Q)}t.filter=a;function o(F){return F}t.signal=o;function c(...F){return(K,Q=null,q)=>{let L=JX(...F.map(G=>G(U=>K.call(Q,U))));return g(L,q)}}t.any=c;function h(F,K,Q,q){let L=Q;return s(F,G=>(L=K(L,G),L),q)}t.reduce=h;function d(F,K){let Q,q={onWillAddFirstListener(){Q=F(L.fire,L)},onDidRemoveLastListener(){Q?.dispose()}},L=new Ee(q);return K?.add(L),L.event}function g(F,K){return K instanceof Array?K.push(F):K&&K.add(F),F}function m(F,K,Q=100,q=!1,L=!1,G,U){let M,R,O,V=0,A,Z={leakWarningThreshold:G,onWillAddFirstListener(){M=F(te=>{V++,R=K(R,te),q&&!O&&(oe.fire(R),R=void 0),A=()=>{let de=R;R=void 0,O=void 0,(!q||V>1)&&oe.fire(de),V=0},typeof Q=="number"?(clearTimeout(O),O=setTimeout(A,Q)):O===void 0&&(O=0,queueMicrotask(A))})},onWillRemoveListener(){L&&V>0&&A?.()},onDidRemoveLastListener(){A=void 0,M.dispose()}},oe=new Ee(Z);return U?.add(oe),oe.event}t.debounce=m;function v(F,K=0,Q){return t.debounce(F,(q,L)=>q?(q.push(L),q):[L],K,void 0,!0,void 0,Q)}t.accumulate=v;function y(F,K=(q,L)=>q===L,Q){let q=!0,L;return a(F,G=>{let U=q||!K(G,L);return q=!1,L=G,U},Q)}t.latch=y;function x(F,K,Q){return[t.filter(F,K,Q),t.filter(F,q=>!K(q),Q)]}t.split=x;function w(F,K=!1,Q=[],q){let L=Q.slice(),G=F(R=>{L?L.push(R):M.fire(R)});q&&q.add(G);let U=()=>{L?.forEach(R=>M.fire(R)),L=null},M=new Ee({onWillAddFirstListener(){G||(G=F(R=>M.fire(R)),q&&q.add(G))},onDidAddFirstListener(){L&&(K?setTimeout(U):U())},onDidRemoveLastListener(){G&&G.dispose(),G=null}});return q&&q.add(M),M.event}t.buffer=w;function S(F,K){return(Q,q,L)=>{let G=K(new C);return F(function(U){let M=G.evaluate(U);M!==k&&Q.call(q,M)},void 0,L)}}t.chain=S;let k=Symbol("HaltChainable");class C{constructor(){this.steps=[]}map(K){return this.steps.push(K),this}forEach(K){return this.steps.push(Q=>(K(Q),Q)),this}filter(K){return this.steps.push(Q=>K(Q)?Q:k),this}reduce(K,Q){let q=Q;return this.steps.push(L=>(q=K(q,L),q)),this}latch(K=(Q,q)=>Q===q){let Q=!0,q;return this.steps.push(L=>{let G=Q||!K(L,q);return Q=!1,q=L,G?L:k}),this}evaluate(K){for(let Q of this.steps)if(K=Q(K),K===k)break;return K}}function E(F,K,Q=q=>q){let q=(...M)=>U.fire(Q(...M)),L=()=>F.on(K,q),G=()=>F.removeListener(K,q),U=new Ee({onWillAddFirstListener:L,onDidRemoveLastListener:G});return U.event}t.fromNodeEventEmitter=E;function B(F,K,Q=q=>q){let q=(...M)=>U.fire(Q(...M)),L=()=>F.addEventListener(K,q),G=()=>F.removeEventListener(K,q),U=new Ee({onWillAddFirstListener:L,onDidRemoveLastListener:G});return U.event}t.fromDOMEventEmitter=B;function D(F){return new Promise(K=>n(F)(K))}t.toPromise=D;function j(F){let K=new Ee;return F.then(Q=>{K.fire(Q)},()=>{K.fire(void 0)}).finally(()=>{K.dispose()}),K.event}t.fromPromise=j;function $(F,K){return F(Q=>K.fire(Q))}t.forward=$;function H(F,K,Q){return K(Q),F(q=>K(q))}t.runAndSubscribe=H;class Y{constructor(K,Q){this._observable=K,this._counter=0,this._hasChanged=!1;let q={onWillAddFirstListener:()=>{K.addObserver(this)},onDidRemoveLastListener:()=>{K.removeObserver(this)}};this.emitter=new Ee(q),Q&&Q.add(this.emitter)}beginUpdate(K){this._counter++}handlePossibleChange(K){}handleChange(K,Q){this._hasChanged=!0}endUpdate(K){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function z(F,K){return new Y(F,K).emitter.event}t.fromObservable=z;function J(F){return(K,Q,q)=>{let L=0,G=!1,U={beginUpdate(){L++},endUpdate(){L--,L===0&&(F.reportChanges(),G&&(G=!1,K.call(Q)))},handlePossibleChange(){},handleChange(){G=!0}};F.addObserver(U),F.reportChanges();let M={dispose(){F.removeObserver(U)}};return q instanceof rl?q.add(M):Array.isArray(q)&&q.push(M),M}}t.fromObservableLight=J})(ts||={});var Sw=class kw{constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${kw._idPool++}`,kw.all.add(this)}start(e){this._stopWatch=new ZX,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}};Sw.all=new Set,Sw._idPool=0;var eJ=Sw,tJ=-1,mM=class gM{constructor(e,n,s=(gM._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e,this.threshold=n,this.name=s,this._warnCountdown=0}dispose(){this._stacks?.clear()}check(e,n){let s=this.threshold;if(s<=0||n<s)return;this._stacks||(this._stacks=new Map);let r=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,r+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=s*.5;let[a,o]=this.getMostFrequentStack(),c=`[${this.name}] potential listener LEAK detected, having ${n} listeners already. MOST frequent listener (${o}):`;console.warn(c),console.warn(a);let h=new rJ(c,a);this._errorHandler(h)}return()=>{let a=this._stacks.get(e.value)||0;this._stacks.set(e.value,a-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,n=0;for(let[s,r]of this._stacks)(!e||n<r)&&(e=[s,r],n=r);return e}};mM._idPool=1;var nJ=mM,sJ=class yM{constructor(e){this.value=e}static create(){let e=new Error;return new yM(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},rJ=class extends Error{constructor(t,e){super(t),this.name="ListenerLeakError",this.stack=e}},iJ=class extends Error{constructor(t,e){super(t),this.name="ListenerRefusalError",this.stack=e}},aJ=0,Xb=class{constructor(t){this.value=t,this.id=aJ++}},lJ=2,oJ,Ee=class{constructor(e){this._size=0,this._options=e,this._leakageMon=this._options?.leakWarningThreshold?new nJ(e?.onListenerError??Xm,this._options?.leakWarningThreshold??tJ):void 0,this._perfMon=this._options?._profName?new eJ(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){this._disposed||(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose())}get event(){return this._event??=(e,n,s)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let h=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],d=new iJ(`${c}. HINT: Stack shows most frequent listener (${h[1]}-times)`,h[0]);return(this._options?.onListenerError||Xm)(d),bt.None}if(this._disposed)return bt.None;n&&(e=e.bind(n));let r=new Xb(e),a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(r.stack=sJ.create(),a=this._leakageMon.check(r.stack,this._size+1)),this._listeners?this._listeners instanceof Xb?(this._deliveryQueue??=new cJ,this._listeners=[this._listeners,r]):this._listeners.push(r):(this._options?.onWillAddFirstListener?.(this),this._listeners=r,this._options?.onDidAddFirstListener?.(this)),this._size++;let o=nn(()=>{a?.(),this._removeListener(r)});return s instanceof rl?s.add(o):Array.isArray(s)&&s.push(o),o},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let n=this._listeners,s=n.indexOf(e);if(s===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,n[s]=void 0;let r=this._deliveryQueue.current===this;if(this._size*lJ<=n.length){let a=0;for(let o=0;o<n.length;o++)n[o]?n[a++]=n[o]:r&&(this._deliveryQueue.end--,a<this._deliveryQueue.i&&this._deliveryQueue.i--);n.length=a}}_deliver(e,n){if(!e)return;let s=this._options?.onListenerError||Xm;if(!s){e.value(n);return}try{e.value(n)}catch(r){s(r)}}_deliverQueue(e){let n=e.current._listeners;for(;e.i<e.end;)this._deliver(n[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof Xb)this._deliver(this._listeners,e);else{let n=this._deliveryQueue;n.enqueue(this,e,this._listeners.length),this._deliverQueue(n)}this._perfMon?.stop()}hasListeners(){return this._size>0}},cJ=class{constructor(){this.i=-1,this.end=0}enqueue(t,e,n){this.i=0,this.end=n,this.current=t,this.value=e}reset(){this.i=this.end,this.current=void 0,this.value=void 0}},Cw=class{constructor(){this.mapWindowIdToZoomLevel=new Map,this._onDidChangeZoomLevel=new Ee,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this.mapWindowIdToZoomFactor=new Map,this._onDidChangeFullscreen=new Ee,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event,this.mapWindowIdToFullScreen=new Map}getZoomLevel(e){return this.mapWindowIdToZoomLevel.get(this.getWindowId(e))??0}setZoomLevel(e,n){if(this.getZoomLevel(n)===e)return;let s=this.getWindowId(n);this.mapWindowIdToZoomLevel.set(s,e),this._onDidChangeZoomLevel.fire(s)}getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}setZoomFactor(e,n){this.mapWindowIdToZoomFactor.set(this.getWindowId(n),e)}setFullscreen(e,n){if(this.isFullscreen(n)===e)return;let s=this.getWindowId(n);this.mapWindowIdToFullScreen.set(s,e),this._onDidChangeFullscreen.fire(s)}isFullscreen(e){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(e))}getWindowId(e){return e.vscodeWindowId}};Cw.INSTANCE=new Cw;var G2=Cw;function uJ(t,e,n){typeof e=="string"&&(e=t.matchMedia(e)),e.addEventListener("change",n)}G2.INSTANCE.onDidChangeZoomLevel;function hJ(t){return G2.INSTANCE.getZoomFactor(t)}G2.INSTANCE.onDidChangeFullscreen;var Au=typeof navigator=="object"?navigator.userAgent:"",Nw=Au.indexOf("Firefox")>=0,dJ=Au.indexOf("AppleWebKit")>=0,Y2=Au.indexOf("Chrome")>=0,fJ=!Y2&&Au.indexOf("Safari")>=0;Au.indexOf("Electron/")>=0;Au.indexOf("Android")>=0;var Jb=!1;if(typeof Qi.matchMedia=="function"){let t=Qi.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=Qi.matchMedia("(display-mode: fullscreen)");Jb=t.matches,uJ(Qi,t,({matches:n})=>{Jb&&e.matches||(Jb=n)})}var Oc="en",Aw=!1,Ew=!1,Jm=!1,vM=!1,wm,Qm=Oc,V3=Oc,pJ,Gi,Ql=globalThis,ar;typeof Ql.vscode<"u"&&typeof Ql.vscode.process<"u"?ar=Ql.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(ar=process);var mJ=typeof ar?.versions?.electron=="string",gJ=mJ&&ar?.type==="renderer";if(typeof ar=="object"){Aw=ar.platform==="win32",Ew=ar.platform==="darwin",Jm=ar.platform==="linux",Jm&&ar.env.SNAP&&ar.env.SNAP_REVISION,ar.env.CI||ar.env.BUILD_ARTIFACTSTAGINGDIRECTORY,wm=Oc,Qm=Oc;let t=ar.env.VSCODE_NLS_CONFIG;if(t)try{let e=JSON.parse(t);wm=e.userLocale,V3=e.osLocale,Qm=e.resolvedLanguage||Oc,pJ=e.languagePack?.translationsConfigFile}catch{}vM=!0}else typeof navigator=="object"&&!gJ?(Gi=navigator.userAgent,Aw=Gi.indexOf("Windows")>=0,Ew=Gi.indexOf("Macintosh")>=0,(Gi.indexOf("Macintosh")>=0||Gi.indexOf("iPad")>=0||Gi.indexOf("iPhone")>=0)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Jm=Gi.indexOf("Linux")>=0,Gi?.indexOf("Mobi")>=0,Qm=globalThis._VSCODE_NLS_LANGUAGE||Oc,wm=navigator.language.toLowerCase(),V3=wm):console.error("Unable to resolve platform.");var bM=Aw,gi=Ew,yJ=Jm,F3=vM,bi=Gi,Ua=Qm,vJ;(t=>{function e(){return Ua}t.value=e;function n(){return Ua.length===2?Ua==="en":Ua.length>=3?Ua[0]==="e"&&Ua[1]==="n"&&Ua[2]==="-":!1}t.isDefaultVariant=n;function s(){return Ua==="en"}t.isDefault=s})(vJ||={});var bJ=typeof Ql.postMessage=="function"&&!Ql.importScripts;(()=>{if(bJ){let t=[];Ql.addEventListener("message",n=>{if(n.data&&n.data.vscodeScheduleAsyncWork)for(let s=0,r=t.length;s<r;s++){let a=t[s];if(a.id===n.data.vscodeScheduleAsyncWork){t.splice(s,1),a.callback();return}}});let e=0;return n=>{let s=++e;t.push({id:s,callback:n}),Ql.postMessage({vscodeScheduleAsyncWork:s},"*")}}return t=>setTimeout(t)})();var _J=!!(bi&&bi.indexOf("Chrome")>=0);bi&&bi.indexOf("Firefox")>=0;!_J&&bi&&bi.indexOf("Safari")>=0;bi&&bi.indexOf("Edg/")>=0;bi&&bi.indexOf("Android")>=0;var vc=typeof navigator=="object"?navigator:{};F3||document.queryCommandSupported&&document.queryCommandSupported("copy")||vc&&vc.clipboard&&vc.clipboard.writeText,F3||vc&&vc.clipboard&&vc.clipboard.readText;var X2=class{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(t,e){this._keyCodeToStr[t]=e,this._strToKeyCode[e.toLowerCase()]=t}keyCodeToStr(t){return this._keyCodeToStr[t]}strToKeyCode(t){return this._strToKeyCode[t.toLowerCase()]||0}},Qb=new X2,q3=new X2,W3=new X2,xJ=new Array(230),_M;(t=>{function e(c){return Qb.keyCodeToStr(c)}t.toString=e;function n(c){return Qb.strToKeyCode(c)}t.fromString=n;function s(c){return q3.keyCodeToStr(c)}t.toUserSettingsUS=s;function r(c){return W3.keyCodeToStr(c)}t.toUserSettingsGeneral=r;function a(c){return q3.strToKeyCode(c)||W3.strToKeyCode(c)}t.fromUserSettings=a;function o(c){if(c>=98&&c<=113)return null;switch(c){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Qb.keyCodeToStr(c)}t.toElectronAccelerator=o})(_M||={});var wJ=class xM{constructor(e,n,s,r,a){this.ctrlKey=e,this.shiftKey=n,this.altKey=s,this.metaKey=r,this.keyCode=a}equals(e){return e instanceof xM&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){let e=this.ctrlKey?"1":"0",n=this.shiftKey?"1":"0",s=this.altKey?"1":"0",r=this.metaKey?"1":"0";return`K${e}${n}${s}${r}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new SJ([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}},SJ=class{constructor(t){if(t.length===0)throw GX("chords");this.chords=t}getHashCode(){let t="";for(let e=0,n=this.chords.length;e<n;e++)e!==0&&(t+=";"),t+=this.chords[e].getHashCode();return t}equals(t){if(t===null||this.chords.length!==t.chords.length)return!1;for(let e=0;e<this.chords.length;e++)if(!this.chords[e].equals(t.chords[e]))return!1;return!0}};function kJ(t){if(t.charCode){let n=String.fromCharCode(t.charCode).toUpperCase();return _M.fromString(n)}let e=t.keyCode;if(e===3)return 7;if(Nw)switch(e){case 59:return 85;case 60:if(yJ)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(gi)return 57;break}else if(dJ&&(gi&&e===93||!gi&&e===92))return 57;return xJ[e]||0}var CJ=gi?256:2048,NJ=512,AJ=1024,EJ=gi?2048:256,K3=class{constructor(t){this._standardKeyboardEventBrand=!0;let e=t;this.browserEvent=e,this.target=e.target,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.altGraphKey=e.getModifierState?.("AltGraph"),this.keyCode=kJ(e),this.code=e.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(t){return this._asKeybinding===t}_computeKeybinding(){let t=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode);let e=0;return this.ctrlKey&&(e|=CJ),this.altKey&&(e|=NJ),this.shiftKey&&(e|=AJ),this.metaKey&&(e|=EJ),e|=t,e}_computeKeyCodeChord(){let t=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode),new wJ(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)}},G3=new WeakMap;function jJ(t){if(!t.parent||t.parent===t)return null;try{let e=t.location,n=t.parent.location;if(e.origin!=="null"&&n.origin!=="null"&&e.origin!==n.origin)return null}catch{return null}return t.parent}var TJ=class{static getSameOriginWindowChain(t){let e=G3.get(t);if(!e){e=[],G3.set(t,e);let n=t,s;do s=jJ(n),s?e.push({window:new WeakRef(n),iframeElement:n.frameElement||null}):e.push({window:new WeakRef(n),iframeElement:null}),n=s;while(n)}return e.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(t,e){if(!e||t===e)return{top:0,left:0};let n=0,s=0,r=this.getSameOriginWindowChain(t);for(let a of r){let o=a.window.deref();if(n+=o?.scrollY??0,s+=o?.scrollX??0,o===e||!a.iframeElement)break;let c=a.iframeElement.getBoundingClientRect();n+=c.top,s+=c.left}return{top:n,left:s}}},Sm=class{constructor(t,e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=e.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let n=TJ.getPositionOfChildWindowRelativeToAncestorWindow(t,e.view);this.posx-=n.left,this.posy-=n.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}},Y3=class{constructor(t,e=0,n=0){this.browserEvent=t||null,this.target=t?t.target||t.targetNode||t.srcElement:null,this.deltaY=n,this.deltaX=e;let s=!1;if(Y2){let r=navigator.userAgent.match(/Chrome\/(\d+)/);s=(r?parseInt(r[1]):123)<=122}if(t){let r=t,a=t,o=t.view?.devicePixelRatio||1;if(typeof r.wheelDeltaY<"u")s?this.deltaY=r.wheelDeltaY/(120*o):this.deltaY=r.wheelDeltaY/120;else if(typeof a.VERTICAL_AXIS<"u"&&a.axis===a.VERTICAL_AXIS)this.deltaY=-a.detail/3;else if(t.type==="wheel"){let c=t;c.deltaMode===c.DOM_DELTA_LINE?Nw&&!gi?this.deltaY=-t.deltaY/3:this.deltaY=-t.deltaY:this.deltaY=-t.deltaY/40}if(typeof r.wheelDeltaX<"u")fJ&&bM?this.deltaX=-(r.wheelDeltaX/120):s?this.deltaX=r.wheelDeltaX/(120*o):this.deltaX=r.wheelDeltaX/120;else if(typeof a.HORIZONTAL_AXIS<"u"&&a.axis===a.HORIZONTAL_AXIS)this.deltaX=-t.detail/3;else if(t.type==="wheel"){let c=t;c.deltaMode===c.DOM_DELTA_LINE?Nw&&!gi?this.deltaX=-t.deltaX/3:this.deltaX=-t.deltaX:this.deltaX=-t.deltaX/40}this.deltaY===0&&this.deltaX===0&&t.wheelDelta&&(s?this.deltaY=t.wheelDelta/(120*o):this.deltaY=t.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}},wM=Object.freeze(function(t,e){let n=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(n)}}}),RJ;(t=>{function e(n){return n===t.None||n===t.Cancelled||n instanceof OJ?!0:!n||typeof n!="object"?!1:typeof n.isCancellationRequested=="boolean"&&typeof n.onCancellationRequested=="function"}t.isCancellationToken=e,t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ts.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:wM})})(RJ||={});var OJ=class{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?wM:(this._emitter||(this._emitter=new Ee),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},J2=class{constructor(t,e){this._isDisposed=!1,this._token=-1,typeof t=="function"&&typeof e=="number"&&this.setIfNotSet(t,e)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,e){if(this._isDisposed)throw new _w("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},e)}setIfNotSet(t,e){if(this._isDisposed)throw new _w("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},e))}},BJ=class{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(t,e,n=globalThis){if(this.isDisposed)throw new _w("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let s=n.setInterval(()=>{t()},e);this.disposable=nn(()=>{n.clearInterval(s),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},MJ;(t=>{async function e(s){let r,a=await Promise.all(s.map(o=>o.then(c=>c,c=>{r||(r=c)})));if(typeof r<"u")throw r;return a}t.settled=e;function n(s){return new Promise(async(r,a)=>{try{await s(r,a)}catch(o){a(o)}})}t.withAsyncBody=n})(MJ||={});var X3=class Nr{static fromArray(e){return new Nr(n=>{n.emitMany(e)})}static fromPromise(e){return new Nr(async n=>{n.emitMany(await e)})}static fromPromises(e){return new Nr(async n=>{await Promise.all(e.map(async s=>n.emitOne(await s)))})}static merge(e){return new Nr(async n=>{await Promise.all(e.map(async s=>{for await(let r of s)n.emitOne(r)}))})}constructor(e,n){this._state=0,this._results=[],this._error=null,this._onReturn=n,this._onStateChanged=new Ee,queueMicrotask(async()=>{let s={emitOne:r=>this.emitOne(r),emitMany:r=>this.emitMany(r),reject:r=>this.reject(r)};try{await Promise.resolve(e(s)),this.resolve()}catch(r){this.reject(r)}finally{s.emitOne=void 0,s.emitMany=void 0,s.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await ts.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,n){return new Nr(async s=>{for await(let r of e)s.emitOne(n(r))})}map(e){return Nr.map(this,e)}static filter(e,n){return new Nr(async s=>{for await(let r of e)n(r)&&s.emitOne(r)})}filter(e){return Nr.filter(this,e)}static coalesce(e){return Nr.filter(e,n=>!!n)}coalesce(){return Nr.coalesce(this)}static async toPromise(e){let n=[];for await(let s of e)n.push(s);return n}toPromise(){return Nr.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};X3.EMPTY=X3.fromArray([]);var{getWindow:fi,getWindowId:DJ,onDidRegisterWindow:LJ}=(function(){let t=new Map,e={window:Qi,disposables:new rl};t.set(Qi.vscodeWindowId,e);let n=new Ee,s=new Ee,r=new Ee;function a(o,c){return(typeof o=="number"?t.get(o):void 0)??(c?e:void 0)}return{onDidRegisterWindow:n.event,onWillUnregisterWindow:r.event,onDidUnregisterWindow:s.event,registerWindow(o){if(t.has(o.vscodeWindowId))return bt.None;let c=new rl,h={window:o,disposables:c.add(new rl)};return t.set(o.vscodeWindowId,h),c.add(nn(()=>{t.delete(o.vscodeWindowId),s.fire(o)})),c.add(st(o,Hn.BEFORE_UNLOAD,()=>{r.fire(o)})),n.fire(h),c},getWindows(){return t.values()},getWindowsCount(){return t.size},getWindowId(o){return o.vscodeWindowId},hasWindow(o){return t.has(o)},getWindowById:a,getWindow(o){let c=o;if(c?.ownerDocument?.defaultView)return c.ownerDocument.defaultView.window;let h=o;return h?.view?h.view.window:Qi},getDocument(o){return fi(o).document}}})(),IJ=class{constructor(t,e,n,s){this._node=t,this._type=e,this._handler=n,this._options=s||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function st(t,e,n,s){return new IJ(t,e,n,s)}var J3=function(t,e,n,s){return st(t,e,n,s)},Q2,PJ=class extends BJ{constructor(t){super(),this.defaultTarget=t&&fi(t)}cancelAndSet(t,e,n){return super.cancelAndSet(t,e,n??this.defaultTarget)}},Q3=class{constructor(t,e=0){this._runner=t,this.priority=e,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(t){Xm(t)}}static sort(t,e){return e.priority-t.priority}};(function(){let t=new Map,e=new Map,n=new Map,s=new Map,r=a=>{n.set(a,!1);let o=t.get(a)??[];for(e.set(a,o),t.set(a,[]),s.set(a,!0);o.length>0;)o.sort(Q3.sort),o.shift().execute();s.set(a,!1)};Q2=(a,o,c=0)=>{let h=DJ(a),d=new Q3(o,c),g=t.get(h);return g||(g=[],t.set(h,g)),g.push(d),n.get(h)||(n.set(h,!0),a.requestAnimationFrame(()=>r(h))),d}})();function zJ(t){let e=t.getBoundingClientRect(),n=fi(t);return{left:e.left+n.scrollX,top:e.top+n.scrollY,width:e.width,height:e.height}}var Hn={CLICK:"click",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",KEY_DOWN:"keydown",KEY_UP:"keyup",BEFORE_UNLOAD:"beforeunload",CHANGE:"change",FOCUS:"focus",BLUR:"blur",INPUT:"input"},$J=class{constructor(t){this.domNode=t,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingTop="",this._paddingLeft="",this._paddingBottom="",this._paddingRight="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(t){let e=Ps(t);this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth)}setWidth(t){let e=Ps(t);this._width!==e&&(this._width=e,this.domNode.style.width=this._width)}setHeight(t){let e=Ps(t);this._height!==e&&(this._height=e,this.domNode.style.height=this._height)}setTop(t){let e=Ps(t);this._top!==e&&(this._top=e,this.domNode.style.top=this._top)}setLeft(t){let e=Ps(t);this._left!==e&&(this._left=e,this.domNode.style.left=this._left)}setBottom(t){let e=Ps(t);this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom)}setRight(t){let e=Ps(t);this._right!==e&&(this._right=e,this.domNode.style.right=this._right)}setPaddingTop(t){let e=Ps(t);this._paddingTop!==e&&(this._paddingTop=e,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(t){let e=Ps(t);this._paddingLeft!==e&&(this._paddingLeft=e,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(t){let e=Ps(t);this._paddingBottom!==e&&(this._paddingBottom=e,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(t){let e=Ps(t);this._paddingRight!==e&&(this._paddingRight=e,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(t){this._fontFamily!==t&&(this._fontFamily=t,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(t){let e=Ps(t);this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize)}setFontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(t){this._fontFeatureSettings!==t&&(this._fontFeatureSettings=t,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(t){this._fontVariationSettings!==t&&(this._fontVariationSettings=t,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(t){this._textDecoration!==t&&(this._textDecoration=t,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(t){let e=Ps(t);this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(t){let e=Ps(t);this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(t){this._className!==t&&(this._className=t,this.domNode.className=this._className)}toggleClassName(t,e){this.domNode.classList.toggle(t,e),this._className=this.domNode.className}setDisplay(t){this._display!==t&&(this._display=t,this.domNode.style.display=this._display)}setPosition(t){this._position!==t&&(this._position=t,this.domNode.style.position=this._position)}setVisibility(t){this._visibility!==t&&(this._visibility=t,this.domNode.style.visibility=this._visibility)}setColor(t){this._color!==t&&(this._color=t,this.domNode.style.color=this._color)}setBackgroundColor(t){this._backgroundColor!==t&&(this._backgroundColor=t,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(t){this._layerHint!==t&&(this._layerHint=t,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(t){this._boxShadow!==t&&(this._boxShadow=t,this.domNode.style.boxShadow=t)}setContain(t){this._contain!==t&&(this._contain=t,this.domNode.style.contain=this._contain)}setAttribute(t,e){this.domNode.setAttribute(t,e)}removeAttribute(t){this.domNode.removeAttribute(t)}appendChild(t){this.domNode.appendChild(t.domNode)}removeChild(t){this.domNode.removeChild(t.domNode)}};function Ps(t){return typeof t=="number"?`${t}px`:t}function Ld(t){return new $J(t)}var SM=class{constructor(){this._hooks=new rl,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(t,e){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let n=this._onStopCallback;this._onStopCallback=null,t&&n&&n(e)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(t,e,n,s,r){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=s,this._onStopCallback=r;let a=t;try{t.setPointerCapture(e),this._hooks.add(nn(()=>{try{t.releasePointerCapture(e)}catch{}}))}catch{a=fi(t)}this._hooks.add(st(a,Hn.POINTER_MOVE,o=>{if(o.buttons!==n){this.stopMonitoring(!0);return}o.preventDefault(),this._pointerMoveCallback(o)})),this._hooks.add(st(a,Hn.POINTER_UP,o=>this.stopMonitoring(!0)))}};function HJ(t,e,n){let s=null,r=null;if(typeof n.value=="function"?(s="value",r=n.value,r.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof n.get=="function"&&(s="get",r=n.get),!r)throw new Error("not supported");let a=`$memoize$${e}`;n[s]=function(...o){return this.hasOwnProperty(a)||Object.defineProperty(this,a,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,o)}),this[a]}}var oi;(t=>(t.Tap="-xterm-gesturetap",t.Change="-xterm-gesturechange",t.Start="-xterm-gesturestart",t.End="-xterm-gesturesend",t.Contextmenu="-xterm-gesturecontextmenu"))(oi||={});var fd=class us extends bt{constructor(){super(),this.dispatched=!1,this.targets=new U3,this.ignoreTargets=new U3,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(ts.runAndSubscribe(LJ,({window:e,disposables:n})=>{n.add(st(e.document,"touchstart",s=>this.onTouchStart(s),{passive:!1})),n.add(st(e.document,"touchend",s=>this.onTouchEnd(e,s))),n.add(st(e.document,"touchmove",s=>this.onTouchMove(s),{passive:!1}))},{window:Qi,disposables:this._store}))}static addTarget(e){if(!us.isTouchDevice())return bt.None;us.INSTANCE||(us.INSTANCE=new us);let n=us.INSTANCE.targets.push(e);return nn(n)}static ignoreTarget(e){if(!us.isTouchDevice())return bt.None;us.INSTANCE||(us.INSTANCE=new us);let n=us.INSTANCE.ignoreTargets.push(e);return nn(n)}static isTouchDevice(){return"ontouchstart"in Qi||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let n=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let s=0,r=e.targetTouches.length;s<r;s++){let a=e.targetTouches.item(s);this.activeTouches[a.identifier]={id:a.identifier,initialTarget:a.target,initialTimeStamp:n,initialPageX:a.pageX,initialPageY:a.pageY,rollingTimestamps:[n],rollingPageX:[a.pageX],rollingPageY:[a.pageY]};let o=this.newGestureEvent(oi.Start,a.target);o.pageX=a.pageX,o.pageY=a.pageY,this.dispatchEvent(o)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,n){let s=Date.now(),r=Object.keys(this.activeTouches).length;for(let a=0,o=n.changedTouches.length;a<o;a++){let c=n.changedTouches.item(a);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("move of an UNKNOWN touch",c);continue}let h=this.activeTouches[c.identifier],d=Date.now()-h.initialTimeStamp;if(d<us.HOLD_DELAY&&Math.abs(h.initialPageX-er(h.rollingPageX))<30&&Math.abs(h.initialPageY-er(h.rollingPageY))<30){let g=this.newGestureEvent(oi.Tap,h.initialTarget);g.pageX=er(h.rollingPageX),g.pageY=er(h.rollingPageY),this.dispatchEvent(g)}else if(d>=us.HOLD_DELAY&&Math.abs(h.initialPageX-er(h.rollingPageX))<30&&Math.abs(h.initialPageY-er(h.rollingPageY))<30){let g=this.newGestureEvent(oi.Contextmenu,h.initialTarget);g.pageX=er(h.rollingPageX),g.pageY=er(h.rollingPageY),this.dispatchEvent(g)}else if(r===1){let g=er(h.rollingPageX),m=er(h.rollingPageY),v=er(h.rollingTimestamps)-h.rollingTimestamps[0],y=g-h.rollingPageX[0],x=m-h.rollingPageY[0],w=[...this.targets].filter(S=>h.initialTarget instanceof Node&&S.contains(h.initialTarget));this.inertia(e,w,s,Math.abs(y)/v,y>0?1:-1,g,Math.abs(x)/v,x>0?1:-1,m)}this.dispatchEvent(this.newGestureEvent(oi.End,h.initialTarget)),delete this.activeTouches[c.identifier]}this.dispatched&&(n.preventDefault(),n.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,n){let s=document.createEvent("CustomEvent");return s.initEvent(e,!1,!0),s.initialTarget=n,s.tapCount=0,s}dispatchEvent(e){if(e.type===oi.Tap){let n=new Date().getTime(),s=0;n-this._lastSetTapCountTime>us.CLEAR_TAP_COUNT_TIME?s=1:s=2,this._lastSetTapCountTime=n,e.tapCount=s}else(e.type===oi.Change||e.type===oi.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(let s of this.ignoreTargets)if(s.contains(e.initialTarget))return;let n=[];for(let s of this.targets)if(s.contains(e.initialTarget)){let r=0,a=e.initialTarget;for(;a&&a!==s;)r++,a=a.parentElement;n.push([r,s])}n.sort((s,r)=>s[0]-r[0]);for(let[s,r]of n)r.dispatchEvent(e),this.dispatched=!0}}inertia(e,n,s,r,a,o,c,h,d){this.handle=Q2(e,()=>{let g=Date.now(),m=g-s,v=0,y=0,x=!0;r+=us.SCROLL_FRICTION*m,c+=us.SCROLL_FRICTION*m,r>0&&(x=!1,v=a*r*m),c>0&&(x=!1,y=h*c*m);let w=this.newGestureEvent(oi.Change);w.translationX=v,w.translationY=y,n.forEach(S=>S.dispatchEvent(w)),x||this.inertia(e,n,g,r,a,o+v,c,h,d+y)})}onTouchMove(e){let n=Date.now();for(let s=0,r=e.changedTouches.length;s<r;s++){let a=e.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("end of an UNKNOWN touch",a);continue}let o=this.activeTouches[a.identifier],c=this.newGestureEvent(oi.Change,o.initialTarget);c.translationX=a.pageX-er(o.rollingPageX),c.translationY=a.pageY-er(o.rollingPageY),c.pageX=a.pageX,c.pageY=a.pageY,this.dispatchEvent(c),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(a.pageX),o.rollingPageY.push(a.pageY),o.rollingTimestamps.push(n)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};fd.SCROLL_FRICTION=-.005,fd.HOLD_DELAY=700,fd.CLEAR_TAP_COUNT_TIME=400,hn([HJ],fd,"isTouchDevice",1);var UJ=fd,Z2=class extends bt{onclick(t,e){this._register(st(t,Hn.CLICK,n=>e(new Sm(fi(t),n))))}onmousedown(t,e){this._register(st(t,Hn.MOUSE_DOWN,n=>e(new Sm(fi(t),n))))}onmouseover(t,e){this._register(st(t,Hn.MOUSE_OVER,n=>e(new Sm(fi(t),n))))}onmouseleave(t,e){this._register(st(t,Hn.MOUSE_LEAVE,n=>e(new Sm(fi(t),n))))}onkeydown(t,e){this._register(st(t,Hn.KEY_DOWN,n=>e(new K3(n))))}onkeyup(t,e){this._register(st(t,Hn.KEY_UP,n=>e(new K3(n))))}oninput(t,e){this._register(st(t,Hn.INPUT,e))}onblur(t,e){this._register(st(t,Hn.BLUR,e))}onfocus(t,e){this._register(st(t,Hn.FOCUS,e))}onchange(t,e){this._register(st(t,Hn.CHANGE,e))}ignoreGesture(t){return UJ.ignoreTarget(t)}},Z3=11,VJ=class extends Z2{constructor(t){super(),this._onActivate=t.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=t.bgWidth+"px",this.bgDomNode.style.height=t.bgHeight+"px",typeof t.top<"u"&&(this.bgDomNode.style.top="0px"),typeof t.left<"u"&&(this.bgDomNode.style.left="0px"),typeof t.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof t.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=t.className,this.domNode.style.position="absolute",this.domNode.style.width=Z3+"px",this.domNode.style.height=Z3+"px",typeof t.top<"u"&&(this.domNode.style.top=t.top+"px"),typeof t.left<"u"&&(this.domNode.style.left=t.left+"px"),typeof t.bottom<"u"&&(this.domNode.style.bottom=t.bottom+"px"),typeof t.right<"u"&&(this.domNode.style.right=t.right+"px"),this._pointerMoveMonitor=this._register(new SM),this._register(J3(this.bgDomNode,Hn.POINTER_DOWN,e=>this._arrowPointerDown(e))),this._register(J3(this.domNode,Hn.POINTER_DOWN,e=>this._arrowPointerDown(e))),this._pointerdownRepeatTimer=this._register(new PJ),this._pointerdownScheduleRepeatTimer=this._register(new J2)}_arrowPointerDown(t){if(!t.target||!(t.target instanceof Element))return;let e=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,fi(t))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(e,200),this._pointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,n=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),t.preventDefault()}},FJ=class jw{constructor(e,n,s,r,a,o,c){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(n=n|0,s=s|0,r=r|0,a=a|0,o=o|0,c=c|0),this.rawScrollLeft=r,this.rawScrollTop=c,n<0&&(n=0),r+n>s&&(r=s-n),r<0&&(r=0),a<0&&(a=0),c+a>o&&(c=o-a),c<0&&(c=0),this.width=n,this.scrollWidth=s,this.scrollLeft=r,this.height=a,this.scrollHeight=o,this.scrollTop=c}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,n){return new jw(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,n?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,n?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new jw(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,n){let s=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,a=this.scrollLeft!==e.scrollLeft,o=this.height!==e.height,c=this.scrollHeight!==e.scrollHeight,h=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:n,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:s,scrollWidthChanged:r,scrollLeftChanged:a,heightChanged:o,scrollHeightChanged:c,scrollTopChanged:h}}},qJ=class extends bt{constructor(t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new Ee),this.onScroll=this._onScroll.event,this._smoothScrollDuration=t.smoothScrollDuration,this._scheduleAtNextAnimationFrame=t.scheduleAtNextAnimationFrame,this._state=new FJ(t.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(t){this._smoothScrollDuration=t}validateScrollPosition(t){return this._state.withScrollPosition(t)}getScrollDimensions(){return this._state}setScrollDimensions(t,e){let n=this._state.withScrollDimensions(t,e);this._setState(n,!!this._smoothScrolling),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(t){let e=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(e,!1)}setScrollPositionSmooth(t,e){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop>"u"?this._smoothScrolling.to.scrollTop:t.scrollTop};let n=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let s;e?s=new tj(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):s=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=s}else{let n=this._state.withScrollPosition(t);this._smoothScrolling=tj.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let t=this._smoothScrolling.tick(),e=this._state.withScrollPosition(t);if(this._setState(e,!0),!!this._smoothScrolling){if(t.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(t,e){let n=this._state;n.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(n,e)))}},ej=class{constructor(t,e,n){this.scrollLeft=t,this.scrollTop=e,this.isDone=n}};function Zb(t,e){let n=e-t;return function(s){return t+n*GJ(s)}}function WJ(t,e,n){return function(s){return s<n?t(s/n):e((s-n)/(1-n))}}var tj=class Tw{constructor(e,n,s,r){this.from=e,this.to=n,this.duration=r,this.startTime=s,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,n,s){if(Math.abs(e-n)>2.5*s){let r,a;return e<n?(r=e+.75*s,a=n-.75*s):(r=e-.75*s,a=n+.75*s),WJ(Zb(e,r),Zb(a,n),.33)}return Zb(e,n)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){let n=(e-this.startTime)/this.duration;if(n<1){let s=this.scrollLeft(n),r=this.scrollTop(n);return new ej(s,r,!1)}return new ej(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,n,s){return Tw.start(e,n,s)}static start(e,n,s){s=s+10;let r=Date.now()-10;return new Tw(e,n,r,s)}};function KJ(t){return Math.pow(t,3)}function GJ(t){return 1-KJ(1-t)}var YJ=class extends bt{constructor(t,e,n){super(),this._visibility=t,this._visibleClassName=e,this._invisibleClassName=n,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new J2)}setVisibility(t){this._visibility!==t&&(this._visibility=t,this._updateShouldBeVisible())}setShouldBeVisible(t){this._rawShouldBeVisible=t,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let t=this._applyVisibilitySetting();this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())}setIsNeeded(t){this._isNeeded!==t&&(this._isNeeded=t,this.ensureVisibility())}setDomNode(t){this._domNode=t,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide(t){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+(t?" fade":"")))}},XJ=140,kM=class extends Z2{constructor(t){super(),this._lazyRender=t.lazyRender,this._host=t.host,this._scrollable=t.scrollable,this._scrollByPage=t.scrollByPage,this._scrollbarState=t.scrollbarState,this._visibilityController=this._register(new YJ(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new SM),this._shouldRender=!0,this.domNode=Ld(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(st(this.domNode.domNode,Hn.POINTER_DOWN,e=>this._domNodePointerDown(e)))}_createArrow(t){let e=this._register(new VJ(t));this.domNode.domNode.appendChild(e.bgDomNode),this.domNode.domNode.appendChild(e.domNode)}_createSlider(t,e,n,s){this.slider=Ld(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(e),typeof n=="number"&&this.slider.setWidth(n),typeof s=="number"&&this.slider.setHeight(s),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(st(this.slider.domNode,Hn.POINTER_DOWN,r=>{r.button===0&&(r.preventDefault(),this._sliderPointerDown(r))})),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(t){t.target===this.domNode.domNode&&this._onPointerDown(t)}delegatePointerDown(t){let e=this.domNode.domNode.getClientRects()[0].top,n=e+this._scrollbarState.getSliderPosition(),s=e+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderPointerPosition(t);n<=r&&r<=s?t.button===0&&(t.preventDefault(),this._sliderPointerDown(t)):this._onPointerDown(t)}_onPointerDown(t){let e,n;if(t.target===this.domNode.domNode&&typeof t.offsetX=="number"&&typeof t.offsetY=="number")e=t.offsetX,n=t.offsetY;else{let r=zJ(this.domNode.domNode);e=t.pageX-r.left,n=t.pageY-r.top}let s=this._pointerDownRelativePosition(e,n);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(s):this._scrollbarState.getDesiredScrollPositionFromOffset(s)),t.button===0&&(t.preventDefault(),this._sliderPointerDown(t))}_sliderPointerDown(t){if(!t.target||!(t.target instanceof Element))return;let e=this._sliderPointerPosition(t),n=this._sliderOrthogonalPointerPosition(t),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,r=>{let a=this._sliderOrthogonalPointerPosition(r),o=Math.abs(a-n);if(bM&&o>XJ){this._setDesiredScrollPositionNow(s.getScrollPosition());return}let c=this._sliderPointerPosition(r)-e;this._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(t){let e={};this.writeScrollPosition(e,t),this._scrollable.setScrollPositionNow(e)}updateScrollbarSize(t){this._updateScrollbarSize(t),this._scrollbarState.setScrollbarSize(t),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}},CM=class Rw{constructor(e,n,s,r,a,o){this._scrollbarSize=Math.round(n),this._oppositeScrollbarSize=Math.round(s),this._arrowSize=Math.round(e),this._visibleSize=r,this._scrollSize=a,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new Rw(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let n=Math.round(e);return this._visibleSize!==n?(this._visibleSize=n,this._refreshComputedValues(),!0):!1}setScrollSize(e){let n=Math.round(e);return this._scrollSize!==n?(this._scrollSize=n,this._refreshComputedValues(),!0):!1}setScrollPosition(e){let n=Math.round(e);return this._scrollPosition!==n?(this._scrollPosition=n,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,n,s,r,a){let o=Math.max(0,s-e),c=Math.max(0,o-2*n),h=r>0&&r>s;if(!h)return{computedAvailableSize:Math.round(o),computedIsNeeded:h,computedSliderSize:Math.round(c),computedSliderRatio:0,computedSliderPosition:0};let d=Math.round(Math.max(20,Math.floor(s*c/r))),g=(c-d)/(r-s),m=a*g;return{computedAvailableSize:Math.round(o),computedIsNeeded:h,computedSliderSize:Math.round(d),computedSliderRatio:g,computedSliderPosition:Math.round(m)}}_refreshComputedValues(){let e=Rw._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let n=e-this._arrowSize-this._computedSliderSize/2;return Math.round(n/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;let n=e-this._arrowSize,s=this._scrollPosition;return n<this._computedSliderPosition?s-=this._visibleSize:s+=this._visibleSize,s}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let n=this._computedSliderPosition+e;return Math.round(n/this._computedSliderRatio)}},JJ=class extends kM{constructor(t,e,n){let s=t.getScrollDimensions(),r=t.getCurrentScrollPosition();if(super({lazyRender:e.lazyRender,host:n,scrollbarState:new CM(e.horizontalHasArrows?e.arrowSize:0,e.horizontal===2?0:e.horizontalScrollbarSize,e.vertical===2?0:e.verticalScrollbarSize,s.width,s.scrollWidth,r.scrollLeft),visibility:e.horizontal,extraScrollbarClassName:"horizontal",scrollable:t,scrollByPage:e.scrollByPage}),e.horizontalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(Math.floor((e.horizontalScrollbarSize-e.horizontalSliderSize)/2),0,void 0,e.horizontalSliderSize)}_updateSlider(t,e){this.slider.setWidth(t),this.slider.setLeft(e)}_renderDomNode(t,e){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(t){return this._shouldRender=this._onElementScrollSize(t.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(t.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(t,e){return t}_sliderPointerPosition(t){return t.pageX}_sliderOrthogonalPointerPosition(t){return t.pageY}_updateScrollbarSize(t){this.slider.setHeight(t)}writeScrollPosition(t,e){t.scrollLeft=e}updateOptions(t){this.updateScrollbarSize(t.horizontal===2?0:t.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(t.vertical===2?0:t.verticalScrollbarSize),this._visibilityController.setVisibility(t.horizontal),this._scrollByPage=t.scrollByPage}},QJ=class extends kM{constructor(t,e,n){let s=t.getScrollDimensions(),r=t.getCurrentScrollPosition();if(super({lazyRender:e.lazyRender,host:n,scrollbarState:new CM(e.verticalHasArrows?e.arrowSize:0,e.vertical===2?0:e.verticalScrollbarSize,0,s.height,s.scrollHeight,r.scrollTop),visibility:e.vertical,extraScrollbarClassName:"vertical",scrollable:t,scrollByPage:e.scrollByPage}),e.verticalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(0,Math.floor((e.verticalScrollbarSize-e.verticalSliderSize)/2),e.verticalSliderSize,void 0)}_updateSlider(t,e){this.slider.setHeight(t),this.slider.setTop(e)}_renderDomNode(t,e){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(t){return this._shouldRender=this._onElementScrollSize(t.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(t.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(t,e){return e}_sliderPointerPosition(t){return t.pageY}_sliderOrthogonalPointerPosition(t){return t.pageX}_updateScrollbarSize(t){this.slider.setWidth(t)}writeScrollPosition(t,e){t.scrollTop=e}updateOptions(t){this.updateScrollbarSize(t.vertical===2?0:t.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(t.vertical),this._scrollByPage=t.scrollByPage}},ZJ=500,nj=50,eQ=class{constructor(t,e,n){this.timestamp=t,this.deltaX=e,this.deltaY=n,this.score=0}},Ow=class{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,n=0,s=1,r=this._rear;do{let a=r===this._front?e:Math.pow(2,-s);if(e-=a,n+=this._memory[r].score*a,r===this._front)break;r=(this._capacity+r-1)%this._capacity,s++}while(!0);return n<=.5}acceptStandardWheelEvent(e){if(Y2){let n=fi(e.browserEvent),s=hJ(n);this.accept(Date.now(),e.deltaX*s,e.deltaY*s)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,n,s){let r=null,a=new eQ(e,n,s);this._front===-1&&this._rear===-1?(this._memory[0]=a,this._front=0,this._rear=0):(r=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=a),a.score=this._computeScore(a,r)}_computeScore(e,n){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let s=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(s+=.25),n){let r=Math.abs(e.deltaX),a=Math.abs(e.deltaY),o=Math.abs(n.deltaX),c=Math.abs(n.deltaY),h=Math.max(Math.min(r,o),1),d=Math.max(Math.min(a,c),1),g=Math.max(r,o),m=Math.max(a,c);g%h===0&&m%d===0&&(s-=.5)}return Math.min(Math.max(s,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}};Ow.INSTANCE=new Ow;var tQ=Ow,nQ=class extends Z2{constructor(t,e,n){super(),this._onScroll=this._register(new Ee),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new Ee),this.onWillScroll=this._onWillScroll.event,this._options=rQ(e),this._scrollable=n,this._register(this._scrollable.onScroll(r=>{this._onWillScroll.fire(r),this._onDidScroll(r),this._onScroll.fire(r)}));let s={onMouseWheel:r=>this._onMouseWheel(r),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new QJ(this._scrollable,this._options,s)),this._horizontalScrollbar=this._register(new JJ(this._scrollable,this._options,s)),this._domNode=document.createElement("div"),this._domNode.className="xterm-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.appendChild(t),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Ld(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Ld(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Ld(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,r=>this._onMouseOver(r)),this.onmouseleave(this._listenOnDomNode,r=>this._onMouseLeave(r)),this._hideTimeout=this._register(new J2),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=mo(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(t){this._verticalScrollbar.delegatePointerDown(t)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(t){this._scrollable.setScrollDimensions(t,!1)}updateClassName(t){this._options.className=t,gi&&(this._options.className+=" mac"),this._domNode.className="xterm-scrollable-element "+this._options.className}updateOptions(t){typeof t.handleMouseWheel<"u"&&(this._options.handleMouseWheel=t.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof t.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity),typeof t.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=t.fastScrollSensitivity),typeof t.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=t.scrollPredominantAxis),typeof t.horizontal<"u"&&(this._options.horizontal=t.horizontal),typeof t.vertical<"u"&&(this._options.vertical=t.vertical),typeof t.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=t.horizontalScrollbarSize),typeof t.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=t.verticalScrollbarSize),typeof t.scrollByPage<"u"&&(this._options.scrollByPage=t.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(t){this._revealOnScroll=t}delegateScrollFromMouseWheelEvent(t){this._onMouseWheel(new Y3(t))}_setListeningToMouseWheel(t){if(this._mouseWheelToDispose.length>0!==t&&(this._mouseWheelToDispose=mo(this._mouseWheelToDispose),t)){let e=n=>{this._onMouseWheel(new Y3(n))};this._mouseWheelToDispose.push(st(this._listenOnDomNode,Hn.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(t){if(t.browserEvent?.defaultPrevented)return;let e=tQ.INSTANCE;e.acceptStandardWheelEvent(t);let n=!1;if(t.deltaY||t.deltaX){let r=t.deltaY*this._options.mouseWheelScrollSensitivity,a=t.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&a+r===0?a=r=0:Math.abs(r)>=Math.abs(a)?a=0:r=0),this._options.flipAxes&&([r,a]=[a,r]);let o=!gi&&t.browserEvent&&t.browserEvent.shiftKey;(this._options.scrollYToX||o)&&!a&&(a=r,r=0),t.browserEvent&&t.browserEvent.altKey&&(a=a*this._options.fastScrollSensitivity,r=r*this._options.fastScrollSensitivity);let c=this._scrollable.getFutureScrollPosition(),h={};if(r){let d=nj*r,g=c.scrollTop-(d<0?Math.floor(d):Math.ceil(d));this._verticalScrollbar.writeScrollPosition(h,g)}if(a){let d=nj*a,g=c.scrollLeft-(d<0?Math.floor(d):Math.ceil(d));this._horizontalScrollbar.writeScrollPosition(h,g)}h=this._scrollable.validateScrollPosition(h),(c.scrollLeft!==h.scrollLeft||c.scrollTop!==h.scrollTop)&&(this._options.mouseWheelSmoothScroll&&e.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(h):this._scrollable.setScrollPositionNow(h),n=!0)}let s=n;!s&&this._options.alwaysConsumeMouseWheel&&(s=!0),!s&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(s=!0),s&&(t.preventDefault(),t.stopPropagation())}_onDidScroll(t){this._shouldRender=this._horizontalScrollbar.onDidScroll(t)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(t)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let t=this._scrollable.getCurrentScrollPosition(),e=t.scrollTop>0,n=t.scrollLeft>0,s=n?" left":"",r=e?" top":"",a=n||e?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${s}`),this._topShadowDomNode.setClassName(`shadow${r}`),this._topLeftShadowDomNode.setClassName(`shadow${a}${r}${s}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(t){this._mouseIsOver=!1,this._hide()}_onMouseOver(t){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),ZJ)}},sQ=class extends nQ{constructor(t,e,n){super(t,e,n)}setScrollPosition(t){t.reuseAnimation?this._scrollable.setScrollPositionSmooth(t,t.reuseAnimation):this._scrollable.setScrollPositionNow(t)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};function rQ(t){let e={lazyRender:typeof t.lazyRender<"u"?t.lazyRender:!1,className:typeof t.className<"u"?t.className:"",useShadows:typeof t.useShadows<"u"?t.useShadows:!0,handleMouseWheel:typeof t.handleMouseWheel<"u"?t.handleMouseWheel:!0,flipAxes:typeof t.flipAxes<"u"?t.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof t.consumeMouseWheelIfScrollbarIsNeeded<"u"?t.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof t.alwaysConsumeMouseWheel<"u"?t.alwaysConsumeMouseWheel:!1,scrollYToX:typeof t.scrollYToX<"u"?t.scrollYToX:!1,mouseWheelScrollSensitivity:typeof t.mouseWheelScrollSensitivity<"u"?t.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof t.fastScrollSensitivity<"u"?t.fastScrollSensitivity:5,scrollPredominantAxis:typeof t.scrollPredominantAxis<"u"?t.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof t.mouseWheelSmoothScroll<"u"?t.mouseWheelSmoothScroll:!0,arrowSize:typeof t.arrowSize<"u"?t.arrowSize:11,listenOnDomNode:typeof t.listenOnDomNode<"u"?t.listenOnDomNode:null,horizontal:typeof t.horizontal<"u"?t.horizontal:1,horizontalScrollbarSize:typeof t.horizontalScrollbarSize<"u"?t.horizontalScrollbarSize:10,horizontalSliderSize:typeof t.horizontalSliderSize<"u"?t.horizontalSliderSize:0,horizontalHasArrows:typeof t.horizontalHasArrows<"u"?t.horizontalHasArrows:!1,vertical:typeof t.vertical<"u"?t.vertical:1,verticalScrollbarSize:typeof t.verticalScrollbarSize<"u"?t.verticalScrollbarSize:10,verticalHasArrows:typeof t.verticalHasArrows<"u"?t.verticalHasArrows:!1,verticalSliderSize:typeof t.verticalSliderSize<"u"?t.verticalSliderSize:0,scrollByPage:typeof t.scrollByPage<"u"?t.scrollByPage:!1};return e.horizontalSliderSize=typeof t.horizontalSliderSize<"u"?t.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof t.verticalSliderSize<"u"?t.verticalSliderSize:e.verticalScrollbarSize,gi&&(e.className+=" mac"),e}var Bw=class extends bt{constructor(t,e,n,s,r,a,o,c){super(),this._bufferService=n,this._optionsService=o,this._renderService=c,this._onRequestScrollLines=this._register(new Ee),this.onRequestScrollLines=this._onRequestScrollLines.event,this._isSyncing=!1,this._isHandlingScroll=!1,this._suppressOnScrollHandler=!1;let h=this._register(new qJ({forceIntegerValues:!1,smoothScrollDuration:this._optionsService.rawOptions.smoothScrollDuration,scheduleAtNextAnimationFrame:d=>Q2(s.window,d)}));this._register(this._optionsService.onSpecificOptionChange("smoothScrollDuration",()=>{h.setSmoothScrollDuration(this._optionsService.rawOptions.smoothScrollDuration)})),this._scrollableElement=this._register(new sQ(e,{vertical:1,horizontal:2,useShadows:!1,mouseWheelSmoothScroll:!0,...this._getChangeOptions()},h)),this._register(this._optionsService.onMultipleOptionChange(["scrollSensitivity","fastScrollSensitivity","overviewRuler"],()=>this._scrollableElement.updateOptions(this._getChangeOptions()))),this._register(r.onProtocolChange(d=>{this._scrollableElement.updateOptions({handleMouseWheel:!(d&16)})})),this._scrollableElement.setScrollDimensions({height:0,scrollHeight:0}),this._register(ts.runAndSubscribe(a.onChangeColors,()=>{this._scrollableElement.getDomNode().style.backgroundColor=a.colors.background.css})),t.appendChild(this._scrollableElement.getDomNode()),this._register(nn(()=>this._scrollableElement.getDomNode().remove())),this._styleElement=s.mainDocument.createElement("style"),e.appendChild(this._styleElement),this._register(nn(()=>this._styleElement.remove())),this._register(ts.runAndSubscribe(a.onChangeColors,()=>{this._styleElement.textContent=[".xterm .xterm-scrollable-element > .scrollbar > .slider {",`  background: ${a.colors.scrollbarSliderBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider:hover {",`  background: ${a.colors.scrollbarSliderHoverBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider.active {",`  background: ${a.colors.scrollbarSliderActiveBackground.css};`,"}"].join(`
`)})),this._register(this._bufferService.onResize(()=>this.queueSync())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._latestYDisp=void 0,this.queueSync()})),this._register(this._bufferService.onScroll(()=>this._sync())),this._register(this._scrollableElement.onScroll(d=>this._handleScroll(d)))}scrollLines(t){let e=this._scrollableElement.getScrollPosition();this._scrollableElement.setScrollPosition({reuseAnimation:!0,scrollTop:e.scrollTop+t*this._renderService.dimensions.css.cell.height})}scrollToLine(t,e){e&&(this._latestYDisp=t),this._scrollableElement.setScrollPosition({reuseAnimation:!e,scrollTop:t*this._renderService.dimensions.css.cell.height})}_getChangeOptions(){return{mouseWheelScrollSensitivity:this._optionsService.rawOptions.scrollSensitivity,fastScrollSensitivity:this._optionsService.rawOptions.fastScrollSensitivity,verticalScrollbarSize:this._optionsService.rawOptions.overviewRuler?.width||14}}queueSync(t){t!==void 0&&(this._latestYDisp=t),this._queuedAnimationFrame===void 0&&(this._queuedAnimationFrame=this._renderService.addRefreshCallback(()=>{this._queuedAnimationFrame=void 0,this._sync(this._latestYDisp)}))}_sync(t=this._bufferService.buffer.ydisp){!this._renderService||this._isSyncing||(this._isSyncing=!0,this._suppressOnScrollHandler=!0,this._scrollableElement.setScrollDimensions({height:this._renderService.dimensions.css.canvas.height,scrollHeight:this._renderService.dimensions.css.cell.height*this._bufferService.buffer.lines.length}),this._suppressOnScrollHandler=!1,t!==this._latestYDisp&&this._scrollableElement.setScrollPosition({scrollTop:t*this._renderService.dimensions.css.cell.height}),this._isSyncing=!1)}_handleScroll(t){if(!this._renderService||this._isHandlingScroll||this._suppressOnScrollHandler)return;this._isHandlingScroll=!0;let e=Math.round(t.scrollTop/this._renderService.dimensions.css.cell.height),n=e-this._bufferService.buffer.ydisp;n!==0&&(this._latestYDisp=e,this._onRequestScrollLines.fire(n)),this._isHandlingScroll=!1}};Bw=hn([Le(2,Ns),Le(3,fa),Le(4,iM),Le(5,Nu),Le(6,As),Le(7,pa)],Bw);var Mw=class extends bt{constructor(t,e,n,s,r){super(),this._screenElement=t,this._bufferService=e,this._coreBrowserService=n,this._decorationService=s,this._renderService=r,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this._register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this._register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this._register(this._decorationService.onDecorationRemoved(a=>this._removeDecoration(a))),this._register(nn(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let t of this._decorationService.decorations)this._renderDecoration(t);this._dimensionsChanged=!1}_renderDecoration(t){this._refreshStyle(t),this._dimensionsChanged&&this._refreshXPosition(t)}_createElement(t){let e=this._coreBrowserService.mainDocument.createElement("div");e.classList.add("xterm-decoration"),e.classList.toggle("xterm-decoration-top-layer",t?.options?.layer==="top"),e.style.width=`${Math.round((t.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,e.style.height=`${(t.options.height||1)*this._renderService.dimensions.css.cell.height}px`,e.style.top=`${(t.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height}px`,e.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;let n=t.options.x??0;return n&&n>this._bufferService.cols&&(e.style.display="none"),this._refreshXPosition(t,e),e}_refreshStyle(t){let e=t.marker.line-this._bufferService.buffers.active.ydisp;if(e<0||e>=this._bufferService.rows)t.element&&(t.element.style.display="none",t.onRenderEmitter.fire(t.element));else{let n=this._decorationElements.get(t);n||(n=this._createElement(t),t.element=n,this._decorationElements.set(t,n),this._container.appendChild(n),t.onDispose(()=>{this._decorationElements.delete(t),n.remove()})),n.style.display=this._altBufferIsActive?"none":"block",this._altBufferIsActive||(n.style.width=`${Math.round((t.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,n.style.height=`${(t.options.height||1)*this._renderService.dimensions.css.cell.height}px`,n.style.top=`${e*this._renderService.dimensions.css.cell.height}px`,n.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`),t.onRenderEmitter.fire(n)}}_refreshXPosition(t,e=t.element){if(!e)return;let n=t.options.x??0;(t.options.anchor||"left")==="right"?e.style.right=n?`${n*this._renderService.dimensions.css.cell.width}px`:"":e.style.left=n?`${n*this._renderService.dimensions.css.cell.width}px`:""}_removeDecoration(t){this._decorationElements.get(t)?.remove(),this._decorationElements.delete(t),t.dispose()}};Mw=hn([Le(1,Ns),Le(2,fa),Le(3,Pf),Le(4,pa)],Mw);var iQ=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(t){if(t.options.overviewRulerOptions){for(let e of this._zones)if(e.color===t.options.overviewRulerOptions.color&&e.position===t.options.overviewRulerOptions.position){if(this._lineIntersectsZone(e,t.marker.line))return;if(this._lineAdjacentToZone(e,t.marker.line,t.options.overviewRulerOptions.position)){this._addLineToZone(e,t.marker.line);return}}if(this._zonePoolIndex<this._zonePool.length){this._zonePool[this._zonePoolIndex].color=t.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=t.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=t.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=t.marker.line,this._zones.push(this._zonePool[this._zonePoolIndex++]);return}this._zones.push({color:t.options.overviewRulerOptions.color,position:t.options.overviewRulerOptions.position,startBufferLine:t.marker.line,endBufferLine:t.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(t){this._linePadding=t}_lineIntersectsZone(t,e){return e>=t.startBufferLine&&e<=t.endBufferLine}_lineAdjacentToZone(t,e,n){return e>=t.startBufferLine-this._linePadding[n||"full"]&&e<=t.endBufferLine+this._linePadding[n||"full"]}_addLineToZone(t,e){t.startBufferLine=Math.min(t.startBufferLine,e),t.endBufferLine=Math.max(t.endBufferLine,e)}},ai={full:0,left:0,center:0,right:0},Va={full:0,left:0,center:0,right:0},Rh={full:0,left:0,center:0,right:0},ig=class extends bt{constructor(t,e,n,s,r,a,o,c){super(),this._viewportElement=t,this._screenElement=e,this._bufferService=n,this._decorationService=s,this._renderService=r,this._optionsService=a,this._themeService=o,this._coreBrowserService=c,this._colorZoneStore=new iQ,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement),this._register(nn(()=>this._canvas?.remove()));let h=this._canvas.getContext("2d");if(h)this._ctx=h;else throw new Error("Ctx cannot be null");this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this._register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0))),this._register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this._register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})),this._register(this._renderService.onRender(()=>{(!this._containerHeight||this._containerHeight!==this._screenElement.clientHeight)&&(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._register(this._optionsService.onSpecificOptionChange("overviewRuler",()=>this._queueRefresh(!0))),this._register(this._themeService.onChangeColors(()=>this._queueRefresh())),this._queueRefresh(!0)}get _width(){return this._optionsService.options.overviewRuler?.width||0}_refreshDrawConstants(){let t=Math.floor((this._canvas.width-1)/3),e=Math.ceil((this._canvas.width-1)/3);Va.full=this._canvas.width,Va.left=t,Va.center=e,Va.right=t,this._refreshDrawHeightConstants(),Rh.full=1,Rh.left=1,Rh.center=1+Va.left,Rh.right=1+Va.left+Va.center}_refreshDrawHeightConstants(){ai.full=Math.round(2*this._coreBrowserService.dpr);let t=this._canvas.height/this._bufferService.buffer.lines.length,e=Math.round(Math.max(Math.min(t,12),6)*this._coreBrowserService.dpr);ai.left=e,ai.center=e,ai.right=e}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*ai.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*ai.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*ai.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*ai.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let e of this._decorationService.decorations)this._colorZoneStore.addDecoration(e);this._ctx.lineWidth=1,this._renderRulerOutline();let t=this._colorZoneStore.zones;for(let e of t)e.position!=="full"&&this._renderColorZone(e);for(let e of t)e.position==="full"&&this._renderColorZone(e);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderRulerOutline(){this._ctx.fillStyle=this._themeService.colors.overviewRulerBorder.css,this._ctx.fillRect(0,0,1,this._canvas.height),this._optionsService.rawOptions.overviewRuler.showTopBorder&&this._ctx.fillRect(1,0,this._canvas.width-1,1),this._optionsService.rawOptions.overviewRuler.showBottomBorder&&this._ctx.fillRect(1,this._canvas.height-1,this._canvas.width-1,this._canvas.height)}_renderColorZone(t){this._ctx.fillStyle=t.color,this._ctx.fillRect(Rh[t.position||"full"],Math.round((this._canvas.height-1)*(t.startBufferLine/this._bufferService.buffers.active.lines.length)-ai[t.position||"full"]/2),Va[t.position||"full"],Math.round((this._canvas.height-1)*((t.endBufferLine-t.startBufferLine)/this._bufferService.buffers.active.lines.length)+ai[t.position||"full"]))}_queueRefresh(t,e){this._shouldUpdateDimensions=t||this._shouldUpdateDimensions,this._shouldUpdateAnchor=e||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};ig=hn([Le(2,Ns),Le(3,Pf),Le(4,pa),Le(5,As),Le(6,Nu),Le(7,fa)],ig);var ve;(t=>(t.NUL="\0",t.SOH="",t.STX="",t.ETX="",t.EOT="",t.ENQ="",t.ACK="",t.BEL="\x07",t.BS="\b",t.HT="	",t.LF=`
`,t.VT="\v",t.FF="\f",t.CR="\r",t.SO="",t.SI="",t.DLE="",t.DC1="",t.DC2="",t.DC3="",t.DC4="",t.NAK="",t.SYN="",t.ETB="",t.CAN="",t.EM="",t.SUB="",t.ESC="\x1B",t.FS="",t.GS="",t.RS="",t.US="",t.SP=" ",t.DEL=""))(ve||={});var Zm;(t=>(t.PAD="",t.HOP="",t.BPH="",t.NBH="",t.IND="",t.NEL="",t.SSA="",t.ESA="",t.HTS="",t.HTJ="",t.VTS="",t.PLD="",t.PLU="",t.RI="",t.SS2="",t.SS3="",t.DCS="",t.PU1="",t.PU2="",t.STS="",t.CCH="",t.MW="",t.SPA="",t.EPA="",t.SOS="",t.SGCI="",t.SCI="",t.CSI="",t.ST="",t.OSC="",t.PM="",t.APC=""))(Zm||={});var NM;(t=>t.ST=`${ve.ESC}\\`)(NM||={});var Dw=class{constructor(t,e,n,s,r,a){this._textarea=t,this._compositionView=e,this._bufferService=n,this._optionsService=s,this._coreService=r,this._renderService=a,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(t){this._compositionView.textContent=t.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(t){if(this._isComposing||this._isSendingComposition){if(t.keyCode===20||t.keyCode===229||t.keyCode===16||t.keyCode===17||t.keyCode===18)return!1;this._finalizeComposition(!1)}return t.keyCode===229?(this._handleAnyTextareaChanges(),!1):!0}_finalizeComposition(t){if(this._compositionView.classList.remove("active"),this._isComposing=!1,t){let e={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){this._isSendingComposition=!1;let n;e.start+=this._dataAlreadySent.length,this._isComposing?n=this._textarea.value.substring(e.start,this._compositionPosition.start):n=this._textarea.value.substring(e.start),n.length>0&&this._coreService.triggerDataEvent(n,!0)}},0)}else{this._isSendingComposition=!1;let e=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(e,!0)}}_handleAnyTextareaChanges(){let t=this._textarea.value;setTimeout(()=>{if(!this._isComposing){let e=this._textarea.value,n=e.replace(t,"");this._dataAlreadySent=n,e.length>t.length?this._coreService.triggerDataEvent(n,!0):e.length<t.length?this._coreService.triggerDataEvent(`${ve.DEL}`,!0):e.length===t.length&&e!==t&&this._coreService.triggerDataEvent(e,!0)}},0)}updateCompositionElements(t){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){let e=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),n=this._renderService.dimensions.css.cell.height,s=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,r=e*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=r+"px",this._compositionView.style.top=s+"px",this._compositionView.style.height=n+"px",this._compositionView.style.lineHeight=n+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";let a=this._compositionView.getBoundingClientRect();this._textarea.style.left=r+"px",this._textarea.style.top=s+"px",this._textarea.style.width=Math.max(a.width,1)+"px",this._textarea.style.height=Math.max(a.height,1)+"px",this._textarea.style.lineHeight=a.height+"px"}t||setTimeout(()=>this.updateCompositionElements(!0),0)}}};Dw=hn([Le(2,Ns),Le(3,As),Le(4,Co),Le(5,pa)],Dw);var Un=0,Vn=0,Fn=0,un=0,sj={css:"#00000000",rgba:0},Cn;(t=>{function e(r,a,o,c){return c!==void 0?`#${Ml(r)}${Ml(a)}${Ml(o)}${Ml(c)}`:`#${Ml(r)}${Ml(a)}${Ml(o)}`}t.toCss=e;function n(r,a,o,c=255){return(r<<24|a<<16|o<<8|c)>>>0}t.toRgba=n;function s(r,a,o,c){return{css:t.toCss(r,a,o,c),rgba:t.toRgba(r,a,o,c)}}t.toColor=s})(Cn||={});var Jt;(t=>{function e(h,d){if(un=(d.rgba&255)/255,un===1)return{css:d.css,rgba:d.rgba};let g=d.rgba>>24&255,m=d.rgba>>16&255,v=d.rgba>>8&255,y=h.rgba>>24&255,x=h.rgba>>16&255,w=h.rgba>>8&255;Un=y+Math.round((g-y)*un),Vn=x+Math.round((m-x)*un),Fn=w+Math.round((v-w)*un);let S=Cn.toCss(Un,Vn,Fn),k=Cn.toRgba(Un,Vn,Fn);return{css:S,rgba:k}}t.blend=e;function n(h){return(h.rgba&255)===255}t.isOpaque=n;function s(h,d,g){let m=e0.ensureContrastRatio(h.rgba,d.rgba,g);if(m)return Cn.toColor(m>>24&255,m>>16&255,m>>8&255)}t.ensureContrastRatio=s;function r(h){let d=(h.rgba|255)>>>0;return[Un,Vn,Fn]=e0.toChannels(d),{css:Cn.toCss(Un,Vn,Fn),rgba:d}}t.opaque=r;function a(h,d){return un=Math.round(d*255),[Un,Vn,Fn]=e0.toChannels(h.rgba),{css:Cn.toCss(Un,Vn,Fn,un),rgba:Cn.toRgba(Un,Vn,Fn,un)}}t.opacity=a;function o(h,d){return un=h.rgba&255,a(h,un*d/255)}t.multiplyOpacity=o;function c(h){return[h.rgba>>24&255,h.rgba>>16&255,h.rgba>>8&255]}t.toColorRGB=c})(Jt||={});var ln;(t=>{let e,n;try{let r=document.createElement("canvas");r.width=1,r.height=1;let a=r.getContext("2d",{willReadFrequently:!0});a&&(e=a,e.globalCompositeOperation="copy",n=e.createLinearGradient(0,0,1,1))}catch{}function s(r){if(r.match(/#[\da-f]{3,8}/i))switch(r.length){case 4:return Un=parseInt(r.slice(1,2).repeat(2),16),Vn=parseInt(r.slice(2,3).repeat(2),16),Fn=parseInt(r.slice(3,4).repeat(2),16),Cn.toColor(Un,Vn,Fn);case 5:return Un=parseInt(r.slice(1,2).repeat(2),16),Vn=parseInt(r.slice(2,3).repeat(2),16),Fn=parseInt(r.slice(3,4).repeat(2),16),un=parseInt(r.slice(4,5).repeat(2),16),Cn.toColor(Un,Vn,Fn,un);case 7:return{css:r,rgba:(parseInt(r.slice(1),16)<<8|255)>>>0};case 9:return{css:r,rgba:parseInt(r.slice(1),16)>>>0}}let a=r.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(a)return Un=parseInt(a[1]),Vn=parseInt(a[2]),Fn=parseInt(a[3]),un=Math.round((a[5]===void 0?1:parseFloat(a[5]))*255),Cn.toColor(Un,Vn,Fn,un);if(!e||!n)throw new Error("css.toColor: Unsupported css format");if(e.fillStyle=n,e.fillStyle=r,typeof e.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(e.fillRect(0,0,1,1),[Un,Vn,Fn,un]=e.getImageData(0,0,1,1).data,un!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:Cn.toRgba(Un,Vn,Fn,un),css:r}}t.toColor=s})(ln||={});var ys;(t=>{function e(s){return n(s>>16&255,s>>8&255,s&255)}t.relativeLuminance=e;function n(s,r,a){let o=s/255,c=r/255,h=a/255,d=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),g=c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4),m=h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4);return d*.2126+g*.7152+m*.0722}t.relativeLuminance2=n})(ys||={});var e0;(t=>{function e(o,c){if(un=(c&255)/255,un===1)return c;let h=c>>24&255,d=c>>16&255,g=c>>8&255,m=o>>24&255,v=o>>16&255,y=o>>8&255;return Un=m+Math.round((h-m)*un),Vn=v+Math.round((d-v)*un),Fn=y+Math.round((g-y)*un),Cn.toRgba(Un,Vn,Fn)}t.blend=e;function n(o,c,h){let d=ys.relativeLuminance(o>>8),g=ys.relativeLuminance(c>>8);if(Wi(d,g)<h){if(g<d){let y=s(o,c,h),x=Wi(d,ys.relativeLuminance(y>>8));if(x<h){let w=r(o,c,h),S=Wi(d,ys.relativeLuminance(w>>8));return x>S?y:w}return y}let m=r(o,c,h),v=Wi(d,ys.relativeLuminance(m>>8));if(v<h){let y=s(o,c,h),x=Wi(d,ys.relativeLuminance(y>>8));return v>x?m:y}return m}}t.ensureContrastRatio=n;function s(o,c,h){let d=o>>24&255,g=o>>16&255,m=o>>8&255,v=c>>24&255,y=c>>16&255,x=c>>8&255,w=Wi(ys.relativeLuminance2(v,y,x),ys.relativeLuminance2(d,g,m));for(;w<h&&(v>0||y>0||x>0);)v-=Math.max(0,Math.ceil(v*.1)),y-=Math.max(0,Math.ceil(y*.1)),x-=Math.max(0,Math.ceil(x*.1)),w=Wi(ys.relativeLuminance2(v,y,x),ys.relativeLuminance2(d,g,m));return(v<<24|y<<16|x<<8|255)>>>0}t.reduceLuminance=s;function r(o,c,h){let d=o>>24&255,g=o>>16&255,m=o>>8&255,v=c>>24&255,y=c>>16&255,x=c>>8&255,w=Wi(ys.relativeLuminance2(v,y,x),ys.relativeLuminance2(d,g,m));for(;w<h&&(v<255||y<255||x<255);)v=Math.min(255,v+Math.ceil((255-v)*.1)),y=Math.min(255,y+Math.ceil((255-y)*.1)),x=Math.min(255,x+Math.ceil((255-x)*.1)),w=Wi(ys.relativeLuminance2(v,y,x),ys.relativeLuminance2(d,g,m));return(v<<24|y<<16|x<<8|255)>>>0}t.increaseLuminance=r;function a(o){return[o>>24&255,o>>16&255,o>>8&255,o&255]}t.toChannels=a})(e0||={});function Ml(t){let e=t.toString(16);return e.length<2?"0"+e:e}function Wi(t,e){return t<e?(e+.05)/(t+.05):(t+.05)/(e+.05)}var aQ=class extends If{constructor(t,e,n){super(),this.content=0,this.combinedData="",this.fg=t.fg,this.bg=t.bg,this.combinedData=e,this._width=n}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(t){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},ag=class{constructor(t){this._bufferService=t,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new Mr}register(t){let e={id:this._nextCharacterJoinerId++,handler:t};return this._characterJoiners.push(e),e.id}deregister(t){for(let e=0;e<this._characterJoiners.length;e++)if(this._characterJoiners[e].id===t)return this._characterJoiners.splice(e,1),!0;return!1}getJoinedCharacters(t){if(this._characterJoiners.length===0)return[];let e=this._bufferService.buffer.lines.get(t);if(!e||e.length===0)return[];let n=[],s=e.translateToString(!0),r=0,a=0,o=0,c=e.getFg(0),h=e.getBg(0);for(let d=0;d<e.getTrimmedLength();d++)if(e.loadCell(d,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==c||this._workCell.bg!==h){if(d-r>1){let g=this._getJoinedRanges(s,o,a,e,r);for(let m=0;m<g.length;m++)n.push(g[m])}r=d,o=a,c=this._workCell.fg,h=this._workCell.bg}a+=this._workCell.getChars().length||Qa.length}if(this._bufferService.cols-r>1){let d=this._getJoinedRanges(s,o,a,e,r);for(let g=0;g<d.length;g++)n.push(d[g])}return n}_getJoinedRanges(t,e,n,s,r){let a=t.substring(e,n),o=[];try{o=this._characterJoiners[0].handler(a)}catch(c){console.error(c)}for(let c=1;c<this._characterJoiners.length;c++)try{let h=this._characterJoiners[c].handler(a);for(let d=0;d<h.length;d++)ag._mergeRanges(o,h[d])}catch(h){console.error(h)}return this._stringRangesToCellRanges(o,s,r),o}_stringRangesToCellRanges(t,e,n){let s=0,r=!1,a=0,o=t[s];if(o){for(let c=n;c<this._bufferService.cols;c++){let h=e.getWidth(c),d=e.getString(c).length||Qa.length;if(h!==0){if(!r&&o[0]<=a&&(o[0]=c,r=!0),o[1]<=a){if(o[1]=c,o=t[++s],!o)break;o[0]<=a?(o[0]=c,r=!0):r=!1}a+=d}}o&&(o[1]=this._bufferService.cols)}}static _mergeRanges(t,e){let n=!1;for(let s=0;s<t.length;s++){let r=t[s];if(n){if(e[1]<=r[0])return t[s-1][1]=e[1],t;if(e[1]<=r[1])return t[s-1][1]=Math.max(e[1],r[1]),t.splice(s,1),t;t.splice(s,1),s--}else{if(e[1]<=r[0])return t.splice(s,0,e),t;if(e[1]<=r[1])return r[0]=Math.min(e[0],r[0]),t;e[0]<r[1]&&(r[0]=Math.min(e[0],r[0]),n=!0);continue}}return n?t[t.length-1][1]=e[1]:t.push(e),t}};ag=hn([Le(0,Ns)],ag);function lQ(t){return 57508<=t&&t<=57558}function oQ(t){return 9472<=t&&t<=9631}function cQ(t){return lQ(t)||oQ(t)}function uQ(){return{css:{canvas:km(),cell:km()},device:{canvas:km(),cell:km(),char:{width:0,height:0,left:0,top:0}}}}function km(){return{width:0,height:0}}var Lw=class{constructor(t,e,n,s,r,a,o){this._document=t,this._characterJoinerService=e,this._optionsService=n,this._coreBrowserService=s,this._coreService=r,this._decorationService=a,this._themeService=o,this._workCell=new Mr,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(t,e,n){this._selectionStart=t,this._selectionEnd=e,this._columnSelectMode=n}createRow(t,e,n,s,r,a,o,c,h,d,g){let m=[],v=this._characterJoinerService.getJoinedCharacters(e),y=this._themeService.colors,x=t.getNoBgTrimmedLength();n&&x<a+1&&(x=a+1);let w,S=0,k="",C=0,E=0,B=0,D=0,j=!1,$=0,H=!1,Y=0,z=0,J=[],F=d!==-1&&g!==-1;for(let K=0;K<x;K++){t.loadCell(K,this._workCell);let Q=this._workCell.getWidth();if(Q===0)continue;let q=!1,L=K>=z,G=K,U=this._workCell;if(v.length>0&&K===v[0][0]&&L){let Te=v.shift(),tt=this._isCellInSelection(Te[0],e);for(C=Te[0]+1;C<Te[1];C++)L&&=tt===this._isCellInSelection(C,e);L&&=!n||a<Te[0]||a>=Te[1],L?(q=!0,U=new aQ(this._workCell,t.translateToString(!0,Te[0],Te[1]),Te[1]-Te[0]),G=Te[1]-1,Q=U.getWidth()):z=Te[1]}let M=this._isCellInSelection(K,e),R=n&&K===a,O=F&&K>=d&&K<=g,V=!1;this._decorationService.forEachDecorationAtCell(K,e,void 0,Te=>{V=!0});let A=U.getChars()||Qa;if(A===" "&&(U.isUnderline()||U.isOverline())&&(A=""),Y=Q*c-h.get(A,U.isBold(),U.isItalic()),!w)w=this._document.createElement("span");else if(S&&(M&&H||!M&&!H&&U.bg===E)&&(M&&H&&y.selectionForeground||U.fg===B)&&U.extended.ext===D&&O===j&&Y===$&&!R&&!q&&!V&&L){U.isInvisible()?k+=Qa:k+=A,S++;continue}else S&&(w.textContent=k),w=this._document.createElement("span"),S=0,k="";if(E=U.bg,B=U.fg,D=U.extended.ext,j=O,$=Y,H=M,q&&a>=K&&a<=G&&(a=K),!this._coreService.isCursorHidden&&R&&this._coreService.isCursorInitialized){if(J.push("xterm-cursor"),this._coreBrowserService.isFocused)o&&J.push("xterm-cursor-blink"),J.push(s==="bar"?"xterm-cursor-bar":s==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(r)switch(r){case"outline":J.push("xterm-cursor-outline");break;case"block":J.push("xterm-cursor-block");break;case"bar":J.push("xterm-cursor-bar");break;case"underline":J.push("xterm-cursor-underline");break}}if(U.isBold()&&J.push("xterm-bold"),U.isItalic()&&J.push("xterm-italic"),U.isDim()&&J.push("xterm-dim"),U.isInvisible()?k=Qa:k=U.getChars()||Qa,U.isUnderline()&&(J.push(`xterm-underline-${U.extended.underlineStyle}`),k===" "&&(k=""),!U.isUnderlineColorDefault()))if(U.isUnderlineColorRGB())w.style.textDecorationColor=`rgb(${If.toColorRGB(U.getUnderlineColor()).join(",")})`;else{let Te=U.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&U.isBold()&&Te<8&&(Te+=8),w.style.textDecorationColor=y.ansi[Te].css}U.isOverline()&&(J.push("xterm-overline"),k===" "&&(k="")),U.isStrikethrough()&&J.push("xterm-strikethrough"),O&&(w.style.textDecoration="underline");let Z=U.getFgColor(),oe=U.getFgColorMode(),te=U.getBgColor(),de=U.getBgColorMode(),xe=!!U.isInverse();if(xe){let Te=Z;Z=te,te=Te;let tt=oe;oe=de,de=tt}let Ce,et,Ne=!1;this._decorationService.forEachDecorationAtCell(K,e,void 0,Te=>{Te.options.layer!=="top"&&Ne||(Te.backgroundColorRGB&&(de=50331648,te=Te.backgroundColorRGB.rgba>>8&16777215,Ce=Te.backgroundColorRGB),Te.foregroundColorRGB&&(oe=50331648,Z=Te.foregroundColorRGB.rgba>>8&16777215,et=Te.foregroundColorRGB),Ne=Te.options.layer==="top")}),!Ne&&M&&(Ce=this._coreBrowserService.isFocused?y.selectionBackgroundOpaque:y.selectionInactiveBackgroundOpaque,te=Ce.rgba>>8&16777215,de=50331648,Ne=!0,y.selectionForeground&&(oe=50331648,Z=y.selectionForeground.rgba>>8&16777215,et=y.selectionForeground)),Ne&&J.push("xterm-decoration-top");let Ge;switch(de){case 16777216:case 33554432:Ge=y.ansi[te],J.push(`xterm-bg-${te}`);break;case 50331648:Ge=Cn.toColor(te>>16,te>>8&255,te&255),this._addStyle(w,`background-color:#${rj((te>>>0).toString(16),"0",6)}`);break;default:xe?(Ge=y.foreground,J.push("xterm-bg-257")):Ge=y.background}switch(Ce||U.isDim()&&(Ce=Jt.multiplyOpacity(Ge,.5)),oe){case 16777216:case 33554432:U.isBold()&&Z<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Z+=8),this._applyMinimumContrast(w,Ge,y.ansi[Z],U,Ce,void 0)||J.push(`xterm-fg-${Z}`);break;case 50331648:let Te=Cn.toColor(Z>>16&255,Z>>8&255,Z&255);this._applyMinimumContrast(w,Ge,Te,U,Ce,et)||this._addStyle(w,`color:#${rj(Z.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(w,Ge,y.foreground,U,Ce,et)||xe&&J.push("xterm-fg-257")}J.length&&(w.className=J.join(" "),J.length=0),!R&&!q&&!V&&L?S++:w.textContent=k,Y!==this.defaultSpacing&&(w.style.letterSpacing=`${Y}px`),m.push(w),K=G}return w&&S&&(w.textContent=k),m}_applyMinimumContrast(t,e,n,s,r,a){if(this._optionsService.rawOptions.minimumContrastRatio===1||cQ(s.getCode()))return!1;let o=this._getContrastCache(s),c;if(!r&&!a&&(c=o.getColor(e.rgba,n.rgba)),c===void 0){let h=this._optionsService.rawOptions.minimumContrastRatio/(s.isDim()?2:1);c=Jt.ensureContrastRatio(r||e,a||n,h),o.setColor((r||e).rgba,(a||n).rgba,c??null)}return c?(this._addStyle(t,`color:${c.css}`),!0):!1}_getContrastCache(t){return t.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(t,e){t.setAttribute("style",`${t.getAttribute("style")||""}${e};`)}_isCellInSelection(t,e){let n=this._selectionStart,s=this._selectionEnd;return!n||!s?!1:this._columnSelectMode?n[0]<=s[0]?t>=n[0]&&e>=n[1]&&t<s[0]&&e<=s[1]:t<n[0]&&e>=n[1]&&t>=s[0]&&e<=s[1]:e>n[1]&&e<s[1]||n[1]===s[1]&&e===n[1]&&t>=n[0]&&t<s[0]||n[1]<s[1]&&e===s[1]&&t<s[0]||n[1]<s[1]&&e===n[1]&&t>=n[0]}};Lw=hn([Le(1,oM),Le(2,As),Le(3,fa),Le(4,Co),Le(5,Pf),Le(6,Nu)],Lw);function rj(t,e,n){for(;t.length<n;)t=e+t;return t}var hQ=class{constructor(t,e){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=t.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";let n=t.createElement("span");n.classList.add("xterm-char-measure-element");let s=t.createElement("span");s.classList.add("xterm-char-measure-element"),s.style.fontWeight="bold";let r=t.createElement("span");r.classList.add("xterm-char-measure-element"),r.style.fontStyle="italic";let a=t.createElement("span");a.classList.add("xterm-char-measure-element"),a.style.fontWeight="bold",a.style.fontStyle="italic",this._measureElements=[n,s,r,a],this._container.appendChild(n),this._container.appendChild(s),this._container.appendChild(r),this._container.appendChild(a),e.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(t,e,n,s){t===this._font&&e===this._fontSize&&n===this._weight&&s===this._weightBold||(this._font=t,this._fontSize=e,this._weight=n,this._weightBold=s,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${n}`,this._measureElements[1].style.fontWeight=`${s}`,this._measureElements[2].style.fontWeight=`${n}`,this._measureElements[3].style.fontWeight=`${s}`,this.clear())}get(t,e,n){let s=0;if(!e&&!n&&t.length===1&&(s=t.charCodeAt(0))<256){if(this._flat[s]!==-9999)return this._flat[s];let o=this._measure(t,0);return o>0&&(this._flat[s]=o),o}let r=t;e&&(r+="B"),n&&(r+="I");let a=this._holey.get(r);if(a===void 0){let o=0;e&&(o|=1),n&&(o|=2),a=this._measure(t,o),a>0&&this._holey.set(r,a)}return a}_measure(t,e){let n=this._measureElements[e];return n.textContent=t.repeat(32),n.offsetWidth/32}},dQ=class{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(t,e,n,s=!1){if(this.selectionStart=e,this.selectionEnd=n,!e||!n||e[0]===n[0]&&e[1]===n[1]){this.clear();return}let r=t.buffers.active.ydisp,a=e[1]-r,o=n[1]-r,c=Math.max(a,0),h=Math.min(o,t.rows-1);if(c>=t.rows||h<0){this.clear();return}this.hasSelection=!0,this.columnSelectMode=s,this.viewportStartRow=a,this.viewportEndRow=o,this.viewportCappedStartRow=c,this.viewportCappedEndRow=h,this.startCol=e[0],this.endCol=n[0]}isCellSelected(t,e,n){return this.hasSelection?(n-=t.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?e>=this.startCol&&n>=this.viewportCappedStartRow&&e<this.endCol&&n<=this.viewportCappedEndRow:e<this.startCol&&n>=this.viewportCappedStartRow&&e>=this.endCol&&n<=this.viewportCappedEndRow:n>this.viewportStartRow&&n<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&n===this.viewportStartRow&&e>=this.startCol&&e<this.endCol||this.viewportStartRow<this.viewportEndRow&&n===this.viewportEndRow&&e<this.endCol||this.viewportStartRow<this.viewportEndRow&&n===this.viewportStartRow&&e>=this.startCol):!1}};function fQ(){return new dQ}var e_="xterm-dom-renderer-owner-",Cr="xterm-rows",Cm="xterm-fg-",ij="xterm-bg-",Oh="xterm-focus",Nm="xterm-selection",pQ=1,Iw=class extends bt{constructor(t,e,n,s,r,a,o,c,h,d,g,m,v,y){super(),this._terminal=t,this._document=e,this._element=n,this._screenElement=s,this._viewportElement=r,this._helperContainer=a,this._linkifier2=o,this._charSizeService=h,this._optionsService=d,this._bufferService=g,this._coreService=m,this._coreBrowserService=v,this._themeService=y,this._terminalClass=pQ++,this._rowElements=[],this._selectionRenderModel=fQ(),this.onRequestRedraw=this._register(new Ee).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(Cr),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(Nm),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=uQ(),this._updateDimensions(),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._themeService.onChangeColors(x=>this._injectCss(x))),this._injectCss(this._themeService.colors),this._rowFactory=c.createInstance(Lw,document),this._element.classList.add(e_+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this._register(this._linkifier2.onShowLinkUnderline(x=>this._handleLinkHover(x))),this._register(this._linkifier2.onHideLinkUnderline(x=>this._handleLinkLeave(x))),this._register(nn(()=>{this._element.classList.remove(e_+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new hQ(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){let t=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*t,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*t),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/t),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/t),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let n of this._rowElements)n.style.width=`${this.dimensions.css.canvas.width}px`,n.style.height=`${this.dimensions.css.cell.height}px`,n.style.lineHeight=`${this.dimensions.css.cell.height}px`,n.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));let e=`${this._terminalSelector} .${Cr} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=e,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(t){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let e=`${this._terminalSelector} .${Cr} { pointer-events: none; color: ${t.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;e+=`${this._terminalSelector} .${Cr} .xterm-dim { color: ${Jt.multiplyOpacity(t.foreground,.5).css};}`,e+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;let n=`blink_underline_${this._terminalClass}`,s=`blink_bar_${this._terminalClass}`,r=`blink_block_${this._terminalClass}`;e+=`@keyframes ${n} { 50% {  border-bottom-style: hidden; }}`,e+=`@keyframes ${s} { 50% {  box-shadow: none; }}`,e+=`@keyframes ${r} { 0% {  background-color: ${t.cursor.css};  color: ${t.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${t.cursor.css}; }}`,e+=`${this._terminalSelector} .${Cr}.${Oh} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${n} 1s step-end infinite;}${this._terminalSelector} .${Cr}.${Oh} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${s} 1s step-end infinite;}${this._terminalSelector} .${Cr}.${Oh} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${r} 1s step-end infinite;}${this._terminalSelector} .${Cr} .xterm-cursor.xterm-cursor-block { background-color: ${t.cursor.css}; color: ${t.cursorAccent.css};}${this._terminalSelector} .${Cr} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${t.cursor.css} !important; color: ${t.cursorAccent.css} !important;}${this._terminalSelector} .${Cr} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${t.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${Cr} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${t.cursor.css} inset;}${this._terminalSelector} .${Cr} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${t.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,e+=`${this._terminalSelector} .${Nm} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${Nm} div { position: absolute; background-color: ${t.selectionBackgroundOpaque.css};}${this._terminalSelector} .${Nm} div { position: absolute; background-color: ${t.selectionInactiveBackgroundOpaque.css};}`;for(let[a,o]of t.ansi.entries())e+=`${this._terminalSelector} .${Cm}${a} { color: ${o.css}; }${this._terminalSelector} .${Cm}${a}.xterm-dim { color: ${Jt.multiplyOpacity(o,.5).css}; }${this._terminalSelector} .${ij}${a} { background-color: ${o.css}; }`;e+=`${this._terminalSelector} .${Cm}257 { color: ${Jt.opaque(t.background).css}; }${this._terminalSelector} .${Cm}257.xterm-dim { color: ${Jt.multiplyOpacity(Jt.opaque(t.background),.5).css}; }${this._terminalSelector} .${ij}257 { background-color: ${t.foreground.css}; }`,this._themeStyleElement.textContent=e}_setDefaultSpacing(){let t=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${t}px`,this._rowFactory.defaultSpacing=t}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(t,e){for(let n=this._rowElements.length;n<=e;n++){let s=this._document.createElement("div");this._rowContainer.appendChild(s),this._rowElements.push(s)}for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(t,e){this._refreshRowElements(t,e),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(Oh),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(Oh),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(t,e,n){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(t,e,n),this.renderRows(0,this._bufferService.rows-1),!t||!e||(this._selectionRenderModel.update(this._terminal,t,e,n),!this._selectionRenderModel.hasSelection))return;let s=this._selectionRenderModel.viewportStartRow,r=this._selectionRenderModel.viewportEndRow,a=this._selectionRenderModel.viewportCappedStartRow,o=this._selectionRenderModel.viewportCappedEndRow,c=this._document.createDocumentFragment();if(n){let h=t[0]>e[0];c.appendChild(this._createSelectionElement(a,h?e[0]:t[0],h?t[0]:e[0],o-a+1))}else{let h=s===a?t[0]:0,d=a===r?e[0]:this._bufferService.cols;c.appendChild(this._createSelectionElement(a,h,d));let g=o-a-1;if(c.appendChild(this._createSelectionElement(a+1,0,this._bufferService.cols,g)),a!==o){let m=r===o?e[0]:this._bufferService.cols;c.appendChild(this._createSelectionElement(o,0,m))}}this._selectionContainer.appendChild(c)}_createSelectionElement(t,e,n,s=1){let r=this._document.createElement("div"),a=e*this.dimensions.css.cell.width,o=this.dimensions.css.cell.width*(n-e);return a+o>this.dimensions.css.canvas.width&&(o=this.dimensions.css.canvas.width-a),r.style.height=`${s*this.dimensions.css.cell.height}px`,r.style.top=`${t*this.dimensions.css.cell.height}px`,r.style.left=`${a}px`,r.style.width=`${o}px`,r}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let t of this._rowElements)t.replaceChildren()}renderRows(t,e){let n=this._bufferService.buffer,s=n.ybase+n.y,r=Math.min(n.x,this._bufferService.cols-1),a=this._coreService.decPrivateModes.cursorBlink??this._optionsService.rawOptions.cursorBlink,o=this._coreService.decPrivateModes.cursorStyle??this._optionsService.rawOptions.cursorStyle,c=this._optionsService.rawOptions.cursorInactiveStyle;for(let h=t;h<=e;h++){let d=h+n.ydisp,g=this._rowElements[h],m=n.lines.get(d);if(!g||!m)break;g.replaceChildren(...this._rowFactory.createRow(m,d,d===s,o,c,r,a,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${e_}${this._terminalClass}`}_handleLinkHover(t){this._setCellUnderline(t.x1,t.x2,t.y1,t.y2,t.cols,!0)}_handleLinkLeave(t){this._setCellUnderline(t.x1,t.x2,t.y1,t.y2,t.cols,!1)}_setCellUnderline(t,e,n,s,r,a){n<0&&(t=0),s<0&&(e=0);let o=this._bufferService.rows-1;n=Math.max(Math.min(n,o),0),s=Math.max(Math.min(s,o),0),r=Math.min(r,this._bufferService.cols);let c=this._bufferService.buffer,h=c.ybase+c.y,d=Math.min(c.x,r-1),g=this._optionsService.rawOptions.cursorBlink,m=this._optionsService.rawOptions.cursorStyle,v=this._optionsService.rawOptions.cursorInactiveStyle;for(let y=n;y<=s;++y){let x=y+c.ydisp,w=this._rowElements[y],S=c.lines.get(x);if(!w||!S)break;w.replaceChildren(...this._rowFactory.createRow(S,x,x===h,m,v,d,g,this.dimensions.css.cell.width,this._widthCache,a?y===n?t:0:-1,a?(y===s?e:r)-1:-1))}}};Iw=hn([Le(7,W2),Le(8,jy),Le(9,As),Le(10,Ns),Le(11,Co),Le(12,fa),Le(13,Nu)],Iw);var Pw=class extends bt{constructor(t,e,n){super(),this._optionsService=n,this.width=0,this.height=0,this._onCharSizeChange=this._register(new Ee),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this._register(new gQ(this._optionsService))}catch{this._measureStrategy=this._register(new mQ(t,e,this._optionsService))}this._register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){let t=this._measureStrategy.measure();(t.width!==this.width||t.height!==this.height)&&(this.width=t.width,this.height=t.height,this._onCharSizeChange.fire())}};Pw=hn([Le(2,As)],Pw);var AM=class extends bt{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(t,e){t!==void 0&&t>0&&e!==void 0&&e>0&&(this._result.width=t,this._result.height=e)}},mQ=class extends AM{constructor(t,e,n){super(),this._document=t,this._parentElement=e,this._optionsService=n,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}},gQ=class extends AM{constructor(t){super(),this._optionsService=t,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");let e=this._ctx.measureText("W");if(!("width"in e&&"fontBoundingBoxAscent"in e&&"fontBoundingBoxDescent"in e))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;let t=this._ctx.measureText("W");return this._validateAndSet(t.width,t.fontBoundingBoxAscent+t.fontBoundingBoxDescent),this._result}},yQ=class extends bt{constructor(t,e,n){super(),this._textarea=t,this._window=e,this.mainDocument=n,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=this._register(new vQ(this._window)),this._onDprChange=this._register(new Ee),this.onDprChange=this._onDprChange.event,this._onWindowChange=this._register(new Ee),this.onWindowChange=this._onWindowChange.event,this._register(this.onWindowChange(s=>this._screenDprMonitor.setWindow(s))),this._register(ts.forward(this._screenDprMonitor.onDprChange,this._onDprChange)),this._register(st(this._textarea,"focus",()=>this._isFocused=!0)),this._register(st(this._textarea,"blur",()=>this._isFocused=!1))}get window(){return this._window}set window(t){this._window!==t&&(this._window=t,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}},vQ=class extends bt{constructor(t){super(),this._parentWindow=t,this._windowResizeListener=this._register(new ru),this._onDprChange=this._register(new Ee),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this._register(nn(()=>this.clearListener()))}setWindow(t){this._parentWindow=t,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=st(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){!this._resolutionMediaMatchList||!this._outerListener||(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}},bQ=class extends bt{constructor(){super(),this.linkProviders=[],this._register(nn(()=>this.linkProviders.length=0))}registerLinkProvider(t){return this.linkProviders.push(t),{dispose:()=>{let e=this.linkProviders.indexOf(t);e!==-1&&this.linkProviders.splice(e,1)}}}};function ek(t,e,n){let s=n.getBoundingClientRect(),r=t.getComputedStyle(n),a=parseInt(r.getPropertyValue("padding-left")),o=parseInt(r.getPropertyValue("padding-top"));return[e.clientX-s.left-a,e.clientY-s.top-o]}function _Q(t,e,n,s,r,a,o,c,h){if(!a)return;let d=ek(t,e,n);if(d)return d[0]=Math.ceil((d[0]+(h?o/2:0))/o),d[1]=Math.ceil(d[1]/c),d[0]=Math.min(Math.max(d[0],1),s+(h?1:0)),d[1]=Math.min(Math.max(d[1],1),r),d}var zw=class{constructor(t,e){this._renderService=t,this._charSizeService=e}getCoords(t,e,n,s,r){return _Q(window,t,e,n,s,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,r)}getMouseReportCoords(t,e){let n=ek(window,t,e);if(this._charSizeService.hasValidSize)return n[0]=Math.min(Math.max(n[0],0),this._renderService.dimensions.css.canvas.width-1),n[1]=Math.min(Math.max(n[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(n[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(n[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(n[0]),y:Math.floor(n[1])}}};zw=hn([Le(0,pa),Le(1,jy)],zw);var xQ=class{constructor(t,e){this._renderCallback=t,this._coreBrowserService=e,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(t){return this._refreshCallbacks.push(t),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(t,e,n){this._rowCount=n,t=t!==void 0?t:0,e=e!==void 0?e:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,t):t,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,e):e,!this._animationFrame&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0){this._runRefreshCallbacks();return}let t=Math.max(this._rowStart,0),e=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(t,e),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let t of this._refreshCallbacks)t(0);this._refreshCallbacks=[]}},EM={};RX(EM,{getSafariVersion:()=>SQ,isChromeOS:()=>OM,isFirefox:()=>jM,isIpad:()=>kQ,isIphone:()=>CQ,isLegacyEdge:()=>wQ,isLinux:()=>tk,isMac:()=>lg,isNode:()=>Ty,isSafari:()=>TM,isWindows:()=>RM});var Ty=typeof process<"u"&&"title"in process,zf=Ty?"node":navigator.userAgent,$f=Ty?"node":navigator.platform,jM=zf.includes("Firefox"),wQ=zf.includes("Edge"),TM=/^((?!chrome|android).)*safari/i.test(zf);function SQ(){if(!TM)return 0;let t=zf.match(/Version\/(\d+)/);return t===null||t.length<2?0:parseInt(t[1])}var lg=["Macintosh","MacIntel","MacPPC","Mac68K"].includes($f),kQ=$f==="iPad",CQ=$f==="iPhone",RM=["Windows","Win16","Win32","WinCE"].includes($f),tk=$f.indexOf("Linux")>=0,OM=/\bCrOS\b/.test(zf),BM=class{constructor(){this._tasks=[],this._i=0}enqueue(t){this._tasks.push(t),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(t){this._idleCallback=void 0;let e=0,n=0,s=t.timeRemaining(),r=0;for(;this._i<this._tasks.length;){if(e=performance.now(),this._tasks[this._i]()||this._i++,e=Math.max(1,performance.now()-e),n=Math.max(e,n),r=t.timeRemaining(),n*1.5>r){s-e<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(s-e))}ms`),this._start();return}s=r}this.clear()}},NQ=class extends BM{_requestCallback(t){return setTimeout(()=>t(this._createDeadline(16)))}_cancelCallback(t){clearTimeout(t)}_createDeadline(t){let e=performance.now()+t;return{timeRemaining:()=>Math.max(0,e-performance.now())}}},AQ=class extends BM{_requestCallback(t){return requestIdleCallback(t)}_cancelCallback(t){cancelIdleCallback(t)}},og=!Ty&&"requestIdleCallback"in window?AQ:NQ,EQ=class{constructor(){this._queue=new og}set(t){this._queue.clear(),this._queue.enqueue(t)}flush(){this._queue.flush()}},$w=class extends bt{constructor(t,e,n,s,r,a,o,c,h){super(),this._rowCount=t,this._optionsService=n,this._charSizeService=s,this._coreService=r,this._coreBrowserService=c,this._renderer=this._register(new ru),this._pausedResizeTask=new EQ,this._observerDisposable=this._register(new ru),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this._register(new Ee),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this._register(new Ee),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this._register(new Ee),this.onRender=this._onRender.event,this._onRefreshRequest=this._register(new Ee),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new xQ((d,g)=>this._renderRows(d,g),this._coreBrowserService),this._register(this._renderDebouncer),this._syncOutputHandler=new jQ(this._coreBrowserService,this._coreService,()=>this._fullRefresh()),this._register(nn(()=>this._syncOutputHandler.dispose())),this._register(this._coreBrowserService.onDprChange(()=>this.handleDevicePixelRatioChange())),this._register(o.onResize(()=>this._fullRefresh())),this._register(o.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this._register(a.onDecorationRegistered(()=>this._fullRefresh())),this._register(a.onDecorationRemoved(()=>this._fullRefresh())),this._register(this._optionsService.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(o.cols,o.rows),this._fullRefresh()})),this._register(this._optionsService.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(o.buffer.y,o.buffer.y,!0))),this._register(h.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(this._coreBrowserService.window,e),this._register(this._coreBrowserService.onWindowChange(d=>this._registerIntersectionObserver(d,e)))}get dimensions(){return this._renderer.value.dimensions}_registerIntersectionObserver(t,e){if("IntersectionObserver"in t){let n=new t.IntersectionObserver(s=>this._handleIntersectionChange(s[s.length-1]),{threshold:0});n.observe(e),this._observerDisposable.value=nn(()=>n.disconnect())}}_handleIntersectionChange(t){this._isPaused=t.isIntersecting===void 0?t.intersectionRatio===0:!t.isIntersecting,!this._isPaused&&!this._charSizeService.hasValidSize&&this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(t,e,n=!1){if(this._isPaused){this._needsFullRefresh=!0;return}if(this._coreService.decPrivateModes.synchronizedOutput){this._syncOutputHandler.bufferRows(t,e);return}let s=this._syncOutputHandler.flush();s&&(t=Math.min(t,s.start),e=Math.max(e,s.end)),n||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(t,e,this._rowCount)}_renderRows(t,e){if(this._renderer.value){if(this._coreService.decPrivateModes.synchronizedOutput){this._syncOutputHandler.bufferRows(t,e);return}t=Math.min(t,this._rowCount-1),e=Math.min(e,this._rowCount-1),this._renderer.value.renderRows(t,e),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:t,end:e}),this._onRender.fire({start:t,end:e}),this._isNextRenderRedrawOnly=!0}}resize(t,e){this._rowCount=e,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(t){this._renderer.value=t,this._renderer.value&&(this._renderer.value.onRequestRedraw(e=>this.refreshRows(e.start,e.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(t){return this._renderDebouncer.addRefreshCallback(t)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(t,e){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(t,e)):this._renderer.value.handleResize(t,e),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(t,e,n){this._selectionState.start=t,this._selectionState.end=e,this._selectionState.columnSelectMode=n,this._renderer.value?.handleSelectionChanged(t,e,n)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};$w=hn([Le(2,As),Le(3,jy),Le(4,Co),Le(5,Pf),Le(6,Ns),Le(7,fa),Le(8,Nu)],$w);var jQ=class{constructor(t,e,n){this._coreBrowserService=t,this._coreService=e,this._onTimeout=n,this._start=0,this._end=0,this._isBuffering=!1}bufferRows(t,e){this._isBuffering?(this._start=Math.min(this._start,t),this._end=Math.max(this._end,e)):(this._start=t,this._end=e,this._isBuffering=!0),this._timeout===void 0&&(this._timeout=this._coreBrowserService.window.setTimeout(()=>{this._timeout=void 0,this._coreService.decPrivateModes.synchronizedOutput=!1,this._onTimeout()},1e3))}flush(){if(this._timeout!==void 0&&(this._coreBrowserService.window.clearTimeout(this._timeout),this._timeout=void 0),!this._isBuffering)return;let t={start:this._start,end:this._end};return this._isBuffering=!1,t}dispose(){this._timeout!==void 0&&(this._coreBrowserService.window.clearTimeout(this._timeout),this._timeout=void 0)}};function TQ(t,e,n,s){let r=n.buffer.x,a=n.buffer.y;if(!n.buffer.hasScrollback)return BQ(r,a,t,e,n,s)+Ry(a,e,n,s)+MQ(r,a,t,e,n,s);let o;if(a===e)return o=r>t?"D":"C",of(Math.abs(r-t),lf(o,s));o=a>e?"D":"C";let c=Math.abs(a-e),h=OQ(a>e?t:r,n)+(c-1)*n.cols+1+RQ(a>e?r:t);return of(h,lf(o,s))}function RQ(t,e){return t-1}function OQ(t,e){return e.cols-t}function BQ(t,e,n,s,r,a){return Ry(e,s,r,a).length===0?"":of(DM(t,e,t,e-go(e,r),!1,r).length,lf("D",a))}function Ry(t,e,n,s){let r=t-go(t,n),a=e-go(e,n),o=Math.abs(r-a)-DQ(t,e,n);return of(o,lf(MM(t,e),s))}function MQ(t,e,n,s,r,a){let o;Ry(e,s,r,a).length>0?o=s-go(s,r):o=e;let c=s,h=LQ(t,e,n,s,r,a);return of(DM(t,o,n,c,h==="C",r).length,lf(h,a))}function DQ(t,e,n){let s=0,r=t-go(t,n),a=e-go(e,n);for(let o=0;o<Math.abs(r-a);o++){let c=MM(t,e)==="A"?-1:1;n.buffer.lines.get(r+c*o)?.isWrapped&&s++}return s}function go(t,e){let n=0,s=e.buffer.lines.get(t),r=s?.isWrapped;for(;r&&t>=0&&t<e.rows;)n++,s=e.buffer.lines.get(--t),r=s?.isWrapped;return n}function LQ(t,e,n,s,r,a){let o;return Ry(n,s,r,a).length>0?o=s-go(s,r):o=e,t<n&&o<=s||t>=n&&o<s?"C":"D"}function MM(t,e){return t>e?"A":"B"}function DM(t,e,n,s,r,a){let o=t,c=e,h="";for(;(o!==n||c!==s)&&c>=0&&c<a.buffer.lines.length;)o+=r?1:-1,r&&o>a.cols-1?(h+=a.buffer.translateBufferLineToString(c,!1,t,o),o=0,t=0,c++):!r&&o<0&&(h+=a.buffer.translateBufferLineToString(c,!1,0,t+1),o=a.cols-1,t=o,c--);return h+a.buffer.translateBufferLineToString(c,!1,t,o)}function lf(t,e){let n=e?"O":"[";return ve.ESC+n+t}function of(t,e){t=Math.floor(t);let n="";for(let s=0;s<t;s++)n+=e;return n}var IQ=class{constructor(t){this._bufferService=t,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:!this.selectionEnd||!this.selectionStart?this.selectionStart:this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){let t=this.selectionStart[0]+this.selectionStartLength;return t>this._bufferService.cols?t%this._bufferService.cols===0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(t/this._bufferService.cols)-1]:[t%this._bufferService.cols,this.selectionStart[1]+Math.floor(t/this._bufferService.cols)]:[t,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){let t=this.selectionStart[0]+this.selectionStartLength;return t>this._bufferService.cols?[t%this._bufferService.cols,this.selectionStart[1]+Math.floor(t/this._bufferService.cols)]:[Math.max(t,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){let t=this.selectionStart,e=this.selectionEnd;return!t||!e?!1:t[1]>e[1]||t[1]===e[1]&&t[0]>e[0]}handleTrim(t){return this.selectionStart&&(this.selectionStart[1]-=t),this.selectionEnd&&(this.selectionEnd[1]-=t),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}};function aj(t,e){if(t.start.y>t.end.y)throw new Error(`Buffer range end (${t.end.x}, ${t.end.y}) cannot be before start (${t.start.x}, ${t.start.y})`);return e*(t.end.y-t.start.y)+(t.end.x-t.start.x+1)}var t_=50,PQ=15,zQ=50,$Q=500,HQ="",UQ=new RegExp(HQ,"g"),Hw=class extends bt{constructor(t,e,n,s,r,a,o,c,h){super(),this._element=t,this._screenElement=e,this._linkifier=n,this._bufferService=s,this._coreService=r,this._mouseService=a,this._optionsService=o,this._renderService=c,this._coreBrowserService=h,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new Mr,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this._register(new Ee),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this._register(new Ee),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this._register(new Ee),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this._register(new Ee),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=d=>this._handleMouseMove(d),this._mouseUpListener=d=>this._handleMouseUp(d),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(d=>this._handleTrim(d)),this._register(this._bufferService.buffers.onBufferActivate(d=>this._handleBufferActivate(d))),this.enable(),this._model=new IQ(this._bufferService),this._activeSelectionMode=0,this._register(nn(()=>{this._removeMouseDownListeners()})),this._register(this._bufferService.onResize(d=>{d.rowsChanged&&this.clearSelection()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){let t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;return!t||!e?!1:t[0]!==e[0]||t[1]!==e[1]}get selectionText(){let t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;if(!t||!e)return"";let n=this._bufferService.buffer,s=[];if(this._activeSelectionMode===3){if(t[0]===e[0])return"";let r=t[0]<e[0]?t[0]:e[0],a=t[0]<e[0]?e[0]:t[0];for(let o=t[1];o<=e[1];o++){let c=n.translateBufferLineToString(o,!0,r,a);s.push(c)}}else{let r=t[1]===e[1]?e[0]:void 0;s.push(n.translateBufferLineToString(t[1],!0,t[0],r));for(let a=t[1]+1;a<=e[1]-1;a++){let o=n.lines.get(a),c=n.translateBufferLineToString(a,!0);o?.isWrapped?s[s.length-1]+=c:s.push(c)}if(t[1]!==e[1]){let a=n.lines.get(e[1]),o=n.translateBufferLineToString(e[1],!0,0,e[0]);a&&a.isWrapped?s[s.length-1]+=o:s.push(o)}}return s.map(r=>r.replace(UQ," ")).join(RM?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(t){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),tk&&t&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(t){let e=this._getMouseBufferCoords(t),n=this._model.finalSelectionStart,s=this._model.finalSelectionEnd;return!n||!s||!e?!1:this._areCoordsInSelection(e,n,s)}isCellInSelection(t,e){let n=this._model.finalSelectionStart,s=this._model.finalSelectionEnd;return!n||!s?!1:this._areCoordsInSelection([t,e],n,s)}_areCoordsInSelection(t,e,n){return t[1]>e[1]&&t[1]<n[1]||e[1]===n[1]&&t[1]===e[1]&&t[0]>=e[0]&&t[0]<n[0]||e[1]<n[1]&&t[1]===n[1]&&t[0]<n[0]||e[1]<n[1]&&t[1]===e[1]&&t[0]>=e[0]}_selectWordAtCursor(t,e){let n=this._linkifier.currentLink?.link?.range;if(n)return this._model.selectionStart=[n.start.x-1,n.start.y-1],this._model.selectionStartLength=aj(n,this._bufferService.cols),this._model.selectionEnd=void 0,!0;let s=this._getMouseBufferCoords(t);return s?(this._selectWordAt(s,e),this._model.selectionEnd=void 0,!0):!1}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(t,e){this._model.clearSelection(),t=Math.max(t,0),e=Math.min(e,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,t],this._model.selectionEnd=[this._bufferService.cols,e],this.refresh(),this._onSelectionChange.fire()}_handleTrim(t){this._model.handleTrim(t)&&this.refresh()}_getMouseBufferCoords(t){let e=this._mouseService.getCoords(t,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(e)return e[0]--,e[1]--,e[1]+=this._bufferService.buffer.ydisp,e}_getMouseEventScrollAmount(t){let e=ek(this._coreBrowserService.window,t,this._screenElement)[1],n=this._renderService.dimensions.css.canvas.height;return e>=0&&e<=n?0:(e>n&&(e-=n),e=Math.min(Math.max(e,-t_),t_),e/=t_,e/Math.abs(e)+Math.round(e*(PQ-1)))}shouldForceSelection(t){return lg?t.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:t.shiftKey}handleMouseDown(t){if(this._mouseDownTimeStamp=t.timeStamp,!(t.button===2&&this.hasSelection)&&t.button===0){if(!this._enabled){if(!this.shouldForceSelection(t))return;t.stopPropagation()}t.preventDefault(),this._dragScrollAmount=0,this._enabled&&t.shiftKey?this._handleIncrementalClick(t):t.detail===1?this._handleSingleClick(t):t.detail===2?this._handleDoubleClick(t):t.detail===3&&this._handleTripleClick(t),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),zQ)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(t){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(t))}_handleSingleClick(t){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(t)?3:0,this._model.selectionStart=this._getMouseBufferCoords(t),!this._model.selectionStart)return;this._model.selectionEnd=void 0;let e=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);e&&e.length!==this._model.selectionStart[0]&&e.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(t){this._selectWordAtCursor(t,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(t){let e=this._getMouseBufferCoords(t);e&&(this._activeSelectionMode=2,this._selectLineAt(e[1]))}shouldColumnSelect(t){return t.altKey&&!(lg&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(t){if(t.stopImmediatePropagation(),!this._model.selectionStart)return;let e=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(t),!this._model.selectionEnd){this.refresh(!0);return}this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(t),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));let n=this._bufferService.buffer;if(this._model.selectionEnd[1]<n.lines.length){let s=n.lines.get(this._model.selectionEnd[1]);s&&s.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}(!e||e[0]!==this._model.selectionEnd[0]||e[1]!==this._model.selectionEnd[1])&&this.refresh(!0)}_dragScroll(){if(!(!this._model.selectionEnd||!this._model.selectionStart)&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});let t=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(t.ydisp+this._bufferService.rows,t.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=t.ydisp),this.refresh()}}_handleMouseUp(t){let e=t.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&e<$Q&&t.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){let n=this._mouseService.getCoords(t,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(n&&n[0]!==void 0&&n[1]!==void 0){let s=TQ(n[0]-1,n[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(s,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){let t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd,n=!!t&&!!e&&(t[0]!==e[0]||t[1]!==e[1]);if(!n){this._oldHasSelection&&this._fireOnSelectionChange(t,e,n);return}!t||!e||(!this._oldSelectionStart||!this._oldSelectionEnd||t[0]!==this._oldSelectionStart[0]||t[1]!==this._oldSelectionStart[1]||e[0]!==this._oldSelectionEnd[0]||e[1]!==this._oldSelectionEnd[1])&&this._fireOnSelectionChange(t,e,n)}_fireOnSelectionChange(t,e,n){this._oldSelectionStart=t,this._oldSelectionEnd=e,this._oldHasSelection=n,this._onSelectionChange.fire()}_handleBufferActivate(t){this.clearSelection(),this._trimListener.dispose(),this._trimListener=t.activeBuffer.lines.onTrim(e=>this._handleTrim(e))}_convertViewportColToCharacterIndex(t,e){let n=e;for(let s=0;e>=s;s++){let r=t.loadCell(s,this._workCell).getChars().length;this._workCell.getWidth()===0?n--:r>1&&e!==s&&(n+=r-1)}return n}setSelection(t,e,n){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[t,e],this._model.selectionStartLength=n,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(t){this._isClickInSelection(t)||(this._selectWordAtCursor(t,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(t,e,n=!0,s=!0){if(t[0]>=this._bufferService.cols)return;let r=this._bufferService.buffer,a=r.lines.get(t[1]);if(!a)return;let o=r.translateBufferLineToString(t[1],!1),c=this._convertViewportColToCharacterIndex(a,t[0]),h=c,d=t[0]-c,g=0,m=0,v=0,y=0;if(o.charAt(c)===" "){for(;c>0&&o.charAt(c-1)===" ";)c--;for(;h<o.length&&o.charAt(h+1)===" ";)h++}else{let S=t[0],k=t[0];a.getWidth(S)===0&&(g++,S--),a.getWidth(k)===2&&(m++,k++);let C=a.getString(k).length;for(C>1&&(y+=C-1,h+=C-1);S>0&&c>0&&!this._isCharWordSeparator(a.loadCell(S-1,this._workCell));){a.loadCell(S-1,this._workCell);let E=this._workCell.getChars().length;this._workCell.getWidth()===0?(g++,S--):E>1&&(v+=E-1,c-=E-1),c--,S--}for(;k<a.length&&h+1<o.length&&!this._isCharWordSeparator(a.loadCell(k+1,this._workCell));){a.loadCell(k+1,this._workCell);let E=this._workCell.getChars().length;this._workCell.getWidth()===2?(m++,k++):E>1&&(y+=E-1,h+=E-1),h++,k++}}h++;let x=c+d-g+v,w=Math.min(this._bufferService.cols,h-c+g+m-v-y);if(!(!e&&o.slice(c,h).trim()==="")){if(n&&x===0&&a.getCodePoint(0)!==32){let S=r.lines.get(t[1]-1);if(S&&a.isWrapped&&S.getCodePoint(this._bufferService.cols-1)!==32){let k=this._getWordAt([this._bufferService.cols-1,t[1]-1],!1,!0,!1);if(k){let C=this._bufferService.cols-k.start;x-=C,w+=C}}}if(s&&x+w===this._bufferService.cols&&a.getCodePoint(this._bufferService.cols-1)!==32){let S=r.lines.get(t[1]+1);if(S?.isWrapped&&S.getCodePoint(0)!==32){let k=this._getWordAt([0,t[1]+1],!1,!1,!0);k&&(w+=k.length)}}return{start:x,length:w}}}_selectWordAt(t,e){let n=this._getWordAt(t,e);if(n){for(;n.start<0;)n.start+=this._bufferService.cols,t[1]--;this._model.selectionStart=[n.start,t[1]],this._model.selectionStartLength=n.length}}_selectToWordAt(t){let e=this._getWordAt(t,!0);if(e){let n=t[1];for(;e.start<0;)e.start+=this._bufferService.cols,n--;if(!this._model.areSelectionValuesReversed())for(;e.start+e.length>this._bufferService.cols;)e.length-=this._bufferService.cols,n++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?e.start:e.start+e.length,n]}}_isCharWordSeparator(t){return t.getWidth()===0?!1:this._optionsService.rawOptions.wordSeparator.indexOf(t.getChars())>=0}_selectLineAt(t){let e=this._bufferService.buffer.getWrappedRangeForLine(t),n={start:{x:0,y:e.first},end:{x:this._bufferService.cols-1,y:e.last}};this._model.selectionStart=[0,e.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=aj(n,this._bufferService.cols)}};Hw=hn([Le(3,Ns),Le(4,Co),Le(5,K2),Le(6,As),Le(7,pa),Le(8,fa)],Hw);var lj=class{constructor(){this._data={}}set(t,e,n){this._data[t]||(this._data[t]={}),this._data[t][e]=n}get(t,e){return this._data[t]?this._data[t][e]:void 0}clear(){this._data={}}},oj=class{constructor(){this._color=new lj,this._css=new lj}setCss(t,e,n){this._css.set(t,e,n)}getCss(t,e){return this._css.get(t,e)}setColor(t,e,n){this._color.set(t,e,n)}getColor(t,e){return this._color.get(t,e)}clear(){this._color.clear(),this._css.clear()}},Rn=Object.freeze((()=>{let t=[ln.toColor("#2e3436"),ln.toColor("#cc0000"),ln.toColor("#4e9a06"),ln.toColor("#c4a000"),ln.toColor("#3465a4"),ln.toColor("#75507b"),ln.toColor("#06989a"),ln.toColor("#d3d7cf"),ln.toColor("#555753"),ln.toColor("#ef2929"),ln.toColor("#8ae234"),ln.toColor("#fce94f"),ln.toColor("#729fcf"),ln.toColor("#ad7fa8"),ln.toColor("#34e2e2"),ln.toColor("#eeeeec")],e=[0,95,135,175,215,255];for(let n=0;n<216;n++){let s=e[n/36%6|0],r=e[n/6%6|0],a=e[n%6];t.push({css:Cn.toCss(s,r,a),rgba:Cn.toRgba(s,r,a)})}for(let n=0;n<24;n++){let s=8+n*10;t.push({css:Cn.toCss(s,s,s),rgba:Cn.toRgba(s,s,s)})}return t})()),Ll=ln.toColor("#ffffff"),pd=ln.toColor("#000000"),cj=ln.toColor("#ffffff"),uj=pd,Bh={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117},VQ=Ll,Uw=class extends bt{constructor(t){super(),this._optionsService=t,this._contrastCache=new oj,this._halfContrastCache=new oj,this._onChangeColors=this._register(new Ee),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:Ll,background:pd,cursor:cj,cursorAccent:uj,selectionForeground:void 0,selectionBackgroundTransparent:Bh,selectionBackgroundOpaque:Jt.blend(pd,Bh),selectionInactiveBackgroundTransparent:Bh,selectionInactiveBackgroundOpaque:Jt.blend(pd,Bh),scrollbarSliderBackground:Jt.opacity(Ll,.2),scrollbarSliderHoverBackground:Jt.opacity(Ll,.4),scrollbarSliderActiveBackground:Jt.opacity(Ll,.5),overviewRulerBorder:Ll,ansi:Rn.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this._register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this._register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(t={}){let e=this._colors;if(e.foreground=Ft(t.foreground,Ll),e.background=Ft(t.background,pd),e.cursor=Jt.blend(e.background,Ft(t.cursor,cj)),e.cursorAccent=Jt.blend(e.background,Ft(t.cursorAccent,uj)),e.selectionBackgroundTransparent=Ft(t.selectionBackground,Bh),e.selectionBackgroundOpaque=Jt.blend(e.background,e.selectionBackgroundTransparent),e.selectionInactiveBackgroundTransparent=Ft(t.selectionInactiveBackground,e.selectionBackgroundTransparent),e.selectionInactiveBackgroundOpaque=Jt.blend(e.background,e.selectionInactiveBackgroundTransparent),e.selectionForeground=t.selectionForeground?Ft(t.selectionForeground,sj):void 0,e.selectionForeground===sj&&(e.selectionForeground=void 0),Jt.isOpaque(e.selectionBackgroundTransparent)&&(e.selectionBackgroundTransparent=Jt.opacity(e.selectionBackgroundTransparent,.3)),Jt.isOpaque(e.selectionInactiveBackgroundTransparent)&&(e.selectionInactiveBackgroundTransparent=Jt.opacity(e.selectionInactiveBackgroundTransparent,.3)),e.scrollbarSliderBackground=Ft(t.scrollbarSliderBackground,Jt.opacity(e.foreground,.2)),e.scrollbarSliderHoverBackground=Ft(t.scrollbarSliderHoverBackground,Jt.opacity(e.foreground,.4)),e.scrollbarSliderActiveBackground=Ft(t.scrollbarSliderActiveBackground,Jt.opacity(e.foreground,.5)),e.overviewRulerBorder=Ft(t.overviewRulerBorder,VQ),e.ansi=Rn.slice(),e.ansi[0]=Ft(t.black,Rn[0]),e.ansi[1]=Ft(t.red,Rn[1]),e.ansi[2]=Ft(t.green,Rn[2]),e.ansi[3]=Ft(t.yellow,Rn[3]),e.ansi[4]=Ft(t.blue,Rn[4]),e.ansi[5]=Ft(t.magenta,Rn[5]),e.ansi[6]=Ft(t.cyan,Rn[6]),e.ansi[7]=Ft(t.white,Rn[7]),e.ansi[8]=Ft(t.brightBlack,Rn[8]),e.ansi[9]=Ft(t.brightRed,Rn[9]),e.ansi[10]=Ft(t.brightGreen,Rn[10]),e.ansi[11]=Ft(t.brightYellow,Rn[11]),e.ansi[12]=Ft(t.brightBlue,Rn[12]),e.ansi[13]=Ft(t.brightMagenta,Rn[13]),e.ansi[14]=Ft(t.brightCyan,Rn[14]),e.ansi[15]=Ft(t.brightWhite,Rn[15]),t.extendedAnsi){let n=Math.min(e.ansi.length-16,t.extendedAnsi.length);for(let s=0;s<n;s++)e.ansi[s+16]=Ft(t.extendedAnsi[s],Rn[s+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(t){this._restoreColor(t),this._onChangeColors.fire(this.colors)}_restoreColor(t){if(t===void 0){for(let e=0;e<this._restoreColors.ansi.length;++e)this._colors.ansi[e]=this._restoreColors.ansi[e];return}switch(t){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[t]=this._restoreColors.ansi[t]}}modifyColors(t){t(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};Uw=hn([Le(0,As)],Uw);function Ft(t,e){if(t!==void 0)try{return ln.toColor(t)}catch{}return e}var FQ=class{constructor(...t){this._entries=new Map;for(let[e,n]of t)this.set(e,n)}set(t,e){let n=this._entries.get(t);return this._entries.set(t,e),n}forEach(t){for(let[e,n]of this._entries.entries())t(e,n)}has(t){return this._entries.has(t)}get(t){return this._entries.get(t)}},qQ=class{constructor(){this._services=new FQ,this._services.set(W2,this)}setService(t,e){this._services.set(t,e)}getService(t){return this._services.get(t)}createInstance(t,...e){let n=PX(t).sort((a,o)=>a.index-o.index),s=[];for(let a of n){let o=this._services.get(a.id);if(!o)throw new Error(`[createInstance] ${t.name} depends on UNKNOWN service ${a.id._id}.`);s.push(o)}let r=n.length>0?n[0].index:e.length;if(e.length!==r)throw new Error(`[createInstance] First service dependency of ${t.name} at position ${r+1} conflicts with ${e.length} static arguments`);return new t(...e,...s)}},WQ={trace:0,debug:1,info:2,warn:3,error:4,off:5},KQ="xterm.js: ",Vw=class extends bt{constructor(t){super(),this._optionsService=t,this._logLevel=5,this._updateLogLevel(),this._register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}get logLevel(){return this._logLevel}_updateLogLevel(){this._logLevel=WQ[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(t){for(let e=0;e<t.length;e++)typeof t[e]=="function"&&(t[e]=t[e]())}_log(t,e,n){this._evalLazyOptionalParams(n),t.call(console,(this._optionsService.options.logger?"":KQ)+e,...n)}trace(t,...e){this._logLevel<=0&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,t,e)}debug(t,...e){this._logLevel<=1&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,t,e)}info(t,...e){this._logLevel<=2&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,t,e)}warn(t,...e){this._logLevel<=3&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,t,e)}error(t,...e){this._logLevel<=4&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,t,e)}};Vw=hn([Le(0,As)],Vw);var hj=class extends bt{constructor(t){super(),this._maxLength=t,this.onDeleteEmitter=this._register(new Ee),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this._register(new Ee),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this._register(new Ee),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(t){if(this._maxLength===t)return;let e=new Array(t);for(let n=0;n<Math.min(t,this.length);n++)e[n]=this._array[this._getCyclicIndex(n)];this._array=e,this._maxLength=t,this._startIndex=0}get length(){return this._length}set length(t){if(t>this._length)for(let e=this._length;e<t;e++)this._array[e]=void 0;this._length=t}get(t){return this._array[this._getCyclicIndex(t)]}set(t,e){this._array[this._getCyclicIndex(t)]=e}push(t){this._array[this._getCyclicIndex(this._length)]=t,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(t,e,...n){if(e){for(let s=t;s<this._length-e;s++)this._array[this._getCyclicIndex(s)]=this._array[this._getCyclicIndex(s+e)];this._length-=e,this.onDeleteEmitter.fire({index:t,amount:e})}for(let s=this._length-1;s>=t;s--)this._array[this._getCyclicIndex(s+n.length)]=this._array[this._getCyclicIndex(s)];for(let s=0;s<n.length;s++)this._array[this._getCyclicIndex(t+s)]=n[s];if(n.length&&this.onInsertEmitter.fire({index:t,amount:n.length}),this._length+n.length>this._maxLength){let s=this._length+n.length-this._maxLength;this._startIndex+=s,this._length=this._maxLength,this.onTrimEmitter.fire(s)}else this._length+=n.length}trimStart(t){t>this._length&&(t=this._length),this._startIndex+=t,this._length-=t,this.onTrimEmitter.fire(t)}shiftElements(t,e,n){if(!(e<=0)){if(t<0||t>=this._length)throw new Error("start argument out of range");if(t+n<0)throw new Error("Cannot shift elements in list beyond index 0");if(n>0){for(let r=e-1;r>=0;r--)this.set(t+r+n,this.get(t+r));let s=t+e+n-this._length;if(s>0)for(this._length+=s;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let s=0;s<e;s++)this.set(t+s+n,this.get(t+s))}}_getCyclicIndex(t){return(this._startIndex+t)%this._maxLength}},vt=3,kn=Object.freeze(new If),Am=0,n_=2,md=class LM{constructor(e,n,s=!1){this.isWrapped=s,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(e*vt);let r=n||Mr.fromCharData([0,tM,1,0]);for(let a=0;a<e;++a)this.setCell(a,r);this.length=e}get(e){let n=this._data[e*vt+0],s=n&2097151;return[this._data[e*vt+1],n&2097152?this._combined[e]:s?Wa(s):"",n>>22,n&2097152?this._combined[e].charCodeAt(this._combined[e].length-1):s]}set(e,n){this._data[e*vt+1]=n[0],n[1].length>1?(this._combined[e]=n[1],this._data[e*vt+0]=e|2097152|n[2]<<22):this._data[e*vt+0]=n[1].charCodeAt(0)|n[2]<<22}getWidth(e){return this._data[e*vt+0]>>22}hasWidth(e){return this._data[e*vt+0]&12582912}getFg(e){return this._data[e*vt+1]}getBg(e){return this._data[e*vt+2]}hasContent(e){return this._data[e*vt+0]&4194303}getCodePoint(e){let n=this._data[e*vt+0];return n&2097152?this._combined[e].charCodeAt(this._combined[e].length-1):n&2097151}isCombined(e){return this._data[e*vt+0]&2097152}getString(e){let n=this._data[e*vt+0];return n&2097152?this._combined[e]:n&2097151?Wa(n&2097151):""}isProtected(e){return this._data[e*vt+2]&536870912}loadCell(e,n){return Am=e*vt,n.content=this._data[Am+0],n.fg=this._data[Am+1],n.bg=this._data[Am+2],n.content&2097152&&(n.combinedData=this._combined[e]),n.bg&268435456&&(n.extended=this._extendedAttrs[e]),n}setCell(e,n){n.content&2097152&&(this._combined[e]=n.combinedData),n.bg&268435456&&(this._extendedAttrs[e]=n.extended),this._data[e*vt+0]=n.content,this._data[e*vt+1]=n.fg,this._data[e*vt+2]=n.bg}setCellFromCodepoint(e,n,s,r){r.bg&268435456&&(this._extendedAttrs[e]=r.extended),this._data[e*vt+0]=n|s<<22,this._data[e*vt+1]=r.fg,this._data[e*vt+2]=r.bg}addCodepointToCell(e,n,s){let r=this._data[e*vt+0];r&2097152?this._combined[e]+=Wa(n):r&2097151?(this._combined[e]=Wa(r&2097151)+Wa(n),r&=-2097152,r|=2097152):r=n|1<<22,s&&(r&=-12582913,r|=s<<22),this._data[e*vt+0]=r}insertCells(e,n,s){if(e%=this.length,e&&this.getWidth(e-1)===2&&this.setCellFromCodepoint(e-1,0,1,s),n<this.length-e){let r=new Mr;for(let a=this.length-e-n-1;a>=0;--a)this.setCell(e+n+a,this.loadCell(e+a,r));for(let a=0;a<n;++a)this.setCell(e+a,s)}else for(let r=e;r<this.length;++r)this.setCell(r,s);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,s)}deleteCells(e,n,s){if(e%=this.length,n<this.length-e){let r=new Mr;for(let a=0;a<this.length-e-n;++a)this.setCell(e+a,this.loadCell(e+n+a,r));for(let a=this.length-n;a<this.length;++a)this.setCell(a,s)}else for(let r=e;r<this.length;++r)this.setCell(r,s);e&&this.getWidth(e-1)===2&&this.setCellFromCodepoint(e-1,0,1,s),this.getWidth(e)===0&&!this.hasContent(e)&&this.setCellFromCodepoint(e,0,1,s)}replaceCells(e,n,s,r=!1){if(r){for(e&&this.getWidth(e-1)===2&&!this.isProtected(e-1)&&this.setCellFromCodepoint(e-1,0,1,s),n<this.length&&this.getWidth(n-1)===2&&!this.isProtected(n)&&this.setCellFromCodepoint(n,0,1,s);e<n&&e<this.length;)this.isProtected(e)||this.setCell(e,s),e++;return}for(e&&this.getWidth(e-1)===2&&this.setCellFromCodepoint(e-1,0,1,s),n<this.length&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n,0,1,s);e<n&&e<this.length;)this.setCell(e++,s)}resize(e,n){if(e===this.length)return this._data.length*4*n_<this._data.buffer.byteLength;let s=e*vt;if(e>this.length){if(this._data.buffer.byteLength>=s*4)this._data=new Uint32Array(this._data.buffer,0,s);else{let r=new Uint32Array(s);r.set(this._data),this._data=r}for(let r=this.length;r<e;++r)this.setCell(r,n)}else{this._data=this._data.subarray(0,s);let r=Object.keys(this._combined);for(let o=0;o<r.length;o++){let c=parseInt(r[o],10);c>=e&&delete this._combined[c]}let a=Object.keys(this._extendedAttrs);for(let o=0;o<a.length;o++){let c=parseInt(a[o],10);c>=e&&delete this._extendedAttrs[c]}}return this.length=e,s*4*n_<this._data.buffer.byteLength}cleanupMemory(){if(this._data.length*4*n_<this._data.buffer.byteLength){let e=new Uint32Array(this._data.length);return e.set(this._data),this._data=e,1}return 0}fill(e,n=!1){if(n){for(let s=0;s<this.length;++s)this.isProtected(s)||this.setCell(s,e);return}this._combined={},this._extendedAttrs={};for(let s=0;s<this.length;++s)this.setCell(s,e)}copyFrom(e){this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={};for(let n in e._combined)this._combined[n]=e._combined[n];this._extendedAttrs={};for(let n in e._extendedAttrs)this._extendedAttrs[n]=e._extendedAttrs[n];this.isWrapped=e.isWrapped}clone(){let e=new LM(0);e._data=new Uint32Array(this._data),e.length=this.length;for(let n in this._combined)e._combined[n]=this._combined[n];for(let n in this._extendedAttrs)e._extendedAttrs[n]=this._extendedAttrs[n];return e.isWrapped=this.isWrapped,e}getTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(this._data[e*vt+0]&4194303)return e+(this._data[e*vt+0]>>22);return 0}getNoBgTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(this._data[e*vt+0]&4194303||this._data[e*vt+2]&50331648)return e+(this._data[e*vt+0]>>22);return 0}copyCellsFrom(e,n,s,r,a){let o=e._data;if(a)for(let h=r-1;h>=0;h--){for(let d=0;d<vt;d++)this._data[(s+h)*vt+d]=o[(n+h)*vt+d];o[(n+h)*vt+2]&268435456&&(this._extendedAttrs[s+h]=e._extendedAttrs[n+h])}else for(let h=0;h<r;h++){for(let d=0;d<vt;d++)this._data[(s+h)*vt+d]=o[(n+h)*vt+d];o[(n+h)*vt+2]&268435456&&(this._extendedAttrs[s+h]=e._extendedAttrs[n+h])}let c=Object.keys(e._combined);for(let h=0;h<c.length;h++){let d=parseInt(c[h],10);d>=n&&(this._combined[d-n+s]=e._combined[d])}}translateToString(e,n,s,r){n=n??0,s=s??this.length,e&&(s=Math.min(s,this.getTrimmedLength())),r&&(r.length=0);let a="";for(;n<s;){let o=this._data[n*vt+0],c=o&2097151,h=o&2097152?this._combined[n]:c?Wa(c):Qa;if(a+=h,r)for(let d=0;d<h.length;++d)r.push(n);n+=o>>22||1}return r&&r.push(n),a}};function GQ(t,e,n,s,r,a){let o=[];for(let c=0;c<t.length-1;c++){let h=c,d=t.get(++h);if(!d.isWrapped)continue;let g=[t.get(c)];for(;h<t.length&&d.isWrapped;)g.push(d),d=t.get(++h);if(!a&&s>=c&&s<h){c+=g.length-1;continue}let m=0,v=cf(g,m,e),y=1,x=0;for(;y<g.length;){let S=cf(g,y,e),k=S-x,C=n-v,E=Math.min(k,C);g[m].copyCellsFrom(g[y],x,v,E,!1),v+=E,v===n&&(m++,v=0),x+=E,x===S&&(y++,x=0),v===0&&m!==0&&g[m-1].getWidth(n-1)===2&&(g[m].copyCellsFrom(g[m-1],n-1,v++,1,!1),g[m-1].setCell(n-1,r))}g[m].replaceCells(v,n,r);let w=0;for(let S=g.length-1;S>0&&(S>m||g[S].getTrimmedLength()===0);S--)w++;w>0&&(o.push(c+g.length-w),o.push(w)),c+=g.length-1}return o}function YQ(t,e){let n=[],s=0,r=e[s],a=0;for(let o=0;o<t.length;o++)if(r===o){let c=e[++s];t.onDeleteEmitter.fire({index:o-a,amount:c}),o+=c-1,a+=c,r=e[++s]}else n.push(o);return{layout:n,countRemoved:a}}function XQ(t,e){let n=[];for(let s=0;s<e.length;s++)n.push(t.get(e[s]));for(let s=0;s<n.length;s++)t.set(s,n[s]);t.length=e.length}function JQ(t,e,n){let s=[],r=t.map((h,d)=>cf(t,d,e)).reduce((h,d)=>h+d),a=0,o=0,c=0;for(;c<r;){if(r-c<n){s.push(r-c);break}a+=n;let h=cf(t,o,e);a>h&&(a-=h,o++);let d=t[o].getWidth(a-1)===2;d&&a--;let g=d?n-1:n;s.push(g),c+=g}return s}function cf(t,e,n){if(e===t.length-1)return t[e].getTrimmedLength();let s=!t[e].hasContent(n-1)&&t[e].getWidth(n-1)===1,r=t[e+1].getWidth(0)===2;return s&&r?n-1:n}var IM=class PM{constructor(e){this.line=e,this.isDisposed=!1,this._disposables=[],this._id=PM._nextId++,this._onDispose=this.register(new Ee),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),mo(this._disposables),this._disposables.length=0)}register(e){return this._disposables.push(e),e}};IM._nextId=1;var QQ=IM,Ln={},Il=Ln.B;Ln[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""};Ln.A={"#":""};Ln.B=void 0;Ln[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""};Ln.C=Ln[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Ln.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};Ln.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Ln.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};Ln.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""};Ln.E=Ln[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Ln.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""};Ln.H=Ln[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Ln["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""};var dj=4294967295,fj=class{constructor(t,e,n){this._hasScrollback=t,this._optionsService=e,this._bufferService=n,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=kn.clone(),this.savedCharset=Il,this.markers=[],this._nullCell=Mr.fromCharData([0,tM,1,0]),this._whitespaceCell=Mr.fromCharData([0,Qa,1,32]),this._isClearing=!1,this._memoryCleanupQueue=new og,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new hj(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(t){return t?(this._nullCell.fg=t.fg,this._nullCell.bg=t.bg,this._nullCell.extended=t.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new rg),this._nullCell}getWhitespaceCell(t){return t?(this._whitespaceCell.fg=t.fg,this._whitespaceCell.bg=t.bg,this._whitespaceCell.extended=t.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new rg),this._whitespaceCell}getBlankLine(t,e){return new md(this._bufferService.cols,this.getNullCell(t),e)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){let t=this.ybase+this.y-this.ydisp;return t>=0&&t<this._rows}_getCorrectBufferLength(t){if(!this._hasScrollback)return t;let e=t+this._optionsService.rawOptions.scrollback;return e>dj?dj:e}fillViewportRows(t){if(this.lines.length===0){t===void 0&&(t=kn);let e=this._rows;for(;e--;)this.lines.push(this.getBlankLine(t))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new hj(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(t,e){let n=this.getNullCell(kn),s=0,r=this._getCorrectBufferLength(e);if(r>this.lines.maxLength&&(this.lines.maxLength=r),this.lines.length>0){if(this._cols<t)for(let o=0;o<this.lines.length;o++)s+=+this.lines.get(o).resize(t,n);let a=0;if(this._rows<e)for(let o=this._rows;o<e;o++)this.lines.length<e+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new md(t,n)):this.ybase>0&&this.lines.length<=this.ybase+this.y+a+1?(this.ybase--,a++,this.ydisp>0&&this.ydisp--):this.lines.push(new md(t,n)));else for(let o=this._rows;o>e;o--)this.lines.length>e+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(r<this.lines.maxLength){let o=this.lines.length-r;o>0&&(this.lines.trimStart(o),this.ybase=Math.max(this.ybase-o,0),this.ydisp=Math.max(this.ydisp-o,0),this.savedY=Math.max(this.savedY-o,0)),this.lines.maxLength=r}this.x=Math.min(this.x,t-1),this.y=Math.min(this.y,e-1),a&&(this.y+=a),this.savedX=Math.min(this.savedX,t-1),this.scrollTop=0}if(this.scrollBottom=e-1,this._isReflowEnabled&&(this._reflow(t,e),this._cols>t))for(let a=0;a<this.lines.length;a++)s+=+this.lines.get(a).resize(t,n);this._cols=t,this._rows=e,this._memoryCleanupQueue.clear(),s>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let t=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,t=!1);let e=0;for(;this._memoryCleanupPosition<this.lines.length;)if(e+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),e>100)return!0;return t}get _isReflowEnabled(){let t=this._optionsService.rawOptions.windowsPty;return t&&t.buildNumber?this._hasScrollback&&t.backend==="conpty"&&t.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(t,e){this._cols!==t&&(t>this._cols?this._reflowLarger(t,e):this._reflowSmaller(t,e))}_reflowLarger(t,e){let n=this._optionsService.rawOptions.reflowCursorLine,s=GQ(this.lines,this._cols,t,this.ybase+this.y,this.getNullCell(kn),n);if(s.length>0){let r=YQ(this.lines,s);XQ(this.lines,r.layout),this._reflowLargerAdjustViewport(t,e,r.countRemoved)}}_reflowLargerAdjustViewport(t,e,n){let s=this.getNullCell(kn),r=n;for(;r-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<e&&this.lines.push(new md(t,s))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-n,0)}_reflowSmaller(t,e){let n=this._optionsService.rawOptions.reflowCursorLine,s=this.getNullCell(kn),r=[],a=0;for(let o=this.lines.length-1;o>=0;o--){let c=this.lines.get(o);if(!c||!c.isWrapped&&c.getTrimmedLength()<=t)continue;let h=[c];for(;c.isWrapped&&o>0;)c=this.lines.get(--o),h.unshift(c);if(!n){let E=this.ybase+this.y;if(E>=o&&E<o+h.length)continue}let d=h[h.length-1].getTrimmedLength(),g=JQ(h,this._cols,t),m=g.length-h.length,v;this.ybase===0&&this.y!==this.lines.length-1?v=Math.max(0,this.y-this.lines.maxLength+m):v=Math.max(0,this.lines.length-this.lines.maxLength+m);let y=[];for(let E=0;E<m;E++){let B=this.getBlankLine(kn,!0);y.push(B)}y.length>0&&(r.push({start:o+h.length+a,newLines:y}),a+=y.length),h.push(...y);let x=g.length-1,w=g[x];w===0&&(x--,w=g[x]);let S=h.length-m-1,k=d;for(;S>=0;){let E=Math.min(k,w);if(h[x]===void 0)break;if(h[x].copyCellsFrom(h[S],k-E,w-E,E,!0),w-=E,w===0&&(x--,w=g[x]),k-=E,k===0){S--;let B=Math.max(S,0);k=cf(h,B,this._cols)}}for(let E=0;E<h.length;E++)g[E]<t&&h[E].setCell(g[E],s);let C=m-v;for(;C-- >0;)this.ybase===0?this.y<e-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+a)-e&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+m,this.ybase+e-1)}if(r.length>0){let o=[],c=[];for(let w=0;w<this.lines.length;w++)c.push(this.lines.get(w));let h=this.lines.length,d=h-1,g=0,m=r[g];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+a);let v=0;for(let w=Math.min(this.lines.maxLength-1,h+a-1);w>=0;w--)if(m&&m.start>d+v){for(let S=m.newLines.length-1;S>=0;S--)this.lines.set(w--,m.newLines[S]);w++,o.push({index:d+1,amount:m.newLines.length}),v+=m.newLines.length,m=r[++g]}else this.lines.set(w,c[d--]);let y=0;for(let w=o.length-1;w>=0;w--)o[w].index+=y,this.lines.onInsertEmitter.fire(o[w]),y+=o[w].amount;let x=Math.max(0,h+a-this.lines.maxLength);x>0&&this.lines.onTrimEmitter.fire(x)}}translateBufferLineToString(t,e,n=0,s){let r=this.lines.get(t);return r?r.translateToString(e,n,s):""}getWrappedRangeForLine(t){let e=t,n=t;for(;e>0&&this.lines.get(e).isWrapped;)e--;for(;n+1<this.lines.length&&this.lines.get(n+1).isWrapped;)n++;return{first:e,last:n}}setupTabStops(t){for(t!=null?this.tabs[t]||(t=this.prevStop(t)):(this.tabs={},t=0);t<this._cols;t+=this._optionsService.rawOptions.tabStopWidth)this.tabs[t]=!0}prevStop(t){for(t==null&&(t=this.x);!this.tabs[--t]&&t>0;);return t>=this._cols?this._cols-1:t<0?0:t}nextStop(t){for(t==null&&(t=this.x);!this.tabs[++t]&&t<this._cols;);return t>=this._cols?this._cols-1:t<0?0:t}clearMarkers(t){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].line===t&&(this.markers[e].dispose(),this.markers.splice(e--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].dispose();this.markers.length=0,this._isClearing=!1}addMarker(t){let e=new QQ(t);return this.markers.push(e),e.register(this.lines.onTrim(n=>{e.line-=n,e.line<0&&e.dispose()})),e.register(this.lines.onInsert(n=>{e.line>=n.index&&(e.line+=n.amount)})),e.register(this.lines.onDelete(n=>{e.line>=n.index&&e.line<n.index+n.amount&&e.dispose(),e.line>n.index&&(e.line-=n.amount)})),e.register(e.onDispose(()=>this._removeMarker(e))),e}_removeMarker(t){this._isClearing||this.markers.splice(this.markers.indexOf(t),1)}},ZQ=class extends bt{constructor(t,e){super(),this._optionsService=t,this._bufferService=e,this._onBufferActivate=this._register(new Ee),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this._register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this._register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new fj(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new fj(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(t){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(t),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(t,e){this._normal.resize(t,e),this._alt.resize(t,e),this.setupTabStops(t)}setupTabStops(t){this._normal.setupTabStops(t),this._alt.setupTabStops(t)}},zM=2,$M=1,Fw=class extends bt{constructor(t){super(),this.isUserScrolling=!1,this._onResize=this._register(new Ee),this.onResize=this._onResize.event,this._onScroll=this._register(new Ee),this.onScroll=this._onScroll.event,this.cols=Math.max(t.rawOptions.cols||0,zM),this.rows=Math.max(t.rawOptions.rows||0,$M),this.buffers=this._register(new ZQ(t,this)),this._register(this.buffers.onBufferActivate(e=>{this._onScroll.fire(e.activeBuffer.ydisp)}))}get buffer(){return this.buffers.active}resize(t,e){let n=this.cols!==t,s=this.rows!==e;this.cols=t,this.rows=e,this.buffers.resize(t,e),this._onResize.fire({cols:t,rows:e,colsChanged:n,rowsChanged:s})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(t,e=!1){let n=this.buffer,s;s=this._cachedBlankLine,(!s||s.length!==this.cols||s.getFg(0)!==t.fg||s.getBg(0)!==t.bg)&&(s=n.getBlankLine(t,e),this._cachedBlankLine=s),s.isWrapped=e;let r=n.ybase+n.scrollTop,a=n.ybase+n.scrollBottom;if(n.scrollTop===0){let o=n.lines.isFull;a===n.lines.length-1?o?n.lines.recycle().copyFrom(s):n.lines.push(s.clone()):n.lines.splice(a+1,0,s.clone()),o?this.isUserScrolling&&(n.ydisp=Math.max(n.ydisp-1,0)):(n.ybase++,this.isUserScrolling||n.ydisp++)}else{let o=a-r+1;n.lines.shiftElements(r+1,o-1,-1),n.lines.set(a,s.clone())}this.isUserScrolling||(n.ydisp=n.ybase),this._onScroll.fire(n.ydisp)}scrollLines(t,e){let n=this.buffer;if(t<0){if(n.ydisp===0)return;this.isUserScrolling=!0}else t+n.ydisp>=n.ybase&&(this.isUserScrolling=!1);let s=n.ydisp;n.ydisp=Math.max(Math.min(n.ydisp+t,n.ybase),0),s!==n.ydisp&&(e||this._onScroll.fire(n.ydisp))}};Fw=hn([Le(0,As)],Fw);var bc={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnEraseInDisplay:!1,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},reflowCursorLine:!1,rescaleOverlappingGlyphs:!1,rightClickSelectsWord:lg,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRuler:{}},eZ=["normal","bold","100","200","300","400","500","600","700","800","900"],tZ=class extends bt{constructor(t){super(),this._onOptionChange=this._register(new Ee),this.onOptionChange=this._onOptionChange.event;let e={...bc};for(let n in t)if(n in e)try{let s=t[n];e[n]=this._sanitizeAndValidateOption(n,s)}catch(s){console.error(s)}this.rawOptions=e,this.options={...e},this._setupOptions(),this._register(nn(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(t,e){return this.onOptionChange(n=>{n===t&&e(this.rawOptions[t])})}onMultipleOptionChange(t,e){return this.onOptionChange(n=>{t.indexOf(n)!==-1&&e()})}_setupOptions(){let t=n=>{if(!(n in bc))throw new Error(`No option with key "${n}"`);return this.rawOptions[n]},e=(n,s)=>{if(!(n in bc))throw new Error(`No option with key "${n}"`);s=this._sanitizeAndValidateOption(n,s),this.rawOptions[n]!==s&&(this.rawOptions[n]=s,this._onOptionChange.fire(n))};for(let n in this.rawOptions){let s={get:t.bind(this,n),set:e.bind(this,n)};Object.defineProperty(this.options,n,s)}}_sanitizeAndValidateOption(t,e){switch(t){case"cursorStyle":if(e||(e=bc[t]),!nZ(e))throw new Error(`"${e}" is not a valid value for ${t}`);break;case"wordSeparator":e||(e=bc[t]);break;case"fontWeight":case"fontWeightBold":if(typeof e=="number"&&1<=e&&e<=1e3)break;e=eZ.includes(e)?e:bc[t];break;case"cursorWidth":e=Math.floor(e);case"lineHeight":case"tabStopWidth":if(e<1)throw new Error(`${t} cannot be less than 1, value: ${e}`);break;case"minimumContrastRatio":e=Math.max(1,Math.min(21,Math.round(e*10)/10));break;case"scrollback":if(e=Math.min(e,4294967295),e<0)throw new Error(`${t} cannot be less than 0, value: ${e}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(e<=0)throw new Error(`${t} cannot be less than or equal to 0, value: ${e}`);break;case"rows":case"cols":if(!e&&e!==0)throw new Error(`${t} must be numeric, value: ${e}`);break;case"windowsPty":e=e??{};break}return e}};function nZ(t){return t==="block"||t==="underline"||t==="bar"}function gd(t,e=5){if(typeof t!="object")return t;let n=Array.isArray(t)?[]:{};for(let s in t)n[s]=e<=1?t[s]:t[s]&&gd(t[s],e-1);return n}var pj=Object.freeze({insertMode:!1}),mj=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,cursorBlink:void 0,cursorStyle:void 0,origin:!1,reverseWraparound:!1,sendFocus:!1,synchronizedOutput:!1,wraparound:!0}),qw=class extends bt{constructor(t,e,n){super(),this._bufferService=t,this._logService=e,this._optionsService=n,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this._register(new Ee),this.onData=this._onData.event,this._onUserInput=this._register(new Ee),this.onUserInput=this._onUserInput.event,this._onBinary=this._register(new Ee),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this._register(new Ee),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=gd(pj),this.decPrivateModes=gd(mj)}reset(){this.modes=gd(pj),this.decPrivateModes=gd(mj)}triggerDataEvent(t,e=!1){if(this._optionsService.rawOptions.disableStdin)return;let n=this._bufferService.buffer;e&&this._optionsService.rawOptions.scrollOnUserInput&&n.ybase!==n.ydisp&&this._onRequestScrollToBottom.fire(),e&&this._onUserInput.fire(),this._logService.debug(`sending data "${t}"`),this._logService.trace("sending data (codes)",()=>t.split("").map(s=>s.charCodeAt(0))),this._onData.fire(t)}triggerBinaryEvent(t){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${t}"`),this._logService.trace("sending binary (codes)",()=>t.split("").map(e=>e.charCodeAt(0))),this._onBinary.fire(t))}};qw=hn([Le(0,Ns),Le(1,aM),Le(2,As)],qw);var gj={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:t=>t.button===4||t.action!==1?!1:(t.ctrl=!1,t.alt=!1,t.shift=!1,!0)},VT200:{events:19,restrict:t=>t.action!==32},DRAG:{events:23,restrict:t=>!(t.action===32&&t.button===3)},ANY:{events:31,restrict:t=>!0}};function s_(t,e){let n=(t.ctrl?16:0)|(t.shift?4:0)|(t.alt?8:0);return t.button===4?(n|=64,n|=t.action):(n|=t.button&3,t.button&4&&(n|=64),t.button&8&&(n|=128),t.action===32?n|=32:t.action===0&&!e&&(n|=3)),n}var r_=String.fromCharCode,yj={DEFAULT:t=>{let e=[s_(t,!1)+32,t.col+32,t.row+32];return e[0]>255||e[1]>255||e[2]>255?"":`\x1B[M${r_(e[0])}${r_(e[1])}${r_(e[2])}`},SGR:t=>{let e=t.action===0&&t.button!==4?"m":"M";return`\x1B[<${s_(t,!0)};${t.col};${t.row}${e}`},SGR_PIXELS:t=>{let e=t.action===0&&t.button!==4?"m":"M";return`\x1B[<${s_(t,!0)};${t.x};${t.y}${e}`}},Ww=class extends bt{constructor(t,e,n){super(),this._bufferService=t,this._coreService=e,this._optionsService=n,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._wheelPartialScroll=0,this._onProtocolChange=this._register(new Ee),this.onProtocolChange=this._onProtocolChange.event;for(let s of Object.keys(gj))this.addProtocol(s,gj[s]);for(let s of Object.keys(yj))this.addEncoding(s,yj[s]);this.reset()}addProtocol(t,e){this._protocols[t]=e}addEncoding(t,e){this._encodings[t]=e}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(t){if(!this._protocols[t])throw new Error(`unknown protocol "${t}"`);this._activeProtocol=t,this._onProtocolChange.fire(this._protocols[t].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(t){if(!this._encodings[t])throw new Error(`unknown encoding "${t}"`);this._activeEncoding=t}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null,this._wheelPartialScroll=0}consumeWheelEvent(t,e,n){if(t.deltaY===0||t.shiftKey||e===void 0||n===void 0)return 0;let s=e/n,r=this._applyScrollModifier(t.deltaY,t);return t.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(r/=s+0,Math.abs(t.deltaY)<50&&(r*=.3),this._wheelPartialScroll+=r,r=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(r*=this._bufferService.rows),r}_applyScrollModifier(t,e){return e.altKey||e.ctrlKey||e.shiftKey?t*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:t*this._optionsService.rawOptions.scrollSensitivity}triggerMouseEvent(t){if(t.col<0||t.col>=this._bufferService.cols||t.row<0||t.row>=this._bufferService.rows||t.button===4&&t.action===32||t.button===3&&t.action!==32||t.button!==4&&(t.action===2||t.action===3)||(t.col++,t.row++,t.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,t,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(t))return!1;let e=this._encodings[this._activeEncoding](t);return e&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(e):this._coreService.triggerDataEvent(e,!0)),this._lastEvent=t,!0}explainEvents(t){return{down:!!(t&1),up:!!(t&2),drag:!!(t&4),move:!!(t&8),wheel:!!(t&16)}}_equalEvents(t,e,n){if(n){if(t.x!==e.x||t.y!==e.y)return!1}else if(t.col!==e.col||t.row!==e.row)return!1;return!(t.button!==e.button||t.action!==e.action||t.ctrl!==e.ctrl||t.alt!==e.alt||t.shift!==e.shift)}};Ww=hn([Le(0,Ns),Le(1,Co),Le(2,As)],Ww);var i_=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],sZ=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],On;function rZ(t,e){let n=0,s=e.length-1,r;if(t<e[0][0]||t>e[s][1])return!1;for(;s>=n;)if(r=n+s>>1,t>e[r][1])n=r+1;else if(t<e[r][0])s=r-1;else return!0;return!1}var iZ=class{constructor(){if(this.version="6",!On){On=new Uint8Array(65536),On.fill(1),On[0]=0,On.fill(0,1,32),On.fill(0,127,160),On.fill(2,4352,4448),On[9001]=2,On[9002]=2,On.fill(2,11904,42192),On[12351]=1,On.fill(2,44032,55204),On.fill(2,63744,64256),On.fill(2,65040,65050),On.fill(2,65072,65136),On.fill(2,65280,65377),On.fill(2,65504,65511);for(let t=0;t<i_.length;++t)On.fill(0,i_[t][0],i_[t][1]+1)}}wcwidth(t){return t<32?0:t<127?1:t<65536?On[t]:rZ(t,sZ)?0:t>=131072&&t<=196605||t>=196608&&t<=262141?2:1}charProperties(t,e){let n=this.wcwidth(t),s=n===0&&e!==0;if(s){let r=Fl.extractWidth(e);r===0?s=!1:r>n&&(n=r)}return Fl.createPropertyValue(0,n,s)}},Fl=class t0{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new Ee,this.onChange=this._onChange.event;let e=new iZ;this.register(e),this._active=e.version,this._activeProvider=e}static extractShouldJoin(e){return(e&1)!==0}static extractWidth(e){return e>>1&3}static extractCharKind(e){return e>>3}static createPropertyValue(e,n,s=!1){return(e&16777215)<<3|(n&3)<<1|(s?1:0)}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(e){if(!this._providers[e])throw new Error(`unknown Unicode version "${e}"`);this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)}register(e){this._providers[e.version]=e}wcwidth(e){return this._activeProvider.wcwidth(e)}getStringCellWidth(e){let n=0,s=0,r=e.length;for(let a=0;a<r;++a){let o=e.charCodeAt(a);if(55296<=o&&o<=56319){if(++a>=r)return n+this.wcwidth(o);let d=e.charCodeAt(a);56320<=d&&d<=57343?o=(o-55296)*1024+d-56320+65536:n+=this.wcwidth(d)}let c=this.charProperties(o,s),h=t0.extractWidth(c);t0.extractShouldJoin(c)&&(h-=t0.extractWidth(s)),n+=h,s=c}return n}charProperties(e,n){return this._activeProvider.charProperties(e,n)}},aZ=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(t){this.glevel=t,this.charset=this._charsets[t]}setgCharset(t,e){this._charsets[t]=e,this.glevel===t&&(this.charset=e)}};function vj(t){let e=t.buffer.lines.get(t.buffer.ybase+t.buffer.y-1)?.get(t.cols-1),n=t.buffer.lines.get(t.buffer.ybase+t.buffer.y);n&&e&&(n.isWrapped=e[3]!==0&&e[3]!==32)}var Mh=2147483647,lZ=256,HM=class Kw{constructor(e=32,n=32){if(this.maxLength=e,this.maxSubParamsLength=n,n>lZ)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(n),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(e){let n=new Kw;if(!e.length)return n;for(let s=Array.isArray(e[0])?1:0;s<e.length;++s){let r=e[s];if(Array.isArray(r))for(let a=0;a<r.length;++a)n.addSubParam(r[a]);else n.addParam(r)}return n}clone(){let e=new Kw(this.maxLength,this.maxSubParamsLength);return e.params.set(this.params),e.length=this.length,e._subParams.set(this._subParams),e._subParamsLength=this._subParamsLength,e._subParamsIdx.set(this._subParamsIdx),e._rejectDigits=this._rejectDigits,e._rejectSubDigits=this._rejectSubDigits,e._digitIsSub=this._digitIsSub,e}toArray(){let e=[];for(let n=0;n<this.length;++n){e.push(this.params[n]);let s=this._subParamsIdx[n]>>8,r=this._subParamsIdx[n]&255;r-s>0&&e.push(Array.prototype.slice.call(this._subParams,s,r))}return e}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(e){if(this._digitIsSub=!1,this.length>=this.maxLength){this._rejectDigits=!0;return}if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>Mh?Mh:e}addSubParam(e){if(this._digitIsSub=!0,!!this.length){if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength){this._rejectSubDigits=!0;return}if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>Mh?Mh:e,this._subParamsIdx[this.length-1]++}}hasSubParams(e){return(this._subParamsIdx[e]&255)-(this._subParamsIdx[e]>>8)>0}getSubParams(e){let n=this._subParamsIdx[e]>>8,s=this._subParamsIdx[e]&255;return s-n>0?this._subParams.subarray(n,s):null}getSubParamsAll(){let e={};for(let n=0;n<this.length;++n){let s=this._subParamsIdx[n]>>8,r=this._subParamsIdx[n]&255;r-s>0&&(e[n]=this._subParams.slice(s,r))}return e}addDigit(e){let n;if(this._rejectDigits||!(n=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;let s=this._digitIsSub?this._subParams:this.params,r=s[n-1];s[n-1]=~r?Math.min(r*10+e,Mh):e}},Dh=[],oZ=class{constructor(){this._state=0,this._active=Dh,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(t,e){this._handlers[t]===void 0&&(this._handlers[t]=[]);let n=this._handlers[t];return n.push(e),{dispose:()=>{let s=n.indexOf(e);s!==-1&&n.splice(s,1)}}}clearHandler(t){this._handlers[t]&&delete this._handlers[t]}setHandlerFallback(t){this._handlerFb=t}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=Dh}reset(){if(this._state===2)for(let t=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;t>=0;--t)this._active[t].end(!1);this._stack.paused=!1,this._active=Dh,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||Dh,!this._active.length)this._handlerFb(this._id,"START");else for(let t=this._active.length-1;t>=0;t--)this._active[t].start()}_put(t,e,n){if(!this._active.length)this._handlerFb(this._id,"PUT",Ey(t,e,n));else for(let s=this._active.length-1;s>=0;s--)this._active[s].put(t,e,n)}start(){this.reset(),this._state=1}put(t,e,n){if(this._state!==3){if(this._state===1)for(;e<n;){let s=t[e++];if(s===59){this._state=2,this._start();break}if(s<48||57<s){this._state=3;return}this._id===-1&&(this._id=0),this._id=this._id*10+s-48}this._state===2&&n-e>0&&this._put(t,e,n)}}end(t,e=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),!this._active.length)this._handlerFb(this._id,"END",t);else{let n=!1,s=this._active.length-1,r=!1;if(this._stack.paused&&(s=this._stack.loopPosition-1,n=e,r=this._stack.fallThrough,this._stack.paused=!1),!r&&n===!1){for(;s>=0&&(n=this._active[s].end(t),n!==!0);s--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=s,this._stack.fallThrough=!1,n;s--}for(;s>=0;s--)if(n=this._active[s].end(!1),n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=s,this._stack.fallThrough=!0,n}this._active=Dh,this._id=-1,this._state=0}}},tr=class{constructor(t){this._handler=t,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(t,e,n){this._hitLimit||(this._data+=Ey(t,e,n),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}end(t){let e=!1;if(this._hitLimit)e=!1;else if(t&&(e=this._handler(this._data),e instanceof Promise))return e.then(n=>(this._data="",this._hitLimit=!1,n));return this._data="",this._hitLimit=!1,e}},Lh=[],cZ=class{constructor(){this._handlers=Object.create(null),this._active=Lh,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=Lh}registerHandler(t,e){this._handlers[t]===void 0&&(this._handlers[t]=[]);let n=this._handlers[t];return n.push(e),{dispose:()=>{let s=n.indexOf(e);s!==-1&&n.splice(s,1)}}}clearHandler(t){this._handlers[t]&&delete this._handlers[t]}setHandlerFallback(t){this._handlerFb=t}reset(){if(this._active.length)for(let t=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;t>=0;--t)this._active[t].unhook(!1);this._stack.paused=!1,this._active=Lh,this._ident=0}hook(t,e){if(this.reset(),this._ident=t,this._active=this._handlers[t]||Lh,!this._active.length)this._handlerFb(this._ident,"HOOK",e);else for(let n=this._active.length-1;n>=0;n--)this._active[n].hook(e)}put(t,e,n){if(!this._active.length)this._handlerFb(this._ident,"PUT",Ey(t,e,n));else for(let s=this._active.length-1;s>=0;s--)this._active[s].put(t,e,n)}unhook(t,e=!0){if(!this._active.length)this._handlerFb(this._ident,"UNHOOK",t);else{let n=!1,s=this._active.length-1,r=!1;if(this._stack.paused&&(s=this._stack.loopPosition-1,n=e,r=this._stack.fallThrough,this._stack.paused=!1),!r&&n===!1){for(;s>=0&&(n=this._active[s].unhook(t),n!==!0);s--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=s,this._stack.fallThrough=!1,n;s--}for(;s>=0;s--)if(n=this._active[s].unhook(!1),n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=s,this._stack.fallThrough=!0,n}this._active=Lh,this._ident=0}},yd=new HM;yd.addParam(0);var bj=class{constructor(t){this._handler=t,this._data="",this._params=yd,this._hitLimit=!1}hook(t){this._params=t.length>1||t.params[0]?t.clone():yd,this._data="",this._hitLimit=!1}put(t,e,n){this._hitLimit||(this._data+=Ey(t,e,n),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}unhook(t){let e=!1;if(this._hitLimit)e=!1;else if(t&&(e=this._handler(this._data,this._params),e instanceof Promise))return e.then(n=>(this._params=yd,this._data="",this._hitLimit=!1,n));return this._params=yd,this._data="",this._hitLimit=!1,e}},uZ=class{constructor(t){this.table=new Uint8Array(t)}setDefault(t,e){this.table.fill(t<<4|e)}add(t,e,n,s){this.table[e<<8|t]=n<<4|s}addMany(t,e,n,s){for(let r=0;r<t.length;r++)this.table[e<<8|t[r]]=n<<4|s}},Ar=160,hZ=(function(){let t=new uZ(4095),e=Array.apply(null,Array(256)).map((c,h)=>h),n=(c,h)=>e.slice(c,h),s=n(32,127),r=n(0,24);r.push(25),r.push.apply(r,n(28,32));let a=n(0,14),o;t.setDefault(1,0),t.addMany(s,0,2,0);for(o in a)t.addMany([24,26,153,154],o,3,0),t.addMany(n(128,144),o,3,0),t.addMany(n(144,152),o,3,0),t.add(156,o,0,0),t.add(27,o,11,1),t.add(157,o,4,8),t.addMany([152,158,159],o,0,7),t.add(155,o,11,3),t.add(144,o,11,9);return t.addMany(r,0,3,0),t.addMany(r,1,3,1),t.add(127,1,0,1),t.addMany(r,8,0,8),t.addMany(r,3,3,3),t.add(127,3,0,3),t.addMany(r,4,3,4),t.add(127,4,0,4),t.addMany(r,6,3,6),t.addMany(r,5,3,5),t.add(127,5,0,5),t.addMany(r,2,3,2),t.add(127,2,0,2),t.add(93,1,4,8),t.addMany(s,8,5,8),t.add(127,8,5,8),t.addMany([156,27,24,26,7],8,6,0),t.addMany(n(28,32),8,0,8),t.addMany([88,94,95],1,0,7),t.addMany(s,7,0,7),t.addMany(r,7,0,7),t.add(156,7,0,0),t.add(127,7,0,7),t.add(91,1,11,3),t.addMany(n(64,127),3,7,0),t.addMany(n(48,60),3,8,4),t.addMany([60,61,62,63],3,9,4),t.addMany(n(48,60),4,8,4),t.addMany(n(64,127),4,7,0),t.addMany([60,61,62,63],4,0,6),t.addMany(n(32,64),6,0,6),t.add(127,6,0,6),t.addMany(n(64,127),6,0,0),t.addMany(n(32,48),3,9,5),t.addMany(n(32,48),5,9,5),t.addMany(n(48,64),5,0,6),t.addMany(n(64,127),5,7,0),t.addMany(n(32,48),4,9,5),t.addMany(n(32,48),1,9,2),t.addMany(n(32,48),2,9,2),t.addMany(n(48,127),2,10,0),t.addMany(n(48,80),1,10,0),t.addMany(n(81,88),1,10,0),t.addMany([89,90,92],1,10,0),t.addMany(n(96,127),1,10,0),t.add(80,1,11,9),t.addMany(r,9,0,9),t.add(127,9,0,9),t.addMany(n(28,32),9,0,9),t.addMany(n(32,48),9,9,12),t.addMany(n(48,60),9,8,10),t.addMany([60,61,62,63],9,9,10),t.addMany(r,11,0,11),t.addMany(n(32,128),11,0,11),t.addMany(n(28,32),11,0,11),t.addMany(r,10,0,10),t.add(127,10,0,10),t.addMany(n(28,32),10,0,10),t.addMany(n(48,60),10,8,10),t.addMany([60,61,62,63],10,0,11),t.addMany(n(32,48),10,9,12),t.addMany(r,12,0,12),t.add(127,12,0,12),t.addMany(n(28,32),12,0,12),t.addMany(n(32,48),12,9,12),t.addMany(n(48,64),12,0,11),t.addMany(n(64,127),12,12,13),t.addMany(n(64,127),10,12,13),t.addMany(n(64,127),9,12,13),t.addMany(r,13,13,13),t.addMany(s,13,13,13),t.add(127,13,0,13),t.addMany([27,156,24,26],13,14,0),t.add(Ar,0,2,0),t.add(Ar,8,5,8),t.add(Ar,6,0,6),t.add(Ar,11,0,11),t.add(Ar,13,13,13),t})(),dZ=class extends bt{constructor(t=hZ){super(),this._transitions=t,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new HM,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(e,n,s)=>{},this._executeHandlerFb=e=>{},this._csiHandlerFb=(e,n)=>{},this._escHandlerFb=e=>{},this._errorHandlerFb=e=>e,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this._register(nn(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this._register(new oZ),this._dcsParser=this._register(new cZ),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(t,e=[64,126]){let n=0;if(t.prefix){if(t.prefix.length>1)throw new Error("only one byte as prefix supported");if(n=t.prefix.charCodeAt(0),n&&60>n||n>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(t.intermediates){if(t.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let r=0;r<t.intermediates.length;++r){let a=t.intermediates.charCodeAt(r);if(32>a||a>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");n<<=8,n|=a}}if(t.final.length!==1)throw new Error("final must be a single byte");let s=t.final.charCodeAt(0);if(e[0]>s||s>e[1])throw new Error(`final must be in range ${e[0]} .. ${e[1]}`);return n<<=8,n|=s,n}identToString(t){let e=[];for(;t;)e.push(String.fromCharCode(t&255)),t>>=8;return e.reverse().join("")}setPrintHandler(t){this._printHandler=t}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(t,e){let n=this._identifier(t,[48,126]);this._escHandlers[n]===void 0&&(this._escHandlers[n]=[]);let s=this._escHandlers[n];return s.push(e),{dispose:()=>{let r=s.indexOf(e);r!==-1&&s.splice(r,1)}}}clearEscHandler(t){this._escHandlers[this._identifier(t,[48,126])]&&delete this._escHandlers[this._identifier(t,[48,126])]}setEscHandlerFallback(t){this._escHandlerFb=t}setExecuteHandler(t,e){this._executeHandlers[t.charCodeAt(0)]=e}clearExecuteHandler(t){this._executeHandlers[t.charCodeAt(0)]&&delete this._executeHandlers[t.charCodeAt(0)]}setExecuteHandlerFallback(t){this._executeHandlerFb=t}registerCsiHandler(t,e){let n=this._identifier(t);this._csiHandlers[n]===void 0&&(this._csiHandlers[n]=[]);let s=this._csiHandlers[n];return s.push(e),{dispose:()=>{let r=s.indexOf(e);r!==-1&&s.splice(r,1)}}}clearCsiHandler(t){this._csiHandlers[this._identifier(t)]&&delete this._csiHandlers[this._identifier(t)]}setCsiHandlerFallback(t){this._csiHandlerFb=t}registerDcsHandler(t,e){return this._dcsParser.registerHandler(this._identifier(t),e)}clearDcsHandler(t){this._dcsParser.clearHandler(this._identifier(t))}setDcsHandlerFallback(t){this._dcsParser.setHandlerFallback(t)}registerOscHandler(t,e){return this._oscParser.registerHandler(t,e)}clearOscHandler(t){this._oscParser.clearHandler(t)}setOscHandlerFallback(t){this._oscParser.setHandlerFallback(t)}setErrorHandler(t){this._errorHandler=t}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(t,e,n,s,r){this._parseStack.state=t,this._parseStack.handlers=e,this._parseStack.handlerPos=n,this._parseStack.transition=s,this._parseStack.chunkPos=r}parse(t,e,n){let s=0,r=0,a=0,o;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,a=this._parseStack.chunkPos+1;else{if(n===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");let c=this._parseStack.handlers,h=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(n===!1&&h>-1){for(;h>=0&&(o=c[h](this._params),o!==!0);h--)if(o instanceof Promise)return this._parseStack.handlerPos=h,o}this._parseStack.handlers=[];break;case 4:if(n===!1&&h>-1){for(;h>=0&&(o=c[h](),o!==!0);h--)if(o instanceof Promise)return this._parseStack.handlerPos=h,o}this._parseStack.handlers=[];break;case 6:if(s=t[this._parseStack.chunkPos],o=this._dcsParser.unhook(s!==24&&s!==26,n),o)return o;s===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(s=t[this._parseStack.chunkPos],o=this._oscParser.end(s!==24&&s!==26,n),o)return o;s===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break}this._parseStack.state=0,a=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=this._parseStack.transition&15}for(let c=a;c<e;++c){switch(s=t[c],r=this._transitions.table[this.currentState<<8|(s<160?s:Ar)],r>>4){case 2:for(let v=c+1;;++v){if(v>=e||(s=t[v])<32||s>126&&s<Ar){this._printHandler(t,c,v),c=v-1;break}if(++v>=e||(s=t[v])<32||s>126&&s<Ar){this._printHandler(t,c,v),c=v-1;break}if(++v>=e||(s=t[v])<32||s>126&&s<Ar){this._printHandler(t,c,v),c=v-1;break}if(++v>=e||(s=t[v])<32||s>126&&s<Ar){this._printHandler(t,c,v),c=v-1;break}}break;case 3:this._executeHandlers[s]?this._executeHandlers[s]():this._executeHandlerFb(s),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:c,code:s,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:let h=this._csiHandlers[this._collect<<8|s],d=h?h.length-1:-1;for(;d>=0&&(o=h[d](this._params),o!==!0);d--)if(o instanceof Promise)return this._preserveStack(3,h,d,r,c),o;d<0&&this._csiHandlerFb(this._collect<<8|s,this._params),this.precedingJoinState=0;break;case 8:do switch(s){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(s-48)}while(++c<e&&(s=t[c])>47&&s<60);c--;break;case 9:this._collect<<=8,this._collect|=s;break;case 10:let g=this._escHandlers[this._collect<<8|s],m=g?g.length-1:-1;for(;m>=0&&(o=g[m](),o!==!0);m--)if(o instanceof Promise)return this._preserveStack(4,g,m,r,c),o;m<0&&this._escHandlerFb(this._collect<<8|s),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|s,this._params);break;case 13:for(let v=c+1;;++v)if(v>=e||(s=t[v])===24||s===26||s===27||s>127&&s<Ar){this._dcsParser.put(t,c,v),c=v-1;break}break;case 14:if(o=this._dcsParser.unhook(s!==24&&s!==26),o)return this._preserveStack(6,[],0,r,c),o;s===27&&(r|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let v=c+1;;v++)if(v>=e||(s=t[v])<32||s>127&&s<Ar){this._oscParser.put(t,c,v),c=v-1;break}break;case 6:if(o=this._oscParser.end(s!==24&&s!==26),o)return this._preserveStack(5,[],0,r,c),o;s===27&&(r|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break}this.currentState=r&15}}},fZ=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,pZ=/^[\da-f]+$/;function _j(t){if(!t)return;let e=t.toLowerCase();if(e.indexOf("rgb:")===0){e=e.slice(4);let n=fZ.exec(e);if(n){let s=n[1]?15:n[4]?255:n[7]?4095:65535;return[Math.round(parseInt(n[1]||n[4]||n[7]||n[10],16)/s*255),Math.round(parseInt(n[2]||n[5]||n[8]||n[11],16)/s*255),Math.round(parseInt(n[3]||n[6]||n[9]||n[12],16)/s*255)]}}else if(e.indexOf("#")===0&&(e=e.slice(1),pZ.exec(e)&&[3,6,9,12].includes(e.length))){let n=e.length/3,s=[0,0,0];for(let r=0;r<3;++r){let a=parseInt(e.slice(n*r,n*r+n),16);s[r]=n===1?a<<4:n===2?a:n===3?a>>4:a>>8}return s}}function a_(t,e){let n=t.toString(16),s=n.length<2?"0"+n:n;switch(e){case 4:return n[0];case 8:return s;case 12:return(s+s).slice(0,3);default:return s+s}}function mZ(t,e=16){let[n,s,r]=t;return`rgb:${a_(n,e)}/${a_(s,e)}/${a_(r,e)}`}var gZ={"(":0,")":1,"*":2,"+":3,"-":1,".":2},Fa=131072,xj=10;function wj(t,e){if(t>24)return e.setWinLines||!1;switch(t){case 1:return!!e.restoreWin;case 2:return!!e.minimizeWin;case 3:return!!e.setWinPosition;case 4:return!!e.setWinSizePixels;case 5:return!!e.raiseWin;case 6:return!!e.lowerWin;case 7:return!!e.refreshWin;case 8:return!!e.setWinSizeChars;case 9:return!!e.maximizeWin;case 10:return!!e.fullscreenWin;case 11:return!!e.getWinState;case 13:return!!e.getWinPosition;case 14:return!!e.getWinSizePixels;case 15:return!!e.getScreenSizePixels;case 16:return!!e.getCellSizePixels;case 18:return!!e.getWinSizeChars;case 19:return!!e.getScreenSizeChars;case 20:return!!e.getIconTitle;case 21:return!!e.getWinTitle;case 22:return!!e.pushTitle;case 23:return!!e.popTitle;case 24:return!!e.setWinLines}return!1}var Sj=5e3,kj=0,yZ=class extends bt{constructor(t,e,n,s,r,a,o,c,h=new dZ){super(),this._bufferService=t,this._charsetService=e,this._coreService=n,this._logService=s,this._optionsService=r,this._oscLinkService=a,this._coreMouseService=o,this._unicodeService=c,this._parser=h,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new LX,this._utf8Decoder=new IX,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=kn.clone(),this._eraseAttrDataInternal=kn.clone(),this._onRequestBell=this._register(new Ee),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this._register(new Ee),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this._register(new Ee),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this._register(new Ee),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this._register(new Ee),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this._register(new Ee),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this._register(new Ee),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this._register(new Ee),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this._register(new Ee),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this._register(new Ee),this.onLineFeed=this._onLineFeed.event,this._onScroll=this._register(new Ee),this.onScroll=this._onScroll.event,this._onTitleChange=this._register(new Ee),this.onTitleChange=this._onTitleChange.event,this._onColor=this._register(new Ee),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this._register(this._parser),this._dirtyRowTracker=new Gw(this._bufferService),this._activeBuffer=this._bufferService.buffer,this._register(this._bufferService.buffers.onBufferActivate(d=>this._activeBuffer=d.activeBuffer)),this._parser.setCsiHandlerFallback((d,g)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(d),params:g.toArray()})}),this._parser.setEscHandlerFallback(d=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(d)})}),this._parser.setExecuteHandlerFallback(d=>{this._logService.debug("Unknown EXECUTE code: ",{code:d})}),this._parser.setOscHandlerFallback((d,g,m)=>{this._logService.debug("Unknown OSC code: ",{identifier:d,action:g,data:m})}),this._parser.setDcsHandlerFallback((d,g,m)=>{g==="HOOK"&&(m=m.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(d),action:g,payload:m})}),this._parser.setPrintHandler((d,g,m)=>this.print(d,g,m)),this._parser.registerCsiHandler({final:"@"},d=>this.insertChars(d)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},d=>this.scrollLeft(d)),this._parser.registerCsiHandler({final:"A"},d=>this.cursorUp(d)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},d=>this.scrollRight(d)),this._parser.registerCsiHandler({final:"B"},d=>this.cursorDown(d)),this._parser.registerCsiHandler({final:"C"},d=>this.cursorForward(d)),this._parser.registerCsiHandler({final:"D"},d=>this.cursorBackward(d)),this._parser.registerCsiHandler({final:"E"},d=>this.cursorNextLine(d)),this._parser.registerCsiHandler({final:"F"},d=>this.cursorPrecedingLine(d)),this._parser.registerCsiHandler({final:"G"},d=>this.cursorCharAbsolute(d)),this._parser.registerCsiHandler({final:"H"},d=>this.cursorPosition(d)),this._parser.registerCsiHandler({final:"I"},d=>this.cursorForwardTab(d)),this._parser.registerCsiHandler({final:"J"},d=>this.eraseInDisplay(d,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},d=>this.eraseInDisplay(d,!0)),this._parser.registerCsiHandler({final:"K"},d=>this.eraseInLine(d,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},d=>this.eraseInLine(d,!0)),this._parser.registerCsiHandler({final:"L"},d=>this.insertLines(d)),this._parser.registerCsiHandler({final:"M"},d=>this.deleteLines(d)),this._parser.registerCsiHandler({final:"P"},d=>this.deleteChars(d)),this._parser.registerCsiHandler({final:"S"},d=>this.scrollUp(d)),this._parser.registerCsiHandler({final:"T"},d=>this.scrollDown(d)),this._parser.registerCsiHandler({final:"X"},d=>this.eraseChars(d)),this._parser.registerCsiHandler({final:"Z"},d=>this.cursorBackwardTab(d)),this._parser.registerCsiHandler({final:"`"},d=>this.charPosAbsolute(d)),this._parser.registerCsiHandler({final:"a"},d=>this.hPositionRelative(d)),this._parser.registerCsiHandler({final:"b"},d=>this.repeatPrecedingCharacter(d)),this._parser.registerCsiHandler({final:"c"},d=>this.sendDeviceAttributesPrimary(d)),this._parser.registerCsiHandler({prefix:">",final:"c"},d=>this.sendDeviceAttributesSecondary(d)),this._parser.registerCsiHandler({final:"d"},d=>this.linePosAbsolute(d)),this._parser.registerCsiHandler({final:"e"},d=>this.vPositionRelative(d)),this._parser.registerCsiHandler({final:"f"},d=>this.hVPosition(d)),this._parser.registerCsiHandler({final:"g"},d=>this.tabClear(d)),this._parser.registerCsiHandler({final:"h"},d=>this.setMode(d)),this._parser.registerCsiHandler({prefix:"?",final:"h"},d=>this.setModePrivate(d)),this._parser.registerCsiHandler({final:"l"},d=>this.resetMode(d)),this._parser.registerCsiHandler({prefix:"?",final:"l"},d=>this.resetModePrivate(d)),this._parser.registerCsiHandler({final:"m"},d=>this.charAttributes(d)),this._parser.registerCsiHandler({final:"n"},d=>this.deviceStatus(d)),this._parser.registerCsiHandler({prefix:"?",final:"n"},d=>this.deviceStatusPrivate(d)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},d=>this.softReset(d)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},d=>this.setCursorStyle(d)),this._parser.registerCsiHandler({final:"r"},d=>this.setScrollRegion(d)),this._parser.registerCsiHandler({final:"s"},d=>this.saveCursor(d)),this._parser.registerCsiHandler({final:"t"},d=>this.windowOptions(d)),this._parser.registerCsiHandler({final:"u"},d=>this.restoreCursor(d)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},d=>this.insertColumns(d)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},d=>this.deleteColumns(d)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},d=>this.selectProtected(d)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},d=>this.requestMode(d,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},d=>this.requestMode(d,!1)),this._parser.setExecuteHandler(ve.BEL,()=>this.bell()),this._parser.setExecuteHandler(ve.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(ve.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(ve.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(ve.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(ve.BS,()=>this.backspace()),this._parser.setExecuteHandler(ve.HT,()=>this.tab()),this._parser.setExecuteHandler(ve.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(ve.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(Zm.IND,()=>this.index()),this._parser.setExecuteHandler(Zm.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(Zm.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new tr(d=>(this.setTitle(d),this.setIconName(d),!0))),this._parser.registerOscHandler(1,new tr(d=>this.setIconName(d))),this._parser.registerOscHandler(2,new tr(d=>this.setTitle(d))),this._parser.registerOscHandler(4,new tr(d=>this.setOrReportIndexedColor(d))),this._parser.registerOscHandler(8,new tr(d=>this.setHyperlink(d))),this._parser.registerOscHandler(10,new tr(d=>this.setOrReportFgColor(d))),this._parser.registerOscHandler(11,new tr(d=>this.setOrReportBgColor(d))),this._parser.registerOscHandler(12,new tr(d=>this.setOrReportCursorColor(d))),this._parser.registerOscHandler(104,new tr(d=>this.restoreIndexedColor(d))),this._parser.registerOscHandler(110,new tr(d=>this.restoreFgColor(d))),this._parser.registerOscHandler(111,new tr(d=>this.restoreBgColor(d))),this._parser.registerOscHandler(112,new tr(d=>this.restoreCursorColor(d))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let d in Ln)this._parser.registerEscHandler({intermediates:"(",final:d},()=>this.selectCharset("("+d)),this._parser.registerEscHandler({intermediates:")",final:d},()=>this.selectCharset(")"+d)),this._parser.registerEscHandler({intermediates:"*",final:d},()=>this.selectCharset("*"+d)),this._parser.registerEscHandler({intermediates:"+",final:d},()=>this.selectCharset("+"+d)),this._parser.registerEscHandler({intermediates:"-",final:d},()=>this.selectCharset("-"+d)),this._parser.registerEscHandler({intermediates:".",final:d},()=>this.selectCharset("."+d)),this._parser.registerEscHandler({intermediates:"/",final:d},()=>this.selectCharset("/"+d));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(d=>(this._logService.error("Parsing error: ",d),d)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new bj((d,g)=>this.requestStatusString(d,g)))}getAttrData(){return this._curAttrData}_preserveStack(t,e,n,s){this._parseStack.paused=!0,this._parseStack.cursorStartX=t,this._parseStack.cursorStartY=e,this._parseStack.decodedLength=n,this._parseStack.position=s}_logSlowResolvingAsync(t){this._logService.logLevel<=3&&Promise.race([t,new Promise((e,n)=>setTimeout(()=>n("#SLOW_TIMEOUT"),Sj))]).catch(e=>{if(e!=="#SLOW_TIMEOUT")throw e;console.warn(`async parser handler taking longer than ${Sj} ms`)})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(t,e){let n,s=this._activeBuffer.x,r=this._activeBuffer.y,a=0,o=this._parseStack.paused;if(o){if(n=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,e))return this._logSlowResolvingAsync(n),n;s=this._parseStack.cursorStartX,r=this._parseStack.cursorStartY,this._parseStack.paused=!1,t.length>Fa&&(a=this._parseStack.position+Fa)}if(this._logService.logLevel<=1&&this._logService.debug(`parsing data ${typeof t=="string"?` "${t}"`:` "${Array.prototype.map.call(t,d=>String.fromCharCode(d)).join("")}"`}`),this._logService.logLevel===0&&this._logService.trace("parsing data (codes)",typeof t=="string"?t.split("").map(d=>d.charCodeAt(0)):t),this._parseBuffer.length<t.length&&this._parseBuffer.length<Fa&&(this._parseBuffer=new Uint32Array(Math.min(t.length,Fa))),o||this._dirtyRowTracker.clearRange(),t.length>Fa)for(let d=a;d<t.length;d+=Fa){let g=d+Fa<t.length?d+Fa:t.length,m=typeof t=="string"?this._stringDecoder.decode(t.substring(d,g),this._parseBuffer):this._utf8Decoder.decode(t.subarray(d,g),this._parseBuffer);if(n=this._parser.parse(this._parseBuffer,m))return this._preserveStack(s,r,m,d),this._logSlowResolvingAsync(n),n}else if(!o){let d=typeof t=="string"?this._stringDecoder.decode(t,this._parseBuffer):this._utf8Decoder.decode(t,this._parseBuffer);if(n=this._parser.parse(this._parseBuffer,d))return this._preserveStack(s,r,d,0),this._logSlowResolvingAsync(n),n}(this._activeBuffer.x!==s||this._activeBuffer.y!==r)&&this._onCursorMove.fire();let c=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),h=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);h<this._bufferService.rows&&this._onRequestRefreshRows.fire({start:Math.min(h,this._bufferService.rows-1),end:Math.min(c,this._bufferService.rows-1)})}print(t,e,n){let s,r,a=this._charsetService.charset,o=this._optionsService.rawOptions.screenReaderMode,c=this._bufferService.cols,h=this._coreService.decPrivateModes.wraparound,d=this._coreService.modes.insertMode,g=this._curAttrData,m=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&n-e>0&&m.getWidth(this._activeBuffer.x-1)===2&&m.setCellFromCodepoint(this._activeBuffer.x-1,0,1,g);let v=this._parser.precedingJoinState;for(let y=e;y<n;++y){if(s=t[y],s<127&&a){let k=a[String.fromCharCode(s)];k&&(s=k.charCodeAt(0))}let x=this._unicodeService.charProperties(s,v);r=Fl.extractWidth(x);let w=Fl.extractShouldJoin(x),S=w?Fl.extractWidth(v):0;if(v=x,o&&this._onA11yChar.fire(Wa(s)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+r-S>c){if(h){let k=m,C=this._activeBuffer.x-S;for(this._activeBuffer.x=S,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),m=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),S>0&&m instanceof md&&m.copyCellsFrom(k,C,0,S,!1);C<c;)k.setCellFromCodepoint(C++,0,1,g)}else if(this._activeBuffer.x=c-1,r===2)continue}if(w&&this._activeBuffer.x){let k=m.getWidth(this._activeBuffer.x-1)?1:2;m.addCodepointToCell(this._activeBuffer.x-k,s,r);for(let C=r-S;--C>=0;)m.setCellFromCodepoint(this._activeBuffer.x++,0,0,g);continue}if(d&&(m.insertCells(this._activeBuffer.x,r-S,this._activeBuffer.getNullCell(g)),m.getWidth(c-1)===2&&m.setCellFromCodepoint(c-1,0,1,g)),m.setCellFromCodepoint(this._activeBuffer.x++,s,r,g),r>0)for(;--r;)m.setCellFromCodepoint(this._activeBuffer.x++,0,0,g)}this._parser.precedingJoinState=v,this._activeBuffer.x<c&&n-e>0&&m.getWidth(this._activeBuffer.x)===0&&!m.hasContent(this._activeBuffer.x)&&m.setCellFromCodepoint(this._activeBuffer.x,0,1,g),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(t,e){return t.final==="t"&&!t.prefix&&!t.intermediates?this._parser.registerCsiHandler(t,n=>wj(n.params[0],this._optionsService.rawOptions.windowOptions)?e(n):!0):this._parser.registerCsiHandler(t,e)}registerDcsHandler(t,e){return this._parser.registerDcsHandler(t,new bj(e))}registerEscHandler(t,e){return this._parser.registerEscHandler(t,e)}registerOscHandler(t,e){return this._parser.registerOscHandler(t,new tr(e))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);t.hasWidth(this._activeBuffer.x)&&!t.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-t),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(t=this._bufferService.cols-1){this._activeBuffer.x=Math.min(t,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(t,e){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=t,this._activeBuffer.y=this._activeBuffer.scrollTop+e):(this._activeBuffer.x=t,this._activeBuffer.y=e),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(t,e){this._restrictCursor(),this._setCursor(this._activeBuffer.x+t,this._activeBuffer.y+e)}cursorUp(t){let e=this._activeBuffer.y-this._activeBuffer.scrollTop;return e>=0?this._moveCursor(0,-Math.min(e,t.params[0]||1)):this._moveCursor(0,-(t.params[0]||1)),!0}cursorDown(t){let e=this._activeBuffer.scrollBottom-this._activeBuffer.y;return e>=0?this._moveCursor(0,Math.min(e,t.params[0]||1)):this._moveCursor(0,t.params[0]||1),!0}cursorForward(t){return this._moveCursor(t.params[0]||1,0),!0}cursorBackward(t){return this._moveCursor(-(t.params[0]||1),0),!0}cursorNextLine(t){return this.cursorDown(t),this._activeBuffer.x=0,!0}cursorPrecedingLine(t){return this.cursorUp(t),this._activeBuffer.x=0,!0}cursorCharAbsolute(t){return this._setCursor((t.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(t){return this._setCursor(t.length>=2?(t.params[1]||1)-1:0,(t.params[0]||1)-1),!0}charPosAbsolute(t){return this._setCursor((t.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(t){return this._moveCursor(t.params[0]||1,0),!0}linePosAbsolute(t){return this._setCursor(this._activeBuffer.x,(t.params[0]||1)-1),!0}vPositionRelative(t){return this._moveCursor(0,t.params[0]||1),!0}hVPosition(t){return this.cursorPosition(t),!0}tabClear(t){let e=t.params[0];return e===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:e===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(t){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let e=t.params[0]||1;for(;e--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(t){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let e=t.params[0]||1;for(;e--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(t){let e=t.params[0];return e===1&&(this._curAttrData.bg|=536870912),(e===2||e===0)&&(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(t,e,n,s=!1,r=!1){let a=this._activeBuffer.lines.get(this._activeBuffer.ybase+t);a.replaceCells(e,n,this._activeBuffer.getNullCell(this._eraseAttrData()),r),s&&(a.isWrapped=!1)}_resetBufferLine(t,e=!1){let n=this._activeBuffer.lines.get(this._activeBuffer.ybase+t);n&&(n.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),e),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+t),n.isWrapped=!1)}eraseInDisplay(t,e=!1){this._restrictCursor(this._bufferService.cols);let n;switch(t.params[0]){case 0:for(n=this._activeBuffer.y,this._dirtyRowTracker.markDirty(n),this._eraseInBufferLine(n++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,e);n<this._bufferService.rows;n++)this._resetBufferLine(n,e);this._dirtyRowTracker.markDirty(n);break;case 1:for(n=this._activeBuffer.y,this._dirtyRowTracker.markDirty(n),this._eraseInBufferLine(n,0,this._activeBuffer.x+1,!0,e),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(n+1).isWrapped=!1);n--;)this._resetBufferLine(n,e);this._dirtyRowTracker.markDirty(0);break;case 2:if(this._optionsService.rawOptions.scrollOnEraseInDisplay){for(n=this._bufferService.rows,this._dirtyRowTracker.markRangeDirty(0,n-1);n--&&!this._activeBuffer.lines.get(this._activeBuffer.ybase+n)?.getTrimmedLength(););for(;n>=0;n--)this._bufferService.scroll(this._eraseAttrData())}else{for(n=this._bufferService.rows,this._dirtyRowTracker.markDirty(n-1);n--;)this._resetBufferLine(n,e);this._dirtyRowTracker.markDirty(0)}break;case 3:let s=this._activeBuffer.lines.length-this._bufferService.rows;s>0&&(this._activeBuffer.lines.trimStart(s),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-s,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-s,0),this._onScroll.fire(0));break}return!0}eraseInLine(t,e=!1){switch(this._restrictCursor(this._bufferService.cols),t.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,e);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,e);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,e);break}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(t){this._restrictCursor();let e=t.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let n=this._activeBuffer.ybase+this._activeBuffer.y,s=this._bufferService.rows-1-this._activeBuffer.scrollBottom,r=this._bufferService.rows-1+this._activeBuffer.ybase-s+1;for(;e--;)this._activeBuffer.lines.splice(r-1,1),this._activeBuffer.lines.splice(n,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(t){this._restrictCursor();let e=t.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let n=this._activeBuffer.ybase+this._activeBuffer.y,s;for(s=this._bufferService.rows-1-this._activeBuffer.scrollBottom,s=this._bufferService.rows-1+this._activeBuffer.ybase-s;e--;)this._activeBuffer.lines.splice(n,1),this._activeBuffer.lines.splice(s,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(t){this._restrictCursor();let e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return e&&(e.insertCells(this._activeBuffer.x,t.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(t){this._restrictCursor();let e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return e&&(e.deleteCells(this._activeBuffer.x,t.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(t){let e=t.params[0]||1;for(;e--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(t){let e=t.params[0]||1;for(;e--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(kn));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(t){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let e=t.params[0]||1;for(let n=this._activeBuffer.scrollTop;n<=this._activeBuffer.scrollBottom;++n){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);s.deleteCells(0,e,this._activeBuffer.getNullCell(this._eraseAttrData())),s.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(t){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let e=t.params[0]||1;for(let n=this._activeBuffer.scrollTop;n<=this._activeBuffer.scrollBottom;++n){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);s.insertCells(0,e,this._activeBuffer.getNullCell(this._eraseAttrData())),s.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(t){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let e=t.params[0]||1;for(let n=this._activeBuffer.scrollTop;n<=this._activeBuffer.scrollBottom;++n){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);s.insertCells(this._activeBuffer.x,e,this._activeBuffer.getNullCell(this._eraseAttrData())),s.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(t){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let e=t.params[0]||1;for(let n=this._activeBuffer.scrollTop;n<=this._activeBuffer.scrollBottom;++n){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);s.deleteCells(this._activeBuffer.x,e,this._activeBuffer.getNullCell(this._eraseAttrData())),s.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(t){this._restrictCursor();let e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return e&&(e.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(t.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(t){let e=this._parser.precedingJoinState;if(!e)return!0;let n=t.params[0]||1,s=Fl.extractWidth(e),r=this._activeBuffer.x-s,a=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(r),o=new Uint32Array(a.length*n),c=0;for(let d=0;d<a.length;){let g=a.codePointAt(d)||0;o[c++]=g,d+=g>65535?2:1}let h=c;for(let d=1;d<n;++d)o.copyWithin(h,0,c),h+=c;return this.print(o,0,h),!0}sendDeviceAttributesPrimary(t){return t.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(ve.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(ve.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(t){return t.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(ve.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(ve.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(t.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(ve.ESC+"[>83;40003;0c")),!0}_is(t){return(this._optionsService.rawOptions.termName+"").indexOf(t)===0}setMode(t){for(let e=0;e<t.length;e++)switch(t.params[e]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0;break}return!0}setModePrivate(t){for(let e=0;e<t.length;e++)switch(t.params[e]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,Il),this._charsetService.setgCharset(1,Il),this._charsetService.setgCharset(2,Il),this._charsetService.setgCharset(3,Il);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0;break;case 2026:this._coreService.decPrivateModes.synchronizedOutput=!0;break}return!0}resetMode(t){for(let e=0;e<t.length;e++)switch(t.params[e]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1;break}return!0}resetModePrivate(t){for(let e=0;e<t.length;e++)switch(t.params[e]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),t.params[e]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1;break;case 2026:this._coreService.decPrivateModes.synchronizedOutput=!1,this._onRequestRefreshRows.fire(void 0);break}return!0}requestMode(t,e){let n;(w=>(w[w.NOT_RECOGNIZED=0]="NOT_RECOGNIZED",w[w.SET=1]="SET",w[w.RESET=2]="RESET",w[w.PERMANENTLY_SET=3]="PERMANENTLY_SET",w[w.PERMANENTLY_RESET=4]="PERMANENTLY_RESET"))(n||={});let s=this._coreService.decPrivateModes,{activeProtocol:r,activeEncoding:a}=this._coreMouseService,o=this._coreService,{buffers:c,cols:h}=this._bufferService,{active:d,alt:g}=c,m=this._optionsService.rawOptions,v=(w,S)=>(o.triggerDataEvent(`${ve.ESC}[${e?"":"?"}${w};${S}$y`),!0),y=w=>w?1:2,x=t.params[0];return e?x===2?v(x,4):x===4?v(x,y(o.modes.insertMode)):x===12?v(x,3):x===20?v(x,y(m.convertEol)):v(x,0):x===1?v(x,y(s.applicationCursorKeys)):x===3?v(x,m.windowOptions.setWinLines?h===80?2:h===132?1:0:0):x===6?v(x,y(s.origin)):x===7?v(x,y(s.wraparound)):x===8?v(x,3):x===9?v(x,y(r==="X10")):x===12?v(x,y(m.cursorBlink)):x===25?v(x,y(!o.isCursorHidden)):x===45?v(x,y(s.reverseWraparound)):x===66?v(x,y(s.applicationKeypad)):x===67?v(x,4):x===1e3?v(x,y(r==="VT200")):x===1002?v(x,y(r==="DRAG")):x===1003?v(x,y(r==="ANY")):x===1004?v(x,y(s.sendFocus)):x===1005?v(x,4):x===1006?v(x,y(a==="SGR")):x===1015?v(x,4):x===1016?v(x,y(a==="SGR_PIXELS")):x===1048?v(x,1):x===47||x===1047||x===1049?v(x,y(d===g)):x===2004?v(x,y(s.bracketedPasteMode)):x===2026?v(x,y(s.synchronizedOutput)):v(x,0)}_updateAttrColor(t,e,n,s,r){return e===2?(t|=50331648,t&=-16777216,t|=If.fromColorRGB([n,s,r])):e===5&&(t&=-50331904,t|=33554432|n&255),t}_extractColor(t,e,n){let s=[0,0,-1,0,0,0],r=0,a=0;do{if(s[a+r]=t.params[e+a],t.hasSubParams(e+a)){let o=t.getSubParams(e+a),c=0;do s[1]===5&&(r=1),s[a+c+1+r]=o[c];while(++c<o.length&&c+a+1+r<s.length);break}if(s[1]===5&&a+r>=2||s[1]===2&&a+r>=5)break;s[1]&&(r=1)}while(++a+e<t.length&&a+r<s.length);for(let o=2;o<s.length;++o)s[o]===-1&&(s[o]=0);switch(s[0]){case 38:n.fg=this._updateAttrColor(n.fg,s[1],s[3],s[4],s[5]);break;case 48:n.bg=this._updateAttrColor(n.bg,s[1],s[3],s[4],s[5]);break;case 58:n.extended=n.extended.clone(),n.extended.underlineColor=this._updateAttrColor(n.extended.underlineColor,s[1],s[3],s[4],s[5])}return a}_processUnderline(t,e){e.extended=e.extended.clone(),(!~t||t>5)&&(t=1),e.extended.underlineStyle=t,e.fg|=268435456,t===0&&(e.fg&=-268435457),e.updateExtended()}_processSGR0(t){t.fg=kn.fg,t.bg=kn.bg,t.extended=t.extended.clone(),t.extended.underlineStyle=0,t.extended.underlineColor&=-67108864,t.updateExtended()}charAttributes(t){if(t.length===1&&t.params[0]===0)return this._processSGR0(this._curAttrData),!0;let e=t.length,n,s=this._curAttrData;for(let r=0;r<e;r++)n=t.params[r],n>=30&&n<=37?(s.fg&=-50331904,s.fg|=16777216|n-30):n>=40&&n<=47?(s.bg&=-50331904,s.bg|=16777216|n-40):n>=90&&n<=97?(s.fg&=-50331904,s.fg|=16777216|n-90|8):n>=100&&n<=107?(s.bg&=-50331904,s.bg|=16777216|n-100|8):n===0?this._processSGR0(s):n===1?s.fg|=134217728:n===3?s.bg|=67108864:n===4?(s.fg|=268435456,this._processUnderline(t.hasSubParams(r)?t.getSubParams(r)[0]:1,s)):n===5?s.fg|=536870912:n===7?s.fg|=67108864:n===8?s.fg|=1073741824:n===9?s.fg|=2147483648:n===2?s.bg|=134217728:n===21?this._processUnderline(2,s):n===22?(s.fg&=-134217729,s.bg&=-134217729):n===23?s.bg&=-67108865:n===24?(s.fg&=-268435457,this._processUnderline(0,s)):n===25?s.fg&=-536870913:n===27?s.fg&=-67108865:n===28?s.fg&=-1073741825:n===29?s.fg&=2147483647:n===39?(s.fg&=-67108864,s.fg|=kn.fg&16777215):n===49?(s.bg&=-67108864,s.bg|=kn.bg&16777215):n===38||n===48||n===58?r+=this._extractColor(t,r,s):n===53?s.bg|=1073741824:n===55?s.bg&=-1073741825:n===59?(s.extended=s.extended.clone(),s.extended.underlineColor=-1,s.updateExtended()):n===100?(s.fg&=-67108864,s.fg|=kn.fg&16777215,s.bg&=-67108864,s.bg|=kn.bg&16777215):this._logService.debug("Unknown SGR attribute: %d.",n);return!0}deviceStatus(t){switch(t.params[0]){case 5:this._coreService.triggerDataEvent(`${ve.ESC}[0n`);break;case 6:let e=this._activeBuffer.y+1,n=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${ve.ESC}[${e};${n}R`);break}return!0}deviceStatusPrivate(t){if(t.params[0]===6){let e=this._activeBuffer.y+1,n=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${ve.ESC}[?${e};${n}R`)}return!0}softReset(t){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=kn.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(t){let e=t.length===0?1:t.params[0];if(e===0)this._coreService.decPrivateModes.cursorStyle=void 0,this._coreService.decPrivateModes.cursorBlink=void 0;else{switch(e){case 1:case 2:this._coreService.decPrivateModes.cursorStyle="block";break;case 3:case 4:this._coreService.decPrivateModes.cursorStyle="underline";break;case 5:case 6:this._coreService.decPrivateModes.cursorStyle="bar";break}let n=e%2===1;this._coreService.decPrivateModes.cursorBlink=n}return!0}setScrollRegion(t){let e=t.params[0]||1,n;return(t.length<2||(n=t.params[1])>this._bufferService.rows||n===0)&&(n=this._bufferService.rows),n>e&&(this._activeBuffer.scrollTop=e-1,this._activeBuffer.scrollBottom=n-1,this._setCursor(0,0)),!0}windowOptions(t){if(!wj(t.params[0],this._optionsService.rawOptions.windowOptions))return!0;let e=t.length>1?t.params[1]:0;switch(t.params[0]){case 14:e!==2&&this._onRequestWindowsOptionsReport.fire(0);break;case 16:this._onRequestWindowsOptionsReport.fire(1);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${ve.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:(e===0||e===2)&&(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>xj&&this._windowTitleStack.shift()),(e===0||e===1)&&(this._iconNameStack.push(this._iconName),this._iconNameStack.length>xj&&this._iconNameStack.shift());break;case 23:(e===0||e===2)&&this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),(e===0||e===1)&&this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop());break}return!0}saveCursor(t){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(t){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(t){return this._windowTitle=t,this._onTitleChange.fire(t),!0}setIconName(t){return this._iconName=t,!0}setOrReportIndexedColor(t){let e=[],n=t.split(";");for(;n.length>1;){let s=n.shift(),r=n.shift();if(/^\d+$/.exec(s)){let a=parseInt(s);if(Cj(a))if(r==="?")e.push({type:0,index:a});else{let o=_j(r);o&&e.push({type:1,index:a,color:o})}}}return e.length&&this._onColor.fire(e),!0}setHyperlink(t){let e=t.indexOf(";");if(e===-1)return!0;let n=t.slice(0,e).trim(),s=t.slice(e+1);return s?this._createHyperlink(n,s):n.trim()?!1:this._finishHyperlink()}_createHyperlink(t,e){this._getCurrentLinkId()&&this._finishHyperlink();let n=t.split(":"),s,r=n.findIndex(a=>a.startsWith("id="));return r!==-1&&(s=n[r].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:s,uri:e}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(t,e){let n=t.split(";");for(let s=0;s<n.length&&!(e>=this._specialColors.length);++s,++e)if(n[s]==="?")this._onColor.fire([{type:0,index:this._specialColors[e]}]);else{let r=_j(n[s]);r&&this._onColor.fire([{type:1,index:this._specialColors[e],color:r}])}return!0}setOrReportFgColor(t){return this._setOrReportSpecialColor(t,0)}setOrReportBgColor(t){return this._setOrReportSpecialColor(t,1)}setOrReportCursorColor(t){return this._setOrReportSpecialColor(t,2)}restoreIndexedColor(t){if(!t)return this._onColor.fire([{type:2}]),!0;let e=[],n=t.split(";");for(let s=0;s<n.length;++s)if(/^\d+$/.exec(n[s])){let r=parseInt(n[s]);Cj(r)&&e.push({type:2,index:r})}return e.length&&this._onColor.fire(e),!0}restoreFgColor(t){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(t){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(t){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,Il),!0}selectCharset(t){return t.length!==2?(this.selectDefaultCharset(),!0):(t[0]==="/"||this._charsetService.setgCharset(gZ[t[0]],Ln[t[1]]||Il),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){let t=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,t,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=kn.clone(),this._eraseAttrDataInternal=kn.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=this._curAttrData.bg&67108863,this._eraseAttrDataInternal}setgLevel(t){return this._charsetService.setgLevel(t),!0}screenAlignmentPattern(){let t=new Mr;t.content=1<<22|69,t.fg=this._curAttrData.fg,t.bg=this._curAttrData.bg,this._setCursor(0,0);for(let e=0;e<this._bufferService.rows;++e){let n=this._activeBuffer.ybase+this._activeBuffer.y+e,s=this._activeBuffer.lines.get(n);s&&(s.fill(t),s.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(t,e){let n=o=>(this._coreService.triggerDataEvent(`${ve.ESC}${o}${ve.ESC}\\`),!0),s=this._bufferService.buffer,r=this._optionsService.rawOptions;return n(t==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:t==='"p'?'P1$r61;1"p':t==="r"?`P1$r${s.scrollTop+1};${s.scrollBottom+1}r`:t==="m"?"P1$r0m":t===" q"?`P1$r${{block:2,underline:4,bar:6}[r.cursorStyle]-(r.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(t,e){this._dirtyRowTracker.markRangeDirty(t,e)}},Gw=class{constructor(t){this._bufferService=t,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(t){t<this.start?this.start=t:t>this.end&&(this.end=t)}markRangeDirty(t,e){t>e&&(kj=t,t=e,e=kj),t<this.start&&(this.start=t),e>this.end&&(this.end=e)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};Gw=hn([Le(0,Ns)],Gw);function Cj(t){return 0<=t&&t<256}var vZ=5e7,Nj=12,bZ=50,_Z=class extends bt{constructor(t){super(),this._action=t,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this._register(new Ee),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(t,e){if(e!==void 0&&this._syncCalls>e){this._syncCalls=0;return}if(this._pendingData+=t.length,this._writeBuffer.push(t),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;this._isSyncWriting=!0;let n;for(;n=this._writeBuffer.shift();){this._action(n);let s=this._callbacks.shift();s&&s()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(t,e){if(this._pendingData>vZ)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput){this._didUserInput=!1,this._pendingData+=t.length,this._writeBuffer.push(t),this._callbacks.push(e),this._innerWrite();return}setTimeout(()=>this._innerWrite())}this._pendingData+=t.length,this._writeBuffer.push(t),this._callbacks.push(e)}_innerWrite(t=0,e=!0){let n=t||performance.now();for(;this._writeBuffer.length>this._bufferOffset;){let s=this._writeBuffer[this._bufferOffset],r=this._action(s,e);if(r){let o=c=>performance.now()-n>=Nj?setTimeout(()=>this._innerWrite(0,c)):this._innerWrite(n,c);r.catch(c=>(queueMicrotask(()=>{throw c}),Promise.resolve(!1))).then(o);return}let a=this._callbacks[this._bufferOffset];if(a&&a(),this._bufferOffset++,this._pendingData-=s.length,performance.now()-n>=Nj)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>bZ&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}},Yw=class{constructor(t){this._bufferService=t,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(t){let e=this._bufferService.buffer;if(t.id===void 0){let c=e.addMarker(e.ybase+e.y),h={data:t,id:this._nextId++,lines:[c]};return c.onDispose(()=>this._removeMarkerFromLink(h,c)),this._dataByLinkId.set(h.id,h),h.id}let n=t,s=this._getEntryIdKey(n),r=this._entriesWithId.get(s);if(r)return this.addLineToLink(r.id,e.ybase+e.y),r.id;let a=e.addMarker(e.ybase+e.y),o={id:this._nextId++,key:this._getEntryIdKey(n),data:n,lines:[a]};return a.onDispose(()=>this._removeMarkerFromLink(o,a)),this._entriesWithId.set(o.key,o),this._dataByLinkId.set(o.id,o),o.id}addLineToLink(t,e){let n=this._dataByLinkId.get(t);if(n&&n.lines.every(s=>s.line!==e)){let s=this._bufferService.buffer.addMarker(e);n.lines.push(s),s.onDispose(()=>this._removeMarkerFromLink(n,s))}}getLinkData(t){return this._dataByLinkId.get(t)?.data}_getEntryIdKey(t){return`${t.id};;${t.uri}`}_removeMarkerFromLink(t,e){let n=t.lines.indexOf(e);n!==-1&&(t.lines.splice(n,1),t.lines.length===0&&(t.data.id!==void 0&&this._entriesWithId.delete(t.key),this._dataByLinkId.delete(t.id)))}};Yw=hn([Le(0,Ns)],Yw);var Aj=!1,xZ=class extends bt{constructor(t){super(),this._windowsWrappingHeuristics=this._register(new ru),this._onBinary=this._register(new Ee),this.onBinary=this._onBinary.event,this._onData=this._register(new Ee),this.onData=this._onData.event,this._onLineFeed=this._register(new Ee),this.onLineFeed=this._onLineFeed.event,this._onResize=this._register(new Ee),this.onResize=this._onResize.event,this._onWriteParsed=this._register(new Ee),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this._register(new Ee),this._instantiationService=new qQ,this.optionsService=this._register(new tZ(t)),this._instantiationService.setService(As,this.optionsService),this._bufferService=this._register(this._instantiationService.createInstance(Fw)),this._instantiationService.setService(Ns,this._bufferService),this._logService=this._register(this._instantiationService.createInstance(Vw)),this._instantiationService.setService(aM,this._logService),this.coreService=this._register(this._instantiationService.createInstance(qw)),this._instantiationService.setService(Co,this.coreService),this.coreMouseService=this._register(this._instantiationService.createInstance(Ww)),this._instantiationService.setService(iM,this.coreMouseService),this.unicodeService=this._register(this._instantiationService.createInstance(Fl)),this._instantiationService.setService(HX,this.unicodeService),this._charsetService=this._instantiationService.createInstance(aZ),this._instantiationService.setService($X,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(Yw),this._instantiationService.setService(lM,this._oscLinkService),this._inputHandler=this._register(new yZ(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this._register(ts.forward(this._inputHandler.onLineFeed,this._onLineFeed)),this._register(this._inputHandler),this._register(ts.forward(this._bufferService.onResize,this._onResize)),this._register(ts.forward(this.coreService.onData,this._onData)),this._register(ts.forward(this.coreService.onBinary,this._onBinary)),this._register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom(!0))),this._register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this._register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this._register(this._bufferService.onScroll(()=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this._register(new _Z((e,n)=>this._inputHandler.parse(e,n))),this._register(ts.forward(this._writeBuffer.onWriteParsed,this._onWriteParsed))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this._register(new Ee),this._onScroll.event(t=>{this._onScrollApi?.fire(t.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(t){for(let e in t)this.optionsService.options[e]=t[e]}write(t,e){this._writeBuffer.write(t,e)}writeSync(t,e){this._logService.logLevel<=3&&!Aj&&(this._logService.warn("writeSync is unreliable and will be removed soon."),Aj=!0),this._writeBuffer.writeSync(t,e)}input(t,e=!0){this.coreService.triggerDataEvent(t,e)}resize(t,e){isNaN(t)||isNaN(e)||(t=Math.max(t,zM),e=Math.max(e,$M),this._bufferService.resize(t,e))}scroll(t,e=!1){this._bufferService.scroll(t,e)}scrollLines(t,e){this._bufferService.scrollLines(t,e)}scrollPages(t){this.scrollLines(t*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(t){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(t){let e=t-this._bufferService.buffer.ydisp;e!==0&&this.scrollLines(e)}registerEscHandler(t,e){return this._inputHandler.registerEscHandler(t,e)}registerDcsHandler(t,e){return this._inputHandler.registerDcsHandler(t,e)}registerCsiHandler(t,e){return this._inputHandler.registerCsiHandler(t,e)}registerOscHandler(t,e){return this._inputHandler.registerOscHandler(t,e)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let t=!1,e=this.optionsService.rawOptions.windowsPty;e&&e.buildNumber!==void 0&&e.buildNumber!==void 0?t=e.backend==="conpty"&&e.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(t=!0),t?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){let t=[];t.push(this.onLineFeed(vj.bind(null,this._bufferService))),t.push(this.registerCsiHandler({final:"H"},()=>(vj(this._bufferService),!1))),this._windowsWrappingHeuristics.value=nn(()=>{for(let e of t)e.dispose()})}}},wZ={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};function SZ(t,e,n,s){let r={type:0,cancel:!1,key:void 0},a=(t.shiftKey?1:0)|(t.altKey?2:0)|(t.ctrlKey?4:0)|(t.metaKey?8:0);switch(t.keyCode){case 0:t.key==="UIKeyInputUpArrow"?e?r.key=ve.ESC+"OA":r.key=ve.ESC+"[A":t.key==="UIKeyInputLeftArrow"?e?r.key=ve.ESC+"OD":r.key=ve.ESC+"[D":t.key==="UIKeyInputRightArrow"?e?r.key=ve.ESC+"OC":r.key=ve.ESC+"[C":t.key==="UIKeyInputDownArrow"&&(e?r.key=ve.ESC+"OB":r.key=ve.ESC+"[B");break;case 8:r.key=t.ctrlKey?"\b":ve.DEL,t.altKey&&(r.key=ve.ESC+r.key);break;case 9:if(t.shiftKey){r.key=ve.ESC+"[Z";break}r.key=ve.HT,r.cancel=!0;break;case 13:r.key=t.altKey?ve.ESC+ve.CR:ve.CR,r.cancel=!0;break;case 27:r.key=ve.ESC,t.altKey&&(r.key=ve.ESC+ve.ESC),r.cancel=!0;break;case 37:if(t.metaKey)break;a?r.key=ve.ESC+"[1;"+(a+1)+"D":e?r.key=ve.ESC+"OD":r.key=ve.ESC+"[D";break;case 39:if(t.metaKey)break;a?r.key=ve.ESC+"[1;"+(a+1)+"C":e?r.key=ve.ESC+"OC":r.key=ve.ESC+"[C";break;case 38:if(t.metaKey)break;a?r.key=ve.ESC+"[1;"+(a+1)+"A":e?r.key=ve.ESC+"OA":r.key=ve.ESC+"[A";break;case 40:if(t.metaKey)break;a?r.key=ve.ESC+"[1;"+(a+1)+"B":e?r.key=ve.ESC+"OB":r.key=ve.ESC+"[B";break;case 45:!t.shiftKey&&!t.ctrlKey&&(r.key=ve.ESC+"[2~");break;case 46:a?r.key=ve.ESC+"[3;"+(a+1)+"~":r.key=ve.ESC+"[3~";break;case 36:a?r.key=ve.ESC+"[1;"+(a+1)+"H":e?r.key=ve.ESC+"OH":r.key=ve.ESC+"[H";break;case 35:a?r.key=ve.ESC+"[1;"+(a+1)+"F":e?r.key=ve.ESC+"OF":r.key=ve.ESC+"[F";break;case 33:t.shiftKey?r.type=2:t.ctrlKey?r.key=ve.ESC+"[5;"+(a+1)+"~":r.key=ve.ESC+"[5~";break;case 34:t.shiftKey?r.type=3:t.ctrlKey?r.key=ve.ESC+"[6;"+(a+1)+"~":r.key=ve.ESC+"[6~";break;case 112:a?r.key=ve.ESC+"[1;"+(a+1)+"P":r.key=ve.ESC+"OP";break;case 113:a?r.key=ve.ESC+"[1;"+(a+1)+"Q":r.key=ve.ESC+"OQ";break;case 114:a?r.key=ve.ESC+"[1;"+(a+1)+"R":r.key=ve.ESC+"OR";break;case 115:a?r.key=ve.ESC+"[1;"+(a+1)+"S":r.key=ve.ESC+"OS";break;case 116:a?r.key=ve.ESC+"[15;"+(a+1)+"~":r.key=ve.ESC+"[15~";break;case 117:a?r.key=ve.ESC+"[17;"+(a+1)+"~":r.key=ve.ESC+"[17~";break;case 118:a?r.key=ve.ESC+"[18;"+(a+1)+"~":r.key=ve.ESC+"[18~";break;case 119:a?r.key=ve.ESC+"[19;"+(a+1)+"~":r.key=ve.ESC+"[19~";break;case 120:a?r.key=ve.ESC+"[20;"+(a+1)+"~":r.key=ve.ESC+"[20~";break;case 121:a?r.key=ve.ESC+"[21;"+(a+1)+"~":r.key=ve.ESC+"[21~";break;case 122:a?r.key=ve.ESC+"[23;"+(a+1)+"~":r.key=ve.ESC+"[23~";break;case 123:a?r.key=ve.ESC+"[24;"+(a+1)+"~":r.key=ve.ESC+"[24~";break;default:if(t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey)t.keyCode>=65&&t.keyCode<=90?r.key=String.fromCharCode(t.keyCode-64):t.keyCode===32?r.key=ve.NUL:t.keyCode>=51&&t.keyCode<=55?r.key=String.fromCharCode(t.keyCode-51+27):t.keyCode===56?r.key=ve.DEL:t.keyCode===219?r.key=ve.ESC:t.keyCode===220?r.key=ve.FS:t.keyCode===221&&(r.key=ve.GS);else if((!n||s)&&t.altKey&&!t.metaKey){let o=wZ[t.keyCode]?.[t.shiftKey?1:0];if(o)r.key=ve.ESC+o;else if(t.keyCode>=65&&t.keyCode<=90){let c=t.ctrlKey?t.keyCode-64:t.keyCode+32,h=String.fromCharCode(c);t.shiftKey&&(h=h.toUpperCase()),r.key=ve.ESC+h}else if(t.keyCode===32)r.key=ve.ESC+(t.ctrlKey?ve.NUL:" ");else if(t.key==="Dead"&&t.code.startsWith("Key")){let c=t.code.slice(3,4);t.shiftKey||(c=c.toLowerCase()),r.key=ve.ESC+c,r.cancel=!0}}else n&&!t.altKey&&!t.ctrlKey&&!t.shiftKey&&t.metaKey?t.keyCode===65&&(r.type=1):t.key&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&t.keyCode>=48&&t.key.length===1?r.key=t.key:t.key&&t.ctrlKey&&(t.key==="_"&&(r.key=ve.US),t.key==="@"&&(r.key=ve.NUL));break}return r}var pn=0,kZ=class{constructor(t){this._getKey=t,this._array=[],this._insertedValues=[],this._flushInsertedTask=new og,this._isFlushingInserted=!1,this._deletedIndices=[],this._flushDeletedTask=new og,this._isFlushingDeleted=!1}clear(){this._array.length=0,this._insertedValues.length=0,this._flushInsertedTask.clear(),this._isFlushingInserted=!1,this._deletedIndices.length=0,this._flushDeletedTask.clear(),this._isFlushingDeleted=!1}insert(t){this._flushCleanupDeleted(),this._insertedValues.length===0&&this._flushInsertedTask.enqueue(()=>this._flushInserted()),this._insertedValues.push(t)}_flushInserted(){let t=this._insertedValues.sort((r,a)=>this._getKey(r)-this._getKey(a)),e=0,n=0,s=new Array(this._array.length+this._insertedValues.length);for(let r=0;r<s.length;r++)n>=this._array.length||this._getKey(t[e])<=this._getKey(this._array[n])?(s[r]=t[e],e++):s[r]=this._array[n++];this._array=s,this._insertedValues.length=0}_flushCleanupInserted(){!this._isFlushingInserted&&this._insertedValues.length>0&&this._flushInsertedTask.flush()}delete(t){if(this._flushCleanupInserted(),this._array.length===0)return!1;let e=this._getKey(t);if(e===void 0||(pn=this._search(e),pn===-1)||this._getKey(this._array[pn])!==e)return!1;do if(this._array[pn]===t)return this._deletedIndices.length===0&&this._flushDeletedTask.enqueue(()=>this._flushDeleted()),this._deletedIndices.push(pn),!0;while(++pn<this._array.length&&this._getKey(this._array[pn])===e);return!1}_flushDeleted(){this._isFlushingDeleted=!0;let t=this._deletedIndices.sort((r,a)=>r-a),e=0,n=new Array(this._array.length-t.length),s=0;for(let r=0;r<this._array.length;r++)t[e]===r?e++:n[s++]=this._array[r];this._array=n,this._deletedIndices.length=0,this._isFlushingDeleted=!1}_flushCleanupDeleted(){!this._isFlushingDeleted&&this._deletedIndices.length>0&&this._flushDeletedTask.flush()}*getKeyIterator(t){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(pn=this._search(t),!(pn<0||pn>=this._array.length)&&this._getKey(this._array[pn])===t))do yield this._array[pn];while(++pn<this._array.length&&this._getKey(this._array[pn])===t)}forEachByKey(t,e){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(pn=this._search(t),!(pn<0||pn>=this._array.length)&&this._getKey(this._array[pn])===t))do e(this._array[pn]);while(++pn<this._array.length&&this._getKey(this._array[pn])===t)}values(){return this._flushCleanupInserted(),this._flushCleanupDeleted(),[...this._array].values()}_search(t){let e=0,n=this._array.length-1;for(;n>=e;){let s=e+n>>1,r=this._getKey(this._array[s]);if(r>t)n=s-1;else if(r<t)e=s+1;else{for(;s>0&&this._getKey(this._array[s-1])===t;)s--;return s}}return e}},l_=0,Ej=0,CZ=class extends bt{constructor(){super(),this._decorations=new kZ(t=>t?.marker.line),this._onDecorationRegistered=this._register(new Ee),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this._register(new Ee),this.onDecorationRemoved=this._onDecorationRemoved.event,this._register(nn(()=>this.reset()))}get decorations(){return this._decorations.values()}registerDecoration(t){if(t.marker.isDisposed)return;let e=new NZ(t);if(e){let n=e.marker.onDispose(()=>e.dispose()),s=e.onDispose(()=>{s.dispose(),e&&(this._decorations.delete(e)&&this._onDecorationRemoved.fire(e),n.dispose())});this._decorations.insert(e),this._onDecorationRegistered.fire(e)}return e}reset(){for(let t of this._decorations.values())t.dispose();this._decorations.clear()}*getDecorationsAtCell(t,e,n){let s=0,r=0;for(let a of this._decorations.getKeyIterator(e))s=a.options.x??0,r=s+(a.options.width??1),t>=s&&t<r&&(!n||(a.options.layer??"bottom")===n)&&(yield a)}forEachDecorationAtCell(t,e,n,s){this._decorations.forEachByKey(e,r=>{l_=r.options.x??0,Ej=l_+(r.options.width??1),t>=l_&&t<Ej&&(!n||(r.options.layer??"bottom")===n)&&s(r)})}},NZ=class extends rl{constructor(t){super(),this.options=t,this.onRenderEmitter=this.add(new Ee),this.onRender=this.onRenderEmitter.event,this._onDispose=this.add(new Ee),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=t.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=ln.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=ln.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}},AZ=1e3,EZ=class{constructor(t,e=AZ){this._renderCallback=t,this._debounceThresholdMS=e,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(t,e,n){this._rowCount=n,t=t!==void 0?t:0,e=e!==void 0?e:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,t):t,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,e):e;let s=performance.now();if(s-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=s,this._innerRefresh();else if(!this._additionalRefreshRequested){let r=s-this._lastRefreshMs,a=this._debounceThresholdMS-r;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=performance.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},a)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;let t=Math.max(this._rowStart,0),e=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(t,e)}},jj=20,cg=class extends bt{constructor(t,e,n,s){super(),this._terminal=t,this._coreBrowserService=n,this._renderService=s,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="";let r=this._coreBrowserService.mainDocument;this._accessibilityContainer=r.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=r.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let a=0;a<this._terminal.rows;a++)this._rowElements[a]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[a]);if(this._topBoundaryFocusListener=a=>this._handleBoundaryFocus(a,0),this._bottomBoundaryFocusListener=a=>this._handleBoundaryFocus(a,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=r.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this._register(new EZ(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this._register(this._terminal.onResize(a=>this._handleResize(a.rows))),this._register(this._terminal.onRender(a=>this._refreshRows(a.start,a.end))),this._register(this._terminal.onScroll(()=>this._refreshRows())),this._register(this._terminal.onA11yChar(a=>this._handleChar(a))),this._register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this._register(this._terminal.onA11yTab(a=>this._handleTab(a))),this._register(this._terminal.onKey(a=>this._handleKey(a.key))),this._register(this._terminal.onBlur(()=>this._clearLiveRegion())),this._register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._register(st(r,"selectionchange",()=>this._handleSelectionChange())),this._register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRowsDimensions(),this._refreshRows(),this._register(nn(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(t){for(let e=0;e<t;e++)this._handleChar(" ")}_handleChar(t){this._liveRegionLineCount<jj+1&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==t&&(this._charsToAnnounce+=t):this._charsToAnnounce+=t,t===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===jj+1&&(this._liveRegion.textContent+=mw.get())))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(t){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(t)||this._charsToConsume.push(t)}_refreshRows(t,e){this._liveRegionDebouncer.refresh(t,e,this._terminal.rows)}_renderRows(t,e){let n=this._terminal.buffer,s=n.lines.length.toString();for(let r=t;r<=e;r++){let a=n.lines.get(n.ydisp+r),o=[],c=a?.translateToString(!0,void 0,void 0,o)||"",h=(n.ydisp+r+1).toString(),d=this._rowElements[r];d&&(c.length===0?(d.textContent="",this._rowColumns.set(d,[0,1])):(d.textContent=c,this._rowColumns.set(d,o)),d.setAttribute("aria-posinset",h),d.setAttribute("aria-setsize",s),this._alignRowWidth(d))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(t,e){let n=t.target,s=this._rowElements[e===0?1:this._rowElements.length-2],r=n.getAttribute("aria-posinset"),a=e===0?"1":`${this._terminal.buffer.lines.length}`;if(r===a||t.relatedTarget!==s)return;let o,c;if(e===0?(o=n,c=this._rowElements.pop(),this._rowContainer.removeChild(c)):(o=this._rowElements.shift(),c=n,this._rowContainer.removeChild(o)),o.removeEventListener("focus",this._topBoundaryFocusListener),c.removeEventListener("focus",this._bottomBoundaryFocusListener),e===0){let h=this._createAccessibilityTreeNode();this._rowElements.unshift(h),this._rowContainer.insertAdjacentElement("afterbegin",h)}else{let h=this._createAccessibilityTreeNode();this._rowElements.push(h),this._rowContainer.appendChild(h)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(e===0?-1:1),this._rowElements[e===0?1:this._rowElements.length-2].focus(),t.preventDefault(),t.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;let t=this._coreBrowserService.mainDocument.getSelection();if(!t)return;if(t.isCollapsed){this._rowContainer.contains(t.anchorNode)&&this._terminal.clearSelection();return}if(!t.anchorNode||!t.focusNode){console.error("anchorNode and/or focusNode are null");return}let e={node:t.anchorNode,offset:t.anchorOffset},n={node:t.focusNode,offset:t.focusOffset};if((e.node.compareDocumentPosition(n.node)&Node.DOCUMENT_POSITION_PRECEDING||e.node===n.node&&e.offset>n.offset)&&([e,n]=[n,e]),e.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(e={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(e.node))return;let s=this._rowElements.slice(-1)[0];if(n.node.compareDocumentPosition(s)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(n={node:s,offset:s.textContent?.length??0}),!this._rowContainer.contains(n.node))return;let r=({node:c,offset:h})=>{let d=c instanceof Text?c.parentNode:c,g=parseInt(d?.getAttribute("aria-posinset"),10)-1;if(isNaN(g))return console.warn("row is invalid. Race condition?"),null;let m=this._rowColumns.get(d);if(!m)return console.warn("columns is null. Race condition?"),null;let v=h<m.length?m[h]:m.slice(-1)[0]+1;return v>=this._terminal.cols&&(++g,v=0),{row:g,column:v}},a=r(e),o=r(n);if(!(!a||!o)){if(a.row>o.row||a.row===o.row&&a.column>=o.column)throw new Error("invalid range");this._terminal.select(a.column,a.row,(o.row-a.row)*this._terminal.cols-a.column+o.column)}}_handleResize(t){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let e=this._rowContainer.children.length;e<this._terminal.rows;e++)this._rowElements[e]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[e]);for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){let t=this._coreBrowserService.mainDocument.createElement("div");return t.setAttribute("role","listitem"),t.tabIndex=-1,this._refreshRowDimensions(t),t}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){Object.assign(this._accessibilityContainer.style,{width:`${this._renderService.dimensions.css.canvas.width}px`,fontSize:`${this._terminal.options.fontSize}px`}),this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let t=0;t<this._terminal.rows;t++)this._refreshRowDimensions(this._rowElements[t]),this._alignRowWidth(this._rowElements[t])}}_refreshRowDimensions(t){t.style.height=`${this._renderService.dimensions.css.cell.height}px`}_alignRowWidth(t){t.style.transform="";let e=t.getBoundingClientRect().width,n=this._rowColumns.get(t)?.slice(-1)?.[0];if(!n)return;let s=n*this._renderService.dimensions.css.cell.width;t.style.transform=`scaleX(${s/e})`}};cg=hn([Le(1,W2),Le(2,fa),Le(3,pa)],cg);var Xw=class extends bt{constructor(t,e,n,s,r){super(),this._element=t,this._mouseService=e,this._renderService=n,this._bufferService=s,this._linkProviderService=r,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this._register(new Ee),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this._register(new Ee),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this._register(nn(()=>{mo(this._linkCacheDisposables),this._linkCacheDisposables.length=0,this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this._register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this._register(st(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this._register(st(this._element,"mousemove",this._handleMouseMove.bind(this))),this._register(st(this._element,"mousedown",this._handleMouseDown.bind(this))),this._register(st(this._element,"mouseup",this._handleMouseUp.bind(this)))}get currentLink(){return this._currentLink}_handleMouseMove(t){this._lastMouseEvent=t;let e=this._positionFromMouseEvent(t,this._element,this._mouseService);if(!e)return;this._isMouseOut=!1;let n=t.composedPath();for(let s=0;s<n.length;s++){let r=n[s];if(r.classList.contains("xterm"))break;if(r.classList.contains("xterm-hover"))return}(!this._lastBufferCell||e.x!==this._lastBufferCell.x||e.y!==this._lastBufferCell.y)&&(this._handleHover(e),this._lastBufferCell=e)}_handleHover(t){if(this._activeLine!==t.y||this._wasResized){this._clearCurrentLink(),this._askForLink(t,!1),this._wasResized=!1;return}this._currentLink&&this._linkAtPosition(this._currentLink.link,t)||(this._clearCurrentLink(),this._askForLink(t,!0))}_askForLink(t,e){(!this._activeProviderReplies||!e)&&(this._activeProviderReplies?.forEach(s=>{s?.forEach(r=>{r.link.dispose&&r.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=t.y);let n=!1;for(let[s,r]of this._linkProviderService.linkProviders.entries())e?this._activeProviderReplies?.get(s)&&(n=this._checkLinkProviderResult(s,t,n)):r.provideLinks(t.y,a=>{if(this._isMouseOut)return;let o=a?.map(c=>({link:c}));this._activeProviderReplies?.set(s,o),n=this._checkLinkProviderResult(s,t,n),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(t.y,this._activeProviderReplies)})}_removeIntersectingLinks(t,e){let n=new Set;for(let s=0;s<e.size;s++){let r=e.get(s);if(r)for(let a=0;a<r.length;a++){let o=r[a],c=o.link.range.start.y<t?0:o.link.range.start.x,h=o.link.range.end.y>t?this._bufferService.cols:o.link.range.end.x;for(let d=c;d<=h;d++){if(n.has(d)){r.splice(a--,1);break}n.add(d)}}}}_checkLinkProviderResult(t,e,n){if(!this._activeProviderReplies)return n;let s=this._activeProviderReplies.get(t),r=!1;for(let a=0;a<t;a++)(!this._activeProviderReplies.has(a)||this._activeProviderReplies.get(a))&&(r=!0);if(!r&&s){let a=s.find(o=>this._linkAtPosition(o.link,e));a&&(n=!0,this._handleNewLink(a))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!n)for(let a=0;a<this._activeProviderReplies.size;a++){let o=this._activeProviderReplies.get(a)?.find(c=>this._linkAtPosition(c.link,e));if(o){n=!0,this._handleNewLink(o);break}}return n}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(t){if(!this._currentLink)return;let e=this._positionFromMouseEvent(t,this._element,this._mouseService);e&&this._mouseDownLink&&jZ(this._mouseDownLink.link,this._currentLink.link)&&this._linkAtPosition(this._currentLink.link,e)&&this._currentLink.link.activate(t,this._currentLink.link.text)}_clearCurrentLink(t,e){!this._currentLink||!this._lastMouseEvent||(!t||!e||this._currentLink.link.range.start.y>=t&&this._currentLink.link.range.end.y<=e)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,mo(this._linkCacheDisposables),this._linkCacheDisposables.length=0)}_handleNewLink(t){if(!this._lastMouseEvent)return;let e=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);e&&this._linkAtPosition(t.link,e)&&(this._currentLink=t,this._currentLink.state={decorations:{underline:t.link.decorations===void 0?!0:t.link.decorations.underline,pointerCursor:t.link.decorations===void 0?!0:t.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,t.link,this._lastMouseEvent),t.link.decorations={},Object.defineProperties(t.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:n=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==n&&(this._currentLink.state.decorations.pointerCursor=n,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",n))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:n=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==n&&(this._currentLink.state.decorations.underline=n,this._currentLink.state.isHovered&&this._fireUnderlineEvent(t.link,n))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(n=>{if(!this._currentLink)return;let s=n.start===0?0:n.start+1+this._bufferService.buffer.ydisp,r=this._bufferService.buffer.ydisp+1+n.end;if(this._currentLink.link.range.start.y>=s&&this._currentLink.link.range.end.y<=r&&(this._clearCurrentLink(s,r),this._lastMouseEvent)){let a=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);a&&this._askForLink(a,!1)}})))}_linkHover(t,e,n){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(e,!0),this._currentLink.state.decorations.pointerCursor&&t.classList.add("xterm-cursor-pointer")),e.hover&&e.hover(n,e.text)}_fireUnderlineEvent(t,e){let n=t.range,s=this._bufferService.buffer.ydisp,r=this._createLinkUnderlineEvent(n.start.x-1,n.start.y-s-1,n.end.x,n.end.y-s-1,void 0);(e?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(r)}_linkLeave(t,e,n){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(e,!1),this._currentLink.state.decorations.pointerCursor&&t.classList.remove("xterm-cursor-pointer")),e.leave&&e.leave(n,e.text)}_linkAtPosition(t,e){let n=t.range.start.y*this._bufferService.cols+t.range.start.x,s=t.range.end.y*this._bufferService.cols+t.range.end.x,r=e.y*this._bufferService.cols+e.x;return n<=r&&r<=s}_positionFromMouseEvent(t,e,n){let s=n.getCoords(t,e,this._bufferService.cols,this._bufferService.rows);if(s)return{x:s[0],y:s[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(t,e,n,s,r){return{x1:t,y1:e,x2:n,y2:s,cols:this._bufferService.cols,fg:r}}};Xw=hn([Le(1,K2),Le(2,pa),Le(3,Ns),Le(4,cM)],Xw);function jZ(t,e){return t.text===e.text&&t.range.start.x===e.range.start.x&&t.range.start.y===e.range.start.y&&t.range.end.x===e.range.end.x&&t.range.end.y===e.range.end.y}var TZ=class extends xZ{constructor(t={}){super(t),this._linkifier=this._register(new ru),this.browser=EM,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this._register(new ru),this._onCursorMove=this._register(new Ee),this.onCursorMove=this._onCursorMove.event,this._onKey=this._register(new Ee),this.onKey=this._onKey.event,this._onRender=this._register(new Ee),this.onRender=this._onRender.event,this._onSelectionChange=this._register(new Ee),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this._register(new Ee),this.onTitleChange=this._onTitleChange.event,this._onBell=this._register(new Ee),this.onBell=this._onBell.event,this._onFocus=this._register(new Ee),this._onBlur=this._register(new Ee),this._onA11yCharEmitter=this._register(new Ee),this._onA11yTabEmitter=this._register(new Ee),this._onWillOpen=this._register(new Ee),this._setup(),this._decorationService=this._instantiationService.createInstance(CZ),this._instantiationService.setService(Pf,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(bQ),this._instantiationService.setService(cM,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(yw)),this._register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this._register(this._inputHandler.onRequestRefreshRows(e=>this.refresh(e?.start??0,e?.end??this.rows-1))),this._register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this._register(this._inputHandler.onRequestReset(()=>this.reset())),this._register(this._inputHandler.onRequestWindowsOptionsReport(e=>this._reportWindowsOptions(e))),this._register(this._inputHandler.onColor(e=>this._handleColorEvent(e))),this._register(ts.forward(this._inputHandler.onCursorMove,this._onCursorMove)),this._register(ts.forward(this._inputHandler.onTitleChange,this._onTitleChange)),this._register(ts.forward(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this._register(ts.forward(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this._register(this._bufferService.onResize(e=>this._afterResize(e.cols,e.rows))),this._register(nn(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}get linkifier(){return this._linkifier.value}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(t){if(this._themeService)for(let e of t){let n,s="";switch(e.index){case 256:n="foreground",s="10";break;case 257:n="background",s="11";break;case 258:n="cursor",s="12";break;default:n="ansi",s="4;"+e.index}switch(e.type){case 0:let r=Jt.toColorRGB(n==="ansi"?this._themeService.colors.ansi[e.index]:this._themeService.colors[n]);this.coreService.triggerDataEvent(`${ve.ESC}]${s};${mZ(r)}${NM.ST}`);break;case 1:if(n==="ansi")this._themeService.modifyColors(a=>a.ansi[e.index]=Cn.toColor(...e.color));else{let a=n;this._themeService.modifyColors(o=>o[a]=Cn.toColor(...e.color))}break;case 2:this._themeService.restoreColor(e.index);break}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(t){t?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(cg,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(t){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ve.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ve.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;let t=this.buffer.ybase+this.buffer.y,e=this.buffer.lines.get(t);if(!e)return;let n=Math.min(this.buffer.x,this.cols-1),s=this._renderService.dimensions.css.cell.height,r=e.getWidth(n),a=this._renderService.dimensions.css.cell.width*r,o=this.buffer.y*this._renderService.dimensions.css.cell.height,c=n*this._renderService.dimensions.css.cell.width;this.textarea.style.left=c+"px",this.textarea.style.top=o+"px",this.textarea.style.width=a+"px",this.textarea.style.height=s+"px",this.textarea.style.lineHeight=s+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this._register(st(this.element,"copy",e=>{this.hasSelection()&&MX(e,this._selectionService)}));let t=e=>DX(e,this.textarea,this.coreService,this.optionsService);this._register(st(this.textarea,"paste",t)),this._register(st(this.element,"paste",t)),jM?this._register(st(this.element,"mousedown",e=>{e.button===2&&z3(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this._register(st(this.element,"contextmenu",e=>{z3(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),tk&&this._register(st(this.element,"auxclick",e=>{e.button===1&&eM(e,this.textarea,this.screenElement)}))}_bindKeys(){this._register(st(this.textarea,"keyup",t=>this._keyUp(t),!0)),this._register(st(this.textarea,"keydown",t=>this._keyDown(t),!0)),this._register(st(this.textarea,"keypress",t=>this._keyPress(t),!0)),this._register(st(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this._register(st(this.textarea,"compositionupdate",t=>this._compositionHelper.compositionupdate(t))),this._register(st(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this._register(st(this.textarea,"input",t=>this._inputEvent(t),!0)),this._register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(t){if(!t)throw new Error("Terminal requires a parent element.");if(t.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService){this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView);return}this._document=t.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),t.appendChild(this.element);let e=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),e.appendChild(this._viewportElement),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._register(st(this.screenElement,"mousemove",r=>this.updateCursorStyle(r))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),e.appendChild(this.screenElement);let n=this.textarea=this._document.createElement("textarea");this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",pw.get()),OM||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._register(this.optionsService.onSpecificOptionChange("disableStdin",()=>n.readOnly=this.optionsService.rawOptions.disableStdin)),this.textarea.readOnly=this.optionsService.rawOptions.disableStdin,this._coreBrowserService=this._register(this._instantiationService.createInstance(yQ,this.textarea,t.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(fa,this._coreBrowserService),this._register(st(this.textarea,"focus",r=>this._handleTextAreaFocus(r))),this._register(st(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(Pw,this._document,this._helperContainer),this._instantiationService.setService(jy,this._charSizeService),this._themeService=this._instantiationService.createInstance(Uw),this._instantiationService.setService(Nu,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(ag),this._instantiationService.setService(oM,this._characterJoinerService),this._renderService=this._register(this._instantiationService.createInstance($w,this.rows,this.screenElement)),this._instantiationService.setService(pa,this._renderService),this._register(this._renderService.onRenderedViewportChange(r=>this._onRender.fire(r))),this.onResize(r=>this._renderService.resize(r.cols,r.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(Dw,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(zw),this._instantiationService.setService(K2,this._mouseService);let s=this._linkifier.value=this._register(this._instantiationService.createInstance(Xw,this.screenElement));this.element.appendChild(e);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this._register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this._register(this.onBlur(()=>this._renderService.handleBlur())),this._register(this.onFocus(()=>this._renderService.handleFocus())),this._viewport=this._register(this._instantiationService.createInstance(Bw,this.element,this.screenElement)),this._register(this._viewport.onRequestScrollLines(r=>{super.scrollLines(r,!1),this.refresh(0,this.rows-1)})),this._selectionService=this._register(this._instantiationService.createInstance(Hw,this.element,this.screenElement,s)),this._instantiationService.setService(VX,this._selectionService),this._register(this._selectionService.onRequestScrollLines(r=>this.scrollLines(r.amount,r.suppressScrollEvent))),this._register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this._register(this._selectionService.onRequestRedraw(r=>this._renderService.handleSelectionChanged(r.start,r.end,r.columnSelectMode))),this._register(this._selectionService.onLinuxMouseSelection(r=>{this.textarea.value=r,this.textarea.focus(),this.textarea.select()})),this._register(ts.any(this._onScroll.event,this._inputHandler.onScroll)(()=>{this._selectionService.refresh(),this._viewport?.queueSync()})),this._register(this._instantiationService.createInstance(Mw,this.screenElement)),this._register(st(this.element,"mousedown",r=>this._selectionService.handleMouseDown(r))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(cg,this)),this._register(this.optionsService.onSpecificOptionChange("screenReaderMode",r=>this._handleScreenReaderModeOptionChange(r))),this.options.overviewRuler.width&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(ig,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRuler",r=>{!this._overviewRulerRenderer&&r&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(ig,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(Iw,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){let t=this,e=this.element;function n(a){let o=t._mouseService.getMouseReportCoords(a,t.screenElement);if(!o)return!1;let c,h;switch(a.overrideType||a.type){case"mousemove":h=32,a.buttons===void 0?(c=3,a.button!==void 0&&(c=a.button<3?a.button:3)):c=a.buttons&1?0:a.buttons&4?1:a.buttons&2?2:3;break;case"mouseup":h=0,c=a.button<3?a.button:3;break;case"mousedown":h=1,c=a.button<3?a.button:3;break;case"wheel":if(t._customWheelEventHandler&&t._customWheelEventHandler(a)===!1)return!1;let d=a.deltaY;if(d===0||t.coreMouseService.consumeWheelEvent(a,t._renderService?.dimensions?.device?.cell?.height,t._coreBrowserService?.dpr)===0)return!1;h=d<0?0:1,c=4;break;default:return!1}return h===void 0||c===void 0||c>4?!1:t.coreMouseService.triggerMouseEvent({col:o.col,row:o.row,x:o.x,y:o.y,button:c,action:h,ctrl:a.ctrlKey,alt:a.altKey,shift:a.shiftKey})}let s={mouseup:null,wheel:null,mousedrag:null,mousemove:null},r={mouseup:a=>(n(a),a.buttons||(this._document.removeEventListener("mouseup",s.mouseup),s.mousedrag&&this._document.removeEventListener("mousemove",s.mousedrag)),this.cancel(a)),wheel:a=>(n(a),this.cancel(a,!0)),mousedrag:a=>{a.buttons&&n(a)},mousemove:a=>{a.buttons||n(a)}};this._register(this.coreMouseService.onProtocolChange(a=>{a?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(a)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),a&8?s.mousemove||(e.addEventListener("mousemove",r.mousemove),s.mousemove=r.mousemove):(e.removeEventListener("mousemove",s.mousemove),s.mousemove=null),a&16?s.wheel||(e.addEventListener("wheel",r.wheel,{passive:!1}),s.wheel=r.wheel):(e.removeEventListener("wheel",s.wheel),s.wheel=null),a&2?s.mouseup||(s.mouseup=r.mouseup):(this._document.removeEventListener("mouseup",s.mouseup),s.mouseup=null),a&4?s.mousedrag||(s.mousedrag=r.mousedrag):(this._document.removeEventListener("mousemove",s.mousedrag),s.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this._register(st(e,"mousedown",a=>{if(a.preventDefault(),this.focus(),!(!this.coreMouseService.areMouseEventsActive||this._selectionService.shouldForceSelection(a)))return n(a),s.mouseup&&this._document.addEventListener("mouseup",s.mouseup),s.mousedrag&&this._document.addEventListener("mousemove",s.mousedrag),this.cancel(a)})),this._register(st(e,"wheel",a=>{if(!s.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(a)===!1)return!1;if(!this.buffer.hasScrollback){if(a.deltaY===0)return!1;if(t.coreMouseService.consumeWheelEvent(a,t._renderService?.dimensions?.device?.cell?.height,t._coreBrowserService?.dpr)===0)return this.cancel(a,!0);let o=ve.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(a.deltaY<0?"A":"B");return this.coreService.triggerDataEvent(o,!0),this.cancel(a,!0)}}},{passive:!1}))}refresh(t,e){this._renderService?.refreshRows(t,e)}updateCursorStyle(t){this._selectionService?.shouldColumnSelect(t)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(t,e){this._viewport?this._viewport.scrollLines(t):super.scrollLines(t,e),this.refresh(0,this.rows-1)}scrollPages(t){this.scrollLines(t*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(t){t&&this._viewport?this._viewport.scrollToLine(this.buffer.ybase,!0):this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(t){let e=t-this._bufferService.buffer.ydisp;e!==0&&this.scrollLines(e)}paste(t){ZB(t,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(t){this._customKeyEventHandler=t}attachCustomWheelEventHandler(t){this._customWheelEventHandler=t}registerLinkProvider(t){return this._linkProviderService.registerLinkProvider(t)}registerCharacterJoiner(t){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");let e=this._characterJoinerService.register(t);return this.refresh(0,this.rows-1),e}deregisterCharacterJoiner(t){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(t)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(t){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+t)}registerDecoration(t){return this._decorationService.registerDecoration(t)}hasSelection(){return this._selectionService?this._selectionService.hasSelection:!1}select(t,e,n){this._selectionService.setSelection(t,e,n)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(!(!this._selectionService||!this._selectionService.hasSelection))return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(t,e){this._selectionService?.selectLines(t,e)}_keyDown(t){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(t)===!1)return!1;let e=this.browser.isMac&&this.options.macOptionIsMeta&&t.altKey;if(!e&&!this._compositionHelper.keydown(t))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(!0),!1;!e&&(t.key==="Dead"||t.key==="AltGraph")&&(this._unprocessedDeadKey=!0);let n=SZ(t,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(t),n.type===3||n.type===2){let s=this.rows-1;return this.scrollLines(n.type===2?-s:s),this.cancel(t,!0)}if(n.type===1&&this.selectAll(),this._isThirdLevelShift(this.browser,t)||(n.cancel&&this.cancel(t,!0),!n.key)||t.key&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&t.key.length===1&&t.key.charCodeAt(0)>=65&&t.key.charCodeAt(0)<=90)return!0;if(this._unprocessedDeadKey)return this._unprocessedDeadKey=!1,!0;if((n.key===ve.ETX||n.key===ve.CR)&&(this.textarea.value=""),this._onKey.fire({key:n.key,domEvent:t}),this._showCursor(),this.coreService.triggerDataEvent(n.key,!0),!this.optionsService.rawOptions.screenReaderMode||t.altKey||t.ctrlKey)return this.cancel(t,!0);this._keyDownHandled=!0}_isThirdLevelShift(t,e){let n=t.isMac&&!this.options.macOptionIsMeta&&e.altKey&&!e.ctrlKey&&!e.metaKey||t.isWindows&&e.altKey&&e.ctrlKey&&!e.metaKey||t.isWindows&&e.getModifierState("AltGraph");return e.type==="keypress"?n:n&&(!e.keyCode||e.keyCode>47)}_keyUp(t){this._keyDownSeen=!1,!(this._customKeyEventHandler&&this._customKeyEventHandler(t)===!1)&&(RZ(t)||this.focus(),this.updateCursorStyle(t),this._keyPressHandled=!1)}_keyPress(t){let e;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(t)===!1)return!1;if(this.cancel(t),t.charCode)e=t.charCode;else if(t.which===null||t.which===void 0)e=t.keyCode;else if(t.which!==0&&t.charCode!==0)e=t.which;else return!1;return!e||(t.altKey||t.ctrlKey||t.metaKey)&&!this._isThirdLevelShift(this.browser,t)?!1:(e=String.fromCharCode(e),this._onKey.fire({key:e,domEvent:t}),this._showCursor(),this.coreService.triggerDataEvent(e,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,!0)}_inputEvent(t){if(t.data&&t.inputType==="insertText"&&(!t.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;let e=t.data;return this.coreService.triggerDataEvent(e,!0),this.cancel(t),!0}return!1}resize(t,e){if(t===this.cols&&e===this.rows){this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure();return}super.resize(t,e)}_afterResize(t,e){this._charSizeService?.measure()}clear(){if(!(this.buffer.ybase===0&&this.buffer.y===0)){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let t=1;t<this.rows;t++)this.buffer.lines.push(this.buffer.getBlankLine(kn));this._onScroll.fire({position:this.buffer.ydisp}),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;let t=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this._customKeyEventHandler=t,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(ve.ESC+"[I"):this.coreService.triggerDataEvent(ve.ESC+"[O")}_reportWindowsOptions(t){if(this._renderService)switch(t){case 0:let e=this._renderService.dimensions.css.canvas.width.toFixed(0),n=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${ve.ESC}[4;${n};${e}t`);break;case 1:let s=this._renderService.dimensions.css.cell.width.toFixed(0),r=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${ve.ESC}[6;${r};${s}t`);break}}cancel(t,e){if(!(!this.options.cancelEvents&&!e))return t.preventDefault(),t.stopPropagation(),!1}};function RZ(t){return t.keyCode===16||t.keyCode===17||t.keyCode===18}var OZ=class{constructor(){this._addons=[]}dispose(){for(let t=this._addons.length-1;t>=0;t--)this._addons[t].instance.dispose()}loadAddon(t,e){let n={instance:e,dispose:e.dispose,isDisposed:!1};this._addons.push(n),e.dispose=()=>this._wrappedAddonDispose(n),e.activate(t)}_wrappedAddonDispose(t){if(t.isDisposed)return;let e=-1;for(let n=0;n<this._addons.length;n++)if(this._addons[n]===t){e=n;break}if(e===-1)throw new Error("Could not dispose an addon that has not been loaded");t.isDisposed=!0,t.dispose.apply(t.instance),this._addons.splice(e,1)}},BZ=class{constructor(t){this._line=t}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(t,e){if(!(t<0||t>=this._line.length))return e?(this._line.loadCell(t,e),e):this._line.loadCell(t,new Mr)}translateToString(t,e,n){return this._line.translateToString(t,e,n)}},Tj=class{constructor(t,e){this._buffer=t,this.type=e}init(t){return this._buffer=t,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(t){let e=this._buffer.lines.get(t);if(e)return new BZ(e)}getNullCell(){return new Mr}},MZ=class extends bt{constructor(t){super(),this._core=t,this._onBufferChange=this._register(new Ee),this.onBufferChange=this._onBufferChange.event,this._normal=new Tj(this._core.buffers.normal,"normal"),this._alternate=new Tj(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}},DZ=class{constructor(t){this._core=t}registerCsiHandler(t,e){return this._core.registerCsiHandler(t,n=>e(n.toArray()))}addCsiHandler(t,e){return this.registerCsiHandler(t,e)}registerDcsHandler(t,e){return this._core.registerDcsHandler(t,(n,s)=>e(n,s.toArray()))}addDcsHandler(t,e){return this.registerDcsHandler(t,e)}registerEscHandler(t,e){return this._core.registerEscHandler(t,e)}addEscHandler(t,e){return this.registerEscHandler(t,e)}registerOscHandler(t,e){return this._core.registerOscHandler(t,e)}addOscHandler(t,e){return this.registerOscHandler(t,e)}},LZ=class{constructor(t){this._core=t}register(t){this._core.unicodeService.register(t)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(t){this._core.unicodeService.activeVersion=t}},IZ=["cols","rows"],li=0,PZ=class extends bt{constructor(t){super(),this._core=this._register(new TZ(t)),this._addonManager=this._register(new OZ),this._publicOptions={...this._core.options};let e=s=>this._core.options[s],n=(s,r)=>{this._checkReadonlyOptions(s),this._core.options[s]=r};for(let s in this._core.options){let r={get:e.bind(this,s),set:n.bind(this,s)};Object.defineProperty(this._publicOptions,s,r)}}_checkReadonlyOptions(t){if(IZ.includes(t))throw new Error(`Option "${t}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new DZ(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new LZ(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this._register(new MZ(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){let t=this._core.coreService.decPrivateModes,e="none";switch(this._core.coreMouseService.activeProtocol){case"X10":e="x10";break;case"VT200":e="vt200";break;case"DRAG":e="drag";break;case"ANY":e="any";break}return{applicationCursorKeysMode:t.applicationCursorKeys,applicationKeypadMode:t.applicationKeypad,bracketedPasteMode:t.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:e,originMode:t.origin,reverseWraparoundMode:t.reverseWraparound,sendFocusMode:t.sendFocus,synchronizedOutputMode:t.synchronizedOutput,wraparoundMode:t.wraparound}}get options(){return this._publicOptions}set options(t){for(let e in t)this._publicOptions[e]=t[e]}blur(){this._core.blur()}focus(){this._core.focus()}input(t,e=!0){this._core.input(t,e)}resize(t,e){this._verifyIntegers(t,e),this._core.resize(t,e)}open(t){this._core.open(t)}attachCustomKeyEventHandler(t){this._core.attachCustomKeyEventHandler(t)}attachCustomWheelEventHandler(t){this._core.attachCustomWheelEventHandler(t)}registerLinkProvider(t){return this._core.registerLinkProvider(t)}registerCharacterJoiner(t){return this._checkProposedApi(),this._core.registerCharacterJoiner(t)}deregisterCharacterJoiner(t){this._checkProposedApi(),this._core.deregisterCharacterJoiner(t)}registerMarker(t=0){return this._verifyIntegers(t),this._core.registerMarker(t)}registerDecoration(t){return this._checkProposedApi(),this._verifyPositiveIntegers(t.x??0,t.width??0,t.height??0),this._core.registerDecoration(t)}hasSelection(){return this._core.hasSelection()}select(t,e,n){this._verifyIntegers(t,e,n),this._core.select(t,e,n)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(t,e){this._verifyIntegers(t,e),this._core.selectLines(t,e)}dispose(){super.dispose()}scrollLines(t){this._verifyIntegers(t),this._core.scrollLines(t)}scrollPages(t){this._verifyIntegers(t),this._core.scrollPages(t)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(t){this._verifyIntegers(t),this._core.scrollToLine(t)}clear(){this._core.clear()}write(t,e){this._core.write(t,e)}writeln(t,e){this._core.write(t),this._core.write(`\r
`,e)}paste(t){this._core.paste(t)}refresh(t,e){this._verifyIntegers(t,e),this._core.refresh(t,e)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(t){this._addonManager.loadAddon(this,t)}static get strings(){return{get promptLabel(){return pw.get()},set promptLabel(t){pw.set(t)},get tooMuchOutput(){return mw.get()},set tooMuchOutput(t){mw.set(t)}}}_verifyIntegers(...t){for(li of t)if(li===1/0||isNaN(li)||li%1!==0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...t){for(li of t)if(li&&(li===1/0||isNaN(li)||li%1!==0||li<0))throw new Error("This API only accepts positive integers")}};var zZ=2,$Z=1,HZ=class{activate(t){this._terminal=t}dispose(){}fit(){let t=this.proposeDimensions();if(!t||!this._terminal||isNaN(t.cols)||isNaN(t.rows))return;let e=this._terminal._core;(this._terminal.rows!==t.rows||this._terminal.cols!==t.cols)&&(e._renderService.clear(),this._terminal.resize(t.cols,t.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let t=this._terminal._core._renderService.dimensions;if(t.css.cell.width===0||t.css.cell.height===0)return;let e=this._terminal.options.scrollback===0?0:this._terminal.options.overviewRuler?.width||14,n=window.getComputedStyle(this._terminal.element.parentElement),s=parseInt(n.getPropertyValue("height")),r=Math.max(0,parseInt(n.getPropertyValue("width"))),a=window.getComputedStyle(this._terminal.element),o={top:parseInt(a.getPropertyValue("padding-top")),bottom:parseInt(a.getPropertyValue("padding-bottom")),right:parseInt(a.getPropertyValue("padding-right")),left:parseInt(a.getPropertyValue("padding-left"))},c=o.top+o.bottom,h=o.right+o.left,d=s-c,g=r-h-e;return{cols:Math.max(zZ,Math.floor(g/t.css.cell.width)),rows:Math.max($Z,Math.floor(d/t.css.cell.height))}}};var UZ=class{constructor(e,n,s,r={}){this._terminal=e,this._regex=n,this._handler=s,this._options=r}provideLinks(e,n){let s=FZ.computeLink(e,this._regex,this._terminal,this._handler);n(this._addCallbacks(s))}_addCallbacks(e){return e.map(n=>(n.leave=this._options.leave,n.hover=(s,r)=>{if(this._options.hover){let{range:a}=n;this._options.hover(s,r,a)}},n))}};function VZ(t){try{let e=new URL(t),n=e.password&&e.username?`${e.protocol}//${e.username}:${e.password}@${e.host}`:e.username?`${e.protocol}//${e.username}@${e.host}`:`${e.protocol}//${e.host}`;return t.toLocaleLowerCase().startsWith(n.toLocaleLowerCase())}catch{return!1}}var FZ=class n0{static computeLink(e,n,s,r){let a=new RegExp(n.source,(n.flags||"")+"g"),[o,c]=n0._getWindowedLineStrings(e-1,s),h=o.join(""),d,g=[];for(;d=a.exec(h);){let m=d[0];if(!VZ(m))continue;let[v,y]=n0._mapStrIdx(s,c,0,d.index),[x,w]=n0._mapStrIdx(s,v,y,m.length);if(v===-1||y===-1||x===-1||w===-1)continue;let S={start:{x:y+1,y:v+1},end:{x:w,y:x+1}};g.push({range:S,text:m,activate:r})}return g}static _getWindowedLineStrings(e,n){let s,r=e,a=e,o=0,c="",h=[];if(s=n.buffer.active.getLine(e)){let d=s.translateToString(!0);if(s.isWrapped&&d[0]!==" "){for(o=0;(s=n.buffer.active.getLine(--r))&&o<2048&&(c=s.translateToString(!0),o+=c.length,h.push(c),!(!s.isWrapped||c.indexOf(" ")!==-1)););h.reverse()}for(h.push(d),o=0;(s=n.buffer.active.getLine(++a))&&s.isWrapped&&o<2048&&(c=s.translateToString(!0),o+=c.length,h.push(c),c.indexOf(" ")===-1););}return[h,r]}static _mapStrIdx(e,n,s,r){let a=e.buffer.active,o=a.getNullCell(),c=s;for(;r;){let h=a.getLine(n);if(!h)return[-1,-1];for(let d=c;d<h.length;++d){h.getCell(d,o);let g=o.getChars();if(o.getWidth()&&(r-=g.length||1,d===h.length-1&&g==="")){let m=a.getLine(n+1);m&&m.isWrapped&&(m.getCell(0,o),o.getWidth()===2&&(r+=1))}if(r<0)return[n,d]}n++,c=0}return[n,c]}},qZ=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function WZ(t,e){let n=window.open();if(n){try{n.opener=null}catch{}n.location.href=e}else console.warn("Opening link blocked as opener could not be cleared")}var KZ=class{constructor(t=WZ,e={}){this._handler=t,this._options=e}activate(t){this._terminal=t;let e=this._options,n=e.urlRegex||qZ;this._linkProvider=this._terminal.registerLinkProvider(new UZ(this._terminal,n,this._handler,e))}dispose(){this._linkProvider?.dispose()}};const GZ=0,YZ=1,XZ=2,JZ=4,QZ=["/bin/bash","/bin/sh"];class ZZ{ws=null;options;isClosing=!1;hasConnected=!1;constructor(e){this.options=e}async connect(){const e=this.options.command||QZ;for(const n of e)try{await this.tryConnect([n]),this.hasConnected=!0;return}catch{if(n===e[e.length-1])throw new Error(`No shell available (tried: ${e.join(", ")})`)}}tryConnect(e){return new Promise((n,s)=>{const{context:r,namespace:a,pod:o,container:c}=this.options,h=new URLSearchParams;h.set("container",c),h.set("stdin","true"),h.set("stdout","true"),h.set("stderr","true"),h.set("tty","true");for(const y of e)h.append("command",y);const g=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/contexts/${r}/api/v1/namespaces/${a}/pods/${o}/exec?${h.toString()}`;this.ws=new WebSocket(g,["v4.channel.k8s.io"]);let m=!1;const v=setTimeout(()=>{m||(m=!0,this.ws?.close(),s(new Error("Connection timeout")))},5e3);this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{setTimeout(()=>{!m&&this.ws?.readyState===WebSocket.OPEN&&(clearTimeout(v),m=!0,n())},200)},this.ws.onmessage=y=>{if(y.data instanceof ArrayBuffer){const x=new Uint8Array(y.data);if(x.length<1)return;const w=x[0],S=new TextDecoder().decode(x.slice(1));switch(w){case YZ:case XZ:S&&this.options.onData(S);break}}},this.ws.onerror=()=>{clearTimeout(v),m||(m=!0,s(new Error("WebSocket connection failed")))},this.ws.onclose=y=>{clearTimeout(v),m?!this.isClosing&&this.hasConnected&&this.options.onClose?.():(m=!0,s(new Error(y.reason||`Connection closed (code: ${y.code})`)))}})}send(e){if(this.ws?.readyState===WebSocket.OPEN){const s=new TextEncoder().encode(e),r=new Uint8Array(s.length+1);r[0]=GZ,r.set(s,1),this.ws.send(r)}}resize(e,n){if(this.ws?.readyState===WebSocket.OPEN){const s=JSON.stringify({Width:e,Height:n}),a=new TextEncoder().encode(s),o=new Uint8Array(a.length+1);o[0]=JZ,o.set(a,1),this.ws.send(o)}}disconnect(){this.isClosing=!0,this.ws&&(this.ws.close(),this.ws=null)}get isConnected(){return this.ws?.readyState===WebSocket.OPEN}}function eee(t){const e=[],n=t.spec,s=t.status;if(n?.containers)for(const r of n.containers){const a=s?.containerStatuses?.find(o=>o.name===r.name);e.push({name:r.name,ready:a?.ready??!1})}return e}function tee({resource:t,toolbarRef:e}){const{context:n}=hr(),s=W.useRef(null),r=W.useRef(null),a=W.useRef(null),o=W.useRef(null),[c,h]=W.useState(!1),[d,g]=W.useState(!1),[m,v]=W.useState(""),[y,x]=W.useState(!1),w=t.metadata?.namespace,S=t.metadata?.name,k=eee(t);W.useEffect(()=>{k.length>0&&!m&&v(k[0].name)},[k,m]),W.useEffect(()=>{if(!s.current||r.current)return;const j=new PZ({cursorBlink:!0,fontSize:13,fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',theme:{background:"#0a0a0a",foreground:"#e5e5e5",cursor:"#e5e5e5",cursorAccent:"#0a0a0a",selectionBackground:"#3b82f680",black:"#171717",red:"#ef4444",green:"#22c55e",yellow:"#eab308",blue:"#3b82f6",magenta:"#a855f7",cyan:"#06b6d4",white:"#e5e5e5",brightBlack:"#404040",brightRed:"#f87171",brightGreen:"#4ade80",brightYellow:"#facc15",brightBlue:"#60a5fa",brightMagenta:"#c084fc",brightCyan:"#22d3ee",brightWhite:"#ffffff"},allowProposedApi:!0}),$=new HZ,H=new KZ;j.loadAddon($),j.loadAddon(H),j.open(s.current),$.fit(),r.current=j,a.current=$;const Y=()=>{$.fit(),o.current?.isConnected&&o.current.resize(j.cols,j.rows)},z=new ResizeObserver(Y);return z.observe(s.current),window.addEventListener("resize",Y),()=>{z.disconnect(),window.removeEventListener("resize",Y),j.dispose(),r.current=null,a.current=null}},[]);const C=W.useCallback(async()=>{if(!w||!S||!m||!r.current)return;o.current?.disconnect(),g(!0);const j=r.current;j.clear(),j.writeln(`Connecting to ${S}/${m}...`),j.writeln("");try{const $=new ZZ({context:n,namespace:w,pod:S,container:m,onData:Y=>{j.write(Y)},onError:Y=>{j.writeln(`\r
\x1B[31mError: ${Y}\x1B[0m`)},onClose:()=>{h(!1),j.writeln(`\r
\x1B[33mConnection closed.\x1B[0m`)}});await $.connect(),o.current=$,h(!0);const H=a.current;H&&(H.fit(),$.resize(j.cols,j.rows)),j.onData(Y=>{$.send(Y)})}catch($){const H=$ instanceof Error?$.message:"Failed to connect";j.writeln(`\r
\x1B[31mFailed to connect: ${H}\x1B[0m`)}finally{g(!1)}},[n,w,S,m]),E=W.useCallback(()=>{o.current?.disconnect(),o.current=null,h(!1)},[]),B=W.useRef(!1);W.useEffect(()=>{if(m&&!B.current&&r.current){B.current=!0;const j=setTimeout(()=>{C()},100);return()=>clearTimeout(j)}},[m,C]),W.useEffect(()=>()=>{o.current?.disconnect(),o.current=null},[]);const D=j=>{v(j),x(!1),E()};return f.jsxs("div",{className:"flex flex-col h-full bg-[#0a0a0a]",children:[e&&f.jsxs(q2,{toolbarRef:e,children:[k.length>1&&f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors",children:[f.jsx("span",{className:"max-w-30 truncate",children:m}),f.jsx(rs,{size:12})]}),y&&f.jsx("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg shadow-lg py-1 min-w-40",children:k.map(j=>f.jsxs("button",{onClick:()=>D(j.name),className:`w-full text-left px-3 py-1.5 text-xs hover:bg-neutral-100 dark:hover:bg-neutral-700 flex items-center gap-2 ${j.name===m?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-500/10":"text-neutral-700 dark:text-neutral-300"}`,children:[f.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${j.ready?"bg-emerald-500":"bg-neutral-400"}`}),j.name]},j.name))})]}),c?f.jsx("button",{onClick:E,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors",title:"Disconnect",children:f.jsx(aP,{size:12})}):f.jsx("button",{onClick:C,disabled:d||!m,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Connect",children:f.jsx(N7,{size:12})})]}),f.jsx("div",{ref:s,className:"flex-1 p-2",style:{minHeight:0}}),f.jsxs("div",{className:"shrink-0 px-4 py-1.5 border-t border-neutral-800 bg-neutral-900/50 flex items-center gap-3 text-xs text-neutral-500",children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${c?"bg-emerald-500":d?"bg-amber-500 animate-pulse":"bg-neutral-600"}`}),c?"Connected":d?"Connecting...":"Disconnected"]}),m&&f.jsxs("span",{className:"text-neutral-600",children:[S,"/",m]})]})]})}function nee(t){const e=He.c(13),{metadata:n}=t,s=n.labels,r=n.annotations;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Set(["pod-template-hash","controller-revision-hash","pod-template-generation"]),e[0]=a):a=e[0];const o=a;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=new Set(["kubectl.kubernetes.io/last-applied-configuration","deployment.kubernetes.io/revision","control-plane.alpha.kubernetes.io/leader","deprecated.daemonset.template.generation","kubernetes.io/description"]),e[1]=c):c=e[1];const h=c;let d;e[2]!==s?(d=s?Object.fromEntries(Object.entries(s).filter(S=>{const[k]=S;return!o.has(k)})):void 0,e[2]=s,e[3]=d):d=e[3];const g=d;let m;e[4]!==r?(m=r?Object.fromEntries(Object.entries(r).filter(S=>{const[k]=S;return!h.has(k)})):void 0,e[4]=r,e[5]=m):m=e[5];const v=m;let y;e[6]!==g?(y=g&&Object.keys(g).length>0&&f.jsxs("section",{className:"mb-4",children:[f.jsx("h4",{className:"text-xs font-medium uppercase tracking-wider text-neutral-600 dark:text-neutral-400 mb-2",children:"Labels"}),f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("table",{className:"w-full text-xs",children:f.jsx("tbody",{children:Object.entries(g).map(ree)})})})]}),e[6]=g,e[7]=y):y=e[7];let x;e[8]!==v?(x=v&&Object.keys(v).length>0&&f.jsxs("section",{className:"mb-4",children:[f.jsx("h4",{className:"text-xs font-medium uppercase tracking-wider text-neutral-600 dark:text-neutral-400 mb-2",children:"Annotations"}),f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("table",{className:"w-full text-xs",children:f.jsx("tbody",{children:Object.entries(v).map(see)})})})]}),e[8]=v,e[9]=x):x=e[9];let w;return e[10]!==y||e[11]!==x?(w=f.jsxs("div",{className:"space-y-4",children:[y,x]}),e[10]=y,e[11]=x,e[12]=w):w=e[12],w}function see(t){const[e,n]=t;return f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-1.5 pr-3 text-purple-600 dark:text-purple-400 align-top whitespace-nowrap",children:e}),f.jsx("td",{className:"py-1.5 text-neutral-600 dark:text-neutral-300 break-all",children:n})]},e)}function ree(t){const[e,n]=t;return f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-1.5 pr-3 text-sky-600 dark:text-sky-400 align-top whitespace-nowrap",children:e}),f.jsx("td",{className:"py-1.5 text-emerald-600 dark:text-emerald-400 break-all",children:n})]},e)}function iee(t){const e=He.c(6),{events:n,loading:s}=t;if(s&&n.length===0){let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=f.jsxs("div",{className:"flex items-center gap-2 text-neutral-600 dark:text-neutral-500 text-sm",children:[f.jsx(Gl,{size:14,className:"animate-spin"}),"Loading events..."]}),e[0]=o):o=e[0],o}if(n.length===0){let o;return e[1]===Symbol.for("react.memo_cache_sentinel")?(o=f.jsx("div",{className:"text-neutral-600 dark:text-neutral-500 text-sm italic",children:"No events found for this resource"}),e[1]=o):o=e[1],o}let r;e[2]!==n?(r=n.map(aee),e[2]=n,e[3]=r):r=e[3];let a;return e[4]!==r?(a=f.jsx("div",{className:"space-y-2",children:r}),e[4]=r,e[5]=a):a=e[5],a}function aee(t){return f.jsx(lee,{event:t},t.metadata?.uid||`${t.reason}-${t.lastTimestamp}`)}function lee(t){const e=He.c(36),{event:n}=t;let s;e[0]!==n.eventTime||e[1]!==n.lastTimestamp||e[2]!==n.metadata?(s=()=>n.lastTimestamp?n.lastTimestamp instanceof Date?n.lastTimestamp.toISOString():String(n.lastTimestamp):n.eventTime?String(n.eventTime):n.metadata?.creationTimestamp?n.metadata.creationTimestamp instanceof Date?n.metadata.creationTimestamp.toISOString():String(n.metadata.creationTimestamp):new Date().toISOString(),e[0]=n.eventTime,e[1]=n.lastTimestamp,e[2]=n.metadata,e[3]=s):s=e[3];const r=s;let a,o,c,h,d;if(e[4]!==n.reason||e[5]!==n.type||e[6]!==r){const w=r(),S=n.type==="Warning";d=`p-3 rounded-lg border ${S?"bg-amber-500/5 border-amber-500/20":"bg-neutral-100 dark:bg-neutral-900/50 border-neutral-300 dark:border-neutral-700/50"}`,c="flex items-start justify-between gap-2 mb-1";const k=`px-1.5 py-0.5 rounded text-xs font-medium ${S?"bg-amber-500/20 text-amber-600 dark:text-amber-400":"bg-emerald-500/20 text-emerald-600 dark:text-emerald-400"}`;let C;e[12]!==n.type||e[13]!==k?(C=f.jsx("span",{className:k,children:n.type}),e[12]=n.type,e[13]=k,e[14]=C):C=e[14];let E;e[15]!==n.reason?(E=f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-200",children:n.reason}),e[15]=n.reason,e[16]=E):E=e[16],e[17]!==C||e[18]!==E?(h=f.jsxs("div",{className:"flex items-center gap-2",children:[C,E]}),e[17]=C,e[18]=E,e[19]=h):h=e[19],a="text-xs text-neutral-600 dark:text-neutral-500 whitespace-nowrap",o=oee(w),e[4]=n.reason,e[5]=n.type,e[6]=r,e[7]=a,e[8]=o,e[9]=c,e[10]=h,e[11]=d}else a=e[7],o=e[8],c=e[9],h=e[10],d=e[11];let g;e[20]!==a||e[21]!==o?(g=f.jsx("span",{className:a,children:o}),e[20]=a,e[21]=o,e[22]=g):g=e[22];let m;e[23]!==c||e[24]!==h||e[25]!==g?(m=f.jsxs("div",{className:c,children:[h,g]}),e[23]=c,e[24]=h,e[25]=g,e[26]=m):m=e[26];let v;e[27]!==n.message?(v=f.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-400",children:n.message}),e[27]=n.message,e[28]=v):v=e[28];let y;e[29]!==n.count?(y=n.count&&n.count>1&&f.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-500 mt-1",children:["Occurred ",n.count," times"]}),e[29]=n.count,e[30]=y):y=e[30];let x;return e[31]!==y||e[32]!==d||e[33]!==m||e[34]!==v?(x=f.jsxs("div",{className:d,children:[m,v,y]}),e[31]=y,e[32]=d,e[33]=m,e[34]=v,e[35]=x):x=e[35],x}function oee(t){const e=new Date(t),s=new Date().getTime()-e.getTime(),r=Math.floor(s/1e3),a=Math.floor(r/60),o=Math.floor(a/60),c=Math.floor(o/24);return c>0?`${c}d ago`:o>0?`${o}h ago`:a>0?`${a}m ago`:`${r}s ago`}function Rj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=Array(e);n<e;n++)s[n]=t[n];return s}function cee(t){if(Array.isArray(t))return t}function uee(t,e,n){return(e=yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,r,a,o,c=[],h=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(h=(s=a.call(n)).done)&&(c.push(s.value),c.length!==e);h=!0);}catch(g){d=!0,r=g}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw r}}return c}}function dee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function Bj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(n),!0).forEach(function(s){uee(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function fee(t,e){if(t==null)return{};var n,s,r=pee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pee(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.indexOf(s)!==-1)continue;n[s]=t[s]}return n}function mee(t,e){return cee(t)||hee(t,e)||vee(t,e)||dee()}function gee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yee(t){var e=gee(t,"string");return typeof e=="symbol"?e:e+""}function vee(t,e){if(t){if(typeof t=="string")return Rj(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rj(t,e):void 0}}function bee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function Dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(n),!0).forEach(function(s){bee(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function _ee(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){return e.reduceRight(function(r,a){return a(r)},s)}}function vd(t){return function e(){for(var n=this,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return r.length>=t.length?t.apply(this,r):function(){for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];return e.apply(n,[].concat(r,c))}}}function ug(t){return{}.toString.call(t).includes("Object")}function xee(t){return!Object.keys(t).length}function uf(t){return typeof t=="function"}function wee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function See(t,e){return ug(e)||il("changeType"),Object.keys(e).some(function(n){return!wee(t,n)})&&il("changeField"),e}function kee(t){uf(t)||il("selectorType")}function Cee(t){uf(t)||ug(t)||il("handlerType"),ug(t)&&Object.values(t).some(function(e){return!uf(e)})&&il("handlersType")}function Nee(t){t||il("initialIsRequired"),ug(t)||il("initialType"),xee(t)&&il("initialContent")}function Aee(t,e){throw new Error(t[e]||t.default)}var Eee={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},il=vd(Aee)(Eee),Em={changes:See,selector:kee,handler:Cee,initial:Nee};function jee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Em.initial(t),Em.handler(e);var n={current:t},s=vd(Oee)(n,e),r=vd(Ree)(n),a=vd(Em.changes)(t),o=vd(Tee)(n);function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(g){return g};return Em.selector(d),d(n.current)}function h(d){_ee(s,r,a,o)(d)}return[c,h]}function Tee(t,e){return uf(e)?e(t.current):e}function Ree(t,e){return t.current=Dj(Dj({},t.current),e),e}function Oee(t,e,n){return uf(e)?e(t.current):Object.keys(n).forEach(function(s){var r;return(r=e[s])===null||r===void 0?void 0:r.call(e,t.current[s])}),n}var Bee={create:jee},Mee={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Dee(t){return function e(){for(var n=this,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return r.length>=t.length?t.apply(this,r):function(){for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];return e.apply(n,[].concat(r,c))}}}function Lee(t){return{}.toString.call(t).includes("Object")}function Iee(t){return t||Lj("configIsRequired"),Lee(t)||Lj("configType"),t.urls?(Pee(),{paths:{vs:t.urls.monacoBase}}):t}function Pee(){console.warn(UM.deprecation)}function zee(t,e){throw new Error(t[e]||t.default)}var UM={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Lj=Dee(zee)(UM),$ee={config:Iee},Hee=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(r){return n.reduceRight(function(a,o){return o(a)},r)}};function VM(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],VM(t[n],e[n]))}),Bj(Bj({},t),e)}var Uee={type:"cancelation",msg:"operation is manually canceled"};function o_(t){var e=!1,n=new Promise(function(s,r){t.then(function(a){return e?r(Uee):s(a)}),t.catch(r)});return n.cancel=function(){return e=!0},n}var Vee=["monaco"],Fee=Bee.create({config:Mee,isInitialized:!1,resolve:null,reject:null,monaco:null}),FM=mee(Fee,2),Hf=FM[0],Oy=FM[1];function qee(t){var e=$ee.config(t),n=e.monaco,s=fee(e,Vee);Oy(function(r){return{config:VM(r.config,s),monaco:n}})}function Wee(){var t=Hf(function(e){var n=e.monaco,s=e.isInitialized,r=e.resolve;return{monaco:n,isInitialized:s,resolve:r}});if(!t.isInitialized){if(Oy({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),o_(c_);if(window.monaco&&window.monaco.editor)return qM(window.monaco),t.resolve(window.monaco),o_(c_);Hee(Kee,Yee)(Xee)}return o_(c_)}function Kee(t){return document.body.appendChild(t)}function Gee(t){var e=document.createElement("script");return t&&(e.src=t),e}function Yee(t){var e=Hf(function(s){var r=s.config,a=s.reject;return{config:r,reject:a}}),n=Gee("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Xee(){var t=Hf(function(n){var s=n.config,r=n.resolve,a=n.reject;return{config:s,resolve:r,reject:a}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){var s=n.m||n;qM(s),t.resolve(s)},function(n){t.reject(n)})}function qM(t){Hf().monaco||Oy({monaco:t})}function Jee(){return Hf(function(t){var e=t.monaco;return e})}var c_=new Promise(function(t,e){return Oy({resolve:t,reject:e})}),WM={config:qee,init:Wee,__getMonacoInstance:Jee},Qee={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},u_=Qee,Zee={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},ete=Zee;function tte({children:t}){return Wr.createElement("div",{style:ete.container},t)}var nte=tte,ste=nte;function rte({width:t,height:e,isEditorReady:n,loading:s,_ref:r,className:a,wrapperProps:o}){return Wr.createElement("section",{style:{...u_.wrapper,width:t,height:e},...o},!n&&Wr.createElement(ste,null,s),Wr.createElement("div",{ref:r,style:{...u_.fullWidth,...!n&&u_.hide},className:a}))}var ite=rte,KM=W.memo(ite);function ate(t){W.useEffect(t,[])}var GM=ate;function lte(t,e,n=!0){let s=W.useRef(!0);W.useEffect(s.current||!n?()=>{s.current=!1}:t,e)}var or=lte;function Id(){}function Bc(t,e,n,s){return ote(t,s)||cte(t,e,n,s)}function ote(t,e){return t.editor.getModel(YM(t,e))}function cte(t,e,n,s){return t.editor.createModel(e,n,s?YM(t,s):void 0)}function YM(t,e){return t.Uri.parse(e)}function ute({original:t,modified:e,language:n,originalLanguage:s,modifiedLanguage:r,originalModelPath:a,modifiedModelPath:o,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:h=!1,theme:d="light",loading:g="Loading...",options:m={},height:v="100%",width:y="100%",className:x,wrapperProps:w={},beforeMount:S=Id,onMount:k=Id}){let[C,E]=W.useState(!1),[B,D]=W.useState(!0),j=W.useRef(null),$=W.useRef(null),H=W.useRef(null),Y=W.useRef(k),z=W.useRef(S),J=W.useRef(!1);GM(()=>{let q=WM.init();return q.then(L=>($.current=L)&&D(!1)).catch(L=>L?.type!=="cancelation"&&console.error("Monaco initialization: error:",L)),()=>j.current?Q():q.cancel()}),or(()=>{if(j.current&&$.current){let q=j.current.getOriginalEditor(),L=Bc($.current,t||"",s||n||"text",a||"");L!==q.getModel()&&q.setModel(L)}},[a],C),or(()=>{if(j.current&&$.current){let q=j.current.getModifiedEditor(),L=Bc($.current,e||"",r||n||"text",o||"");L!==q.getModel()&&q.setModel(L)}},[o],C),or(()=>{let q=j.current.getModifiedEditor();q.getOption($.current.editor.EditorOption.readOnly)?q.setValue(e||""):e!==q.getValue()&&(q.executeEdits("",[{range:q.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),q.pushUndoStop())},[e],C),or(()=>{j.current?.getModel()?.original.setValue(t||"")},[t],C),or(()=>{let{original:q,modified:L}=j.current.getModel();$.current.editor.setModelLanguage(q,s||n||"text"),$.current.editor.setModelLanguage(L,r||n||"text")},[n,s,r],C),or(()=>{$.current?.editor.setTheme(d)},[d],C),or(()=>{j.current?.updateOptions(m)},[m],C);let F=W.useCallback(()=>{if(!$.current)return;z.current($.current);let q=Bc($.current,t||"",s||n||"text",a||""),L=Bc($.current,e||"",r||n||"text",o||"");j.current?.setModel({original:q,modified:L})},[n,e,r,t,s,a,o]),K=W.useCallback(()=>{!J.current&&H.current&&(j.current=$.current.editor.createDiffEditor(H.current,{automaticLayout:!0,...m}),F(),$.current?.editor.setTheme(d),E(!0),J.current=!0)},[m,d,F]);W.useEffect(()=>{C&&Y.current(j.current,$.current)},[C]),W.useEffect(()=>{!B&&!C&&K()},[B,C,K]);function Q(){let q=j.current?.getModel();c||q?.original?.dispose(),h||q?.modified?.dispose(),j.current?.dispose()}return Wr.createElement(KM,{width:y,height:v,isEditorReady:C,loading:g,_ref:H,className:x,wrapperProps:w})}var hte=ute;W.memo(hte);function dte(t){let e=W.useRef();return W.useEffect(()=>{e.current=t},[t]),e.current}var fte=dte,jm=new Map;function pte({defaultValue:t,defaultLanguage:e,defaultPath:n,value:s,language:r,path:a,theme:o="light",line:c,loading:h="Loading...",options:d={},overrideServices:g={},saveViewState:m=!0,keepCurrentModel:v=!1,width:y="100%",height:x="100%",className:w,wrapperProps:S={},beforeMount:k=Id,onMount:C=Id,onChange:E,onValidate:B=Id}){let[D,j]=W.useState(!1),[$,H]=W.useState(!0),Y=W.useRef(null),z=W.useRef(null),J=W.useRef(null),F=W.useRef(C),K=W.useRef(k),Q=W.useRef(),q=W.useRef(s),L=fte(a),G=W.useRef(!1),U=W.useRef(!1);GM(()=>{let O=WM.init();return O.then(V=>(Y.current=V)&&H(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>z.current?R():O.cancel()}),or(()=>{let O=Bc(Y.current,t||s||"",e||r||"",a||n||"");O!==z.current?.getModel()&&(m&&jm.set(L,z.current?.saveViewState()),z.current?.setModel(O),m&&z.current?.restoreViewState(jm.get(a)))},[a],D),or(()=>{z.current?.updateOptions(d)},[d],D),or(()=>{!z.current||s===void 0||(z.current.getOption(Y.current.editor.EditorOption.readOnly)?z.current.setValue(s):s!==z.current.getValue()&&(U.current=!0,z.current.executeEdits("",[{range:z.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),z.current.pushUndoStop(),U.current=!1))},[s],D),or(()=>{let O=z.current?.getModel();O&&r&&Y.current?.editor.setModelLanguage(O,r)},[r],D),or(()=>{c!==void 0&&z.current?.revealLine(c)},[c],D),or(()=>{Y.current?.editor.setTheme(o)},[o],D);let M=W.useCallback(()=>{if(!(!J.current||!Y.current)&&!G.current){K.current(Y.current);let O=a||n,V=Bc(Y.current,s||t||"",e||r||"",O||"");z.current=Y.current?.editor.create(J.current,{model:V,automaticLayout:!0,...d},g),m&&z.current.restoreViewState(jm.get(O)),Y.current.editor.setTheme(o),c!==void 0&&z.current.revealLine(c),j(!0),G.current=!0}},[t,e,n,s,r,a,d,g,m,o,c]);W.useEffect(()=>{D&&F.current(z.current,Y.current)},[D]),W.useEffect(()=>{!$&&!D&&M()},[$,D,M]),q.current=s,W.useEffect(()=>{D&&E&&(Q.current?.dispose(),Q.current=z.current?.onDidChangeModelContent(O=>{U.current||E(z.current.getValue(),O)}))},[D,E]),W.useEffect(()=>{if(D){let O=Y.current.editor.onDidChangeMarkers(V=>{let A=z.current.getModel()?.uri;if(A&&V.find(Z=>Z.path===A.path)){let Z=Y.current.editor.getModelMarkers({resource:A});B?.(Z)}});return()=>{O?.dispose()}}return()=>{}},[D,B]);function R(){Q.current?.dispose(),v?m&&jm.set(a,z.current.saveViewState()):z.current.getModel()?.dispose(),z.current.dispose()}return Wr.createElement(KM,{width:y,height:x,isEditorReady:D,loading:h,_ref:J,className:w,wrapperProps:S})}var mte=pte,gte=W.memo(mte),yte=gte;const nk=Symbol.for("yaml.alias"),Jw=Symbol.for("yaml.document"),al=Symbol.for("yaml.map"),XM=Symbol.for("yaml.pair"),_i=Symbol.for("yaml.scalar"),Eu=Symbol.for("yaml.seq"),Lr=Symbol.for("yaml.node.type"),No=t=>!!t&&typeof t=="object"&&t[Lr]===nk,Uf=t=>!!t&&typeof t=="object"&&t[Lr]===Jw,Vf=t=>!!t&&typeof t=="object"&&t[Lr]===al,yn=t=>!!t&&typeof t=="object"&&t[Lr]===XM,Gt=t=>!!t&&typeof t=="object"&&t[Lr]===_i,Ff=t=>!!t&&typeof t=="object"&&t[Lr]===Eu;function mn(t){if(t&&typeof t=="object")switch(t[Lr]){case al:case Eu:return!0}return!1}function gn(t){if(t&&typeof t=="object")switch(t[Lr]){case nk:case al:case _i:case Eu:return!0}return!1}const JM=t=>(Gt(t)||mn(t))&&!!t.anchor,Pl=Symbol("break visit"),vte=Symbol("skip children"),Pd=Symbol("remove node");function ju(t,e){const n=bte(e);Uf(t)?Mc(null,t.contents,n,Object.freeze([t]))===Pd&&(t.contents=null):Mc(null,t,n,Object.freeze([]))}ju.BREAK=Pl;ju.SKIP=vte;ju.REMOVE=Pd;function Mc(t,e,n,s){const r=_te(t,e,n,s);if(gn(r)||yn(r))return xte(t,s,r),Mc(t,r,n,s);if(typeof r!="symbol"){if(mn(e)){s=Object.freeze(s.concat(e));for(let a=0;a<e.items.length;++a){const o=Mc(a,e.items[a],n,s);if(typeof o=="number")a=o-1;else{if(o===Pl)return Pl;o===Pd&&(e.items.splice(a,1),a-=1)}}}else if(yn(e)){s=Object.freeze(s.concat(e));const a=Mc("key",e.key,n,s);if(a===Pl)return Pl;a===Pd&&(e.key=null);const o=Mc("value",e.value,n,s);if(o===Pl)return Pl;o===Pd&&(e.value=null)}}return r}function bte(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function _te(t,e,n,s){if(typeof n=="function")return n(t,e,s);if(Vf(e))return n.Map?.(t,e,s);if(Ff(e))return n.Seq?.(t,e,s);if(yn(e))return n.Pair?.(t,e,s);if(Gt(e))return n.Scalar?.(t,e,s);if(No(e))return n.Alias?.(t,e,s)}function xte(t,e,n){const s=e[e.length-1];if(mn(s))s.items[t]=n;else if(yn(s))t==="key"?s.key=n:s.value=n;else if(Uf(s))s.contents=n;else{const r=No(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}const wte={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Ste=t=>t.replace(/[!,[\]{}]/g,e=>wte[e]);class bs{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},bs.defaultYaml,e),this.tags=Object.assign({},bs.defaultTags,n)}clone(){const e=new bs(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new bs(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:bs.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},bs.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:bs.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},bs.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),r=s.shift();switch(r){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[a,o]=s;return this.tags[a]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[a]=s;if(a==="1.1"||a==="1.2")return this.yaml.version=a,!0;{const o=/^\d+\.\d+$/.test(a);return n(6,`Unsupported YAML version ${a}`,o),!1}}default:return n(0,`Unknown directive ${r}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,s,r]=e.match(/^(.*!)([^!]*)$/s);r||n(`The ${e} tag has no suffix`);const a=this.tags[s];if(a)try{return a+decodeURIComponent(r)}catch(o){return n(String(o)),null}return s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+Ste(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let r;if(e&&s.length>0&&gn(e.contents)){const a={};ju(e.contents,(o,c)=>{gn(c)&&c.tag&&(a[c.tag]=!0)}),r=Object.keys(a)}else r=[];for(const[a,o]of s)a==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(c=>c.startsWith(o)))&&n.push(`%TAG ${a} ${o}`);return n.join(`
`)}}bs.defaultYaml={explicit:!1,version:"1.2"};bs.defaultTags={"!!":"tag:yaml.org,2002:"};function QM(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function ZM(t){const e=new Set;return ju(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function eD(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function kte(t,e){const n=[],s=new Map;let r=null;return{onAnchor:a=>{n.push(a),r??(r=ZM(t));const o=eD(e,r);return r.add(o),o},setAnchors:()=>{for(const a of n){const o=s.get(a);if(typeof o=="object"&&o.anchor&&(Gt(o.node)||mn(o.node)))o.node.anchor=o.anchor;else{const c=new Error("Failed to resolve repeated object (this should not happen)");throw c.source=a,c}}},sourceObjects:s}}function Dc(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let r=0,a=s.length;r<a;++r){const o=s[r],c=Dc(t,s,String(r),o);c===void 0?delete s[r]:c!==o&&(s[r]=c)}else if(s instanceof Map)for(const r of Array.from(s.keys())){const a=s.get(r),o=Dc(t,s,r,a);o===void 0?s.delete(r):o!==a&&s.set(r,o)}else if(s instanceof Set)for(const r of Array.from(s)){const a=Dc(t,s,r,r);a===void 0?s.delete(r):a!==r&&(s.delete(r),s.add(a))}else for(const[r,a]of Object.entries(s)){const o=Dc(t,s,r,a);o===void 0?delete s[r]:o!==a&&(s[r]=o)}return t.call(e,n,s)}function Dr(t,e,n){if(Array.isArray(t))return t.map((s,r)=>Dr(s,String(r),n));if(t&&typeof t.toJSON=="function"){if(!n||!JM(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=a=>{s.res=a,delete n.onCreate};const r=t.toJSON(e,n);return n.onCreate&&n.onCreate(r),r}return typeof t=="bigint"&&!n?.keep?Number(t):t}class sk{constructor(e){Object.defineProperty(this,Lr,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:a}={}){if(!Uf(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},c=Dr(this,"",o);if(typeof r=="function")for(const{count:h,res:d}of o.anchors.values())r(d,h);return typeof a=="function"?Dc(a,{"":c},"",c):c}}class rk extends sk{constructor(e){super(nk),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let s;n?.aliasResolveCache?s=n.aliasResolveCache:(s=[],ju(e,{Node:(a,o)=>{(No(o)||JM(o))&&s.push(o)}}),n&&(n.aliasResolveCache=s));let r;for(const a of s){if(a===this)break;a.anchor===this.source&&(r=a)}return r}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:r,maxAliasCount:a}=n,o=this.resolve(r,n);if(!o){const h=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(h)}let c=s.get(o);if(c||(Dr(o,null,n),c=s.get(o)),c?.res===void 0){const h="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(h)}if(a>=0&&(c.count+=1,c.aliasCount===0&&(c.aliasCount=s0(r,o,s)),c.count*c.aliasCount>a)){const h="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(h)}return c.res}toString(e,n,s){const r=`*${this.source}`;if(e){if(QM(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(a)}if(e.implicitKey)return`${r} `}return r}}function s0(t,e,n){if(No(e)){const s=e.resolve(t),r=n&&s&&n.get(s);return r?r.count*r.aliasCount:0}else if(mn(e)){let s=0;for(const r of e.items){const a=s0(t,r,n);a>s&&(s=a)}return s}else if(yn(e)){const s=s0(t,e.key,n),r=s0(t,e.value,n);return Math.max(s,r)}return 1}const tD=t=>!t||typeof t!="function"&&typeof t!="object";class ot extends sk{constructor(e){super(_i),this.value=e}toJSON(e,n){return n?.keep?this.value:Dr(this.value,e,n)}toString(){return String(this.value)}}ot.BLOCK_FOLDED="BLOCK_FOLDED";ot.BLOCK_LITERAL="BLOCK_LITERAL";ot.PLAIN="PLAIN";ot.QUOTE_DOUBLE="QUOTE_DOUBLE";ot.QUOTE_SINGLE="QUOTE_SINGLE";const Cte="tag:yaml.org,2002:";function Nte(t,e,n){if(e){const s=n.filter(a=>a.tag===e),r=s.find(a=>!a.format)??s[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return n.find(s=>s.identify?.(t)&&!s.format)}function hf(t,e,n){if(Uf(t)&&(t=t.contents),gn(t))return t;if(yn(t)){const m=n.schema[al].createNode?.(n.schema,null,n);return m.items.push(t),m}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:a,schema:o,sourceObjects:c}=n;let h;if(s&&t&&typeof t=="object"){if(h=c.get(t),h)return h.anchor??(h.anchor=r(t)),new rk(h.anchor);h={anchor:null,node:null},c.set(t,h)}e?.startsWith("!!")&&(e=Cte+e.slice(2));let d=Nte(t,e,o.tags);if(!d){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const m=new ot(t);return h&&(h.node=m),m}d=t instanceof Map?o[al]:Symbol.iterator in Object(t)?o[Eu]:o[al]}a&&(a(d),delete n.onTagObj);const g=d?.createNode?d.createNode(n.schema,t,n):typeof d?.nodeClass?.from=="function"?d.nodeClass.from(n.schema,t,n):new ot(t);return e?g.tag=e:d.default||(g.tag=d.tag),h&&(h.node=g),g}function hg(t,e,n){let s=n;for(let r=e.length-1;r>=0;--r){const a=e[r];if(typeof a=="number"&&Number.isInteger(a)&&a>=0){const o=[];o[a]=s,s=o}else s=new Map([[a,s]])}return hf(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const bd=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class nD extends sk{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>gn(s)||yn(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(bd(e))this.add(n);else{const[s,...r]=e,a=this.get(s,!0);if(mn(a))a.addIn(r,n);else if(a===void 0&&this.schema)this.set(s,hg(this.schema,r,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const r=this.get(n,!0);if(mn(r))return r.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...r]=e,a=this.get(s,!0);return r.length===0?!n&&Gt(a)?a.value:a:mn(a)?a.getIn(r,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!yn(n))return!1;const s=n.value;return s==null||e&&Gt(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const r=this.get(n,!0);return mn(r)?r.hasIn(s):!1}setIn(e,n){const[s,...r]=e;if(r.length===0)this.set(s,n);else{const a=this.get(s,!0);if(mn(a))a.setIn(r,n);else if(a===void 0&&this.schema)this.set(s,hg(this.schema,r,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}}const Ate=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Zi(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const ql=(t,e,n)=>t.endsWith(`
`)?Zi(n,e):n.includes(`
`)?`
`+Zi(n,e):(t.endsWith(" ")?"":" ")+n,sD="flow",Qw="block",r0="quoted";function By(t,e,n="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:a=20,onFold:o,onOverflow:c}={}){if(!r||r<0)return t;r<a&&(a=0);const h=Math.max(1+a,1+r-e.length);if(t.length<=h)return t;const d=[],g={};let m=r-e.length;typeof s=="number"&&(s>r-Math.max(2,a)?d.push(0):m=r-s);let v,y,x=!1,w=-1,S=-1,k=-1;n===Qw&&(w=Ij(t,w,e.length),w!==-1&&(m=w+h));for(let E;E=t[w+=1];){if(n===r0&&E==="\\"){switch(S=w,t[w+1]){case"x":w+=3;break;case"u":w+=5;break;case"U":w+=9;break;default:w+=1}k=w}if(E===`
`)n===Qw&&(w=Ij(t,w,e.length)),m=w+e.length+h,v=void 0;else{if(E===" "&&y&&y!==" "&&y!==`
`&&y!=="	"){const B=t[w+1];B&&B!==" "&&B!==`
`&&B!=="	"&&(v=w)}if(w>=m)if(v)d.push(v),m=v+h,v=void 0;else if(n===r0){for(;y===" "||y==="	";)y=E,E=t[w+=1],x=!0;const B=w>k+1?w-2:S-1;if(g[B])return t;d.push(B),g[B]=!0,m=B+h,v=void 0}else x=!0}y=E}if(x&&c&&c(),d.length===0)return t;o&&o();let C=t.slice(0,d[0]);for(let E=0;E<d.length;++E){const B=d[E],D=d[E+1]||t.length;B===0?C=`
${e}${t.slice(0,D)}`:(n===r0&&g[B]&&(C+=`${t[B]}\\`),C+=`
${e}${t.slice(B+1,D)}`)}return C}function Ij(t,e,n){let s=e,r=e+1,a=t[r];for(;a===" "||a==="	";)if(e<r+n)a=t[++e];else{do a=t[++e];while(a&&a!==`
`);s=e,r=e+1,a=t[r]}return s}const My=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Dy=t=>/^(%|---|\.\.\.)/m.test(t);function Ete(t,e,n){if(!e||e<0)return!1;const s=e-n,r=t.length;if(r<=s)return!1;for(let a=0,o=0;a<r;++a)if(t[a]===`
`){if(a-o>s)return!0;if(o=a+1,r-o<=s)return!1}return!0}function zd(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,r=e.options.doubleQuotedMinMultiLineLength,a=e.indent||(Dy(t)?"  ":"");let o="",c=0;for(let h=0,d=n[h];d;d=n[++h])if(d===" "&&n[h+1]==="\\"&&n[h+2]==="n"&&(o+=n.slice(c,h)+"\\ ",h+=1,c=h,d="\\"),d==="\\")switch(n[h+1]){case"u":{o+=n.slice(c,h);const g=n.substr(h+2,4);switch(g){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:g.substr(0,2)==="00"?o+="\\x"+g.substr(2):o+=n.substr(h,6)}h+=5,c=h+1}break;case"n":if(s||n[h+2]==='"'||n.length<r)h+=1;else{for(o+=n.slice(c,h)+`

`;n[h+2]==="\\"&&n[h+3]==="n"&&n[h+4]!=='"';)o+=`
`,h+=2;o+=a,n[h+2]===" "&&(o+="\\"),h+=1,c=h+1}break;default:h+=1}return o=c?o+n.slice(c):n,s?o:By(o,a,r0,My(e,!1))}function Zw(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return zd(t,e);const n=e.indent||(Dy(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:By(s,n,sD,My(e,!1))}function Lc(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=zd;else{const r=t.includes('"'),a=t.includes("'");r&&!a?s=Zw:a&&!r?s=zd:s=n?Zw:zd}return s(t,e)}let eS;try{eS=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{eS=/\n+(?!\n|$)/g}function i0({comment:t,type:e,value:n},s,r,a){const{blockQuote:o,commentString:c,lineWidth:h}=s.options;if(!o||/\n[\t ]+$/.test(n))return Lc(n,s);const d=s.indent||(s.forceBlockIndent||Dy(n)?"  ":""),g=o==="literal"?!0:o==="folded"||e===ot.BLOCK_FOLDED?!1:e===ot.BLOCK_LITERAL?!0:!Ete(n,h,d.length);if(!n)return g?`|
`:`>
`;let m,v;for(v=n.length;v>0;--v){const D=n[v-1];if(D!==`
`&&D!=="	"&&D!==" ")break}let y=n.substring(v);const x=y.indexOf(`
`);x===-1?m="-":n===y||x!==y.length-1?(m="+",a&&a()):m="",y&&(n=n.slice(0,-y.length),y[y.length-1]===`
`&&(y=y.slice(0,-1)),y=y.replace(eS,`$&${d}`));let w=!1,S,k=-1;for(S=0;S<n.length;++S){const D=n[S];if(D===" ")w=!0;else if(D===`
`)k=S;else break}let C=n.substring(0,k<S?k+1:S);C&&(n=n.substring(C.length),C=C.replace(/\n+/g,`$&${d}`));let B=(w?d?"2":"1":"")+m;if(t&&(B+=" "+c(t.replace(/ ?[\r\n]+/g," ")),r&&r()),!g){const D=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${d}`);let j=!1;const $=My(s,!0);o!=="folded"&&e!==ot.BLOCK_FOLDED&&($.onOverflow=()=>{j=!0});const H=By(`${C}${D}${y}`,d,Qw,$);if(!j)return`>${B}
${d}${H}`}return n=n.replace(/\n+/g,`$&${d}`),`|${B}
${d}${C}${n}${y}`}function jte(t,e,n,s){const{type:r,value:a}=t,{actualString:o,implicitKey:c,indent:h,indentStep:d,inFlow:g}=e;if(c&&a.includes(`
`)||g&&/[[\]{},]/.test(a))return Lc(a,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return c||g||!a.includes(`
`)?Lc(a,e):i0(t,e,n,s);if(!c&&!g&&r!==ot.PLAIN&&a.includes(`
`))return i0(t,e,n,s);if(Dy(a)){if(h==="")return e.forceBlockIndent=!0,i0(t,e,n,s);if(c&&h===d)return Lc(a,e)}const m=a.replace(/\n+/g,`$&
${h}`);if(o){const v=w=>w.default&&w.tag!=="tag:yaml.org,2002:str"&&w.test?.test(m),{compat:y,tags:x}=e.doc.schema;if(x.some(v)||y?.some(v))return Lc(a,e)}return c?m:By(m,h,sD,My(e,!1))}function ik(t,e,n,s){const{implicitKey:r,inFlow:a}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:c}=t;c!==ot.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(c=ot.QUOTE_DOUBLE);const h=g=>{switch(g){case ot.BLOCK_FOLDED:case ot.BLOCK_LITERAL:return r||a?Lc(o.value,e):i0(o,e,n,s);case ot.QUOTE_DOUBLE:return zd(o.value,e);case ot.QUOTE_SINGLE:return Zw(o.value,e);case ot.PLAIN:return jte(o,e,n,s);default:return null}};let d=h(c);if(d===null){const{defaultKeyType:g,defaultStringType:m}=e.options,v=r&&g||m;if(d=h(v),d===null)throw new Error(`Unsupported default string type ${v}`)}return d}function rD(t,e){const n=Object.assign({blockQuote:!0,commentString:Ate,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function Tte(t,e){if(e.tag){const r=t.filter(a=>a.tag===e.tag);if(r.length>0)return r.find(a=>a.format===e.format)??r[0]}let n,s;if(Gt(e)){s=e.value;let r=t.filter(a=>a.identify?.(s));if(r.length>1){const a=r.filter(o=>o.test);a.length>0&&(r=a)}n=r.find(a=>a.format===e.format)??r.find(a=>!a.format)}else s=e,n=t.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!n){const r=s?.constructor?.name??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${r} value`)}return n}function Rte(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const r=[],a=(Gt(t)||mn(t))&&t.anchor;a&&QM(a)&&(n.add(a),r.push(`&${a}`));const o=t.tag??(e.default?null:e.tag);return o&&r.push(s.directives.tagString(o)),r.join(" ")}function iu(t,e,n,s){if(yn(t))return t.toString(e,n,s);if(No(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r;const a=gn(t)?t:e.doc.createNode(t,{onTagObj:h=>r=h});r??(r=Tte(e.doc.schema.tags,a));const o=Rte(a,r,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const c=typeof r.stringify=="function"?r.stringify(a,e,n,s):Gt(a)?ik(a,e,n,s):a.toString(e,n,s);return o?Gt(a)||c[0]==="{"||c[0]==="["?`${o} ${c}`:`${o}
${e.indent}${c}`:c}function Ote({key:t,value:e},n,s,r){const{allNullValues:a,doc:o,indent:c,indentStep:h,options:{commentString:d,indentSeq:g,simpleKeys:m}}=n;let v=gn(t)&&t.comment||null;if(m){if(v)throw new Error("With simple keys, key nodes cannot have comments");if(mn(t)||!gn(t)&&typeof t=="object"){const $="With simple keys, collection cannot be used as a key value";throw new Error($)}}let y=!m&&(!t||v&&e==null&&!n.inFlow||mn(t)||(Gt(t)?t.type===ot.BLOCK_FOLDED||t.type===ot.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!y&&(m||!a),indent:c+h});let x=!1,w=!1,S=iu(t,n,()=>x=!0,()=>w=!0);if(!y&&!n.inFlow&&S.length>1024){if(m)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");y=!0}if(n.inFlow){if(a||e==null)return x&&s&&s(),S===""?"?":y?`? ${S}`:S}else if(a&&!m||e==null&&y)return S=`? ${S}`,v&&!x?S+=ql(S,n.indent,d(v)):w&&r&&r(),S;x&&(v=null),y?(v&&(S+=ql(S,n.indent,d(v))),S=`? ${S}
${c}:`):(S=`${S}:`,v&&(S+=ql(S,n.indent,d(v))));let k,C,E;gn(e)?(k=!!e.spaceBefore,C=e.commentBefore,E=e.comment):(k=!1,C=null,E=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!y&&!v&&Gt(e)&&(n.indentAtStart=S.length+1),w=!1,!g&&h.length>=2&&!n.inFlow&&!y&&Ff(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let B=!1;const D=iu(e,n,()=>B=!0,()=>w=!0);let j=" ";if(v||k||C){if(j=k?`
`:"",C){const $=d(C);j+=`
${Zi($,n.indent)}`}D===""&&!n.inFlow?j===`
`&&E&&(j=`

`):j+=`
${n.indent}`}else if(!y&&mn(e)){const $=D[0],H=D.indexOf(`
`),Y=H!==-1,z=n.inFlow??e.flow??e.items.length===0;if(Y||!z){let J=!1;if(Y&&($==="&"||$==="!")){let F=D.indexOf(" ");$==="&"&&F!==-1&&F<H&&D[F+1]==="!"&&(F=D.indexOf(" ",F+1)),(F===-1||H<F)&&(J=!0)}J||(j=`
${n.indent}`)}}else(D===""||D[0]===`
`)&&(j="");return S+=j+D,n.inFlow?B&&s&&s():E&&!B?S+=ql(S,n.indent,d(E)):w&&r&&r(),S}function iD(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const Tm="<<",ea={identify:t=>t===Tm||typeof t=="symbol"&&t.description===Tm,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new ot(Symbol(Tm)),{addToJSMap:aD}),stringify:()=>Tm},Bte=(t,e)=>(ea.identify(e)||Gt(e)&&(!e.type||e.type===ot.PLAIN)&&ea.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===ea.tag&&n.default);function aD(t,e,n){if(n=t&&No(n)?n.resolve(t.doc):n,Ff(n))for(const s of n.items)h_(t,e,s);else if(Array.isArray(n))for(const s of n)h_(t,e,s);else h_(t,e,n)}function h_(t,e,n){const s=t&&No(n)?n.resolve(t.doc):n;if(!Vf(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,t,Map);for(const[a,o]of r)e instanceof Map?e.has(a)||e.set(a,o):e instanceof Set?e.add(a):Object.prototype.hasOwnProperty.call(e,a)||Object.defineProperty(e,a,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function lD(t,e,{key:n,value:s}){if(gn(n)&&n.addToJSMap)n.addToJSMap(t,e,s);else if(Bte(t,n))aD(t,e,s);else{const r=Dr(n,"",t);if(e instanceof Map)e.set(r,Dr(s,r,t));else if(e instanceof Set)e.add(r);else{const a=Mte(n,r,t),o=Dr(s,a,t);a in e?Object.defineProperty(e,a,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[a]=o}}return e}function Mte(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(gn(t)&&n?.doc){const s=rD(n.doc,{});s.anchors=new Set;for(const a of n.anchors.keys())s.anchors.add(a.anchor);s.inFlow=!0,s.inStringifyKey=!0;const r=t.toString(s);if(!n.mapKeyWarned){let a=JSON.stringify(r);a.length>40&&(a=a.substring(0,36)+'..."'),iD(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(e)}function ak(t,e,n){const s=hf(t,void 0,n),r=hf(e,void 0,n);return new Ss(s,r)}class Ss{constructor(e,n=null){Object.defineProperty(this,Lr,{value:XM}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return gn(n)&&(n=n.clone(e)),gn(s)&&(s=s.clone(e)),new Ss(n,s)}toJSON(e,n){const s=n?.mapAsMap?new Map:{};return lD(n,s,this)}toString(e,n,s){return e?.doc?Ote(this,e,n,s):JSON.stringify(this)}}function oD(t,e,n){return(e.inFlow??t.flow?Lte:Dte)(t,e,n)}function Dte({comment:t,items:e},n,{blockItemPrefix:s,flowChars:r,itemIndent:a,onChompKeep:o,onComment:c}){const{indent:h,options:{commentString:d}}=n,g=Object.assign({},n,{indent:a,type:null});let m=!1;const v=[];for(let x=0;x<e.length;++x){const w=e[x];let S=null;if(gn(w))!m&&w.spaceBefore&&v.push(""),dg(n,v,w.commentBefore,m),w.comment&&(S=w.comment);else if(yn(w)){const C=gn(w.key)?w.key:null;C&&(!m&&C.spaceBefore&&v.push(""),dg(n,v,C.commentBefore,m))}m=!1;let k=iu(w,g,()=>S=null,()=>m=!0);S&&(k+=ql(k,a,d(S))),m&&S&&(m=!1),v.push(s+k)}let y;if(v.length===0)y=r.start+r.end;else{y=v[0];for(let x=1;x<v.length;++x){const w=v[x];y+=w?`
${h}${w}`:`
`}}return t?(y+=`
`+Zi(d(t),h),c&&c()):m&&o&&o(),y}function Lte({items:t},e,{flowChars:n,itemIndent:s}){const{indent:r,indentStep:a,flowCollectionPadding:o,options:{commentString:c}}=e;s+=a;const h=Object.assign({},e,{indent:s,inFlow:!0,type:null});let d=!1,g=0;const m=[];for(let x=0;x<t.length;++x){const w=t[x];let S=null;if(gn(w))w.spaceBefore&&m.push(""),dg(e,m,w.commentBefore,!1),w.comment&&(S=w.comment);else if(yn(w)){const C=gn(w.key)?w.key:null;C&&(C.spaceBefore&&m.push(""),dg(e,m,C.commentBefore,!1),C.comment&&(d=!0));const E=gn(w.value)?w.value:null;E?(E.comment&&(S=E.comment),E.commentBefore&&(d=!0)):w.value==null&&C?.comment&&(S=C.comment)}S&&(d=!0);let k=iu(w,h,()=>S=null);x<t.length-1&&(k+=","),S&&(k+=ql(k,s,c(S))),!d&&(m.length>g||k.includes(`
`))&&(d=!0),m.push(k),g=m.length}const{start:v,end:y}=n;if(m.length===0)return v+y;if(!d){const x=m.reduce((w,S)=>w+S.length+2,2);d=e.options.lineWidth>0&&x>e.options.lineWidth}if(d){let x=v;for(const w of m)x+=w?`
${a}${r}${w}`:`
`;return`${x}
${r}${y}`}else return`${v}${o}${m.join(" ")}${o}${y}`}function dg({indent:t,options:{commentString:e}},n,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const a=Zi(e(s),t);n.push(a.trimStart())}}function Wl(t,e){const n=Gt(e)?e.value:e;for(const s of t)if(yn(s)&&(s.key===e||s.key===n||Gt(s.key)&&s.key.value===n))return s}class jr extends nD{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(al,e),this.items=[]}static from(e,n,s){const{keepUndefined:r,replacer:a}=s,o=new this(e),c=(h,d)=>{if(typeof a=="function")d=a.call(n,h,d);else if(Array.isArray(a)&&!a.includes(h))return;(d!==void 0||r)&&o.items.push(ak(h,d,s))};if(n instanceof Map)for(const[h,d]of n)c(h,d);else if(n&&typeof n=="object")for(const h of Object.keys(n))c(h,n[h]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let s;yn(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Ss(e,e?.value):s=new Ss(e.key,e.value);const r=Wl(this.items,s.key),a=this.schema?.sortMapEntries;if(r){if(!n)throw new Error(`Key ${s.key} already set`);Gt(r.value)&&tD(s.value)?r.value.value=s.value:r.value=s.value}else if(a){const o=this.items.findIndex(c=>a(s,c)<0);o===-1?this.items.push(s):this.items.splice(o,0,s)}else this.items.push(s)}delete(e){const n=Wl(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const r=Wl(this.items,e)?.value;return(!n&&Gt(r)?r.value:r)??void 0}has(e){return!!Wl(this.items,e)}set(e,n){this.add(new Ss(e,n),!0)}toJSON(e,n,s){const r=s?new s:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(r);for(const a of this.items)lD(n,r,a);return r}toString(e,n,s){if(!e)return JSON.stringify(this);for(const r of this.items)if(!yn(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),oD(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}const Tu={collection:"map",default:!0,nodeClass:jr,tag:"tag:yaml.org,2002:map",resolve(t,e){return Vf(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>jr.from(t,e,n)};class yo extends nD{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Eu,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=Rm(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=Rm(e);if(typeof s!="number")return;const r=this.items[s];return!n&&Gt(r)?r.value:r}has(e){const n=Rm(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=Rm(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[s];Gt(r)&&tD(n)?r.value=n:this.items[s]=n}toJSON(e,n){const s=[];n?.onCreate&&n.onCreate(s);let r=0;for(const a of this.items)s.push(Dr(a,String(r++),n));return s}toString(e,n,s){return e?oD(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:r}=s,a=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let c of n){if(typeof r=="function"){const h=n instanceof Set?c:String(o++);c=r.call(n,h,c)}a.items.push(hf(c,void 0,s))}}return a}}function Rm(t){let e=Gt(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Ru={collection:"seq",default:!0,nodeClass:yo,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Ff(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>yo.from(t,e,n)},Ly={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),ik(t,e,n,s)}},Iy={identify:t=>t==null,createNode:()=>new ot(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new ot(null),stringify:({source:t},e)=>typeof t=="string"&&Iy.test.test(t)?t:e.options.nullStr},lk={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new ot(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&lk.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function Zr({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const r=typeof s=="number"?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let a=Object.is(s,-0)?"-0":JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(a)){let o=a.indexOf(".");o<0&&(o=a.length,a+=".");let c=e-(a.length-o-1);for(;c-- >0;)a+="0"}return a}const cD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Zr},uD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Zr(t)}},hD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new ot(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Zr},Py=t=>typeof t=="bigint"||Number.isInteger(t),ok=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function dD(t,e,n){const{value:s}=t;return Py(s)&&s>=0?n+s.toString(e):Zr(t)}const fD={identify:t=>Py(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>ok(t,2,8,n),stringify:t=>dD(t,8,"0o")},pD={identify:Py,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>ok(t,0,10,n),stringify:Zr},mD={identify:t=>Py(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>ok(t,2,16,n),stringify:t=>dD(t,16,"0x")},Ite=[Tu,Ru,Ly,Iy,lk,fD,pD,mD,cD,uD,hD];function Pj(t){return typeof t=="bigint"||Number.isInteger(t)}const Om=({value:t})=>JSON.stringify(t),Pte=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Om},{identify:t=>t==null,createNode:()=>new ot(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Om},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:Om},{identify:Pj,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>Pj(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Om}],zte={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},$te=[Tu,Ru].concat(Pte,zte),ck={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length);for(let r=0;r<n.length;++r)s[r]=n.charCodeAt(r);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,r,a){if(!n)return"";const o=n;let c;if(typeof btoa=="function"){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);c=btoa(h)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=ot.BLOCK_LITERAL),e!==ot.QUOTE_DOUBLE){const h=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),d=Math.ceil(c.length/h),g=new Array(d);for(let m=0,v=0;m<d;++m,v+=h)g[m]=c.substr(v,h);c=g.join(e===ot.BLOCK_LITERAL?`
`:" ")}return ik({comment:t,type:e,value:c},s,r,a)}};function gD(t,e){if(Ff(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!yn(s)){if(Vf(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const r=s.items[0]||new Ss(new ot(null));if(s.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${s.commentBefore}
${r.key.commentBefore}`:s.commentBefore),s.comment){const a=r.value??r.key;a.comment=a.comment?`${s.comment}
${a.comment}`:s.comment}s=r}t.items[n]=yn(s)?s:new Ss(s)}}else e("Expected a sequence for this tag");return t}function yD(t,e,n){const{replacer:s}=n,r=new yo(t);r.tag="tag:yaml.org,2002:pairs";let a=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(a++),o));let c,h;if(Array.isArray(o))if(o.length===2)c=o[0],h=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const d=Object.keys(o);if(d.length===1)c=d[0],h=o[c];else throw new TypeError(`Expected tuple with one key, not ${d.length} keys`)}else c=o;r.items.push(ak(c,h,n))}return r}const uk={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:gD,createNode:yD};class Hc extends yo{constructor(){super(),this.add=jr.prototype.add.bind(this),this.delete=jr.prototype.delete.bind(this),this.get=jr.prototype.get.bind(this),this.has=jr.prototype.has.bind(this),this.set=jr.prototype.set.bind(this),this.tag=Hc.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n?.onCreate&&n.onCreate(s);for(const r of this.items){let a,o;if(yn(r)?(a=Dr(r.key,"",n),o=Dr(r.value,a,n)):a=Dr(r,"",n),s.has(a))throw new Error("Ordered maps must not include duplicate keys");s.set(a,o)}return s}static from(e,n,s){const r=yD(e,n,s),a=new this;return a.items=r.items,a}}Hc.tag="tag:yaml.org,2002:omap";const hk={collection:"seq",identify:t=>t instanceof Map,nodeClass:Hc,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=gD(t,e),s=[];for(const{key:r}of n.items)Gt(r)&&(s.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):s.push(r.value));return Object.assign(new Hc,n)},createNode:(t,e,n)=>Hc.from(t,e,n)};function vD({value:t,source:e},n){return e&&(t?bD:_D).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const bD={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new ot(!0),stringify:vD},_D={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new ot(!1),stringify:vD},Hte={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Zr},Ute={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Zr(t)}},Vte={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new ot(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:Zr},qf=t=>typeof t=="bigint"||Number.isInteger(t);function zy(t,e,n,{intAsBigInt:s}){const r=t[0];if((r==="-"||r==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return r==="-"?BigInt(-1)*o:o}const a=parseInt(t,n);return r==="-"?-1*a:a}function dk(t,e,n){const{value:s}=t;if(qf(s)){const r=s.toString(e);return s<0?"-"+n+r.substr(1):n+r}return Zr(t)}const Fte={identify:qf,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>zy(t,2,2,n),stringify:t=>dk(t,2,"0b")},qte={identify:qf,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>zy(t,1,8,n),stringify:t=>dk(t,8,"0")},Wte={identify:qf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>zy(t,0,10,n),stringify:Zr},Kte={identify:qf,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>zy(t,2,16,n),stringify:t=>dk(t,16,"0x")};class Uc extends jr{constructor(e){super(e),this.tag=Uc.tag}add(e){let n;yn(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Ss(e.key,null):n=new Ss(e,null),Wl(this.items,n.key)||this.items.push(n)}get(e,n){const s=Wl(this.items,e);return!n&&yn(s)?Gt(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=Wl(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new Ss(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:r}=s,a=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof r=="function"&&(o=r.call(n,o,o)),a.items.push(ak(o,null,s));return a}}Uc.tag="tag:yaml.org,2002:set";const fk={collection:"map",identify:t=>t instanceof Set,nodeClass:Uc,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>Uc.from(t,e,n),resolve(t,e){if(Vf(t)){if(t.hasAllNullValues(!0))return Object.assign(new Uc,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function pk(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,r=o=>e?BigInt(o):Number(o),a=s.replace(/_/g,"").split(":").reduce((o,c)=>o*r(60)+r(c),r(0));return n==="-"?r(-1)*a:a}function xD(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return Zr(t);let s="";e<0&&(s="-",e*=n(-1));const r=n(60),a=[e%r];return e<60?a.unshift(0):(e=(e-a[0])/r,a.unshift(e%r),e>=60&&(e=(e-a[0])/r,a.unshift(e))),s+a.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const wD={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>pk(t,n),stringify:xD},SD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>pk(t,!1),stringify:xD},$y={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match($y.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,r,a,o,c]=e.map(Number),h=e[7]?Number((e[7]+"00").substr(1,3)):0;let d=Date.UTC(n,s-1,r,a||0,o||0,c||0,h);const g=e[8];if(g&&g!=="Z"){let m=pk(g,!1);Math.abs(m)<30&&(m*=60),d-=6e4*m}return new Date(d)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},zj=[Tu,Ru,Ly,Iy,bD,_D,Fte,qte,Wte,Kte,Hte,Ute,Vte,ck,ea,hk,uk,fk,wD,SD,$y],$j=new Map([["core",Ite],["failsafe",[Tu,Ru,Ly]],["json",$te],["yaml11",zj],["yaml-1.1",zj]]),Hj={binary:ck,bool:lk,float:hD,floatExp:uD,floatNaN:cD,floatTime:SD,int:pD,intHex:mD,intOct:fD,intTime:wD,map:Tu,merge:ea,null:Iy,omap:hk,pairs:uk,seq:Ru,set:fk,timestamp:$y},Gte={"tag:yaml.org,2002:binary":ck,"tag:yaml.org,2002:merge":ea,"tag:yaml.org,2002:omap":hk,"tag:yaml.org,2002:pairs":uk,"tag:yaml.org,2002:set":fk,"tag:yaml.org,2002:timestamp":$y};function d_(t,e,n){const s=$j.get(e);if(s&&!t)return n&&!s.includes(ea)?s.concat(ea):s.slice();let r=s;if(!r)if(Array.isArray(t))r=[];else{const a=Array.from($j.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${a} or define customTags array`)}if(Array.isArray(t))for(const a of t)r=r.concat(a);else typeof t=="function"&&(r=t(r.slice()));return n&&(r=r.concat(ea)),r.reduce((a,o)=>{const c=typeof o=="string"?Hj[o]:o;if(!c){const h=JSON.stringify(o),d=Object.keys(Hj).map(g=>JSON.stringify(g)).join(", ");throw new Error(`Unknown custom tag ${h}; use one of ${d}`)}return a.includes(c)||a.push(c),a},[])}const Yte=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class mk{constructor({compat:e,customTags:n,merge:s,resolveKnownTags:r,schema:a,sortMapEntries:o,toStringDefaults:c}){this.compat=Array.isArray(e)?d_(e,"compat"):e?d_(null,e):null,this.name=typeof a=="string"&&a||"core",this.knownTags=r?Gte:{},this.tags=d_(n,this.name,s),this.toStringOptions=c??null,Object.defineProperty(this,al,{value:Tu}),Object.defineProperty(this,_i,{value:Ly}),Object.defineProperty(this,Eu,{value:Ru}),this.sortMapEntries=typeof o=="function"?o:o===!0?Yte:null}clone(){const e=Object.create(mk.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function Xte(t,e){const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const h=t.directives.toString(t);h?(n.push(h),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const r=rD(t,e),{commentString:a}=r.options;if(t.commentBefore){n.length!==1&&n.unshift("");const h=a(t.commentBefore);n.unshift(Zi(h,""))}let o=!1,c=null;if(t.contents){if(gn(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const g=a(t.contents.commentBefore);n.push(Zi(g,""))}r.forceBlockIndent=!!t.comment,c=t.contents.comment}const h=c?void 0:()=>o=!0;let d=iu(t.contents,r,()=>c=null,h);c&&(d+=ql(d,"",a(c))),(d[0]==="|"||d[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${d}`:n.push(d)}else n.push(iu(t.contents,r));if(t.directives?.docEnd)if(t.comment){const h=a(t.comment);h.includes(`
`)?(n.push("..."),n.push(Zi(h,""))):n.push(`... ${h}`)}else n.push("...");else{let h=t.comment;h&&o&&(h=h.replace(/^\n+/,"")),h&&((!o||c)&&n[n.length-1]!==""&&n.push(""),n.push(Zi(a(h),"")))}return n.join(`
`)+`
`}let gk=class kD{constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Lr,{value:Jw});let r=null;typeof n=="function"||Array.isArray(n)?r=n:s===void 0&&n&&(s=n,n=void 0);const a=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},s);this.options=a;let{version:o}=a;s?._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new bs({version:o}),this.setSchema(o,s),this.contents=e===void 0?null:this.createNode(e,r,s)}clone(){const e=Object.create(kD.prototype,{[Lr]:{value:Jw}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=gn(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){_c(this.contents)&&this.contents.add(e)}addIn(e,n){_c(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=ZM(this);e.anchor=!n||s.has(n)?eD(n||"a",s):n}return new rk(e.anchor)}createNode(e,n,s){let r;if(typeof n=="function")e=n.call({"":e},"",e),r=n;else if(Array.isArray(n)){const S=C=>typeof C=="number"||C instanceof String||C instanceof Number,k=n.filter(S).map(String);k.length>0&&(n=n.concat(k)),r=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:a,anchorPrefix:o,flow:c,keepUndefined:h,onTagObj:d,tag:g}=s??{},{onAnchor:m,setAnchors:v,sourceObjects:y}=kte(this,o||"a"),x={aliasDuplicateObjects:a??!0,keepUndefined:h??!1,onAnchor:m,onTagObj:d,replacer:r,schema:this.schema,sourceObjects:y},w=hf(e,g,x);return c&&mn(w)&&(w.flow=!0),v(),w}createPair(e,n,s={}){const r=this.createNode(e,null,s),a=this.createNode(n,null,s);return new Ss(r,a)}delete(e){return _c(this.contents)?this.contents.delete(e):!1}deleteIn(e){return bd(e)?this.contents==null?!1:(this.contents=null,!0):_c(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return mn(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return bd(e)?!n&&Gt(this.contents)?this.contents.value:this.contents:mn(this.contents)?this.contents.getIn(e,n):void 0}has(e){return mn(this.contents)?this.contents.has(e):!1}hasIn(e){return bd(e)?this.contents!==void 0:mn(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=hg(this.schema,[e],n):_c(this.contents)&&this.contents.set(e,n)}setIn(e,n){bd(e)?this.contents=n:this.contents==null?this.contents=hg(this.schema,Array.from(e),n):_c(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new bs({version:"1.1"}),s={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new bs({version:e}),s={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new mk(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:r,onAnchor:a,reviver:o}={}){const c={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},h=Dr(this.contents,n??"",c);if(typeof a=="function")for(const{count:d,res:g}of c.anchors.values())a(g,d);return typeof o=="function"?Dc(o,{"":h},"",h):h}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Xte(this,e)}};function _c(t){if(mn(t))return!0;throw new Error("Expected a YAML collection as document contents")}class CD extends Error{constructor(e,n,s,r){super(),this.name=e,this.code=s,this.message=r,this.pos=n}}class _d extends CD{constructor(e,n,s){super("YAMLParseError",e,n,s)}}class Jte extends CD{constructor(e,n,s){super("YAMLWarning",e,n,s)}}const Uj=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(c=>e.linePos(c));const{line:s,col:r}=n.linePos[0];n.message+=` at line ${s}, column ${r}`;let a=r-1,o=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(a>=60&&o.length>80){const c=Math.min(a-39,o.length-79);o=""+o.substring(c),a-=c-1}if(o.length>80&&(o=o.substring(0,79)+""),s>1&&/^ *$/.test(o.substring(0,a))){let c=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);c.length>80&&(c=c.substring(0,79)+`
`),o=c+o}if(/[^ ]/.test(o)){let c=1;const h=n.linePos[1];h?.line===s&&h.col>r&&(c=Math.max(1,Math.min(h.col-r,80-a)));const d=" ".repeat(a)+"^".repeat(c);n.message+=`:

${o}
${d}
`}};function au(t,{flow:e,indicator:n,next:s,offset:r,onError:a,parentIndent:o,startOnNewline:c}){let h=!1,d=c,g=c,m="",v="",y=!1,x=!1,w=null,S=null,k=null,C=null,E=null,B=null,D=null;for(const H of t)switch(x&&(H.type!=="space"&&H.type!=="newline"&&H.type!=="comma"&&a(H.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),x=!1),w&&(d&&H.type!=="comment"&&H.type!=="newline"&&a(w,"TAB_AS_INDENT","Tabs are not allowed as indentation"),w=null),H.type){case"space":!e&&(n!=="doc-start"||s?.type!=="flow-collection")&&H.source.includes("	")&&(w=H),g=!0;break;case"comment":{g||a(H,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const Y=H.source.substring(1)||" ";m?m+=v+Y:m=Y,v="",d=!1;break}case"newline":d?m?m+=H.source:(!B||n!=="seq-item-ind")&&(h=!0):v+=H.source,d=!0,y=!0,(S||k)&&(C=H),g=!0;break;case"anchor":S&&a(H,"MULTIPLE_ANCHORS","A node can have at most one anchor"),H.source.endsWith(":")&&a(H.offset+H.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),S=H,D??(D=H.offset),d=!1,g=!1,x=!0;break;case"tag":{k&&a(H,"MULTIPLE_TAGS","A node can have at most one tag"),k=H,D??(D=H.offset),d=!1,g=!1,x=!0;break}case n:(S||k)&&a(H,"BAD_PROP_ORDER",`Anchors and tags must be after the ${H.source} indicator`),B&&a(H,"UNEXPECTED_TOKEN",`Unexpected ${H.source} in ${e??"collection"}`),B=H,d=n==="seq-item-ind"||n==="explicit-key-ind",g=!1;break;case"comma":if(e){E&&a(H,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),E=H,d=!1,g=!1;break}default:a(H,"UNEXPECTED_TOKEN",`Unexpected ${H.type} token`),d=!1,g=!1}const j=t[t.length-1],$=j?j.offset+j.source.length:r;return x&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&a(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),w&&(d&&w.indent<=o||s?.type==="block-map"||s?.type==="block-seq")&&a(w,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:E,found:B,spaceBefore:h,comment:m,hasNewline:y,anchor:S,tag:k,newlineAfterProp:C,end:$,start:D??$}}function df(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(df(e.key)||df(e.value))return!0}return!1;default:return!0}}function tS(t,e,n){if(e?.type==="flow-collection"){const s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&df(e)&&n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function ND(t,e,n){const{uniqueKeys:s}=t.options;if(s===!1)return!1;const r=typeof s=="function"?s:(a,o)=>a===o||Gt(a)&&Gt(o)&&a.value===o.value;return e.some(a=>r(a.key,n))}const Vj="All mapping items must start at the same column";function Qte({composeNode:t,composeEmptyNode:e},n,s,r,a){const o=a?.nodeClass??jr,c=new o(n.schema);n.atRoot&&(n.atRoot=!1);let h=s.offset,d=null;for(const g of s.items){const{start:m,key:v,sep:y,value:x}=g,w=au(m,{indicator:"explicit-key-ind",next:v??y?.[0],offset:h,onError:r,parentIndent:s.indent,startOnNewline:!0}),S=!w.found;if(S){if(v&&(v.type==="block-seq"?r(h,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in v&&v.indent!==s.indent&&r(h,"BAD_INDENT",Vj)),!w.anchor&&!w.tag&&!y){d=w.end,w.comment&&(c.comment?c.comment+=`
`+w.comment:c.comment=w.comment);continue}(w.newlineAfterProp||df(v))&&r(v??m[m.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else w.found?.indent!==s.indent&&r(h,"BAD_INDENT",Vj);n.atKey=!0;const k=w.end,C=v?t(n,v,w,r):e(n,k,m,null,w,r);n.schema.compat&&tS(s.indent,v,r),n.atKey=!1,ND(n,c.items,C)&&r(k,"DUPLICATE_KEY","Map keys must be unique");const E=au(y??[],{indicator:"map-value-ind",next:x,offset:C.range[2],onError:r,parentIndent:s.indent,startOnNewline:!v||v.type==="block-scalar"});if(h=E.end,E.found){S&&(x?.type==="block-map"&&!E.hasNewline&&r(h,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&w.start<E.found.offset-1024&&r(C.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const B=x?t(n,x,E,r):e(n,h,y,null,E,r);n.schema.compat&&tS(s.indent,x,r),h=B.range[2];const D=new Ss(C,B);n.options.keepSourceTokens&&(D.srcToken=g),c.items.push(D)}else{S&&r(C.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),E.comment&&(C.comment?C.comment+=`
`+E.comment:C.comment=E.comment);const B=new Ss(C);n.options.keepSourceTokens&&(B.srcToken=g),c.items.push(B)}}return d&&d<h&&r(d,"IMPOSSIBLE","Map comment with trailing content"),c.range=[s.offset,h,d??h],c}function Zte({composeNode:t,composeEmptyNode:e},n,s,r,a){const o=a?.nodeClass??yo,c=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let h=s.offset,d=null;for(const{start:g,value:m}of s.items){const v=au(g,{indicator:"seq-item-ind",next:m,offset:h,onError:r,parentIndent:s.indent,startOnNewline:!0});if(!v.found)if(v.anchor||v.tag||m)m?.type==="block-seq"?r(v.end,"BAD_INDENT","All sequence items must start at the same column"):r(h,"MISSING_CHAR","Sequence item without - indicator");else{d=v.end,v.comment&&(c.comment=v.comment);continue}const y=m?t(n,m,v,r):e(n,v.end,g,null,v,r);n.schema.compat&&tS(s.indent,m,r),h=y.range[2],c.items.push(y)}return c.range=[s.offset,h,d??h],c}function Wf(t,e,n,s){let r="";if(t){let a=!1,o="";for(const c of t){const{source:h,type:d}=c;switch(d){case"space":a=!0;break;case"comment":{n&&!a&&s(c,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const g=h.substring(1)||" ";r?r+=o+g:r=g,o="";break}case"newline":r&&(o+=h),a=!0;break;default:s(c,"UNEXPECTED_TOKEN",`Unexpected ${d} at node end`)}e+=h.length}}return{comment:r,offset:e}}const f_="Block collections are not allowed within flow collections",p_=t=>t&&(t.type==="block-map"||t.type==="block-seq");function ene({composeNode:t,composeEmptyNode:e},n,s,r,a){const o=s.start.source==="{",c=o?"flow map":"flow sequence",h=a?.nodeClass??(o?jr:yo),d=new h(n.schema);d.flow=!0;const g=n.atRoot;g&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let m=s.offset+s.start.source.length;for(let S=0;S<s.items.length;++S){const k=s.items[S],{start:C,key:E,sep:B,value:D}=k,j=au(C,{flow:c,indicator:"explicit-key-ind",next:E??B?.[0],offset:m,onError:r,parentIndent:s.indent,startOnNewline:!1});if(!j.found){if(!j.anchor&&!j.tag&&!B&&!D){S===0&&j.comma?r(j.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${c}`):S<s.items.length-1&&r(j.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${c}`),j.comment&&(d.comment?d.comment+=`
`+j.comment:d.comment=j.comment),m=j.end;continue}!o&&n.options.strict&&df(E)&&r(E,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(S===0)j.comma&&r(j.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${c}`);else if(j.comma||r(j.start,"MISSING_CHAR",`Missing , between ${c} items`),j.comment){let $="";e:for(const H of C)switch(H.type){case"comma":case"space":break;case"comment":$=H.source.substring(1);break e;default:break e}if($){let H=d.items[d.items.length-1];yn(H)&&(H=H.value??H.key),H.comment?H.comment+=`
`+$:H.comment=$,j.comment=j.comment.substring($.length+1)}}if(!o&&!B&&!j.found){const $=D?t(n,D,j,r):e(n,j.end,B,null,j,r);d.items.push($),m=$.range[2],p_(D)&&r($.range,"BLOCK_IN_FLOW",f_)}else{n.atKey=!0;const $=j.end,H=E?t(n,E,j,r):e(n,$,C,null,j,r);p_(E)&&r(H.range,"BLOCK_IN_FLOW",f_),n.atKey=!1;const Y=au(B??[],{flow:c,indicator:"map-value-ind",next:D,offset:H.range[2],onError:r,parentIndent:s.indent,startOnNewline:!1});if(Y.found){if(!o&&!j.found&&n.options.strict){if(B)for(const F of B){if(F===Y.found)break;if(F.type==="newline"){r(F,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}j.start<Y.found.offset-1024&&r(Y.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else D&&("source"in D&&D.source?.[0]===":"?r(D,"MISSING_CHAR",`Missing space after : in ${c}`):r(Y.start,"MISSING_CHAR",`Missing , or : between ${c} items`));const z=D?t(n,D,Y,r):Y.found?e(n,Y.end,B,null,Y,r):null;z?p_(D)&&r(z.range,"BLOCK_IN_FLOW",f_):Y.comment&&(H.comment?H.comment+=`
`+Y.comment:H.comment=Y.comment);const J=new Ss(H,z);if(n.options.keepSourceTokens&&(J.srcToken=k),o){const F=d;ND(n,F.items,H)&&r($,"DUPLICATE_KEY","Map keys must be unique"),F.items.push(J)}else{const F=new jr(n.schema);F.flow=!0,F.items.push(J);const K=(z??H).range;F.range=[H.range[0],K[1],K[2]],d.items.push(F)}m=z?z.range[2]:Y.end}}const v=o?"}":"]",[y,...x]=s.end;let w=m;if(y?.source===v)w=y.offset+y.source.length;else{const S=c[0].toUpperCase()+c.substring(1),k=g?`${S} must end with a ${v}`:`${S} in block collection must be sufficiently indented and end with a ${v}`;r(m,g?"MISSING_CHAR":"BAD_INDENT",k),y&&y.source.length!==1&&x.unshift(y)}if(x.length>0){const S=Wf(x,w,n.options.strict,r);S.comment&&(d.comment?d.comment+=`
`+S.comment:d.comment=S.comment),d.range=[s.offset,w,S.offset]}else d.range=[s.offset,w,w];return d}function m_(t,e,n,s,r,a){const o=n.type==="block-map"?Qte(t,e,n,s,a):n.type==="block-seq"?Zte(t,e,n,s,a):ene(t,e,n,s,a),c=o.constructor;return r==="!"||r===c.tagName?(o.tag=c.tagName,o):(r&&(o.tag=r),o)}function tne(t,e,n,s,r){const a=s.tag,o=a?e.directives.tagName(a.source,v=>r(a,"TAG_RESOLVE_FAILED",v)):null;if(n.type==="block-seq"){const{anchor:v,newlineAfterProp:y}=s,x=v&&a?v.offset>a.offset?v:a:v??a;x&&(!y||y.offset<x.offset)&&r(x,"MISSING_CHAR","Missing newline after block sequence props")}const c=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!a||!o||o==="!"||o===jr.tagName&&c==="map"||o===yo.tagName&&c==="seq")return m_(t,e,n,r,o);let h=e.schema.tags.find(v=>v.tag===o&&v.collection===c);if(!h){const v=e.schema.knownTags[o];if(v?.collection===c)e.schema.tags.push(Object.assign({},v,{default:!1})),h=v;else return v?r(a,"BAD_COLLECTION_TYPE",`${v.tag} used for ${c} collection, but expects ${v.collection??"scalar"}`,!0):r(a,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),m_(t,e,n,r,o)}const d=m_(t,e,n,r,o,h),g=h.resolve?.(d,v=>r(a,"TAG_RESOLVE_FAILED",v),e.options)??d,m=gn(g)?g:new ot(g);return m.range=d.range,m.tag=o,h?.format&&(m.format=h.format),m}function nne(t,e,n){const s=e.offset,r=sne(e,t.options.strict,n);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};const a=r.mode===">"?ot.BLOCK_FOLDED:ot.BLOCK_LITERAL,o=e.source?rne(e.source):[];let c=o.length;for(let w=o.length-1;w>=0;--w){const S=o[w][1];if(S===""||S==="\r")c=w;else break}if(c===0){const w=r.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let S=s+r.length;return e.source&&(S+=e.source.length),{value:w,type:a,comment:r.comment,range:[s,S,S]}}let h=e.indent+r.indent,d=e.offset+r.length,g=0;for(let w=0;w<c;++w){const[S,k]=o[w];if(k===""||k==="\r")r.indent===0&&S.length>h&&(h=S.length);else{S.length<h&&n(d+S.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),r.indent===0&&(h=S.length),g=w,h===0&&!t.atRoot&&n(d,"BAD_INDENT","Block scalar values in collections must be indented");break}d+=S.length+k.length+1}for(let w=o.length-1;w>=c;--w)o[w][0].length>h&&(c=w+1);let m="",v="",y=!1;for(let w=0;w<g;++w)m+=o[w][0].slice(h)+`
`;for(let w=g;w<c;++w){let[S,k]=o[w];d+=S.length+k.length+1;const C=k[k.length-1]==="\r";if(C&&(k=k.slice(0,-1)),k&&S.length<h){const B=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(d-k.length-(C?2:1),"BAD_INDENT",B),S=""}a===ot.BLOCK_LITERAL?(m+=v+S.slice(h)+k,v=`
`):S.length>h||k[0]==="	"?(v===" "?v=`
`:!y&&v===`
`&&(v=`

`),m+=v+S.slice(h)+k,v=`
`,y=!0):k===""?v===`
`?m+=`
`:v=`
`:(m+=v+k,v=" ",y=!1)}switch(r.chomp){case"-":break;case"+":for(let w=c;w<o.length;++w)m+=`
`+o[w][0].slice(h);m[m.length-1]!==`
`&&(m+=`
`);break;default:m+=`
`}const x=s+r.length+e.source.length;return{value:m,type:a,comment:r.comment,range:[s,x,x]}}function sne({offset:t,props:e},n,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],a=r[0];let o=0,c="",h=-1;for(let v=1;v<r.length;++v){const y=r[v];if(!c&&(y==="-"||y==="+"))c=y;else{const x=Number(y);!o&&x?o=x:h===-1&&(h=t+v)}}h!==-1&&s(h,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let d=!1,g="",m=r.length;for(let v=1;v<e.length;++v){const y=e[v];switch(y.type){case"space":d=!0;case"newline":m+=y.source.length;break;case"comment":n&&!d&&s(y,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),m+=y.source.length,g=y.source.substring(1);break;case"error":s(y,"UNEXPECTED_TOKEN",y.message),m+=y.source.length;break;default:{const x=`Unexpected token in block scalar header: ${y.type}`;s(y,"UNEXPECTED_TOKEN",x);const w=y.source;w&&typeof w=="string"&&(m+=w.length)}}}return{mode:a,indent:o,chomp:c,comment:g,length:m}}function rne(t){const e=t.split(/\n( *)/),n=e[0],s=n.match(/^( *)/),a=[s?.[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)a.push([e[o],e[o+1]]);return a}function ine(t,e,n){const{offset:s,type:r,source:a,end:o}=t;let c,h;const d=(v,y,x)=>n(s+v,y,x);switch(r){case"scalar":c=ot.PLAIN,h=ane(a,d);break;case"single-quoted-scalar":c=ot.QUOTE_SINGLE,h=lne(a,d);break;case"double-quoted-scalar":c=ot.QUOTE_DOUBLE,h=one(a,d);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+a.length,s+a.length]}}const g=s+a.length,m=Wf(o,g,e,n);return{value:h,type:c,comment:m.comment,range:[s,g,m.offset]}}function ane(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),AD(t)}function lne(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),AD(t.slice(1,-1)).replace(/''/g,"'")}function AD(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let r=s[1],a=" ",o=e.lastIndex;for(n.lastIndex=o;s=n.exec(t);)s[1]===""?a===`
`?r+=a:a=`
`:(r+=a+s[1],a=" "),o=n.lastIndex;const c=/[ \t]*(.*)/sy;return c.lastIndex=o,s=c.exec(t),r+a+(s?.[1]??"")}function one(t,e){let n="";for(let s=1;s<t.length-1;++s){const r=t[s];if(!(r==="\r"&&t[s+1]===`
`))if(r===`
`){const{fold:a,offset:o}=cne(t,s);n+=a,s=o}else if(r==="\\"){let a=t[++s];const o=une[a];if(o)n+=o;else if(a===`
`)for(a=t[s+1];a===" "||a==="	";)a=t[++s+1];else if(a==="\r"&&t[s+1]===`
`)for(a=t[++s+1];a===" "||a==="	";)a=t[++s+1];else if(a==="x"||a==="u"||a==="U"){const c={x:2,u:4,U:8}[a];n+=hne(t,s+1,c,e),s+=c}else{const c=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),n+=c}}else if(r===" "||r==="	"){const a=s;let o=t[s+1];for(;o===" "||o==="	";)o=t[++s+1];o!==`
`&&!(o==="\r"&&t[s+2]===`
`)&&(n+=s>a?t.slice(a,s+1):r)}else n+=r}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function cne(t,e){let n="",s=t[e+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&t[e+2]!==`
`);)s===`
`&&(n+=`
`),e+=1,s=t[e+1];return n||(n=" "),{fold:n,offset:e}}const une={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function hne(t,e,n,s){const r=t.substr(e,n),o=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){const c=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),c}return String.fromCodePoint(o)}function ED(t,e,n,s){const{value:r,type:a,comment:o,range:c}=e.type==="block-scalar"?nne(t,e,s):ine(e,t.options.strict,s),h=n?t.directives.tagName(n.source,m=>s(n,"TAG_RESOLVE_FAILED",m)):null;let d;t.options.stringKeys&&t.atKey?d=t.schema[_i]:h?d=dne(t.schema,r,h,n,s):e.type==="scalar"?d=fne(t,r,e,s):d=t.schema[_i];let g;try{const m=d.resolve(r,v=>s(n??e,"TAG_RESOLVE_FAILED",v),t.options);g=Gt(m)?m:new ot(m)}catch(m){const v=m instanceof Error?m.message:String(m);s(n??e,"TAG_RESOLVE_FAILED",v),g=new ot(r)}return g.range=c,g.source=r,a&&(g.type=a),h&&(g.tag=h),d.format&&(g.format=d.format),o&&(g.comment=o),g}function dne(t,e,n,s,r){if(n==="!")return t[_i];const a=[];for(const c of t.tags)if(!c.collection&&c.tag===n)if(c.default&&c.test)a.push(c);else return c;for(const c of a)if(c.test?.test(e))return c;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[_i])}function fne({atKey:t,directives:e,schema:n},s,r,a){const o=n.tags.find(c=>(c.default===!0||t&&c.default==="key")&&c.test?.test(s))||n[_i];if(n.compat){const c=n.compat.find(h=>h.default&&h.test?.test(s))??n[_i];if(o.tag!==c.tag){const h=e.tagString(o.tag),d=e.tagString(c.tag),g=`Value may be parsed as either ${h} or ${d}`;a(r,"TAG_RESOLVE_FAILED",g,!0)}}return o}function pne(t,e,n){if(e){n??(n=e.length);for(let s=n-1;s>=0;--s){let r=e[s];switch(r.type){case"space":case"comment":case"newline":t-=r.source.length;continue}for(r=e[++s];r?.type==="space";)t+=r.source.length,r=e[++s];break}}return t}const mne={composeNode:jD,composeEmptyNode:yk};function jD(t,e,n,s){const r=t.atKey,{spaceBefore:a,comment:o,anchor:c,tag:h}=n;let d,g=!0;switch(e.type){case"alias":d=gne(t,e,s),(c||h)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":d=ED(t,e,h,s),c&&(d.anchor=c.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":d=tne(mne,t,e,n,s),c&&(d.anchor=c.source.substring(1));break;default:{const m=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",m),d=yk(t,e.offset,void 0,null,n,s),g=!1}}return c&&d.anchor===""&&s(c,"BAD_ALIAS","Anchor cannot be an empty string"),r&&t.options.stringKeys&&(!Gt(d)||typeof d.value!="string"||d.tag&&d.tag!=="tag:yaml.org,2002:str")&&s(h??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),a&&(d.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?d.comment=o:d.commentBefore=o),t.options.keepSourceTokens&&g&&(d.srcToken=e),d}function yk(t,e,n,s,{spaceBefore:r,comment:a,anchor:o,tag:c,end:h},d){const g={type:"scalar",offset:pne(e,n,s),indent:-1,source:""},m=ED(t,g,c,d);return o&&(m.anchor=o.source.substring(1),m.anchor===""&&d(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(m.spaceBefore=!0),a&&(m.comment=a,m.range[2]=h),m}function gne({options:t},{offset:e,source:n,end:s},r){const a=new rk(n.substring(1));a.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&r(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,c=Wf(s,o,t.strict,r);return a.range=[e,o,c.offset],c.comment&&(a.comment=c.comment),a}function yne(t,e,{offset:n,start:s,value:r,end:a},o){const c=Object.assign({_directives:e},t),h=new gk(void 0,c),d={atKey:!1,atRoot:!0,directives:h.directives,options:h.options,schema:h.schema},g=au(s,{indicator:"doc-start",next:r??a?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});g.found&&(h.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!g.hasNewline&&o(g.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),h.contents=r?jD(d,r,g,o):yk(d,g.end,s,null,g,o);const m=h.contents.range[2],v=Wf(a,m,!1,o);return v.comment&&(h.comment=v.comment),h.range=[n,m,v.offset],h}function Ih(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function Fj(t){let e="",n=!1,s=!1;for(let r=0;r<t.length;++r){const a=t[r];switch(a[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(a.substring(1)||" "),n=!0,s=!1;break;case"%":t[r+1]?.[0]!=="#"&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class vne{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,s,r,a)=>{const o=Ih(n);a?this.warnings.push(new Jte(o,s,r)):this.errors.push(new _d(o,s,r))},this.directives=new bs({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:s,afterEmptyLine:r}=Fj(this.prelude);if(s){const a=e.contents;if(n)e.comment=e.comment?`${e.comment}
${s}`:s;else if(r||e.directives.docStart||!a)e.commentBefore=s;else if(mn(a)&&!a.flow&&a.items.length>0){let o=a.items[0];yn(o)&&(o=o.key);const c=o.commentBefore;o.commentBefore=c?`${s}
${c}`:s}else{const o=a.commentBefore;a.commentBefore=o?`${s}
${o}`:s}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Fj(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,s=-1){for(const r of e)yield*this.next(r);yield*this.end(n,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,s,r)=>{const a=Ih(e);a[0]+=n,this.onError(a,"BAD_DIRECTIVE",s,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=yne(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new _d(Ih(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new _d(Ih(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const n=Wf(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new _d(Ih(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),r=new gk(void 0,s);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,n,n],this.decorate(r,!1),yield r}}}const TD="\uFEFF",RD="",OD="",nS="";function bne(t){switch(t){case TD:return"byte-order-mark";case RD:return"doc-mode";case OD:return"flow-error-end";case nS:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Ur(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const qj=new Set("0123456789ABCDEFabcdef"),_ne=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Bm=new Set(",[]{}"),xne=new Set(` ,[]{}
\r	`),g_=t=>!t||xne.has(t);class wne{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let s=this.next??"stream";for(;s&&(n||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let s=0;for(;n===" ";)n=this.buffer[++s+e];if(n==="\r"){const r=this.buffer[s+e+1];if(r===`
`||!r&&!this.atEnd)return e+s+1}return n===`
`||s>=this.indentNext||!n&&!this.atEnd?e+s:-1}if(n==="-"||n==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&Ur(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===TD&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,s=e.indexOf("#");for(;s!==-1;){const a=e[s-1];if(a===" "||a==="	"){n=s-1;break}else s=e.indexOf("#",s+1)}for(;;){const a=e[n-1];if(a===" "||a==="	")n-=1;else break}const r=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield RD,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&Ur(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Ur(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Ur(n)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(g_),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,s=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=s=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const r=this.getLine();if(r===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&r[0]!=="#"||s===0&&(r.startsWith("---")||r.startsWith("..."))&&Ur(r[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield OD,yield*this.parseLineStart();let a=0;for(;r[a]===",";)a+=yield*this.pushCount(1),a+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(a+=yield*this.pushIndicators(),r[a]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-a),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(g_),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Ur(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let a=0;for(;this.buffer[n-1-a]==="\\";)a+=1;if(a%2===0)break;n=this.buffer.indexOf('"',n+1)}const s=this.buffer.substring(0,n);let r=s.indexOf(`
`,this.pos);if(r!==-1){for(;r!==-1;){const a=this.continueScalar(r+1);if(a===-1)break;r=s.indexOf(`
`,a)}r!==-1&&(n=r-(s[r-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Ur(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,s;e:for(let a=this.pos;s=this.buffer[a];++a)switch(s){case" ":n+=1;break;case`
`:e=a,n=0;break;case"\r":{const o=this.buffer[a+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const a=this.continueScalar(e+1);if(a===-1)break;e=this.buffer.indexOf(`
`,a)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let r=e+1;for(s=this.buffer[r];s===" ";)s=this.buffer[++r];if(s==="	"){for(;s==="	"||s===" "||s==="\r"||s===`
`;)s=this.buffer[++r];e=r-1}else if(!this.blockScalarKeep)do{let a=e-1,o=this.buffer[a];o==="\r"&&(o=this.buffer[--a]);const c=a;for(;o===" ";)o=this.buffer[--a];if(o===`
`&&a>=this.pos&&a+1+n>c)e=a;else break}while(!0);return yield nS,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,s=this.pos-1,r;for(;r=this.buffer[++s];)if(r===":"){const a=this.buffer[s+1];if(Ur(a)||e&&Bm.has(a))break;n=s}else if(Ur(r)){let a=this.buffer[s+1];if(r==="\r"&&(a===`
`?(s+=1,r=`
`,a=this.buffer[s+1]):n=s),a==="#"||e&&Bm.has(a))break;if(r===`
`){const o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&Bm.has(r))break;n=s}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield nS,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(g_))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(Ur(n)||e&&Bm.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Ur(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(_ne.has(n))n=this.buffer[++e];else if(n==="%"&&qj.has(this.buffer[e+1])&&qj.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,s;do s=this.buffer[++n];while(s===" "||e&&s==="	");const r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let n=this.pos,s=this.buffer[n];for(;!e(s);)s=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Sne{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,s=this.lineStarts.length;for(;n<s;){const a=n+s>>1;this.lineStarts[a]<e?n=a+1:s=a}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const r=this.lineStarts[n-1];return{line:n,col:e-r+1}}}}function Ka(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function Wj(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function BD(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Mm(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function xc(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function Kj(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Ka(e.start,"explicit-key-ind")&&!Ka(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,BD(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class kne{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new wne,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,n))yield*this.next(s);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=bne(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&e?.type!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const s=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in s?s.indent:0:n.type==="flow-collection"&&s.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Kj(n),s.type){case"document":s.value=n;break;case"block-scalar":s.props.push(n);break;case"block-map":{const r=s.items[s.items.length-1];if(r.value){s.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=n;else{Object.assign(r,{key:n,sep:[]}),this.onKeyLine=!r.explicitKey;return}break}case"block-seq":{const r=s.items[s.items.length-1];r.value?s.items.push({start:[],value:n}):r.value=n;break}case"flow-collection":{const r=s.items[s.items.length-1];!r||r.value?s.items.push({start:[],key:n,sep:[]}):r.sep?r.value=n:Object.assign(r,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const r=n.items[n.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&Wj(r.start)===-1&&(n.indent===0||r.start.every(a=>a.type!=="comment"||a.indent<n.indent))&&(s.type==="document"?s.end=r.start:s.items.push({start:r.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Wj(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=Mm(this.peek(2)),s=xc(n);let r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent,r=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let a=[];if(r&&n.sep&&!n.value){const o=[];for(let c=0;c<n.sep.length;++c){const h=n.sep[c];switch(h.type){case"newline":o.push(c);break;case"space":break;case"comment":h.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(a=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":r||n.value?(a.push(this.sourceToken),e.items.push({start:a}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):r||n.value?(a.push(this.sourceToken),e.items.push({start:a,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ka(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]});else if(BD(n.key)&&!Ka(n.sep,"newline")){const o=xc(n.start),c=n.key,h=n.sep;h.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:c,sep:h}]})}else a.length>0?n.sep=n.sep.concat(a,this.sourceToken):n.sep.push(this.sourceToken);else if(Ka(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=xc(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?e.items.push({start:a,key:null,sep:[this.sourceToken]}):Ka(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);r||n.value?(e.items.push({start:a,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!Ka(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else s&&e.items.push({start:a});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Ka(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s?.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:r,sep:[]}):n.sep?this.stack.push(r):Object.assign(n,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const r=Mm(s),a=xc(r);Kj(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const c={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:a,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=c}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Mm(e),s=xc(n);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Mm(e),s=xc(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Cne(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new Sne||null,prettyErrors:e}}function Nne(t,e={}){const{lineCounter:n,prettyErrors:s}=Cne(e),r=new kne(n?.addNewLine),a=new vne(e);let o=null;for(const c of a.compose(r.parse(t),!0,t.length))if(!o)o=c;else if(o.options.logLevel!=="silent"){o.errors.push(new _d(c.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&n&&(o.errors.forEach(Uj(t,n)),o.warnings.forEach(Uj(t,n))),o}function y_(t,e,n){let s;const r=Nne(t,n);if(!r)return null;if(r.warnings.forEach(a=>iD(r.options.logLevel,a)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},n))}function Gj(t,e,n){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const r=Math.round(n);n=r<1?void 0:r>8?{indent:8}:{indent:r}}if(t===void 0){const{keepUndefined:r}=n??e??{};if(!r)return}return Uf(t)&&!s?t.toString(n):new gk(t,s,n).toString(n)}function v_(){return document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches}function Ane({resource:t,loading:e,error:n,onSave:s,toolbarRef:r}){const[a,o]=W.useState(""),[c,h]=W.useState(""),[d,g]=W.useState(!1),[m,v]=W.useState(null),[y,x]=W.useState(!1),[w,S]=W.useState(null),[k,C]=W.useState(v_),E=W.useRef(null),B=W.useRef(null),[D,j]=W.useState(!1);W.useEffect(()=>{const F=new MutationObserver(()=>{C(v_())});F.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]});const K=window.matchMedia("(prefers-color-scheme: dark)"),Q=()=>C(v_());return K.addEventListener("change",Q),()=>{F.disconnect(),K.removeEventListener("change",Q)}},[]);const $=W.useCallback(async F=>{const K=F.getModel();if(!K)return j(!0);const Q=K.getValue().split(`
`),q=/^(\s*)(managedFields|ownerReferences|kubectl\.kubernetes\.io\/last-applied-configuration|status):/,L=Q.flatMap((G,U)=>{const M=G.match(q);if(!M)return[];const R=M[1].length,O=Q.slice(U+1).findIndex(A=>A.trimStart().length>0&&A.length-A.trimStart().length<=R),V=O===-1?Q.length:U+1+O;return V>U+1?[{start:U+1,end:V}]:[]});for(const{start:G,end:U}of L.reverse())F.setSelection({startLineNumber:G,startColumn:1,endLineNumber:U,endColumn:1}),await F.getAction("editor.fold")?.run();F.setPosition({lineNumber:1,column:1}),F.revealLine(1),j(!0)},[]);W.useEffect(()=>{if(t){const F=Gj(t,{lineWidth:0});F!==c&&(d?h(F):(o(F),h(F),v(null),S(null),E.current&&(j(!1),setTimeout(()=>$(E.current),100))))}},[t,c,d,$]),W.useEffect(()=>{if(!a){v(null);return}try{y_(a),v(null)}catch(F){v(F instanceof Error?F.message:"Invalid YAML")}},[a]);const H=(F,K)=>{E.current=F,B.current=K,K.languages.registerDocumentFormattingEditProvider("yaml",{provideDocumentFormattingEdits:Q=>{try{const q=Q.getValue(),L=y_(q),G=Gj(L,{lineWidth:0});return[{range:Q.getFullModelRange(),text:G}]}catch{return[]}}}),j(!1),setTimeout(()=>$(F),100)},Y=F=>{const K=F||"";o(K),g(K!==c),S(null)},z=W.useCallback(()=>{o(c),g(!1),v(null),S(null)},[c]),J=W.useCallback(async()=>{if(!(m||!d))try{x(!0),S(null);const F=y_(a);await s(F),h(a),g(!1)}catch(F){S(F instanceof Error?F.message:"Failed to save")}finally{x(!1)}},[m,d,a,s]);return e?f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("div",{className:"flex items-center gap-2 text-neutral-600 dark:text-neutral-400 text-sm",children:[f.jsx(Gl,{size:14,className:"animate-spin"}),"Loading resource..."]})}):n?f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:n})}):t?f.jsxs("div",{className:"flex flex-col h-full",children:[r&&f.jsxs(q2,{toolbarRef:r,children:[f.jsx("button",{onClick:J,disabled:!d||!!m||y,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Save changes",children:y?f.jsx(Gl,{size:12,className:"animate-spin"}):f.jsx(P7,{size:12})}),f.jsx("button",{onClick:z,disabled:!d||y,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Reset changes",children:f.jsx(D7,{size:12})})]}),(m||w)&&f.jsx("div",{className:"shrink-0 flex items-center gap-2 px-4 py-2 bg-red-50 dark:bg-red-500/10 border-b border-red-200 dark:border-red-500/20",children:m?f.jsxs(f.Fragment,{children:[f.jsx(vo,{size:14,className:"text-red-500 shrink-0"}),f.jsxs("span",{className:"text-xs text-red-700 dark:text-red-400",children:["Invalid YAML: ",m]})]}):f.jsxs(f.Fragment,{children:[f.jsx(fS,{size:14,className:"text-red-500 shrink-0"}),f.jsx("span",{className:"text-xs text-red-700 dark:text-red-400",children:w})]})}),f.jsx("div",{className:`flex-1 min-h-0 transition-opacity duration-150 ${D?"opacity-100":"opacity-0"}`,children:f.jsx(yte,{height:"100%",language:"yaml",theme:k?"vs-dark":"light",value:a,onChange:Y,onMount:H,loading:f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsx(Gl,{size:20,className:"animate-spin text-neutral-400"})}),options:{minimap:{enabled:!1},fontSize:13,fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",wrappingIndent:"indent",automaticLayout:!0,tabSize:2,insertSpaces:!0,renderWhitespace:"selection",bracketPairColorization:{enabled:!0},guides:{indentation:!0,bracketPairs:!0},padding:{top:12,bottom:12},scrollbar:{verticalScrollbarSize:10,horizontalScrollbarSize:10}}})})]}):f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsx("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"No resource loaded"})})}const Ene=new Set(["managedFields"]);function jne(t){const e=t.metadata;if(!e)return t;const n=Object.fromEntries(Object.entries(e).filter(([s])=>!Ene.has(s)));return{...t,metadata:n}}function MD({isOpen:t,onClose:e,otherPanelOpen:n=!1,resource:s}){const{context:r}=hr(),[a,o]=W.useState(null),[c,h]=W.useState(!1),[d,g]=W.useState(null),[m,v]=W.useState([]),[y,x]=W.useState(!1),[w,S]=W.useState("yaml"),[k,C]=W.useState(null),[E,B]=W.useState(null),[D,j]=W.useState(null),$=W.useRef(null),H=W.useRef(null),Y=5e3,z=W.useCallback(async()=>{if(!(!s||!s.name||!s.kind))try{const Ne=await j5(r,s.kind,s.apiVersion);if(Ne){const Te=await w_(r,Ne,s.name,s.namespace);o(Te)}const Ge=await S_(r,s.name,s.namespace);v(Ge)}catch{}},[r,s]);W.useEffect(()=>{if(!t||!s?.name||!a)return;const Ne=setInterval(()=>{z()},Y);return()=>clearInterval(Ne)},[t,s?.name,a,z]);const J=a?YB(a):[],F=async Ne=>{B(null),C(Ne.id);try{await Ne.execute(r,a),z()}catch(Ge){B(Ge instanceof Error?Ge.message:"Action failed")}finally{C(null),j(null)}},K=Ne=>{Ne.confirm?j(Ne):F(Ne)},Q=W.useCallback(async Ne=>{if(!s||!s.name||!$.current)throw new Error("Resource configuration not available");const Ge=await uT(r,$.current,s.name,Ne,s.namespace);o(Ge)},[r,s]);if(W.useEffect(()=>{const Ne=s?.kind||"";if(S(B3(Ne)?"overview":"yaml"),!s||!s.name||!s.kind){o(null),g(null),v([]);return}const Ge=s.name,Te=s.namespace,tt=s.apiVersion,mt=async()=>{h(!0),g(null);try{const Lt=await j5(r,Ne,tt);if(!Lt){g(`Unknown resource kind: ${Ne}`),h(!1);return}$.current=Lt;const vn=await w_(r,Lt,Ge,Te);o(vn)}catch(Lt){g(Lt instanceof Error?Lt.message:"Failed to fetch resource"),o(null)}finally{h(!1)}},ht=async()=>{x(!0);try{const Lt=await S_(r,Ge,Te);v(Lt)}catch(Lt){console.error("Failed to fetch events:",Lt),v([])}finally{x(!1)}};mt(),ht()},[r,s]),!t||!s||!s.name)return null;const q=a,L=q?jne(q):null,G=s.name,U=s.kind||"Resource",M=B3(U),R=new Set(["pod-template-hash","controller-revision-hash","pod-template-generation"]),O=new Set(["kubectl.kubernetes.io/last-applied-configuration","deployment.kubernetes.io/revision","control-plane.alpha.kubernetes.io/leader","deprecated.daemonset.template.generation","kubernetes.io/description"]),V=L?.metadata,A=V?.labels,Z=V?.annotations,oe=A?Object.keys(A).filter(Ne=>!R.has(Ne)).length:0,te=Z?Object.keys(Z).filter(Ne=>!O.has(Ne)).length:0,de=oe>0||te>0,Ce=["Pod","Deployment","DaemonSet","ReplicaSet","StatefulSet","Job"].includes(U)&&!!s.namespace,et=U==="Pod"&&!!s.namespace;return f.jsxs("aside",{className:"fixed top-0 h-screen bg-white border-l border-neutral-200 dark:bg-neutral-900 dark:border-neutral-800 flex flex-col z-20 shadow-xl transition-all duration-300",style:{right:n?"28rem":"0",width:n?"28rem":"40rem"},children:["      ",f.jsxs("header",{className:"shrink-0 h-16 flex items-center justify-between pl-5 pr-4 border-b border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[f.jsx("div",{className:"flex items-center gap-3 min-w-0",children:f.jsxs("div",{className:"min-w-0",children:[f.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:G}),f.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500",children:s.namespace||"cluster-scoped"})]})}),f.jsx("button",{onClick:e,className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-400 dark:hover:text-neutral-200 dark:hover:bg-neutral-800 rounded-md transition-colors",title:"Close",children:f.jsx(fS,{size:18})})]}),f.jsxs("div",{className:"shrink-0 flex items-center border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/50",children:[f.jsxs("div",{className:"flex",children:[M&&f.jsx("button",{onClick:()=>S("overview"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${w==="overview"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Overview"}),de&&f.jsx("button",{onClick:()=>S("metadata"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${w==="metadata"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Metadata"}),f.jsx("button",{onClick:()=>S("yaml"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${w==="yaml"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Manifest"}),m.length>0&&f.jsx("button",{onClick:()=>S("events"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${w==="events"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Events"}),Ce&&f.jsx("button",{onClick:()=>S("logs"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${w==="logs"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Logs"}),et&&f.jsx("button",{onClick:()=>S("terminal"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${w==="terminal"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Terminal"})]}),f.jsxs("div",{className:"ml-auto pr-4 flex items-center gap-1",children:[f.jsx("div",{ref:H,className:"flex items-center gap-1"}),w==="overview"&&J.length>0&&f.jsx(f.Fragment,{children:J.map(Ne=>{const Ge=Ne.isDisabled?.(a),Te=Ge===!0||typeof Ge=="string",tt=typeof Ge=="string"?Ge:void 0,mt=k===Ne.id;return f.jsx("button",{onClick:()=>K(Ne),disabled:Te||mt,title:tt||Ne.label,className:`
                      flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded transition-colors
                      ${Te||mt?"opacity-50 cursor-not-allowed":""}
                      ${Ne.variant==="primary"?"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":Ne.variant==="warning"?"text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":Ne.variant==="danger"?"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800"}
                    `,children:mt?f.jsx(Dn,{size:12,className:"animate-spin"}):Ne.icon},Ne.id)})})]})]}),E&&f.jsx("div",{className:"shrink-0 mx-4 mt-2 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-600 dark:text-red-400 text-xs",children:E}),D&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg p-4 max-w-md mx-4 shadow-xl",children:[f.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200 mb-2",children:D.confirm?.title}),f.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-4",children:D.confirm?.message}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>j(null),className:"px-3 py-1.5 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded transition-colors",children:"Cancel"}),f.jsxs("button",{onClick:()=>F(D),disabled:k===D.id,className:`
                  px-3 py-1.5 text-xs font-medium text-white rounded transition-colors
                  ${D.variant==="danger"?"bg-red-600 hover:bg-red-700":D.variant==="warning"?"bg-amber-600 hover:bg-amber-700":"bg-blue-600 hover:bg-blue-700"}
                  ${k===D.id?"opacity-50 cursor-not-allowed":""}
                `,children:[k===D.id?f.jsx(Dn,{size:12,className:"animate-spin inline mr-1"}):null,D.confirm?.confirmLabel||"Confirm"]})]})]})}),w==="overview"&&M&&f.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[c&&f.jsxs("div",{className:"flex items-center gap-2 text-neutral-600 dark:text-neutral-400 text-sm mb-4",children:[f.jsx(Gl,{size:14,className:"animate-spin"}),"Loading full resource..."]}),d&&f.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mb-4",children:d}),a&&!c&&f.jsx(fX,{resource:a,hideActions:!0})]}),w==="yaml"&&f.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:f.jsx(Ane,{resource:a,loading:c,error:d,onSave:Q,toolbarRef:H})}),w==="metadata"&&f.jsx("div",{className:"flex-1 overflow-auto p-5",children:L&&f.jsx(nee,{metadata:L.metadata})}),w==="events"&&f.jsx("div",{className:"flex-1 overflow-auto p-5",children:f.jsx(iee,{events:m,loading:y})}),w==="logs"&&Ce&&a&&f.jsx("div",{className:"flex-1 overflow-hidden",children:f.jsx(EX,{resource:a,toolbarRef:H})}),w==="terminal"&&et&&a&&f.jsx("div",{className:"flex-1 overflow-hidden",children:f.jsx(tee,{resource:a,toolbarRef:H})})]})}const b_="ai",Ph="detail";function Yj(t){return t.name.charAt(0).toUpperCase()+t.name.slice(1)}function Tne(t){const e=He.c(73),{resource:n}=t,{namespace:s}=hr();let r;e[0]!==n?(r=()=>Yj(n),e[0]=n,e[1]=r):r=e[1];const[a,o]=W.useState(r);let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=[],e[2]=c):c=e[2];const[h,d]=W.useState(c),[g,m]=W.useState(null),{hiddenColumns:v,toggleColumn:y}=BP(),{isOpen:x,open:w,close:S,toggle:k}=DP(),C=x(b_),E=x(Ph);let B,D;e[3]!==n?(B=()=>{o(Yj(n))},D=[n],e[3]=n,e[4]=B,e[5]=D):(B=e[4],D=e[5]),W.useEffect(B,D);let j;e[6]!==S?(j=()=>{m(null),S(Ph)},e[6]=S,e[7]=j):j=e[7];let $;e[8]!==S||e[9]!==s||e[10]!==n?($=[n,s,S],e[8]=S,e[9]=s,e[10]=n,e[11]=$):$=e[11],W.useEffect(j,$);let H;e[12]!==S||e[13]!==w?(H=tt=>{m(tt),tt?w(Ph):S(Ph)},e[12]=S,e[13]=w,e[14]=H):H=e[14];const Y=H;let z;e[15]===Symbol.for("react.memo_cache_sentinel")?(z=tt=>{d(tt)},e[15]=z):z=e[15];const J=z,F=()=>{const tt=[E,C].filter(Boolean).length;return tt>=2?"pr-[56rem]":tt===1?"pr-[40rem]":""},K="flex-1 flex flex-col h-full min-w-0",Q=`shrink-0 h-14 flex items-center justify-between px-5 mt-2 transition-all duration-300 ${F()}`;let q;e[16]!==a?(q=f.jsx("h2",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:a}),e[16]=a,e[17]=q):q=e[17];let L;e[18]!==s?(L=s&&f.jsx("span",{className:"px-2.5 py-0.5 rounded-md text-xs bg-neutral-200/80 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400",children:s}),e[18]=s,e[19]=L):L=e[19];let G;e[20]!==q||e[21]!==L?(G=f.jsxs("div",{className:"flex items-center gap-4",children:[q,L]}),e[20]=q,e[21]=L,e[22]=G):G=e[22];let U;e[23]!==h||e[24]!==v||e[25]!==y?(U=f.jsx(HP,{columns:h,hiddenColumns:v,onToggleColumn:y}),e[23]=h,e[24]=v,e[25]=y,e[26]=U):U=e[26];let M;e[27]!==C||e[28]!==k?(M=Vd().ai&&f.jsx("button",{onClick:()=>k(b_),className:`p-2 rounded-md transition-colors ${C?"text-sky-400 hover:text-sky-300 hover:bg-neutral-100 dark:hover:bg-neutral-800":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800"}`,title:"AI Assistant",children:f.jsx(J7,{size:18})}),e[27]=C,e[28]=k,e[29]=M):M=e[29];let R;e[30]!==U||e[31]!==M?(R=f.jsxs("div",{className:"flex items-center gap-2",children:[U,M]}),e[30]=U,e[31]=M,e[32]=R):R=e[32];let O;e[33]!==Q||e[34]!==G||e[35]!==R?(O=f.jsxs("header",{className:Q,children:[G,R]}),e[33]=Q,e[34]=G,e[35]=R,e[36]=O):O=e[36];let V;e[37]!==J||e[38]!==Y||e[39]!==v||e[40]!==n||e[41]!==g?(V=f.jsx("section",{className:"flex-1 min-h-0 overflow-hidden",children:f.jsx($P,{config:n,hiddenColumns:v,onColumnsLoaded:J,selectedItem:g,onSelectItem:Y})}),e[37]=J,e[38]=Y,e[39]=v,e[40]=n,e[41]=g,e[42]=V):V=e[42];let A;e[43]!==O||e[44]!==V?(A=f.jsxs("main",{className:K,children:[O,V]}),e[43]=O,e[44]=V,e[45]=A):A=e[45];let Z;e[46]!==S?(Z=()=>S(b_),e[46]=S,e[47]=Z):Z=e[47];const oe=g?.object.metadata.namespace||s||"all namespaces",te=n.group?`${n.kind} (${n.group}/${n.version})`:`${n.kind} (${n.version})`,de=g?.object.metadata.name;let xe;e[48]!==oe||e[49]!==te||e[50]!==de?(xe={currentNamespace:oe,selectedResourceKind:te,selectedResourceName:de},e[48]=oe,e[49]=te,e[50]=de,e[51]=xe):xe=e[51];let Ce;e[52]!==C||e[53]!==E||e[54]!==Z||e[55]!==xe?(Ce=f.jsx(Rq,{isOpen:C,onClose:Z,otherPanelOpen:E,environment:xe}),e[52]=C,e[53]=E,e[54]=Z,e[55]=xe,e[56]=Ce):Ce=e[56];let et;e[57]!==S?(et=()=>{m(null),S(Ph)},e[57]=S,e[58]=et):et=e[58];let Ne;e[59]!==n.group||e[60]!==n.kind||e[61]!==n.version||e[62]!==g?(Ne=g?{name:g.object.metadata.name,namespace:g.object.metadata.namespace,uid:g.object.metadata.uid,resourceVersion:g.object.metadata.resourceVersion,kind:n.kind,apiVersion:n.group?`${n.group}/${n.version}`:n.version}:null,e[59]=n.group,e[60]=n.kind,e[61]=n.version,e[62]=g,e[63]=Ne):Ne=e[63];let Ge;e[64]!==C||e[65]!==E||e[66]!==et||e[67]!==Ne?(Ge=f.jsx(MD,{isOpen:E,onClose:et,otherPanelOpen:C,resource:Ne}),e[64]=C,e[65]=E,e[66]=et,e[67]=Ne,e[68]=Ge):Ge=e[68];let Te;return e[69]!==A||e[70]!==Ce||e[71]!==Ge?(Te=f.jsxs(f.Fragment,{children:[A,Ce,Ge]}),e[69]=A,e[70]=Ce,e[71]=Ge,e[72]=Te):Te=e[72],Te}const lu={Pod:ul,Deployment:dS,DaemonSet:cS,StatefulSet:hl,Job:vg,CronJob:aa,Service:K7,Ingress:Br,Gateway:ns,HTTPRoute:Ud,GRPCRoute:Ud,NetworkPolicy:cu,PersistentVolume:Us,PersistentVolumeClaim:iS,ConfigMap:yi,Secret:pf,Node:Yr},Rne={Pod:{bg:"#dcfce7",bgDark:"#14532d",border:"#22c55e",borderDark:"#4ade80",text:"#166534",textDark:"#86efac"},Deployment:{bg:"#dbeafe",bgDark:"#1e3a8a",border:"#3b82f6",borderDark:"#60a5fa",text:"#1e40af",textDark:"#93c5fd"},DaemonSet:{bg:"#f3e8ff",bgDark:"#581c87",border:"#a855f7",borderDark:"#c084fc",text:"#6b21a8",textDark:"#d8b4fe"},StatefulSet:{bg:"#ede9fe",bgDark:"#5b21b6",border:"#8b5cf6",borderDark:"#a78bfa",text:"#5b21b6",textDark:"#c4b5fd"},Job:{bg:"#fef3c7",bgDark:"#78350f",border:"#f59e0b",borderDark:"#fbbf24",text:"#92400e",textDark:"#fcd34d"},CronJob:{bg:"#ffedd5",bgDark:"#7c2d12",border:"#f97316",borderDark:"#fb923c",text:"#9a3412",textDark:"#fdba74"},Service:{bg:"#cffafe",bgDark:"#164e63",border:"#06b6d4",borderDark:"#22d3ee",text:"#155e75",textDark:"#67e8f9"},Ingress:{bg:"#ccfbf1",bgDark:"#134e4a",border:"#14b8a6",borderDark:"#2dd4bf",text:"#115e59",textDark:"#5eead4"},Gateway:{bg:"#d1fae5",bgDark:"#065f46",border:"#10b981",borderDark:"#34d399",text:"#065f46",textDark:"#6ee7b7"},HTTPRoute:{bg:"#a7f3d0",bgDark:"#047857",border:"#34d399",borderDark:"#6ee7b7",text:"#047857",textDark:"#a7f3d0"},GRPCRoute:{bg:"#a7f3d0",bgDark:"#047857",border:"#34d399",borderDark:"#6ee7b7",text:"#047857",textDark:"#a7f3d0"},NetworkPolicy:{bg:"#fef3c7",bgDark:"#78350f",border:"#f59e0b",borderDark:"#fbbf24",text:"#92400e",textDark:"#fcd34d"},PersistentVolume:{bg:"#f1f5f9",bgDark:"#334155",border:"#64748b",borderDark:"#94a3b8",text:"#334155",textDark:"#cbd5e1"},PersistentVolumeClaim:{bg:"#f8fafc",bgDark:"#475569",border:"#94a3b8",borderDark:"#cbd5e1",text:"#475569",textDark:"#e2e8f0"},ConfigMap:{bg:"#fef9c3",bgDark:"#713f12",border:"#eab308",borderDark:"#facc15",text:"#854d0e",textDark:"#fde047"},Secret:{bg:"#fee2e2",bgDark:"#7f1d1d",border:"#ef4444",borderDark:"#f87171",text:"#991b1b",textDark:"#fca5a5"}},One={bg:"#f3f4f6",bgDark:"#374151",border:"#9ca3af",borderDark:"#6b7280",text:"#374151",textDark:"#d1d5db"};function Zl(t,e){const n=Rne[t]||One;return{bg:e?n.bgDark:n.bg,border:e?n.borderDark:n.border,text:e?n.textDark:n.text}}function DD(t){let e="Unknown",n="#9ca3af",s="#6b7280";if(t.kind==="Pod"){const r=t.status?.phase||"Unknown";e=r,r==="Running"?(n="#22c55e",s="#4ade80"):r==="Pending"?(n="#eab308",s="#facc15"):r==="Failed"?(n="#ef4444",s="#f87171"):r==="Succeeded"&&(n="#22c55e",s="#4ade80")}else if(t.kind==="DaemonSet"){const r=t.status?.desiredNumberScheduled||0,a=t.status?.numberReady||0;e=`${a}/${r}`,a===r&&r>0?(n="#22c55e",s="#4ade80"):(n="#eab308",s="#facc15")}else if(["Deployment","StatefulSet"].includes(t.kind)){const r=t.status?.replicas||0,a=t.status?.readyReplicas||0;e=`${a}/${r}`,a===r&&r>0?(n="#22c55e",s="#4ade80"):(n="#eab308",s="#facc15")}else if(t.kind==="Service")e="Active",n="#22c55e",s="#4ade80";else if(t.kind==="Job"){const r=t.status?.succeeded||0,a=t.status?.failed||0;r>0?(e="Succeeded",n="#22c55e",s="#4ade80"):a>0?(e="Failed",n="#ef4444",s="#f87171"):(e="Running",n="#eab308",s="#facc15")}else t.kind==="PersistentVolumeClaim"?(e=t.status?.phase||"Unknown",e==="Bound"?(n="#22c55e",s="#4ade80"):(n="#eab308",s="#facc15")):["ConfigMap","Secret","Ingress","CronJob"].includes(t.kind)&&(e="Active",n="#22c55e",s="#4ade80");return{status:e,color:n,colorDark:s}}const zh=160,__=60,Xj=48,fg=120,Kl=32,a0=6,sS=32,Ic=8,Xi=20,Za=4,$d=5,Bne=32,Mne=10,qa=12,Jj=36,Dm=20;function Dne(){const{context:t,namespace:e}=hr(),[n,s]=W.useState([]),[r,a]=W.useState([]),[o,c]=W.useState(!0),[h,d]=W.useState(null),[g,m]=W.useState({x:40,y:40,scale:1}),[v,y]=W.useState(!1),[x,w]=W.useState({x:0,y:0}),[S,k]=W.useState(null),[C,E]=W.useState(!1),B=W.useRef(null);W.useEffect(()=>{const U=()=>{const V=document.documentElement.classList.contains("dark"),A=window.matchMedia("(prefers-color-scheme: dark)");E(V||A.matches)};U();const M=new MutationObserver(U);M.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]});const R=window.matchMedia("(prefers-color-scheme: dark)"),O=()=>U();return R.addEventListener("change",O),()=>{M.disconnect(),R.removeEventListener("change",O)}},[]);const D=W.useCallback(async()=>{c(!0),d(null);try{const U=e?`/namespaces/${e}`:"",M=[{path:`/api/v1${U}/pods`,kind:"Pod"},{path:`/apis/apps/v1${U}/deployments`,kind:"Deployment"},{path:`/apis/apps/v1${U}/replicasets`,kind:"ReplicaSet"},{path:`/apis/apps/v1${U}/statefulsets`,kind:"StatefulSet"},{path:`/apis/apps/v1${U}/daemonsets`,kind:"DaemonSet"},{path:`/api/v1${U}/services`,kind:"Service"},{path:`/api/v1${U}/configmaps`,kind:"ConfigMap"},{path:`/api/v1${U}/secrets`,kind:"Secret"},{path:`/api/v1${U}/persistentvolumeclaims`,kind:"PersistentVolumeClaim"},{path:`/apis/batch/v1${U}/jobs`,kind:"Job"},{path:`/apis/batch/v1${U}/cronjobs`,kind:"CronJob"},{path:`/apis/networking.k8s.io/v1${U}/ingresses`,kind:"Ingress"},{path:`/apis/networking.k8s.io/v1${U}/networkpolicies`,kind:"NetworkPolicy"},{path:`/apis/gateway.networking.k8s.io/v1${U}/gateways`,kind:"Gateway"},{path:`/apis/gateway.networking.k8s.io/v1${U}/httproutes`,kind:"HTTPRoute"},{path:`/apis/gateway.networking.k8s.io/v1${U}/grpcroutes`,kind:"GRPCRoute"}],R=await Promise.allSettled(M.map(async({path:A,kind:Z})=>{try{return((await la(A,t)).items||[]).map(te=>({...te,kind:Z}))}catch{return[]}})),O=[];R.forEach(A=>{A.status==="fulfilled"&&O.push(...A.value)}),a(O);const V=Wne(O);s(V)}catch(U){d(U instanceof Error?U.message:"Failed to load resources")}finally{c(!1)}},[t,e]);W.useEffect(()=>{D()},[D]);const j=W.useCallback(U=>{U.button===0&&(y(!0),w({x:U.clientX-g.x,y:U.clientY-g.y}))},[g.x,g.y]),$=W.useCallback(U=>{v&&m(M=>({...M,x:U.clientX-x.x,y:U.clientY-x.y}))},[v,x]),H=W.useCallback(()=>{y(!1)},[]),Y=W.useCallback(U=>{U.preventDefault();const M=U.deltaY>0?.9:1.1,R=Math.min(Math.max(g.scale*M,.1),3),O=B.current?.getBoundingClientRect();if(O){const V=U.clientX-O.left,A=U.clientY-O.top,Z=V-(V-g.x)*(R/g.scale),oe=A-(A-g.y)*(R/g.scale);m({x:Z,y:oe,scale:R})}},[g]),z=()=>m(U=>({...U,scale:Math.min(U.scale*1.2,3)})),J=()=>m(U=>({...U,scale:Math.max(U.scale/1.2,.1)})),F=()=>{if(!B.current||n.length===0)return;const U=B.current.getBoundingClientRect(),M=Math.max(...n.map(Z=>Z.x+Z.width),800),R=Math.max(...n.map(Z=>Z.y+Z.height),600),O=(U.width-80)/M,V=(U.height-80)/R,A=Math.min(O,V,1);m({x:40,y:40,scale:A})},K=W.useMemo(()=>{if(n.length===0)return{width:800,height:600};const U=Math.max(...n.map(R=>R.x+R.width)),M=Math.max(...n.map(R=>R.y+R.height));return{width:U+100,height:M+100}},[n]);W.useEffect(()=>{if(n.length>0&&B.current){const U=B.current.getBoundingClientRect(),M=(U.width-80)/K.width,R=(U.height-80)/K.height,O=Math.min(M,R,1);m({x:40,y:40,scale:O})}},[n,K]),W.useEffect(()=>{k(null)},[e]);const Q=W.useCallback(U=>{k(U)},[]),q=W.useCallback((U,M,R)=>{const O=r.find(V=>V.kind===U&&V.metadata.name===M&&V.metadata.namespace===R);O&&k({uid:O.metadata.uid,resource:O,x:0,y:0,width:0,height:0})},[r]),L=S?{name:S.resource.metadata.name,namespace:S.resource.metadata.namespace,uid:S.resource.metadata.uid,kind:S.resource.kind,apiVersion:S.resource.apiVersion}:null,G=S!==null;return o?f.jsx("div",{className:"flex items-center justify-center h-full bg-white dark:bg-neutral-950",children:f.jsxs("div",{className:"flex items-center gap-2 text-neutral-500",children:[f.jsx(Dn,{className:"animate-spin",size:20}),f.jsx("span",{children:"Loading resources..."})]})}):h?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 bg-white dark:bg-neutral-950",children:[f.jsx("div",{className:"text-red-500",children:h}),f.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 text-sm bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 rounded-md transition-colors",children:[f.jsx(Dn,{size:16}),"Retry"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`h-full w-full relative bg-neutral-100 dark:bg-neutral-900 overflow-hidden transition-all duration-300 ${G?"mr-120":""}`,children:[f.jsxs("div",{className:"absolute top-4 right-4 z-10 flex items-center gap-1 bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700",children:[f.jsx("button",{onClick:D,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-l-lg",title:"Refresh",children:f.jsx(Dn,{size:16,className:"text-neutral-600 dark:text-neutral-400"})}),f.jsx("div",{className:"w-px h-5 bg-neutral-200 dark:bg-neutral-700"}),f.jsx("button",{onClick:z,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700",title:"Zoom In",children:f.jsx(hP,{size:16,className:"text-neutral-600 dark:text-neutral-400"})}),f.jsx("button",{onClick:J,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700",title:"Zoom Out",children:f.jsx(fP,{size:16,className:"text-neutral-600 dark:text-neutral-400"})}),f.jsx("button",{onClick:F,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700",title:"Fit View",children:f.jsx(b7,{size:16,className:"text-neutral-600 dark:text-neutral-400"})}),f.jsxs("div",{className:"px-2 text-xs text-neutral-500 border-l border-neutral-200 dark:border-neutral-700 rounded-r-lg",children:[Math.round(g.scale*100),"%"]})]}),f.jsxs("div",{className:"absolute bottom-4 right-4 z-10 px-3 py-2 bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700",children:[f.jsx("div",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-2",children:"Connections"}),f.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{width:"24",height:"8",children:f.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#64748b",strokeWidth:"2"})}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Owner"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{width:"24",height:"8",children:f.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#8b5cf6",strokeWidth:"2",strokeDasharray:"4,2"})}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Selector"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{width:"24",height:"8",children:f.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#06b6d4",strokeWidth:"2",strokeDasharray:"4,2"})}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Service"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{width:"24",height:"8",children:f.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#14b8a6",strokeWidth:"2",strokeDasharray:"4,2"})}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Ingress"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{width:"24",height:"8",children:f.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#10b981",strokeWidth:"2",strokeDasharray:"4,2"})}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Gateway"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{width:"24",height:"8",children:f.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#f59e0b",strokeWidth:"1.5",strokeDasharray:"2,2"})}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"NetworkPolicy"})]})]})]}),f.jsx("div",{ref:B,className:"w-full h-full cursor-grab active:cursor-grabbing overflow-hidden",onMouseDown:j,onMouseMove:$,onMouseUp:H,onMouseLeave:H,onWheel:Y,children:f.jsxs("svg",{width:K.width,height:K.height,style:{transform:`translate(${g.x}px, ${g.y}px) scale(${g.scale})`,transformOrigin:"0 0"},children:[f.jsxs("defs",{children:[f.jsx("marker",{id:"arrow-owner",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#64748b"})}),f.jsx("marker",{id:"arrow-selector",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#8b5cf6"})}),f.jsx("marker",{id:"arrow-service",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#06b6d4"})}),f.jsx("marker",{id:"arrow-ingress",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#14b8a6"})}),f.jsx("marker",{id:"arrow-gateway",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#10b981"})}),f.jsx("marker",{id:"arrow-network-policy",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"5",markerHeight:"5",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#f59e0b"})}),f.jsx("marker",{id:"arrow-owner-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#94a3b8"})}),f.jsx("marker",{id:"arrow-selector-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#c084fc"})}),f.jsx("marker",{id:"arrow-service-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#22d3ee"})}),f.jsx("marker",{id:"arrow-ingress-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#2dd4bf"})}),f.jsx("marker",{id:"arrow-gateway-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#34d399"})}),f.jsx("marker",{id:"arrow-network-policy-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"5",markerHeight:"5",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#fbbf24"})})]}),n.map(U=>f.jsx(Lne,{application:U,onNodeClick:Q,onConfigClick:q,isDarkMode:C},U.id))]})})]}),f.jsx(MD,{isOpen:G,onClose:()=>k(null),resource:L})]})}function Lne(t){const e=He.c(40),{application:n,onNodeClick:s,onConfigClick:r,isDarkMode:a}=t;let o;e[0]!==n.nodes?(o=new Map(n.nodes.map(Ine)),n.nodes.forEach(C=>{C.childPods&&C.childPods.forEach(E=>{o.set(E.uid,{...E,x:C.x+E.x,y:C.y+E.y})})}),e[0]=n.nodes,e[1]=o):o=e[1];const c=o;let h;e[2]!==n.nodes?(h=n.nodes.filter(C=>!C.resource.kind.match(/^Pod$/)||!n.nodes.some(E=>["Deployment","StatefulSet","DaemonSet","Job"].includes(E.resource.kind)&&E.childPods?.some(B=>B.uid===C.uid))),e[2]=n.nodes,e[3]=h):h=e[3];const d=h,g=n.name&&n.name.length>0,m=a?"#262626":"white",v=a?"#404040":"#e5e7eb";let y;e[4]!==n.height||e[5]!==n.width||e[6]!==n.x||e[7]!==n.y||e[8]!==m||e[9]!==v?(y=f.jsx("rect",{x:n.x,y:n.y,width:n.width,height:n.height,rx:12,fill:m,stroke:v,strokeWidth:1}),e[4]=n.height,e[5]=n.width,e[6]=n.x,e[7]=n.y,e[8]=m,e[9]=v,e[10]=y):y=e[10];let x;e[11]!==n.name||e[12]!==n.namespace||e[13]!==n.width||e[14]!==n.x||e[15]!==n.y||e[16]!==a||e[17]!==g?(x=g&&f.jsxs("g",{children:[f.jsx("text",{x:n.x+10,y:n.y+13,fontSize:12,fontWeight:600,fill:a?"#e5e5e5":"#374151",dominantBaseline:"hanging",children:n.name.length>Math.floor((n.width-20)/7)?n.name.slice(0,Math.floor((n.width-20)/7)-1)+"":n.name}),n.namespace&&f.jsx("text",{x:n.x+10,y:n.y+26,fontSize:10,fill:a?"#a3a3a3":"#6b7280",dominantBaseline:"hanging",children:n.namespace.length>Math.floor((n.width-20)/6)?n.namespace.slice(0,Math.floor((n.width-20)/6)-1)+"":n.namespace})]}),e[11]=n.name,e[12]=n.namespace,e[13]=n.width,e[14]=n.x,e[15]=n.y,e[16]=a,e[17]=g,e[18]=x):x=e[18];let w;if(e[19]!==n.edges||e[20]!==a||e[21]!==c){let C;e[23]!==a||e[24]!==c?(C=(E,B)=>{const D=c.get(E.from),j=c.get(E.to);return!D||!j||E.type==="owner"&&(D.childPods?.some(H=>H.uid===j.uid)||j.childPods?.some(H=>H.uid===D.uid))?null:f.jsx(Pne,{from:D,to:j,type:E.type,isDarkMode:a},B)},e[23]=a,e[24]=c,e[25]=C):C=e[25],w=n.edges.map(C),e[19]=n.edges,e[20]=a,e[21]=c,e[22]=w}else w=e[22];let S;if(e[26]!==a||e[27]!==r||e[28]!==s||e[29]!==d){let C;e[31]!==a||e[32]!==r||e[33]!==s?(C=E=>f.jsx(zne,{node:E,onClick:()=>s(E),onPodClick:s,onConfigClick:r,isDarkMode:a},E.uid),e[31]=a,e[32]=r,e[33]=s,e[34]=C):C=e[34],S=d.map(C),e[26]=a,e[27]=r,e[28]=s,e[29]=d,e[30]=S}else S=e[30];let k;return e[35]!==y||e[36]!==x||e[37]!==w||e[38]!==S?(k=f.jsxs("g",{children:[y,x,w,S]}),e[35]=y,e[36]=x,e[37]=w,e[38]=S,e[39]=k):k=e[39],k}function Ine(t){return[t.uid,t]}function Pne(t){const e=He.c(14),{from:n,to:s,type:r,isDarkMode:a}=t,o=n.x+n.width,c=n.y+n.height/2,h=s.x,d=s.y+s.height/2,g=(o+h)/2,m=`M ${o} ${c} C ${g} ${c}, ${g} ${d}, ${h} ${d}`,v=a?"#94a3b8":"#64748b",y=a?"#c084fc":"#8b5cf6",x=a?"#22d3ee":"#06b6d4",w=a?"#2dd4bf":"#14b8a6",S=a?"#34d399":"#10b981",k=a?"#fbbf24":"#f59e0b";let C;e[0]!==v||e[1]!==y||e[2]!==x||e[3]!==w||e[4]!==S||e[5]!==k?(C={owner:v,selector:y,service:x,ingress:w,gateway:S,"network-policy":k},e[0]=v,e[1]=y,e[2]=x,e[3]=w,e[4]=S,e[5]=k,e[6]=C):C=e[6];const E=C;let B;e[7]===Symbol.for("react.memo_cache_sentinel")?(B={owner:void 0,selector:"6,3",service:"6,3",ingress:"4,2",gateway:"4,2","network-policy":"2,2"},e[7]=B):B=e[7];const D=B,j=E[r],$=r==="network-policy"?1.5:2,H=D[r],Y=`url(#arrow-${r}${a?"-dark":""})`;let z;return e[8]!==m||e[9]!==$||e[10]!==H||e[11]!==Y||e[12]!==j?(z=f.jsx("path",{d:m,fill:"none",stroke:j,strokeWidth:$,strokeDasharray:H,markerEnd:Y}),e[8]=m,e[9]=$,e[10]=H,e[11]=Y,e[12]=j,e[13]=z):z=e[13],z}function zne(t){const e=He.c(62),{node:n,onClick:s,onPodClick:r,onConfigClick:a,isDarkMode:o}=t,{resource:c,x:h,y:d,width:g,height:m}=n;if(c.kind==="NetworkPolicy"){let M;return e[0]!==o||e[1]!==n||e[2]!==s?(M=f.jsx(Vne,{node:n,onClick:s,isDarkMode:o}),e[0]=o,e[1]=n,e[2]=s,e[3]=M):M=e[3],M}if(c.kind==="Service"){let M;return e[4]!==o||e[5]!==n||e[6]!==s?(M=f.jsx(Qj,{node:n,onClick:s,isDarkMode:o}),e[4]=o,e[5]=n,e[6]=s,e[7]=M):M=e[7],M}if(["Gateway","HTTPRoute","GRPCRoute"].includes(c.kind)){let M;return e[8]!==o||e[9]!==n||e[10]!==s?(M=f.jsx(Qj,{node:n,onClick:s,isDarkMode:o}),e[8]=o,e[9]=n,e[10]=s,e[11]=M):M=e[11],M}if(c.kind==="Ingress"){let M;return e[12]!==o||e[13]!==n||e[14]!==s?(M=f.jsx(Hne,{node:n,onClick:s,isDarkMode:o}),e[12]=o,e[13]=n,e[14]=s,e[15]=M):M=e[15],M}if(["Deployment","StatefulSet","DaemonSet","Job"].includes(c.kind)&&n.childPods&&n.childPods.length>0){let M;return e[16]!==o||e[17]!==n||e[18]!==s||e[19]!==a||e[20]!==r?(M=f.jsx($ne,{node:n,onClick:s,onPodClick:r,onConfigClick:a,isDarkMode:o}),e[16]=o,e[17]=n,e[18]=s,e[19]=a,e[20]=r,e[21]=M):M=e[21],M}let v;e[22]!==o||e[23]!==c.kind?(v=Zl(c.kind,o),e[22]=o,e[23]=c.kind,e[24]=v):v=e[24];const y=v,x=lu[c.kind]||gg;let w;e[25]!==c?(w=DD(c),e[25]=c,e[26]=w):w=e[26];const S=w,k=o?S.colorDark:S.color,C=Math.floor((g-20)/6.5),E=c.metadata.name.length>C?c.metadata.name.slice(0,C-2)+"":c.metadata.name,B=`translate(${h}, ${d})`;let D;e[27]!==s?(D=M=>{M.stopPropagation(),s()},e[27]=s,e[28]=D):D=e[28];let j;e[29]===Symbol.for("react.memo_cache_sentinel")?(j={cursor:"pointer"},e[29]=j):j=e[29];let $;e[30]!==y.bg||e[31]!==y.border||e[32]!==m||e[33]!==g?($=f.jsx("rect",{width:g,height:m,rx:8,fill:y.bg,stroke:y.border,strokeWidth:2}),e[30]=y.bg,e[31]=y.border,e[32]=m,e[33]=g,e[34]=$):$=e[34];let H;e[35]!==y.text?(H={color:y.text},e[35]=y.text,e[36]=H):H=e[36];let Y;e[37]!==x?(Y=f.jsx(x,{size:16}),e[37]=x,e[38]=Y):Y=e[38];let z;e[39]!==H||e[40]!==Y?(z=f.jsx("foreignObject",{width:18,height:18,children:f.jsx("div",{style:H,children:Y})}),e[39]=H,e[40]=Y,e[41]=z):z=e[41];let J;e[42]!==y.text||e[43]!==c.kind?(J=f.jsx("text",{x:22,y:13,fontSize:11,fill:y.text,fontWeight:600,children:c.kind}),e[42]=y.text,e[43]=c.kind,e[44]=J):J=e[44];let F;e[45]!==J||e[46]!==z?(F=f.jsxs("g",{transform:"translate(10, 10)",children:[z,J]}),e[45]=J,e[46]=z,e[47]=F):F=e[47];const K=g-12;let Q;e[48]!==k||e[49]!==K?(Q=f.jsx("circle",{cx:K,cy:14,r:5,fill:k}),e[48]=k,e[49]=K,e[50]=Q):Q=e[50];const q=m-12,L=o?"#e5e7eb":"#1f2937";let G;e[51]!==E||e[52]!==q||e[53]!==L?(G=f.jsx("text",{x:10,y:q,fontSize:12,fontWeight:600,fill:L,children:E}),e[51]=E,e[52]=q,e[53]=L,e[54]=G):G=e[54];let U;return e[55]!==F||e[56]!==Q||e[57]!==G||e[58]!==B||e[59]!==D||e[60]!==$?(U=f.jsxs("g",{transform:B,onClick:D,style:j,className:"hover:opacity-80 transition-opacity",children:[$,F,Q,G]}),e[55]=F,e[56]=Q,e[57]=G,e[58]=B,e[59]=D,e[60]=$,e[61]=U):U=e[61],U}function Qj(t){const e=He.c(26),{node:n,onClick:s,isDarkMode:r}=t,{resource:a,x:o,y:c,width:h,height:d}=n;let g;e[0]!==r||e[1]!==a.kind?(g=Zl(a.kind,r),e[0]=r,e[1]=a.kind,e[2]=g):g=e[2];const m=g,v=lu[a.kind]||gg,y=`translate(${o}, ${c})`;let x;e[3]!==s?(x=$=>{$.stopPropagation(),s()},e[3]=s,e[4]=x):x=e[4];let w;e[5]===Symbol.for("react.memo_cache_sentinel")?(w={cursor:"pointer"},e[5]=w):w=e[5];let S;e[6]!==m.bg||e[7]!==m.border||e[8]!==d||e[9]!==h?(S=f.jsx("rect",{width:h,height:d,rx:8,fill:m.bg,stroke:m.border,strokeWidth:2}),e[6]=m.bg,e[7]=m.border,e[8]=d,e[9]=h,e[10]=S):S=e[10];const k=`translate(${h/2-12}, ${d/2-12})`;let C;e[11]!==m.text?(C={color:m.text},e[11]=m.text,e[12]=C):C=e[12];let E;e[13]!==v?(E=f.jsx(v,{size:22}),e[13]=v,e[14]=E):E=e[14];let B;e[15]!==C||e[16]!==E?(B=f.jsx("foreignObject",{width:24,height:24,children:f.jsx("div",{style:C,children:E})}),e[15]=C,e[16]=E,e[17]=B):B=e[17];let D;e[18]!==k||e[19]!==B?(D=f.jsx("g",{transform:k,children:B}),e[18]=k,e[19]=B,e[20]=D):D=e[20];let j;return e[21]!==D||e[22]!==y||e[23]!==x||e[24]!==S?(j=f.jsxs("g",{transform:y,onClick:x,style:w,className:"hover:opacity-80 transition-opacity",children:[S,D]}),e[21]=D,e[22]=y,e[23]=x,e[24]=S,e[25]=j):j=e[25],j}function $ne(t){const e=He.c(54),{node:n,onClick:s,onPodClick:r,onConfigClick:a,isDarkMode:o}=t,{resource:c,x:h,y:d,width:g,height:m,childPods:v}=n;let y;e[0]!==v?(y=v===void 0?[]:v,e[0]=v,e[1]=y):y=e[1];const x=y;let w;e[2]!==o||e[3]!==c.kind?(w=Zl(c.kind,o),e[2]=o,e[3]=c.kind,e[4]=w):w=e[4];const S=w,k=lu[c.kind]||gg,C=Math.floor((g-60)/6),E=c.metadata.name.length>C?c.metadata.name.slice(0,C-2)+"":c.metadata.name;let B;e[5]!==n?(B=n.configIcons||[],e[5]=n,e[6]=B):B=e[6];const D=B,j=`translate(${h}, ${d})`;let $;e[7]!==s?($=O=>{O.stopPropagation(),s()},e[7]=s,e[8]=$):$=e[8];let H;e[9]===Symbol.for("react.memo_cache_sentinel")?(H={cursor:"pointer"},e[9]=H):H=e[9];let Y;e[10]!==S.bg||e[11]!==S.border||e[12]!==m||e[13]!==$||e[14]!==g?(Y=f.jsx("rect",{width:g,height:m,rx:10,fill:S.bg,stroke:S.border,strokeWidth:2,onClick:$,style:H,className:"hover:opacity-90"}),e[10]=S.bg,e[11]=S.border,e[12]=m,e[13]=$,e[14]=g,e[15]=Y):Y=e[15];let z;e[16]!==s?(z=O=>{O.stopPropagation(),s()},e[16]=s,e[17]=z):z=e[17];let J;e[18]===Symbol.for("react.memo_cache_sentinel")?(J={cursor:"pointer"},e[18]=J):J=e[18];let F;e[19]!==S.text?(F={color:S.text},e[19]=S.text,e[20]=F):F=e[20];let K;e[21]!==k?(K=f.jsx(k,{size:16}),e[21]=k,e[22]=K):K=e[22];let Q;e[23]!==F||e[24]!==K?(Q=f.jsx("foreignObject",{width:18,height:18,children:f.jsx("div",{style:F,children:K})}),e[23]=F,e[24]=K,e[25]=Q):Q=e[25];let q;e[26]!==S.text||e[27]!==E?(q=f.jsx("text",{x:22,y:13,fontSize:11,fill:S.text,fontWeight:600,children:E}),e[26]=S.text,e[27]=E,e[28]=q):q=e[28];let L;e[29]!==Q||e[30]!==q?(L=f.jsxs("g",{transform:"translate(8, 8)",children:[Q,q]}),e[29]=Q,e[30]=q,e[31]=L):L=e[31];let G;e[32]!==L||e[33]!==z?(G=f.jsx("g",{onClick:z,style:J,children:L}),e[32]=L,e[33]=z,e[34]=G):G=e[34];let U;if(e[35]!==x||e[36]!==o||e[37]!==r){let O;e[39]!==o||e[40]!==r?(O=(V,A)=>{const Z=Zl("Pod",o),oe=DD(V.resource),te=o?oe.colorDark:oe.color,de=sS+A*(Kl+a0),xe=Math.floor((fg-30)/5.5),Ce=V.resource.metadata.name.length>xe?V.resource.metadata.name.slice(0,xe-2)+"":V.resource.metadata.name;return f.jsxs("g",{transform:`translate(${Ic}, ${de})`,onClick:et=>{et.stopPropagation(),r?.(V)},style:{cursor:"pointer"},className:"hover:opacity-80",children:[f.jsx("rect",{width:fg,height:Kl,rx:4,fill:Z.bg,stroke:Z.border,strokeWidth:1.5}),f.jsx("circle",{cx:12,cy:Kl/2,r:4,fill:te}),f.jsx("text",{x:22,y:Kl/2+4,fontSize:10,fill:o?"#e5e7eb":"#1f2937",fontWeight:500,children:Ce})]},V.uid)},e[39]=o,e[40]=r,e[41]=O):O=e[41],U=x.map(O),e[35]=x,e[36]=o,e[37]=r,e[38]=U}else U=e[38];let M;e[42]!==D||e[43]!==m||e[44]!==o||e[45]!==a||e[46]!==c.metadata.namespace?(M=D.length>0&&f.jsx("g",{transform:`translate(${Ic}, ${m-Math.ceil(D.length/$d)*(Xi+Za)-Za})`,children:D.map((O,V)=>{const A=lu[O.kind],Z=Zl(O.kind,o),oe=Math.floor(V/$d),de=V%$d*(Xi+Za),xe=oe*(Xi+Za);return f.jsxs("g",{transform:`translate(${de}, ${xe})`,onClick:Ce=>{Ce.stopPropagation(),a&&a(O.kind,O.name,c.metadata.namespace)},style:{cursor:"pointer"},className:"hover:opacity-80",children:[f.jsx("title",{children:O.name}),f.jsx("rect",{width:Xi,height:Xi,rx:3,fill:Z.bg,stroke:Z.border,strokeWidth:1}),f.jsx("g",{transform:`translate(${Xi/2-6}, ${Xi/2-6})`,children:f.jsx("foreignObject",{width:12,height:12,children:f.jsx("div",{style:{color:Z.text},children:f.jsx(A,{size:12})})})})]},`${O.kind}-${O.name}-${V}`)})}),e[42]=D,e[43]=m,e[44]=o,e[45]=a,e[46]=c.metadata.namespace,e[47]=M):M=e[47];let R;return e[48]!==G||e[49]!==U||e[50]!==M||e[51]!==j||e[52]!==Y?(R=f.jsxs("g",{transform:j,children:[Y,G,U,M]}),e[48]=G,e[49]=U,e[50]=M,e[51]=j,e[52]=Y,e[53]=R):R=e[53],R}function Hne(t){const e=He.c(52),{node:n,onClick:s,isDarkMode:r}=t,{resource:a,x:o,y:c,width:h,height:d}=n;let g;e[0]!==r?(g=Zl("Ingress",r),e[0]=r,e[1]=g):g=e[1];const m=g,v=lu.Ingress,y=a.spec;let x,w,S,k,C,E,B,D;if(e[2]!==m.bg||e[3]!==m.border||e[4]!==m.text||e[5]!==d||e[6]!==r||e[7]!==s||e[8]!==a.metadata.name||e[9]!==y.rules||e[10]!==h||e[11]!==o||e[12]!==c){const z=y.rules?.map(Une).filter(Boolean)||[],J=Math.floor((h-20)/6.5);x=a.metadata.name.length>J?a.metadata.name.slice(0,J-2)+"":a.metadata.name,w=`translate(${o}, ${c})`,e[21]!==s?(S=L=>{L.stopPropagation(),s()},e[21]=s,e[22]=S):S=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(k={cursor:"pointer"},e[23]=k):k=e[23],C="hover:opacity-80 transition-opacity",e[24]!==m.bg||e[25]!==m.border||e[26]!==d||e[27]!==h?(E=f.jsx("rect",{width:h,height:d,rx:8,fill:m.bg,stroke:m.border,strokeWidth:2}),e[24]=m.bg,e[25]=m.border,e[26]=d,e[27]=h,e[28]=E):E=e[28];let F;e[29]!==m.text?(F={color:m.text},e[29]=m.text,e[30]=F):F=e[30];let K;e[31]===Symbol.for("react.memo_cache_sentinel")?(K=f.jsx(v,{size:16}),e[31]=K):K=e[31];let Q;e[32]!==F?(Q=f.jsx("foreignObject",{width:18,height:18,children:f.jsx("div",{style:F,children:K})}),e[32]=F,e[33]=Q):Q=e[33];let q;e[34]!==m.text?(q=f.jsx("text",{x:22,y:13,fontSize:11,fill:m.text,fontWeight:600,children:"Ingress"}),e[34]=m.text,e[35]=q):q=e[35],e[36]!==Q||e[37]!==q?(B=f.jsxs("g",{transform:"translate(10, 10)",children:[Q,q]}),e[36]=Q,e[37]=q,e[38]=B):B=e[38],D=z.length>0&&z[0]&&f.jsx("text",{x:h-10,y:18,fontSize:9,fill:r?"#5eead4":"#115e59",textAnchor:"end",children:z[0].length>18?z[0].slice(0,16)+"":z[0]}),e[2]=m.bg,e[3]=m.border,e[4]=m.text,e[5]=d,e[6]=r,e[7]=s,e[8]=a.metadata.name,e[9]=y.rules,e[10]=h,e[11]=o,e[12]=c,e[13]=x,e[14]=w,e[15]=S,e[16]=k,e[17]=C,e[18]=E,e[19]=B,e[20]=D}else x=e[13],w=e[14],S=e[15],k=e[16],C=e[17],E=e[18],B=e[19],D=e[20];const j=d-12,$=r?"#e5e7eb":"#1f2937";let H;e[39]!==x||e[40]!==$||e[41]!==j?(H=f.jsx("text",{x:10,y:j,fontSize:12,fontWeight:600,fill:$,children:x}),e[39]=x,e[40]=$,e[41]=j,e[42]=H):H=e[42];let Y;return e[43]!==H||e[44]!==w||e[45]!==S||e[46]!==k||e[47]!==C||e[48]!==E||e[49]!==B||e[50]!==D?(Y=f.jsxs("g",{transform:w,onClick:S,style:k,className:C,children:[E,B,D,H]}),e[43]=H,e[44]=w,e[45]=S,e[46]=k,e[47]=C,e[48]=E,e[49]=B,e[50]=D,e[51]=Y):Y=e[51],Y}function Une(t){return t.host}function Vne(t){const e=He.c(55),{node:n,onClick:s,isDarkMode:r}=t,{resource:a,x:o,y:c,width:h,height:d}=n;let g;e[0]!==r?(g=Zl("NetworkPolicy",r),e[0]=r,e[1]=g):g=e[1];const m=g,v=lu.NetworkPolicy,y=a.spec;let x;e[2]!==y.policyTypes?(x=y.policyTypes||[],e[2]=y.policyTypes,e[3]=x):x=e[3];const w=x;let S;e[4]!==w||e[5]!==y.ingress?(S=w.includes("Ingress")||y.ingress,e[4]=w,e[5]=y.ingress,e[6]=S):S=e[6];const k=S;let C;e[7]!==w||e[8]!==y.egress?(C=w.includes("Egress")||y.egress,e[7]=w,e[8]=y.egress,e[9]=C):C=e[9];const E=C;let B;e[10]!==y.ingress?(B=y.ingress||[],e[10]=y.ingress,e[11]=B):B=e[11];const D=B;let j;e[12]!==y.egress?(j=y.egress||[],e[12]=y.egress,e[13]=j):j=e[13];const $=j,H=k&&D.length===0,Y=E&&$.length===0,z=H&&Y,J=Math.floor((h-20)/6.5),F=a.metadata.name.length>J?a.metadata.name.slice(0,J-2)+"":a.metadata.name;let K;e[14]!==Y||e[15]!==$||e[16]!==E||e[17]!==k||e[18]!==H||e[19]!==D||e[20]!==z?(K=()=>{const ht=[];return z?" Deny All":(H?ht.push(" No Ingress"):k&&D.length>0&&ht.push(`${D.length}`),Y?ht.push(" No Egress"):E&&$.length>0&&ht.push(`${$.length}`),ht.join(" ")||" Allow")},e[14]=Y,e[15]=$,e[16]=E,e[17]=k,e[18]=H,e[19]=D,e[20]=z,e[21]=K):K=e[21];const Q=K,q=`translate(${o}, ${c})`;let L;e[22]!==s?(L=ht=>{ht.stopPropagation(),s()},e[22]=s,e[23]=L):L=e[23];let G;e[24]===Symbol.for("react.memo_cache_sentinel")?(G={cursor:"pointer"},e[24]=G):G=e[24];const U=z?r?"#7f1d1d":"#fef2f2":m.bg,M=z?r?"#f87171":"#ef4444":m.border;let R;e[25]!==d||e[26]!==U||e[27]!==M||e[28]!==h?(R=f.jsx("rect",{width:h,height:d,rx:8,fill:U,stroke:M,strokeWidth:2}),e[25]=d,e[26]=U,e[27]=M,e[28]=h,e[29]=R):R=e[29];const O=z?r?"#f87171":"#ef4444":m.text;let V;e[30]!==O?(V={color:O},e[30]=O,e[31]=V):V=e[31];let A;e[32]===Symbol.for("react.memo_cache_sentinel")?(A=f.jsx(v,{size:16}),e[32]=A):A=e[32];let Z;e[33]!==V?(Z=f.jsx("foreignObject",{width:18,height:18,children:f.jsx("div",{style:V,children:A})}),e[33]=V,e[34]=Z):Z=e[34];const oe=z?r?"#f87171":"#ef4444":m.text;let te;e[35]!==oe?(te=f.jsx("text",{x:22,y:13,fontSize:10,fill:oe,fontWeight:600,children:"NetworkPolicy"}),e[35]=oe,e[36]=te):te=e[36];let de;e[37]!==Z||e[38]!==te?(de=f.jsxs("g",{transform:"translate(10, 10)",children:[Z,te]}),e[37]=Z,e[38]=te,e[39]=de):de=e[39];const xe=h-10,Ce=z?r?"#fca5a5":"#dc2626":r?"#fcd34d":"#92400e",et=Q();let Ne;e[40]!==xe||e[41]!==Ce||e[42]!==et?(Ne=f.jsx("text",{x:xe,y:18,fontSize:9,fill:Ce,textAnchor:"end",fontWeight:500,children:et}),e[40]=xe,e[41]=Ce,e[42]=et,e[43]=Ne):Ne=e[43];const Ge=d-12,Te=r?"#e5e7eb":"#1f2937";let tt;e[44]!==F||e[45]!==Ge||e[46]!==Te?(tt=f.jsx("text",{x:10,y:Ge,fontSize:12,fontWeight:600,fill:Te,children:F}),e[44]=F,e[45]=Ge,e[46]=Te,e[47]=tt):tt=e[47];let mt;return e[48]!==R||e[49]!==de||e[50]!==Ne||e[51]!==tt||e[52]!==q||e[53]!==L?(mt=f.jsxs("g",{transform:q,onClick:L,style:G,className:"hover:opacity-80 transition-opacity",children:[R,de,Ne,tt]}),e[48]=R,e[49]=de,e[50]=Ne,e[51]=tt,e[52]=q,e[53]=L,e[54]=mt):mt=e[54],mt}function Fne(t){const e=t.metadata.labels||{};return e["app.kubernetes.io/instance"]||e.release||e.app||e["app.kubernetes.io/name"]||e["k8s-app"]||e.name||e["app.kubernetes.io/component"]||e["app.kubernetes.io/part-of"]}const qne={Deployment:1,StatefulSet:2,DaemonSet:3,CronJob:4,Job:5,Pod:6};function Wne(t){const e=new Map;t.forEach(M=>{M.metadata.uid&&e.set(M.metadata.uid,M)});const n=new Map,s=new Map,r=(M,R)=>{n.has(M)||n.set(M,new Set),n.has(R)||n.set(R,new Set),n.get(M).add(R),n.get(R).add(M)},a=(M,R,O)=>{const V=`${M}-${R}`;s.has(V)||s.set(V,[]),s.get(V).push({from:M,to:R,type:O})},o=new Map,c=new Map;t.forEach(M=>{const R=(M.metadata.ownerReferences||[]).filter(O=>e.has(O.uid));if(R.length>0){const O=R[0];c.set(M.metadata.uid,O.uid),o.has(O.uid)||o.set(O.uid,[]),o.get(O.uid).push(M.metadata.uid),r(M.metadata.uid,O.uid),a(O.uid,M.metadata.uid,"owner")}});const h=["Deployment","StatefulSet","DaemonSet","Job"];t.forEach(M=>{if(!h.includes(M.kind))return;const R=M.spec?.selector?.matchLabels;!R||Object.keys(R).length===0||t.filter(O=>O.kind==="Pod"&&O.metadata.namespace===M.metadata.namespace).forEach(O=>{const V=O.metadata.labels||{};Object.entries(R).every(([A,Z])=>V[A]===Z)&&r(M.metadata.uid,O.metadata.uid)})});const d=new Map,g=new Map,m=new Set;t.filter(M=>M.kind==="Pod").forEach(M=>{const R=M.metadata.ownerReferences?.[0];if(!R)return;if(R.kind==="Node"){m.add(M.metadata.uid);return}const O=e.get(R.uid);if(O){if(h.includes(O.kind)){d.has(O.metadata.uid)||d.set(O.metadata.uid,[]),d.get(O.metadata.uid).push(M),g.set(M.metadata.uid,O.metadata.uid);return}if(O.kind==="ReplicaSet"){const V=O.metadata.ownerReferences?.[0];if(V){const A=e.get(V.uid);A&&A.kind==="Deployment"&&(d.has(A.metadata.uid)||d.set(A.metadata.uid,[]),d.get(A.metadata.uid).push(M),g.set(M.metadata.uid,A.metadata.uid))}}}}),d.forEach(M=>{M.sort((R,O)=>R.metadata.name.localeCompare(O.metadata.name))}),t.forEach(M=>{if(M.kind!=="Service")return;const R=M.spec?.selector;!R||Object.keys(R).length===0||t.filter(O=>O.kind==="Pod"&&O.metadata.namespace===M.metadata.namespace).forEach(O=>{const V=O.metadata.labels||{};Object.entries(R).every(([A,Z])=>V[A]===Z)&&(r(M.metadata.uid,O.metadata.uid),a(M.metadata.uid,O.metadata.uid,"service"))})}),t.forEach(M=>{if(M.kind!=="NetworkPolicy")return;const R=M.spec,O=M.metadata.namespace||"",V=R.podSelector?.matchLabels||{},A=Object.keys(V).length===0;t.filter(Z=>Z.kind==="Pod"&&Z.metadata.namespace===O).forEach(Z=>{const oe=Z.metadata.labels||{};if(A||Object.entries(V).every(([de,xe])=>oe[de]===xe)){const de=g.get(Z.metadata.uid);a(de||Z.metadata.uid,M.metadata.uid,"network-policy")}})});const v=new Map;t.forEach(M=>{if(M.kind==="Service"){const R=`${M.metadata.namespace||""}/${M.metadata.name}`;v.set(R,M)}}),t.forEach(M=>{if(M.kind!=="Ingress")return;const R=M.spec,O=M.metadata.namespace||"";if(R.defaultBackend?.service?.name){const V=v.get(`${O}/${R.defaultBackend.service.name}`);V&&(r(M.metadata.uid,V.metadata.uid),a(M.metadata.uid,V.metadata.uid,"ingress"))}R.rules?.forEach(V=>{V.http?.paths?.forEach(A=>{if(A.backend?.service?.name){const Z=v.get(`${O}/${A.backend.service.name}`);Z&&(r(M.metadata.uid,Z.metadata.uid),a(M.metadata.uid,Z.metadata.uid,"ingress"))}})})}),t.forEach(M=>{if(M.kind!=="HTTPRoute"&&M.kind!=="GRPCRoute")return;const R=M.spec,O=M.metadata.namespace||"";R.parentRefs?.forEach(V=>{if(!V.kind||V.kind==="Gateway"){const A=t.find(Z=>Z.kind==="Gateway"&&Z.metadata.name===V.name&&Z.metadata.namespace===O);A&&(r(A.metadata.uid,M.metadata.uid),a(A.metadata.uid,M.metadata.uid,"gateway"))}}),R.rules?.forEach(V=>{V.backendRefs?.forEach(A=>{if(!A.kind||A.kind==="Service"){const Z=v.get(`${O}/${A.name}`);Z&&(r(M.metadata.uid,Z.metadata.uid),a(M.metadata.uid,Z.metadata.uid,"gateway"))}})})});const y=new Map,x=new Map,w=new Map;t.forEach(M=>{const R=`${M.metadata.namespace||""}/${M.metadata.name}`;M.kind==="ConfigMap"?y.set(R,M):M.kind==="Secret"?x.set(R,M):M.kind==="PersistentVolumeClaim"&&w.set(R,M)});const S=(M,R,O)=>{M?.forEach(V=>{V.env?.forEach(A=>{A.valueFrom?.configMapKeyRef?.name&&R.add(A.valueFrom.configMapKeyRef.name),A.valueFrom?.secretKeyRef?.name&&O.add(A.valueFrom.secretKeyRef.name)}),V.envFrom?.forEach(A=>{A.configMapRef?.name&&R.add(A.configMapRef.name),A.secretRef?.name&&O.add(A.secretRef.name)})})},k=new Map;t.filter(M=>M.kind==="Pod").forEach(M=>{const R=g.get(M.metadata.uid);if(!R)return;const O=M.spec,V=new Set,A=new Set,Z=new Set;O.volumes?.forEach(te=>{te.configMap?.name&&V.add(te.configMap.name),te.secret?.secretName&&A.add(te.secret.secretName),te.persistentVolumeClaim?.claimName&&Z.add(te.persistentVolumeClaim.claimName),te.projected?.sources?.forEach(de=>{de.configMap?.name&&V.add(de.configMap.name),de.secret?.name&&A.add(de.secret.name)})}),S(O.containers,V,A),S(O.initContainers,V,A),k.has(R)||k.set(R,new Map);const oe=k.get(R);V.size>0&&(oe.has("ConfigMap")||oe.set("ConfigMap",new Set),V.forEach(te=>oe.get("ConfigMap").add(te))),A.size>0&&(oe.has("Secret")||oe.set("Secret",new Set),A.forEach(te=>oe.get("Secret").add(te))),Z.size>0&&(oe.has("PersistentVolumeClaim")||oe.set("PersistentVolumeClaim",new Set),Z.forEach(te=>oe.get("PersistentVolumeClaim").add(te)))});const C=M=>{const R=c.get(M);return R?C(R):M},E=new Map,B=new Map,D=new Map;t.forEach(M=>{if(M.kind!=="Pod")return;const R=M.metadata.namespace||"",O=C(M.metadata.uid),V=M.spec,A=new Set,Z=new Set,oe=new Set;V.volumes?.forEach(te=>{te.configMap?.name&&A.add(te.configMap.name),te.secret?.secretName&&Z.add(te.secret.secretName),te.persistentVolumeClaim?.claimName&&oe.add(te.persistentVolumeClaim.claimName),te.projected?.sources?.forEach(de=>{de.configMap?.name&&A.add(de.configMap.name),de.secret?.name&&Z.add(de.secret.name)})}),S(V.containers,A,Z),S(V.initContainers,A,Z),A.forEach(te=>{const de=`${R}/${te}`;E.has(de)||E.set(de,new Set),E.get(de).add(O)}),Z.forEach(te=>{const de=`${R}/${te}`;B.has(de)||B.set(de,new Set),B.get(de).add(O)}),oe.forEach(te=>{const de=`${R}/${te}`;D.has(de)||D.set(de,new Set),D.get(de).add(O)})});const j=new Set;E.forEach((M,R)=>{if(M.size>1){const O=y.get(R);O&&j.add(O.metadata.uid)}}),B.forEach((M,R)=>{if(M.size>1){const O=x.get(R);O&&j.add(O.metadata.uid)}}),D.forEach((M,R)=>{if(M.size>1){const O=w.get(R);O&&j.add(O.metadata.uid)}}),t.forEach(M=>{if(M.kind!=="Pod")return;const R=M.metadata.namespace||"",O=M.spec,V=new Set,A=new Set,Z=new Set;O.volumes?.forEach(oe=>{oe.configMap?.name&&V.add(oe.configMap.name),oe.secret?.secretName&&A.add(oe.secret.secretName),oe.persistentVolumeClaim?.claimName&&Z.add(oe.persistentVolumeClaim.claimName),oe.projected?.sources?.forEach(te=>{te.configMap?.name&&V.add(te.configMap.name),te.secret?.name&&A.add(te.secret.name)})}),S(O.containers,V,A),S(O.initContainers,V,A),V.forEach(oe=>{const te=y.get(`${R}/${oe}`);te&&!j.has(te.metadata.uid)&&(r(M.metadata.uid,te.metadata.uid),a(te.metadata.uid,M.metadata.uid,"owner"))}),A.forEach(oe=>{const te=x.get(`${R}/${oe}`);te&&!j.has(te.metadata.uid)&&(r(M.metadata.uid,te.metadata.uid),a(te.metadata.uid,M.metadata.uid,"owner"))}),Z.forEach(oe=>{const te=w.get(`${R}/${oe}`);te&&!j.has(te.metadata.uid)&&(r(M.metadata.uid,te.metadata.uid),a(te.metadata.uid,M.metadata.uid,"owner"))})});const $=new Set,H=[];function Y(M,R){$.has(M)||m.has(M)||($.add(M),R.push(M),(n.get(M)||new Set).forEach(O=>Y(O,R)))}t.forEach(M=>{if(!m.has(M.metadata.uid)&&!$.has(M.metadata.uid)){const R=[];Y(M.metadata.uid,R),R.length>0&&H.push(R)}}),H.sort((M,R)=>R.length-M.length);const z=[],J={Gateway:0,Ingress:0,HTTPRoute:1,GRPCRoute:1,Service:2,Deployment:3,StatefulSet:3,DaemonSet:3,Job:3,CronJob:3,Pod:3,ConfigMap:4,Secret:4,PersistentVolumeClaim:4,NetworkPolicy:5};H.forEach((M,R)=>{const O=M.map(Qe=>e.get(Qe)).filter(Boolean);if(O.length===0)return;const V=O.filter(Qe=>!(Qe.kind==="ReplicaSet"||Qe.kind==="Pod"&&g.has(Qe.metadata.uid)||["ConfigMap","Secret","PersistentVolumeClaim"].includes(Qe.kind)));if(V.length===0)return;const A=new Map;V.forEach(Qe=>{const rt=J[Qe.kind]??3;A.has(rt)||A.set(rt,[]),A.get(rt).push(Qe.metadata.uid)}),A.forEach(Qe=>{Qe.sort((rt,Zt)=>{const Ot=e.get(rt),Wn=e.get(Zt);return Ot.metadata.name.localeCompare(Wn.metadata.name)})});const Z=new Map;V.forEach(Qe=>{if(["Service","Gateway","HTTPRoute","GRPCRoute"].includes(Qe.kind)){Z.set(Qe.metadata.uid,{width:Xj,height:Xj});return}const rt=d.get(Qe.metadata.uid);if(rt&&rt.length>0){const Zt=k.get(Qe.metadata.uid);let Ot=0;Zt&&Zt.forEach(re=>Ot+=re.size);const Wn=fg+Ic*2,pe=Math.min(Ot,$d),_e=pe>0?pe*(Xi+Za)-Za+Ic*2:0,We=Math.max(Wn,_e),it=Ot>0?Math.ceil(Ot/$d):0,St=it>0?it*(Xi+Za)+Za:0,En=sS+rt.length*(Kl+a0)-a0+Ic+St;Z.set(Qe.metadata.uid,{width:We,height:En})}else Z.set(Qe.metadata.uid,{width:zh,height:__})});const oe=new Map;let te=0,de=qa+Jj;const xe=Array.from(A.keys()).sort((Qe,rt)=>Qe-rt),Ce=new Map;xe.forEach(Qe=>{const rt=Math.max(...(A.get(Qe)||[]).map(Zt=>Z.get(Zt)?.width||zh));Ce.set(Qe,rt)});let et=qa;xe.forEach(Qe=>{const rt=Ce.get(Qe)||zh;let Zt=qa+Jj;A.get(Qe).forEach(Ot=>{const Wn=Z.get(Ot)||{width:zh,height:__},pe=(rt-Wn.width)/2;oe.set(Ot,{x:et+pe,y:Zt}),de=Math.max(de,Zt+Wn.height),Zt+=Wn.height+Mne}),te=Math.max(te,et+rt),et+=rt+Bne});const Ne=te+qa,Ge=de+qa,Te=V.map(Qe=>{const rt=oe.get(Qe.metadata.uid),Zt=Z.get(Qe.metadata.uid)||{width:zh,height:__},Wn=d.get(Qe.metadata.uid)?.map((We,it)=>({uid:We.metadata.uid,resource:We,x:Ic,y:sS+it*(Kl+a0),width:fg,height:Kl})),pe=k.get(Qe.metadata.uid),_e=[];return pe&&pe.forEach((We,it)=>{We.forEach(St=>_e.push({kind:it,name:St}))}),{uid:Qe.metadata.uid,resource:Qe,x:rt.x,y:rt.y,width:Zt.width,height:Zt.height,childPods:Wn,configIcons:_e}}),tt=[],mt=new Set,ht=new Set;V.forEach(Qe=>{const rt=d.get(Qe.metadata.uid);rt&&rt.forEach(Zt=>ht.add(Zt.metadata.uid))}),s.forEach(Qe=>{Qe.forEach(rt=>{const Zt=V.some(_e=>_e.metadata.uid===rt.from),Ot=V.some(_e=>_e.metadata.uid===rt.to),Wn=ht.has(rt.to),pe=ht.has(rt.from);if(Zt&&Ot||Zt&&Wn||Ot&&pe){const _e=`${rt.from}-${rt.to}-${rt.type}`;mt.has(_e)||(mt.add(_e),tt.push(rt))}})});let Lt,vn=1/0;V.forEach(Qe=>{const rt=qne[Qe.kind];rt!==void 0&&rt<vn&&(vn=rt,Lt=Qe)});const os=Lt?Fne(Lt)||Lt.metadata.name:void 0,Es=Lt?.metadata.namespace;z.push({id:`app-${R}`,name:os||"",namespace:Es,nodes:Te,edges:tt,x:0,y:0,width:Ne,height:Ge})});const F=new Map;z.forEach(M=>{const R=M.namespace||"",O=M.name||"",V=`${R}/${O}`;F.has(V)||F.set(V,[]),F.get(V).push(M)});const K=[];F.forEach((M,R)=>{if(M.length===1)K.push(M[0]);else{M.sort((de,xe)=>{const Ce=de.nodes[0]?.resource.metadata.name||"",et=xe.nodes[0]?.resource.metadata.name||"";return Ce.localeCompare(et)});const O=[],V=[];let A=qa,Z=0;M.forEach(de=>{de.nodes.forEach(xe=>{O.push({...xe,x:xe.x+A-qa,y:xe.y})}),V.push(...de.edges),A+=de.width+Dm,Z=Math.max(Z,de.height)});const[oe,te]=R.split("/");K.push({id:`app-${R}`,name:te,namespace:oe,nodes:O,edges:V,x:0,y:0,width:A-Dm+qa,height:Z})}}),K.sort((M,R)=>R.height-M.height);const Q=1800;let q=0,L=[];const G=[];K.forEach(M=>{q+M.width>Q&&L.length>0&&(G.push([...L]),q=0,L=[]),L.push({app:M,tempX:q}),q+=M.width+Dm}),L.length>0&&G.push(L);let U=0;return G.forEach(M=>{const R=Math.max(...M.map(O=>O.app.height));M.forEach(({app:O,tempX:V})=>{const A=V,Z=U+(R-O.height)/2;O.nodes.forEach(oe=>{oe.x+=A,oe.y+=Z}),O.x=A,O.y=Z}),U+=R+Dm}),K}function Kne(){const t=He.c(4);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=f.jsxs("div",{className:"mb-8 relative",children:[f.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-70 h-70 mx-auto dark:hidden"}),f.jsx("img",{src:"/logo_dark.png",alt:"Logo",className:"w-70 h-70 mx-auto hidden dark:block"})]}),t[0]=e):e=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=f.jsxs("div",{className:"p-4 rounded-xl bg-neutral-50 dark:bg-neutral-800/30",children:[f.jsx("div",{className:"w-9 h-9 mx-auto mb-2.5 rounded-lg bg-emerald-100 dark:bg-emerald-500/10 flex items-center justify-center",children:f.jsx(ll,{size:18,className:"text-emerald-600 dark:text-emerald-400"})}),f.jsx("h3",{className:"font-medium text-sm text-neutral-900 dark:text-neutral-100 mb-0.5",children:"Topology"}),f.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"Resource relationships"})]}),t[1]=n):n=t[1];let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=f.jsxs("div",{className:"p-4 rounded-xl bg-neutral-50 dark:bg-neutral-800/30",children:[f.jsx("div",{className:"w-9 h-9 mx-auto mb-2.5 rounded-lg bg-sky-100 dark:bg-sky-500/10 flex items-center justify-center",children:f.jsx(hl,{size:18,className:"text-sky-600 dark:text-sky-400"})}),f.jsx("h3",{className:"font-medium text-sm text-neutral-900 dark:text-neutral-100 mb-0.5",children:"Browser"}),f.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"Browse any resource"})]}),t[2]=s):s=t[2];let r;return t[3]===Symbol.for("react.memo_cache_sentinel")?(r=f.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:f.jsxs("div",{className:"max-w-2xl mx-auto px-8 text-center",children:[e,f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n,s,f.jsxs("div",{className:"p-4 rounded-xl bg-neutral-50 dark:bg-neutral-800/30",children:[f.jsx("div",{className:"w-9 h-9 mx-auto mb-2.5 rounded-lg bg-purple-100 dark:bg-purple-500/10 flex items-center justify-center",children:f.jsx(vg,{size:18,className:"text-purple-600 dark:text-purple-400"})}),f.jsx("h3",{className:"font-medium text-sm text-neutral-900 dark:text-neutral-100 mb-0.5",children:"Details"}),f.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"Full specifications"})]})]})]})}),t[3]=r):r=t[3],r}const x_=[{kind:"pods",label:"Pods",icon:ul,category:"Workloads"},{kind:"deployments",label:"Deployments",icon:dS,category:"Workloads"},{kind:"daemonsets",label:"DaemonSets",icon:cS,category:"Workloads"},{kind:"statefulsets",label:"StatefulSets",icon:hl,category:"Workloads"},{kind:"replicasets",label:"ReplicaSets",icon:ll,category:"Workloads"},{kind:"jobs",label:"Jobs",icon:vg,category:"Workloads"},{kind:"cronjobs",label:"CronJobs",icon:aa,category:"Workloads"},{kind:"secrets",label:"Secrets",icon:pf,category:"Config"},{kind:"configmaps",label:"ConfigMaps",icon:yi,category:"Config"},{kind:"applications",label:"Applications",icon:nT,category:"Config"},{kind:"applicationsets",label:"ApplicationSets",icon:rT,category:"Config"},{kind:"certificates",label:"Certificates",icon:oT,category:"Config"},{kind:"certificaterequests",label:"CertificateRequests",icon:l0,category:"Config"},{kind:"services",label:"Services",icon:lT,category:"Network"},{kind:"ingresses",label:"Ingresses",icon:Br,category:"Network"},{kind:"gateways",label:"Gateways",icon:ns,category:"Network"},{kind:"httproutes",label:"HTTPRoutes",icon:Br,category:"Network"},{kind:"grpcroutes",label:"GRPCRoutes",icon:Br,category:"Network"},{kind:"tcproutes",label:"TCPRoutes",icon:ns,category:"Network"},{kind:"udproutes",label:"UDPRoutes",icon:ns,category:"Network"},{kind:"tlsroutes",label:"TLSRoutes",icon:ns,category:"Network"},{kind:"persistentvolumes",label:"PersistentVolumes",icon:Us,category:"Storage"},{kind:"persistentvolumeclaims",label:"PersistentVolumeClaims",icon:iS,category:"Storage"},{kind:"namespaces",label:"Namespaces",icon:Hd,category:"Cluster"},{kind:"nodes",label:"Nodes",icon:Yr,category:"Cluster"},{kind:"events",label:"Events",icon:iT,category:"Cluster"}];function Gne({isOpen:t,onClose:e}){const{context:n,namespace:s,namespaces:r,setNamespace:a,setSelectedResource:o}=hr(),[c,h]=W.useState(""),[d,g]=W.useState(0),[m,v]=W.useState([]),[y,x]=W.useState(!1),[w,S]=W.useState(new Map),k=W.useRef(null),C=W.useRef(null),E=W.useRef(null),B=W.useCallback(()=>{h(""),g(0),v([])},[]),D=W.useRef(!1);W.useEffect(()=>{t&&!D.current&&B(),D.current=t},[t,B]);const{mode:j,searchQuery:$}=W.useMemo(()=>c.startsWith("@@")?{mode:"searchAll",searchQuery:c.slice(2).trim()}:c.startsWith(">")?{mode:"resources",searchQuery:c.slice(1).trim()}:c.startsWith("@")?{mode:"namespaces",searchQuery:c.slice(1).trim()}:c.startsWith(":")?{mode:"search",searchQuery:c.slice(1).trim()}:{mode:"default",searchQuery:c.trim()},[c]);W.useEffect(()=>{n&&(async()=>{const G=new Map;for(const U of x_)try{const M=await bo(n,U.kind);M&&G.set(U.kind,M)}catch{}S(G)})()},[n]);const H=W.useMemo(()=>{const L=$.toLowerCase();return x_.filter(G=>w.has(G.kind)).filter(G=>G.label.toLowerCase().includes(L)||G.kind.toLowerCase().includes(L)||G.category.toLowerCase().includes(L))},[$,w]),Y=W.useMemo(()=>{const L=$.toLowerCase();return r.filter(G=>G.metadata?.name?.toLowerCase().includes(L))},[$,r]),z=W.useMemo(()=>{if(j==="resources")return H.map(M=>({id:`type-${M.kind}`,type:"resource-type",label:M.label,sublabel:M.category,icon:M.icon,category:M.category,data:{resourceConfig:w.get(M.kind)}}));if(j==="namespaces")return Y.map(M=>({id:`ns-${M.metadata?.name}`,type:"namespace",label:M.metadata?.name||"",icon:Hd,data:{namespace:M.metadata?.name}}));if(j==="search"||j==="searchAll")return[];const L=[],G=H.slice(0,10).map(M=>({id:`type-${M.kind}`,type:"resource-type",label:M.label,sublabel:M.category,icon:M.icon,category:M.category,data:{resourceConfig:w.get(M.kind)}}));L.push(...G);const U=Y.slice(0,5).map(M=>({id:`ns-${M.metadata?.name}`,type:"namespace",label:M.metadata?.name||"",sublabel:"Namespace",icon:Hd,data:{namespace:M.metadata?.name}}));return L.push(...U),L},[j,H,Y,w]),J=j==="search"||j==="searchAll"?m:z,F=W.useCallback(async(L,G)=>{if(!L||L.length<2)return[];const U=[],M=L.toLowerCase(),R=G?void 0:s,O=x_.filter(A=>w.has(A.kind)).map(async A=>{const Z=w.get(A.kind);if(!Z)return[];try{const oe=await pS(n,Z,R),te=[];for(const de of oe.rows){const xe=de.object.metadata.name,Ce=de.object.metadata.namespace;xe.toLowerCase().includes(M)&&te.push({id:`${A.kind}/${Ce||""}/${xe}`,type:"resource",label:xe,sublabel:Ce?`${A.label} in ${Ce}`:A.label,icon:A.icon,category:A.category,data:{resourceConfig:Z,namespace:Ce,resourceName:xe}})}return te}catch{return[]}}),V=await Promise.all(O);for(const A of V)U.push(...A);return U.sort((A,Z)=>{const oe=A.label.toLowerCase()===M,te=Z.label.toLowerCase()===M;return oe&&!te?-1:!oe&&te?1:A.label.localeCompare(Z.label)}),U.slice(0,50)},[n,s,w]);W.useEffect(()=>(E.current&&clearTimeout(E.current),(j==="search"||j==="searchAll")&&$.length>=2?(x(!0),E.current=setTimeout(async()=>{const L=await F($,j==="searchAll");v(L),g(0),x(!1)},300)):(j==="search"||j==="searchAll")&&(v([]),x(!1)),()=>{E.current&&clearTimeout(E.current)}),[j,$,F]),W.useEffect(()=>{j!=="search"&&j!=="searchAll"&&g(0)},[j,z]);const K=W.useCallback(L=>{L.type==="resource-type"?L.data.resourceConfig&&o(L.data.resourceConfig):L.type==="namespace"?a(L.data.namespace):L.type==="resource"&&L.data.resourceConfig&&(L.data.namespace&&L.data.namespace!==s&&a(L.data.namespace),o(L.data.resourceConfig)),e()},[o,a,s,e]),Q=W.useCallback(L=>{switch(L.key){case"ArrowDown":L.preventDefault(),g(G=>Math.min(G+1,J.length-1));break;case"ArrowUp":L.preventDefault(),g(G=>Math.max(G-1,0));break;case"Enter":L.preventDefault(),J[d]&&K(J[d]);break;case"Escape":L.preventDefault(),e();break}},[J,d,K,e]);W.useEffect(()=>{t&&setTimeout(()=>k.current?.focus(),0)},[t]),W.useEffect(()=>{d>=0&&C.current&&C.current.querySelector(`[data-index="${d}"]`)?.scrollIntoView({block:"nearest"})},[d]);const q=W.useMemo(()=>{switch(j){case"resources":return"Search resource types...";case"namespaces":return"Search namespaces...";case"search":return`Search resources in ${s||"all namespaces"}...`;case"searchAll":return"Search resources across all namespaces...";default:return"Search resources, types, namespaces... (> types, @ ns, : search, @@ all)"}},[j,s]);return t?XB.createPortal(f.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[15vh]",onClick:L=>{L.target===L.currentTarget&&e()},children:[f.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),f.jsxs("div",{className:"relative w-full max-w-2xl mx-4 bg-white dark:bg-neutral-900 rounded-xl shadow-2xl border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-neutral-200 dark:border-neutral-700",children:[f.jsx($7,{size:20,className:"text-neutral-400 dark:text-neutral-500 shrink-0"}),f.jsx("input",{ref:k,type:"text",className:"flex-1 bg-transparent text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 outline-none text-base",value:c,onChange:L=>h(L.target.value),onKeyDown:Q,placeholder:q,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}),y&&f.jsx("div",{className:"shrink-0 w-4 h-4 border-2 border-neutral-300 dark:border-neutral-600 border-t-neutral-500 dark:border-t-neutral-400 rounded-full animate-spin"})]}),f.jsx("div",{ref:C,className:"max-h-[60vh] overflow-y-auto",children:J.length===0?f.jsx("div",{className:"px-4 py-8 text-center text-neutral-500 dark:text-neutral-400",children:y?"Searching...":$.length>0&&(j==="search"||j==="searchAll")&&$.length<2?"Type at least 2 characters to search":$.length>0?"No results found":f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{children:"Type to search or use prefixes:"}),f.jsxs("div",{className:"text-sm space-y-1",children:[f.jsxs("p",{children:[f.jsx("kbd",{className:"px-1.5 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded text-xs",children:">"})," Resource types"]}),f.jsxs("p",{children:[f.jsx("kbd",{className:"px-1.5 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded text-xs",children:"@"})," Namespaces"]}),f.jsxs("p",{children:[f.jsx("kbd",{className:"px-1.5 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded text-xs",children:":"})," Search resources"]}),f.jsxs("p",{children:[f.jsx("kbd",{className:"px-1.5 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded text-xs",children:"@@"})," Search all namespaces"]})]})]})}):f.jsx("div",{className:"py-2",children:J.map((L,G)=>{const U=L.icon,M=G===d;return f.jsxs("div",{"data-index":G,onClick:()=>K(L),className:`flex items-center gap-3 px-4 py-2.5 cursor-pointer ${M?"bg-neutral-100 dark:bg-neutral-800":"hover:bg-neutral-50 dark:hover:bg-neutral-800/50"}`,children:[f.jsx(U,{size:18,className:`shrink-0 ${L.type==="namespace"?"text-blue-500":L.type==="resource"?"text-green-500":"text-neutral-400 dark:text-neutral-500"}`}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-sm text-neutral-900 dark:text-neutral-100 truncate",children:L.label}),L.sublabel&&f.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:L.sublabel})]}),f.jsxs("div",{className:"shrink-0 text-xs text-neutral-400 dark:text-neutral-500",children:[L.type==="resource-type"&&"Type",L.type==="namespace"&&"Namespace",L.type==="resource"&&"Resource"]})]},L.id)})})}),f.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t border-neutral-200 dark:border-neutral-700 text-xs text-neutral-400 dark:text-neutral-500",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{children:[f.jsx("kbd",{className:"px-1 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded",children:""})," Navigate"]}),f.jsxs("span",{children:[f.jsx("kbd",{className:"px-1 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded",children:""})," Select"]}),f.jsxs("span",{children:[f.jsx("kbd",{className:"px-1 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded",children:"esc"})," Close"]})]}),s&&j!=="searchAll"&&(j==="search"||j==="default")&&f.jsxs("span",{children:["Scope: ",s]})]})]})]}),document.body):null}function Yne(t){const e=He.c(12),{children:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=new Set,e[0]=s):s=e[0];const[r,a]=W.useState(s);let o;e[1]!==r?(o=k=>r.has(k),e[1]=r,e[2]=o):o=e[2];const c=o;let h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=k=>{a(C=>{const E=new Set(C);return E.add(k),E})},e[3]=h):h=e[3];const d=h;let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=k=>{a(C=>{const E=new Set(C);return E.delete(k),E})},e[4]=g):g=e[4];const m=g;let v;e[5]===Symbol.for("react.memo_cache_sentinel")?(v=k=>{a(C=>{const E=new Set(C);return E.has(k)?E.delete(k):E.add(k),E})},e[5]=v):v=e[5];const y=v;let x;e[6]!==c||e[7]!==r?(x={openPanels:r,isOpen:c,open:d,close:m,toggle:y},e[6]=c,e[7]=r,e[8]=x):x=e[8];const w=x;let S;return e[9]!==n||e[10]!==w?(S=f.jsx(dT.Provider,{value:w,children:n}),e[9]=n,e[10]=w,e[11]=S):S=e[11],S}function Zj(t){return t.group?`${t.name}.${t.group}`:t.name}function Xne(t){const e=He.c(30),{children:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=Vd(),e[0]=s):s=e[0];const r=s;let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>r.defaultContext||r.contexts[0]?.name||"",e[1]=a):a=e[1];const[o,c]=W.useState(a);let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=()=>r.defaultNamespace,e[2]=h):h=e[2];const[d,g]=W.useState(h),[m,v]=W.useState(null),y=W.useRef(void 0),x=W.useRef(null);let w,S;e[3]!==o?(w=()=>o?bP(o):Promise.resolve({items:[]}),S=[o],e[3]=o,e[4]=w,e[5]=S):(w=e[4],S=e[5]);const{data:k}=fT(w,S);let C;e[6]!==k?.items?(C=k?.items||[],e[6]=k?.items,e[7]=C):C=e[7];const E=C;let B,D;e[8]!==E?(B=()=>{if(y.current&&E.length>0){const q=y.current;E.some(G=>G.metadata?.name===q)&&g(q),y.current=void 0}},D=[E],e[8]=E,e[9]=B,e[10]=D):(B=e[9],D=e[10]),W.useEffect(B,D),o&&yP(o);let j;e[11]!==o||e[12]!==d||e[13]!==m?(j=q=>{pP(o),Oq(o),y.current=d,x.current=m?Zj(m):null,c(q),g(void 0),v(null)},e[11]=o,e[12]=d,e[13]=m,e[14]=j):j=e[14];const $=j;let H,Y;e[15]!==o?(H=()=>{if(x.current&&o){const q=x.current;x.current=null,bo(o,q.split(".")[0]).then(L=>{L&&Zj(L)===q&&v(L)}).catch(Jne)}},Y=[o],e[15]=o,e[16]=H,e[17]=Y):(H=e[16],Y=e[17]),W.useEffect(H,Y);let z;e[18]!==o?(z={getResource:(q,L,G)=>w_(o,q,L,G),getResourceList:(q,L)=>_g(o,q,L),getResourceTable:(q,L)=>pS(o,q,L),getResourceEvents:(q,L)=>S_(o,q,L),updateResource:(q,L,G,U)=>uT(o,q,L,G,U)},e[18]=o,e[19]=z):z=e[19];const J=z;let F;e[20]!==J||e[21]!==$||e[22]!==E||e[23]!==o||e[24]!==d||e[25]!==m?(F={context:o,contexts:r.contexts,namespace:d,namespaces:E,selectedResource:m,setContext:$,setNamespace:g,setSelectedResource:v,api:J},e[20]=J,e[21]=$,e[22]=E,e[23]=o,e[24]=d,e[25]=m,e[26]=F):F=e[26];const K=F;let Q;return e[27]!==n||e[28]!==K?(Q=f.jsx(hT.Provider,{value:K,children:n}),e[27]=n,e[28]=K,e[29]=Q):Q=e[29],Q}function Jne(){}function Qne(){const t=He.c(20),{namespace:e,selectedResource:n,setSelectedResource:s}=hr(),[r,a]=W.useState(!1);let o;t[0]!==s?(o=k=>{s(k)},t[0]=s,t[1]=o):o=t[1];const c=o;let h,d;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{const k=C=>{(C.metaKey||C.ctrlKey)&&C.key==="p"&&(C.preventDefault(),a(Zne))};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},d=[],t[2]=h,t[3]=d):(h=t[2],d=t[3]),W.useEffect(h,d);const g=n===null,m=g?"overview":`${n.group||""}/${n.name}`;let v;t[4]!==c||t[5]!==g||t[6]!==n?(v=f.jsx("div",{className:"py-2 pl-2 shrink-0 h-full",children:f.jsx(NP,{selectedResource:n,onSelectResource:c,isOverviewSelected:g})}),t[4]=c,t[5]=g,t[6]=n,t[7]=v):v=t[7];let y;t[8]!==g||t[9]!==e||t[10]!==m||t[11]!==n?(y=g?f.jsxs("main",{className:"flex-1 flex flex-col h-full min-w-0",children:[f.jsx("header",{className:"shrink-0 h-14 flex items-center justify-between px-5 mt-2",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("h2",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:"Overview"}),e&&f.jsx("span",{className:"px-2.5 py-0.5 rounded-md text-xs bg-neutral-200/80 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400",children:e})]})}),f.jsx("section",{className:"flex-1 overflow-hidden min-h-0",children:e?f.jsx(Dne,{}):f.jsx(Kne,{})})]}):f.jsx(Tne,{resource:n},m),t[8]=g,t[9]=e,t[10]=m,t[11]=n,t[12]=y):y=t[12];let x;t[13]===Symbol.for("react.memo_cache_sentinel")?(x=()=>a(!1),t[13]=x):x=t[13];let w;t[14]!==r?(w=f.jsx(Gne,{isOpen:r,onClose:x}),t[14]=r,t[15]=w):w=t[15];let S;return t[16]!==v||t[17]!==y||t[18]!==w?(S=f.jsxs("div",{className:"flex h-screen overflow-hidden bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[v,y,w]}),t[16]=v,t[17]=y,t[18]=w,t[19]=S):S=t[19],S}function Zne(t){return!t}function ese(){const t=He.c(3),{context:e}=hr();if(!e){let s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=f.jsx("div",{className:"flex h-screen items-center justify-center bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:f.jsx("p",{className:"text-neutral-500",children:"No Kubernetes contexts available"})}),t[0]=s):s=t[0],s}let n;return t[1]!==e?(n=f.jsx(Qne,{},e),t[1]=e,t[2]=n):n=t[2],n}function tse(){const t=He.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=f.jsx(Xne,{children:f.jsx(Yne,{children:f.jsx(ese,{})})}),t[0]=e):e=t[0],e}xP().then(()=>{tI.createRoot(document.getElementById("root")).render(f.jsx(W.StrictMode,{children:f.jsx(tse,{})}))});
