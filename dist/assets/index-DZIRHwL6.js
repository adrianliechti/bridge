(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var y3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ax={exports:{}},Sd={};var v3;function k9(){if(v3)return Sd;v3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,r,i){var a=null;if(i!==void 0&&(a=""+i),r.key!==void 0&&(a=""+r.key),"key"in r){i={};for(var c in r)c!=="key"&&(i[c]=r[c])}else i=r;return r=i.ref,{$$typeof:t,type:s,key:a,ref:r!==void 0?r:null,props:i}}return Sd.Fragment=e,Sd.jsx=n,Sd.jsxs=n,Sd}var b3;function C9(){return b3||(b3=1,ax.exports=k9()),ax.exports}var f=C9(),ox={exports:{}},ft={};var _3;function N9(){if(_3)return ft;_3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function k(M,H,T){this.props=M,this.context=H,this.refs=S,this.updater=T||b}k.prototype.isReactComponent={},k.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=k.prototype;function N(M,H,T){this.props=M,this.context=H,this.refs=S,this.updater=T||b}var R=N.prototype=new C;R.constructor=N,x(R,k.prototype),R.isPureReactComponent=!0;var O=Array.isArray;function E(){}var D={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function q(M,H,T){var J=T.ref;return{$$typeof:t,type:M,key:H,ref:J!==void 0?J:null,props:T}}function P(M,H){return q(M.type,H,M.props)}function W(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function z(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(T){return H[T]})}var K=/\/+/g;function X(M,H){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):H.toString(36)}function G(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(E,E):(M.status="pending",M.then(function(H){M.status==="pending"&&(M.status="fulfilled",M.value=H)},function(H){M.status==="pending"&&(M.status="rejected",M.reason=H)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function I(M,H,T,J,ne){var Z=typeof M;(Z==="undefined"||Z==="boolean")&&(M=null);var oe=!1;if(M===null)oe=!0;else switch(Z){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(M.$$typeof){case t:case e:oe=!0;break;case m:return oe=M._init,I(oe(M._payload),H,T,J,ne)}}if(oe)return ne=ne(M),oe=J===""?"."+X(M,0):J,O(ne)?(T="",oe!=null&&(T=oe.replace(K,"$&/")+"/"),I(ne,H,T,"",function(Ge){return Ge})):ne!=null&&(W(ne)&&(ne=P(ne,T+(ne.key==null||M&&M.key===ne.key?"":(""+ne.key).replace(K,"$&/")+"/")+oe)),H.push(ne)),1;oe=0;var ke=J===""?".":J+":";if(O(M))for(var Se=0;Se<M.length;Se++)J=M[Se],Z=ke+X(J,Se),oe+=I(J,H,T,Z,ne);else if(Se=v(M),typeof Se=="function")for(M=Se.call(M),Se=0;!(J=M.next()).done;)J=J.value,Z=ke+X(J,Se++),oe+=I(J,H,T,Z,ne);else if(Z==="object"){if(typeof M.then=="function")return I(G(M),H,T,J,ne);throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return oe}function Y(M,H,T){if(M==null)return M;var J=[],ne=0;return I(M,J,"","",function(Z){return H.call(T,Z,ne++)}),J}function Q(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(T){(M._status===0||M._status===-1)&&(M._status=1,M._result=T)},function(T){(M._status===0||M._status===-1)&&(M._status=2,M._result=T)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var $=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},A={map:Y,forEach:function(M,H,T){Y(M,function(){H.apply(this,arguments)},T)},count:function(M){var H=0;return Y(M,function(){H++}),H},toArray:function(M){return Y(M,function(H){return H})||[]},only:function(M){if(!W(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ft.Activity=p,ft.Children=A,ft.Component=k,ft.Fragment=n,ft.Profiler=r,ft.PureComponent=N,ft.StrictMode=s,ft.Suspense=u,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ft.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},ft.cache=function(M){return function(){return M.apply(null,arguments)}},ft.cacheSignal=function(){return null},ft.cloneElement=function(M,H,T){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var J=x({},M.props),ne=M.key;if(H!=null)for(Z in H.key!==void 0&&(ne=""+H.key),H)!B.call(H,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&H.ref===void 0||(J[Z]=H[Z]);var Z=arguments.length-2;if(Z===1)J.children=T;else if(1<Z){for(var oe=Array(Z),ke=0;ke<Z;ke++)oe[ke]=arguments[ke+2];J.children=oe}return q(M.type,ne,J)},ft.createContext=function(M){return M={$$typeof:a,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:i,_context:M},M},ft.createElement=function(M,H,T){var J,ne={},Z=null;if(H!=null)for(J in H.key!==void 0&&(Z=""+H.key),H)B.call(H,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ne[J]=H[J]);var oe=arguments.length-2;if(oe===1)ne.children=T;else if(1<oe){for(var ke=Array(oe),Se=0;Se<oe;Se++)ke[Se]=arguments[Se+2];ne.children=ke}if(M&&M.defaultProps)for(J in oe=M.defaultProps,oe)ne[J]===void 0&&(ne[J]=oe[J]);return q(M,Z,ne)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(M){return{$$typeof:c,render:M}},ft.isValidElement=W,ft.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:Q}},ft.memo=function(M,H){return{$$typeof:h,type:M,compare:H===void 0?null:H}},ft.startTransition=function(M){var H=D.T,T={};D.T=T;try{var J=M(),ne=D.S;ne!==null&&ne(T,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(E,$)}catch(Z){$(Z)}finally{H!==null&&T.types!==null&&(H.types=T.types),D.T=H}},ft.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ft.use=function(M){return D.H.use(M)},ft.useActionState=function(M,H,T){return D.H.useActionState(M,H,T)},ft.useCallback=function(M,H){return D.H.useCallback(M,H)},ft.useContext=function(M){return D.H.useContext(M)},ft.useDebugValue=function(){},ft.useDeferredValue=function(M,H){return D.H.useDeferredValue(M,H)},ft.useEffect=function(M,H){return D.H.useEffect(M,H)},ft.useEffectEvent=function(M){return D.H.useEffectEvent(M)},ft.useId=function(){return D.H.useId()},ft.useImperativeHandle=function(M,H,T){return D.H.useImperativeHandle(M,H,T)},ft.useInsertionEffect=function(M,H){return D.H.useInsertionEffect(M,H)},ft.useLayoutEffect=function(M,H){return D.H.useLayoutEffect(M,H)},ft.useMemo=function(M,H){return D.H.useMemo(M,H)},ft.useOptimistic=function(M,H){return D.H.useOptimistic(M,H)},ft.useReducer=function(M,H,T){return D.H.useReducer(M,H,T)},ft.useRef=function(M){return D.H.useRef(M)},ft.useState=function(M){return D.H.useState(M)},ft.useSyncExternalStore=function(M,H,T){return D.H.useSyncExternalStore(M,H,T)},ft.useTransition=function(){return D.H.useTransition()},ft.version="19.2.3",ft}var x3;function ah(){return x3||(x3=1,ox.exports=N9()),ox.exports}var V=ah();const ks=uv(V);var lx={exports:{}},kd={},cx={exports:{}},ux={};var w3;function E9(){return w3||(w3=1,(function(t){function e(I,Y){var Q=I.length;I.push(Y);e:for(;0<Q;){var $=Q-1>>>1,A=I[$];if(0<r(A,Y))I[$]=Y,I[Q]=A,Q=$;else break e}}function n(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var Y=I[0],Q=I.pop();if(Q!==Y){I[0]=Q;e:for(var $=0,A=I.length,M=A>>>1;$<M;){var H=2*($+1)-1,T=I[H],J=H+1,ne=I[J];if(0>r(T,Q))J<A&&0>r(ne,T)?(I[$]=ne,I[J]=Q,$=J):(I[$]=T,I[H]=Q,$=H);else if(J<A&&0>r(ne,Q))I[$]=ne,I[J]=Q,$=J;else break e}}return Y}function r(I,Y){var Q=I.sortIndex-Y.sortIndex;return Q!==0?Q:I.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],h=[],m=1,p=null,y=3,v=!1,b=!1,x=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(I){for(var Y=n(h);Y!==null;){if(Y.callback===null)s(h);else if(Y.startTime<=I)s(h),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(h)}}function O(I){if(x=!1,R(I),!b)if(n(u)!==null)b=!0,E||(E=!0,z());else{var Y=n(h);Y!==null&&G(O,Y.startTime-I)}}var E=!1,D=-1,B=5,q=-1;function P(){return S?!0:!(t.unstable_now()-q<B)}function W(){if(S=!1,E){var I=t.unstable_now();q=I;var Y=!0;try{e:{b=!1,x&&(x=!1,C(D),D=-1),v=!0;var Q=y;try{t:{for(R(I),p=n(u);p!==null&&!(p.expirationTime>I&&P());){var $=p.callback;if(typeof $=="function"){p.callback=null,y=p.priorityLevel;var A=$(p.expirationTime<=I);if(I=t.unstable_now(),typeof A=="function"){p.callback=A,R(I),Y=!0;break t}p===n(u)&&s(u),R(I)}else s(u);p=n(u)}if(p!==null)Y=!0;else{var M=n(h);M!==null&&G(O,M.startTime-I),Y=!1}}break e}finally{p=null,y=Q,v=!1}Y=void 0}}finally{Y?z():E=!1}}}var z;if(typeof N=="function")z=function(){N(W)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,X=K.port2;K.port1.onmessage=W,z=function(){X.postMessage(null)}}else z=function(){k(W,0)};function G(I,Y){D=k(function(){I(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(I){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var Q=y;y=Y;try{return I()}finally{y=Q}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(I,Y){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Q=y;y=I;try{return Y()}finally{y=Q}},t.unstable_scheduleCallback=function(I,Y,Q){var $=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?$+Q:$):Q=$,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=Q+A,I={id:m++,callback:Y,priorityLevel:I,startTime:Q,expirationTime:A,sortIndex:-1},Q>$?(I.sortIndex=Q,e(h,I),n(u)===null&&I===n(h)&&(x?(C(D),D=-1):x=!0,G(O,Q-$))):(I.sortIndex=A,e(u,I),b||v||(b=!0,E||(E=!0,z()))),I},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(I){var Y=y;return function(){var Q=y;y=Y;try{return I.apply(this,arguments)}finally{y=Q}}}})(ux)),ux}var S3;function A9(){return S3||(S3=1,cx.exports=E9()),cx.exports}var hx={exports:{}},bs={};var k3;function j9(){if(k3)return bs;k3=1;var t=ah();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function i(u,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:h,implementation:m}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return bs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bs.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(u,h,null,m)},bs.flushSync=function(u){var h=a.T,m=s.p;try{if(a.T=null,s.p=2,u)return u()}finally{a.T=h,s.p=m,s.d.f()}},bs.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(u,h))},bs.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},bs.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var m=h.as,p=c(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?s.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:v}):m==="script"&&s.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},bs.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);s.d.M(u,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(u)},bs.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=c(m,h.crossOrigin);s.d.L(u,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},bs.preloadModule=function(u,h){if(typeof u=="string")if(h){var m=c(h.as,h.crossOrigin);s.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(u)},bs.requestFormReset=function(u){s.d.r(u)},bs.unstable_batchedUpdates=function(u,h){return u(h)},bs.useFormState=function(u,h,m){return a.H.useFormState(u,h,m)},bs.useFormStatus=function(){return a.H.useHostTransitionStatus()},bs.version="19.2.3",bs}var C3;function h6(){if(C3)return hx.exports;C3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hx.exports=j9(),hx.exports}var N3;function T9(){if(N3)return kd;N3=1;var t=A9(),e=ah(),n=h6();function s(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(s(188))}function h(o){var l=o.alternate;if(!l){if(l=i(o),l===null)throw Error(s(188));return l!==o?null:o}for(var d=o,g=l;;){var _=d.return;if(_===null)break;var w=_.alternate;if(w===null){if(g=_.return,g!==null){d=g;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===d)return u(_),o;if(w===g)return u(_),l;w=w.sibling}throw Error(s(188))}if(d.return!==g.return)d=_,g=w;else{for(var j=!1,U=_.child;U;){if(U===d){j=!0,d=_,g=w;break}if(U===g){j=!0,g=_,d=w;break}U=U.sibling}if(!j){for(U=w.child;U;){if(U===d){j=!0,d=w,g=_;break}if(U===g){j=!0,g=w,d=_;break}U=U.sibling}if(!j)throw Error(s(189))}}if(d.alternate!==g)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?o:l}function m(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=m(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function z(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var K=Symbol.for("react.client.reference");function X(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===K?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case E:return"SuspenseList";case q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case N:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case R:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return l=o.displayName||null,l!==null?l:X(o.type)||"Memo";case B:l=o._payload,o=o._init;try{return X(o(l))}catch{}}return null}var G=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},$=[],A=-1;function M(o){return{current:o}}function H(o){0>A||(o.current=$[A],$[A]=null,A--)}function T(o,l){A++,$[A]=o.current,o.current=l}var J=M(null),ne=M(null),Z=M(null),oe=M(null);function ke(o,l){switch(T(Z,l),T(ne,o),T(J,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?z5(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=z5(l),o=U5(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}H(J),T(J,o)}function Se(){H(J),H(ne),H(Z)}function Ge(o){o.memoizedState!==null&&T(oe,o);var l=J.current,d=U5(l,o.type);l!==d&&(T(ne,o),T(J,d))}function $e(o){ne.current===o&&(H(J),H(ne)),oe.current===o&&(H(oe),bd._currentValue=Q)}var it,qe;function Qe(o){if(it===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);it=l&&l[1]||"",qe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+o+qe}var Ot=!1;function jt(o,l){if(!o||Ot)return"";Ot=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(pe){var he=pe}Reflect.construct(o,[],ve)}else{try{ve.call()}catch(pe){he=pe}o.call(ve.prototype)}}else{try{throw Error()}catch(pe){he=pe}(ve=o())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(pe){if(pe&&he&&typeof pe.stack=="string")return[pe.stack,he.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),j=w[0],U=w[1];if(j&&U){var ee=j.split(`
`),ce=U.split(`
`);for(_=g=0;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;for(;_<ce.length&&!ce[_].includes("DetermineComponentFrameRoot");)_++;if(g===ee.length||_===ce.length)for(g=ee.length-1,_=ce.length-1;1<=g&&0<=_&&ee[g]!==ce[_];)_--;for(;1<=g&&0<=_;g--,_--)if(ee[g]!==ce[_]){if(g!==1||_!==1)do if(g--,_--,0>_||ee[g]!==ce[_]){var ge=`
`+ee[g].replace(" at new "," at ");return o.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",o.displayName)),ge}while(1<=g&&0<=_);break}}}finally{Ot=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Qe(d):""}function an(o,l){switch(o.tag){case 26:case 27:case 5:return Qe(o.type);case 16:return Qe("Lazy");case 13:return o.child!==l&&l!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return jt(o.type,!1);case 11:return jt(o.type.render,!1);case 1:return jt(o.type,!0);case 31:return Qe("Activity");default:return""}}function on(o){try{var l="",d=null;do l+=an(o,d),d=o,o=o.return;while(o);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var qt=Object.prototype.hasOwnProperty,Zt=t.unstable_scheduleCallback,Ye=t.unstable_cancelCallback,tt=t.unstable_shouldYield,je=t.unstable_requestPaint,Le=t.unstable_now,Ct=t.unstable_getCurrentPriorityLevel,fe=t.unstable_ImmediatePriority,xe=t.unstable_UserBlockingPriority,Ze=t.unstable_NormalPriority,rt=t.unstable_LowPriority,pt=t.unstable_IdlePriority,ln=t.log,re=t.unstable_setDisableYieldValue,ae=null,de=null;function Ce(o){if(typeof ln=="function"&&re(o),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(ae,o)}catch{}}var me=Math.clz32?Math.clz32:ct,Ue=Math.log,lt=Math.LN2;function ct(o){return o>>>=0,o===0?32:31-(Ue(o)/lt|0)|0}var Oe=256,Ie=262144,He=4194304;function Fe(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function bt(o,l,d){var g=o.pendingLanes;if(g===0)return 0;var _=0,w=o.suspendedLanes,j=o.pingedLanes;o=o.warmLanes;var U=g&134217727;return U!==0?(g=U&~w,g!==0?_=Fe(g):(j&=U,j!==0?_=Fe(j):d||(d=U&~o,d!==0&&(_=Fe(d))))):(U=g&~w,U!==0?_=Fe(U):j!==0?_=Fe(j):d||(d=g&~o,d!==0&&(_=Fe(d)))),_===0?0:l!==0&&l!==_&&(l&w)===0&&(w=_&-_,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:_}function $t(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function fn(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(){var o=He;return He<<=1,(He&62914560)===0&&(He=4194304),o}function yc(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Wo(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Gb(o,l,d,g,_,w){var j=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var U=o.entanglements,ee=o.expirationTimes,ce=o.hiddenUpdates;for(d=j&~d;0<d;){var ge=31-me(d),ve=1<<ge;U[ge]=0,ee[ge]=-1;var he=ce[ge];if(he!==null)for(ce[ge]=null,ge=0;ge<he.length;ge++){var pe=he[ge];pe!==null&&(pe.lane&=-536870913)}d&=~ve}g!==0&&w4(o,g,0),w!==0&&_===0&&o.tag!==0&&(o.suspendedLanes|=w&~(j&~l))}function w4(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var g=31-me(l);o.entangledLanes|=l,o.entanglements[g]=o.entanglements[g]|1073741824|d&261930}function S4(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var g=31-me(d),_=1<<g;_&l|o[g]&l&&(o[g]|=l),d&=~_}}function k4(o,l){var d=l&-l;return d=(d&42)!==0?1:Yb(d),(d&(o.suspendedLanes|l))!==0?0:d}function Yb(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Zb(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function C4(){var o=Y.p;return o!==0?o:(o=window.event,o===void 0?32:u3(o.type))}function N4(o,l){var d=Y.p;try{return Y.p=o,l()}finally{Y.p=d}}var Ua=Math.random().toString(36).slice(2),ss="__reactFiber$"+Ua,Hs="__reactProps$"+Ua,vc="__reactContainer$"+Ua,Xb="__reactEvents$"+Ua,fz="__reactListeners$"+Ua,pz="__reactHandles$"+Ua,E4="__reactResources$"+Ua,Dh="__reactMarker$"+Ua;function Jb(o){delete o[ss],delete o[Hs],delete o[Xb],delete o[fz],delete o[pz]}function bc(o){var l=o[ss];if(l)return l;for(var d=o.parentNode;d;){if(l=d[vc]||d[ss]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=G5(o);o!==null;){if(d=o[ss])return d;o=G5(o)}return l}o=d,d=o.parentNode}return null}function _c(o){if(o=o[ss]||o[vc]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Bh(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(s(33))}function xc(o){var l=o[E4];return l||(l=o[E4]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Yn(o){o[Dh]=!0}var A4=new Set,j4={};function Go(o,l){wc(o,l),wc(o+"Capture",l)}function wc(o,l){for(j4[o]=l,o=0;o<l.length;o++)A4.add(l[o])}var mz=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),T4={},R4={};function gz(o){return qt.call(R4,o)?!0:qt.call(T4,o)?!1:mz.test(o)?R4[o]=!0:(T4[o]=!0,!1)}function pm(o,l,d){if(gz(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function mm(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function Zi(o,l,d,g){if(g===null)o.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+g)}}function Rr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function O4(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function yz(o,l,d){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var _=g.get,w=g.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(j){d=""+j,w.call(this,j)}}),Object.defineProperty(o,l,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(j){d=""+j},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Qb(o){if(!o._valueTracker){var l=O4(o)?"checked":"value";o._valueTracker=yz(o,l,""+o[l])}}function M4(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return o&&(g=O4(o)?o.checked?"true":"false":o.value),o=g,o!==d?(l.setValue(o),!0):!1}function gm(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var vz=/[\n"\\]/g;function Or(o){return o.replace(vz,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function e1(o,l,d,g,_,w,j,U){o.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?o.type=j:o.removeAttribute("type"),l!=null?j==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Rr(l)):o.value!==""+Rr(l)&&(o.value=""+Rr(l)):j!=="submit"&&j!=="reset"||o.removeAttribute("value"),l!=null?t1(o,j,Rr(l)):d!=null?t1(o,j,Rr(d)):g!=null&&o.removeAttribute("value"),_==null&&w!=null&&(o.defaultChecked=!!w),_!=null&&(o.checked=_&&typeof _!="function"&&typeof _!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?o.name=""+Rr(U):o.removeAttribute("name")}function D4(o,l,d,g,_,w,j,U){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null)){Qb(o);return}d=d!=null?""+Rr(d):"",l=l!=null?""+Rr(l):d,U||l===o.value||(o.value=l),o.defaultValue=l}g=g??_,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=U?o.checked:!!g,o.defaultChecked=!!g,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(o.name=j),Qb(o)}function t1(o,l,d){l==="number"&&gm(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Sc(o,l,d,g){if(o=o.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<o.length;d++)_=l.hasOwnProperty("$"+o[d].value),o[d].selected!==_&&(o[d].selected=_),_&&g&&(o[d].defaultSelected=!0)}else{for(d=""+Rr(d),l=null,_=0;_<o.length;_++){if(o[_].value===d){o[_].selected=!0,g&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function B4(o,l,d){if(l!=null&&(l=""+Rr(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+Rr(d):""}function L4(o,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(s(92));if(G(g)){if(1<g.length)throw Error(s(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=Rr(l),o.defaultValue=d,g=o.textContent,g===d&&g!==""&&g!==null&&(o.value=g),Qb(o)}function kc(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var bz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function I4(o,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":g?o.setProperty(l,d):typeof d!="number"||d===0||bz.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function P4(o,l,d){if(l!=null&&typeof l!="object")throw Error(s(62));if(o=o.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var _ in l)g=l[_],l.hasOwnProperty(_)&&d[_]!==g&&I4(o,_,g)}else for(var w in l)l.hasOwnProperty(w)&&I4(o,w,l[w])}function n1(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _z=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ym(o){return xz.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Xi(){}var s1=null;function r1(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Cc=null,Nc=null;function $4(o){var l=_c(o);if(l&&(o=l.stateNode)){var d=o[Hs]||null;e:switch(o=l.stateNode,l.type){case"input":if(e1(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Or(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==o&&g.form===o.form){var _=g[Hs]||null;if(!_)throw Error(s(90));e1(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===o.form&&M4(g)}break e;case"textarea":B4(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Sc(o,!!d.multiple,l,!1)}}}var i1=!1;function z4(o,l,d){if(i1)return o(l,d);i1=!0;try{var g=o(l);return g}finally{if(i1=!1,(Cc!==null||Nc!==null)&&(rg(),Cc&&(l=Cc,o=Nc,Nc=Cc=null,$4(l),o)))for(l=0;l<o.length;l++)$4(o[l])}}function Lh(o,l){var d=o.stateNode;if(d===null)return null;var g=d[Hs]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(s(231,l,typeof d));return d}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a1=!1;if(Ji)try{var Ih={};Object.defineProperty(Ih,"passive",{get:function(){a1=!0}}),window.addEventListener("test",Ih,Ih),window.removeEventListener("test",Ih,Ih)}catch{a1=!1}var Ha=null,o1=null,vm=null;function U4(){if(vm)return vm;var o,l=o1,d=l.length,g,_="value"in Ha?Ha.value:Ha.textContent,w=_.length;for(o=0;o<d&&l[o]===_[o];o++);var j=d-o;for(g=1;g<=j&&l[d-g]===_[w-g];g++);return vm=_.slice(o,1<g?1-g:void 0)}function bm(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function _m(){return!0}function H4(){return!1}function Fs(o){function l(d,g,_,w,j){this._reactName=d,this._targetInst=_,this.type=g,this.nativeEvent=w,this.target=j,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(d=o[U],this[U]=d?d(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?_m:H4,this.isPropagationStopped=H4,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=_m)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=_m)},persist:function(){},isPersistent:_m}),l}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xm=Fs(Yo),Ph=p({},Yo,{view:0,detail:0}),wz=Fs(Ph),l1,c1,$h,wm=p({},Ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h1,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==$h&&($h&&o.type==="mousemove"?(l1=o.screenX-$h.screenX,c1=o.screenY-$h.screenY):c1=l1=0,$h=o),l1)},movementY:function(o){return"movementY"in o?o.movementY:c1}}),F4=Fs(wm),Sz=p({},wm,{dataTransfer:0}),kz=Fs(Sz),Cz=p({},Ph,{relatedTarget:0}),u1=Fs(Cz),Nz=p({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ez=Fs(Nz),Az=p({},Yo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),jz=Fs(Az),Tz=p({},Yo,{data:0}),V4=Fs(Tz),Rz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dz(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Mz[o])?!!l[o]:!1}function h1(){return Dz}var Bz=p({},Ph,{key:function(o){if(o.key){var l=Rz[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=bm(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Oz[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h1,charCode:function(o){return o.type==="keypress"?bm(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?bm(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Lz=Fs(Bz),Iz=p({},wm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q4=Fs(Iz),Pz=p({},Ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h1}),$z=Fs(Pz),zz=p({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uz=Fs(zz),Hz=p({},wm,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Fz=Fs(Hz),Vz=p({},Yo,{newState:0,oldState:0}),qz=Fs(Vz),Kz=[9,13,27,32],d1=Ji&&"CompositionEvent"in window,zh=null;Ji&&"documentMode"in document&&(zh=document.documentMode);var Wz=Ji&&"TextEvent"in window&&!zh,K4=Ji&&(!d1||zh&&8<zh&&11>=zh),W4=" ",G4=!1;function Y4(o,l){switch(o){case"keyup":return Kz.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z4(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ec=!1;function Gz(o,l){switch(o){case"compositionend":return Z4(l);case"keypress":return l.which!==32?null:(G4=!0,W4);case"textInput":return o=l.data,o===W4&&G4?null:o;default:return null}}function Yz(o,l){if(Ec)return o==="compositionend"||!d1&&Y4(o,l)?(o=U4(),vm=o1=Ha=null,Ec=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return K4&&l.locale!=="ko"?null:l.data;default:return null}}var Zz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X4(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Zz[o.type]:l==="textarea"}function J4(o,l,d,g){Cc?Nc?Nc.push(g):Nc=[g]:Cc=g,l=hg(l,"onChange"),0<l.length&&(d=new xm("onChange","change",null,d,g),o.push({event:d,listeners:l}))}var Uh=null,Hh=null;function Xz(o){D5(o,0)}function Sm(o){var l=Bh(o);if(M4(l))return o}function Q4(o,l){if(o==="change")return l}var eE=!1;if(Ji){var f1;if(Ji){var p1="oninput"in document;if(!p1){var tE=document.createElement("div");tE.setAttribute("oninput","return;"),p1=typeof tE.oninput=="function"}f1=p1}else f1=!1;eE=f1&&(!document.documentMode||9<document.documentMode)}function nE(){Uh&&(Uh.detachEvent("onpropertychange",sE),Hh=Uh=null)}function sE(o){if(o.propertyName==="value"&&Sm(Hh)){var l=[];J4(l,Hh,o,r1(o)),z4(Xz,l)}}function Jz(o,l,d){o==="focusin"?(nE(),Uh=l,Hh=d,Uh.attachEvent("onpropertychange",sE)):o==="focusout"&&nE()}function Qz(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Sm(Hh)}function e7(o,l){if(o==="click")return Sm(l)}function t7(o,l){if(o==="input"||o==="change")return Sm(l)}function n7(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var ar=typeof Object.is=="function"?Object.is:n7;function Fh(o,l){if(ar(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var _=d[g];if(!qt.call(l,_)||!ar(o[_],l[_]))return!1}return!0}function rE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function iE(o,l){var d=rE(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=l&&g>=l)return{node:d,offset:l-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=rE(d)}}function aE(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?aE(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function oE(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=gm(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=gm(o.document)}return l}function m1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var s7=Ji&&"documentMode"in document&&11>=document.documentMode,Ac=null,g1=null,Vh=null,y1=!1;function lE(o,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;y1||Ac==null||Ac!==gm(g)||(g=Ac,"selectionStart"in g&&m1(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Vh&&Fh(Vh,g)||(Vh=g,g=hg(g1,"onSelect"),0<g.length&&(l=new xm("onSelect","select",null,l,d),o.push({event:l,listeners:g}),l.target=Ac)))}function Zo(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var jc={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionrun:Zo("Transition","TransitionRun"),transitionstart:Zo("Transition","TransitionStart"),transitioncancel:Zo("Transition","TransitionCancel"),transitionend:Zo("Transition","TransitionEnd")},v1={},cE={};Ji&&(cE=document.createElement("div").style,"AnimationEvent"in window||(delete jc.animationend.animation,delete jc.animationiteration.animation,delete jc.animationstart.animation),"TransitionEvent"in window||delete jc.transitionend.transition);function Xo(o){if(v1[o])return v1[o];if(!jc[o])return o;var l=jc[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in cE)return v1[o]=l[d];return o}var uE=Xo("animationend"),hE=Xo("animationiteration"),dE=Xo("animationstart"),r7=Xo("transitionrun"),i7=Xo("transitionstart"),a7=Xo("transitioncancel"),fE=Xo("transitionend"),pE=new Map,b1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");b1.push("scrollEnd");function ii(o,l){pE.set(o,l),Go(l,[o])}var km=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Mr=[],Tc=0,_1=0;function Cm(){for(var o=Tc,l=_1=Tc=0;l<o;){var d=Mr[l];Mr[l++]=null;var g=Mr[l];Mr[l++]=null;var _=Mr[l];Mr[l++]=null;var w=Mr[l];if(Mr[l++]=null,g!==null&&_!==null){var j=g.pending;j===null?_.next=_:(_.next=j.next,j.next=_),g.pending=_}w!==0&&mE(d,_,w)}}function Nm(o,l,d,g){Mr[Tc++]=o,Mr[Tc++]=l,Mr[Tc++]=d,Mr[Tc++]=g,_1|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function x1(o,l,d,g){return Nm(o,l,d,g),Em(o)}function Jo(o,l){return Nm(o,null,null,l),Em(o)}function mE(o,l,d){o.lanes|=d;var g=o.alternate;g!==null&&(g.lanes|=d);for(var _=!1,w=o.return;w!==null;)w.childLanes|=d,g=w.alternate,g!==null&&(g.childLanes|=d),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(_=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,_&&l!==null&&(_=31-me(d),o=w.hiddenUpdates,g=o[_],g===null?o[_]=[l]:g.push(l),l.lane=d|536870912),w):null}function Em(o){if(50<dd)throw dd=0,T_=null,Error(s(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Rc={};function o7(o,l,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(o,l,d,g){return new o7(o,l,d,g)}function w1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Qi(o,l){var d=o.alternate;return d===null?(d=or(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function gE(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Am(o,l,d,g,_,w){var j=0;if(g=o,typeof o=="function")w1(o)&&(j=1);else if(typeof o=="string")j=d9(o,d,J.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case q:return o=or(31,d,l,_),o.elementType=q,o.lanes=w,o;case x:return Qo(d.children,_,w,l);case S:j=8,_|=24;break;case k:return o=or(12,d,l,_|2),o.elementType=k,o.lanes=w,o;case O:return o=or(13,d,l,_),o.elementType=O,o.lanes=w,o;case E:return o=or(19,d,l,_),o.elementType=E,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:j=10;break e;case C:j=9;break e;case R:j=11;break e;case D:j=14;break e;case B:j=16,g=null;break e}j=29,d=Error(s(130,o===null?"null":typeof o,"")),g=null}return l=or(j,d,l,_),l.elementType=o,l.type=g,l.lanes=w,l}function Qo(o,l,d,g){return o=or(7,o,g,l),o.lanes=d,o}function S1(o,l,d){return o=or(6,o,null,l),o.lanes=d,o}function yE(o){var l=or(18,null,null,0);return l.stateNode=o,l}function k1(o,l,d){return l=or(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var vE=new WeakMap;function Dr(o,l){if(typeof o=="object"&&o!==null){var d=vE.get(o);return d!==void 0?d:(l={value:o,source:l,stack:on(l)},vE.set(o,l),l)}return{value:o,source:l,stack:on(l)}}var Oc=[],Mc=0,jm=null,qh=0,Br=[],Lr=0,Fa=null,xi=1,wi="";function ea(o,l){Oc[Mc++]=qh,Oc[Mc++]=jm,jm=o,qh=l}function bE(o,l,d){Br[Lr++]=xi,Br[Lr++]=wi,Br[Lr++]=Fa,Fa=o;var g=xi;o=wi;var _=32-me(g)-1;g&=~(1<<_),d+=1;var w=32-me(l)+_;if(30<w){var j=_-_%5;w=(g&(1<<j)-1).toString(32),g>>=j,_-=j,xi=1<<32-me(l)+_|d<<_|g,wi=w+o}else xi=1<<w|d<<_|g,wi=o}function C1(o){o.return!==null&&(ea(o,1),bE(o,1,0))}function N1(o){for(;o===jm;)jm=Oc[--Mc],Oc[Mc]=null,qh=Oc[--Mc],Oc[Mc]=null;for(;o===Fa;)Fa=Br[--Lr],Br[Lr]=null,wi=Br[--Lr],Br[Lr]=null,xi=Br[--Lr],Br[Lr]=null}function _E(o,l){Br[Lr++]=xi,Br[Lr++]=wi,Br[Lr++]=Fa,xi=l.id,wi=l.overflow,Fa=o}var rs=null,tn=null,Mt=!1,Va=null,Ir=!1,E1=Error(s(519));function qa(o){var l=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kh(Dr(l,o)),E1}function xE(o){var l=o.stateNode,d=o.type,g=o.memoizedProps;switch(l[ss]=o,l[Hs]=g,d){case"dialog":Et("cancel",l),Et("close",l);break;case"iframe":case"object":case"embed":Et("load",l);break;case"video":case"audio":for(d=0;d<pd.length;d++)Et(pd[d],l);break;case"source":Et("error",l);break;case"img":case"image":case"link":Et("error",l),Et("load",l);break;case"details":Et("toggle",l);break;case"input":Et("invalid",l),D4(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Et("invalid",l);break;case"textarea":Et("invalid",l),L4(l,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||P5(l.textContent,d)?(g.popover!=null&&(Et("beforetoggle",l),Et("toggle",l)),g.onScroll!=null&&Et("scroll",l),g.onScrollEnd!=null&&Et("scrollend",l),g.onClick!=null&&(l.onclick=Xi),l=!0):l=!1,l||qa(o,!0)}function wE(o){for(rs=o.return;rs;)switch(rs.tag){case 5:case 31:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:rs=rs.return}}function Dc(o){if(o!==rs)return!1;if(!Mt)return wE(o),Mt=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||q_(o.type,o.memoizedProps)),d=!d),d&&tn&&qa(o),wE(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));tn=W5(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));tn=W5(o)}else l===27?(l=tn,io(o.type)?(o=Z_,Z_=null,tn=o):tn=l):tn=rs?$r(o.stateNode.nextSibling):null;return!0}function el(){tn=rs=null,Mt=!1}function A1(){var o=Va;return o!==null&&(Ws===null?Ws=o:Ws.push.apply(Ws,o),Va=null),o}function Kh(o){Va===null?Va=[o]:Va.push(o)}var j1=M(null),tl=null,ta=null;function Ka(o,l,d){T(j1,l._currentValue),l._currentValue=d}function na(o){o._currentValue=j1.current,H(j1)}function T1(o,l,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===d)break;o=o.return}}function R1(o,l,d,g){var _=o.child;for(_!==null&&(_.return=o);_!==null;){var w=_.dependencies;if(w!==null){var j=_.child;w=w.firstContext;e:for(;w!==null;){var U=w;w=_;for(var ee=0;ee<l.length;ee++)if(U.context===l[ee]){w.lanes|=d,U=w.alternate,U!==null&&(U.lanes|=d),T1(w.return,d,o),g||(j=null);break e}w=U.next}}else if(_.tag===18){if(j=_.return,j===null)throw Error(s(341));j.lanes|=d,w=j.alternate,w!==null&&(w.lanes|=d),T1(j,d,o),j=null}else j=_.child;if(j!==null)j.return=_;else for(j=_;j!==null;){if(j===o){j=null;break}if(_=j.sibling,_!==null){_.return=j.return,j=_;break}j=j.return}_=j}}function Bc(o,l,d,g){o=null;for(var _=l,w=!1;_!==null;){if(!w){if((_.flags&524288)!==0)w=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var j=_.alternate;if(j===null)throw Error(s(387));if(j=j.memoizedProps,j!==null){var U=_.type;ar(_.pendingProps.value,j.value)||(o!==null?o.push(U):o=[U])}}else if(_===oe.current){if(j=_.alternate,j===null)throw Error(s(387));j.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(o!==null?o.push(bd):o=[bd])}_=_.return}o!==null&&R1(l,o,d,g),l.flags|=262144}function Tm(o){for(o=o.firstContext;o!==null;){if(!ar(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function nl(o){tl=o,ta=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function is(o){return SE(tl,o)}function Rm(o,l){return tl===null&&nl(o),SE(o,l)}function SE(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},ta===null){if(o===null)throw Error(s(308));ta=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else ta=ta.next=l;return d}var l7=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,g){o.push(g)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},c7=t.unstable_scheduleCallback,u7=t.unstable_NormalPriority,jn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function O1(){return{controller:new l7,data:new Map,refCount:0}}function Wh(o){o.refCount--,o.refCount===0&&c7(u7,function(){o.controller.abort()})}var Gh=null,M1=0,Lc=0,Ic=null;function h7(o,l){if(Gh===null){var d=Gh=[];M1=0,Lc=L_(),Ic={status:"pending",value:void 0,then:function(g){d.push(g)}}}return M1++,l.then(kE,kE),l}function kE(){if(--M1===0&&Gh!==null){Ic!==null&&(Ic.status="fulfilled");var o=Gh;Gh=null,Lc=0,Ic=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function d7(o,l){var d=[],g={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return o.then(function(){g.status="fulfilled",g.value=l;for(var _=0;_<d.length;_++)(0,d[_])(l)},function(_){for(g.status="rejected",g.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),g}var CE=I.S;I.S=function(o,l){l5=Le(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&h7(o,l),CE!==null&&CE(o,l)};var sl=M(null);function D1(){var o=sl.current;return o!==null?o:Xt.pooledCache}function Om(o,l){l===null?T(sl,sl.current):T(sl,l.pool)}function NE(){var o=D1();return o===null?null:{parent:jn._currentValue,pool:o}}var Pc=Error(s(460)),B1=Error(s(474)),Mm=Error(s(542)),Dm={then:function(){}};function EE(o){return o=o.status,o==="fulfilled"||o==="rejected"}function AE(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(Xi,Xi),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,TE(o),o;default:if(typeof l.status=="string")l.then(Xi,Xi);else{if(o=Xt,o!==null&&100<o.shellSuspendCounter)throw Error(s(482));o=l,o.status="pending",o.then(function(g){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=g}},function(g){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,TE(o),o}throw il=l,Pc}}function rl(o){try{var l=o._init;return l(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(il=d,Pc):d}}var il=null;function jE(){if(il===null)throw Error(s(459));var o=il;return il=null,o}function TE(o){if(o===Pc||o===Mm)throw Error(s(483))}var $c=null,Yh=0;function Bm(o){var l=Yh;return Yh+=1,$c===null&&($c=[]),AE($c,o,l)}function Zh(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Lm(o,l){throw l.$$typeof===y?Error(s(525)):(o=Object.prototype.toString.call(l),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function RE(o){function l(ie,te){if(o){var le=ie.deletions;le===null?(ie.deletions=[te],ie.flags|=16):le.push(te)}}function d(ie,te){if(!o)return null;for(;te!==null;)l(ie,te),te=te.sibling;return null}function g(ie){for(var te=new Map;ie!==null;)ie.key!==null?te.set(ie.key,ie):te.set(ie.index,ie),ie=ie.sibling;return te}function _(ie,te){return ie=Qi(ie,te),ie.index=0,ie.sibling=null,ie}function w(ie,te,le){return ie.index=le,o?(le=ie.alternate,le!==null?(le=le.index,le<te?(ie.flags|=67108866,te):le):(ie.flags|=67108866,te)):(ie.flags|=1048576,te)}function j(ie){return o&&ie.alternate===null&&(ie.flags|=67108866),ie}function U(ie,te,le,ye){return te===null||te.tag!==6?(te=S1(le,ie.mode,ye),te.return=ie,te):(te=_(te,le),te.return=ie,te)}function ee(ie,te,le,ye){var nt=le.type;return nt===x?ge(ie,te,le.props.children,ye,le.key):te!==null&&(te.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===B&&rl(nt)===te.type)?(te=_(te,le.props),Zh(te,le),te.return=ie,te):(te=Am(le.type,le.key,le.props,null,ie.mode,ye),Zh(te,le),te.return=ie,te)}function ce(ie,te,le,ye){return te===null||te.tag!==4||te.stateNode.containerInfo!==le.containerInfo||te.stateNode.implementation!==le.implementation?(te=k1(le,ie.mode,ye),te.return=ie,te):(te=_(te,le.children||[]),te.return=ie,te)}function ge(ie,te,le,ye,nt){return te===null||te.tag!==7?(te=Qo(le,ie.mode,ye,nt),te.return=ie,te):(te=_(te,le),te.return=ie,te)}function ve(ie,te,le){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=S1(""+te,ie.mode,le),te.return=ie,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case v:return le=Am(te.type,te.key,te.props,null,ie.mode,le),Zh(le,te),le.return=ie,le;case b:return te=k1(te,ie.mode,le),te.return=ie,te;case B:return te=rl(te),ve(ie,te,le)}if(G(te)||z(te))return te=Qo(te,ie.mode,le,null),te.return=ie,te;if(typeof te.then=="function")return ve(ie,Bm(te),le);if(te.$$typeof===N)return ve(ie,Rm(ie,te),le);Lm(ie,te)}return null}function he(ie,te,le,ye){var nt=te!==null?te.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return nt!==null?null:U(ie,te,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case v:return le.key===nt?ee(ie,te,le,ye):null;case b:return le.key===nt?ce(ie,te,le,ye):null;case B:return le=rl(le),he(ie,te,le,ye)}if(G(le)||z(le))return nt!==null?null:ge(ie,te,le,ye,null);if(typeof le.then=="function")return he(ie,te,Bm(le),ye);if(le.$$typeof===N)return he(ie,te,Rm(ie,le),ye);Lm(ie,le)}return null}function pe(ie,te,le,ye,nt){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ie=ie.get(le)||null,U(te,ie,""+ye,nt);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return ie=ie.get(ye.key===null?le:ye.key)||null,ee(te,ie,ye,nt);case b:return ie=ie.get(ye.key===null?le:ye.key)||null,ce(te,ie,ye,nt);case B:return ye=rl(ye),pe(ie,te,le,ye,nt)}if(G(ye)||z(ye))return ie=ie.get(le)||null,ge(te,ie,ye,nt,null);if(typeof ye.then=="function")return pe(ie,te,le,Bm(ye),nt);if(ye.$$typeof===N)return pe(ie,te,le,Rm(te,ye),nt);Lm(te,ye)}return null}function Ke(ie,te,le,ye){for(var nt=null,Lt=null,Je=te,_t=te=0,Rt=null;Je!==null&&_t<le.length;_t++){Je.index>_t?(Rt=Je,Je=null):Rt=Je.sibling;var It=he(ie,Je,le[_t],ye);if(It===null){Je===null&&(Je=Rt);break}o&&Je&&It.alternate===null&&l(ie,Je),te=w(It,te,_t),Lt===null?nt=It:Lt.sibling=It,Lt=It,Je=Rt}if(_t===le.length)return d(ie,Je),Mt&&ea(ie,_t),nt;if(Je===null){for(;_t<le.length;_t++)Je=ve(ie,le[_t],ye),Je!==null&&(te=w(Je,te,_t),Lt===null?nt=Je:Lt.sibling=Je,Lt=Je);return Mt&&ea(ie,_t),nt}for(Je=g(Je);_t<le.length;_t++)Rt=pe(Je,ie,_t,le[_t],ye),Rt!==null&&(o&&Rt.alternate!==null&&Je.delete(Rt.key===null?_t:Rt.key),te=w(Rt,te,_t),Lt===null?nt=Rt:Lt.sibling=Rt,Lt=Rt);return o&&Je.forEach(function(uo){return l(ie,uo)}),Mt&&ea(ie,_t),nt}function ot(ie,te,le,ye){if(le==null)throw Error(s(151));for(var nt=null,Lt=null,Je=te,_t=te=0,Rt=null,It=le.next();Je!==null&&!It.done;_t++,It=le.next()){Je.index>_t?(Rt=Je,Je=null):Rt=Je.sibling;var uo=he(ie,Je,It.value,ye);if(uo===null){Je===null&&(Je=Rt);break}o&&Je&&uo.alternate===null&&l(ie,Je),te=w(uo,te,_t),Lt===null?nt=uo:Lt.sibling=uo,Lt=uo,Je=Rt}if(It.done)return d(ie,Je),Mt&&ea(ie,_t),nt;if(Je===null){for(;!It.done;_t++,It=le.next())It=ve(ie,It.value,ye),It!==null&&(te=w(It,te,_t),Lt===null?nt=It:Lt.sibling=It,Lt=It);return Mt&&ea(ie,_t),nt}for(Je=g(Je);!It.done;_t++,It=le.next())It=pe(Je,ie,_t,It.value,ye),It!==null&&(o&&It.alternate!==null&&Je.delete(It.key===null?_t:It.key),te=w(It,te,_t),Lt===null?nt=It:Lt.sibling=It,Lt=It);return o&&Je.forEach(function(S9){return l(ie,S9)}),Mt&&ea(ie,_t),nt}function Gt(ie,te,le,ye){if(typeof le=="object"&&le!==null&&le.type===x&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case v:e:{for(var nt=le.key;te!==null;){if(te.key===nt){if(nt=le.type,nt===x){if(te.tag===7){d(ie,te.sibling),ye=_(te,le.props.children),ye.return=ie,ie=ye;break e}}else if(te.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===B&&rl(nt)===te.type){d(ie,te.sibling),ye=_(te,le.props),Zh(ye,le),ye.return=ie,ie=ye;break e}d(ie,te);break}else l(ie,te);te=te.sibling}le.type===x?(ye=Qo(le.props.children,ie.mode,ye,le.key),ye.return=ie,ie=ye):(ye=Am(le.type,le.key,le.props,null,ie.mode,ye),Zh(ye,le),ye.return=ie,ie=ye)}return j(ie);case b:e:{for(nt=le.key;te!==null;){if(te.key===nt)if(te.tag===4&&te.stateNode.containerInfo===le.containerInfo&&te.stateNode.implementation===le.implementation){d(ie,te.sibling),ye=_(te,le.children||[]),ye.return=ie,ie=ye;break e}else{d(ie,te);break}else l(ie,te);te=te.sibling}ye=k1(le,ie.mode,ye),ye.return=ie,ie=ye}return j(ie);case B:return le=rl(le),Gt(ie,te,le,ye)}if(G(le))return Ke(ie,te,le,ye);if(z(le)){if(nt=z(le),typeof nt!="function")throw Error(s(150));return le=nt.call(le),ot(ie,te,le,ye)}if(typeof le.then=="function")return Gt(ie,te,Bm(le),ye);if(le.$$typeof===N)return Gt(ie,te,Rm(ie,le),ye);Lm(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,te!==null&&te.tag===6?(d(ie,te.sibling),ye=_(te,le),ye.return=ie,ie=ye):(d(ie,te),ye=S1(le,ie.mode,ye),ye.return=ie,ie=ye),j(ie)):d(ie,te)}return function(ie,te,le,ye){try{Yh=0;var nt=Gt(ie,te,le,ye);return $c=null,nt}catch(Je){if(Je===Pc||Je===Mm)throw Je;var Lt=or(29,Je,null,ie.mode);return Lt.lanes=ye,Lt.return=ie,Lt}}}var al=RE(!0),OE=RE(!1),Wa=!1;function L1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function I1(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ga(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ya(o,l,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(zt&2)!==0){var _=g.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),g.pending=l,l=Em(o),mE(o,null,d),l}return Nm(o,g,l,d),Em(o)}function Xh(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,S4(o,d)}}function P1(o,l){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var _=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var j={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?_=w=j:w=w.next=j,d=d.next}while(d!==null);w===null?_=w=l:w=w.next=l}else _=w=l;d={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var $1=!1;function Jh(){if($1){var o=Ic;if(o!==null)throw o}}function Qh(o,l,d,g){$1=!1;var _=o.updateQueue;Wa=!1;var w=_.firstBaseUpdate,j=_.lastBaseUpdate,U=_.shared.pending;if(U!==null){_.shared.pending=null;var ee=U,ce=ee.next;ee.next=null,j===null?w=ce:j.next=ce,j=ee;var ge=o.alternate;ge!==null&&(ge=ge.updateQueue,U=ge.lastBaseUpdate,U!==j&&(U===null?ge.firstBaseUpdate=ce:U.next=ce,ge.lastBaseUpdate=ee))}if(w!==null){var ve=_.baseState;j=0,ge=ce=ee=null,U=w;do{var he=U.lane&-536870913,pe=he!==U.lane;if(pe?(Tt&he)===he:(g&he)===he){he!==0&&he===Lc&&($1=!0),ge!==null&&(ge=ge.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Ke=o,ot=U;he=l;var Gt=d;switch(ot.tag){case 1:if(Ke=ot.payload,typeof Ke=="function"){ve=Ke.call(Gt,ve,he);break e}ve=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=ot.payload,he=typeof Ke=="function"?Ke.call(Gt,ve,he):Ke,he==null)break e;ve=p({},ve,he);break e;case 2:Wa=!0}}he=U.callback,he!==null&&(o.flags|=64,pe&&(o.flags|=8192),pe=_.callbacks,pe===null?_.callbacks=[he]:pe.push(he))}else pe={lane:he,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ge===null?(ce=ge=pe,ee=ve):ge=ge.next=pe,j|=he;if(U=U.next,U===null){if(U=_.shared.pending,U===null)break;pe=U,U=pe.next,pe.next=null,_.lastBaseUpdate=pe,_.shared.pending=null}}while(!0);ge===null&&(ee=ve),_.baseState=ee,_.firstBaseUpdate=ce,_.lastBaseUpdate=ge,w===null&&(_.shared.lanes=0),eo|=j,o.lanes=j,o.memoizedState=ve}}function ME(o,l){if(typeof o!="function")throw Error(s(191,o));o.call(l)}function DE(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)ME(d[o],l)}var zc=M(null),Im=M(0);function BE(o,l){o=ha,T(Im,o),T(zc,l),ha=o|l.baseLanes}function z1(){T(Im,ha),T(zc,zc.current)}function U1(){ha=Im.current,H(zc),H(Im)}var lr=M(null),Pr=null;function Za(o){var l=o.alternate;T(wn,wn.current&1),T(lr,o),Pr===null&&(l===null||zc.current!==null||l.memoizedState!==null)&&(Pr=o)}function H1(o){T(wn,wn.current),T(lr,o),Pr===null&&(Pr=o)}function LE(o){o.tag===22?(T(wn,wn.current),T(lr,o),Pr===null&&(Pr=o)):Xa()}function Xa(){T(wn,wn.current),T(lr,lr.current)}function cr(o){H(lr),Pr===o&&(Pr=null),H(wn)}var wn=M(0);function Pm(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||G_(d)||Y_(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var sa=0,yt=null,Kt=null,Tn=null,$m=!1,Uc=!1,ol=!1,zm=0,ed=0,Hc=null,f7=0;function vn(){throw Error(s(321))}function F1(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!ar(o[d],l[d]))return!1;return!0}function V1(o,l,d,g,_,w){return sa=w,yt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,I.H=o===null||o.memoizedState===null?bA:i_,ol=!1,w=d(g,_),ol=!1,Uc&&(w=PE(l,d,g,_)),IE(o),w}function IE(o){I.H=sd;var l=Kt!==null&&Kt.next!==null;if(sa=0,Tn=Kt=yt=null,$m=!1,ed=0,Hc=null,l)throw Error(s(300));o===null||Rn||(o=o.dependencies,o!==null&&Tm(o)&&(Rn=!0))}function PE(o,l,d,g){yt=o;var _=0;do{if(Uc&&(Hc=null),ed=0,Uc=!1,25<=_)throw Error(s(301));if(_+=1,Tn=Kt=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}I.H=_A,w=l(d,g)}while(Uc);return w}function p7(){var o=I.H,l=o.useState()[0];return l=typeof l.then=="function"?td(l):l,o=o.useState()[0],(Kt!==null?Kt.memoizedState:null)!==o&&(yt.flags|=1024),l}function q1(){var o=zm!==0;return zm=0,o}function K1(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function W1(o){if($m){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}$m=!1}sa=0,Tn=Kt=yt=null,Uc=!1,ed=zm=0,Hc=null}function As(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?yt.memoizedState=Tn=o:Tn=Tn.next=o,Tn}function Sn(){if(Kt===null){var o=yt.alternate;o=o!==null?o.memoizedState:null}else o=Kt.next;var l=Tn===null?yt.memoizedState:Tn.next;if(l!==null)Tn=l,Kt=o;else{if(o===null)throw yt.alternate===null?Error(s(467)):Error(s(310));Kt=o,o={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Tn===null?yt.memoizedState=Tn=o:Tn=Tn.next=o}return Tn}function Um(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function td(o){var l=ed;return ed+=1,Hc===null&&(Hc=[]),o=AE(Hc,o,l),l=yt,(Tn===null?l.memoizedState:Tn.next)===null&&(l=l.alternate,I.H=l===null||l.memoizedState===null?bA:i_),o}function Hm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return td(o);if(o.$$typeof===N)return is(o)}throw Error(s(438,String(o)))}function G1(o){var l=null,d=yt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=yt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Um(),yt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),g=0;g<o;g++)d[g]=P;return l.index++,d}function ra(o,l){return typeof l=="function"?l(o):l}function Fm(o){var l=Sn();return Y1(l,Kt,o)}function Y1(o,l,d){var g=o.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=d;var _=o.baseQueue,w=g.pending;if(w!==null){if(_!==null){var j=_.next;_.next=w.next,w.next=j}l.baseQueue=_=w,g.pending=null}if(w=o.baseState,_===null)o.memoizedState=w;else{l=_.next;var U=j=null,ee=null,ce=l,ge=!1;do{var ve=ce.lane&-536870913;if(ve!==ce.lane?(Tt&ve)===ve:(sa&ve)===ve){var he=ce.revertLane;if(he===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),ve===Lc&&(ge=!0);else if((sa&he)===he){ce=ce.next,he===Lc&&(ge=!0);continue}else ve={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},ee===null?(U=ee=ve,j=w):ee=ee.next=ve,yt.lanes|=he,eo|=he;ve=ce.action,ol&&d(w,ve),w=ce.hasEagerState?ce.eagerState:d(w,ve)}else he={lane:ve,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},ee===null?(U=ee=he,j=w):ee=ee.next=he,yt.lanes|=ve,eo|=ve;ce=ce.next}while(ce!==null&&ce!==l);if(ee===null?j=w:ee.next=U,!ar(w,o.memoizedState)&&(Rn=!0,ge&&(d=Ic,d!==null)))throw d;o.memoizedState=w,o.baseState=j,o.baseQueue=ee,g.lastRenderedState=w}return _===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function Z1(o){var l=Sn(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=o;var g=d.dispatch,_=d.pending,w=l.memoizedState;if(_!==null){d.pending=null;var j=_=_.next;do w=o(w,j.action),j=j.next;while(j!==_);ar(w,l.memoizedState)||(Rn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,g]}function $E(o,l,d){var g=yt,_=Sn(),w=Mt;if(w){if(d===void 0)throw Error(s(407));d=d()}else d=l();var j=!ar((Kt||_).memoizedState,d);if(j&&(_.memoizedState=d,Rn=!0),_=_.queue,Q1(HE.bind(null,g,_,o),[o]),_.getSnapshot!==l||j||Tn!==null&&Tn.memoizedState.tag&1){if(g.flags|=2048,Fc(9,{destroy:void 0},UE.bind(null,g,_,d,l),null),Xt===null)throw Error(s(349));w||(sa&127)!==0||zE(g,l,d)}return d}function zE(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=yt.updateQueue,l===null?(l=Um(),yt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function UE(o,l,d,g){l.value=d,l.getSnapshot=g,FE(l)&&VE(o)}function HE(o,l,d){return d(function(){FE(l)&&VE(o)})}function FE(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!ar(o,d)}catch{return!0}}function VE(o){var l=Jo(o,2);l!==null&&Gs(l,o,2)}function X1(o){var l=As();if(typeof o=="function"){var d=o;if(o=d(),ol){Ce(!0);try{d()}finally{Ce(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:o},l}function qE(o,l,d,g){return o.baseState=d,Y1(o,Kt,typeof g=="function"?g:ra)}function m7(o,l,d,g,_){if(Km(o))throw Error(s(485));if(o=l.action,o!==null){var w={payload:_,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){w.listeners.push(j)}};I.T!==null?d(!0):w.isTransition=!1,g(w),d=l.pending,d===null?(w.next=l.pending=w,KE(l,w)):(w.next=d.next,l.pending=d.next=w)}}function KE(o,l){var d=l.action,g=l.payload,_=o.state;if(l.isTransition){var w=I.T,j={};I.T=j;try{var U=d(_,g),ee=I.S;ee!==null&&ee(j,U),WE(o,l,U)}catch(ce){J1(o,l,ce)}finally{w!==null&&j.types!==null&&(w.types=j.types),I.T=w}}else try{w=d(_,g),WE(o,l,w)}catch(ce){J1(o,l,ce)}}function WE(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){GE(o,l,g)},function(g){return J1(o,l,g)}):GE(o,l,d)}function GE(o,l,d){l.status="fulfilled",l.value=d,YE(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,KE(o,d)))}function J1(o,l,d){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,YE(l),l=l.next;while(l!==g)}o.action=null}function YE(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function ZE(o,l){return l}function XE(o,l){if(Mt){var d=Xt.formState;if(d!==null){e:{var g=yt;if(Mt){if(tn){t:{for(var _=tn,w=Ir;_.nodeType!==8;){if(!w){_=null;break t}if(_=$r(_.nextSibling),_===null){_=null;break t}}w=_.data,_=w==="F!"||w==="F"?_:null}if(_){tn=$r(_.nextSibling),g=_.data==="F!";break e}}qa(g)}g=!1}g&&(l=d[0])}}return d=As(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZE,lastRenderedState:l},d.queue=g,d=gA.bind(null,yt,g),g.dispatch=d,g=X1(!1),w=r_.bind(null,yt,!1,g.queue),g=As(),_={state:l,dispatch:null,action:o,pending:null},g.queue=_,d=m7.bind(null,yt,_,w,d),_.dispatch=d,g.memoizedState=o,[l,d,!1]}function JE(o){var l=Sn();return QE(l,Kt,o)}function QE(o,l,d){if(l=Y1(o,l,ZE)[0],o=Fm(ra)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=td(l)}catch(j){throw j===Pc?Mm:j}else g=l;l=Sn();var _=l.queue,w=_.dispatch;return d!==l.memoizedState&&(yt.flags|=2048,Fc(9,{destroy:void 0},g7.bind(null,_,d),null)),[g,w,o]}function g7(o,l){o.action=l}function eA(o){var l=Sn(),d=Kt;if(d!==null)return QE(l,d,o);Sn(),l=l.memoizedState,d=Sn();var g=d.queue.dispatch;return d.memoizedState=o,[l,g,!1]}function Fc(o,l,d,g){return o={tag:o,create:d,deps:g,inst:l,next:null},l=yt.updateQueue,l===null&&(l=Um(),yt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,l.lastEffect=o),o}function tA(){return Sn().memoizedState}function Vm(o,l,d,g){var _=As();yt.flags|=o,_.memoizedState=Fc(1|l,{destroy:void 0},d,g===void 0?null:g)}function qm(o,l,d,g){var _=Sn();g=g===void 0?null:g;var w=_.memoizedState.inst;Kt!==null&&g!==null&&F1(g,Kt.memoizedState.deps)?_.memoizedState=Fc(l,w,d,g):(yt.flags|=o,_.memoizedState=Fc(1|l,w,d,g))}function nA(o,l){Vm(8390656,8,o,l)}function Q1(o,l){qm(2048,8,o,l)}function y7(o){yt.flags|=4;var l=yt.updateQueue;if(l===null)l=Um(),yt.updateQueue=l,l.events=[o];else{var d=l.events;d===null?l.events=[o]:d.push(o)}}function sA(o){var l=Sn().memoizedState;return y7({ref:l,nextImpl:o}),function(){if((zt&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}function rA(o,l){return qm(4,2,o,l)}function iA(o,l){return qm(4,4,o,l)}function aA(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function oA(o,l,d){d=d!=null?d.concat([o]):null,qm(4,4,aA.bind(null,l,o),d)}function e_(){}function lA(o,l){var d=Sn();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&F1(l,g[1])?g[0]:(d.memoizedState=[o,l],o)}function cA(o,l){var d=Sn();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&F1(l,g[1]))return g[0];if(g=o(),ol){Ce(!0);try{o()}finally{Ce(!1)}}return d.memoizedState=[g,l],g}function t_(o,l,d){return d===void 0||(sa&1073741824)!==0&&(Tt&261930)===0?o.memoizedState=l:(o.memoizedState=d,o=u5(),yt.lanes|=o,eo|=o,d)}function uA(o,l,d,g){return ar(d,l)?d:zc.current!==null?(o=t_(o,d,g),ar(o,l)||(Rn=!0),o):(sa&42)===0||(sa&1073741824)!==0&&(Tt&261930)===0?(Rn=!0,o.memoizedState=d):(o=u5(),yt.lanes|=o,eo|=o,l)}function hA(o,l,d,g,_){var w=Y.p;Y.p=w!==0&&8>w?w:8;var j=I.T,U={};I.T=U,r_(o,!1,l,d);try{var ee=_(),ce=I.S;if(ce!==null&&ce(U,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ge=d7(ee,g);nd(o,l,ge,dr(o))}else nd(o,l,g,dr(o))}catch(ve){nd(o,l,{then:function(){},status:"rejected",reason:ve},dr())}finally{Y.p=w,j!==null&&U.types!==null&&(j.types=U.types),I.T=j}}function v7(){}function n_(o,l,d,g){if(o.tag!==5)throw Error(s(476));var _=dA(o).queue;hA(o,_,l,Q,d===null?v7:function(){return fA(o),d(g)})}function dA(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:Q},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function fA(o){var l=dA(o);l.next===null&&(l=o.alternate.memoizedState),nd(o,l.next.queue,{},dr())}function s_(){return is(bd)}function pA(){return Sn().memoizedState}function mA(){return Sn().memoizedState}function b7(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=dr();o=Ga(d);var g=Ya(l,o,d);g!==null&&(Gs(g,l,d),Xh(g,l,d)),l={cache:O1()},o.payload=l;return}l=l.return}}function _7(o,l,d){var g=dr();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Km(o)?yA(l,d):(d=x1(o,l,d,g),d!==null&&(Gs(d,o,g),vA(d,l,g)))}function gA(o,l,d){var g=dr();nd(o,l,d,g)}function nd(o,l,d,g){var _={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Km(o))yA(l,_);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var j=l.lastRenderedState,U=w(j,d);if(_.hasEagerState=!0,_.eagerState=U,ar(U,j))return Nm(o,l,_,0),Xt===null&&Cm(),!1}catch{}if(d=x1(o,l,_,g),d!==null)return Gs(d,o,g),vA(d,l,g),!0}return!1}function r_(o,l,d,g){if(g={lane:2,revertLane:L_(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Km(o)){if(l)throw Error(s(479))}else l=x1(o,d,g,2),l!==null&&Gs(l,o,2)}function Km(o){var l=o.alternate;return o===yt||l!==null&&l===yt}function yA(o,l){Uc=$m=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function vA(o,l,d){if((d&4194048)!==0){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,S4(o,d)}}var sd={readContext:is,use:Hm,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn};sd.useEffectEvent=vn;var bA={readContext:is,use:Hm,useCallback:function(o,l){return As().memoizedState=[o,l===void 0?null:l],o},useContext:is,useEffect:nA,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,Vm(4194308,4,aA.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Vm(4194308,4,o,l)},useInsertionEffect:function(o,l){Vm(4,2,o,l)},useMemo:function(o,l){var d=As();l=l===void 0?null:l;var g=o();if(ol){Ce(!0);try{o()}finally{Ce(!1)}}return d.memoizedState=[g,l],g},useReducer:function(o,l,d){var g=As();if(d!==void 0){var _=d(l);if(ol){Ce(!0);try{d(l)}finally{Ce(!1)}}}else _=l;return g.memoizedState=g.baseState=_,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:_},g.queue=o,o=o.dispatch=_7.bind(null,yt,o),[g.memoizedState,o]},useRef:function(o){var l=As();return o={current:o},l.memoizedState=o},useState:function(o){o=X1(o);var l=o.queue,d=gA.bind(null,yt,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:e_,useDeferredValue:function(o,l){var d=As();return t_(d,o,l)},useTransition:function(){var o=X1(!1);return o=hA.bind(null,yt,o.queue,!0,!1),As().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var g=yt,_=As();if(Mt){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),Xt===null)throw Error(s(349));(Tt&127)!==0||zE(g,l,d)}_.memoizedState=d;var w={value:d,getSnapshot:l};return _.queue=w,nA(HE.bind(null,g,w,o),[o]),g.flags|=2048,Fc(9,{destroy:void 0},UE.bind(null,g,w,d,l),null),d},useId:function(){var o=As(),l=Xt.identifierPrefix;if(Mt){var d=wi,g=xi;d=(g&~(1<<32-me(g)-1)).toString(32)+d,l="_"+l+"R_"+d,d=zm++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=f7++,l="_"+l+"r_"+d.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:s_,useFormState:XE,useActionState:XE,useOptimistic:function(o){var l=As();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=r_.bind(null,yt,!0,d),d.dispatch=l,[o,l]},useMemoCache:G1,useCacheRefresh:function(){return As().memoizedState=b7.bind(null,yt)},useEffectEvent:function(o){var l=As(),d={impl:o};return l.memoizedState=d,function(){if((zt&2)!==0)throw Error(s(440));return d.impl.apply(void 0,arguments)}}},i_={readContext:is,use:Hm,useCallback:lA,useContext:is,useEffect:Q1,useImperativeHandle:oA,useInsertionEffect:rA,useLayoutEffect:iA,useMemo:cA,useReducer:Fm,useRef:tA,useState:function(){return Fm(ra)},useDebugValue:e_,useDeferredValue:function(o,l){var d=Sn();return uA(d,Kt.memoizedState,o,l)},useTransition:function(){var o=Fm(ra)[0],l=Sn().memoizedState;return[typeof o=="boolean"?o:td(o),l]},useSyncExternalStore:$E,useId:pA,useHostTransitionStatus:s_,useFormState:JE,useActionState:JE,useOptimistic:function(o,l){var d=Sn();return qE(d,Kt,o,l)},useMemoCache:G1,useCacheRefresh:mA};i_.useEffectEvent=sA;var _A={readContext:is,use:Hm,useCallback:lA,useContext:is,useEffect:Q1,useImperativeHandle:oA,useInsertionEffect:rA,useLayoutEffect:iA,useMemo:cA,useReducer:Z1,useRef:tA,useState:function(){return Z1(ra)},useDebugValue:e_,useDeferredValue:function(o,l){var d=Sn();return Kt===null?t_(d,o,l):uA(d,Kt.memoizedState,o,l)},useTransition:function(){var o=Z1(ra)[0],l=Sn().memoizedState;return[typeof o=="boolean"?o:td(o),l]},useSyncExternalStore:$E,useId:pA,useHostTransitionStatus:s_,useFormState:eA,useActionState:eA,useOptimistic:function(o,l){var d=Sn();return Kt!==null?qE(d,Kt,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:G1,useCacheRefresh:mA};_A.useEffectEvent=sA;function a_(o,l,d,g){l=o.memoizedState,d=d(g,l),d=d==null?l:p({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var o_={enqueueSetState:function(o,l,d){o=o._reactInternals;var g=dr(),_=Ga(g);_.payload=l,d!=null&&(_.callback=d),l=Ya(o,_,g),l!==null&&(Gs(l,o,g),Xh(l,o,g))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var g=dr(),_=Ga(g);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=Ya(o,_,g),l!==null&&(Gs(l,o,g),Xh(l,o,g))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=dr(),g=Ga(d);g.tag=2,l!=null&&(g.callback=l),l=Ya(o,g,d),l!==null&&(Gs(l,o,d),Xh(l,o,d))}};function xA(o,l,d,g,_,w,j){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,w,j):l.prototype&&l.prototype.isPureReactComponent?!Fh(d,g)||!Fh(_,w):!0}function wA(o,l,d,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==o&&o_.enqueueReplaceState(l,l.state,null)}function ll(o,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(o=o.defaultProps){d===l&&(d=p({},d));for(var _ in o)d[_]===void 0&&(d[_]=o[_])}return d}function SA(o){km(o)}function kA(o){console.error(o)}function CA(o){km(o)}function Wm(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function NA(o,l,d){try{var g=o.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function l_(o,l,d){return d=Ga(d),d.tag=3,d.payload={element:null},d.callback=function(){Wm(o,l)},d}function EA(o){return o=Ga(o),o.tag=3,o}function AA(o,l,d,g){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var w=g.value;o.payload=function(){return _(w)},o.callback=function(){NA(l,d,g)}}var j=d.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(o.callback=function(){NA(l,d,g),typeof _!="function"&&(to===null?to=new Set([this]):to.add(this));var U=g.stack;this.componentDidCatch(g.value,{componentStack:U!==null?U:""})})}function x7(o,l,d,g,_){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&Bc(l,d,_,!0),d=lr.current,d!==null){switch(d.tag){case 31:case 13:return Pr===null?ig():d.alternate===null&&bn===0&&(bn=3),d.flags&=-257,d.flags|=65536,d.lanes=_,g===Dm?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),M_(o,g,_)),!1;case 22:return d.flags|=65536,g===Dm?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),M_(o,g,_)),!1}throw Error(s(435,d.tag))}return M_(o,g,_),ig(),!1}if(Mt)return l=lr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,g!==E1&&(o=Error(s(422),{cause:g}),Kh(Dr(o,d)))):(g!==E1&&(l=Error(s(423),{cause:g}),Kh(Dr(l,d))),o=o.current.alternate,o.flags|=65536,_&=-_,o.lanes|=_,g=Dr(g,d),_=l_(o.stateNode,g,_),P1(o,_),bn!==4&&(bn=2)),!1;var w=Error(s(520),{cause:g});if(w=Dr(w,d),hd===null?hd=[w]:hd.push(w),bn!==4&&(bn=2),l===null)return!0;g=Dr(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=_&-_,d.lanes|=o,o=l_(d.stateNode,g,o),P1(d,o),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(to===null||!to.has(w))))return d.flags|=65536,_&=-_,d.lanes|=_,_=EA(_),AA(_,o,d,g),P1(d,_),!1}d=d.return}while(d!==null);return!1}var c_=Error(s(461)),Rn=!1;function as(o,l,d,g){l.child=o===null?OE(l,null,d,g):al(l,o.child,d,g)}function jA(o,l,d,g,_){d=d.render;var w=l.ref;if("ref"in g){var j={};for(var U in g)U!=="ref"&&(j[U]=g[U])}else j=g;return nl(l),g=V1(o,l,d,j,w,_),U=q1(),o!==null&&!Rn?(K1(o,l,_),ia(o,l,_)):(Mt&&U&&C1(l),l.flags|=1,as(o,l,g,_),l.child)}function TA(o,l,d,g,_){if(o===null){var w=d.type;return typeof w=="function"&&!w1(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,RA(o,l,w,g,_)):(o=Am(d.type,null,g,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,!y_(o,_)){var j=w.memoizedProps;if(d=d.compare,d=d!==null?d:Fh,d(j,g)&&o.ref===l.ref)return ia(o,l,_)}return l.flags|=1,o=Qi(w,g),o.ref=l.ref,o.return=l,l.child=o}function RA(o,l,d,g,_){if(o!==null){var w=o.memoizedProps;if(Fh(w,g)&&o.ref===l.ref)if(Rn=!1,l.pendingProps=g=w,y_(o,_))(o.flags&131072)!==0&&(Rn=!0);else return l.lanes=o.lanes,ia(o,l,_)}return u_(o,l,d,g,_)}function OA(o,l,d,g){var _=g.children,w=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(w=w!==null?w.baseLanes|d:d,o!==null){for(g=l.child=o.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;g=_&~w}else g=0,l.child=null;return MA(o,l,w,d,g)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Om(l,w!==null?w.cachePool:null),w!==null?BE(l,w):z1(),LE(l);else return g=l.lanes=536870912,MA(o,l,w!==null?w.baseLanes|d:d,d,g)}else w!==null?(Om(l,w.cachePool),BE(l,w),Xa(),l.memoizedState=null):(o!==null&&Om(l,null),z1(),Xa());return as(o,l,_,d),l.child}function rd(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function MA(o,l,d,g,_){var w=D1();return w=w===null?null:{parent:jn._currentValue,pool:w},l.memoizedState={baseLanes:d,cachePool:w},o!==null&&Om(l,null),z1(),LE(l),o!==null&&Bc(o,l,g,!0),l.childLanes=_,null}function Gm(o,l){return l=Zm({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function DA(o,l,d){return al(l,o.child,null,d),o=Gm(l,l.pendingProps),o.flags|=2,cr(l),l.memoizedState=null,o}function w7(o,l,d){var g=l.pendingProps,_=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(Mt){if(g.mode==="hidden")return o=Gm(l,g),l.lanes=536870912,rd(null,o);if(H1(l),(o=tn)?(o=K5(o,Ir),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Fa!==null?{id:xi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},d=yE(o),d.return=l,l.child=d,rs=l,tn=null)):o=null,o===null)throw qa(l);return l.lanes=536870912,null}return Gm(l,g)}var w=o.memoizedState;if(w!==null){var j=w.dehydrated;if(H1(l),_)if(l.flags&256)l.flags&=-257,l=DA(o,l,d);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(s(558));else if(Rn||Bc(o,l,d,!1),_=(d&o.childLanes)!==0,Rn||_){if(g=Xt,g!==null&&(j=k4(g,d),j!==0&&j!==w.retryLane))throw w.retryLane=j,Jo(o,j),Gs(g,o,j),c_;ig(),l=DA(o,l,d)}else o=w.treeContext,tn=$r(j.nextSibling),rs=l,Mt=!0,Va=null,Ir=!1,o!==null&&_E(l,o),l=Gm(l,g),l.flags|=4096;return l}return o=Qi(o.child,{mode:g.mode,children:g.children}),o.ref=l.ref,l.child=o,o.return=l,o}function Ym(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function u_(o,l,d,g,_){return nl(l),d=V1(o,l,d,g,void 0,_),g=q1(),o!==null&&!Rn?(K1(o,l,_),ia(o,l,_)):(Mt&&g&&C1(l),l.flags|=1,as(o,l,d,_),l.child)}function BA(o,l,d,g,_,w){return nl(l),l.updateQueue=null,d=PE(l,g,d,_),IE(o),g=q1(),o!==null&&!Rn?(K1(o,l,w),ia(o,l,w)):(Mt&&g&&C1(l),l.flags|=1,as(o,l,d,w),l.child)}function LA(o,l,d,g,_){if(nl(l),l.stateNode===null){var w=Rc,j=d.contextType;typeof j=="object"&&j!==null&&(w=is(j)),w=new d(g,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=o_,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=g,w.state=l.memoizedState,w.refs={},L1(l),j=d.contextType,w.context=typeof j=="object"&&j!==null?is(j):Rc,w.state=l.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&(a_(l,d,j,g),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(j=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),j!==w.state&&o_.enqueueReplaceState(w,w.state,null),Qh(l,g,w,_),Jh(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(o===null){w=l.stateNode;var U=l.memoizedProps,ee=ll(d,U);w.props=ee;var ce=w.context,ge=d.contextType;j=Rc,typeof ge=="object"&&ge!==null&&(j=is(ge));var ve=d.getDerivedStateFromProps;ge=typeof ve=="function"||typeof w.getSnapshotBeforeUpdate=="function",U=l.pendingProps!==U,ge||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(U||ce!==j)&&wA(l,w,g,j),Wa=!1;var he=l.memoizedState;w.state=he,Qh(l,g,w,_),Jh(),ce=l.memoizedState,U||he!==ce||Wa?(typeof ve=="function"&&(a_(l,d,ve,g),ce=l.memoizedState),(ee=Wa||xA(l,d,ee,g,he,ce,j))?(ge||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=ce),w.props=g,w.state=ce,w.context=j,g=ee):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{w=l.stateNode,I1(o,l),j=l.memoizedProps,ge=ll(d,j),w.props=ge,ve=l.pendingProps,he=w.context,ce=d.contextType,ee=Rc,typeof ce=="object"&&ce!==null&&(ee=is(ce)),U=d.getDerivedStateFromProps,(ce=typeof U=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j!==ve||he!==ee)&&wA(l,w,g,ee),Wa=!1,he=l.memoizedState,w.state=he,Qh(l,g,w,_),Jh();var pe=l.memoizedState;j!==ve||he!==pe||Wa||o!==null&&o.dependencies!==null&&Tm(o.dependencies)?(typeof U=="function"&&(a_(l,d,U,g),pe=l.memoizedState),(ge=Wa||xA(l,d,ge,g,he,pe,ee)||o!==null&&o.dependencies!==null&&Tm(o.dependencies))?(ce||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,pe,ee),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,pe,ee)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||j===o.memoizedProps&&he===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&he===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=pe),w.props=g,w.state=pe,w.context=ee,g=ge):(typeof w.componentDidUpdate!="function"||j===o.memoizedProps&&he===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&he===o.memoizedState||(l.flags|=1024),g=!1)}return w=g,Ym(o,l),g=(l.flags&128)!==0,w||g?(w=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,o!==null&&g?(l.child=al(l,o.child,null,_),l.child=al(l,null,d,_)):as(o,l,d,_),l.memoizedState=w.state,o=l.child):o=ia(o,l,_),o}function IA(o,l,d,g){return el(),l.flags|=256,as(o,l,d,g),l.child}var h_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function d_(o){return{baseLanes:o,cachePool:NE()}}function f_(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=hr),o}function PA(o,l,d){var g=l.pendingProps,_=!1,w=(l.flags&128)!==0,j;if((j=w)||(j=o!==null&&o.memoizedState===null?!1:(wn.current&2)!==0),j&&(_=!0,l.flags&=-129),j=(l.flags&32)!==0,l.flags&=-33,o===null){if(Mt){if(_?Za(l):Xa(),(o=tn)?(o=K5(o,Ir),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Fa!==null?{id:xi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},d=yE(o),d.return=l,l.child=d,rs=l,tn=null)):o=null,o===null)throw qa(l);return Y_(o)?l.lanes=32:l.lanes=536870912,null}var U=g.children;return g=g.fallback,_?(Xa(),_=l.mode,U=Zm({mode:"hidden",children:U},_),g=Qo(g,_,d,null),U.return=l,g.return=l,U.sibling=g,l.child=U,g=l.child,g.memoizedState=d_(d),g.childLanes=f_(o,j,d),l.memoizedState=h_,rd(null,g)):(Za(l),p_(l,U))}var ee=o.memoizedState;if(ee!==null&&(U=ee.dehydrated,U!==null)){if(w)l.flags&256?(Za(l),l.flags&=-257,l=m_(o,l,d)):l.memoizedState!==null?(Xa(),l.child=o.child,l.flags|=128,l=null):(Xa(),U=g.fallback,_=l.mode,g=Zm({mode:"visible",children:g.children},_),U=Qo(U,_,d,null),U.flags|=2,g.return=l,U.return=l,g.sibling=U,l.child=g,al(l,o.child,null,d),g=l.child,g.memoizedState=d_(d),g.childLanes=f_(o,j,d),l.memoizedState=h_,l=rd(null,g));else if(Za(l),Y_(U)){if(j=U.nextSibling&&U.nextSibling.dataset,j)var ce=j.dgst;j=ce,g=Error(s(419)),g.stack="",g.digest=j,Kh({value:g,source:null,stack:null}),l=m_(o,l,d)}else if(Rn||Bc(o,l,d,!1),j=(d&o.childLanes)!==0,Rn||j){if(j=Xt,j!==null&&(g=k4(j,d),g!==0&&g!==ee.retryLane))throw ee.retryLane=g,Jo(o,g),Gs(j,o,g),c_;G_(U)||ig(),l=m_(o,l,d)}else G_(U)?(l.flags|=192,l.child=o.child,l=null):(o=ee.treeContext,tn=$r(U.nextSibling),rs=l,Mt=!0,Va=null,Ir=!1,o!==null&&_E(l,o),l=p_(l,g.children),l.flags|=4096);return l}return _?(Xa(),U=g.fallback,_=l.mode,ee=o.child,ce=ee.sibling,g=Qi(ee,{mode:"hidden",children:g.children}),g.subtreeFlags=ee.subtreeFlags&65011712,ce!==null?U=Qi(ce,U):(U=Qo(U,_,d,null),U.flags|=2),U.return=l,g.return=l,g.sibling=U,l.child=g,rd(null,g),g=l.child,U=o.child.memoizedState,U===null?U=d_(d):(_=U.cachePool,_!==null?(ee=jn._currentValue,_=_.parent!==ee?{parent:ee,pool:ee}:_):_=NE(),U={baseLanes:U.baseLanes|d,cachePool:_}),g.memoizedState=U,g.childLanes=f_(o,j,d),l.memoizedState=h_,rd(o.child,g)):(Za(l),d=o.child,o=d.sibling,d=Qi(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,o!==null&&(j=l.deletions,j===null?(l.deletions=[o],l.flags|=16):j.push(o)),l.child=d,l.memoizedState=null,d)}function p_(o,l){return l=Zm({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Zm(o,l){return o=or(22,o,null,l),o.lanes=0,o}function m_(o,l,d){return al(l,o.child,null,d),o=p_(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function $A(o,l,d){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),T1(o.return,l,d)}function g_(o,l,d,g,_,w){var j=o.memoizedState;j===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:_,treeForkCount:w}:(j.isBackwards=l,j.rendering=null,j.renderingStartTime=0,j.last=g,j.tail=d,j.tailMode=_,j.treeForkCount=w)}function zA(o,l,d){var g=l.pendingProps,_=g.revealOrder,w=g.tail;g=g.children;var j=wn.current,U=(j&2)!==0;if(U?(j=j&1|2,l.flags|=128):j&=1,T(wn,j),as(o,l,g,d),g=Mt?qh:0,!U&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&$A(o,d,l);else if(o.tag===19)$A(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(_){case"forwards":for(d=l.child,_=null;d!==null;)o=d.alternate,o!==null&&Pm(o)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),g_(l,!1,_,d,w,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&Pm(o)===null){l.child=_;break}o=_.sibling,_.sibling=d,d=_,_=o}g_(l,!0,d,null,w,g);break;case"together":g_(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function ia(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),eo|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(Bc(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(s(153));if(l.child!==null){for(o=l.child,d=Qi(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Qi(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function y_(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Tm(o)))}function S7(o,l,d){switch(l.tag){case 3:ke(l,l.stateNode.containerInfo),Ka(l,jn,o.memoizedState.cache),el();break;case 27:case 5:Ge(l);break;case 4:ke(l,l.stateNode.containerInfo);break;case 10:Ka(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,H1(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(Za(l),l.flags|=128,null):(d&l.child.childLanes)!==0?PA(o,l,d):(Za(l),o=ia(o,l,d),o!==null?o.sibling:null);Za(l);break;case 19:var _=(o.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(Bc(o,l,d,!1),g=(d&l.childLanes)!==0),_){if(g)return zA(o,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),T(wn,wn.current),g)break;return null;case 22:return l.lanes=0,OA(o,l,d,l.pendingProps);case 24:Ka(l,jn,o.memoizedState.cache)}return ia(o,l,d)}function UA(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)Rn=!0;else{if(!y_(o,d)&&(l.flags&128)===0)return Rn=!1,S7(o,l,d);Rn=(o.flags&131072)!==0}else Rn=!1,Mt&&(l.flags&1048576)!==0&&bE(l,qh,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(o=rl(l.elementType),l.type=o,typeof o=="function")w1(o)?(g=ll(o,g),l.tag=1,l=LA(null,l,o,g,d)):(l.tag=0,l=u_(null,l,o,g,d));else{if(o!=null){var _=o.$$typeof;if(_===R){l.tag=11,l=jA(null,l,o,g,d);break e}else if(_===D){l.tag=14,l=TA(null,l,o,g,d);break e}}throw l=X(o)||o,Error(s(306,l,""))}}return l;case 0:return u_(o,l,l.type,l.pendingProps,d);case 1:return g=l.type,_=ll(g,l.pendingProps),LA(o,l,g,_,d);case 3:e:{if(ke(l,l.stateNode.containerInfo),o===null)throw Error(s(387));g=l.pendingProps;var w=l.memoizedState;_=w.element,I1(o,l),Qh(l,g,null,d);var j=l.memoizedState;if(g=j.cache,Ka(l,jn,g),g!==w.cache&&R1(l,[jn],d,!0),Jh(),g=j.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:j.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=IA(o,l,g,d);break e}else if(g!==_){_=Dr(Error(s(424)),l),Kh(_),l=IA(o,l,g,d);break e}else for(o=l.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,tn=$r(o.firstChild),rs=l,Mt=!0,Va=null,Ir=!0,d=OE(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(el(),g===_){l=ia(o,l,d);break e}as(o,l,g,d)}l=l.child}return l;case 26:return Ym(o,l),o===null?(d=J5(l.type,null,l.pendingProps,null))?l.memoizedState=d:Mt||(d=l.type,o=l.pendingProps,g=dg(Z.current).createElement(d),g[ss]=l,g[Hs]=o,os(g,d,o),Yn(g),l.stateNode=g):l.memoizedState=J5(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ge(l),o===null&&Mt&&(g=l.stateNode=Y5(l.type,l.pendingProps,Z.current),rs=l,Ir=!0,_=tn,io(l.type)?(Z_=_,tn=$r(g.firstChild)):tn=_),as(o,l,l.pendingProps.children,d),Ym(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&Mt&&((_=g=tn)&&(g=Q7(g,l.type,l.pendingProps,Ir),g!==null?(l.stateNode=g,rs=l,tn=$r(g.firstChild),Ir=!1,_=!0):_=!1),_||qa(l)),Ge(l),_=l.type,w=l.pendingProps,j=o!==null?o.memoizedProps:null,g=w.children,q_(_,w)?g=null:j!==null&&q_(_,j)&&(l.flags|=32),l.memoizedState!==null&&(_=V1(o,l,p7,null,null,d),bd._currentValue=_),Ym(o,l),as(o,l,g,d),l.child;case 6:return o===null&&Mt&&((o=d=tn)&&(d=e9(d,l.pendingProps,Ir),d!==null?(l.stateNode=d,rs=l,tn=null,o=!0):o=!1),o||qa(l)),null;case 13:return PA(o,l,d);case 4:return ke(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=al(l,null,g,d):as(o,l,g,d),l.child;case 11:return jA(o,l,l.type,l.pendingProps,d);case 7:return as(o,l,l.pendingProps,d),l.child;case 8:return as(o,l,l.pendingProps.children,d),l.child;case 12:return as(o,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,Ka(l,l.type,g.value),as(o,l,g.children,d),l.child;case 9:return _=l.type._context,g=l.pendingProps.children,nl(l),_=is(_),g=g(_),l.flags|=1,as(o,l,g,d),l.child;case 14:return TA(o,l,l.type,l.pendingProps,d);case 15:return RA(o,l,l.type,l.pendingProps,d);case 19:return zA(o,l,d);case 31:return w7(o,l,d);case 22:return OA(o,l,d,l.pendingProps);case 24:return nl(l),g=is(jn),o===null?(_=D1(),_===null&&(_=Xt,w=O1(),_.pooledCache=w,w.refCount++,w!==null&&(_.pooledCacheLanes|=d),_=w),l.memoizedState={parent:g,cache:_},L1(l),Ka(l,jn,_)):((o.lanes&d)!==0&&(I1(o,l),Qh(l,null,null,d),Jh()),_=o.memoizedState,w=l.memoizedState,_.parent!==g?(_={parent:g,cache:g},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),Ka(l,jn,g)):(g=w.cache,Ka(l,jn,g),g!==_.cache&&R1(l,[jn],d,!0))),as(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function aa(o){o.flags|=4}function v_(o,l,d,g,_){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(_&335544128)===_)if(o.stateNode.complete)o.flags|=8192;else if(p5())o.flags|=8192;else throw il=Dm,B1}else o.flags&=-16777217}function HA(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!s3(l))if(p5())o.flags|=8192;else throw il=Dm,B1}function Xm(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Us():536870912,o.lanes|=l,Wc|=l)}function id(o,l){if(!Mt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function nn(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(l)for(var _=o.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags&65011712,g|=_.flags&65011712,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=g,o.childLanes=d,l}function k7(o,l,d){var g=l.pendingProps;switch(N1(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(l),null;case 1:return nn(l),null;case 3:return d=l.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),na(jn),Se(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Dc(l)?aa(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,A1())),nn(l),null;case 26:var _=l.type,w=l.memoizedState;return o===null?(aa(l),w!==null?(nn(l),HA(l,w)):(nn(l),v_(l,_,null,g,d))):w?w!==o.memoizedState?(aa(l),nn(l),HA(l,w)):(nn(l),l.flags&=-16777217):(o=o.memoizedProps,o!==g&&aa(l),nn(l),v_(l,_,o,g,d)),null;case 27:if($e(l),d=Z.current,_=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==g&&aa(l);else{if(!g){if(l.stateNode===null)throw Error(s(166));return nn(l),null}o=J.current,Dc(l)?xE(l):(o=Y5(_,g,d),l.stateNode=o,aa(l))}return nn(l),null;case 5:if($e(l),_=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==g&&aa(l);else{if(!g){if(l.stateNode===null)throw Error(s(166));return nn(l),null}if(w=J.current,Dc(l))xE(l);else{var j=dg(Z.current);switch(w){case 1:w=j.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:w=j.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":w=j.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":w=j.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":w=j.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof g.is=="string"?j.createElement("select",{is:g.is}):j.createElement("select"),g.multiple?w.multiple=!0:g.size&&(w.size=g.size);break;default:w=typeof g.is=="string"?j.createElement(_,{is:g.is}):j.createElement(_)}}w[ss]=l,w[Hs]=g;e:for(j=l.child;j!==null;){if(j.tag===5||j.tag===6)w.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===l)break e;for(;j.sibling===null;){if(j.return===null||j.return===l)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}l.stateNode=w;e:switch(os(w,_,g),_){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&aa(l)}}return nn(l),v_(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,d),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==g&&aa(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(s(166));if(o=Z.current,Dc(l)){if(o=l.stateNode,d=l.memoizedProps,g=null,_=rs,_!==null)switch(_.tag){case 27:case 5:g=_.memoizedProps}o[ss]=l,o=!!(o.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||P5(o.nodeValue,d)),o||qa(l,!0)}else o=dg(o).createTextNode(g),o[ss]=l,l.stateNode=o}return nn(l),null;case 31:if(d=l.memoizedState,o===null||o.memoizedState!==null){if(g=Dc(l),d!==null){if(o===null){if(!g)throw Error(s(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(557));o[ss]=l}else el(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;nn(l),o=!1}else d=A1(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return l.flags&256?(cr(l),l):(cr(l),null);if((l.flags&128)!==0)throw Error(s(558))}return nn(l),null;case 13:if(g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_=Dc(l),g!==null&&g.dehydrated!==null){if(o===null){if(!_)throw Error(s(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(s(317));_[ss]=l}else el(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;nn(l),_=!1}else _=A1(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(cr(l),l):(cr(l),null)}return cr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=g!==null,o=o!==null&&o.memoizedState!==null,d&&(g=l.child,_=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(_=g.alternate.memoizedState.cachePool.pool),w=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==_&&(g.flags|=2048)),d!==o&&d&&(l.child.flags|=8192),Xm(l,l.updateQueue),nn(l),null);case 4:return Se(),o===null&&z_(l.stateNode.containerInfo),nn(l),null;case 10:return na(l.type),nn(l),null;case 19:if(H(wn),g=l.memoizedState,g===null)return nn(l),null;if(_=(l.flags&128)!==0,w=g.rendering,w===null)if(_)id(g,!1);else{if(bn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(w=Pm(o),w!==null){for(l.flags|=128,id(g,!1),o=w.updateQueue,l.updateQueue=o,Xm(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)gE(d,o),d=d.sibling;return T(wn,wn.current&1|2),Mt&&ea(l,g.treeForkCount),l.child}o=o.sibling}g.tail!==null&&Le()>ng&&(l.flags|=128,_=!0,id(g,!1),l.lanes=4194304)}else{if(!_)if(o=Pm(w),o!==null){if(l.flags|=128,_=!0,o=o.updateQueue,l.updateQueue=o,Xm(l,o),id(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Mt)return nn(l),null}else 2*Le()-g.renderingStartTime>ng&&d!==536870912&&(l.flags|=128,_=!0,id(g,!1),l.lanes=4194304);g.isBackwards?(w.sibling=l.child,l.child=w):(o=g.last,o!==null?o.sibling=w:l.child=w,g.last=w)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Le(),o.sibling=null,d=wn.current,T(wn,_?d&1|2:d&1),Mt&&ea(l,g.treeForkCount),o):(nn(l),null);case 22:case 23:return cr(l),U1(),g=l.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(nn(l),l.subtreeFlags&6&&(l.flags|=8192)):nn(l),d=l.updateQueue,d!==null&&Xm(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),o!==null&&H(sl),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),na(jn),nn(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function C7(o,l){switch(N1(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return na(jn),Se(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return $e(l),null;case 31:if(l.memoizedState!==null){if(cr(l),l.alternate===null)throw Error(s(340));el()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(cr(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(s(340));el()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return H(wn),null;case 4:return Se(),null;case 10:return na(l.type),null;case 22:case 23:return cr(l),U1(),o!==null&&H(sl),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return na(jn),null;case 25:return null;default:return null}}function FA(o,l){switch(N1(l),l.tag){case 3:na(jn),Se();break;case 26:case 27:case 5:$e(l);break;case 4:Se();break;case 31:l.memoizedState!==null&&cr(l);break;case 13:cr(l);break;case 19:H(wn);break;case 10:na(l.type);break;case 22:case 23:cr(l),U1(),o!==null&&H(sl);break;case 24:na(jn)}}function ad(o,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var _=g.next;d=_;do{if((d.tag&o)===o){g=void 0;var w=d.create,j=d.inst;g=w(),j.destroy=g}d=d.next}while(d!==_)}}catch(U){Ft(l,l.return,U)}}function Ja(o,l,d){try{var g=l.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var w=_.next;g=w;do{if((g.tag&o)===o){var j=g.inst,U=j.destroy;if(U!==void 0){j.destroy=void 0,_=l;var ee=d,ce=U;try{ce()}catch(ge){Ft(_,ee,ge)}}}g=g.next}while(g!==w)}}catch(ge){Ft(l,l.return,ge)}}function VA(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{DE(l,d)}catch(g){Ft(o,o.return,g)}}}function qA(o,l,d){d.props=ll(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(g){Ft(o,l,g)}}function od(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof d=="function"?o.refCleanup=d(g):d.current=g}}catch(_){Ft(o,l,_)}}function Si(o,l){var d=o.ref,g=o.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(_){Ft(o,l,_)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){Ft(o,l,_)}else d.current=null}function KA(o){var l=o.type,d=o.memoizedProps,g=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(_){Ft(o,o.return,_)}}function b_(o,l,d){try{var g=o.stateNode;W7(g,o.type,d,l),g[Hs]=l}catch(_){Ft(o,o.return,_)}}function WA(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&io(o.type)||o.tag===4}function __(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||WA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&io(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function x_(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Xi));else if(g!==4&&(g===27&&io(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(x_(o,l,d),o=o.sibling;o!==null;)x_(o,l,d),o=o.sibling}function Jm(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(g!==4&&(g===27&&io(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(Jm(o,l,d),o=o.sibling;o!==null;)Jm(o,l,d),o=o.sibling}function GA(o){var l=o.stateNode,d=o.memoizedProps;try{for(var g=o.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);os(l,g,d),l[ss]=o,l[Hs]=d}catch(w){Ft(o,o.return,w)}}var oa=!1,On=!1,w_=!1,YA=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function N7(o,l){if(o=o.containerInfo,F_=bg,o=oE(o),m1(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var _=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var j=0,U=-1,ee=-1,ce=0,ge=0,ve=o,he=null;t:for(;;){for(var pe;ve!==d||_!==0&&ve.nodeType!==3||(U=j+_),ve!==w||g!==0&&ve.nodeType!==3||(ee=j+g),ve.nodeType===3&&(j+=ve.nodeValue.length),(pe=ve.firstChild)!==null;)he=ve,ve=pe;for(;;){if(ve===o)break t;if(he===d&&++ce===_&&(U=j),he===w&&++ge===g&&(ee=j),(pe=ve.nextSibling)!==null)break;ve=he,he=ve.parentNode}ve=pe}d=U===-1||ee===-1?null:{start:U,end:ee}}else d=null}d=d||{start:0,end:0}}else d=null;for(V_={focusedElem:o,selectionRange:d},bg=!1,Zn=l;Zn!==null;)if(l=Zn,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Zn=o;else for(;Zn!==null;){switch(l=Zn,w=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)_=o[d],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,d=l,_=w.memoizedProps,w=w.memoizedState,g=d.stateNode;try{var Ke=ll(d.type,_);o=g.getSnapshotBeforeUpdate(Ke,w),g.__reactInternalSnapshotBeforeUpdate=o}catch(ot){Ft(d,d.return,ot)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)W_(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":W_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(s(163))}if(o=l.sibling,o!==null){o.return=l.return,Zn=o;break}Zn=l.return}}function ZA(o,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:ca(o,d),g&4&&ad(5,d);break;case 1:if(ca(o,d),g&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(j){Ft(d,d.return,j)}else{var _=ll(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(_,l,o.__reactInternalSnapshotBeforeUpdate)}catch(j){Ft(d,d.return,j)}}g&64&&VA(d),g&512&&od(d,d.return);break;case 3:if(ca(o,d),g&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{DE(o,l)}catch(j){Ft(d,d.return,j)}}break;case 27:l===null&&g&4&&GA(d);case 26:case 5:ca(o,d),l===null&&g&4&&KA(d),g&512&&od(d,d.return);break;case 12:ca(o,d);break;case 31:ca(o,d),g&4&&QA(o,d);break;case 13:ca(o,d),g&4&&e5(o,d),g&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=B7.bind(null,d),t9(o,d))));break;case 22:if(g=d.memoizedState!==null||oa,!g){l=l!==null&&l.memoizedState!==null||On,_=oa;var w=On;oa=g,(On=l)&&!w?ua(o,d,(d.subtreeFlags&8772)!==0):ca(o,d),oa=_,On=w}break;case 30:break;default:ca(o,d)}}function XA(o){var l=o.alternate;l!==null&&(o.alternate=null,XA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Jb(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var cn=null,Vs=!1;function la(o,l,d){for(d=d.child;d!==null;)JA(o,l,d),d=d.sibling}function JA(o,l,d){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(ae,d)}catch{}switch(d.tag){case 26:On||Si(d,l),la(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:On||Si(d,l);var g=cn,_=Vs;io(d.type)&&(cn=d.stateNode,Vs=!1),la(o,l,d),gd(d.stateNode),cn=g,Vs=_;break;case 5:On||Si(d,l);case 6:if(g=cn,_=Vs,cn=null,la(o,l,d),cn=g,Vs=_,cn!==null)if(Vs)try{(cn.nodeType===9?cn.body:cn.nodeName==="HTML"?cn.ownerDocument.body:cn).removeChild(d.stateNode)}catch(w){Ft(d,l,w)}else try{cn.removeChild(d.stateNode)}catch(w){Ft(d,l,w)}break;case 18:cn!==null&&(Vs?(o=cn,V5(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),tu(o)):V5(cn,d.stateNode));break;case 4:g=cn,_=Vs,cn=d.stateNode.containerInfo,Vs=!0,la(o,l,d),cn=g,Vs=_;break;case 0:case 11:case 14:case 15:Ja(2,d,l),On||Ja(4,d,l),la(o,l,d);break;case 1:On||(Si(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&qA(d,l,g)),la(o,l,d);break;case 21:la(o,l,d);break;case 22:On=(g=On)||d.memoizedState!==null,la(o,l,d),On=g;break;default:la(o,l,d)}}function QA(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{tu(o)}catch(d){Ft(l,l.return,d)}}}function e5(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{tu(o)}catch(d){Ft(l,l.return,d)}}function E7(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new YA),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new YA),l;default:throw Error(s(435,o.tag))}}function Qm(o,l){var d=E7(o);l.forEach(function(g){if(!d.has(g)){d.add(g);var _=L7.bind(null,o,g);g.then(_,_)}})}function qs(o,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var _=d[g],w=o,j=l,U=j;e:for(;U!==null;){switch(U.tag){case 27:if(io(U.type)){cn=U.stateNode,Vs=!1;break e}break;case 5:cn=U.stateNode,Vs=!1;break e;case 3:case 4:cn=U.stateNode.containerInfo,Vs=!0;break e}U=U.return}if(cn===null)throw Error(s(160));JA(w,j,_),cn=null,Vs=!1,w=_.alternate,w!==null&&(w.return=null),_.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)t5(l,o),l=l.sibling}var ai=null;function t5(o,l){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:qs(l,o),Ks(o),g&4&&(Ja(3,o,o.return),ad(3,o),Ja(5,o,o.return));break;case 1:qs(l,o),Ks(o),g&512&&(On||d===null||Si(d,d.return)),g&64&&oa&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var _=ai;if(qs(l,o),Ks(o),g&512&&(On||d===null||Si(d,d.return)),g&4){var w=d!==null?d.memoizedState:null;if(g=o.memoizedState,d===null)if(g===null)if(o.stateNode===null){e:{g=o.type,d=o.memoizedProps,_=_.ownerDocument||_;t:switch(g){case"title":w=_.getElementsByTagName("title")[0],(!w||w[Dh]||w[ss]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=_.createElement(g),_.head.insertBefore(w,_.querySelector("head > title"))),os(w,g,d),w[ss]=o,Yn(w),g=w;break e;case"link":var j=t3("link","href",_).get(g+(d.href||""));if(j){for(var U=0;U<j.length;U++)if(w=j[U],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){j.splice(U,1);break t}}w=_.createElement(g),os(w,g,d),_.head.appendChild(w);break;case"meta":if(j=t3("meta","content",_).get(g+(d.content||""))){for(U=0;U<j.length;U++)if(w=j[U],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){j.splice(U,1);break t}}w=_.createElement(g),os(w,g,d),_.head.appendChild(w);break;default:throw Error(s(468,g))}w[ss]=o,Yn(w),g=w}o.stateNode=g}else n3(_,o.type,o.stateNode);else o.stateNode=e3(_,g,o.memoizedProps);else w!==g?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,g===null?n3(_,o.type,o.stateNode):e3(_,g,o.memoizedProps)):g===null&&o.stateNode!==null&&b_(o,o.memoizedProps,d.memoizedProps)}break;case 27:qs(l,o),Ks(o),g&512&&(On||d===null||Si(d,d.return)),d!==null&&g&4&&b_(o,o.memoizedProps,d.memoizedProps);break;case 5:if(qs(l,o),Ks(o),g&512&&(On||d===null||Si(d,d.return)),o.flags&32){_=o.stateNode;try{kc(_,"")}catch(Ke){Ft(o,o.return,Ke)}}g&4&&o.stateNode!=null&&(_=o.memoizedProps,b_(o,_,d!==null?d.memoizedProps:_)),g&1024&&(w_=!0);break;case 6:if(qs(l,o),Ks(o),g&4){if(o.stateNode===null)throw Error(s(162));g=o.memoizedProps,d=o.stateNode;try{d.nodeValue=g}catch(Ke){Ft(o,o.return,Ke)}}break;case 3:if(mg=null,_=ai,ai=fg(l.containerInfo),qs(l,o),ai=_,Ks(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{tu(l.containerInfo)}catch(Ke){Ft(o,o.return,Ke)}w_&&(w_=!1,n5(o));break;case 4:g=ai,ai=fg(o.stateNode.containerInfo),qs(l,o),Ks(o),ai=g;break;case 12:qs(l,o),Ks(o);break;case 31:qs(l,o),Ks(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Qm(o,g)));break;case 13:qs(l,o),Ks(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(tg=Le()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Qm(o,g)));break;case 22:_=o.memoizedState!==null;var ee=d!==null&&d.memoizedState!==null,ce=oa,ge=On;if(oa=ce||_,On=ge||ee,qs(l,o),On=ge,oa=ce,Ks(o),g&8192)e:for(l=o.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(d===null||ee||oa||On||cl(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){ee=d=l;try{if(w=ee.stateNode,_)j=w.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{U=ee.stateNode;var ve=ee.memoizedProps.style,he=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;U.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Ke){Ft(ee,ee.return,Ke)}}}else if(l.tag===6){if(d===null){ee=l;try{ee.stateNode.nodeValue=_?"":ee.memoizedProps}catch(Ke){Ft(ee,ee.return,Ke)}}}else if(l.tag===18){if(d===null){ee=l;try{var pe=ee.stateNode;_?q5(pe,!0):q5(ee.stateNode,!1)}catch(Ke){Ft(ee,ee.return,Ke)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=o.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Qm(o,d))));break;case 19:qs(l,o),Ks(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Qm(o,g)));break;case 30:break;case 21:break;default:qs(l,o),Ks(o)}}function Ks(o){var l=o.flags;if(l&2){try{for(var d,g=o.return;g!==null;){if(WA(g)){d=g;break}g=g.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var _=d.stateNode,w=__(o);Jm(o,w,_);break;case 5:var j=d.stateNode;d.flags&32&&(kc(j,""),d.flags&=-33);var U=__(o);Jm(o,U,j);break;case 3:case 4:var ee=d.stateNode.containerInfo,ce=__(o);x_(o,ce,ee);break;default:throw Error(s(161))}}catch(ge){Ft(o,o.return,ge)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function n5(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;n5(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function ca(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)ZA(o,l.alternate,l),l=l.sibling}function cl(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Ja(4,l,l.return),cl(l);break;case 1:Si(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&qA(l,l.return,d),cl(l);break;case 27:gd(l.stateNode);case 26:case 5:Si(l,l.return),cl(l);break;case 22:l.memoizedState===null&&cl(l);break;case 30:cl(l);break;default:cl(l)}o=o.sibling}}function ua(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,_=o,w=l,j=w.flags;switch(w.tag){case 0:case 11:case 15:ua(_,w,d),ad(4,w);break;case 1:if(ua(_,w,d),g=w,_=g.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ce){Ft(g,g.return,ce)}if(g=w,_=g.updateQueue,_!==null){var U=g.stateNode;try{var ee=_.shared.hiddenCallbacks;if(ee!==null)for(_.shared.hiddenCallbacks=null,_=0;_<ee.length;_++)ME(ee[_],U)}catch(ce){Ft(g,g.return,ce)}}d&&j&64&&VA(w),od(w,w.return);break;case 27:GA(w);case 26:case 5:ua(_,w,d),d&&g===null&&j&4&&KA(w),od(w,w.return);break;case 12:ua(_,w,d);break;case 31:ua(_,w,d),d&&j&4&&QA(_,w);break;case 13:ua(_,w,d),d&&j&4&&e5(_,w);break;case 22:w.memoizedState===null&&ua(_,w,d),od(w,w.return);break;case 30:break;default:ua(_,w,d)}l=l.sibling}}function S_(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&Wh(d))}function k_(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Wh(o))}function oi(o,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)s5(o,l,d,g),l=l.sibling}function s5(o,l,d,g){var _=l.flags;switch(l.tag){case 0:case 11:case 15:oi(o,l,d,g),_&2048&&ad(9,l);break;case 1:oi(o,l,d,g);break;case 3:oi(o,l,d,g),_&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Wh(o)));break;case 12:if(_&2048){oi(o,l,d,g),o=l.stateNode;try{var w=l.memoizedProps,j=w.id,U=w.onPostCommit;typeof U=="function"&&U(j,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ee){Ft(l,l.return,ee)}}else oi(o,l,d,g);break;case 31:oi(o,l,d,g);break;case 13:oi(o,l,d,g);break;case 23:break;case 22:w=l.stateNode,j=l.alternate,l.memoizedState!==null?w._visibility&2?oi(o,l,d,g):ld(o,l):w._visibility&2?oi(o,l,d,g):(w._visibility|=2,Vc(o,l,d,g,(l.subtreeFlags&10256)!==0||!1)),_&2048&&S_(j,l);break;case 24:oi(o,l,d,g),_&2048&&k_(l.alternate,l);break;default:oi(o,l,d,g)}}function Vc(o,l,d,g,_){for(_=_&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var w=o,j=l,U=d,ee=g,ce=j.flags;switch(j.tag){case 0:case 11:case 15:Vc(w,j,U,ee,_),ad(8,j);break;case 23:break;case 22:var ge=j.stateNode;j.memoizedState!==null?ge._visibility&2?Vc(w,j,U,ee,_):ld(w,j):(ge._visibility|=2,Vc(w,j,U,ee,_)),_&&ce&2048&&S_(j.alternate,j);break;case 24:Vc(w,j,U,ee,_),_&&ce&2048&&k_(j.alternate,j);break;default:Vc(w,j,U,ee,_)}l=l.sibling}}function ld(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,g=l,_=g.flags;switch(g.tag){case 22:ld(d,g),_&2048&&S_(g.alternate,g);break;case 24:ld(d,g),_&2048&&k_(g.alternate,g);break;default:ld(d,g)}l=l.sibling}}var cd=8192;function qc(o,l,d){if(o.subtreeFlags&cd)for(o=o.child;o!==null;)r5(o,l,d),o=o.sibling}function r5(o,l,d){switch(o.tag){case 26:qc(o,l,d),o.flags&cd&&o.memoizedState!==null&&f9(d,ai,o.memoizedState,o.memoizedProps);break;case 5:qc(o,l,d);break;case 3:case 4:var g=ai;ai=fg(o.stateNode.containerInfo),qc(o,l,d),ai=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=cd,cd=16777216,qc(o,l,d),cd=g):qc(o,l,d));break;default:qc(o,l,d)}}function i5(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function ud(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];Zn=g,o5(g,o)}i5(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)a5(o),o=o.sibling}function a5(o){switch(o.tag){case 0:case 11:case 15:ud(o),o.flags&2048&&Ja(9,o,o.return);break;case 3:ud(o);break;case 12:ud(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,eg(o)):ud(o);break;default:ud(o)}}function eg(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];Zn=g,o5(g,o)}i5(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Ja(8,l,l.return),eg(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,eg(l));break;default:eg(l)}o=o.sibling}}function o5(o,l){for(;Zn!==null;){var d=Zn;switch(d.tag){case 0:case 11:case 15:Ja(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Wh(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,Zn=g;else e:for(d=o;Zn!==null;){g=Zn;var _=g.sibling,w=g.return;if(XA(g),g===d){Zn=null;break e}if(_!==null){_.return=w,Zn=_;break e}Zn=w}}}var A7={getCacheForType:function(o){var l=is(jn),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d},cacheSignal:function(){return is(jn).controller.signal}},j7=typeof WeakMap=="function"?WeakMap:Map,zt=0,Xt=null,Nt=null,Tt=0,Ht=0,ur=null,Qa=!1,Kc=!1,C_=!1,ha=0,bn=0,eo=0,ul=0,N_=0,hr=0,Wc=0,hd=null,Ws=null,E_=!1,tg=0,l5=0,ng=1/0,sg=null,to=null,Pn=0,no=null,Gc=null,da=0,A_=0,j_=null,c5=null,dd=0,T_=null;function dr(){return(zt&2)!==0&&Tt!==0?Tt&-Tt:I.T!==null?L_():C4()}function u5(){if(hr===0)if((Tt&536870912)===0||Mt){var o=Ie;Ie<<=1,(Ie&3932160)===0&&(Ie=262144),hr=o}else hr=536870912;return o=lr.current,o!==null&&(o.flags|=32),hr}function Gs(o,l,d){(o===Xt&&(Ht===2||Ht===9)||o.cancelPendingCommit!==null)&&(Yc(o,0),so(o,Tt,hr,!1)),Wo(o,d),((zt&2)===0||o!==Xt)&&(o===Xt&&((zt&2)===0&&(ul|=d),bn===4&&so(o,Tt,hr,!1)),ki(o))}function h5(o,l,d){if((zt&6)!==0)throw Error(s(327));var g=!d&&(l&127)===0&&(l&o.expiredLanes)===0||$t(o,l),_=g?O7(o,l):O_(o,l,!0),w=g;do{if(_===0){Kc&&!g&&so(o,l,0,!1);break}else{if(d=o.current.alternate,w&&!T7(d)){_=O_(o,l,!1),w=!1;continue}if(_===2){if(w=l,o.errorRecoveryDisabledLanes&w)var j=0;else j=o.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){l=j;e:{var U=o;_=hd;var ee=U.current.memoizedState.isDehydrated;if(ee&&(Yc(U,j).flags|=256),j=O_(U,j,!1),j!==2){if(C_&&!ee){U.errorRecoveryDisabledLanes|=w,ul|=w,_=4;break e}w=Ws,Ws=_,w!==null&&(Ws===null?Ws=w:Ws.push.apply(Ws,w))}_=j}if(w=!1,_!==2)continue}}if(_===1){Yc(o,0),so(o,l,0,!0);break}e:{switch(g=o,w=_,w){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:so(g,l,hr,!Qa);break e;case 2:Ws=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(_=tg+300-Le(),10<_)){if(so(g,l,hr,!Qa),bt(g,0,!0)!==0)break e;da=l,g.timeoutHandle=H5(d5.bind(null,g,d,Ws,sg,E_,l,hr,ul,Wc,Qa,w,"Throttled",-0,0),_);break e}d5(g,d,Ws,sg,E_,l,hr,ul,Wc,Qa,w,null,-0,0)}}break}while(!0);ki(o)}function d5(o,l,d,g,_,w,j,U,ee,ce,ge,ve,he,pe){if(o.timeoutHandle=-1,ve=l.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xi},r5(l,w,ve);var Ke=(w&62914560)===w?tg-Le():(w&4194048)===w?l5-Le():0;if(Ke=p9(ve,Ke),Ke!==null){da=w,o.cancelPendingCommit=Ke(_5.bind(null,o,l,w,d,g,_,j,U,ee,ge,ve,null,he,pe)),so(o,w,j,!ce);return}}_5(o,l,w,d,g,_,j,U,ee)}function T7(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var _=d[g],w=_.getSnapshot;_=_.value;try{if(!ar(w(),_))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function so(o,l,d,g){l&=~N_,l&=~ul,o.suspendedLanes|=l,o.pingedLanes&=~l,g&&(o.warmLanes|=l),g=o.expirationTimes;for(var _=l;0<_;){var w=31-me(_),j=1<<w;g[w]=-1,_&=~j}d!==0&&w4(o,d,l)}function rg(){return(zt&6)===0?(fd(0),!1):!0}function R_(){if(Nt!==null){if(Ht===0)var o=Nt.return;else o=Nt,ta=tl=null,W1(o),$c=null,Yh=0,o=Nt;for(;o!==null;)FA(o.alternate,o),o=o.return;Nt=null}}function Yc(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,Z7(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),da=0,R_(),Xt=o,Nt=d=Qi(o.current,null),Tt=l,Ht=0,ur=null,Qa=!1,Kc=$t(o,l),C_=!1,Wc=hr=N_=ul=eo=bn=0,Ws=hd=null,E_=!1,(l&8)!==0&&(l|=l&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=l;0<g;){var _=31-me(g),w=1<<_;l|=o[_],g&=~w}return ha=l,Cm(),d}function f5(o,l){yt=null,I.H=sd,l===Pc||l===Mm?(l=jE(),Ht=3):l===B1?(l=jE(),Ht=4):Ht=l===c_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ur=l,Nt===null&&(bn=1,Wm(o,Dr(l,o.current)))}function p5(){var o=lr.current;return o===null?!0:(Tt&4194048)===Tt?Pr===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?o===Pr:!1}function m5(){var o=I.H;return I.H=sd,o===null?sd:o}function g5(){var o=I.A;return I.A=A7,o}function ig(){bn=4,Qa||(Tt&4194048)!==Tt&&lr.current!==null||(Kc=!0),(eo&134217727)===0&&(ul&134217727)===0||Xt===null||so(Xt,Tt,hr,!1)}function O_(o,l,d){var g=zt;zt|=2;var _=m5(),w=g5();(Xt!==o||Tt!==l)&&(sg=null,Yc(o,l)),l=!1;var j=bn;e:do try{if(Ht!==0&&Nt!==null){var U=Nt,ee=ur;switch(Ht){case 8:R_(),j=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(l=!0);var ce=Ht;if(Ht=0,ur=null,Zc(o,U,ee,ce),d&&Kc){j=0;break e}break;default:ce=Ht,Ht=0,ur=null,Zc(o,U,ee,ce)}}R7(),j=bn;break}catch(ge){f5(o,ge)}while(!0);return l&&o.shellSuspendCounter++,ta=tl=null,zt=g,I.H=_,I.A=w,Nt===null&&(Xt=null,Tt=0,Cm()),j}function R7(){for(;Nt!==null;)y5(Nt)}function O7(o,l){var d=zt;zt|=2;var g=m5(),_=g5();Xt!==o||Tt!==l?(sg=null,ng=Le()+500,Yc(o,l)):Kc=$t(o,l);e:do try{if(Ht!==0&&Nt!==null){l=Nt;var w=ur;t:switch(Ht){case 1:Ht=0,ur=null,Zc(o,l,w,1);break;case 2:case 9:if(EE(w)){Ht=0,ur=null,v5(l);break}l=function(){Ht!==2&&Ht!==9||Xt!==o||(Ht=7),ki(o)},w.then(l,l);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:EE(w)?(Ht=0,ur=null,v5(l)):(Ht=0,ur=null,Zc(o,l,w,7));break;case 5:var j=null;switch(Nt.tag){case 26:j=Nt.memoizedState;case 5:case 27:var U=Nt;if(j?s3(j):U.stateNode.complete){Ht=0,ur=null;var ee=U.sibling;if(ee!==null)Nt=ee;else{var ce=U.return;ce!==null?(Nt=ce,ag(ce)):Nt=null}break t}}Ht=0,ur=null,Zc(o,l,w,5);break;case 6:Ht=0,ur=null,Zc(o,l,w,6);break;case 8:R_(),bn=6;break e;default:throw Error(s(462))}}M7();break}catch(ge){f5(o,ge)}while(!0);return ta=tl=null,I.H=g,I.A=_,zt=d,Nt!==null?0:(Xt=null,Tt=0,Cm(),bn)}function M7(){for(;Nt!==null&&!tt();)y5(Nt)}function y5(o){var l=UA(o.alternate,o,ha);o.memoizedProps=o.pendingProps,l===null?ag(o):Nt=l}function v5(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=BA(d,l,l.pendingProps,l.type,void 0,Tt);break;case 11:l=BA(d,l,l.pendingProps,l.type.render,l.ref,Tt);break;case 5:W1(l);default:FA(d,l),l=Nt=gE(l,ha),l=UA(d,l,ha)}o.memoizedProps=o.pendingProps,l===null?ag(o):Nt=l}function Zc(o,l,d,g){ta=tl=null,W1(l),$c=null,Yh=0;var _=l.return;try{if(x7(o,_,l,d,Tt)){bn=1,Wm(o,Dr(d,o.current)),Nt=null;return}}catch(w){if(_!==null)throw Nt=_,w;bn=1,Wm(o,Dr(d,o.current)),Nt=null;return}l.flags&32768?(Mt||g===1?o=!0:Kc||(Tt&536870912)!==0?o=!1:(Qa=o=!0,(g===2||g===9||g===3||g===6)&&(g=lr.current,g!==null&&g.tag===13&&(g.flags|=16384))),b5(l,o)):ag(l)}function ag(o){var l=o;do{if((l.flags&32768)!==0){b5(l,Qa);return}o=l.return;var d=k7(l.alternate,l,ha);if(d!==null){Nt=d;return}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=o}while(l!==null);bn===0&&(bn=5)}function b5(o,l){do{var d=C7(o.alternate,o);if(d!==null){d.flags&=32767,Nt=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){Nt=o;return}Nt=o=d}while(o!==null);bn=6,Nt=null}function _5(o,l,d,g,_,w,j,U,ee){o.cancelPendingCommit=null;do og();while(Pn!==0);if((zt&6)!==0)throw Error(s(327));if(l!==null){if(l===o.current)throw Error(s(177));if(w=l.lanes|l.childLanes,w|=_1,Gb(o,d,w,j,U,ee),o===Xt&&(Nt=Xt=null,Tt=0),Gc=l,no=o,da=d,A_=w,j_=_,c5=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,I7(Ze,function(){return C5(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=I.T,I.T=null,_=Y.p,Y.p=2,j=zt,zt|=4;try{N7(o,l,d)}finally{zt=j,Y.p=_,I.T=g}}Pn=1,x5(),w5(),S5()}}function x5(){if(Pn===1){Pn=0;var o=no,l=Gc,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=I.T,I.T=null;var g=Y.p;Y.p=2;var _=zt;zt|=4;try{t5(l,o);var w=V_,j=oE(o.containerInfo),U=w.focusedElem,ee=w.selectionRange;if(j!==U&&U&&U.ownerDocument&&aE(U.ownerDocument.documentElement,U)){if(ee!==null&&m1(U)){var ce=ee.start,ge=ee.end;if(ge===void 0&&(ge=ce),"selectionStart"in U)U.selectionStart=ce,U.selectionEnd=Math.min(ge,U.value.length);else{var ve=U.ownerDocument||document,he=ve&&ve.defaultView||window;if(he.getSelection){var pe=he.getSelection(),Ke=U.textContent.length,ot=Math.min(ee.start,Ke),Gt=ee.end===void 0?ot:Math.min(ee.end,Ke);!pe.extend&&ot>Gt&&(j=Gt,Gt=ot,ot=j);var ie=iE(U,ot),te=iE(U,Gt);if(ie&&te&&(pe.rangeCount!==1||pe.anchorNode!==ie.node||pe.anchorOffset!==ie.offset||pe.focusNode!==te.node||pe.focusOffset!==te.offset)){var le=ve.createRange();le.setStart(ie.node,ie.offset),pe.removeAllRanges(),ot>Gt?(pe.addRange(le),pe.extend(te.node,te.offset)):(le.setEnd(te.node,te.offset),pe.addRange(le))}}}}for(ve=[],pe=U;pe=pe.parentNode;)pe.nodeType===1&&ve.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<ve.length;U++){var ye=ve[U];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}bg=!!F_,V_=F_=null}finally{zt=_,Y.p=g,I.T=d}}o.current=l,Pn=2}}function w5(){if(Pn===2){Pn=0;var o=no,l=Gc,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=I.T,I.T=null;var g=Y.p;Y.p=2;var _=zt;zt|=4;try{ZA(o,l.alternate,l)}finally{zt=_,Y.p=g,I.T=d}}Pn=3}}function S5(){if(Pn===4||Pn===3){Pn=0,je();var o=no,l=Gc,d=da,g=c5;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Pn=5:(Pn=0,Gc=no=null,k5(o,o.pendingLanes));var _=o.pendingLanes;if(_===0&&(to=null),Zb(d),l=l.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(ae,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=I.T,_=Y.p,Y.p=2,I.T=null;try{for(var w=o.onRecoverableError,j=0;j<g.length;j++){var U=g[j];w(U.value,{componentStack:U.stack})}}finally{I.T=l,Y.p=_}}(da&3)!==0&&og(),ki(o),_=o.pendingLanes,(d&261930)!==0&&(_&42)!==0?o===T_?dd++:(dd=0,T_=o):dd=0,fd(0)}}function k5(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Wh(l)))}function og(){return x5(),w5(),S5(),C5()}function C5(){if(Pn!==5)return!1;var o=no,l=A_;A_=0;var d=Zb(da),g=I.T,_=Y.p;try{Y.p=32>d?32:d,I.T=null,d=j_,j_=null;var w=no,j=da;if(Pn=0,Gc=no=null,da=0,(zt&6)!==0)throw Error(s(331));var U=zt;if(zt|=4,a5(w.current),s5(w,w.current,j,d),zt=U,fd(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(ae,w)}catch{}return!0}finally{Y.p=_,I.T=g,k5(o,l)}}function N5(o,l,d){l=Dr(d,l),l=l_(o.stateNode,l,2),o=Ya(o,l,2),o!==null&&(Wo(o,2),ki(o))}function Ft(o,l,d){if(o.tag===3)N5(o,o,d);else for(;l!==null;){if(l.tag===3){N5(l,o,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(to===null||!to.has(g))){o=Dr(d,o),d=EA(2),g=Ya(l,d,2),g!==null&&(AA(d,g,l,o),Wo(g,2),ki(g));break}}l=l.return}}function M_(o,l,d){var g=o.pingCache;if(g===null){g=o.pingCache=new j7;var _=new Set;g.set(l,_)}else _=g.get(l),_===void 0&&(_=new Set,g.set(l,_));_.has(d)||(C_=!0,_.add(d),o=D7.bind(null,o,l,d),l.then(o,o))}function D7(o,l,d){var g=o.pingCache;g!==null&&g.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Xt===o&&(Tt&d)===d&&(bn===4||bn===3&&(Tt&62914560)===Tt&&300>Le()-tg?(zt&2)===0&&Yc(o,0):N_|=d,Wc===Tt&&(Wc=0)),ki(o)}function E5(o,l){l===0&&(l=Us()),o=Jo(o,l),o!==null&&(Wo(o,l),ki(o))}function B7(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),E5(o,d)}function L7(o,l){var d=0;switch(o.tag){case 31:case 13:var g=o.stateNode,_=o.memoizedState;_!==null&&(d=_.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(s(314))}g!==null&&g.delete(l),E5(o,d)}function I7(o,l){return Zt(o,l)}var lg=null,Xc=null,D_=!1,cg=!1,B_=!1,ro=0;function ki(o){o!==Xc&&o.next===null&&(Xc===null?lg=Xc=o:Xc=Xc.next=o),cg=!0,D_||(D_=!0,$7())}function fd(o,l){if(!B_&&cg){B_=!0;do for(var d=!1,g=lg;g!==null;){if(o!==0){var _=g.pendingLanes;if(_===0)var w=0;else{var j=g.suspendedLanes,U=g.pingedLanes;w=(1<<31-me(42|o)+1)-1,w&=_&~(j&~U),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,R5(g,w))}else w=Tt,w=bt(g,g===Xt?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||$t(g,w)||(d=!0,R5(g,w));g=g.next}while(d);B_=!1}}function P7(){A5()}function A5(){cg=D_=!1;var o=0;ro!==0&&Y7()&&(o=ro);for(var l=Le(),d=null,g=lg;g!==null;){var _=g.next,w=j5(g,l);w===0?(g.next=null,d===null?lg=_:d.next=_,_===null&&(Xc=d)):(d=g,(o!==0||(w&3)!==0)&&(cg=!0)),g=_}Pn!==0&&Pn!==5||fd(o),ro!==0&&(ro=0)}function j5(o,l){for(var d=o.suspendedLanes,g=o.pingedLanes,_=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var j=31-me(w),U=1<<j,ee=_[j];ee===-1?((U&d)===0||(U&g)!==0)&&(_[j]=fn(U,l)):ee<=l&&(o.expiredLanes|=U),w&=~U}if(l=Xt,d=Tt,d=bt(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,d===0||o===l&&(Ht===2||Ht===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&Ye(g),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||$t(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(g!==null&&Ye(g),Zb(d)){case 2:case 8:d=xe;break;case 32:d=Ze;break;case 268435456:d=pt;break;default:d=Ze}return g=T5.bind(null,o),d=Zt(d,g),o.callbackPriority=l,o.callbackNode=d,l}return g!==null&&g!==null&&Ye(g),o.callbackPriority=2,o.callbackNode=null,2}function T5(o,l){if(Pn!==0&&Pn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(og()&&o.callbackNode!==d)return null;var g=Tt;return g=bt(o,o===Xt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(h5(o,g,l),j5(o,Le()),o.callbackNode!=null&&o.callbackNode===d?T5.bind(null,o):null)}function R5(o,l){if(og())return null;h5(o,l,!0)}function $7(){X7(function(){(zt&6)!==0?Zt(fe,P7):A5()})}function L_(){if(ro===0){var o=Lc;o===0&&(o=Oe,Oe<<=1,(Oe&261888)===0&&(Oe=256)),ro=o}return ro}function O5(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ym(""+o)}function M5(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function z7(o,l,d,g,_){if(l==="submit"&&d&&d.stateNode===_){var w=O5((_[Hs]||null).action),j=g.submitter;j&&(l=(l=j[Hs]||null)?O5(l.formAction):j.getAttribute("formAction"),l!==null&&(w=l,j=null));var U=new xm("action","action",null,g,_);o.push({event:U,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ro!==0){var ee=j?M5(_,j):new FormData(_);n_(d,{pending:!0,data:ee,method:_.method,action:w},null,ee)}}else typeof w=="function"&&(U.preventDefault(),ee=j?M5(_,j):new FormData(_),n_(d,{pending:!0,data:ee,method:_.method,action:w},w,ee))},currentTarget:_}]})}}for(var I_=0;I_<b1.length;I_++){var P_=b1[I_],U7=P_.toLowerCase(),H7=P_[0].toUpperCase()+P_.slice(1);ii(U7,"on"+H7)}ii(uE,"onAnimationEnd"),ii(hE,"onAnimationIteration"),ii(dE,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(r7,"onTransitionRun"),ii(i7,"onTransitionStart"),ii(a7,"onTransitionCancel"),ii(fE,"onTransitionEnd"),wc("onMouseEnter",["mouseout","mouseover"]),wc("onMouseLeave",["mouseout","mouseover"]),wc("onPointerEnter",["pointerout","pointerover"]),wc("onPointerLeave",["pointerout","pointerover"]),Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Go("onBeforeInput",["compositionend","keypress","textInput","paste"]),Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pd));function D5(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],_=g.event;g=g.listeners;e:{var w=void 0;if(l)for(var j=g.length-1;0<=j;j--){var U=g[j],ee=U.instance,ce=U.currentTarget;if(U=U.listener,ee!==w&&_.isPropagationStopped())break e;w=U,_.currentTarget=ce;try{w(_)}catch(ge){km(ge)}_.currentTarget=null,w=ee}else for(j=0;j<g.length;j++){if(U=g[j],ee=U.instance,ce=U.currentTarget,U=U.listener,ee!==w&&_.isPropagationStopped())break e;w=U,_.currentTarget=ce;try{w(_)}catch(ge){km(ge)}_.currentTarget=null,w=ee}}}}function Et(o,l){var d=l[Xb];d===void 0&&(d=l[Xb]=new Set);var g=o+"__bubble";d.has(g)||(B5(l,o,2,!1),d.add(g))}function $_(o,l,d){var g=0;l&&(g|=4),B5(d,o,g,l)}var ug="_reactListening"+Math.random().toString(36).slice(2);function z_(o){if(!o[ug]){o[ug]=!0,A4.forEach(function(d){d!=="selectionchange"&&(F7.has(d)||$_(d,!1,o),$_(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[ug]||(l[ug]=!0,$_("selectionchange",!1,l))}}function B5(o,l,d,g){switch(u3(l)){case 2:var _=y9;break;case 8:_=v9;break;default:_=tx}d=_.bind(null,l,d,o),_=void 0,!a1||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),g?_!==void 0?o.addEventListener(l,d,{capture:!0,passive:_}):o.addEventListener(l,d,!0):_!==void 0?o.addEventListener(l,d,{passive:_}):o.addEventListener(l,d,!1)}function U_(o,l,d,g,_){var w=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var j=g.tag;if(j===3||j===4){var U=g.stateNode.containerInfo;if(U===_)break;if(j===4)for(j=g.return;j!==null;){var ee=j.tag;if((ee===3||ee===4)&&j.stateNode.containerInfo===_)return;j=j.return}for(;U!==null;){if(j=bc(U),j===null)return;if(ee=j.tag,ee===5||ee===6||ee===26||ee===27){g=w=j;continue e}U=U.parentNode}}g=g.return}z4(function(){var ce=w,ge=r1(d),ve=[];e:{var he=pE.get(o);if(he!==void 0){var pe=xm,Ke=o;switch(o){case"keypress":if(bm(d)===0)break e;case"keydown":case"keyup":pe=Lz;break;case"focusin":Ke="focus",pe=u1;break;case"focusout":Ke="blur",pe=u1;break;case"beforeblur":case"afterblur":pe=u1;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=F4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=kz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=$z;break;case uE:case hE:case dE:pe=Ez;break;case fE:pe=Uz;break;case"scroll":case"scrollend":pe=wz;break;case"wheel":pe=Fz;break;case"copy":case"cut":case"paste":pe=jz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=q4;break;case"toggle":case"beforetoggle":pe=qz}var ot=(l&4)!==0,Gt=!ot&&(o==="scroll"||o==="scrollend"),ie=ot?he!==null?he+"Capture":null:he;ot=[];for(var te=ce,le;te!==null;){var ye=te;if(le=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||le===null||ie===null||(ye=Lh(te,ie),ye!=null&&ot.push(md(te,ye,le))),Gt)break;te=te.return}0<ot.length&&(he=new pe(he,Ke,null,d,ge),ve.push({event:he,listeners:ot}))}}if((l&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",pe=o==="mouseout"||o==="pointerout",he&&d!==s1&&(Ke=d.relatedTarget||d.fromElement)&&(bc(Ke)||Ke[vc]))break e;if((pe||he)&&(he=ge.window===ge?ge:(he=ge.ownerDocument)?he.defaultView||he.parentWindow:window,pe?(Ke=d.relatedTarget||d.toElement,pe=ce,Ke=Ke?bc(Ke):null,Ke!==null&&(Gt=i(Ke),ot=Ke.tag,Ke!==Gt||ot!==5&&ot!==27&&ot!==6)&&(Ke=null)):(pe=null,Ke=ce),pe!==Ke)){if(ot=F4,ye="onMouseLeave",ie="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&(ot=q4,ye="onPointerLeave",ie="onPointerEnter",te="pointer"),Gt=pe==null?he:Bh(pe),le=Ke==null?he:Bh(Ke),he=new ot(ye,te+"leave",pe,d,ge),he.target=Gt,he.relatedTarget=le,ye=null,bc(ge)===ce&&(ot=new ot(ie,te+"enter",Ke,d,ge),ot.target=le,ot.relatedTarget=Gt,ye=ot),Gt=ye,pe&&Ke)t:{for(ot=V7,ie=pe,te=Ke,le=0,ye=ie;ye;ye=ot(ye))le++;ye=0;for(var nt=te;nt;nt=ot(nt))ye++;for(;0<le-ye;)ie=ot(ie),le--;for(;0<ye-le;)te=ot(te),ye--;for(;le--;){if(ie===te||te!==null&&ie===te.alternate){ot=ie;break t}ie=ot(ie),te=ot(te)}ot=null}else ot=null;pe!==null&&L5(ve,he,pe,ot,!1),Ke!==null&&Gt!==null&&L5(ve,Gt,Ke,ot,!0)}}e:{if(he=ce?Bh(ce):window,pe=he.nodeName&&he.nodeName.toLowerCase(),pe==="select"||pe==="input"&&he.type==="file")var Lt=Q4;else if(X4(he))if(eE)Lt=t7;else{Lt=Qz;var Je=Jz}else pe=he.nodeName,!pe||pe.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ce&&n1(ce.elementType)&&(Lt=Q4):Lt=e7;if(Lt&&(Lt=Lt(o,ce))){J4(ve,Lt,d,ge);break e}Je&&Je(o,he,ce),o==="focusout"&&ce&&he.type==="number"&&ce.memoizedProps.value!=null&&t1(he,"number",he.value)}switch(Je=ce?Bh(ce):window,o){case"focusin":(X4(Je)||Je.contentEditable==="true")&&(Ac=Je,g1=ce,Vh=null);break;case"focusout":Vh=g1=Ac=null;break;case"mousedown":y1=!0;break;case"contextmenu":case"mouseup":case"dragend":y1=!1,lE(ve,d,ge);break;case"selectionchange":if(s7)break;case"keydown":case"keyup":lE(ve,d,ge)}var _t;if(d1)e:{switch(o){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else Ec?Y4(o,d)&&(Rt="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Rt="onCompositionStart");Rt&&(K4&&d.locale!=="ko"&&(Ec||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&Ec&&(_t=U4()):(Ha=ge,o1="value"in Ha?Ha.value:Ha.textContent,Ec=!0)),Je=hg(ce,Rt),0<Je.length&&(Rt=new V4(Rt,o,null,d,ge),ve.push({event:Rt,listeners:Je}),_t?Rt.data=_t:(_t=Z4(d),_t!==null&&(Rt.data=_t)))),(_t=Wz?Gz(o,d):Yz(o,d))&&(Rt=hg(ce,"onBeforeInput"),0<Rt.length&&(Je=new V4("onBeforeInput","beforeinput",null,d,ge),ve.push({event:Je,listeners:Rt}),Je.data=_t)),z7(ve,o,ce,d,ge)}D5(ve,l)})}function md(o,l,d){return{instance:o,listener:l,currentTarget:d}}function hg(o,l){for(var d=l+"Capture",g=[];o!==null;){var _=o,w=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||w===null||(_=Lh(o,d),_!=null&&g.unshift(md(o,_,w)),_=Lh(o,l),_!=null&&g.push(md(o,_,w))),o.tag===3)return g;o=o.return}return[]}function V7(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function L5(o,l,d,g,_){for(var w=l._reactName,j=[];d!==null&&d!==g;){var U=d,ee=U.alternate,ce=U.stateNode;if(U=U.tag,ee!==null&&ee===g)break;U!==5&&U!==26&&U!==27||ce===null||(ee=ce,_?(ce=Lh(d,w),ce!=null&&j.unshift(md(d,ce,ee))):_||(ce=Lh(d,w),ce!=null&&j.push(md(d,ce,ee)))),d=d.return}j.length!==0&&o.push({event:l,listeners:j})}var q7=/\r\n?/g,K7=/\u0000|\uFFFD/g;function I5(o){return(typeof o=="string"?o:""+o).replace(q7,`
`).replace(K7,"")}function P5(o,l){return l=I5(l),I5(o)===l}function Wt(o,l,d,g,_,w){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||kc(o,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&kc(o,""+g);break;case"className":mm(o,"class",g);break;case"tabIndex":mm(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":mm(o,d,g);break;case"style":P4(o,g,w);break;case"data":if(l!=="object"){mm(o,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(d);break}g=ym(""+g),o.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&Wt(o,l,"name",_.name,_,null),Wt(o,l,"formEncType",_.formEncType,_,null),Wt(o,l,"formMethod",_.formMethod,_,null),Wt(o,l,"formTarget",_.formTarget,_,null)):(Wt(o,l,"encType",_.encType,_,null),Wt(o,l,"method",_.method,_,null),Wt(o,l,"target",_.target,_,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(d);break}g=ym(""+g),o.setAttribute(d,g);break;case"onClick":g!=null&&(o.onclick=Xi);break;case"onScroll":g!=null&&Et("scroll",o);break;case"onScrollEnd":g!=null&&Et("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(s(61));if(d=g.__html,d!=null){if(_.children!=null)throw Error(s(60));o.innerHTML=d}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}d=ym(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,""+g):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":g===!0?o.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,g):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(d,g):o.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(d):o.setAttribute(d,g);break;case"popover":Et("beforetoggle",o),Et("toggle",o),pm(o,"popover",g);break;case"xlinkActuate":Zi(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Zi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Zi(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Zi(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Zi(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Zi(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Zi(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Zi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Zi(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":pm(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=_z.get(d)||d,pm(o,d,g))}}function H_(o,l,d,g,_,w){switch(d){case"style":P4(o,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(s(61));if(d=g.__html,d!=null){if(_.children!=null)throw Error(s(60));o.innerHTML=d}}break;case"children":typeof g=="string"?kc(o,g):(typeof g=="number"||typeof g=="bigint")&&kc(o,""+g);break;case"onScroll":g!=null&&Et("scroll",o);break;case"onScrollEnd":g!=null&&Et("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!j4.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),l=d.slice(2,_?d.length-7:void 0),w=o[Hs]||null,w=w!=null?w[d]:null,typeof w=="function"&&o.removeEventListener(l,w,_),typeof g=="function")){typeof w!="function"&&w!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,g,_);break e}d in o?o[d]=g:g===!0?o.setAttribute(d,""):pm(o,d,g)}}}function os(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",o),Et("load",o);var g=!1,_=!1,w;for(w in d)if(d.hasOwnProperty(w)){var j=d[w];if(j!=null)switch(w){case"src":g=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Wt(o,l,w,j,d,null)}}_&&Wt(o,l,"srcSet",d.srcSet,d,null),g&&Wt(o,l,"src",d.src,d,null);return;case"input":Et("invalid",o);var U=w=j=_=null,ee=null,ce=null;for(g in d)if(d.hasOwnProperty(g)){var ge=d[g];if(ge!=null)switch(g){case"name":_=ge;break;case"type":j=ge;break;case"checked":ee=ge;break;case"defaultChecked":ce=ge;break;case"value":w=ge;break;case"defaultValue":U=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,l));break;default:Wt(o,l,g,ge,d,null)}}D4(o,w,U,ee,ce,j,_,!1);return;case"select":Et("invalid",o),g=j=w=null;for(_ in d)if(d.hasOwnProperty(_)&&(U=d[_],U!=null))switch(_){case"value":w=U;break;case"defaultValue":j=U;break;case"multiple":g=U;default:Wt(o,l,_,U,d,null)}l=w,d=j,o.multiple=!!g,l!=null?Sc(o,!!g,l,!1):d!=null&&Sc(o,!!g,d,!0);return;case"textarea":Et("invalid",o),w=_=g=null;for(j in d)if(d.hasOwnProperty(j)&&(U=d[j],U!=null))switch(j){case"value":g=U;break;case"defaultValue":_=U;break;case"children":w=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(91));break;default:Wt(o,l,j,U,d,null)}L4(o,g,_,w);return;case"option":for(ee in d)d.hasOwnProperty(ee)&&(g=d[ee],g!=null)&&(ee==="selected"?o.selected=g&&typeof g!="function"&&typeof g!="symbol":Wt(o,l,ee,g,d,null));return;case"dialog":Et("beforetoggle",o),Et("toggle",o),Et("cancel",o),Et("close",o);break;case"iframe":case"object":Et("load",o);break;case"video":case"audio":for(g=0;g<pd.length;g++)Et(pd[g],o);break;case"image":Et("error",o),Et("load",o);break;case"details":Et("toggle",o);break;case"embed":case"source":case"link":Et("error",o),Et("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in d)if(d.hasOwnProperty(ce)&&(g=d[ce],g!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Wt(o,l,ce,g,d,null)}return;default:if(n1(l)){for(ge in d)d.hasOwnProperty(ge)&&(g=d[ge],g!==void 0&&H_(o,l,ge,g,d,void 0));return}}for(U in d)d.hasOwnProperty(U)&&(g=d[U],g!=null&&Wt(o,l,U,g,d,null))}function W7(o,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,w=null,j=null,U=null,ee=null,ce=null,ge=null;for(pe in d){var ve=d[pe];if(d.hasOwnProperty(pe)&&ve!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":ee=ve;default:g.hasOwnProperty(pe)||Wt(o,l,pe,null,g,ve)}}for(var he in g){var pe=g[he];if(ve=d[he],g.hasOwnProperty(he)&&(pe!=null||ve!=null))switch(he){case"type":w=pe;break;case"name":_=pe;break;case"checked":ce=pe;break;case"defaultChecked":ge=pe;break;case"value":j=pe;break;case"defaultValue":U=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,l));break;default:pe!==ve&&Wt(o,l,he,pe,g,ve)}}e1(o,j,U,ee,ce,ge,w,_);return;case"select":pe=j=U=he=null;for(w in d)if(ee=d[w],d.hasOwnProperty(w)&&ee!=null)switch(w){case"value":break;case"multiple":pe=ee;default:g.hasOwnProperty(w)||Wt(o,l,w,null,g,ee)}for(_ in g)if(w=g[_],ee=d[_],g.hasOwnProperty(_)&&(w!=null||ee!=null))switch(_){case"value":he=w;break;case"defaultValue":U=w;break;case"multiple":j=w;default:w!==ee&&Wt(o,l,_,w,g,ee)}l=U,d=j,g=pe,he!=null?Sc(o,!!d,he,!1):!!g!=!!d&&(l!=null?Sc(o,!!d,l,!0):Sc(o,!!d,d?[]:"",!1));return;case"textarea":pe=he=null;for(U in d)if(_=d[U],d.hasOwnProperty(U)&&_!=null&&!g.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Wt(o,l,U,null,g,_)}for(j in g)if(_=g[j],w=d[j],g.hasOwnProperty(j)&&(_!=null||w!=null))switch(j){case"value":he=_;break;case"defaultValue":pe=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:_!==w&&Wt(o,l,j,_,g,w)}B4(o,he,pe);return;case"option":for(var Ke in d)he=d[Ke],d.hasOwnProperty(Ke)&&he!=null&&!g.hasOwnProperty(Ke)&&(Ke==="selected"?o.selected=!1:Wt(o,l,Ke,null,g,he));for(ee in g)he=g[ee],pe=d[ee],g.hasOwnProperty(ee)&&he!==pe&&(he!=null||pe!=null)&&(ee==="selected"?o.selected=he&&typeof he!="function"&&typeof he!="symbol":Wt(o,l,ee,he,g,pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in d)he=d[ot],d.hasOwnProperty(ot)&&he!=null&&!g.hasOwnProperty(ot)&&Wt(o,l,ot,null,g,he);for(ce in g)if(he=g[ce],pe=d[ce],g.hasOwnProperty(ce)&&he!==pe&&(he!=null||pe!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,l));break;default:Wt(o,l,ce,he,g,pe)}return;default:if(n1(l)){for(var Gt in d)he=d[Gt],d.hasOwnProperty(Gt)&&he!==void 0&&!g.hasOwnProperty(Gt)&&H_(o,l,Gt,void 0,g,he);for(ge in g)he=g[ge],pe=d[ge],!g.hasOwnProperty(ge)||he===pe||he===void 0&&pe===void 0||H_(o,l,ge,he,g,pe);return}}for(var ie in d)he=d[ie],d.hasOwnProperty(ie)&&he!=null&&!g.hasOwnProperty(ie)&&Wt(o,l,ie,null,g,he);for(ve in g)he=g[ve],pe=d[ve],!g.hasOwnProperty(ve)||he===pe||he==null&&pe==null||Wt(o,l,ve,he,g,pe)}function $5(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G7(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var _=d[g],w=_.transferSize,j=_.initiatorType,U=_.duration;if(w&&U&&$5(j)){for(j=0,U=_.responseEnd,g+=1;g<d.length;g++){var ee=d[g],ce=ee.startTime;if(ce>U)break;var ge=ee.transferSize,ve=ee.initiatorType;ge&&$5(ve)&&(ee=ee.responseEnd,j+=ge*(ee<U?1:(U-ce)/(ee-ce)))}if(--g,l+=8*(w+j)/(_.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var F_=null,V_=null;function dg(o){return o.nodeType===9?o:o.ownerDocument}function z5(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U5(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function q_(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var K_=null;function Y7(){var o=window.event;return o&&o.type==="popstate"?o===K_?!1:(K_=o,!0):(K_=null,!1)}var H5=typeof setTimeout=="function"?setTimeout:void 0,Z7=typeof clearTimeout=="function"?clearTimeout:void 0,F5=typeof Promise=="function"?Promise:void 0,X7=typeof queueMicrotask=="function"?queueMicrotask:typeof F5<"u"?function(o){return F5.resolve(null).then(o).catch(J7)}:H5;function J7(o){setTimeout(function(){throw o})}function io(o){return o==="head"}function V5(o,l){var d=l,g=0;do{var _=d.nextSibling;if(o.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"||d==="/&"){if(g===0){o.removeChild(_),tu(l);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")gd(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,gd(d);for(var w=d.firstChild;w;){var j=w.nextSibling,U=w.nodeName;w[Dh]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=j}}else d==="body"&&gd(o.ownerDocument.body);d=_}while(d);tu(l)}function q5(o,l){var d=o;o=0;do{var g=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=g}while(d)}function W_(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":W_(d),Jb(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function Q7(o,l,d,g){for(;o.nodeType===1;){var _=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Dh])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==_.rel||o.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||o.getAttribute("title")!==(_.title==null?null:_.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(_.src==null?null:_.src)||o.getAttribute("type")!==(_.type==null?null:_.type)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var w=_.name==null?null:""+_.name;if(_.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=$r(o.nextSibling),o===null)break}return null}function e9(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=$r(o.nextSibling),o===null))return null;return o}function K5(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=$r(o.nextSibling),o===null))return null;return o}function G_(o){return o.data==="$?"||o.data==="$~"}function Y_(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function t9(o,l){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||d.readyState!=="loading")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function $r(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var Z_=null;function W5(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(l===0)return $r(o.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}o=o.nextSibling}return null}function G5(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return o;l--}else d!=="/$"&&d!=="/&"||l++}o=o.previousSibling}return null}function Y5(o,l,d){switch(l=dg(d),o){case"html":if(o=l.documentElement,!o)throw Error(s(452));return o;case"head":if(o=l.head,!o)throw Error(s(453));return o;case"body":if(o=l.body,!o)throw Error(s(454));return o;default:throw Error(s(451))}}function gd(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Jb(o)}var zr=new Map,Z5=new Set;function fg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var fa=Y.d;Y.d={f:n9,r:s9,D:r9,C:i9,L:a9,m:o9,X:c9,S:l9,M:u9};function n9(){var o=fa.f(),l=rg();return o||l}function s9(o){var l=_c(o);l!==null&&l.tag===5&&l.type==="form"?fA(l):fa.r(o)}var Jc=typeof document>"u"?null:document;function X5(o,l,d){var g=Jc;if(g&&typeof l=="string"&&l){var _=Or(l);_='link[rel="'+o+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),Z5.has(_)||(Z5.add(_),o={rel:o,crossOrigin:d,href:l},g.querySelector(_)===null&&(l=g.createElement("link"),os(l,"link",o),Yn(l),g.head.appendChild(l)))}}function r9(o){fa.D(o),X5("dns-prefetch",o,null)}function i9(o,l){fa.C(o,l),X5("preconnect",o,l)}function a9(o,l,d){fa.L(o,l,d);var g=Jc;if(g&&o&&l){var _='link[rel="preload"][as="'+Or(l)+'"]';l==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+Or(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+Or(d.imageSizes)+'"]')):_+='[href="'+Or(o)+'"]';var w=_;switch(l){case"style":w=Qc(o);break;case"script":w=eu(o)}zr.has(w)||(o=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),zr.set(w,o),g.querySelector(_)!==null||l==="style"&&g.querySelector(yd(w))||l==="script"&&g.querySelector(vd(w))||(l=g.createElement("link"),os(l,"link",o),Yn(l),g.head.appendChild(l)))}}function o9(o,l){fa.m(o,l);var d=Jc;if(d&&o){var g=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+Or(g)+'"][href="'+Or(o)+'"]',w=_;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=eu(o)}if(!zr.has(w)&&(o=p({rel:"modulepreload",href:o},l),zr.set(w,o),d.querySelector(_)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(vd(w)))return}g=d.createElement("link"),os(g,"link",o),Yn(g),d.head.appendChild(g)}}}function l9(o,l,d){fa.S(o,l,d);var g=Jc;if(g&&o){var _=xc(g).hoistableStyles,w=Qc(o);l=l||"default";var j=_.get(w);if(!j){var U={loading:0,preload:null};if(j=g.querySelector(yd(w)))U.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},d),(d=zr.get(w))&&X_(o,d);var ee=j=g.createElement("link");Yn(ee),os(ee,"link",o),ee._p=new Promise(function(ce,ge){ee.onload=ce,ee.onerror=ge}),ee.addEventListener("load",function(){U.loading|=1}),ee.addEventListener("error",function(){U.loading|=2}),U.loading|=4,pg(j,l,g)}j={type:"stylesheet",instance:j,count:1,state:U},_.set(w,j)}}}function c9(o,l){fa.X(o,l);var d=Jc;if(d&&o){var g=xc(d).hoistableScripts,_=eu(o),w=g.get(_);w||(w=d.querySelector(vd(_)),w||(o=p({src:o,async:!0},l),(l=zr.get(_))&&J_(o,l),w=d.createElement("script"),Yn(w),os(w,"link",o),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(_,w))}}function u9(o,l){fa.M(o,l);var d=Jc;if(d&&o){var g=xc(d).hoistableScripts,_=eu(o),w=g.get(_);w||(w=d.querySelector(vd(_)),w||(o=p({src:o,async:!0,type:"module"},l),(l=zr.get(_))&&J_(o,l),w=d.createElement("script"),Yn(w),os(w,"link",o),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(_,w))}}function J5(o,l,d,g){var _=(_=Z.current)?fg(_):null;if(!_)throw Error(s(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Qc(d.href),d=xc(_).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Qc(d.href);var w=xc(_).hoistableStyles,j=w.get(o);if(j||(_=_.ownerDocument||_,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,j),(w=_.querySelector(yd(o)))&&!w._p&&(j.instance=w,j.state.loading=5),zr.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},zr.set(o,d),w||h9(_,o,d,j.state))),l&&g===null)throw Error(s(528,""));return j}if(l&&g!==null)throw Error(s(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=eu(d),d=xc(_).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,o))}}function Qc(o){return'href="'+Or(o)+'"'}function yd(o){return'link[rel="stylesheet"]['+o+"]"}function Q5(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function h9(o,l,d,g){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=o.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),os(l,"link",d),Yn(l),o.head.appendChild(l))}function eu(o){return'[src="'+Or(o)+'"]'}function vd(o){return"script[async]"+o}function e3(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=o.querySelector('style[data-href~="'+Or(d.href)+'"]');if(g)return l.instance=g,Yn(g),g;var _=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Yn(g),os(g,"style",_),pg(g,d.precedence,o),l.instance=g;case"stylesheet":_=Qc(d.href);var w=o.querySelector(yd(_));if(w)return l.state.loading|=4,l.instance=w,Yn(w),w;g=Q5(d),(_=zr.get(_))&&X_(g,_),w=(o.ownerDocument||o).createElement("link"),Yn(w);var j=w;return j._p=new Promise(function(U,ee){j.onload=U,j.onerror=ee}),os(w,"link",g),l.state.loading|=4,pg(w,d.precedence,o),l.instance=w;case"script":return w=eu(d.src),(_=o.querySelector(vd(w)))?(l.instance=_,Yn(_),_):(g=d,(_=zr.get(w))&&(g=p({},d),J_(g,_)),o=o.ownerDocument||o,_=o.createElement("script"),Yn(_),os(_,"link",g),o.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,pg(g,d.precedence,o));return l.instance}function pg(o,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=g.length?g[g.length-1]:null,w=_,j=0;j<g.length;j++){var U=g[j];if(U.dataset.precedence===l)w=U;else if(w!==_)break}w?w.parentNode.insertBefore(o,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function X_(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function J_(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var mg=null;function t3(o,l,d){if(mg===null){var g=new Map,_=mg=new Map;_.set(d,g)}else _=mg,g=_.get(d),g||(g=new Map,_.set(d,g));if(g.has(o))return g;for(g.set(o,null),d=d.getElementsByTagName(o),_=0;_<d.length;_++){var w=d[_];if(!(w[Dh]||w[ss]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var j=w.getAttribute(l)||"";j=o+j;var U=g.get(j);U?U.push(w):g.set(j,[w])}}return g}function n3(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function d9(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(o=l.disabled,typeof l.precedence=="string"&&o==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function s3(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function f9(o,l,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var _=Qc(g.href),w=l.querySelector(yd(_));if(w){l=w._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=gg.bind(o),l.then(o,o)),d.state.loading|=4,d.instance=w,Yn(w);return}w=l.ownerDocument||l,g=Q5(g),(_=zr.get(_))&&X_(g,_),w=w.createElement("link"),Yn(w);var j=w;j._p=new Promise(function(U,ee){j.onload=U,j.onerror=ee}),os(w,"link",g),d.instance=w}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=gg.bind(o),l.addEventListener("load",d),l.addEventListener("error",d))}}var Q_=0;function p9(o,l){return o.stylesheets&&o.count===0&&vg(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var g=setTimeout(function(){if(o.stylesheets&&vg(o,o.stylesheets),o.unsuspend){var w=o.unsuspend;o.unsuspend=null,w()}},6e4+l);0<o.imgBytes&&Q_===0&&(Q_=62500*G7());var _=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&vg(o,o.stylesheets),o.unsuspend)){var w=o.unsuspend;o.unsuspend=null,w()}},(o.imgBytes>Q_?50:800)+l);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(_)}}:null}function gg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var yg=null;function vg(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,yg=new Map,l.forEach(m9,o),yg=null,gg.call(o))}function m9(o,l){if(!(l.state.loading&4)){var d=yg.get(o);if(d)var g=d.get(null);else{d=new Map,yg.set(o,d);for(var _=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<_.length;w++){var j=_[w];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(d.set(j.dataset.precedence,j),g=j)}g&&d.set(null,g)}_=l.instance,j=_.getAttribute("data-precedence"),w=d.get(j)||g,w===g&&d.set(null,_),d.set(j,_),this.count++,g=gg.bind(this),_.addEventListener("load",g),_.addEventListener("error",g),w?w.parentNode.insertBefore(_,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(_,o.firstChild)),l.state.loading|=4}}var bd={$$typeof:N,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function g9(o,l,d,g,_,w,j,U,ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yc(0),this.hiddenUpdates=yc(null),this.identifierPrefix=g,this.onUncaughtError=_,this.onCaughtError=w,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function r3(o,l,d,g,_,w,j,U,ee,ce,ge,ve){return o=new g9(o,l,d,j,ee,ce,ge,ve,U),l=1,w===!0&&(l|=24),w=or(3,null,null,l),o.current=w,w.stateNode=o,l=O1(),l.refCount++,o.pooledCache=l,l.refCount++,w.memoizedState={element:g,isDehydrated:d,cache:l},L1(w),o}function i3(o){return o?(o=Rc,o):Rc}function a3(o,l,d,g,_,w){_=i3(_),g.context===null?g.context=_:g.pendingContext=_,g=Ga(l),g.payload={element:d},w=w===void 0?null:w,w!==null&&(g.callback=w),d=Ya(o,g,l),d!==null&&(Gs(d,o,l),Xh(d,o,l))}function o3(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function ex(o,l){o3(o,l),(o=o.alternate)&&o3(o,l)}function l3(o){if(o.tag===13||o.tag===31){var l=Jo(o,67108864);l!==null&&Gs(l,o,67108864),ex(o,67108864)}}function c3(o){if(o.tag===13||o.tag===31){var l=dr();l=Yb(l);var d=Jo(o,l);d!==null&&Gs(d,o,l),ex(o,l)}}var bg=!0;function y9(o,l,d,g){var _=I.T;I.T=null;var w=Y.p;try{Y.p=2,tx(o,l,d,g)}finally{Y.p=w,I.T=_}}function v9(o,l,d,g){var _=I.T;I.T=null;var w=Y.p;try{Y.p=8,tx(o,l,d,g)}finally{Y.p=w,I.T=_}}function tx(o,l,d,g){if(bg){var _=nx(g);if(_===null)U_(o,l,g,_g,d),h3(o,g);else if(_9(_,o,l,d,g))g.stopPropagation();else if(h3(o,g),l&4&&-1<b9.indexOf(o)){for(;_!==null;){var w=_c(_);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var j=Fe(w.pendingLanes);if(j!==0){var U=w;for(U.pendingLanes|=2,U.entangledLanes|=2;j;){var ee=1<<31-me(j);U.entanglements[1]|=ee,j&=~ee}ki(w),(zt&6)===0&&(ng=Le()+500,fd(0))}}break;case 31:case 13:U=Jo(w,2),U!==null&&Gs(U,w,2),rg(),ex(w,2)}if(w=nx(g),w===null&&U_(o,l,g,_g,d),w===_)break;_=w}_!==null&&g.stopPropagation()}else U_(o,l,g,null,d)}}function nx(o){return o=r1(o),sx(o)}var _g=null;function sx(o){if(_g=null,o=bc(o),o!==null){var l=i(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=a(l),o!==null)return o;o=null}else if(d===31){if(o=c(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return _g=o,null}function u3(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ct()){case fe:return 2;case xe:return 8;case Ze:case rt:return 32;case pt:return 268435456;default:return 32}default:return 32}}var rx=!1,ao=null,oo=null,lo=null,_d=new Map,xd=new Map,co=[],b9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h3(o,l){switch(o){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":_d.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xd.delete(l.pointerId)}}function wd(o,l,d,g,_,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:w,targetContainers:[_]},l!==null&&(l=_c(l),l!==null&&l3(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function _9(o,l,d,g,_){switch(l){case"focusin":return ao=wd(ao,o,l,d,g,_),!0;case"dragenter":return oo=wd(oo,o,l,d,g,_),!0;case"mouseover":return lo=wd(lo,o,l,d,g,_),!0;case"pointerover":var w=_.pointerId;return _d.set(w,wd(_d.get(w)||null,o,l,d,g,_)),!0;case"gotpointercapture":return w=_.pointerId,xd.set(w,wd(xd.get(w)||null,o,l,d,g,_)),!0}return!1}function d3(o){var l=bc(o.target);if(l!==null){var d=i(l);if(d!==null){if(l=d.tag,l===13){if(l=a(d),l!==null){o.blockedOn=l,N4(o.priority,function(){c3(d)});return}}else if(l===31){if(l=c(d),l!==null){o.blockedOn=l,N4(o.priority,function(){c3(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function xg(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=nx(o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);s1=g,d.target.dispatchEvent(g),s1=null}else return l=_c(d),l!==null&&l3(l),o.blockedOn=d,!1;l.shift()}return!0}function f3(o,l,d){xg(o)&&d.delete(l)}function x9(){rx=!1,ao!==null&&xg(ao)&&(ao=null),oo!==null&&xg(oo)&&(oo=null),lo!==null&&xg(lo)&&(lo=null),_d.forEach(f3),xd.forEach(f3)}function wg(o,l){o.blockedOn===l&&(o.blockedOn=null,rx||(rx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,x9)))}var Sg=null;function p3(o){Sg!==o&&(Sg=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sg===o&&(Sg=null);for(var l=0;l<o.length;l+=3){var d=o[l],g=o[l+1],_=o[l+2];if(typeof g!="function"){if(sx(g||d)===null)continue;break}var w=_c(d);w!==null&&(o.splice(l,3),l-=3,n_(w,{pending:!0,data:_,method:d.method,action:g},g,_))}}))}function tu(o){function l(ee){return wg(ee,o)}ao!==null&&wg(ao,o),oo!==null&&wg(oo,o),lo!==null&&wg(lo,o),_d.forEach(l),xd.forEach(l);for(var d=0;d<co.length;d++){var g=co[d];g.blockedOn===o&&(g.blockedOn=null)}for(;0<co.length&&(d=co[0],d.blockedOn===null);)d3(d),d.blockedOn===null&&co.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var _=d[g],w=d[g+1],j=_[Hs]||null;if(typeof w=="function")j||p3(d);else if(j){var U=null;if(w&&w.hasAttribute("formAction")){if(_=w,j=w[Hs]||null)U=j.formAction;else if(sx(_)!==null)continue}else U=j.action;typeof U=="function"?d[g+1]=U:(d.splice(g,3),g-=3),p3(d)}}}function m3(){function o(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(j){return _=j})},focusReset:"manual",scroll:"manual"})}function l(){_!==null&&(_(),_=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,_=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),_!==null&&(_(),_=null)}}}function ix(o){this._internalRoot=o}kg.prototype.render=ix.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(s(409));var d=l.current,g=dr();a3(d,g,o,l,null,null)},kg.prototype.unmount=ix.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;a3(o.current,2,null,o,null,null),rg(),l[vc]=null}};function kg(o){this._internalRoot=o}kg.prototype.unstable_scheduleHydration=function(o){if(o){var l=C4();o={blockedOn:null,target:o,priority:l};for(var d=0;d<co.length&&l!==0&&l<co[d].priority;d++);co.splice(d,0,o),d===0&&d3(o)}};var g3=e.version;if(g3!=="19.2.3")throw Error(s(527,g3,"19.2.3"));Y.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return o=h(l),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var w9={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cg.isDisabled&&Cg.supportsFiber)try{ae=Cg.inject(w9),de=Cg}catch{}}return kd.createRoot=function(o,l){if(!r(o))throw Error(s(299));var d=!1,g="",_=SA,w=kA,j=CA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(j=l.onRecoverableError)),l=r3(o,1,!1,null,null,d,g,null,_,w,j,m3),o[vc]=l.current,z_(o),new ix(l)},kd.hydrateRoot=function(o,l,d){if(!r(o))throw Error(s(299));var g=!1,_="",w=SA,j=kA,U=CA,ee=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(j=d.onCaughtError),d.onRecoverableError!==void 0&&(U=d.onRecoverableError),d.formState!==void 0&&(ee=d.formState)),l=r3(o,1,!0,l,d??null,g,_,ee,w,j,U,m3),l.context=i3(null),d=l.current,g=dr(),g=Yb(g),_=Ga(g),_.callback=null,Ya(d,_,g),d=g,l.current.lanes=d,Wo(l,d),ki(l),o[vc]=l.current,z_(o),new kg(l)},kd.version="19.2.3",kd}var E3;function R9(){if(E3)return lx.exports;E3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lx.exports=T9(),lx.exports}var O9=R9();const Vw=new WeakMap,M9=new WeakMap,H0={current:[]};let dx=!1,Rf=0;const Kd=new Set,Ng=new Map;function d6(t){for(const e of t){if(H0.current.includes(e))continue;H0.current.push(e),e.recompute();const n=M9.get(e);if(n)for(const s of n){const r=Vw.get(s);r?.length&&d6(r)}}}function D9(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function B9(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function f6(t){if(Rf>0&&!Ng.has(t)&&Ng.set(t,t.prevState),Kd.add(t),!(Rf>0)&&!dx)try{for(dx=!0;Kd.size>0;){const e=Array.from(Kd);Kd.clear();for(const n of e){const s=Ng.get(n)??n.prevState;n.prevState=s,D9(n)}for(const n of e){const s=Vw.get(n);s&&(H0.current.push(n),d6(s))}for(const n of e){const s=Vw.get(n);if(s)for(const r of s)B9(r)}}}finally{dx=!1,H0.current=[],Ng.clear()}}function Of(t){Rf++;try{t()}finally{if(Rf--,Rf===0){const e=Kd.values().next().value;e&&f6(e)}}}function L9(t){return typeof t=="function"}class I9{constructor(e,n){this.listeners=new Set,this.subscribe=s=>{var r,i;this.listeners.add(s);const a=(i=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:i.call(r,s,this);return()=>{this.listeners.delete(s),a?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,s,r;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):L9(e)?this.state=e(this.prevState):this.state=e,(r=(s=this.options)==null?void 0:s.onUpdate)==null||r.call(s),f6(this)}}const Ao="__TSR_index",A3="popstate",j3="beforeunload";function P9(t){let e=t.getLocation();const n=new Set,s=a=>{e=t.getLocation(),n.forEach(c=>c({location:e,action:a}))},r=a=>{t.notifyOnIndexChange??!0?s(a):e=t.getLocation()},i=async({task:a,navigateOpts:c,...u})=>{if(c?.ignoreBlocker??!1){a();return}const m=t.getBlockers?.()??[],p=u.type==="PUSH"||u.type==="REPLACE";if(typeof document<"u"&&m.length&&p)for(const y of m){const v=F0(u.path,u.state);if(await y.blockerFn({currentLocation:e,nextLocation:v,action:u.type})){t.onBlocked?.();return}}a()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:a=>(n.add(a),()=>{n.delete(a)}),push:(a,c,u)=>{const h=e.state[Ao];c=T3(h+1,c),i({task:()=>{t.pushState(a,c),s({type:"PUSH"})},navigateOpts:u,type:"PUSH",path:a,state:c})},replace:(a,c,u)=>{const h=e.state[Ao];c=T3(h,c),i({task:()=>{t.replaceState(a,c),s({type:"REPLACE"})},navigateOpts:u,type:"REPLACE",path:a,state:c})},go:(a,c)=>{i({task:()=>{t.go(a),r({type:"GO",index:a})},navigateOpts:c,type:"GO"})},back:a=>{i({task:()=>{t.back(a?.ignoreBlocker??!1),r({type:"BACK"})},navigateOpts:a,type:"BACK"})},forward:a=>{i({task:()=>{t.forward(a?.ignoreBlocker??!1),r({type:"FORWARD"})},navigateOpts:a,type:"FORWARD"})},canGoBack:()=>e.state[Ao]!==0,createHref:a=>t.createHref(a),block:a=>{if(!t.setBlockers)return()=>{};const c=t.getBlockers?.()??[];return t.setBlockers([...c,a]),()=>{const u=t.getBlockers?.()??[];t.setBlockers?.(u.filter(h=>h!==a))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:s}}function T3(t,e){e||(e={});const n=P2();return{...e,key:n,__TSR_key:n,[Ao]:t}}function $9(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,s=e.history.replaceState;let r=[];const i=()=>r,a=B=>r=B,c=(B=>B),u=(()=>F0(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const B=P2();e.history.replaceState({[Ao]:0,key:B,__TSR_key:B},"")}let h=u(),m,p=!1,y=!1,v=!1,b=!1;const x=()=>h;let S,k;const C=()=>{S&&(D._ignoreSubscribers=!0,(S.isPush?e.history.pushState:e.history.replaceState)(S.state,"",S.href),D._ignoreSubscribers=!1,S=void 0,k=void 0,m=void 0)},N=(B,q,P)=>{const W=c(q);k||(m=h),h=F0(q,P),S={href:W,state:P,isPush:S?.isPush||B==="push"},k||(k=Promise.resolve().then(()=>C()))},R=B=>{h=u(),D.notify({type:B})},O=async()=>{if(y){y=!1;return}const B=u(),q=B.state[Ao]-h.state[Ao],P=q===1,W=q===-1,z=!P&&!W||p;p=!1;const K=z?"GO":W?"BACK":"FORWARD",X=z?{type:"GO",index:q}:{type:W?"BACK":"FORWARD"};if(v)v=!1;else{const G=i();if(typeof document<"u"&&G.length){for(const I of G)if(await I.blockerFn({currentLocation:h,nextLocation:B,action:K})){y=!0,e.history.go(1),D.notify(X);return}}}h=u(),D.notify(X)},E=B=>{if(b){b=!1;return}let q=!1;const P=i();if(typeof document<"u"&&P.length)for(const W of P){const z=W.enableBeforeUnload??!0;if(z===!0){q=!0;break}if(typeof z=="function"&&z()===!0){q=!0;break}}if(q)return B.preventDefault(),B.returnValue=""},D=P9({getLocation:x,getLength:()=>e.history.length,pushState:(B,q)=>N("push",B,q),replaceState:(B,q)=>N("replace",B,q),back:B=>(B&&(v=!0),b=!0,e.history.back()),forward:B=>{B&&(v=!0),b=!0,e.history.forward()},go:B=>{p=!0,e.history.go(B)},createHref:B=>c(B),flush:C,destroy:()=>{e.history.pushState=n,e.history.replaceState=s,e.removeEventListener(j3,E,{capture:!0}),e.removeEventListener(A3,O)},onBlocked:()=>{m&&h!==m&&(h=m)},getBlockers:i,setBlockers:a,notifyOnIndexChange:!1});return e.addEventListener(j3,E,{capture:!0}),e.addEventListener(A3,O),e.history.pushState=function(...B){const q=n.apply(e.history,B);return D._ignoreSubscribers||R("PUSH"),q},e.history.replaceState=function(...B){const q=s.apply(e.history,B);return D._ignoreSubscribers||R("REPLACE"),q},D}function F0(t,e){const n=t.indexOf("#"),s=t.indexOf("?"),r=P2();return{href:t,pathname:t.substring(0,n>0?s>0?Math.min(n,s):n:s>0?s:t.length),hash:n>-1?t.substring(n):"",search:s>-1?t.slice(s,n===-1?void 0:n):"",state:e||{[Ao]:0,key:r,__TSR_key:r}}}function P2(){return(Math.random()+1).toString(36).substring(7)}function V0(t){return t[t.length-1]}function z9(t){return typeof t=="function"}function xo(t,e){return z9(t)?t(e):t}const U9=Object.prototype.hasOwnProperty;function Fr(t,e){if(t===e)return t;const n=e,s=M3(t)&&M3(n);if(!s&&!(q0(t)&&q0(n)))return n;const r=s?t:R3(t);if(!r)return n;const i=s?n:R3(n);if(!i)return n;const a=r.length,c=i.length,u=s?new Array(c):{};let h=0;for(let m=0;m<c;m++){const p=s?m:i[m],y=t[p],v=n[p];if(y===v){u[p]=y,(s?m<a:U9.call(t,p))&&h++;continue}if(y===null||v===null||typeof y!="object"||typeof v!="object"){u[p]=v;continue}const b=Fr(y,v);u[p]=b,b===y&&h++}return a===c&&h===a?t:u}function R3(t){const e=[],n=Object.getOwnPropertyNames(t);for(const r of n){if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;e.push(r)}const s=Object.getOwnPropertySymbols(t);for(const r of s){if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;e.push(r)}return e}function q0(t){if(!O3(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!O3(n)||!n.hasOwnProperty("isPrototypeOf"))}function O3(t){return Object.prototype.toString.call(t)==="[object Object]"}function M3(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Tl(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let s=0,r=t.length;s<r;s++)if(!Tl(t[s],e[s],n))return!1;return!0}if(q0(t)&&q0(e)){const s=n?.ignoreUndefined??!0;if(n?.partial){for(const a in e)if((!s||e[a]!==void 0)&&!Tl(t[a],e[a],n))return!1;return!0}let r=0;if(!s)r=Object.keys(t).length;else for(const a in t)t[a]!==void 0&&r++;let i=0;for(const a in e)if((!s||e[a]!==void 0)&&(i++,i>r||!Tl(t[a],e[a],n)))return!1;return r===i}return!1}function $u(t){let e,n;const s=new Promise((r,i)=>{e=r,n=i});return s.status="pending",s.resolve=r=>{s.status="resolved",s.value=r,e(r),t?.(r)},s.reject=r=>{s.status="rejected",n(r)},s}function jo(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function D3(t){try{return decodeURI(t)}catch{return t.replaceAll(/%[0-9A-F]{2}/gi,e=>{try{return decodeURI(e)}catch{return e}})}}function B3(t,e){if(!t)return t;const n=/%25|%5C/gi;let s=0,r="",i;for(;(i=n.exec(t))!==null;)r+=D3(t.slice(s,i.index))+i[0],s=n.lastIndex;return r+D3(s?t.slice(s):t)}var H9="Invariant failed";function Ca(t,e){if(!t)throw new Error(H9)}function K0(t){const e=new Map;let n,s;const r=i=>{i.next&&(i.prev?(i.prev.next=i.next,i.next.prev=i.prev,i.next=void 0,s&&(s.next=i,i.prev=s)):(i.next.prev=void 0,n=i.next,i.next=void 0,s&&(i.prev=s,s.next=i)),s=i)};return{get(i){const a=e.get(i);if(a)return r(a),a.value},set(i,a){if(e.size>=t&&n){const u=n;e.delete(u.key),u.next&&(n=u.next,u.next.prev=void 0),u===s&&(s=void 0)}const c=e.get(i);if(c)c.value=a,r(c);else{const u={key:i,value:a,prev:s};s&&(s.next=u),s=u,n||(n=u),e.set(i,u)}},clear(){e.clear(),n=void 0,s=void 0}}}const zu=0,Pl=1,$l=2,ep=3,xu=4,F9=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,V9=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,q9=/^([^{]*)\{\$\}([^}]*)$/;function $2(t,e,n=new Uint16Array(6)){const s=t.indexOf("/",e),r=s===-1?t.length:s,i=t.substring(e,r);if(!i||!i.includes("$"))return n[0]=zu,n[1]=e,n[2]=e,n[3]=r,n[4]=r,n[5]=r,n;if(i==="$"){const h=t.length;return n[0]=$l,n[1]=e,n[2]=e,n[3]=h,n[4]=h,n[5]=h,n}if(i.charCodeAt(0)===36)return n[0]=Pl,n[1]=e,n[2]=e+1,n[3]=r,n[4]=r,n[5]=r,n;const a=i.match(q9);if(a){const m=a[1].length;return n[0]=$l,n[1]=e+m,n[2]=e+m+1,n[3]=e+m+2,n[4]=e+m+3,n[5]=t.length,n}const c=i.match(V9);if(c){const h=c[1],m=c[2],p=c[3],y=h.length;return n[0]=ep,n[1]=e+y,n[2]=e+y+3,n[3]=e+y+3+m.length,n[4]=r-p.length,n[5]=r,n}const u=i.match(F9);if(u){const h=u[1],m=u[2],p=u[3],y=h.length;return n[0]=Pl,n[1]=e+y,n[2]=e+y+2,n[3]=e+y+2+m.length,n[4]=r-p.length,n[5]=r,n}return n[0]=zu,n[1]=e,n[2]=e,n[3]=r,n[4]=r,n[5]=r,n}function hv(t,e,n,s,r,i,a){a?.(n);let c=s;{const u=n.fullPath??n.from,h=u.length,m=n.options?.caseSensitive??t;for(;c<h;){const y=$2(u,c,e);let v;const b=c,x=y[5];switch(c=x+1,i++,y[0]){case zu:{const k=u.substring(y[2],y[3]);if(m){const C=r.static?.get(k);if(C)v=C;else{r.static??=new Map;const N=Ru(n.fullPath??n.from);N.parent=r,N.depth=i,v=N,r.static.set(k,N)}}else{const C=k.toLowerCase(),N=r.staticInsensitive?.get(C);if(N)v=N;else{r.staticInsensitive??=new Map;const R=Ru(n.fullPath??n.from);R.parent=r,R.depth=i,v=R,r.staticInsensitive.set(C,R)}}break}case Pl:{const k=u.substring(b,y[1]),C=u.substring(y[4],x),N=m&&!!(k||C),R=k?N?k:k.toLowerCase():void 0,O=C?N?C:C.toLowerCase():void 0,E=r.dynamic?.find(D=>D.caseSensitive===N&&D.prefix===R&&D.suffix===O);if(E)v=E;else{const D=px(Pl,n.fullPath??n.from,N,R,O);v=D,D.depth=i,D.parent=r,r.dynamic??=[],r.dynamic.push(D)}break}case ep:{const k=u.substring(b,y[1]),C=u.substring(y[4],x),N=m&&!!(k||C),R=k?N?k:k.toLowerCase():void 0,O=C?N?C:C.toLowerCase():void 0,E=r.optional?.find(D=>D.caseSensitive===N&&D.prefix===R&&D.suffix===O);if(E)v=E;else{const D=px(ep,n.fullPath??n.from,N,R,O);v=D,D.parent=r,D.depth=i,r.optional??=[],r.optional.push(D)}break}case $l:{const k=u.substring(b,y[1]),C=u.substring(y[4],x),N=m&&!!(k||C),R=k?N?k:k.toLowerCase():void 0,O=C?N?C:C.toLowerCase():void 0,E=px($l,n.fullPath??n.from,N,R,O);v=E,E.parent=r,E.depth=i,r.wildcard??=[],r.wildcard.push(E)}}r=v}const p=(n.path||!n.children)&&!n.isRoot;if(p&&u.endsWith("/")){const y=Ru(n.fullPath??n.from);y.kind=xu,y.parent=r,i++,y.depth=i,r.index=y,r=y}p&&!r.route&&(r.route=n,r.fullPath=n.fullPath??n.from)}if(n.children)for(const u of n.children)hv(t,e,u,c,r,i,a)}function fx(t,e){if(t.prefix&&e.prefix&&t.prefix!==e.prefix){if(t.prefix.startsWith(e.prefix))return-1;if(e.prefix.startsWith(t.prefix))return 1}if(t.suffix&&e.suffix&&t.suffix!==e.suffix){if(t.suffix.endsWith(e.suffix))return-1;if(e.suffix.endsWith(t.suffix))return 1}return t.prefix&&!e.prefix?-1:!t.prefix&&e.prefix?1:t.suffix&&!e.suffix?-1:!t.suffix&&e.suffix?1:t.caseSensitive&&!e.caseSensitive?-1:!t.caseSensitive&&e.caseSensitive?1:0}function vl(t){if(t.static)for(const e of t.static.values())vl(e);if(t.staticInsensitive)for(const e of t.staticInsensitive.values())vl(e);if(t.dynamic?.length){t.dynamic.sort(fx);for(const e of t.dynamic)vl(e)}if(t.optional?.length){t.optional.sort(fx);for(const e of t.optional)vl(e)}if(t.wildcard?.length){t.wildcard.sort(fx);for(const e of t.wildcard)vl(e)}}function Ru(t){return{kind:zu,depth:0,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null}}function px(t,e,n,s,r){return{kind:t,depth:0,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,caseSensitive:n,prefix:s,suffix:r}}function K9(t,e){const n=Ru("/"),s=new Uint16Array(6);for(const r of t)hv(!1,s,r,1,n,0);vl(n),e.masksTree=n,e.flatCache=K0(1e3)}function W9(t,e){t||="/";const n=e.flatCache.get(t);if(n)return n;const s=z2(t,e.masksTree);return e.flatCache.set(t,s),s}function G9(t,e,n,s,r){t||="/",s||="/";const i=e?`case\0${t}`:t;let a=r.singleCache.get(i);if(!a){a=Ru("/");const c=new Uint16Array(6);hv(e,c,{from:t},1,a,0),r.singleCache.set(i,a)}return z2(s,a,n)}function Y9(t,e,n=!1){const s=n?t:`nofuzz\0${t}`,r=e.matchCache.get(s);if(r!==void 0)return r;t||="/";const i=z2(t,e.segmentTree,n);return i&&(i.branch=Q9(i.route)),e.matchCache.set(s,i),i}function Z9(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function X9(t,e=!1,n){const s=Ru(t.fullPath),r=new Uint16Array(6),i={},a={};let c=0;return hv(e,r,t,1,s,0,h=>{if(n?.(h,c),Ca(!(h.id in i),`Duplicate routes found with id: ${String(h.id)}`),i[h.id]=h,c!==0&&h.path){const m=Z9(h.fullPath);(!a[m]||h.fullPath.endsWith("/"))&&(a[m]=h)}c++}),vl(s),{processedTree:{segmentTree:s,singleCache:K0(1e3),matchCache:K0(1e3),flatCache:null,masksTree:null},routesById:i,routesByPath:a}}function z2(t,e,n=!1){const s=t.split("/"),r=tU(t,s,e,n);if(!r)return null;const i=J9(t,s,r);return"**"in r&&(i["**"]=r["**"]),{route:r.node.route,params:i}}function J9(t,e,n){const s=eU(n.node);let r=null;const i={};for(let a=0,c=0,u=0;c<s.length;a++,c++,u++){const h=s[c],m=e[a],p=u;if(m&&(u+=m.length),h.kind===Pl){r??=n.node.fullPath.split("/");const y=r[c],v=h.prefix?.length??0;if(y.charCodeAt(v)===123){const x=h.suffix?.length??0,S=y.substring(v+2,y.length-x-1),k=m.substring(v,m.length-x);i[S]=decodeURIComponent(k)}else{const x=y.substring(1);i[x]=decodeURIComponent(m)}}else if(h.kind===ep){if(n.skipped&1<<c){a--;continue}r??=n.node.fullPath.split("/");const y=r[c],v=h.prefix?.length??0,b=h.suffix?.length??0,x=y.substring(v+3,y.length-b-1),S=h.suffix||h.prefix?m.substring(v,m.length-b):m;S&&(i[x]=decodeURIComponent(S))}else if(h.kind===$l){const y=h,v=t.substring(p+(y.prefix?.length??0),t.length-(y.suffix?.length??0)),b=decodeURIComponent(v);i["*"]=b,i._splat=b;break}}return i}function Q9(t){const e=[t];for(;t.parentRoute;)t=t.parentRoute,e.push(t);return e.reverse(),e}function eU(t){const e=Array(t.depth+1);do e[t.depth]=t,t=t.parent;while(t);return e}function tU(t,e,n,s){if(t==="/"&&n.index)return{node:n.index,skipped:0};const r=!V0(e),i=r&&t!=="/",a=e.length-(r?1:0),c=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let u=null,h=null,m=null;for(;c.length;){const p=c.pop();let{node:y,index:v,skipped:b,depth:x,statics:S,dynamics:k,optionals:C}=p;s&&y.route&&y.kind!==xu&&Cd(h,p)&&(h=p);const N=v===a;if(N&&(y.route&&!i&&Cd(m,p)&&(m=p),!y.optional&&!y.wildcard&&!y.index))continue;const R=N?void 0:e[v];let O;if(N&&y.index){const E={node:y.index,index:v,skipped:b,depth:x+1,statics:S,dynamics:k,optionals:C};if(S===a&&!k&&!C&&!b)return E;Cd(m,E)&&(m=E)}if(y.wildcard&&Cd(u,p))for(const E of y.wildcard){const{prefix:D,suffix:B}=E;if(!(D&&(N||!(E.caseSensitive?R:O??=R.toLowerCase()).startsWith(D)))){if(B){if(N)continue;const q=e.slice(v).join("/").slice(-B.length);if((E.caseSensitive?q:q.toLowerCase())!==B)continue}u={node:E,index:a,skipped:b,depth:x,statics:S,dynamics:k,optionals:C};break}}if(y.optional){const E=b|1<<x,D=x+1;for(let B=y.optional.length-1;B>=0;B--){const q=y.optional[B];c.push({node:q,index:v,skipped:E,depth:D,statics:S,dynamics:k,optionals:C})}if(!N)for(let B=y.optional.length-1;B>=0;B--){const q=y.optional[B],{prefix:P,suffix:W}=q;if(P||W){const z=q.caseSensitive?R:O??=R.toLowerCase();if(P&&!z.startsWith(P)||W&&!z.endsWith(W))continue}c.push({node:q,index:v+1,skipped:b,depth:D,statics:S,dynamics:k,optionals:C+1})}}if(!N&&y.dynamic&&R)for(let E=y.dynamic.length-1;E>=0;E--){const D=y.dynamic[E],{prefix:B,suffix:q}=D;if(B||q){const P=D.caseSensitive?R:O??=R.toLowerCase();if(B&&!P.startsWith(B)||q&&!P.endsWith(q))continue}c.push({node:D,index:v+1,skipped:b,depth:x+1,statics:S,dynamics:k+1,optionals:C})}if(!N&&y.staticInsensitive){const E=y.staticInsensitive.get(O??=R.toLowerCase());E&&c.push({node:E,index:v+1,skipped:b,depth:x+1,statics:S+1,dynamics:k,optionals:C})}if(!N&&y.static){const E=y.static.get(R);E&&c.push({node:E,index:v+1,skipped:b,depth:x+1,statics:S+1,dynamics:k,optionals:C})}}if(m&&u)return Cd(u,m)?m:u;if(m)return m;if(u)return u;if(s&&h){let p=h.index;for(let v=0;v<h.index;v++)p+=e[v].length;const y=p===t.length?"/":t.slice(p);return{node:h.node,skipped:h.skipped,"**":decodeURIComponent(y)}}return null}function Cd(t,e){return t?e.statics>t.statics||e.statics===t.statics&&(e.dynamics>t.dynamics||e.dynamics===t.dynamics&&(e.optionals>t.optionals||e.optionals===t.optionals&&((e.node.kind===xu)>(t.node.kind===xu)||e.node.kind===xu==(t.node.kind===xu)&&e.depth>t.depth))):!0}function p0(t){return U2(t.filter(e=>e!==void 0).join("/"))}function U2(t){return t.replace(/\/{2,}/g,"/")}function p6(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Rl(t){const e=t.length;return e>1&&t[e-1]==="/"?t.replace(/\/{1,}$/,""):t}function m6(t){return Rl(p6(t))}function W0(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function nU(t,e,n){return W0(t,n)===W0(e,n)}function sU({base:t,to:e,trailingSlash:n="never",cache:s}){const r=e.startsWith("/"),i=!r&&e===".";let a;if(s){a=r?e:i?t:t+"\0"+e;const p=s.get(a);if(p)return p}let c;if(i)c=t.split("/");else if(r)c=e.split("/");else{for(c=t.split("/");c.length>1&&V0(c)==="";)c.pop();const p=e.split("/");for(let y=0,v=p.length;y<v;y++){const b=p[y];b===""?y?y===v-1&&c.push(b):c=[b]:b===".."?c.pop():b==="."||c.push(b)}}c.length>1&&(V0(c)===""?n==="never"&&c.pop():n==="always"&&c.push(""));let u,h="";for(let p=0;p<c.length;p++){p>0&&(h+="/");const y=c[p];if(!y)continue;u=$2(y,0,u);const v=u[0];if(v===zu){h+=y;continue}const b=u[5],x=y.substring(0,u[1]),S=y.substring(u[4],b),k=y.substring(u[2],u[3]);v===Pl?h+=x||S?`${x}{$${k}}${S}`:`$${k}`:v===$l?h+=x||S?`${x}{$}${S}`:"$":h+=`${x}{-$${k}}${S}`}h=U2(h);const m=h||"/";return a&&s&&s.set(a,m),m}function mx(t,e,n){const s=e[t];return typeof s!="string"?s:t==="_splat"?encodeURI(s):rU(s,n)}function gx({path:t,params:e,decodeCharMap:n}){let s=!1;const r={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:r,isMissingParams:s};if(!t.includes("$"))return{interpolatedPath:t,usedParams:r,isMissingParams:s};const i=t.length;let a=0,c,u="";for(;a<i;){const m=a;c=$2(t,m,c);const p=c[5];if(a=p+1,m===p)continue;const y=c[0];if(y===zu){u+="/"+t.substring(m,p);continue}if(y===$l){const v=e._splat;r._splat=v,r["*"]=v;const b=t.substring(m,c[1]),x=t.substring(c[4],p);if(!v){s=!0,(b||x)&&(u+="/"+b+x);continue}const S=mx("_splat",e,n);u+="/"+b+S+x;continue}if(y===Pl){const v=t.substring(c[2],c[3]);!s&&!(v in e)&&(s=!0),r[v]=e[v];const b=t.substring(m,c[1]),x=t.substring(c[4],p),S=mx(v,e,n)??"undefined";u+="/"+b+S+x;continue}if(y===ep){const v=t.substring(c[2],c[3]),b=e[v];if(b==null)continue;r[v]=b;const x=t.substring(m,c[1]),S=t.substring(c[4],p),k=mx(v,e,n)??"";u+="/"+x+k+S;continue}}return t.endsWith("/")&&(u+="/"),{usedParams:r,interpolatedPath:u||"/",isMissingParams:s}}function rU(t,e){let n=encodeURIComponent(t);if(e)for(const[s,r]of e)n=n.replaceAll(s,r);return n}function kr(t){return!!t?.isNotFound}function iU(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const G0="tsr-scroll-restoration-v1_3",aU=(t,e)=>{let n;return(...s)=>{n||(n=setTimeout(()=>{t(...s),n=null},e))}};function oU(){const t=iU();if(!t)return null;const e=t.getItem(G0);let n=e?JSON.parse(e):{};return{state:n,set:s=>(n=xo(s,n)||n,t.setItem(G0,JSON.stringify(n)))}}const Eg=oU(),qw=t=>t.state.__TSR_key||t.href;function lU(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let Y0=!1;function g6({storageKey:t,key:e,behavior:n,shouldScrollRestoration:s,scrollToTopSelectors:r,location:i}){let a;try{a=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(h){console.error(h);return}const c=e||window.history.state?.__TSR_key,u=a[c];Y0=!0;e:{if(s&&u&&Object.keys(u).length>0){for(const p in u){const y=u[p];if(p==="window")window.scrollTo({top:y.scrollY,left:y.scrollX,behavior:n});else if(p){const v=document.querySelector(p);v&&(v.scrollLeft=y.scrollX,v.scrollTop=y.scrollY)}}break e}const h=(i??window.location).hash.split("#",2)[1];if(h){const p=window.history.state?.__hashScrollIntoViewOptions??!0;if(p){const y=document.getElementById(h);y&&y.scrollIntoView(p)}break e}const m={top:0,left:0,behavior:n};if(window.scrollTo(m),r)for(const p of r){if(p==="window")continue;const y=typeof p=="function"?p():document.querySelector(p);y&&y.scrollTo(m)}}Y0=!1}function cU(t,e){if(!Eg&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!Eg))return;t.isScrollRestorationSetup=!0,Y0=!1;const s=t.options.getScrollRestorationKey||qw;window.history.scrollRestoration="manual";const r=i=>{if(Y0||!t.isScrollRestoring)return;let a="";if(i.target===document||i.target===window)a="window";else{const u=i.target.getAttribute("data-scroll-restoration-id");u?a=`[data-scroll-restoration-id="${u}"]`:a=lU(i.target)}const c=s(t.state.location);Eg.set(u=>{const h=u[c]||={},m=h[a]||={};if(a==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(a){const p=document.querySelector(a);p&&(m.scrollX=p.scrollLeft||0,m.scrollY=p.scrollTop||0)}return u})};typeof document<"u"&&document.addEventListener("scroll",aU(r,100),!0),t.subscribe("onRendered",i=>{const a=s(i.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(g6({storageKey:G0,key:a,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&Eg.set(c=>(c[a]||={},c)))})}function uU(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function hU(t,e=String){const n=new URLSearchParams;for(const s in t){const r=t[s];r!==void 0&&n.set(s,e(r))}return n.toString()}function yx(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function dU(t){const e=new URLSearchParams(t),n={};for(const[s,r]of e.entries()){const i=n[s];i==null?n[s]=yx(r):Array.isArray(i)?i.push(yx(r)):n[s]=[i,yx(r)]}return n}const fU=mU(JSON.parse),pU=gU(JSON.stringify,JSON.parse);function mU(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=dU(e);for(const s in n){const r=n[s];if(typeof r=="string")try{n[s]=t(r)}catch{}}return n}}function gU(t,e){const n=typeof e=="function";function s(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(n&&typeof r=="string")try{return e(r),t(r)}catch{}return r}return r=>{const i=hU(r,s);return i?`?${i}`:""}}const _r="__root__";function H2(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function Gr(t){return t instanceof Response&&!!t.options}const m0=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},dv=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),F2=(t,e,n=!0)=>{const s={...t.router.options.context??{}},r=n?e:e-1;for(let i=0;i<=r;i++){const a=t.matches[i];if(!a)continue;const c=t.router.getMatch(a.id);c&&Object.assign(s,c.__routeContext,c.__beforeLoadContext)}return s},y6=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),Ca(n.options.notFoundComponent);const s=t.matches.find(r=>r.routeId===n.id);Ca(s,"Could not find match for route: "+n.id),t.updateMatch(s.id,r=>({...r,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,y6(t,e))},wo=(t,e,n)=>{if(!(!Gr(n)&&!kr(n))){if(Gr(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const s=Gr(n)?"redirected":"notFound";e._nonReactive.error=n,t.updateMatch(e.id,r=>({...r,status:s,isFetching:!1,error:n})),kr(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw Gr(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(y6(t,n),n)}},v6=(t,e)=>{const n=t.router.getMatch(e);return!!(!t.router.isServer&&n._nonReactive.dehydrated||t.router.isServer&&n.ssr===!1)},Nd=(t,e,n,s)=>{const{id:r,routeId:i}=t.matches[e],a=t.router.looseRoutesById[i];if(n instanceof Promise)throw n;n.routerCode=s,t.firstBadMatchIndex??=e,wo(t,t.router.getMatch(r),n);try{a.options.onError?.(n)}catch(c){n=c,wo(t,t.router.getMatch(r),n)}t.updateMatch(r,c=>(c._nonReactive.beforeLoadPromise?.resolve(),c._nonReactive.beforeLoadPromise=void 0,c._nonReactive.loadPromise?.resolve(),{...c,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},yU=(t,e,n,s)=>{const r=t.router.getMatch(e),i=t.matches[n-1]?.id,a=i?t.router.getMatch(i):void 0;if(t.router.isShell()){r.ssr=s.id===_r;return}if(a?.ssr===!1){r.ssr=!1;return}const c=v=>v===!0&&a?.ssr==="data-only"?"data-only":v,u=t.router.options.defaultSsr??!0;if(s.options.ssr===void 0){r.ssr=c(u);return}if(typeof s.options.ssr!="function"){r.ssr=c(s.options.ssr);return}const{search:h,params:m}=r,p={search:Ag(h,r.searchError),params:Ag(m,r.paramsError),location:t.location,matches:t.matches.map(v=>({index:v.index,pathname:v.pathname,fullPath:v.fullPath,staticData:v.staticData,id:v.id,routeId:v.routeId,search:Ag(v.search,v.searchError),params:Ag(v.params,v.paramsError),ssr:v.ssr}))},y=s.options.ssr(p);if(jo(y))return y.then(v=>{r.ssr=c(v??u)});r.ssr=c(y??u)},b6=(t,e,n,s)=>{if(s._nonReactive.pendingTimeout!==void 0)return;const r=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!dv(t,e)&&(n.options.loader||n.options.beforeLoad||w6(n))&&typeof r=="number"&&r!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const a=setTimeout(()=>{m0(t)},r);s._nonReactive.pendingTimeout=a}},vU=(t,e,n)=>{const s=t.router.getMatch(e);if(!s._nonReactive.beforeLoadPromise&&!s._nonReactive.loaderPromise)return;b6(t,e,n,s);const r=()=>{const i=t.router.getMatch(e);i.preload&&(i.status==="redirected"||i.status==="notFound")&&wo(t,i,i.error)};return s._nonReactive.beforeLoadPromise?s._nonReactive.beforeLoadPromise.then(r):r()},bU=(t,e,n,s)=>{const r=t.router.getMatch(e),i=r._nonReactive.loadPromise;r._nonReactive.loadPromise=$u(()=>{i?.resolve()});const{paramsError:a,searchError:c}=r;a&&Nd(t,n,a,"PARSE_PARAMS"),c&&Nd(t,n,c,"VALIDATE_SEARCH"),b6(t,e,s,r);const u=new AbortController,h=t.matches[n-1]?.id;(h?t.router.getMatch(h):void 0)?.context??t.router.options.context;let p=!1;const y=()=>{p||(p=!0,t.updateMatch(e,E=>({...E,isFetching:"beforeLoad",fetchCount:E.fetchCount+1,abortController:u})))},v=()=>{r._nonReactive.beforeLoadPromise?.resolve(),r._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,E=>({...E,isFetching:!1}))};if(!s.options.beforeLoad){Of(()=>{y(),v()});return}r._nonReactive.beforeLoadPromise=$u();const b={...F2(t,n,!1),...r.__routeContext},{search:x,params:S,cause:k}=r,C=dv(t,e),N={search:x,abortController:u,params:S,preload:C,context:b,location:t.location,navigate:E=>t.router.navigate({...E,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:C?"preload":k,matches:t.matches,...t.router.options.additionalContext},R=E=>{if(E===void 0){Of(()=>{y(),v()});return}(Gr(E)||kr(E))&&(y(),Nd(t,n,E,"BEFORE_LOAD")),Of(()=>{y(),t.updateMatch(e,D=>({...D,__beforeLoadContext:E})),v()})};let O;try{if(O=s.options.beforeLoad(N),jo(O))return y(),O.catch(E=>{Nd(t,n,E,"BEFORE_LOAD")}).then(R)}catch(E){y(),Nd(t,n,E,"BEFORE_LOAD")}R(O)},_U=(t,e)=>{const{id:n,routeId:s}=t.matches[e],r=t.router.looseRoutesById[s],i=()=>{if(t.router.isServer){const u=yU(t,n,e,r);if(jo(u))return u.then(c)}return c()},a=()=>bU(t,n,e,r),c=()=>{if(v6(t,n))return;const u=vU(t,n,r);return jo(u)?u.then(a):a()};return i()},xU=(t,e,n)=>{const s=t.router.getMatch(e);if(!s||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const r={matches:t.matches,match:s,params:s.params,loaderData:s.loaderData};return Promise.all([n.options.head?.(r),n.options.scripts?.(r),n.options.headers?.(r)]).then(([i,a,c])=>{const u=i?.meta,h=i?.links,m=i?.scripts,p=i?.styles;return{meta:u,links:h,headScripts:m,headers:c,scripts:a,styles:p}})},_6=(t,e,n,s)=>{const r=t.matchPromises[n-1],{params:i,loaderDeps:a,abortController:c,cause:u}=t.router.getMatch(e),h=F2(t,n),m=dv(t,e);return{params:i,deps:a,preload:!!m,parentMatchPromise:r,abortController:c,context:h,location:t.location,navigate:p=>t.router.navigate({...p,_fromLocation:t.location}),cause:m?"preload":u,route:s,...t.router.options.additionalContext}},L3=async(t,e,n,s)=>{try{const r=t.router.getMatch(e);try{(!t.router.isServer||r.ssr===!0)&&x6(s);const i=s.options.loader?.(_6(t,e,n,s)),a=s.options.loader&&jo(i);if((a||s._lazyPromise||s._componentsPromise||s.options.head||s.options.scripts||s.options.headers||r._nonReactive.minPendingPromise)&&t.updateMatch(e,h=>({...h,isFetching:"loader"})),s.options.loader){const h=a?await i:i;wo(t,t.router.getMatch(e),h),h!==void 0&&t.updateMatch(e,m=>({...m,loaderData:h}))}s._lazyPromise&&await s._lazyPromise;const u=r._nonReactive.minPendingPromise;u&&await u,s._componentsPromise&&await s._componentsPromise,t.updateMatch(e,h=>({...h,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(i){let a=i;const c=r._nonReactive.minPendingPromise;c&&await c,kr(i)&&await s.options.notFoundComponent?.preload?.(),wo(t,t.router.getMatch(e),i);try{s.options.onError?.(i)}catch(u){a=u,wo(t,t.router.getMatch(e),u)}t.updateMatch(e,u=>({...u,error:a,status:"error",isFetching:!1}))}}catch(r){const i=t.router.getMatch(e);i&&(i._nonReactive.loaderPromise=void 0),wo(t,i,r)}},wU=async(t,e)=>{const{id:n,routeId:s}=t.matches[e];let r=!1,i=!1;const a=t.router.looseRoutesById[s],c=()=>{t.updateMatch(n,m=>({...m,context:F2(t,e)}))};if(v6(t,n)){if(t.router.isServer)return t.router.getMatch(n)}else{const m=t.router.getMatch(n);if(m._nonReactive.loaderPromise){if(m.status==="success"&&!t.sync&&!m.preload)return m;await m._nonReactive.loaderPromise;const p=t.router.getMatch(n),y=p._nonReactive.error||p.error;y&&wo(t,p,y)}else{const p=Date.now()-m.updatedAt,y=dv(t,n),v=y?a.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:a.options.staleTime??t.router.options.defaultStaleTime??0,b=a.options.shouldReload,x=typeof b=="function"?b(_6(t,n,e,a)):b,S=!!y&&!t.router.state.matches.some(R=>R.id===n),k=t.router.getMatch(n);k._nonReactive.loaderPromise=$u(),S!==k.preload&&t.updateMatch(n,R=>({...R,preload:S}));const{status:C,invalid:N}=k;r=C==="success"&&(N||(x??p>v)),y&&a.options.preload===!1||(r&&!t.sync?(i=!0,(async()=>{try{await L3(t,n,e,a),c();const R=t.router.getMatch(n);R._nonReactive.loaderPromise?.resolve(),R._nonReactive.loadPromise?.resolve(),R._nonReactive.loaderPromise=void 0}catch(R){Gr(R)&&await t.router.navigate(R.options)}})()):(C!=="success"||r&&t.sync)&&await L3(t,n,e,a))}}const u=t.router.getMatch(n);i||(u._nonReactive.loaderPromise?.resolve(),u._nonReactive.loadPromise?.resolve()),clearTimeout(u._nonReactive.pendingTimeout),u._nonReactive.pendingTimeout=void 0,i||(u._nonReactive.loaderPromise=void 0),u._nonReactive.dehydrated=void 0,i||c();const h=i?u.isFetching:!1;return h!==u.isFetching||u.invalid!==!1?(t.updateMatch(n,m=>({...m,isFetching:h,invalid:!1})),t.router.getMatch(n)):u};async function I3(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(n=>n._forcePending)&&m0(e);try{for(let c=0;c<e.matches.length;c++){const u=_U(e,c);jo(u)&&await u}const n=e.firstBadMatchIndex??e.matches.length;for(let c=0;c<n;c++)e.matchPromises.push(wU(e,c));const r=(await Promise.allSettled(e.matchPromises)).filter(c=>c.status==="rejected").map(c=>c.reason);let i;for(const c of r){if(Gr(c))throw c;!i&&kr(c)&&(i=c)}for(const c of e.matches){const{id:u,routeId:h}=c,m=e.router.looseRoutesById[h];try{const p=xU(e,u,m);if(p){const y=await p;e.updateMatch(u,v=>({...v,...y}))}}catch(p){console.error(`Error executing head for route ${h}:`,p)}}if(i)throw i;const a=m0(e);jo(a)&&await a}catch(n){if(kr(n)&&!e.preload){const s=m0(e);throw jo(s)&&await s,n}if(Gr(n))throw n}return e.matches}async function x6(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...s}=e.options;Object.assign(t.options,s),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const s of S6){const r=t.options[s]?.preload;r&&n.push(r())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function Ag(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function w6(t){for(const e of S6)if(t.options[e]?.preload)return!0;return!1}const S6=["component","errorComponent","pendingComponent","notFoundComponent"];function SU(t){return{input:({url:e})=>{for(const n of t)e=k6(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=C6(t[n],e);return e}}}function kU(t){const e=m6(t.basepath),n=`/${e}`,s=`${n}/`,r=t.caseSensitive?n:n.toLowerCase(),i=t.caseSensitive?s:s.toLowerCase();return{input:({url:a})=>{const c=t.caseSensitive?a.pathname:a.pathname.toLowerCase();return c===r?a.pathname="/":c.startsWith(i)&&(a.pathname=a.pathname.slice(n.length)),a},output:({url:a})=>(a.pathname=p0(["/",e,a.pathname]),a)}}function k6(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function C6(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function Ol(t){const e=t.resolvedLocation,n=t.location,s=e?.pathname!==n.pathname,r=e?.href!==n.href,i=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:s,hrefChanged:r,hashChanged:i}}class CU{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options,r=this.basepath??s?.basepath??"/",i=this.basepath===void 0,a=s?.rewrite;this.options={...s,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(y=>[encodeURIComponent(y),y])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=$9())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new I9(EU(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(y=>!["redirected"].includes(y.status))}}}),cU(this));let c=!1;const u=this.options.basepath??"/",h=this.options.rewrite;if(i||r!==u||a!==h){this.basepath=u;const y=[];m6(u)!==""&&y.push(kU({basepath:u})),h&&y.push(h),this.rewrite=y.length===0?void 0:y.length===1?y[0]:SU(y),this.history&&this.updateLatestLocation(),c=!0}c&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:s,processedTree:r}=X9(this.routeTree,this.options.caseSensitive,(a,c)=>{a.init({originalIndex:c})});this.options.routeMasks&&K9(this.options.routeMasks,r),this.routesById=n,this.routesByPath=s,this.processedTree=r;const i=this.options.notFoundRoute;i&&(i.init({originalIndex:99999999999}),this.routesById[i.id]=i)},this.subscribe=(n,s)=>{const r={eventType:n,fn:s};return this.subscribers.add(r),()=>{this.subscribers.delete(r)}},this.emit=n=>{this.subscribers.forEach(s=>{s.eventType===n.type&&s.fn(n)})},this.parseLocation=(n,s)=>{const r=({href:u,state:h})=>{const m=new URL(u,this.origin),p=k6(this.rewrite,m),y=this.options.parseSearch(p.search),v=this.options.stringifySearch(y);return p.search=v,{href:p.href.replace(p.origin,""),publicHref:u,url:p,pathname:B3(p.pathname),searchStr:v,search:Fr(s?.search,y),hash:p.hash.split("#").reverse()[0]??"",state:Fr(s?.state,h)}},i=r(n),{__tempLocation:a,__tempKey:c}=i.state;if(a&&(!c||c===this.tempLocationKey)){const u=r(a);return u.state.key=i.state.key,u.state.__TSR_key=i.state.__TSR_key,delete u.state.__tempLocation,{...u,maskedLocation:i}}return i},this.resolvePathCache=K0(1e3),this.resolvePathWithBase=(n,s)=>sU({base:n,to:U2(s),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,s,r)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:s},r):this.matchRoutesInternal(n,s),this.getMatchedRoutes=n=>AU({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const s=this.getMatch(n);s&&(s.abortController.abort(),clearTimeout(s._nonReactive.pendingTimeout),s._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(i=>i.status==="pending"),s=this.state.matches.filter(i=>i.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...s]).forEach(i=>{this.cancelMatch(i.id)})},this.buildLocation=n=>{const s=(i={})=>{const a=i._fromLocation||this.pendingBuiltLocation||this.latestLocation,c=this.matchRoutes(a,{_buildLocation:!0}),u=V0(c);i.from;const h=i.unsafeRelative==="path"?a.pathname:i.from??u.fullPath,m=this.resolvePathWithBase(h,"."),p=u.search,y={...u.params},v=i.to?this.resolvePathWithBase(m,`${i.to}`):this.resolvePathWithBase(m,"."),b=i.params===!1||i.params===null?{}:(i.params??!0)===!0?y:Object.assign(y,xo(i.params,y)),x=gx({path:v,params:b}).interpolatedPath,S=this.matchRoutes(x,void 0,{_buildLocation:!0}).map(P=>this.looseRoutesById[P.routeId]);if(Object.keys(b).length>0)for(const P of S){const W=P.options.params?.stringify??P.options.stringifyParams;W&&Object.assign(b,W(b))}const k=n.leaveParams?v:B3(gx({path:v,params:b,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let C=p;if(n._includeValidateSearch&&this.options.search?.strict){const P={};S.forEach(W=>{if(W.options.validateSearch)try{Object.assign(P,Kw(W.options.validateSearch,{...P,...C}))}catch{}}),C=P}C=jU({search:C,dest:i,destRoutes:S,_includeValidateSearch:n._includeValidateSearch}),C=Fr(p,C);const N=this.options.stringifySearch(C),R=i.hash===!0?a.hash:i.hash?xo(i.hash,a.hash):void 0,O=R?`#${R}`:"";let E=i.state===!0?a.state:i.state?xo(i.state,a.state):{};E=Fr(a.state,E);const D=`${k}${N}${O}`,B=new URL(D,this.origin),q=C6(this.rewrite,B);return{publicHref:q.pathname+q.search+q.hash,href:D,url:q,pathname:k,search:C,searchStr:N,state:E,hash:R??"",unmaskOnReload:i.unmaskOnReload}},r=(i={},a)=>{const c=s(i);let u=a?s(a):void 0;if(!u){const h={};if(this.options.routeMasks){const m=W9(c.pathname,this.processedTree);if(m){Object.assign(h,m.params);const{from:p,params:y,...v}=m.route,b=y===!1||y===null?{}:(y??!0)===!0?h:Object.assign(h,xo(y,h));a={from:n.from,...v,params:b},u=s(a)}}}return u&&(c.maskedLocation=u),c};return n.mask?r(n,{from:n.from,...n.mask}):r(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:s,...r})=>{const i=()=>{const u=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];u.forEach(m=>{r.state[m]=this.latestLocation.state[m]});const h=Tl(r.state,this.latestLocation.state);return u.forEach(m=>{delete r.state[m]}),h},a=Rl(this.latestLocation.href)===Rl(r.href),c=this.commitLocationPromise;if(this.commitLocationPromise=$u(()=>{c?.resolve()}),a&&i())this.load();else{let{maskedLocation:u,hashScrollIntoView:h,url:m,...p}=r;u&&(p={...u,state:{...u.state,__tempKey:void 0,__tempLocation:{...p,search:p.searchStr,state:{...p.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(p.unmaskOnReload??this.options.unmaskOnReload??!1)&&(p.state.__tempKey=this.tempLocationKey)),p.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[r.replace?"replace":"push"](p.publicHref,p.state,{ignoreBlocker:s})}return this.resetNextScroll=r.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:s,hashScrollIntoView:r,viewTransition:i,ignoreBlocker:a,href:c,...u}={})=>{if(c){const p=this.history.location.state.__TSR_index,y=F0(c,{__TSR_index:n?p:p+1});u.to=y.pathname,u.search=this.options.parseSearch(y.search),u.hash=y.hash.slice(1)}const h=this.buildLocation({...u,_includeValidateSearch:!0});this.pendingBuiltLocation=h;const m=this.commitLocation({...h,viewTransition:i,replace:n,resetScroll:s,hashScrollIntoView:r,ignoreBlocker:a});return Promise.resolve().then(()=>{this.pendingBuiltLocation===h&&(this.pendingBuiltLocation=void 0)}),m},this.navigate=async({to:n,reloadDocument:s,href:r,publicHref:i,...a})=>{let c=!1;if(r)try{new URL(`${r}`),c=!0}catch{}if(c&&!s&&(s=!0),s){if(!r||!i&&!c){const h=this.buildLocation({to:n,...a});r=r??h.url.href,i=i??h.url.href}const u=!c&&i?i:r;if(!a.ignoreBlocker){const m=this.history.getBlockers?.()??[];for(const p of m)if(p?.blockerFn&&await p.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return a.replace?window.location.replace(u):window.location.href=u,Promise.resolve()}return this.buildAndCommitLocation({...a,href:r,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const s=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(this.latestLocation.publicHref!==s.publicHref||s.url.origin!==this.origin){const r=this.getParsedLocationHref(s);throw H2({href:r})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:s.cachedMatches.filter(r=>!n.some(i=>i.id===r.id))}))},this.load=async n=>{let s,r,i;for(i=new Promise(c=>{this.startTransition(async()=>{try{this.beforeLoad();const u=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Ol({resolvedLocation:h,location:u})}),this.emit({type:"onBeforeLoad",...Ol({resolvedLocation:h,location:u})}),await I3({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:u,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let m=[],p=[],y=[];Of(()=>{this.__store.setState(v=>{const b=v.matches,x=v.pendingMatches||v.matches;return m=b.filter(S=>!x.some(k=>k.id===S.id)),p=x.filter(S=>!b.some(k=>k.id===S.id)),y=x.filter(S=>b.some(k=>k.id===S.id)),{...v,isLoading:!1,loadedAt:Date.now(),matches:x,pendingMatches:void 0,cachedMatches:[...v.cachedMatches,...m.filter(S=>S.status!=="error"&&S.status!=="notFound")]}}),this.clearExpiredCache()}),[[m,"onLeave"],[p,"onEnter"],[y,"onStay"]].forEach(([v,b])=>{v.forEach(x=>{this.looseRoutesById[x.routeId].options[b]?.(x)})})})})}})}catch(u){Gr(u)?(s=u,this.isServer||this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):kr(u)&&(r=u),this.__store.setState(h=>({...h,statusCode:s?s.status:r?404:h.matches.some(m=>m.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===i&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),c()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise;let a;this.hasNotFoundMatch()?a=404:this.__store.state.matches.some(c=>c.status==="error")&&(a=500),a!==void 0&&this.__store.setState(c=>({...c,statusCode:a}))},this.startViewTransition=n=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let r;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const i=this.latestLocation,a=this.state.resolvedLocation,c=typeof s.types=="function"?s.types(Ol({resolvedLocation:a,location:i})):s.types;if(c===!1){n();return}r={update:n,types:c}}else r=n;document.startViewTransition(r)}else n()},this.updateMatch=(n,s)=>{this.startTransition(()=>{const r=this.state.pendingMatches?.some(i=>i.id===n)?"pendingMatches":this.state.matches.some(i=>i.id===n)?"matches":this.state.cachedMatches.some(i=>i.id===n)?"cachedMatches":"";r&&this.__store.setState(i=>({...i,[r]:i[r]?.map(a=>a.id===n?s(a):a)}))})},this.getMatch=n=>{const s=r=>r.id===n;return this.state.cachedMatches.find(s)??this.state.pendingMatches?.find(s)??this.state.matches.find(s)},this.invalidate=n=>{const s=r=>n?.filter?.(r)??!0?{...r,invalid:!0,...n?.forcePending||r.status==="error"||r.status==="notFound"?{status:"pending",error:void 0}:void 0}:r;return this.__store.setState(r=>({...r,matches:r.matches.map(s),cachedMatches:r.cachedMatches.map(s),pendingMatches:r.pendingMatches?.map(s)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.getParsedLocationHref=n=>{let s=n.url.href;return this.origin&&n.url.origin===this.origin&&(s=s.replace(this.origin,"")||"/"),s},this.resolveRedirect=n=>{if(!n.options.href){const s=this.buildLocation(n.options),r=this.getParsedLocationHref(s);n.options.href=s.href,n.headers.set("Location",r)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const s=n?.filter;s!==void 0?this.__store.setState(r=>({...r,cachedMatches:r.cachedMatches.filter(i=>!s(i))})):this.__store.setState(r=>({...r,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=s=>{const r=this.looseRoutesById[s.routeId];if(!r.options.loader)return!0;const i=(s.preload?r.options.preloadGcTime??this.options.defaultPreloadGcTime:r.options.gcTime??this.options.defaultGcTime)??300*1e3;return s.status==="error"?!0:Date.now()-s.updatedAt>=i};this.clearCache({filter:n})},this.loadRouteChunk=x6,this.preloadRoute=async n=>{const s=this.buildLocation(n);let r=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:n});const i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),a=new Set([...i,...this.state.cachedMatches.map(c=>c.id)]);Of(()=>{r.forEach(c=>{a.has(c.id)||this.__store.setState(u=>({...u,cachedMatches:[...u.cachedMatches,c]}))})});try{return r=await I3({router:this,matches:r,location:s,preload:!0,updateMatch:(c,u)=>{i.has(c)?r=r.map(h=>h.id===c?u(h):h):this.updateMatch(c,u)}}),r}catch(c){if(Gr(c))return c.options.reloadDocument?void 0:await this.preloadRoute({...c.options,_fromLocation:s});kr(c)||console.error(c);return}},this.matchRoute=(n,s)=>{const r={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},i=this.buildLocation(r);if(s?.pending&&this.state.status!=="pending")return!1;const c=(s?.pending===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,u=G9(i.pathname,s?.caseSensitive??!1,s?.fuzzy??!1,c.pathname,this.processedTree);return!u||n.params&&!Tl(u.params,n.params,{partial:!0})?!1:s?.includeSearch??!0?Tl(c.search,i.search,{partial:!0})?u.params:!1:u.params},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??pU,parseSearch:e.parseSearch??fU}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const s=this.getMatchedRoutes(e.pathname),{foundRoute:r,routeParams:i}=s;let{matchedRoutes:a}=s,c=!1;(r?r.path!=="/"&&i["**"]:Rl(e.pathname))&&(this.options.notFoundRoute?a=[...a,this.options.notFoundRoute]:c=!0);const u=(()=>{if(c){if(this.options.notFoundMode!=="root")for(let p=a.length-1;p>=0;p--){const y=a[p];if(y.children)return y.id}return _r}})(),h=[],m=p=>p?.id?p.context??this.options.context??void 0:this.options.context??void 0;return a.forEach((p,y)=>{const v=h[y-1],[b,x,S]=(()=>{const K=v?.search??e.search,X=v?._strictSearch??void 0;try{const G=Kw(p.options.validateSearch,{...K})??void 0;return[{...K,...G},{...X,...G},void 0]}catch(G){let I=G;if(G instanceof Z0||(I=new Z0(G.message,{cause:G})),n?.throwOnError)throw I;return[K,{},I]}})(),k=p.options.loaderDeps?.({search:b})??"",C=k?JSON.stringify(k):"",{interpolatedPath:N,usedParams:R}=gx({path:p.fullPath,params:i,decodeCharMap:this.pathParamsDecodeCharMap}),O=p.id+N+C,E=this.getMatch(O),D=this.state.matches.find(K=>K.routeId===p.id),B=E?._strictParams??R;let q;if(!E){const K=p.options.params?.parse??p.options.parseParams;if(K)try{Object.assign(B,K(B))}catch(X){if(kr(X)||Gr(X)?q=X:q=new NU(X.message,{cause:X}),n?.throwOnError)throw q}}Object.assign(i,B);const P=D?"stay":"enter";let W;if(E)W={...E,cause:P,params:D?Fr(D.params,i):i,_strictParams:B,search:Fr(D?D.search:E.search,b),_strictSearch:x};else{const K=p.options.loader||p.options.beforeLoad||p.lazyFn||w6(p)?"pending":"success";W={id:O,ssr:this.isServer?void 0:p.options.ssr,index:y,routeId:p.id,params:D?Fr(D.params,i):i,_strictParams:B,pathname:N,updatedAt:Date.now(),search:D?Fr(D.search,b):b,_strictSearch:x,searchError:void 0,status:K,isFetching:!1,error:void 0,paramsError:q,__routeContext:void 0,_nonReactive:{loadPromise:$u()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:P,loaderDeps:D?Fr(D.loaderDeps,k):k,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:p.options.staticData||{},fullPath:p.fullPath}}n?.preload||(W.globalNotFound=u===p.id),W.searchError=S;const z=m(v);W.context={...z,...W.__routeContext,...W.__beforeLoadContext},h.push(W)}),h.forEach((p,y)=>{const v=this.looseRoutesById[p.routeId];if(!this.getMatch(p.id)&&n?._buildLocation!==!0){const x=h[y-1],S=m(x);if(v.options.context){const k={deps:p.loaderDeps,params:p.params,context:S??{},location:e,navigate:C=>this.navigate({...C,_fromLocation:e}),buildLocation:this.buildLocation,cause:p.cause,abortController:p.abortController,preload:!!p.preload,matches:h};p.__routeContext=v.options.context(k)??void 0}p.context={...S,...p.__routeContext,...p.__beforeLoadContext}}}),h}}class Z0 extends Error{}class NU extends Error{}function EU(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Kw(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Z0("Async validation not supported");if(n.issues)throw new Z0(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function AU({pathname:t,routesById:e,processedTree:n}){const s={},r=Rl(t);let i;const a=Y9(r,n,!0);return a&&(i=a.route,Object.assign(s,a.params)),{matchedRoutes:a?.branch||[e[_r]],routeParams:s,foundRoute:i}}function jU({search:t,dest:e,destRoutes:n,_includeValidateSearch:s}){const r=n.reduce((c,u)=>{const h=[];if("search"in u.options)u.options.search?.middlewares&&h.push(...u.options.search.middlewares);else if(u.options.preSearchFilters||u.options.postSearchFilters){const m=({search:p,next:y})=>{let v=p;"preSearchFilters"in u.options&&u.options.preSearchFilters&&(v=u.options.preSearchFilters.reduce((x,S)=>S(x),p));const b=y(v);return"postSearchFilters"in u.options&&u.options.postSearchFilters?u.options.postSearchFilters.reduce((x,S)=>S(x),b):b};h.push(m)}if(s&&u.options.validateSearch){const m=({search:p,next:y})=>{const v=y(p);try{return{...v,...Kw(u.options.validateSearch,v)??void 0}}catch{return v}};h.push(m)}return c.concat(h)},[])??[],i=({search:c})=>e.search?e.search===!0?c:xo(e.search,c):{};r.push(i);const a=(c,u)=>{if(c>=r.length)return u;const h=r[c];return h({search:u,next:p=>a(c+1,p)})};return a(0,t)}const TU="Error preloading route! ";class N6{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const s=this.options,r=!s?.path&&!s?.id;this.parentRoute=this.options.getParentRoute?.(),r?this._path=_r:this.parentRoute||Ca(!1);let i=r?_r:s?.path;i&&i!=="/"&&(i=p6(i));const a=s?.id||i;let c=r?_r:p0([this.parentRoute.id===_r?"":this.parentRoute.id,a]);i===_r&&(i="/"),c!==_r&&(c=p0(["/",c]));const u=c===_r?"/":p0([this.parentRoute.fullPath,i]);this._path=i,this._id=c,this._fullPath=u,this._to=u},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class RU extends N6{constructor(e){super(e)}}function V2(t){const e=t.errorComponent??fv;return f.jsx(OU,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:s})=>n?V.createElement(e,{error:n,reset:s}):t.children})}class OU extends V.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function fv({error:t}){const[e,n]=V.useState(!1);return f.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[f.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),f.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(s=>!s),children:e?"Hide Error":"Show Error"})]}),f.jsx("div",{style:{height:".25rem"}}),e?f.jsx("div",{children:f.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?f.jsx("code",{children:t.message}):null})}):null]})}function MU({children:t,fallback:e=null}){return DU()?f.jsx(ks.Fragment,{children:t}):f.jsx(ks.Fragment,{children:e})}function DU(){return ks.useSyncExternalStore(BU,()=>!0,()=>!1)}function BU(){return()=>{}}var vx={exports:{}},bx={},_x={exports:{}},xx={};var P3;function LU(){if(P3)return xx;P3=1;var t=ah();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,r=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function c(p,y){var v=y(),b=s({inst:{value:v,getSnapshot:y}}),x=b[0].inst,S=b[1];return i(function(){x.value=v,x.getSnapshot=y,u(x)&&S({inst:x})},[p,v,y]),r(function(){return u(x)&&S({inst:x}),p(function(){u(x)&&S({inst:x})})},[p]),a(v),v}function u(p){var y=p.getSnapshot;p=p.value;try{var v=y();return!n(p,v)}catch{return!0}}function h(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return xx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,xx}var $3;function IU(){return $3||($3=1,_x.exports=LU()),_x.exports}var z3;function PU(){if(z3)return bx;z3=1;var t=ah(),e=IU();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var s=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,c=t.useMemo,u=t.useDebugValue;return bx.useSyncExternalStoreWithSelector=function(h,m,p,y,v){var b=i(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=c(function(){function k(E){if(!C){if(C=!0,N=E,E=y(E),v!==void 0&&x.hasValue){var D=x.value;if(v(D,E))return R=D}return R=E}if(D=R,s(N,E))return D;var B=y(E);return v!==void 0&&v(D,B)?(N=E,D):(N=E,R=B)}var C=!1,N,R,O=p===void 0?null:p;return[function(){return k(m())},O===null?void 0:function(){return k(O())}]},[m,p,y,v]);var S=r(h,b[0],b[1]);return a(function(){x.hasValue=!0,x.value=S},[S]),u(S),S},bx}var U3;function $U(){return U3||(U3=1,vx.exports=PU()),vx.exports}var zU=$U();function UU(t,e=s=>s,n={}){const s=n.equal??HU;return zU.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,s)}function HU(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[s,r]of t)if(!e.has(s)||!Object.is(r,e.get(s)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=H3(t);if(n.length!==H3(e).length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!Object.is(t[n[s]],e[n[s]]))return!1;return!0}function H3(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const wx=V.createContext(null);function E6(){return typeof document>"u"?wx:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=wx,wx)}function Er(t){const e=V.useContext(E6());return t?.warn,e}function tr(t){const e=Er({warn:t?.router===void 0}),n=t?.router||e,s=V.useRef(void 0);return UU(n.__store,r=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const i=Fr(s.current,t.select(r));return s.current=i,i}return t.select(r)}return r})}const pv=V.createContext(void 0),FU=V.createContext(void 0);function Pi(t){const e=V.useContext(t.from?FU:pv);return tr({select:s=>{const r=s.matches.find(i=>t.from?t.from===i.routeId:i.id===e);if(Ca(!((t.shouldThrow??!0)&&!r),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),r!==void 0)return t.select?t.select(r):r},structuralSharing:t.structuralSharing})}function q2(t){return Pi({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function K2(t){const{select:e,...n}=t;return Pi({...n,select:s=>e?e(s.loaderDeps):s.loaderDeps})}function jp(t){return Pi({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function mv(t){return Pi({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}const jg=typeof window<"u"?V.useLayoutEffect:V.useEffect;function Sx(t){const e=V.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function VU(t,e,n={},s={}){V.useEffect(()=>{if(!t.current||s.disabled||typeof IntersectionObserver!="function")return;const r=new IntersectionObserver(([i])=>{e(i)},n);return r.observe(t.current),()=>{r.disconnect()}},[e,n,s.disabled,t])}function qU(t){const e=V.useRef(null);return V.useImperativeHandle(t,()=>e.current,[]),e}function oh(t){const e=Er();return V.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}var W2=h6();function KU(t,e){const n=Er(),[s,r]=V.useState(!1),i=V.useRef(!1),a=qU(e),{activeProps:c,inactiveProps:u,activeOptions:h,to:m,preload:p,preloadDelay:y,hashScrollIntoView:v,replace:b,startTransition:x,resetScroll:S,viewTransition:k,children:C,target:N,disabled:R,style:O,className:E,onClick:D,onFocus:B,onMouseEnter:q,onMouseLeave:P,onTouchStart:W,ignoreBlocker:z,params:K,search:X,hash:G,state:I,mask:Y,reloadDocument:Q,unsafeRelative:$,from:A,_fromLocation:M,...H}=t,T=tr({select:je=>je.location.search,structuralSharing:!0}),J=t.from,ne=V.useMemo(()=>({...t,from:J}),[n,T,J,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),Z=V.useMemo(()=>n.buildLocation({...ne}),[n,ne]),oe=V.useMemo(()=>{if(R)return;let je=Z.maskedLocation?Z.maskedLocation.url.href:Z.url.href,Le=!1;return n.origin&&(je.startsWith(n.origin)?je=n.history.createHref(je.replace(n.origin,""))||"/":Le=!0),{href:je,external:Le}},[R,Z.maskedLocation,Z.url,n.origin,n.history]),ke=V.useMemo(()=>{if(oe?.external)return oe.href;try{return new URL(m),m}catch{}},[m,oe]),Se=t.reloadDocument||ke?!1:p??n.options.defaultPreload,Ge=y??n.options.defaultPreloadDelay??0,$e=tr({select:je=>{if(ke)return!1;if(h?.exact){if(!nU(je.location.pathname,Z.pathname,n.basepath))return!1}else{const Le=W0(je.location.pathname,n.basepath),Ct=W0(Z.pathname,n.basepath);if(!(Le.startsWith(Ct)&&(Le.length===Ct.length||Le[Ct.length]==="/")))return!1}return(h?.includeSearch??!0)&&!Tl(je.location.search,Z.search,{partial:!h?.exact,ignoreUndefined:!h?.explicitUndefined})?!1:h?.includeHash?je.location.hash===Z.hash:!0}}),it=V.useCallback(()=>{n.preloadRoute({...ne}).catch(je=>{console.warn(je),console.warn(TU)})},[n,ne]),qe=V.useCallback(je=>{je?.isIntersecting&&it()},[it]);VU(a,qe,XU,{disabled:!!R||Se!=="viewport"}),V.useEffect(()=>{i.current||!R&&Se==="render"&&(it(),i.current=!0)},[R,it,Se]);const Qe=je=>{const Le=je.currentTarget.getAttribute("target"),Ct=N!==void 0?N:Le;if(!R&&!JU(je)&&!je.defaultPrevented&&(!Ct||Ct==="_self")&&je.button===0){je.preventDefault(),W2.flushSync(()=>{r(!0)});const fe=n.subscribe("onResolved",()=>{fe(),r(!1)});n.navigate({...ne,replace:b,resetScroll:S,hashScrollIntoView:v,startTransition:x,viewTransition:k,ignoreBlocker:z})}};if(ke)return{...H,ref:a,href:ke,...C&&{children:C},...N&&{target:N},...R&&{disabled:R},...O&&{style:O},...E&&{className:E},...D&&{onClick:D},...B&&{onFocus:B},...q&&{onMouseEnter:q},...P&&{onMouseLeave:P},...W&&{onTouchStart:W}};const Ot=je=>{R||Se&&it()},jt=Ot,an=je=>{if(!(R||!Se))if(!Ge)it();else{const Le=je.target;if(Ed.has(Le))return;const Ct=setTimeout(()=>{Ed.delete(Le),it()},Ge);Ed.set(Le,Ct)}},on=je=>{if(R||!Se||!Ge)return;const Le=je.target,Ct=Ed.get(Le);Ct&&(clearTimeout(Ct),Ed.delete(Le))},qt=$e?xo(c,{})??WU:kx,Zt=$e?kx:xo(u,{})??kx,Ye=[E,qt.className,Zt.className].filter(Boolean).join(" "),tt=(O||qt.style||Zt.style)&&{...O,...qt.style,...Zt.style};return{...H,...qt,...Zt,href:oe?.href,ref:a,onClick:Ad([D,Qe]),onFocus:Ad([B,Ot]),onMouseEnter:Ad([q,an]),onMouseLeave:Ad([P,on]),onTouchStart:Ad([W,jt]),disabled:!!R,target:N,...tt&&{style:tt},...Ye&&{className:Ye},...R&&GU,...$e&&YU,...s&&ZU}}const kx={},WU={className:"active"},GU={role:"link","aria-disabled":!0},YU={"data-status":"active","aria-current":"page"},ZU={"data-transitioning":"transitioning"},Ed=new WeakMap,XU={rootMargin:"100px"},Ad=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}},ac=V.forwardRef((t,e)=>{const{_asChild:n,...s}=t,{type:r,ref:i,...a}=KU(s,e),c=typeof s.children=="function"?s.children({isActive:a["data-status"]==="active"}):s.children;return n===void 0&&delete a.disabled,V.createElement(n||"a",{...a,ref:i},c)});function JU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}let QU=class extends N6{constructor(e){super(e),this.useMatch=n=>Pi({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Pi({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>mv({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>jp({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>K2({...n,from:this.id}),this.useLoaderData=n=>q2({...n,from:this.id}),this.useNavigate=()=>oh({from:this.fullPath}),this.Link=ks.forwardRef((n,s)=>f.jsx(ac,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function Fi(t){return new QU(t)}class eH extends RU{constructor(e){super(e),this.useMatch=n=>Pi({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Pi({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>mv({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>jp({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>K2({...n,from:this.id}),this.useLoaderData=n=>q2({...n,from:this.id}),this.useNavigate=()=>oh({from:this.fullPath}),this.Link=ks.forwardRef((n,s)=>f.jsx(ac,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function tH(t){return new eH(t)}function F3(t){return typeof t=="object"?new V3(t,{silent:!0}).createRoute(t):new V3(t,{silent:!0}).createRoute}class V3{constructor(e,n){this.path=e,this.createRoute=s=>{this.silent;const r=Fi(s);return r.isRoot=!1,r},this.silent=n?.silent}}class q3{constructor(e){this.useMatch=n=>Pi({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Pi({from:this.options.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>mv({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>jp({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>K2({...n,from:this.options.id}),this.useLoaderData=n=>q2({...n,from:this.options.id}),this.useNavigate=()=>{const n=Er();return oh({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function K3(t){return typeof t=="object"?new q3(t):e=>new q3({id:t,...e})}function nH(){const t=Er(),e=V.useRef({router:t,mounted:!1}),[n,s]=V.useState(!1),{hasPendingMatches:r,isLoading:i}=tr({select:p=>({isLoading:p.isLoading,hasPendingMatches:p.matches.some(y=>y.status==="pending")}),structuralSharing:!0}),a=Sx(i),c=i||n||r,u=Sx(c),h=i||r,m=Sx(h);return t.startTransition=p=>{s(!0),V.startTransition(()=>{p(),s(!1)})},V.useEffect(()=>{const p=t.history.subscribe(t.load),y=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Rl(t.latestLocation.publicHref)!==Rl(y.publicHref)&&t.commitLocation({...y,replace:!0}),()=>{p()}},[t,t.history]),jg(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(y){console.error(y)}})()},[t]),jg(()=>{a&&!i&&t.emit({type:"onLoad",...Ol(t.state)})},[a,t,i]),jg(()=>{m&&!h&&t.emit({type:"onBeforeRouteMount",...Ol(t.state)})},[h,m,t]),jg(()=>{if(u&&!c){const p=Ol(t.state);t.emit({type:"onResolved",...p}),t.__store.setState(y=>({...y,status:"idle",resolvedLocation:y.location})),p.hrefChanged&&uU(t)}},[c,u,t]),null}function sH(t){const e=tr({select:n=>`not-found-${n.location.pathname}-${n.status}`});return f.jsx(V2,{getResetKey:()=>e,onCatch:(n,s)=>{if(kr(n))t.onCatch?.(n,s);else throw n},errorComponent:({error:n})=>{if(kr(n))return t.fallback?.(n);throw n},children:t.children})}function rH(){return f.jsx("p",{children:"Not Found"})}function fu(t){return f.jsx(f.Fragment,{children:t.children})}function A6(t,e,n){return e.options.notFoundComponent?f.jsx(e.options.notFoundComponent,{...n}):t.options.defaultNotFoundComponent?f.jsx(t.options.defaultNotFoundComponent,{...n}):f.jsx(rH,{})}function iH({children:t}){const e=Er();return e.isServer?f.jsx("script",{nonce:e.options.ssr?.nonce,dangerouslySetInnerHTML:{__html:t+";document.currentScript.remove()"}}):null}function aH(){const t=Er();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const n=(t.options.getScrollRestorationKey||qw)(t.latestLocation),s=n!==qw(t.latestLocation)?n:void 0,r={storageKey:G0,shouldScrollRestoration:!0};return s&&(r.key=s),f.jsx(iH,{children:`(${g6.toString()})(${JSON.stringify(r)})`})}const j6=V.memo(function({matchId:e}){const n=Er(),s=tr({select:k=>{const C=k.matches.find(N=>N.id===e);return Ca(C),{routeId:C.routeId,ssr:C.ssr,_displayPending:C._displayPending}},structuralSharing:!0}),r=n.routesById[s.routeId],i=r.options.pendingComponent??n.options.defaultPendingComponent,a=i?f.jsx(i,{}):null,c=r.options.errorComponent??n.options.defaultErrorComponent,u=r.options.onCatch??n.options.defaultOnCatch,h=r.isRoot?r.options.notFoundComponent??n.options.notFoundRoute?.options.component:r.options.notFoundComponent,m=s.ssr===!1||s.ssr==="data-only",p=(!r.isRoot||r.options.wrapInSuspense||m)&&(r.options.wrapInSuspense??i??(r.options.errorComponent?.preload||m))?V.Suspense:fu,y=c?V2:fu,v=h?sH:fu,b=tr({select:k=>k.loadedAt}),x=tr({select:k=>{const C=k.matches.findIndex(N=>N.id===e);return k.matches[C-1]?.routeId}}),S=r.isRoot?r.options.shellComponent??fu:fu;return f.jsxs(S,{children:[f.jsx(pv.Provider,{value:e,children:f.jsx(p,{fallback:a,children:f.jsx(y,{getResetKey:()=>b,errorComponent:c||fv,onCatch:(k,C)=>{if(kr(k))throw k;u?.(k,C)},children:f.jsx(v,{fallback:k=>{if(!h||k.routeId&&k.routeId!==s.routeId||!k.routeId&&!r.isRoot)throw k;return V.createElement(h,k)},children:m||s._displayPending?f.jsx(MU,{fallback:a,children:f.jsx(W3,{matchId:e})}):f.jsx(W3,{matchId:e})})})})}),x===_r&&n.options.scrollRestoration?f.jsxs(f.Fragment,{children:[f.jsx(oH,{}),f.jsx(aH,{})]}):null]})});function oH(){const t=Er(),e=V.useRef(void 0);return f.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...Ol(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const W3=V.memo(function({matchId:e}){const n=Er(),{match:s,key:r,routeId:i}=tr({select:u=>{const h=u.matches.find(b=>b.id===e),m=h.routeId,y=(n.routesById[m].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:m,loaderDeps:h.loaderDeps,params:h._strictParams,search:h._strictSearch});return{key:y?JSON.stringify(y):void 0,routeId:m,match:{id:h.id,status:h.status,error:h.error,invalid:h.invalid,_forcePending:h._forcePending,_displayPending:h._displayPending}}},structuralSharing:!0}),a=n.routesById[i],c=V.useMemo(()=>{const u=a.options.component??n.options.defaultComponent;return u?f.jsx(u,{},r):f.jsx(T6,{})},[r,a.options.component,n.options.defaultComponent]);if(s._displayPending)throw n.getMatch(s.id)?._nonReactive.displayPendingPromise;if(s._forcePending)throw n.getMatch(s.id)?._nonReactive.minPendingPromise;if(s.status==="pending"){const u=a.options.pendingMinMs??n.options.defaultPendingMinMs;if(u){const h=n.getMatch(s.id);if(h&&!h._nonReactive.minPendingPromise&&!n.isServer){const m=$u();h._nonReactive.minPendingPromise=m,setTimeout(()=>{m.resolve(),h._nonReactive.minPendingPromise=void 0},u)}}throw n.getMatch(s.id)?._nonReactive.loadPromise}if(s.status==="notFound")return Ca(kr(s.error)),A6(n,a,s.error);if(s.status==="redirected")throw Ca(Gr(s.error)),n.getMatch(s.id)?._nonReactive.loadPromise;if(s.status==="error"){if(n.isServer){const u=(a.options.errorComponent??n.options.defaultErrorComponent)||fv;return f.jsx(u,{error:s.error,reset:void 0,info:{componentStack:""}})}throw s.error}return c}),T6=V.memo(function(){const e=Er(),n=V.useContext(pv),s=tr({select:h=>h.matches.find(m=>m.id===n)?.routeId}),r=e.routesById[s],i=tr({select:h=>{const p=h.matches.find(y=>y.id===n);return Ca(p),p.globalNotFound}}),a=tr({select:h=>{const m=h.matches,p=m.findIndex(y=>y.id===n);return m[p+1]?.id}}),c=e.options.defaultPendingComponent?f.jsx(e.options.defaultPendingComponent,{}):null;if(i)return A6(e,r,void 0);if(!a)return null;const u=f.jsx(j6,{matchId:a});return s===_r?f.jsx(V.Suspense,{fallback:c,children:u}):u});function lH(){const t=Er(),n=t.routesById[_r].options.pendingComponent??t.options.defaultPendingComponent,s=n?f.jsx(n,{}):null,r=t.isServer||typeof document<"u"&&t.ssr?fu:V.Suspense,i=f.jsxs(r,{fallback:s,children:[!t.isServer&&f.jsx(nH,{}),f.jsx(cH,{})]});return t.options.InnerWrap?f.jsx(t.options.InnerWrap,{children:i}):i}function cH(){const t=Er(),e=tr({select:r=>r.matches[0]?.id}),n=tr({select:r=>r.loadedAt}),s=e?f.jsx(j6,{matchId:e}):null;return f.jsx(pv.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?s:f.jsx(V2,{getResetKey:()=>n,errorComponent:fv,onCatch:r=>{r.message||r.toString()},children:s})})}const uH=t=>new hH(t);class hH extends CU{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=F3,globalThis.createLazyFileRoute=K3):typeof window<"u"&&(window.createFileRoute=F3,window.createLazyFileRoute=K3);function dH({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const s=E6(),r=f.jsx(s.Provider,{value:t,children:e});return t.options.Wrap?f.jsx(t.options.Wrap,{children:r}):r}function fH({router:t,...e}){return f.jsx(dH,{router:t,...e,children:f.jsx(lH,{})})}let Wd={};async function pH(){try{const t=await fetch("/config.json");if(t.ok){const e=await t.json();Wd={...Wd,...e}}else console.warn("Failed to load config.json, using defaults");return Wd}catch(t){return console.warn("Error loading config:",t),Wd}}function $i(){return Wd}function mH(t,e){return e.some(n=>n.includes("*")?new RegExp(`^${n.replace(/\*/g,".*")}$`).test(t):n===t)}var Tp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gH={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},yH=class{#e=gH;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},wl=new yH;function vH(t){setTimeout(t,0)}var zl=typeof window>"u"||"Deno"in globalThis;function Js(){}function bH(t,e){return typeof t=="function"?t(e):t}function Ww(t){return typeof t=="number"&&t>=0&&t!==1/0}function R6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function To(t,e){return typeof t=="function"?t(e):t}function Vr(t,e){return typeof t=="function"?t(e):t}function G3(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:c}=t;if(a){if(s){if(e.queryHash!==G2(a,e.options))return!1}else if(!np(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||i&&!i(e))}function Y3(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(tp(e.options.mutationKey)!==tp(i))return!1}else if(!np(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function G2(t,e){return(e?.queryKeyHashFn||tp)(t)}function tp(t){return JSON.stringify(t,(e,n)=>Yw(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function np(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>np(t[n],e[n])):!1}var _H=Object.prototype.hasOwnProperty;function O6(t,e){if(t===e)return t;const n=Z3(t)&&Z3(e);if(!n&&!(Yw(t)&&Yw(e)))return e;const r=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,c=n?new Array(a):{};let u=0;for(let h=0;h<a;h++){const m=n?h:i[h],p=t[m],y=e[m];if(p===y){c[m]=p,(n?h<r:_H.call(t,m))&&u++;continue}if(p===null||y===null||typeof p!="object"||typeof y!="object"){c[m]=y;continue}const v=O6(p,y);c[m]=v,v===p&&u++}return r===a&&u===r?t:c}function Gw(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Z3(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Yw(t){if(!X3(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!X3(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function X3(t){return Object.prototype.toString.call(t)==="[object Object]"}function xH(t){return new Promise(e=>{wl.setTimeout(e,t)})}function Zw(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?O6(t,e):e}function J3(t){return t}function wH(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function SH(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var Y2=Symbol();function M6(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Y2?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function D6(t,e){return typeof t=="function"?t(...e):!!t}function kH(t,e,n){let s=!1,r;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(r??=e(),s||(s=!0,r.aborted?n():r.addEventListener("abort",n,{once:!0})),r)}),t}var CH=class extends Tp{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!zl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Z2=new CH;function Xw(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}var NH=vH;function EH(){let t=[],e=0,n=c=>{c()},s=c=>{c()},r=NH;const i=c=>{e?t.push(c):r(()=>{n(c)})},a=()=>{const c=t;t=[],c.length&&r(()=>{s(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||a()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{r=c}}}var hs=EH(),AH=class extends Tp{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!zl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},X0=new AH;function jH(t){return Math.min(1e3*2**t,3e4)}function B6(t){return(t??"online")==="online"?X0.isOnline():!0}var Jw=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function L6(t){let e=!1,n=0,s;const r=Xw(),i=()=>r.status!=="pending",a=x=>{if(!i()){const S=new Jw(x);y(S),t.onCancel?.(S)}},c=()=>{e=!0},u=()=>{e=!1},h=()=>Z2.isFocused()&&(t.networkMode==="always"||X0.isOnline())&&t.canRun(),m=()=>B6(t.networkMode)&&t.canRun(),p=x=>{i()||(s?.(),r.resolve(x))},y=x=>{i()||(s?.(),r.reject(x))},v=()=>new Promise(x=>{s=S=>{(i()||h())&&x(S)},t.onPause?.()}).then(()=>{s=void 0,i()||t.onContinue?.()}),b=()=>{if(i())return;let x;const S=n===0?t.initialPromise:void 0;try{x=S??t.fn()}catch(k){x=Promise.reject(k)}Promise.resolve(x).then(p).catch(k=>{if(i())return;const C=t.retry??(zl?0:3),N=t.retryDelay??jH,R=typeof N=="function"?N(n,k):N,O=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,k);if(e||!O){y(k);return}n++,t.onFail?.(n,k),xH(R).then(()=>h()?void 0:v()).then(()=>{e?y(k):b()})})};return{promise:r,status:()=>r.status,cancel:a,continue:()=>(s?.(),r),cancelRetry:c,continueRetry:u,canStart:m,start:()=>(m()?b():v().then(b),r)}}var I6=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ww(this.gcTime)&&(this.#e=wl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(zl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(wl.clearTimeout(this.#e),this.#e=void 0)}},TH=class extends I6{#e;#t;#n;#r;#s;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=ej(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=ej(this.options);e.data!==void 0&&(this.setState(Q3(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Zw(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#s?.promise;return this.#s?.cancel(t),e?e.then(Js).catch(Js):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Vr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Y2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>To(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!R6(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,s=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},r=()=>{const c=M6(this.options,e),h=(()=>{const m={client:this.#r,queryKey:this.queryKey,meta:this.meta};return s(m),m})();return this.#a=!1,this.options.persister?this.options.persister(c,h,this):c(h)},a=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};return s(c),c})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#s=L6({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:c=>{c instanceof Jw&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,u)=>{this.#i({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const c=await this.#s.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof Jw){if(c.silent)return this.#s.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#i({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...P6(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...Q3(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?s:void 0,s;case"error":const r=t.error;return{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),hs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function P6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:B6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Q3(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ej(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var RH=class extends Tp{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#a=Xw(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#o;#a;#i;#m;#d;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),tj(this.#t,this.options)?this.#h():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qw(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qw(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!Gw(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&nj(this.#t,n,this.options,e)&&this.#h(),this.updateResult(),s&&(this.#t!==n||Vr(this.options.enabled,this.#t)!==Vr(e.enabled,this.#t)||To(this.options.staleTime,this.#t)!==To(e.staleTime,this.#t))&&this.#g();const r=this.#y();s&&(this.#t!==n||Vr(this.options.enabled,this.#t)!==Vr(e.enabled,this.#t)||r!==this.#l)&&this.#v(r)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return MH(this,n)&&(this.#r=n,this.#o=this.options,this.#s=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),e?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Js)),e}#g(){this.#_();const t=To(this.options.staleTime,this.#t);if(zl||this.#r.isStale||!Ww(t))return;const n=R6(this.#r.dataUpdatedAt,t)+1;this.#c=wl.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#l=t,!(zl||Vr(this.options.enabled,this.#t)===!1||!Ww(this.#l)||this.#l===0)&&(this.#u=wl.setInterval(()=>{(this.options.refetchIntervalInBackground||Z2.isFocused())&&this.#h()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#_(){this.#c&&(wl.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(wl.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,s=this.options,r=this.#r,i=this.#s,a=this.#o,u=t!==n?t.state:this.#n,{state:h}=t;let m={...h},p=!1,y;if(e._optimisticResults){const B=this.hasListeners(),q=!B&&tj(t,e),P=B&&nj(t,n,e,s);(q||P)&&(m={...m,...P6(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:x}=m;y=m.data;let S=!1;if(e.placeholderData!==void 0&&y===void 0&&x==="pending"){let B;r?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(B=r.data,S=!0):B=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,B!==void 0&&(x="success",y=Zw(r?.data,B,e),p=!0)}if(e.select&&y!==void 0&&!S)if(r&&y===i?.data&&e.select===this.#m)y=this.#d;else try{this.#m=e.select,y=e.select(y),y=Zw(r?.data,y,e),this.#d=y,this.#i=null}catch(B){this.#i=B}this.#i&&(v=this.#i,y=this.#d,b=Date.now(),x="error");const k=m.fetchStatus==="fetching",C=x==="pending",N=x==="error",R=C&&k,O=y!==void 0,D={status:x,fetchStatus:m.fetchStatus,isPending:C,isSuccess:x==="success",isError:N,isInitialLoading:R,isLoading:R,data:y,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:k,isRefetching:k&&!C,isLoadingError:N&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:N&&O,isStale:X2(t,e),refetch:this.refetch,promise:this.#a,isEnabled:Vr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const B=W=>{D.status==="error"?W.reject(D.error):D.data!==void 0&&W.resolve(D.data)},q=()=>{const W=this.#a=D.promise=Xw();B(W)},P=this.#a;switch(P.status){case"pending":t.queryHash===n.queryHash&&B(P);break;case"fulfilled":(D.status==="error"||D.data!==P.value)&&q();break;case"rejected":(D.status!=="error"||D.error!==P.reason)&&q();break}}return D}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#o=this.options,this.#s.data!==void 0&&(this.#f=this.#t),Gw(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,r=typeof s=="function"?s():s;if(r==="all"||!r&&!this.#p.size)return!0;const i=new Set(r??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(a=>{const c=a;return this.#r[c]!==t[c]&&i.has(c)})};this.#S({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){hs.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function OH(t,e){return Vr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tj(t,e){return OH(t,e)||t.state.data!==void 0&&Qw(t,e,e.refetchOnMount)}function Qw(t,e,n){if(Vr(e.enabled,t)!==!1&&To(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&X2(t,e)}return!1}function nj(t,e,n,s){return(t!==e||Vr(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&X2(t,n)}function X2(t,e){return Vr(e.enabled,t)!==!1&&t.isStaleByTime(To(e.staleTime,t))}function MH(t,e){return!Gw(t.getCurrentResult(),e)}function sj(t){return{onFetch:(e,n)=>{const s=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let m=!1;const p=b=>{kH(b,()=>e.signal,()=>m=!0)},y=M6(e.options,e.fetchOptions),v=async(b,x,S)=>{if(m)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const E={client:e.client,queryKey:e.queryKey,pageParam:x,direction:S?"backward":"forward",meta:e.options.meta};return p(E),E})(),N=await y(C),{maxPages:R}=e.options,O=S?SH:wH;return{pages:O(b.pages,N,R),pageParams:O(b.pageParams,x,R)}};if(r&&i.length){const b=r==="backward",x=b?DH:rj,S={pages:i,pageParams:a},k=x(s,S);c=await v(S,k,b)}else{const b=t??i.length;do{const x=u===0?a[0]??s.initialPageParam:rj(s,c);if(u>0&&x==null)break;c=await v(c,x),u++}while(u<b)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function rj(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function DH(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var BH=class extends I6{#e;#t;#n;#r;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||LH(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#s({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=L6({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#s({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#s({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",r=!this.#r.canStart();try{if(s)e();else{this.#s({type:"pending",variables:t,isPaused:r}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#s({type:"pending",context:a,variables:t,isPaused:r})}const i=await this.#r.start();return await this.#n.config.onSuccess?.(i,t,this.state.context,this,n),await this.options.onSuccess?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,t,this.state.context,n),this.#s({type:"success",data:i}),i}catch(i){try{await this.#n.config.onError?.(i,t,this.state.context,this,n)}catch(a){Promise.reject(a)}try{await this.options.onError?.(i,t,this.state.context,n)}catch(a){Promise.reject(a)}try{await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,i,t,this.state.context,n)}catch(a){Promise.reject(a)}throw this.#s({type:"error",error:i}),i}finally{this.#n.runNext(this)}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),hs.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function LH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var IH=class extends Tp{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new BH({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=Tg(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Tg(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Tg(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(r=>r.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=Tg(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){hs.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Y3(e,n))}findAll(t={}){return this.getAll().filter(e=>Y3(t,e))}notify(t){hs.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return hs.batch(()=>Promise.all(t.map(e=>e.continue().catch(Js))))}};function Tg(t){return t.options.scope?.id}var PH=class extends Tp{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,r=e.queryHash??G2(s,e);let i=this.get(r);return i||(i=new TH({client:t,queryKey:s,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){hs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>G3(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>G3(t,n)):e}notify(t){hs.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){hs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){hs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$H=class{#e;#t;#n;#r;#s;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new PH,this.#t=t.mutationCache||new IH,this.#n=t.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Z2.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=X0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(To(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(s.queryHash)?.state.data,a=bH(e,i);if(a!==void 0)return this.#e.build(this,s).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return hs.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;hs.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return hs.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=hs.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(Js).catch(Js)}invalidateQueries(t,e={}){return hs.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=hs.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(Js)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Js)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(To(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Js).catch(Js)}fetchInfiniteQuery(t){return t.behavior=sj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Js).catch(Js)}ensureInfiniteQueryData(t){return t.behavior=sj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return X0.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(tp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{np(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#s.set(tp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{np(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=G2(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Y2&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},$6=V.createContext(void 0),zH=t=>{const e=V.useContext($6);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},UH=({client:t,children:e})=>(V.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx($6.Provider,{value:t,children:e})),z6=V.createContext(!1),HH=()=>V.useContext(z6);z6.Provider;function FH(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var VH=V.createContext(FH()),qH=()=>V.useContext(VH),KH=(t,e,n)=>{const s=n?.state.error&&typeof t.throwOnError=="function"?D6(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||s)&&(e.isReset()||(t.retryOnMount=!1))},WH=t=>{V.useEffect(()=>{t.clearReset()},[t])},GH=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&t.data===void 0||D6(n,[t.error,s])),YH=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...r)=>n(s(...r)):n(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},ZH=(t,e)=>t.isLoading&&t.isFetching&&!e,XH=(t,e)=>t?.suspense&&e.isPending,ij=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function JH(t,e,n){const s=HH(),r=qH(),i=zH(),a=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const c=i.getQueryCache().get(a.queryHash);a._optimisticResults=s?"isRestoring":"optimistic",YH(a),KH(a,r,c),WH(r);const u=!i.getQueryCache().get(a.queryHash),[h]=V.useState(()=>new e(i,a)),m=h.getOptimisticResult(a),p=!s&&t.subscribed!==!1;if(V.useSyncExternalStore(V.useCallback(y=>{const v=p?h.subscribe(hs.batchCalls(y)):Js;return h.updateResult(),v},[h,p]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),V.useEffect(()=>{h.setOptions(a)},[a,h]),XH(a,m))throw ij(a,h,r);if(GH({result:m,errorResetBoundary:r,throwOnError:a.throwOnError,query:c,suspense:a.suspense}))throw m.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,m),a.experimental_prefetchInRender&&!zl&&ZH(m,s)&&(u?ij(a,h,r):c?.promise)?.catch(Js).finally(()=>{h.updateResult()}),a.notifyOnChangeProps?m:h.trackResult(m)}function J0(t,e){return JH(t,RH)}function we(t,e,n){function s(c,u){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),c._zod.traits.has(t))return;c._zod.traits.add(t),e(c,u);const h=a.prototype,m=Object.keys(h);for(let p=0;p<m.length;p++){const y=m[p];y in c||(c[y]=h[y].bind(c))}}const r=n?.Parent??Object;class i extends r{}Object.defineProperty(i,"name",{value:t});function a(c){var u;const h=n?.Parent?new i:this;s(h,c),(u=h._zod).deferred??(u.deferred=[]);for(const m of h._zod.deferred)m();return h}return Object.defineProperty(a,"init",{value:s}),Object.defineProperty(a,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(t)}),Object.defineProperty(a,"name",{value:t}),a}class Ou extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class U6 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const H6={};function Ul(t){return H6}function F6(t){const e=Object.values(t).filter(s=>typeof s=="number");return Object.entries(t).filter(([s,r])=>e.indexOf(+s)===-1).map(([s,r])=>r)}function eS(t,e){return typeof e=="bigint"?e.toString():e}function J2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Q2(t){return t==null}function eC(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const aj=Symbol("evaluating");function Vt(t,e,n){let s;Object.defineProperty(t,e,{get(){if(s!==aj)return s===void 0&&(s=aj,s=n()),s},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function oc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ho(...t){const e={};for(const n of t){const s=Object.getOwnPropertyDescriptors(n);Object.assign(e,s)}return Object.defineProperties({},e)}function oj(t){return JSON.stringify(t)}function QH(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const V6="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Q0(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const eF=J2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function sp(t){if(Q0(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Q0(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function q6(t){return sp(t)?{...t}:Array.isArray(t)?[...t]:t}const tF=new Set(["string","number","symbol"]);function gv(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fo(t,e,n){const s=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(s._zod.parent=t),s}function dt(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function nF(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function sF(t,e){const n=t._zod.def,s=n.checks;if(s&&s.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=Ho(t._zod.def,{get shape(){const a={};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&(a[c]=n.shape[c])}return oc(this,"shape",a),a},checks:[]});return Fo(t,i)}function rF(t,e){const n=t._zod.def,s=n.checks;if(s&&s.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=Ho(t._zod.def,{get shape(){const a={...t._zod.def.shape};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&delete a[c]}return oc(this,"shape",a),a},checks:[]});return Fo(t,i)}function iF(t,e){if(!sp(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const i=t._zod.def.shape;for(const a in e)if(Object.getOwnPropertyDescriptor(i,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=Ho(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return oc(this,"shape",i),i}});return Fo(t,r)}function aF(t,e){if(!sp(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Ho(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return oc(this,"shape",s),s}});return Fo(t,n)}function oF(t,e){const n=Ho(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e._zod.def.shape};return oc(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return Fo(t,n)}function lF(t,e,n){const r=e._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=Ho(e._zod.def,{get shape(){const c=e._zod.def.shape,u={...c};if(n)for(const h in n){if(!(h in c))throw new Error(`Unrecognized key: "${h}"`);n[h]&&(u[h]=t?new t({type:"optional",innerType:c[h]}):c[h])}else for(const h in c)u[h]=t?new t({type:"optional",innerType:c[h]}):c[h];return oc(this,"shape",u),u},checks:[]});return Fo(e,a)}function cF(t,e,n){const s=Ho(e._zod.def,{get shape(){const r=e._zod.def.shape,i={...r};if(n)for(const a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=new t({type:"nonoptional",innerType:r[a]}))}else for(const a in r)i[a]=new t({type:"nonoptional",innerType:r[a]});return oc(this,"shape",i),i}});return Fo(e,s)}function wu(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function K6(t,e){return e.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(t),n})}function Rg(t){return typeof t=="string"?t:t?.message}function Hl(t,e,n){const s={...t,path:t.path??[]};if(!t.message){const r=Rg(t.inst?._zod.def?.error?.(t))??Rg(e?.error?.(t))??Rg(n.customError?.(t))??Rg(n.localeError?.(t))??"Invalid input";s.message=r}return delete s.inst,delete s.continue,e?.reportInput||delete s.input,s}function tC(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function rp(...t){const[e,n,s]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:s}:{...e}}const W6=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,eS,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},G6=we("$ZodError",W6),Y6=we("$ZodError",W6,{Parent:Error});function uF(t,e=n=>n.message){const n={},s=[];for(const r of t.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:n}}function hF(t,e=n=>n.message){const n={_errors:[]},s=r=>{for(const i of r.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>s({issues:a}));else if(i.code==="invalid_key")s({issues:i.issues});else if(i.code==="invalid_element")s({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let a=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(e(i))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(t),n}const nC=t=>(e,n,s,r)=>{const i=s?Object.assign(s,{async:!1}):{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new Ou;if(a.issues.length){const c=new(r?.Err??t)(a.issues.map(u=>Hl(u,i,Ul())));throw V6(c,r?.callee),c}return a.value},sC=t=>async(e,n,s,r)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const c=new(r?.Err??t)(a.issues.map(u=>Hl(u,i,Ul())));throw V6(c,r?.callee),c}return a.value},yv=t=>(e,n,s)=>{const r=s?{...s,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},r);if(i instanceof Promise)throw new Ou;return i.issues.length?{success:!1,error:new(t??G6)(i.issues.map(a=>Hl(a,r,Ul())))}:{success:!0,data:i.value}},dF=yv(Y6),vv=t=>async(e,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},r);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(a=>Hl(a,r,Ul())))}:{success:!0,data:i.value}},fF=vv(Y6),pF=t=>(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return nC(t)(e,n,r)},mF=t=>(e,n,s)=>nC(t)(e,n,s),gF=t=>async(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return sC(t)(e,n,r)},yF=t=>async(e,n,s)=>sC(t)(e,n,s),vF=t=>(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return yv(t)(e,n,r)},bF=t=>(e,n,s)=>yv(t)(e,n,s),_F=t=>async(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return vv(t)(e,n,r)},xF=t=>async(e,n,s)=>vv(t)(e,n,s),wF=/^[cC][^\s-]{8,}$/,SF=/^[0-9a-z]+$/,kF=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,CF=/^[0-9a-vA-V]{20}$/,NF=/^[A-Za-z0-9]{27}$/,EF=/^[a-zA-Z0-9_-]{21}$/,AF=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,jF=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,lj=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,TF=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,RF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function OF(){return new RegExp(RF,"u")}const MF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,DF=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,BF=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,LF=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,IF=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Z6=/^[A-Za-z0-9_-]*$/,PF=/^\+[1-9]\d{6,14}$/,X6="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",$F=new RegExp(`^${X6}$`);function J6(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function zF(t){return new RegExp(`^${J6(t)}$`)}function UF(t){const e=J6({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${n.join("|")})`;return new RegExp(`^${X6}T(?:${s})$`)}const HF=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},FF=/^[^A-Z]*$/,VF=/^[^a-z]*$/,Vi=we("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),qF=we("$ZodCheckMaxLength",(t,e)=>{var n;Vi.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!Q2(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(s._zod.bag.maximum=e.maximum)}),t._zod.check=s=>{const r=s.value;if(r.length<=e.maximum)return;const a=tC(r);s.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),KF=we("$ZodCheckMinLength",(t,e)=>{var n;Vi.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!Q2(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(s._zod.bag.minimum=e.minimum)}),t._zod.check=s=>{const r=s.value;if(r.length>=e.minimum)return;const a=tC(r);s.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),WF=we("$ZodCheckLengthEquals",(t,e)=>{var n;Vi.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!Q2(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),t._zod.check=s=>{const r=s.value,i=r.length;if(i===e.length)return;const a=tC(r),c=i>e.length;s.issues.push({origin:a,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:t,continue:!e.abort})}}),bv=we("$ZodCheckStringFormat",(t,e)=>{var n,s;Vi.init(t,e),t._zod.onattach.push(r=>{const i=r._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(s=t._zod).check??(s.check=()=>{})}),GF=we("$ZodCheckRegex",(t,e)=>{bv.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),YF=we("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=FF),bv.init(t,e)}),ZF=we("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=VF),bv.init(t,e)}),XF=we("$ZodCheckIncludes",(t,e)=>{Vi.init(t,e);const n=gv(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=s,t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(s)}),t._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:t,continue:!e.abort})}}),JF=we("$ZodCheckStartsWith",(t,e)=>{Vi.init(t,e);const n=new RegExp(`^${gv(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:t,continue:!e.abort})}}),QF=we("$ZodCheckEndsWith",(t,e)=>{Vi.init(t,e);const n=new RegExp(`.*${gv(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:t,continue:!e.abort})}}),eV=we("$ZodCheckOverwrite",(t,e)=>{Vi.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class tV{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(a=>a),r=Math.min(...s.map(a=>a.length-a.trimStart().length)),i=s.map(a=>a.slice(r)).map(a=>" ".repeat(this.indent*2)+a);for(const a of i)this.content.push(a)}compile(){const e=Function,n=this?.args,r=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...n,r.join(`
`))}}const nV={major:4,minor:3,patch:4},Kn=we("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=nV;const s=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&s.unshift(t);for(const r of s)for(const i of r._zod.onattach)i(t);if(s.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const r=(a,c,u)=>{let h=wu(a),m;for(const p of c){if(p._zod.def.when){if(!p._zod.def.when(a))continue}else if(h)continue;const y=a.issues.length,v=p._zod.check(a);if(v instanceof Promise&&u?.async===!1)throw new Ou;if(m||v instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await v,a.issues.length!==y&&(h||(h=wu(a,y)))});else{if(a.issues.length===y)continue;h||(h=wu(a,y))}}return m?m.then(()=>a):a},i=(a,c,u)=>{if(wu(a))return a.aborted=!0,a;const h=r(c,s,u);if(h instanceof Promise){if(u.async===!1)throw new Ou;return h.then(m=>t._zod.parse(m,u))}return t._zod.parse(h,u)};t._zod.run=(a,c)=>{if(c.skipChecks)return t._zod.parse(a,c);if(c.direction==="backward"){const h=t._zod.parse({value:a.value,issues:[]},{...c,skipChecks:!0});return h instanceof Promise?h.then(m=>i(m,a,c)):i(h,a,c)}const u=t._zod.parse(a,c);if(u instanceof Promise){if(c.async===!1)throw new Ou;return u.then(h=>r(h,s,c))}return r(u,s,c)}}Vt(t,"~standard",()=>({validate:r=>{try{const i=dF(t,r);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return fF(t,r).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),rC=we("$ZodString",(t,e)=>{Kn.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??HF(t._zod.bag),t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),dn=we("$ZodStringFormat",(t,e)=>{bv.init(t,e),rC.init(t,e)}),sV=we("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=jF),dn.init(t,e)}),rV=we("$ZodUUID",(t,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=lj(s))}else e.pattern??(e.pattern=lj());dn.init(t,e)}),iV=we("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=TF),dn.init(t,e)}),aV=we("$ZodURL",(t,e)=>{dn.init(t,e),t._zod.check=n=>{try{const s=n.value.trim(),r=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=r.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),oV=we("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=OF()),dn.init(t,e)}),lV=we("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=EF),dn.init(t,e)}),cV=we("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=wF),dn.init(t,e)}),uV=we("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=SF),dn.init(t,e)}),hV=we("$ZodULID",(t,e)=>{e.pattern??(e.pattern=kF),dn.init(t,e)}),dV=we("$ZodXID",(t,e)=>{e.pattern??(e.pattern=CF),dn.init(t,e)}),fV=we("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=NF),dn.init(t,e)}),pV=we("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=UF(e)),dn.init(t,e)}),mV=we("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=$F),dn.init(t,e)}),gV=we("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=zF(e)),dn.init(t,e)}),yV=we("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=AF),dn.init(t,e)}),vV=we("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=MF),dn.init(t,e),t._zod.bag.format="ipv4"}),bV=we("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=DF),dn.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),_V=we("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=BF),dn.init(t,e)}),xV=we("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=LF),dn.init(t,e),t._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[r,i]=s;if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function Q6(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const wV=we("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=IF),dn.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{Q6(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function SV(t){if(!Z6.test(t))return!1;const e=t.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return Q6(n)}const kV=we("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Z6),dn.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{SV(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),CV=we("$ZodE164",(t,e)=>{e.pattern??(e.pattern=PF),dn.init(t,e)});function NV(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&r?.typ!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}const EV=we("$ZodJWT",(t,e)=>{dn.init(t,e),t._zod.check=n=>{NV(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),AV=we("$ZodUnknown",(t,e)=>{Kn.init(t,e),t._zod.parse=n=>n}),jV=we("$ZodNever",(t,e)=>{Kn.init(t,e),t._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function cj(t,e,n){t.issues.length&&e.issues.push(...K6(n,t.issues)),e.value[n]=t.value}const TV=we("$ZodArray",(t,e)=>{Kn.init(t,e),t._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),n;n.value=Array(r.length);const i=[];for(let a=0;a<r.length;a++){const c=r[a],u=e.element._zod.run({value:c,issues:[]},s);u instanceof Promise?i.push(u.then(h=>cj(h,n,a))):cj(u,n,a)}return i.length?Promise.all(i).then(()=>n):n}});function ey(t,e,n,s,r){if(t.issues.length){if(r&&!(n in s))return;e.issues.push(...K6(n,t.issues))}t.value===void 0?n in s&&(e.value[n]=void 0):e.value[n]=t.value}function eD(t){const e=Object.keys(t.shape);for(const s of e)if(!t.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const n=nF(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function tD(t,e,n,s,r,i){const a=[],c=r.keySet,u=r.catchall._zod,h=u.def.type,m=u.optout==="optional";for(const p in e){if(c.has(p))continue;if(h==="never"){a.push(p);continue}const y=u.run({value:e[p],issues:[]},s);y instanceof Promise?t.push(y.then(v=>ey(v,n,p,e,m))):ey(y,n,p,e,m)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const RV=we("$ZodObject",(t,e)=>{if(Kn.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const c=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...c};return Object.defineProperty(e,"shape",{value:u}),u}})}const s=J2(()=>eD(e));Vt(t._zod,"propValues",()=>{const c=e.shape,u={};for(const h in c){const m=c[h]._zod;if(m.values){u[h]??(u[h]=new Set);for(const p of m.values)u[h].add(p)}}return u});const r=Q0,i=e.catchall;let a;t._zod.parse=(c,u)=>{a??(a=s.value);const h=c.value;if(!r(h))return c.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),c;c.value={};const m=[],p=a.shape;for(const y of a.keys){const v=p[y],b=v._zod.optout==="optional",x=v._zod.run({value:h[y],issues:[]},u);x instanceof Promise?m.push(x.then(S=>ey(S,c,y,h,b))):ey(x,c,y,h,b)}return i?tD(m,h,c,u,s.value,t):m.length?Promise.all(m).then(()=>c):c}}),OV=we("$ZodObjectJIT",(t,e)=>{RV.init(t,e);const n=t._zod.parse,s=J2(()=>eD(e)),r=y=>{const v=new tV(["shape","payload","ctx"]),b=s.value,x=N=>{const R=oj(N);return`shape[${R}]._zod.run({ value: input[${R}], issues: [] }, ctx)`};v.write("const input = payload.value;");const S=Object.create(null);let k=0;for(const N of b.keys)S[N]=`key_${k++}`;v.write("const newResult = {};");for(const N of b.keys){const R=S[N],O=oj(N),D=y[N]?._zod?.optout==="optional";v.write(`const ${R} = ${x(N)};`),D?v.write(`
        if (${R}.issues.length) {
          if (${O} in input) {
            payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${O}, ...iss.path] : [${O}]
            })));
          }
        }
        
        if (${R}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${R}.value;
        }
        
      `):v.write(`
        if (${R}.issues.length) {
          payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        if (${R}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${R}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const C=v.compile();return(N,R)=>C(y,N,R)};let i;const a=Q0,c=!H6.jitless,h=c&&eF.value,m=e.catchall;let p;t._zod.parse=(y,v)=>{p??(p=s.value);const b=y.value;return a(b)?c&&h&&v?.async===!1&&v.jitless!==!0?(i||(i=r(e.shape)),y=i(y,v),m?tD([],b,y,v,p,t):y):n(y,v):(y.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),y)}});function uj(t,e,n,s){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const r=t.filter(i=>!wu(i));return r.length===1?(e.value=r[0].value,r[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(a=>Hl(a,s,Ul())))}),e)}const MV=we("$ZodUnion",(t,e)=>{Kn.init(t,e),Vt(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),Vt(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),Vt(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),Vt(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${r.map(i=>eC(i.source)).join("|")})$`)}});const n=e.options.length===1,s=e.options[0]._zod.run;t._zod.parse=(r,i)=>{if(n)return s(r,i);let a=!1;const c=[];for(const u of e.options){const h=u._zod.run({value:r.value,issues:[]},i);if(h instanceof Promise)c.push(h),a=!0;else{if(h.issues.length===0)return h;c.push(h)}}return a?Promise.all(c).then(u=>uj(u,r,t,i)):uj(c,r,t,i)}}),DV=we("$ZodIntersection",(t,e)=>{Kn.init(t,e),t._zod.parse=(n,s)=>{const r=n.value,i=e.left._zod.run({value:r,issues:[]},s),a=e.right._zod.run({value:r,issues:[]},s);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([u,h])=>hj(n,u,h)):hj(n,i,a)}});function tS(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(sp(t)&&sp(e)){const n=Object.keys(e),s=Object.keys(t).filter(i=>n.indexOf(i)!==-1),r={...t,...e};for(const i of s){const a=tS(t[i],e[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};r[i]=a.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<t.length;s++){const r=t[s],i=e[s],a=tS(r,i);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function hj(t,e,n){const s=new Map;let r;for(const c of e.issues)if(c.code==="unrecognized_keys"){r??(r=c);for(const u of c.keys)s.has(u)||s.set(u,{}),s.get(u).l=!0}else t.issues.push(c);for(const c of n.issues)if(c.code==="unrecognized_keys")for(const u of c.keys)s.has(u)||s.set(u,{}),s.get(u).r=!0;else t.issues.push(c);const i=[...s].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(i.length&&r&&t.issues.push({...r,keys:i}),wu(t))return t;const a=tS(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const BV=we("$ZodEnum",(t,e)=>{Kn.init(t,e);const n=F6(e.entries),s=new Set(n);t._zod.values=s,t._zod.pattern=new RegExp(`^(${n.filter(r=>tF.has(typeof r)).map(r=>typeof r=="string"?gv(r):r.toString()).join("|")})$`),t._zod.parse=(r,i)=>{const a=r.value;return s.has(a)||r.issues.push({code:"invalid_value",values:n,input:a,inst:t}),r}}),LV=we("$ZodTransform",(t,e)=>{Kn.init(t,e),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new U6(t.constructor.name);const r=e.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(a=>(n.value=a,n));if(r instanceof Promise)throw new Ou;return n.value=r,n}});function dj(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const nD=we("$ZodOptional",(t,e)=>{Kn.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Vt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Vt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${eC(n.source)})?$`):void 0}),t._zod.parse=(n,s)=>{if(e.innerType._zod.optin==="optional"){const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>dj(i,n.value)):dj(r,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,s)}}),IV=we("$ZodExactOptional",(t,e)=>{nD.init(t,e),Vt(t._zod,"values",()=>e.innerType._zod.values),Vt(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,s)=>e.innerType._zod.run(n,s)}),PV=we("$ZodNullable",(t,e)=>{Kn.init(t,e),Vt(t._zod,"optin",()=>e.innerType._zod.optin),Vt(t._zod,"optout",()=>e.innerType._zod.optout),Vt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${eC(n.source)}|null)$`):void 0}),Vt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,s)=>n.value===null?n:e.innerType._zod.run(n,s)}),$V=we("$ZodDefault",(t,e)=>{Kn.init(t,e),t._zod.optin="optional",Vt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);if(n.value===void 0)return n.value=e.defaultValue,n;const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>fj(i,e)):fj(r,e)}});function fj(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const zV=we("$ZodPrefault",(t,e)=>{Kn.init(t,e),t._zod.optin="optional",Vt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,s))}),UV=we("$ZodNonOptional",(t,e)=>{Kn.init(t,e),Vt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),t._zod.parse=(n,s)=>{const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>pj(i,t)):pj(r,t)}});function pj(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const HV=we("$ZodCatch",(t,e)=>{Kn.init(t,e),Vt(t._zod,"optin",()=>e.innerType._zod.optin),Vt(t._zod,"optout",()=>e.innerType._zod.optout),Vt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(a=>Hl(a,s,Ul()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=e.catchValue({...n,error:{issues:r.issues.map(i=>Hl(i,s,Ul()))},input:n.value}),n.issues=[]),n)}}),FV=we("$ZodPipe",(t,e)=>{Kn.init(t,e),Vt(t._zod,"values",()=>e.in._zod.values),Vt(t._zod,"optin",()=>e.in._zod.optin),Vt(t._zod,"optout",()=>e.out._zod.optout),Vt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,s)=>{if(s.direction==="backward"){const i=e.out._zod.run(n,s);return i instanceof Promise?i.then(a=>Og(a,e.in,s)):Og(i,e.in,s)}const r=e.in._zod.run(n,s);return r instanceof Promise?r.then(i=>Og(i,e.out,s)):Og(r,e.out,s)}});function Og(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const VV=we("$ZodReadonly",(t,e)=>{Kn.init(t,e),Vt(t._zod,"propValues",()=>e.innerType._zod.propValues),Vt(t._zod,"values",()=>e.innerType._zod.values),Vt(t._zod,"optin",()=>e.innerType?._zod?.optin),Vt(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(mj):mj(r)}});function mj(t){return t.value=Object.freeze(t.value),t}const qV=we("$ZodCustom",(t,e)=>{Vi.init(t,e),Kn.init(t,e),t._zod.parse=(n,s)=>n,t._zod.check=n=>{const s=n.value,r=e.fn(s);if(r instanceof Promise)return r.then(i=>gj(i,n,s,t));gj(r,n,s,t)}});function gj(t,e,n,s){if(!t){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),e.issues.push(rp(r))}}var yj;class KV{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const s=n[0];return this._map.set(e,s),s&&typeof s=="object"&&"id"in s&&this._idmap.set(s.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const r={...s,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function WV(){return new KV}(yj=globalThis).__zod_globalRegistry??(yj.__zod_globalRegistry=WV());const Gd=globalThis.__zod_globalRegistry;function GV(t,e){return new t({type:"string",...dt(e)})}function YV(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...dt(e)})}function vj(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...dt(e)})}function ZV(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...dt(e)})}function XV(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...dt(e)})}function JV(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...dt(e)})}function QV(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...dt(e)})}function eq(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...dt(e)})}function tq(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...dt(e)})}function nq(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...dt(e)})}function sq(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...dt(e)})}function rq(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...dt(e)})}function iq(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...dt(e)})}function aq(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...dt(e)})}function oq(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...dt(e)})}function lq(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...dt(e)})}function cq(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...dt(e)})}function uq(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...dt(e)})}function hq(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...dt(e)})}function dq(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...dt(e)})}function fq(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...dt(e)})}function pq(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...dt(e)})}function mq(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...dt(e)})}function gq(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...dt(e)})}function yq(t,e){return new t({type:"string",format:"date",check:"string_format",...dt(e)})}function vq(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...dt(e)})}function bq(t,e){return new t({type:"string",format:"duration",check:"string_format",...dt(e)})}function _q(t){return new t({type:"unknown"})}function xq(t,e){return new t({type:"never",...dt(e)})}function sD(t,e){return new qF({check:"max_length",...dt(e),maximum:t})}function ty(t,e){return new KF({check:"min_length",...dt(e),minimum:t})}function rD(t,e){return new WF({check:"length_equals",...dt(e),length:t})}function wq(t,e){return new GF({check:"string_format",format:"regex",...dt(e),pattern:t})}function Sq(t){return new YF({check:"string_format",format:"lowercase",...dt(t)})}function kq(t){return new ZF({check:"string_format",format:"uppercase",...dt(t)})}function Cq(t,e){return new XF({check:"string_format",format:"includes",...dt(e),includes:t})}function Nq(t,e){return new JF({check:"string_format",format:"starts_with",...dt(e),prefix:t})}function Eq(t,e){return new QF({check:"string_format",format:"ends_with",...dt(e),suffix:t})}function lh(t){return new eV({check:"overwrite",tx:t})}function Aq(t){return lh(e=>e.normalize(t))}function jq(){return lh(t=>t.trim())}function Tq(){return lh(t=>t.toLowerCase())}function Rq(){return lh(t=>t.toUpperCase())}function Oq(){return lh(t=>QH(t))}function Mq(t,e,n){return new t({type:"array",element:e,...dt(n)})}function Dq(t,e,n){return new t({type:"custom",check:"custom",fn:e,...dt(n)})}function Bq(t){const e=Lq(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(rp(s,n.value,e._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),n.issues.push(rp(r))}},t(n.value,n)));return e}function Lq(t,e){const n=new Vi({check:"custom",...dt(e)});return n._zod.check=t,n}function iD(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Gd,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function ms(t,e,n={path:[],schemaPath:[]}){var s;const r=t._zod.def,i=e.seen.get(t);if(i)return i.count++,n.schemaPath.includes(t)&&(i.cycle=n.path),i.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,a);const c=t._zod.toJSONSchema?.();if(c)a.schema=c;else{const m={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,a.schema,m);else{const y=a.schema,v=e.processors[r.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);v(t,e,y,m)}const p=t._zod.parent;p&&(a.ref||(a.ref=p),ms(p,e,m),e.seen.get(p).isParent=!0)}const u=e.metadataRegistry.get(t);return u&&Object.assign(a.schema,u),e.io==="input"&&js(t)&&(delete a.schema.examples,delete a.schema.default),e.io==="input"&&a.schema._prefault&&((s=a.schema).default??(s.default=a.schema._prefault)),delete a.schema._prefault,e.seen.get(t).schema}function aD(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=new Map;for(const a of t.seen.entries()){const c=t.metadataRegistry.get(a[0])?.id;if(c){const u=s.get(c);if(u&&u!==a[0])throw new Error(`Duplicate schema id "${c}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);s.set(c,a[0])}}const r=a=>{const c=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const p=t.external.registry.get(a[0])?.id,y=t.external.uri??(b=>b);if(p)return{ref:y(p)};const v=a[1].defId??a[1].schema.id??`schema${t.counter++}`;return a[1].defId=v,{defId:v,ref:`${y("__shared")}#/${c}/${v}`}}if(a[1]===n)return{ref:"#"};const h=`#/${c}/`,m=a[1].schema.id??`__schema${t.counter++}`;return{defId:m,ref:h+m}},i=a=>{if(a[1].schema.$ref)return;const c=a[1],{ref:u,defId:h}=r(a);c.def={...c.schema},h&&(c.defId=h);const m=c.schema;for(const p in m)delete m[p];m.$ref=u};if(t.cycles==="throw")for(const a of t.seen.entries()){const c=a[1];if(c.cycle)throw new Error(`Cycle detected: #/${c.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of t.seen.entries()){const c=a[1];if(e===a[0]){i(a);continue}if(t.external){const h=t.external.registry.get(a[0])?.id;if(e!==a[0]&&h){i(a);continue}}if(t.metadataRegistry.get(a[0])?.id){i(a);continue}if(c.cycle){i(a);continue}if(c.count>1&&t.reused==="ref"){i(a);continue}}}function oD(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=a=>{const c=t.seen.get(a);if(c.ref===null)return;const u=c.def??c.schema,h={...u},m=c.ref;if(c.ref=null,m){s(m);const y=t.seen.get(m),v=y.schema;if(v.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(v)):Object.assign(u,v),Object.assign(u,h),a._zod.parent===m)for(const x in u)x==="$ref"||x==="allOf"||x in h||delete u[x];if(v.$ref)for(const x in u)x==="$ref"||x==="allOf"||x in y.def&&JSON.stringify(u[x])===JSON.stringify(y.def[x])&&delete u[x]}const p=a._zod.parent;if(p&&p!==m){s(p);const y=t.seen.get(p);if(y?.schema.$ref&&(u.$ref=y.schema.$ref,y.def))for(const v in u)v==="$ref"||v==="allOf"||v in y.def&&JSON.stringify(u[v])===JSON.stringify(y.def[v])&&delete u[v]}t.override({zodSchema:a,jsonSchema:u,path:c.path??[]})};for(const a of[...t.seen.entries()].reverse())s(a[0]);const r={};if(t.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const a=t.external.registry.get(e)?.id;if(!a)throw new Error("Schema is missing an `id` property");r.$id=t.external.uri(a)}Object.assign(r,n.def??n.schema);const i=t.external?.defs??{};for(const a of t.seen.entries()){const c=a[1];c.def&&c.defId&&(i[c.defId]=c.def)}t.external||Object.keys(i).length>0&&(t.target==="draft-2020-12"?r.$defs=i:r.definitions=i);try{const a=JSON.parse(JSON.stringify(r));return Object.defineProperty(a,"~standard",{value:{...e["~standard"],jsonSchema:{input:ny(e,"input",t.processors),output:ny(e,"output",t.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function js(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const s=t._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return js(s.element,n);if(s.type==="set")return js(s.valueType,n);if(s.type==="lazy")return js(s.getter(),n);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return js(s.innerType,n);if(s.type==="intersection")return js(s.left,n)||js(s.right,n);if(s.type==="record"||s.type==="map")return js(s.keyType,n)||js(s.valueType,n);if(s.type==="pipe")return js(s.in,n)||js(s.out,n);if(s.type==="object"){for(const r in s.shape)if(js(s.shape[r],n))return!0;return!1}if(s.type==="union"){for(const r of s.options)if(js(r,n))return!0;return!1}if(s.type==="tuple"){for(const r of s.items)if(js(r,n))return!0;return!!(s.rest&&js(s.rest,n))}return!1}const Iq=(t,e={})=>n=>{const s=iD({...n,processors:e});return ms(t,s),aD(s,t),oD(s,t)},ny=(t,e,n={})=>s=>{const{libraryOptions:r,target:i}=s??{},a=iD({...r??{},target:i,io:e,processors:n});return ms(t,a),aD(a,t),oD(a,t)},Pq={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},$q=(t,e,n,s)=>{const r=n;r.type="string";const{minimum:i,maximum:a,format:c,patterns:u,contentEncoding:h}=t._zod.bag;if(typeof i=="number"&&(r.minLength=i),typeof a=="number"&&(r.maxLength=a),c&&(r.format=Pq[c]??c,r.format===""&&delete r.format,c==="time"&&delete r.format),h&&(r.contentEncoding=h),u&&u.size>0){const m=[...u];m.length===1?r.pattern=m[0].source:m.length>1&&(r.allOf=[...m.map(p=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:p.source}))])}},zq=(t,e,n,s)=>{n.not={}},Uq=(t,e,n,s)=>{},Hq=(t,e,n,s)=>{const r=t._zod.def,i=F6(r.entries);i.every(a=>typeof a=="number")&&(n.type="number"),i.every(a=>typeof a=="string")&&(n.type="string"),n.enum=i},Fq=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Vq=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},qq=(t,e,n,s)=>{const r=n,i=t._zod.def,{minimum:a,maximum:c}=t._zod.bag;typeof a=="number"&&(r.minItems=a),typeof c=="number"&&(r.maxItems=c),r.type="array",r.items=ms(i.element,e,{...s,path:[...s.path,"items"]})},Kq=(t,e,n,s)=>{const r=n,i=t._zod.def;r.type="object",r.properties={};const a=i.shape;for(const h in a)r.properties[h]=ms(a[h],e,{...s,path:[...s.path,"properties",h]});const c=new Set(Object.keys(a)),u=new Set([...c].filter(h=>{const m=i.shape[h]._zod;return e.io==="input"?m.optin===void 0:m.optout===void 0}));u.size>0&&(r.required=Array.from(u)),i.catchall?._zod.def.type==="never"?r.additionalProperties=!1:i.catchall?i.catchall&&(r.additionalProperties=ms(i.catchall,e,{...s,path:[...s.path,"additionalProperties"]})):e.io==="output"&&(r.additionalProperties=!1)},Wq=(t,e,n,s)=>{const r=t._zod.def,i=r.inclusive===!1,a=r.options.map((c,u)=>ms(c,e,{...s,path:[...s.path,i?"oneOf":"anyOf",u]}));i?n.oneOf=a:n.anyOf=a},Gq=(t,e,n,s)=>{const r=t._zod.def,i=ms(r.left,e,{...s,path:[...s.path,"allOf",0]}),a=ms(r.right,e,{...s,path:[...s.path,"allOf",1]}),c=h=>"allOf"in h&&Object.keys(h).length===1,u=[...c(i)?i.allOf:[i],...c(a)?a.allOf:[a]];n.allOf=u},Yq=(t,e,n,s)=>{const r=t._zod.def,i=ms(r.innerType,e,s),a=e.seen.get(t);e.target==="openapi-3.0"?(a.ref=r.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},Zq=(t,e,n,s)=>{const r=t._zod.def;ms(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType},Xq=(t,e,n,s)=>{const r=t._zod.def;ms(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},Jq=(t,e,n,s)=>{const r=t._zod.def;ms(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},Qq=(t,e,n,s)=>{const r=t._zod.def;ms(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType;let a;try{a=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},eK=(t,e,n,s)=>{const r=t._zod.def,i=e.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;ms(i,e,s);const a=e.seen.get(t);a.ref=i},tK=(t,e,n,s)=>{const r=t._zod.def;ms(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType,n.readOnly=!0},lD=(t,e,n,s)=>{const r=t._zod.def;ms(r.innerType,e,s);const i=e.seen.get(t);i.ref=r.innerType},nK=we("ZodISODateTime",(t,e)=>{pV.init(t,e),yn.init(t,e)});function sK(t){return gq(nK,t)}const rK=we("ZodISODate",(t,e)=>{mV.init(t,e),yn.init(t,e)});function iK(t){return yq(rK,t)}const aK=we("ZodISOTime",(t,e)=>{gV.init(t,e),yn.init(t,e)});function oK(t){return vq(aK,t)}const lK=we("ZodISODuration",(t,e)=>{yV.init(t,e),yn.init(t,e)});function cK(t){return bq(lK,t)}const uK=(t,e)=>{G6.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>hF(t,n)},flatten:{value:n=>uF(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,eS,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,eS,2)}},isEmpty:{get(){return t.issues.length===0}}})},ni=we("ZodError",uK,{Parent:Error}),hK=nC(ni),dK=sC(ni),fK=yv(ni),pK=vv(ni),mK=pF(ni),gK=mF(ni),yK=gF(ni),vK=yF(ni),bK=vF(ni),_K=bF(ni),xK=_F(ni),wK=xF(ni),Wn=we("ZodType",(t,e)=>(Kn.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:ny(t,"input"),output:ny(t,"output")}}),t.toJSONSchema=Iq(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Ho(e,{checks:[...e.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),{parent:!0}),t.with=t.check,t.clone=(n,s)=>Fo(t,n,s),t.brand=()=>t,t.register=((n,s)=>(n.add(t,s),t)),t.parse=(n,s)=>hK(t,n,s,{callee:t.parse}),t.safeParse=(n,s)=>fK(t,n,s),t.parseAsync=async(n,s)=>dK(t,n,s,{callee:t.parseAsync}),t.safeParseAsync=async(n,s)=>pK(t,n,s),t.spa=t.safeParseAsync,t.encode=(n,s)=>mK(t,n,s),t.decode=(n,s)=>gK(t,n,s),t.encodeAsync=async(n,s)=>yK(t,n,s),t.decodeAsync=async(n,s)=>vK(t,n,s),t.safeEncode=(n,s)=>bK(t,n,s),t.safeDecode=(n,s)=>_K(t,n,s),t.safeEncodeAsync=async(n,s)=>xK(t,n,s),t.safeDecodeAsync=async(n,s)=>wK(t,n,s),t.refine=(n,s)=>t.check(pW(n,s)),t.superRefine=n=>t.check(mW(n)),t.overwrite=n=>t.check(lh(n)),t.optional=()=>xj(t),t.exactOptional=()=>tW(t),t.nullable=()=>wj(t),t.nullish=()=>xj(wj(t)),t.nonoptional=n=>oW(t,n),t.array=()=>KK(t),t.or=n=>YK([t,n]),t.and=n=>XK(t,n),t.transform=n=>Sj(t,QK(n)),t.default=n=>rW(t,n),t.prefault=n=>aW(t,n),t.catch=n=>cW(t,n),t.pipe=n=>Sj(t,n),t.readonly=()=>dW(t),t.describe=n=>{const s=t.clone();return Gd.add(s,{description:n}),s},Object.defineProperty(t,"description",{get(){return Gd.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Gd.get(t);const s=t.clone();return Gd.add(s,n[0]),s},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),cD=we("_ZodString",(t,e)=>{rC.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(s,r,i)=>$q(t,s,r);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...s)=>t.check(wq(...s)),t.includes=(...s)=>t.check(Cq(...s)),t.startsWith=(...s)=>t.check(Nq(...s)),t.endsWith=(...s)=>t.check(Eq(...s)),t.min=(...s)=>t.check(ty(...s)),t.max=(...s)=>t.check(sD(...s)),t.length=(...s)=>t.check(rD(...s)),t.nonempty=(...s)=>t.check(ty(1,...s)),t.lowercase=s=>t.check(Sq(s)),t.uppercase=s=>t.check(kq(s)),t.trim=()=>t.check(jq()),t.normalize=(...s)=>t.check(Aq(...s)),t.toLowerCase=()=>t.check(Tq()),t.toUpperCase=()=>t.check(Rq()),t.slugify=()=>t.check(Oq())}),SK=we("ZodString",(t,e)=>{rC.init(t,e),cD.init(t,e),t.email=n=>t.check(YV(CK,n)),t.url=n=>t.check(eq(NK,n)),t.jwt=n=>t.check(mq(UK,n)),t.emoji=n=>t.check(tq(EK,n)),t.guid=n=>t.check(vj(bj,n)),t.uuid=n=>t.check(ZV(Mg,n)),t.uuidv4=n=>t.check(XV(Mg,n)),t.uuidv6=n=>t.check(JV(Mg,n)),t.uuidv7=n=>t.check(QV(Mg,n)),t.nanoid=n=>t.check(nq(AK,n)),t.guid=n=>t.check(vj(bj,n)),t.cuid=n=>t.check(sq(jK,n)),t.cuid2=n=>t.check(rq(TK,n)),t.ulid=n=>t.check(iq(RK,n)),t.base64=n=>t.check(dq(PK,n)),t.base64url=n=>t.check(fq($K,n)),t.xid=n=>t.check(aq(OK,n)),t.ksuid=n=>t.check(oq(MK,n)),t.ipv4=n=>t.check(lq(DK,n)),t.ipv6=n=>t.check(cq(BK,n)),t.cidrv4=n=>t.check(uq(LK,n)),t.cidrv6=n=>t.check(hq(IK,n)),t.e164=n=>t.check(pq(zK,n)),t.datetime=n=>t.check(sK(n)),t.date=n=>t.check(iK(n)),t.time=n=>t.check(oK(n)),t.duration=n=>t.check(cK(n))});function kK(t){return GV(SK,t)}const yn=we("ZodStringFormat",(t,e)=>{dn.init(t,e),cD.init(t,e)}),CK=we("ZodEmail",(t,e)=>{iV.init(t,e),yn.init(t,e)}),bj=we("ZodGUID",(t,e)=>{sV.init(t,e),yn.init(t,e)}),Mg=we("ZodUUID",(t,e)=>{rV.init(t,e),yn.init(t,e)}),NK=we("ZodURL",(t,e)=>{aV.init(t,e),yn.init(t,e)}),EK=we("ZodEmoji",(t,e)=>{oV.init(t,e),yn.init(t,e)}),AK=we("ZodNanoID",(t,e)=>{lV.init(t,e),yn.init(t,e)}),jK=we("ZodCUID",(t,e)=>{cV.init(t,e),yn.init(t,e)}),TK=we("ZodCUID2",(t,e)=>{uV.init(t,e),yn.init(t,e)}),RK=we("ZodULID",(t,e)=>{hV.init(t,e),yn.init(t,e)}),OK=we("ZodXID",(t,e)=>{dV.init(t,e),yn.init(t,e)}),MK=we("ZodKSUID",(t,e)=>{fV.init(t,e),yn.init(t,e)}),DK=we("ZodIPv4",(t,e)=>{vV.init(t,e),yn.init(t,e)}),BK=we("ZodIPv6",(t,e)=>{bV.init(t,e),yn.init(t,e)}),LK=we("ZodCIDRv4",(t,e)=>{_V.init(t,e),yn.init(t,e)}),IK=we("ZodCIDRv6",(t,e)=>{xV.init(t,e),yn.init(t,e)}),PK=we("ZodBase64",(t,e)=>{wV.init(t,e),yn.init(t,e)}),$K=we("ZodBase64URL",(t,e)=>{kV.init(t,e),yn.init(t,e)}),zK=we("ZodE164",(t,e)=>{CV.init(t,e),yn.init(t,e)}),UK=we("ZodJWT",(t,e)=>{EV.init(t,e),yn.init(t,e)}),HK=we("ZodUnknown",(t,e)=>{AV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Uq()});function _j(){return _q(HK)}const FK=we("ZodNever",(t,e)=>{jV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>zq(t,n,s)});function VK(t){return xq(FK,t)}const qK=we("ZodArray",(t,e)=>{TV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>qq(t,n,s,r),t.element=e.element,t.min=(n,s)=>t.check(ty(n,s)),t.nonempty=n=>t.check(ty(1,n)),t.max=(n,s)=>t.check(sD(n,s)),t.length=(n,s)=>t.check(rD(n,s)),t.unwrap=()=>t.element});function KK(t,e){return Mq(qK,t,e)}const WK=we("ZodObject",(t,e)=>{OV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Kq(t,n,s,r),Vt(t,"shape",()=>e.shape),t.keyof=()=>iC(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:_j()}),t.loose=()=>t.clone({...t._zod.def,catchall:_j()}),t.strict=()=>t.clone({...t._zod.def,catchall:VK()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>iF(t,n),t.safeExtend=n=>aF(t,n),t.merge=n=>oF(t,n),t.pick=n=>sF(t,n),t.omit=n=>rF(t,n),t.partial=(...n)=>lF(hD,t,n[0]),t.required=(...n)=>cF(dD,t,n[0])});function uD(t,e){const n={type:"object",shape:t??{},...dt(e)};return new WK(n)}const GK=we("ZodUnion",(t,e)=>{MV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Wq(t,n,s,r),t.options=e.options});function YK(t,e){return new GK({type:"union",options:t,...dt(e)})}const ZK=we("ZodIntersection",(t,e)=>{DV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Gq(t,n,s,r)});function XK(t,e){return new ZK({type:"intersection",left:t,right:e})}const nS=we("ZodEnum",(t,e)=>{BV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(s,r,i)=>Hq(t,s,r),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(s,r)=>{const i={};for(const a of s)if(n.has(a))i[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new nS({...e,checks:[],...dt(r),entries:i})},t.exclude=(s,r)=>{const i={...e.entries};for(const a of s)if(n.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new nS({...e,checks:[],...dt(r),entries:i})}});function iC(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new nS({type:"enum",entries:n,...dt(e)})}const JK=we("ZodTransform",(t,e)=>{LV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Vq(t,n),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new U6(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(rp(i,n.value,e));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),n.issues.push(rp(a))}};const r=e.transform(n.value,n);return r instanceof Promise?r.then(i=>(n.value=i,n)):(n.value=r,n)}});function QK(t){return new JK({type:"transform",transform:t})}const hD=we("ZodOptional",(t,e)=>{nD.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>lD(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function xj(t){return new hD({type:"optional",innerType:t})}const eW=we("ZodExactOptional",(t,e)=>{IV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>lD(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function tW(t){return new eW({type:"optional",innerType:t})}const nW=we("ZodNullable",(t,e)=>{PV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Yq(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function wj(t){return new nW({type:"nullable",innerType:t})}const sW=we("ZodDefault",(t,e)=>{$V.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Xq(t,n,s,r),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function rW(t,e){return new sW({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():q6(e)}})}const iW=we("ZodPrefault",(t,e)=>{zV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Jq(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function aW(t,e){return new iW({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():q6(e)}})}const dD=we("ZodNonOptional",(t,e)=>{UV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Zq(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function oW(t,e){return new dD({type:"nonoptional",innerType:t,...dt(e)})}const lW=we("ZodCatch",(t,e)=>{HV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Qq(t,n,s,r),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function cW(t,e){return new lW({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const uW=we("ZodPipe",(t,e)=>{FV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>eK(t,n,s,r),t.in=e.in,t.out=e.out});function Sj(t,e){return new uW({type:"pipe",in:t,out:e})}const hW=we("ZodReadonly",(t,e)=>{VV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>tK(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function dW(t){return new hW({type:"readonly",innerType:t})}const fW=we("ZodCustom",(t,e)=>{qV.init(t,e),Wn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Fq(t,n)});function pW(t,e={}){return Dq(fW,t,e)}function mW(t){return Bq(t)}const gW=new $H({defaultOptions:{queries:{staleTime:0,refetchInterval:5e3,refetchOnWindowFocus:!1,retry:!1}}});var Cx={exports:{}},Nx={};var kj;function yW(){if(kj)return Nx;kj=1;var t=ah().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return Nx.c=function(e){return t.H.useMemoCache(e)},Nx}var Cj;function vW(){return Cj||(Cj=1,Cx.exports=yW()),Cx.exports}var De=vW();const bW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_W=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Nj=t=>{const e=_W(t);return e.charAt(0).toUpperCase()+e.slice(1)},fD=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),xW=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var wW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SW=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...c},u)=>V.createElement("svg",{ref:u,...wW,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:fD("lucide",r),...!i&&!xW(c)&&{"aria-hidden":"true"},...c},[...a.map(([h,m])=>V.createElement(h,m)),...Array.isArray(i)?i:[i]]));const Re=(t,e)=>{const n=V.forwardRef(({className:s,...r},i)=>V.createElement(SW,{ref:i,iconNode:e,className:fD(`lucide-${bW(Nj(t))}`,`lucide-${t}`,s),...r}));return n.displayName=Nj(t),n};const kW=[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]],pD=Re("app-window",kW);const CW=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],yi=Re("box",CW);const NW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mD=Re("calendar",NW);const EW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nn=Re("check",EW);const AW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ps=Re("chevron-down",AW);const jW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xr=Re("chevron-right",jW);const TW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],RW=Re("chevron-up",TW);const OW=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],MW=Re("chevrons-up-down",OW);const DW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ch=Re("circle-alert",DW);const BW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],LW=Re("circle-check-big",BW);const IW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vi=Re("circle-check",IW);const PW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rp=Re("circle-question-mark",PW);const $W=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ra=Re("circle-x",$W);const zW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oa=Re("clock",zW);const UW=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],HW=Re("cloud",UW);const FW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],VW=Re("columns-3",FW);const qW=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],Ej=Re("container",qW);const KW=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],xs=Re("copy",KW);const WW=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],_v=Re("cpu",WW);const GW=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],lc=Re("database",GW);const YW=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],ZW=Re("diamond",YW);const XW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],aC=Re("disc",XW);const JW=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],oC=Re("external-link",JW);const QW=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lC=Re("eye-off",QW);const eG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cC=Re("eye",eG);const tG=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],sy=Re("file-check",tG);const nG=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],sG=Re("file-down",nG);const rG=[["path",{d:"M10.65 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v10.1",key:"1a2hbp"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m10 15 1 1",key:"1h4vmv"}],["path",{d:"m11 14-4.586 4.586",key:"maylof"}],["circle",{cx:"5",cy:"20",r:"2",key:"860zyv"}]],gD=Re("file-key",rG);const iG=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ei=Re("file-text",iG);const aG=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],xv=Re("folder-open",aG);const oG=[["path",{d:"M2 9.35V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h7",key:"y8kt7d"}],["path",{d:"m8 16 3-3-3-3",key:"rlqrt1"}]],lG=Re("folder-symlink",oG);const cG=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],uG=Re("folder-tree",cG);const hG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],dG=Re("funnel",hG);const fG=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],uC=Re("ghost",fG);const pG=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],ry=Re("git-branch",pG);const mG=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],gG=Re("git-compare",mG);const yG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Cr=Re("globe",yG);const vG=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Ns=Re("hard-drive",vG);const bG=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],sS=Re("hash",bG);const _G=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],wv=Re("hexagon",_G);const xG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wG=Re("info",xG);const SG=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Op=Re("key-round",SG);const kG=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Mp=Re("key",kG);const CG=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],pi=Re("layers",CG);const NG=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],yD=Re("layout-grid",NG);const EG=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],uh=Re("link",EG);const AG=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],jG=Re("list",AG);const TG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sa=Re("loader-circle",TG);const RG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dp=Re("lock",RG);const OG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],MG=Re("mail",OG);const DG=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],BG=Re("maximize-2",DG);const LG=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Vn=Re("network",LG);const IG=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],PG=Re("newspaper",IG);const $G=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],vD=Re("package",$G);const zG=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],ip=Re("pause",zG);const UG=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Mu=Re("play",UG);const HG=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M17 8a1 1 0 0 1 1 1v4a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1z",key:"1xoxul"}],["path",{d:"M9 8V2",key:"14iosj"}]],bD=Re("plug",HG);const FG=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],VG=Re("puzzle",FG);const qG=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],KG=Re("radio",qG);const WG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ln=Re("refresh-cw",WG);const GG=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],hC=Re("rocket",GG);const YG=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ZG=Re("rotate-ccw",YG);const XG=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],ap=Re("route",XG);const JG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QG=Re("save",JG);const eY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dC=Re("search",eY);const tY=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],nY=Re("send",tY);const sY=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],mi=Re("server",sY);const rY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iY=Re("settings",rY);const aY=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],oY=Re("share-2",aY);const lY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_D=Re("shield-check",lY);const cY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hh=Re("shield",cY);const uY=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],xD=Re("sparkles",uY);const hY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Aj=Re("square",hY);const dY=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],wD=Re("tag",dY);const fY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pY=Re("target",fY);const mY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bp=Re("trash-2",mY);const gY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iy=Re("triangle-alert",gY);const yY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],SD=Re("user",yY);const vY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sv=Re("x",vY);const bY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],fC=Re("zap",bY);const _Y=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],xY=Re("zoom-in",_Y);const wY=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],SY=Re("zoom-out",wY),ay=new Map,oy=new Map,Mf=new Map;function kY(t){t?(ay.delete(t),oy.delete(t),Mf.delete(t)):(ay.clear(),oy.clear(),Mf.clear())}function jj(t){return t===""?0:t==="apps"?1:t==="batch"?2:t==="networking.k8s.io"?3:t==="storage.k8s.io"?4:t==="rbac.authorization.k8s.io"?5:t.endsWith(".k8s.io")?10:100}function CY(t){const e=t.group||"";return e?`${t.name}.${e}`:t.name}function Ml(t){const e=t.group||"",n=t.version||"v1";return e?`/apis/${e}/${n}`:"/api/v1"}function Tj(t,e,n){const s=CY(n);t.set(s,n);const r=jj(n.group||""),i=a=>{const c=e.get(a);if(!c)e.set(a,n);else{const u=jj(c.group||"");r<u&&e.set(a,n)}};if(i(n.name),n.singularName&&i(n.singularName),n.shortNames)for(const a of n.shortNames)i(a)}async function Ex(t,e){const n=`/contexts/${e}${t}`,s=await fetch(n);if(!s.ok)throw new Error(`API request failed: ${s.status} ${s.statusText}`);return s.json()}async function kv(t){const e=oy.get(t);if(e)return e;const n=Mf.get(t);if(n)return n;const s=(async()=>{const r=new Map,i=new Map;try{const a=await Ex("/api/v1",t);for(const c of a.resources){if(c.name.includes("/"))continue;const u={...c,group:"",version:"v1"};Tj(r,i,u)}}catch(a){console.warn("Failed to fetch core v1 resources:",a)}try{const a=await Ex("/apis",t);await Promise.all(a.groups.map(async c=>{const u=c.preferredVersion?.version||c.versions[0]?.version;if(!u)return;const h=`/apis/${c.name}/${u}`;try{const m=await Ex(h,t);for(const p of m.resources){if(p.name.includes("/"))continue;const y={...p,group:p.group||c.name,version:p.version||u};Tj(r,i,y)}}catch(m){console.warn(`Failed to fetch resources for ${h}:`,m)}}))}catch(a){console.warn("Failed to fetch API groups:",a)}return ay.set(t,r),oy.set(t,i),Mf.delete(t),i})();return Mf.set(t,s),s}async function $o(t,e){return(await kv(t)).get(e)}async function kD(t,e){return await kv(t),ay.get(t)?.get(e)}async function NY(t,e,n){const s=await kv(t);let r="";n&&n.includes("/")&&(r=n.split("/")[0]);for(const i of s.values())if(i.kind===e)if(n){if((i.group||"")===r)return i}else return i;if(n){for(const i of s.values())if(i.kind===e)return i}}function EY(t){kv(t).catch(console.error)}function AY(t){const e=t.spec;if(!e)throw new Error("CRD is missing spec");const n=e.versions.find(i=>i.storage),s=e.versions.find(i=>i.served),r=n?.name||s?.name||e.versions[0]?.name;return{name:e.names.plural,singularName:e.names.singular||"",namespaced:e.scope==="Namespaced",group:e.group,version:r,kind:e.names.kind,verbs:["get","list","watch","create","update","patch","delete"],shortNames:e.names.shortNames}}async function Ma(t,e){const n=e?`/contexts/${e}${t}`:t,s=await fetch(n);if(!s.ok)throw new Error(`API request failed: ${s.status} ${s.statusText}`);return s.json()}async function jY(t){return Ma("/api/v1/namespaces",t)}async function TY(t){return(await Ma("/apis/apiextensions.k8s.io/v1/customresourcedefinitions",t)).items}async function RY(t,e,n,s){const r=Ml(e),i=e.namespaced&&s?`${r}/namespaces/${s}/${e.name}/${n}`:`${r}/${e.name}/${n}`;return Ma(i,t)}async function OY(t,e,n,s,r){const i=Ml(e),a=e.namespaced&&r?`${i}/namespaces/${r}/${e.name}/${n}`:`${i}/${e.name}/${n}`,c=`/contexts/${t}${a}`,u=await fetch(c,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!u.ok){const h=await u.text();let m=`API request failed: ${u.status} ${u.statusText}`;try{const p=JSON.parse(h);p.message&&(m=p.message)}catch{}throw new Error(m)}return u.json()}async function pC(t,e,n){const s=Ml(e),r=e.namespaced&&n?`${s}/namespaces/${n}/${e.name}`:`${s}/${e.name}`;return(await Ma(r,t)).items}async function MY(t,e,n){const s=n?`involvedObject.name=${e},involvedObject.namespace=${n}`:`involvedObject.name=${e}`,r=n?`/api/v1/namespaces/${n}/events?fieldSelector=${encodeURIComponent(s)}`:`/api/v1/events?fieldSelector=${encodeURIComponent(s)}`;return(await Ma(r,t)).items.sort((a,c)=>{const u=a.lastTimestamp||a.eventTime||a.metadata?.creationTimestamp||"",h=c.lastTimestamp||c.eventTime||c.metadata?.creationTimestamp||"";return new Date(h).getTime()-new Date(u).getTime()})}const Df=new Map,Bf=new Map;function DY(t){t?(Df.delete(t),Bf.delete(t)):(Df.clear(),Bf.clear())}async function mC(t){const e=Df.get(t);if(e!==void 0)return e;const n=Bf.get(t);if(n)return n;const s=(async()=>{try{const i=await kD(t,"pods.metrics.k8s.io")!==void 0;return Df.set(t,i),i}catch(r){return console.warn("Failed to check metrics availability:",r),Df.set(t,!1),!1}finally{Bf.delete(t)}})();return Bf.set(t,s),s}function Ro(t){if(!t)return 0;if(t.endsWith("n"))return parseInt(t.slice(0,-1),10)||0;if(t.endsWith("m"))return(parseInt(t.slice(0,-1),10)||0)*1e6;const e=parseFloat(t);return isNaN(e)?0:e*1e9}function Oo(t){if(!t)return 0;const e=t.match(/^(\d+(?:\.\d+)?)(Ki|Mi|Gi|Ti|K|M|G|T|k|m|g|t)?$/);if(!e){const r=parseInt(t,10);return isNaN(r)?0:r}const n=parseFloat(e[1]),s=e[2];if(!s)return n;switch(s){case"Ki":return n*1024;case"Mi":return n*1024*1024;case"Gi":return n*1024*1024*1024;case"Ti":return n*1024*1024*1024*1024;case"K":case"k":return n*1e3;case"M":case"m":return n*1e3*1e3;case"G":case"g":return n*1e3*1e3*1e3;case"T":case"t":return n*1e3*1e3*1e3*1e3;default:return n}}function op(t){if(t>=1e9){const e=t/1e9;return e>=10?`${Math.round(e)}`:`${e.toFixed(1)}`}return`${Math.round(t/1e6)}m`}function lp(t){return t>=1024*1024*1024?`${(t/(1024*1024*1024)).toFixed(1)}Gi`:t>=1024*1024?`${(t/(1024*1024)).toFixed(0)}Mi`:t>=1024?`${(t/1024).toFixed(0)}Ki`:`${t}B`}async function BY(t,e,n){try{return await mC(t)?await Ma(`/apis/metrics.k8s.io/v1beta1/namespaces/${n}/pods/${e}`,t):null}catch{return null}}async function gC(t,e,n){try{if(!await mC(t))return[];const s=Object.entries(n).map(([i,a])=>`${i}=${a}`).join(",");return(await Ma(`/apis/metrics.k8s.io/v1beta1/namespaces/${e}/pods?labelSelector=${encodeURIComponent(s)}`,t)).items||[]}catch{return[]}}async function LY(t,e){try{return await mC(t)?await Ma(`/apis/metrics.k8s.io/v1beta1/nodes/${e}`,t):null}catch{return null}}function yC(t){const e=new Map;for(const s of t)for(const r of s.containers){const i=e.get(r.name)||{cpuNanos:0,memoryBytes:0,count:0};i.cpuNanos+=Ro(r.usage.cpu),i.memoryBytes+=Oo(r.usage.memory),i.count++,e.set(r.name,i)}const n=new Map;for(const[s,r]of e)n.set(s,{cpu:{usage:op(r.cpuNanos),usageNanoCores:r.cpuNanos},memory:{usage:lp(r.memoryBytes),usageBytes:r.memoryBytes}});return n}function IY({namespaces:t,selectedNamespace:e,onSelectNamespace:n,disabled:s=!1,spaceLabels:r=[],platformNamespaces:i=[]}){const[a,c]=V.useState(!1),[u,h]=V.useState(""),[m,p]=V.useState(-1),y=V.useRef(null),v=V.useRef(null),b=V.useRef(null),x=V.useMemo(()=>B=>mH(B,i),[i]),S=V.useMemo(()=>{const B=[],q=new Set;for(const z of r){const K=new Map;for(const X of t){const G=X.metadata?.name;if(!G||q.has(G))continue;const I=X.metadata?.labels?.[z];I&&(K.has(I)||K.set(I,[]),K.get(I).push(X),q.add(G))}for(const[X,G]of Array.from(K.entries()).sort(([I],[Y])=>I.localeCompare(Y)))B.push({label:X,namespaces:G.sort((I,Y)=>(I.metadata?.name||"").localeCompare(Y.metadata?.name||""))})}const P=t.filter(z=>{const K=z.metadata?.name;return K&&!q.has(K)&&!x(K)}).sort((z,K)=>(z.metadata?.name||"").localeCompare(K.metadata?.name||""));P.length>0&&B.push({label:"User",namespaces:P});const W=t.filter(z=>{const K=z.metadata?.name;return K&&!q.has(K)&&x(K)}).sort((z,K)=>(z.metadata?.name||"").localeCompare(K.metadata?.name||""));return W.length>0&&B.push({label:"Platform",namespaces:W}),B},[t,r,x]),k=V.useMemo(()=>u===""?S:S.map(B=>({...B,namespaces:B.namespaces.filter(q=>q.metadata?.name?.toLowerCase().includes(u.toLowerCase()))})).filter(B=>B.namespaces.length>0),[S,u]),C=V.useMemo(()=>{const B=[];(u===""||"all namespaces".includes(u.toLowerCase()))&&B.push({value:"",label:"All Namespaces"});for(const P of k)for(const W of P.namespaces){const z=W.metadata?.name;z&&B.push({value:z,label:z})}return B},[k,u]),N=k.some(B=>B.namespaces.length>0),R=u===""||"all namespaces".includes(u.toLowerCase());V.useEffect(()=>{if(!a)return;function B(q){y.current&&!y.current.contains(q.target)&&(c(!1),h(""))}return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[a]),V.useEffect(()=>{a&&(v.current?.focus(),p(-1))},[a]);const O=B=>{n(B||void 0),c(!1),h("")},E=B=>{switch(B.key){case"ArrowDown":B.preventDefault(),p(q=>Math.min(q+1,C.length-1));break;case"ArrowUp":B.preventDefault(),p(q=>Math.max(q-1,0));break;case"Enter":B.preventDefault(),m>=0&&m<C.length&&O(C[m].value);break;case"Escape":c(!1),h("");break}};V.useEffect(()=>{m>=0&&b.current&&b.current.querySelector(`[data-index="${m}"]`)?.scrollIntoView({block:"nearest"})},[m]);let D=-1;return f.jsxs("div",{className:"relative",ref:y,children:[f.jsxs("div",{className:"relative",children:[f.jsx("input",{ref:v,type:"text",className:"w-full px-3 py-1.5 pr-8 bg-neutral-50 dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 rounded-lg text-sm text-left disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-1 focus:ring-neutral-400/50 dark:focus:ring-neutral-500/50 cursor-default placeholder:text-neutral-400",value:a?u:s?"Cluster":e||"All Namespaces",onChange:B=>h(B.target.value),onFocus:()=>!s&&c(!0),onKeyDown:E,placeholder:a?"Search...":void 0,disabled:s,readOnly:!a}),f.jsx("button",{type:"button",onClick:()=>!s&&c(!a),className:"absolute inset-y-0 right-0 flex items-center pr-2",disabled:s,children:f.jsx(ps,{size:16,className:"text-neutral-400 dark:text-neutral-500"})})]}),a&&f.jsx("div",{ref:b,className:"absolute z-50 w-full mt-1 bg-white dark:bg-neutral-950 rounded-lg shadow-xl max-h-96 overflow-y-auto focus:outline-none border border-neutral-200 dark:border-neutral-700",children:!N&&!R?f.jsx("div",{className:"px-3 py-3 text-sm text-neutral-500 dark:text-neutral-400",children:"No namespaces found"}):f.jsxs(f.Fragment,{children:[R&&f.jsxs("div",{"data-index":++D,onClick:()=>O(""),className:`px-3 py-2 cursor-pointer text-sm flex items-center justify-between ${m===D?"bg-neutral-100 dark:bg-neutral-700":""} ${e===void 0?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400"}`,children:[f.jsx("span",{className:"truncate",children:"All Namespaces"}),e===void 0&&f.jsx(Nn,{size:16,className:"text-neutral-500 dark:text-neutral-400"})]}),k.map(B=>f.jsxs("div",{className:"py-1",children:[f.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 dark:text-neutral-500 uppercase tracking-wider",children:B.label}),B.namespaces.map(q=>{const P=q.metadata?.name;if(!P)return null;const W=++D,z=e===P,K=m===W;return f.jsxs("div",{"data-index":W,onClick:()=>O(P),className:`mx-1 px-2.5 py-1.5 rounded-md cursor-pointer text-sm flex items-center justify-between ${K?"bg-neutral-100 dark:bg-neutral-700":""} ${z?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400"}`,children:[f.jsx("span",{className:"truncate",children:P}),z&&f.jsx(Nn,{size:16,className:"text-neutral-500 dark:text-neutral-400"})]},P)})]},B.label))]})})]})}async function PY(t,e){const n=`/contexts/${e}${t}`,s=await fetch(n,{headers:{Accept:"application/json;as=Table;v=v1;g=meta.k8s.io"}});if(!s.ok)throw new Error(`API request failed: ${s.status} ${s.statusText}`);return s.json()}async function CD(t,e,n){const s=Ml(e),r=e.namespaced&&n?`${s}/namespaces/${n}/${e.name}`:`${s}/${e.name}`;return PY(r,t)}function Rj(t,e){return t.name===e.name&&(t.group||"")===(e.group||"")}const Oj=[{kind:"pods",label:"Pods",icon:yi,category:"workloads"},{kind:"deployments",label:"Deployments",icon:hC,category:"workloads"},{kind:"daemonsets",label:"DaemonSets",icon:uC,category:"workloads"},{kind:"statefulsets",label:"StatefulSets",icon:lc,category:"workloads"},{kind:"replicasets",label:"ReplicaSets",icon:pi,category:"workloads"},{kind:"jobs",label:"Jobs",icon:fC,category:"workloads"},{kind:"cronjobs",label:"CronJobs",icon:Oa,category:"workloads"},{kind:"secrets",label:"Secrets",icon:Op,category:"config"},{kind:"configmaps",label:"ConfigMaps",icon:ei,category:"config"},{kind:"applications",label:"Applications",icon:pD,category:"config"},{kind:"applicationsets",label:"ApplicationSets",icon:yD,category:"config"},{kind:"certificates",label:"Certificates",icon:_D,category:"config"},{kind:"certificaterequests",label:"CertificateRequests",icon:sy,category:"config"},{kind:"services",label:"Services",icon:bD,category:"network"},{kind:"ingresses",label:"Ingresses",icon:Cr,category:"network"},{kind:"gateways",label:"Gateways",icon:Vn,category:"network"},{kind:"httproutes",label:"HTTPRoutes",icon:Cr,category:"network"},{kind:"grpcroutes",label:"GRPCRoutes",icon:Cr,category:"network"},{kind:"tcproutes",label:"TCPRoutes",icon:Vn,category:"network"},{kind:"udproutes",label:"UDPRoutes",icon:Vn,category:"network"},{kind:"tlsroutes",label:"TLSRoutes",icon:Vn,category:"network"},{kind:"persistentvolumes",label:"PersistentVolumes",icon:Ns,category:"storage"},{kind:"persistentvolumeclaims",label:"PersistentVolumeClaims",icon:aC,category:"storage"},{kind:"namespaces",label:"Namespaces",icon:xv,category:"cluster"},{kind:"nodes",label:"Nodes",icon:mi,category:"cluster"},{kind:"events",label:"Events",icon:PG,category:"cluster"}],Mj={workloads:"Workloads",config:"Config",network:"Network",storage:"Storage",cluster:"Cluster",crd:"Custom Resources"};function $Y(t){const e=De.c(47),{context:n,namespace:s,namespaces:r,selectedResource:i,onSelectResource:a,onSelectNamespace:c,isOverviewSelected:u,isWelcome:h}=t;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=new Map,e[0]=m):m=e[0];const[p,y]=V.useState(m);let v;e[1]===Symbol.for("react.memo_cache_sentinel")?(v=[],e[1]=v):v=e[1];const[b,x]=V.useState(v);let S;e[2]===Symbol.for("react.memo_cache_sentinel")?(S={workloads:!0,config:!0,network:!0,storage:!0,cluster:!0,crd:!1},e[2]=S):S=e[2];const[k,C]=V.useState(S);let N,R;e[3]!==n?(N=()=>{(async()=>{const Y=new Map;for(const Q of Oj){const $=await $o(n,Q.kind);$&&Y.set(Q.kind,$)}y(Y)})()},R=[n],e[3]=n,e[4]=N,e[5]=R):(N=e[4],R=e[5]),V.useEffect(N,R);let O,E;e[6]!==n?(O=()=>{TY(n).then(I=>{const Y=I.map(AY);Y.sort(VY),x(Y)}).catch(FY)},E=[n],e[6]=n,e[7]=O,e[8]=E):(O=e[7],E=e[8]),V.useEffect(O,E);let D;e[9]===Symbol.for("react.memo_cache_sentinel")?(D=I=>{C(Y=>({...Y,[I]:!Y[I]}))},e[9]=D):D=e[9];const B=D;let q,P,W,z,K;if(e[10]!==p||e[11]!==b||e[12]!==k||e[13]!==u||e[14]!==h||e[15]!==s||e[16]!==r||e[17]!==c||e[18]!==a||e[19]!==i){const I=Oj.reduce(HY,{}),Y=b.reduce(UY,{}),Q=Object.entries(Y).sort(zY),$=i!==null&&!i.namespaced;let A,M;e[25]===Symbol.for("react.memo_cache_sentinel")?(A=$i().kubernetes?.tenancyLabels,M=$i().kubernetes?.platformNamespaces,e[25]=A,e[26]=M):(A=e[25],M=e[26]),e[27]!==s||e[28]!==r||e[29]!==c||e[30]!==$?(z=f.jsx("div",{className:"shrink-0 px-3 pb-2",children:f.jsx(IY,{namespaces:r,selectedNamespace:s,onSelectNamespace:c,disabled:$,spaceLabels:A,platformNamespaces:M})}),e[27]=s,e[28]=r,e[29]=c,e[30]=$,e[31]=z):z=e[31],K="flex-1 py-1 overflow-y-auto overflow-x-hidden min-h-0";const H=`flex items-center w-full px-3 py-2 text-sm rounded-lg transition-colors ${u&&!h?"bg-white/90 text-neutral-900 shadow-sm dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-white/50 hover:text-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-800/50 dark:hover:text-neutral-200"}`;let T;e[32]!==a?(T=()=>a(null),e[32]=a,e[33]=T):T=e[33];let J,ne;e[34]===Symbol.for("react.memo_cache_sentinel")?(J=f.jsx(Vn,{size:16,className:"mr-2.5 shrink-0 opacity-70"}),ne=f.jsx("span",{className:"font-medium",children:"Overview"}),e[34]=J,e[35]=ne):(J=e[34],ne=e[35]),e[36]!==H||e[37]!==T?(q=f.jsx("div",{className:"mb-2 px-2",children:f.jsxs("button",{className:H,onClick:T,children:[J,ne]})}),e[36]=H,e[37]=T,e[38]=q):q=e[38],P=Object.entries(I).map(Z=>{const[oe,ke]=Z;return f.jsxs("div",{className:"mb-1",children:[f.jsxs("button",{className:"flex items-center w-full px-4 py-1.5 text-[11px] font-semibold uppercase tracking-wider text-neutral-500 hover:text-neutral-700 dark:text-neutral-500 dark:hover:text-neutral-400 transition-colors",onClick:()=>B(oe),children:[f.jsx("span",{className:"mr-1.5 opacity-60",children:k[oe]?f.jsx(ps,{size:12}):f.jsx(Xr,{size:12})}),f.jsx("span",{children:Mj[oe]})]}),k[oe]&&f.jsx("ul",{className:"px-2",children:ke.map(Se=>{const Ge=p.get(Se.kind);if(!Ge)return null;const $e=i!==null&&Rj(Ge,i);return f.jsx("li",{children:f.jsxs("button",{className:`flex items-center w-full px-3 py-2 text-sm rounded-lg transition-colors ${$e?"bg-white/90 text-neutral-900 shadow-sm dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-white/50 hover:text-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-800/50 dark:hover:text-neutral-200"}`,onClick:()=>a(Ge),children:[f.jsx(Se.icon,{size:16,className:"mr-2.5 shrink-0 opacity-70"}),f.jsx("span",{className:"truncate",children:Se.label})]})},Se.kind)})})]},oe)}),W=b.length>0&&f.jsxs("div",{className:"mb-1",children:[f.jsxs("button",{className:"flex items-center w-full px-4 py-1.5 text-[11px] font-semibold uppercase tracking-wider text-neutral-500 hover:text-neutral-700 dark:text-neutral-500 dark:hover:text-neutral-400 transition-colors",onClick:()=>B("crd"),children:[f.jsx("span",{className:"mr-1.5 opacity-60",children:k.crd?f.jsx(ps,{size:12}):f.jsx(Xr,{size:12})}),f.jsx("span",{children:Mj.crd}),f.jsx("span",{className:"ml-auto px-1.5 py-0.5 bg-neutral-300/60 rounded text-[10px] text-neutral-500 dark:bg-neutral-700 dark:text-neutral-500",children:b.length})]}),k.crd&&f.jsx("div",{className:"px-2",children:Q.map(Z=>{const[oe,ke]=Z;return f.jsxs("div",{className:"mb-1",children:[f.jsx("div",{className:"px-3 py-1 text-[10px] text-neutral-400 truncate lowercase dark:text-neutral-600",title:oe,children:oe}),f.jsx("ul",{children:ke.map(Se=>{const Ge=i!==null&&Rj(Se,i);return f.jsx("li",{children:f.jsxs("button",{className:`flex items-center w-full px-3 py-2 text-sm rounded-lg transition-colors ${Ge?"bg-white/90 text-neutral-900 shadow-sm dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-white/50 hover:text-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-800/50 dark:hover:text-neutral-200"}`,onClick:()=>a(Se),title:`${Se.kind} (${Se.group})`,children:[f.jsx(wv,{size:16,className:"mr-2.5 shrink-0 opacity-70"}),f.jsx("span",{className:"truncate",children:Se.kind})]})},`${Se.group||""}/${Se.name}`)})})]},oe)})})]}),e[10]=p,e[11]=b,e[12]=k,e[13]=u,e[14]=h,e[15]=s,e[16]=r,e[17]=c,e[18]=a,e[19]=i,e[20]=q,e[21]=P,e[22]=W,e[23]=z,e[24]=K}else q=e[20],P=e[21],W=e[22],z=e[23],K=e[24];let X;e[39]!==q||e[40]!==P||e[41]!==W||e[42]!==K?(X=f.jsxs("nav",{className:K,children:[q,P,W]}),e[39]=q,e[40]=P,e[41]=W,e[42]=K,e[43]=X):X=e[43];let G;return e[44]!==z||e[45]!==X?(G=f.jsxs(f.Fragment,{children:[z,X]}),e[44]=z,e[45]=X,e[46]=G):G=e[46],G}function zY(t,e){const[n]=t,[s]=e,r=n.split(".").reverse().join("."),i=s.split(".").reverse().join(".");return r.localeCompare(i)}function UY(t,e){const n=e.group||"core";return t[n]||(t[n]=[]),t[n].push(e),t}function HY(t,e){return t[e.category]||(t[e.category]=[]),t[e.category].push(e),t}function FY(t){console.error("Failed to load CRDs:",t)}function VY(t,e){return t.kind.localeCompare(e.kind)}const qY="docker";function ND(t){const e=De.c(32),{mode:n,contexts:s,selectedContext:r,onSelectContext:i,dockerContexts:a,selectedDockerContext:c,onSelectDockerContext:u}=t;let h;e[0]!==a?(h=a===void 0?[]:a,e[0]=a,e[1]=h):h=e[1];const m=h,[p,y]=V.useState(!1),v=V.useRef(null);let b,x;e[2]!==p?(b=()=>{if(!p)return;const I=function(Q){v.current&&!v.current.contains(Q.target)&&y(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},x=[p],e[2]=p,e[3]=b,e[4]=x):(b=e[3],x=e[4]),V.useEffect(b,x);let S;e[5]!==i||e[6]!==u?(S=(I,Y)=>{Y?u&&u(I):i(I),y(!1)},e[5]=i,e[6]=u,e[7]=S):S=e[7];const k=S,C=n==="docker",N=C?c||qY:r,R=C?Ej:mi,O=s.length,E=m.length;if(O+E<=1)return null;let B;e[8]!==p?(B=()=>y(!p),e[8]=p,e[9]=B):B=e[9];let q;e[10]!==R?(q=f.jsx(R,{size:12,className:"opacity-60 group-hover:opacity-80"}),e[10]=R,e[11]=q):q=e[11];let P;e[12]!==N?(P=f.jsx("span",{className:"truncate flex-1 text-left",children:N}),e[12]=N,e[13]=P):P=e[13];const W=`opacity-40 group-hover:opacity-60 transition-transform ${p?"rotate-180":""}`;let z;e[14]!==W?(z=f.jsx(ps,{size:12,className:W}),e[14]=W,e[15]=z):z=e[15];let K;e[16]!==z||e[17]!==B||e[18]!==q||e[19]!==P?(K=f.jsxs("button",{type:"button",onClick:B,className:"flex items-center gap-1.5 w-full px-1 py-0.5 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors rounded group",children:[q,P,z]}),e[16]=z,e[17]=B,e[18]=q,e[19]=P,e[20]=K):K=e[20];let X;e[21]!==s||e[22]!==m||e[23]!==k||e[24]!==C||e[25]!==p||e[26]!==r||e[27]!==c?(X=p&&f.jsx("div",{className:"absolute z-50 left-0 right-0 mt-1 bg-white dark:bg-neutral-950 rounded-lg shadow-xl max-h-64 overflow-y-auto border border-neutral-200 dark:border-neutral-700",children:f.jsxs("div",{className:"py-1",children:[m.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 dark:text-neutral-500 uppercase tracking-wider",children:"Docker"}),m.map(I=>{const Y=C&&c===I;return f.jsxs("div",{onClick:()=>k(I,!0),className:`mx-1 px-2.5 py-1.5 rounded-md cursor-pointer text-sm flex items-center justify-between hover:bg-neutral-100 dark:hover:bg-neutral-800 ${Y?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 truncate",children:[f.jsx(Ej,{size:14,className:"opacity-50 shrink-0"}),f.jsx("span",{className:"truncate",children:I})]}),Y&&f.jsx(Nn,{size:14,className:"text-neutral-500 dark:text-neutral-400 shrink-0"})]},`docker-${I}`)})]}),s.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`px-3 py-1 text-[10px] font-semibold text-neutral-400 dark:text-neutral-500 uppercase tracking-wider ${m.length>0?"mt-1":""}`,children:"Kubernetes"}),s.map(I=>{const Y=!C&&r===I;return f.jsxs("div",{onClick:()=>k(I,!1),className:`mx-1 px-2.5 py-1.5 rounded-md cursor-pointer text-sm flex items-center justify-between hover:bg-neutral-100 dark:hover:bg-neutral-800 ${Y?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 truncate",children:[f.jsx(mi,{size:14,className:"opacity-50 shrink-0"}),f.jsx("span",{className:"truncate",children:I})]}),Y&&f.jsx(Nn,{size:14,className:"text-neutral-500 dark:text-neutral-400 shrink-0"})]},I)})]})]})}),e[21]=s,e[22]=m,e[23]=k,e[24]=C,e[25]=p,e[26]=r,e[27]=c,e[28]=X):X=e[28];let G;return e[29]!==K||e[30]!==X?(G=f.jsxs("div",{className:"relative",ref:v,children:[K,X]}),e[29]=K,e[30]=X,e[31]=G):G=e[31],G}function nu(t){return t.toLowerCase().replace(/[-_.]/g,"")}function ED(t){const e=De.c(92),{isOpen:n,onClose:s,adapter:r}=t,[i,a]=V.useState(""),[c,u]=V.useState(0);let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[0]=h):h=e[0];const[m,p]=V.useState(h),[y,v]=V.useState(!1),[b,x]=V.useState(!1),[S,k]=V.useState(r.id),[C,N]=V.useState(!1),R=V.useRef(null),O=V.useRef(null),E=V.useRef(null);r.id!==S&&(k(r.id),x(!1));let D,B;e[1]!==r?(D=()=>{let me=!1;return x(!1),r.initialize().then(()=>{me||x(!0)}),()=>{me=!0}},B=[r],e[1]=r,e[2]=D,e[3]=B):(D=e[2],B=e[3]),V.useEffect(D,B),n&&!C?(N(!0),a(""),u(0),p([])):!n&&C&&N(!1);let q;if(e[4]!==r.searchModePrefixes||e[5]!==i){e:{const me=[...r.searchModePrefixes].sort(GY);for(const{prefix:ct,mode:Oe}of me)if(i.startsWith(ct)){q={searchMode:Oe,searchQuery:i.slice(ct.length).trim()};break e}let Ue;e[7]!==i?(Ue=i.trim(),e[7]=i,e[8]=Ue):Ue=e[8];let lt;e[9]!==Ue?(lt={searchMode:"search",searchQuery:Ue},e[9]=Ue,e[10]=lt):lt=e[10],q=lt}e[4]=r.searchModePrefixes,e[5]=i,e[6]=q}else q=e[6];const{searchMode:P,searchQuery:W}=q;let z;e:{if(!b){let Ue;e[11]===Symbol.for("react.memo_cache_sentinel")?(Ue=[],e[11]=Ue):Ue=e[11],z=Ue;break e}let me;e[12]!==r?(me=r.getAvailableResourceTypes(),e[12]=r,e[13]=me):me=e[13],z=me}const K=z;let X;if(e[14]!==K||e[15]!==W){const me=nu(W);X=K.filter(Ue=>nu(Ue.label).includes(me)||nu(Ue.kind).includes(me)||nu(Ue.category).includes(me)),e[14]=K,e[15]=W,e[16]=X}else X=e[16];const G=X;let I;e:{if(!r.supportsNamespaces){let Ue;e[17]===Symbol.for("react.memo_cache_sentinel")?(Ue=[],e[17]=Ue):Ue=e[17],I=Ue;break e}let me;if(e[18]!==r||e[19]!==W){const Ue=nu(W);me=r.getNamespaces().filter(lt=>nu(lt.name).includes(Ue)),e[18]=r,e[19]=W,e[20]=me}else me=e[20];I=me}const Y=I;let Q;e:{if(P==="resources"){let Ue;if(e[21]!==r||e[22]!==G){let lt;e[24]!==r?(lt=ct=>r.resourceTypeToSearchResult(ct),e[24]=r,e[25]=lt):lt=e[25],Ue=G.map(lt),e[21]=r,e[22]=G,e[23]=Ue}else Ue=e[23];Q=Ue;break e}if(P==="namespaces"&&r.supportsNamespaces&&r.namespaceToSearchResult){let Ue;if(e[26]!==r.namespaceToSearchResult||e[27]!==Y){let lt;e[29]!==r.namespaceToSearchResult?(lt=ct=>r.namespaceToSearchResult(ct),e[29]=r.namespaceToSearchResult,e[30]=lt):lt=e[30],Ue=Y.map(lt),e[26]=r.namespaceToSearchResult,e[27]=Y,e[28]=Ue}else Ue=e[28];Q=Ue;break e}let me;e[31]===Symbol.for("react.memo_cache_sentinel")?(me=[],e[31]=me):me=e[31],Q=me}const $=Q,A=P==="search"||P==="searchAll"?m:$,M=(P==="search"||P==="searchAll")&&W.length>=2&&b,[H,T]=V.useState(P),[J,ne]=V.useState($.length);P!==H?(T(P),ne($.length),P!=="search"&&P!=="searchAll"&&u(0)):P!=="search"&&P!=="searchAll"&&$.length!==J&&(ne($.length),u(0));const[Z,oe]=V.useState(M);M&&!Z?(oe(!0),v(!0)):!M&&Z&&oe(!1);let ke,Se;e[32]!==r||e[33]!==P||e[34]!==W||e[35]!==M?(Se=()=>(E.current&&clearTimeout(E.current),M&&(E.current=setTimeout(async()=>{const me=await r.searchResources(W,P==="searchAll");p(me),u(0),v(!1)},300)),()=>{E.current&&clearTimeout(E.current)}),ke=[M,P,W,r],e[32]=r,e[33]=P,e[34]=W,e[35]=M,e[36]=ke,e[37]=Se):(ke=e[36],Se=e[37]),V.useEffect(Se,ke),(P==="search"||P==="searchAll")&&W.length<2&&m.length>0&&(p([]),v(!1));let $e;e[38]!==r?($e=me=>{r.handleSelect(me)},e[38]=r,e[39]=$e):$e=e[39];const it=$e;let qe;e[40]!==c||e[41]!==it||e[42]!==s||e[43]!==A?(qe=me=>{e:switch(me.key){case"ArrowDown":{me.preventDefault(),u(Ue=>Math.min(Ue+1,A.length-1));break e}case"ArrowUp":{me.preventDefault(),u(WY);break e}case"Enter":{me.preventDefault(),A[c]&&it(A[c]);break e}case"Escape":me.preventDefault(),s()}},e[40]=c,e[41]=it,e[42]=s,e[43]=A,e[44]=qe):qe=e[44];const Qe=qe;let Ot,jt;e[45]!==n?(Ot=()=>{n&&setTimeout(()=>R.current?.focus(),0)},jt=[n],e[45]=n,e[46]=Ot,e[47]=jt):(Ot=e[46],jt=e[47]),V.useEffect(Ot,jt);let an,on;e[48]!==c?(an=()=>{c>=0&&O.current&&O.current.querySelector(`[data-index="${c}"]`)?.scrollIntoView({block:"nearest"})},on=[c],e[48]=c,e[49]=an,e[50]=on):(an=e[49],on=e[50]),V.useEffect(an,on);let qt;e[51]!==r||e[52]!==P?(qt=r.getPlaceholder(P,r.getCurrentScopeLabel?.()??void 0),e[51]=r,e[52]=P,e[53]=qt):qt=e[53];const Zt=qt;let Ye;e[54]!==r?(Ye=r.getHelpItems(),e[54]=r,e[55]=Ye):Ye=e[55];const tt=Ye;if(!n)return null;let je,Le;e[56]!==s?(je=me=>{me.target===me.currentTarget&&s()},Le=f.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),e[56]=s,e[57]=je,e[58]=Le):(je=e[57],Le=e[58]);let Ct;e[59]===Symbol.for("react.memo_cache_sentinel")?(Ct=f.jsx(dC,{size:20,className:"text-neutral-400 dark:text-neutral-500 shrink-0"}),e[59]=Ct):Ct=e[59];let fe;e[60]===Symbol.for("react.memo_cache_sentinel")?(fe=me=>a(me.target.value),e[60]=fe):fe=e[60];let xe;e[61]!==Qe||e[62]!==Zt||e[63]!==i?(xe=f.jsx("input",{ref:R,type:"text",className:"flex-1 bg-transparent text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 outline-none text-base",value:i,onChange:fe,onKeyDown:Qe,placeholder:Zt,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}),e[61]=Qe,e[62]=Zt,e[63]=i,e[64]=xe):xe=e[64];let Ze;e[65]!==y?(Ze=y&&f.jsx("div",{className:"shrink-0 w-4 h-4 border-2 border-neutral-300 dark:border-neutral-600 border-t-neutral-500 dark:border-t-neutral-400 rounded-full animate-spin"}),e[65]=y,e[66]=Ze):Ze=e[66];let rt;e[67]!==xe||e[68]!==Ze?(rt=f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-neutral-200 dark:border-neutral-700",children:[Ct,xe,Ze]}),e[67]=xe,e[68]=Ze,e[69]=rt):rt=e[69];let pt;e[70]!==c||e[71]!==it||e[72]!==tt||e[73]!==y||e[74]!==A||e[75]!==P||e[76]!==W?(pt=f.jsx("div",{ref:O,className:"max-h-[60vh] overflow-y-auto",children:A.length===0?f.jsx("div",{className:"px-4 py-8 text-center text-neutral-500 dark:text-neutral-400",children:y?"Searching...":W.length>0&&(P==="search"||P==="searchAll")&&W.length<2?"Type at least 2 characters to search":W.length>0?"No results found":f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{children:"Type to search or use prefixes:"}),f.jsx("div",{className:"text-sm space-y-1",children:tt.map(KY)})]})}):f.jsx("div",{className:"py-2",children:A.map((me,Ue)=>{const lt=me.icon,ct=Ue===c;return f.jsxs("div",{"data-index":Ue,onClick:()=>it(me),className:`flex items-center gap-3 px-4 py-2.5 cursor-pointer ${ct?"bg-neutral-100 dark:bg-neutral-800":"hover:bg-neutral-50 dark:hover:bg-neutral-800/50"}`,children:[f.jsx(lt,{size:18,className:`shrink-0 ${me.type==="namespace"?"text-blue-500":me.type==="resource"?"text-green-500":"text-neutral-400 dark:text-neutral-500"}`}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-sm text-neutral-900 dark:text-neutral-100 truncate",children:me.label}),me.sublabel&&f.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:me.sublabel})]}),f.jsxs("div",{className:"shrink-0 text-xs text-neutral-400 dark:text-neutral-500",children:[me.type==="resource-type"&&"Type",me.type==="namespace"&&"Namespace",me.type==="resource"&&"Resource"]})]},me.id)})})}),e[70]=c,e[71]=it,e[72]=tt,e[73]=y,e[74]=A,e[75]=P,e[76]=W,e[77]=pt):pt=e[77];let ln;e[78]===Symbol.for("react.memo_cache_sentinel")?(ln=f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{children:[f.jsx("kbd",{className:"px-1 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded",children:""})," Navigate"]}),f.jsxs("span",{children:[f.jsx("kbd",{className:"px-1 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded",children:""})," Select"]}),f.jsxs("span",{children:[f.jsx("kbd",{className:"px-1 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded",children:"esc"})," Close"]})]}),e[78]=ln):ln=e[78];let re;e[79]!==r||e[80]!==P?(re=r.getCurrentScopeLabel?.()&&P==="search"&&f.jsxs("span",{children:["Scope: ",r.getCurrentScopeLabel()]}),e[79]=r,e[80]=P,e[81]=re):re=e[81];let ae;e[82]!==re?(ae=f.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t border-neutral-200 dark:border-neutral-700 text-xs text-neutral-400 dark:text-neutral-500",children:[ln,re]}),e[82]=re,e[83]=ae):ae=e[83];let de;e[84]!==rt||e[85]!==pt||e[86]!==ae?(de=f.jsxs("div",{className:"relative w-full max-w-2xl mx-4 bg-white dark:bg-neutral-900 rounded-xl shadow-2xl border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[rt,pt,ae]}),e[84]=rt,e[85]=pt,e[86]=ae,e[87]=de):de=e[87];let Ce;return e[88]!==je||e[89]!==Le||e[90]!==de?(Ce=W2.createPortal(f.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[15vh]",onClick:je,children:[Le,de]}),document.body),e[88]=je,e[89]=Le,e[90]=de,e[91]=Ce):Ce=e[91],Ce}function KY(t){return f.jsxs("p",{children:[f.jsx("kbd",{className:"px-1.5 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded text-xs",children:t.prefix})," ",t.label]},t.prefix)}function WY(t){return Math.max(t-1,0)}function GY(t,e){return e.prefix.length-t.prefix.length}function Dg(t){return t.toLowerCase().replace(/[-_.]/g,"")}const Bg=[{kind:"pods",label:"Pods",icon:yi,category:"Workloads"},{kind:"deployments",label:"Deployments",icon:hC,category:"Workloads"},{kind:"daemonsets",label:"DaemonSets",icon:uC,category:"Workloads"},{kind:"statefulsets",label:"StatefulSets",icon:lc,category:"Workloads"},{kind:"replicasets",label:"ReplicaSets",icon:pi,category:"Workloads"},{kind:"jobs",label:"Jobs",icon:fC,category:"Workloads"},{kind:"cronjobs",label:"CronJobs",icon:Oa,category:"Workloads"},{kind:"secrets",label:"Secrets",icon:Op,category:"Config"},{kind:"configmaps",label:"ConfigMaps",icon:ei,category:"Config"},{kind:"applications",label:"Applications",icon:pD,category:"Config"},{kind:"applicationsets",label:"ApplicationSets",icon:yD,category:"Config"},{kind:"certificates",label:"Certificates",icon:_D,category:"Config"},{kind:"certificaterequests",label:"CertificateRequests",icon:sy,category:"Config"},{kind:"services",label:"Services",icon:bD,category:"Network"},{kind:"ingresses",label:"Ingresses",icon:Cr,category:"Network"},{kind:"gateways",label:"Gateways",icon:Vn,category:"Network"},{kind:"httproutes",label:"HTTPRoutes",icon:Cr,category:"Network"},{kind:"grpcroutes",label:"GRPCRoutes",icon:Cr,category:"Network"},{kind:"tcproutes",label:"TCPRoutes",icon:Vn,category:"Network"},{kind:"udproutes",label:"UDPRoutes",icon:Vn,category:"Network"},{kind:"tlsroutes",label:"TLSRoutes",icon:Vn,category:"Network"},{kind:"persistentvolumes",label:"PersistentVolumes",icon:Ns,category:"Storage"},{kind:"persistentvolumeclaims",label:"PersistentVolumeClaims",icon:aC,category:"Storage"},{kind:"namespaces",label:"Namespaces",icon:xv,category:"Cluster"},{kind:"nodes",label:"Nodes",icon:mi,category:"Cluster"}];function YY(t){const{context:e,namespace:n,namespaces:s,setNamespace:r,setSelectedResource:i,setSelectedItem:a,onClose:c}=t;let u=new Map;return{id:"kubernetes",resourceTypes:Bg,supportsNamespaces:!0,searchModePrefixes:[{prefix:"@@",mode:"searchAll"},{prefix:">",mode:"resources"},{prefix:"@",mode:"namespaces"}],async initialize(){const m=new Map;for(const p of Bg)try{const y=await $o(e,p.kind);y&&m.set(p.kind,y)}catch{}u=m},getAvailableResourceTypes(){return Bg.filter(m=>u.has(m.kind))},getNamespaces(){return s.filter(m=>m.metadata?.name).map(m=>({name:m.metadata.name}))},resourceTypeToSearchResult(m){return{id:`type-${m.kind}`,type:"resource-type",label:m.label,sublabel:m.category,icon:m.icon,category:m.category,data:{resourceConfig:u.get(m.kind)}}},namespaceToSearchResult(m){return{id:`ns-${m.name}`,type:"namespace",label:m.name,icon:xv,data:{namespace:m.name}}},async searchResources(m,p){if(!m||m.length<2)return[];const y=[],v=Dg(m),b=p?void 0:n,x=Bg.filter(k=>u.has(k.kind)).map(async k=>{const C=u.get(k.kind);if(!C)return[];try{const N=await CD(e,C,b),R=[];for(const O of N.rows){if(!O.object.metadata)continue;const E=O.object.metadata.name,D=O.object.metadata.namespace;E&&Dg(E).includes(v)&&R.push({id:`${k.kind}/${D||""}/${E}`,type:"resource",label:E,sublabel:D?`${k.label} in ${D}`:k.label,icon:k.icon,category:k.category,data:{resourceConfig:C,namespace:D,resourceName:E}})}return R}catch{return[]}}),S=await Promise.all(x);for(const k of S)y.push(...k);return y.sort((k,C)=>{const N=Dg(k.label)===v,R=Dg(C.label)===v;return N&&!R?-1:!N&&R?1:k.label.localeCompare(C.label)}),y.slice(0,50)},handleSelect(m){if(m.type==="resource-type"){const p=m.data.resourceConfig;p&&i(p)}else if(m.type==="namespace")r(m.data.namespace);else if(m.type==="resource"){const p=m.data.resourceConfig,y=m.data.namespace,v=m.data.resourceName;y&&y!==n&&r(y),p&&v?a(p.name,v,y):p&&i(p)}c()},getPlaceholder(m,p){switch(m){case"resources":return"Search resource types...";case"namespaces":return"Search namespaces...";case"searchAll":return"Search resources across all namespaces...";default:return`Search resources in ${p||n||"current namespace"}... (> types, @ ns, @@ all)`}},getHelpItems(){return[{prefix:">",label:"Resource types"},{prefix:"@",label:"Namespaces"},{prefix:"@@",label:"Search all namespaces"}]},getCurrentScopeLabel(){return n||null}}}function Dj(t){const e=Math.floor((Date.now()-t.getTime())/1e3);if(e<60)return`${e}s ago`;const n=Math.floor(e/60);if(n<60)return`${n}m ago`;const s=Math.floor(n/60);return s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`}function jd(t){const e=t.match(/^(\d+)(Ki|Mi|Gi|Ti|K|M|G|T)?$/);if(!e)return t;const n=parseInt(e[1],10),s=e[2];return s?s==="Ki"&&n>=1024*1024?`${(n/(1024*1024)).toFixed(1)}Gi`:s==="Ki"&&n>=1024?`${(n/1024).toFixed(1)}Mi`:s==="Mi"&&n>=1024?`${(n/1024).toFixed(1)}Gi`:t:n>=1024*1024*1024?`${(n/(1024*1024*1024)).toFixed(1)}Gi`:n>=1024*1024?`${(n/(1024*1024)).toFixed(1)}Mi`:n>=1024?`${(n/1024).toFixed(1)}Ki`:`${n}B`}function AD(t){switch(t){case"ReadWriteOnce":return"bg-blue-500/20 text-blue-400 border border-blue-500/30";case"ReadOnlyMany":return"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30";case"ReadWriteMany":return"bg-purple-500/20 text-purple-400 border border-purple-500/30";case"ReadWriteOncePod":return"bg-amber-500/20 text-amber-400 border border-amber-500/30";default:return"bg-gray-700 text-gray-300"}}function jD(t){switch(t){case"ReadWriteOnce":return"RWO";case"ReadOnlyMany":return"ROX";case"ReadWriteMany":return"RWX";case"ReadWriteOncePod":return"RWOP";default:return t}}function ZY(t){const e=t.split(" ");if(e.length!==5)return t;const[n,s,r,i,a]=e;if(t==="* * * * *")return"Every minute";if(t==="0 * * * *")return"Every hour";if(t==="0 0 * * *")return"Every day at midnight";if(t==="0 0 * * 0")return"Every Sunday at midnight";if(t==="0 0 1 * *")return"First day of every month at midnight";const c=[];if(n!=="*"&&c.push(`at minute ${n}`),s!=="*"&&c.push(`at hour ${s}`),r!=="*"&&c.push(`on day ${r}`),i!=="*"&&c.push(`in month ${i}`),a!=="*"){const u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=parseInt(a);c.push(`on ${isNaN(h)?a:u[h]||a}`)}return c.length>0?c.join(", "):"Custom schedule"}function Bj(t){return{name:t.name,image:t.image||"",resources:t.resources?{requests:t.resources.requests,limits:t.resources.limits}:void 0,ports:t.ports?.map(e=>({name:e.name,containerPort:e.containerPort,protocol:e.protocol})),command:t.command,args:t.args,mounts:t.volumeMounts?.map(e=>({name:e.name,mountPath:e.mountPath,readOnly:e.readOnly,subPath:e.subPath})),env:t.env?.map(TD),envFrom:t.envFrom?.map(RD).filter(e=>e!==null)}}function dh(t,e,n){const s=[];return e&&e.length>0&&s.push({id:"init-containers",title:"Init Containers",data:{type:"containers",items:e.map(Bj)}}),t&&t.length>0&&s.push({id:"containers",title:"Containers",data:{type:"containers",items:t.map(Bj),metricsLoader:n}}),s}function XY(t){if(!t||t.length===0)return null;let e=0,n=0,s=0,r=0,i=!1,a=!1,c=!1,u=!1;for(const h of t){const m=h.resources;if(!m)continue;const p=m.requests,y=m.limits;p?.cpu&&(e+=Ro(p.cpu),i=!0),y?.cpu&&(n+=Ro(y.cpu),a=!0),p?.memory&&(s+=Oo(p.memory),c=!0),y?.memory&&(r+=Oo(y.memory),u=!0)}return!i&&!a&&!c&&!u?null:{cpu:{requests:i?op(e):void 0,requestsNanoCores:i?e:void 0,limits:a?op(n):void 0,limitsNanoCores:a?n:void 0},memory:{requests:c?lp(s):void 0,requestsBytes:c?s:void 0,limits:u?lp(r):void 0,limitsBytes:u?r:void 0}}}function cc(t){const e=XY(t);return e?{id:"resource-quota",data:{type:"resource-quota",data:e}}:null}function TD(t){if(t.value!==void 0)return{name:t.name,value:t.value};if(t.valueFrom){if(t.valueFrom.secretKeyRef)return{name:t.name,valueFrom:{type:"secretKeyRef",source:t.valueFrom.secretKeyRef.name??"",key:t.valueFrom.secretKeyRef.key}};if(t.valueFrom.configMapKeyRef)return{name:t.name,valueFrom:{type:"configMapKeyRef",source:t.valueFrom.configMapKeyRef.name??"",key:t.valueFrom.configMapKeyRef.key}};if(t.valueFrom.fieldRef)return{name:t.name,valueFrom:{type:"fieldRef",source:t.valueFrom.fieldRef.fieldPath}};if(t.valueFrom.resourceFieldRef){const e=t.valueFrom.resourceFieldRef.resource,n=t.valueFrom.resourceFieldRef.containerName;return{name:t.name,valueFrom:{type:"resourceFieldRef",source:n?`${n}/${e}`:e}}}}return{name:t.name,value:""}}function RD(t){return t.configMapRef?{name:t.configMapRef.name??"",type:"configMap",prefix:t.prefix}:t.secretRef?{name:t.secretRef.name??"",type:"secret",prefix:t.prefix}:null}const JY={kinds:["Deployment","Deployments"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,i=r?.namespace;if(!n)return{sections:[]};const a=n.replicas??1,c=s?.readyReplicas??0,u=s?.updatedReplicas??0,h=s?.availableReplicas??0,m=async()=>{const v=n.selector?.matchLabels;if(!i||!v||Object.keys(v).length===0)return null;const b=await gC(t,i,v);return b.length===0?null:yC(b)},p=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],y=cc(p);return{sections:[{id:"replicas",title:"Replica Status",data:{type:"gauges",items:[{label:"Ready",current:c,total:a,color:"emerald"},{label:"Updated",current:u,total:a,color:"blue"},{label:"Available",current:h,total:a,color:"cyan"}],showPodGrid:{total:a,ready:c,available:h,icon:"box"}}},{id:"strategy",data:{type:"info-grid",items:[{label:"Strategy",value:n.strategy?.type||"RollingUpdate"},...n.strategy?.rollingUpdate?[{label:"Max Surge",value:String(n.strategy.rollingUpdate.maxSurge??"25%"),color:"text-cyan-400"},{label:"Max Unavailable",value:String(n.strategy.rollingUpdate.maxUnavailable??"25%"),color:"text-amber-400"}]:[]],columns:3}},{id:"replicasets",data:{type:"related-replicasets",title:"ReplicaSets",loader:async()=>{if(!i||!r?.name)return[];try{const v=await $o(t,"replicasets");if(!v)return[];const b=await pC(t,v,i),x=r.name??"",S=r.uid;return b.filter(k=>{const C=k.metadata,N=C.name;if(C.ownerReferences?.some(O=>O.kind==="Deployment"&&O.name===x||O.uid===S))return!0;if(N.startsWith(x+"-")){const O=N.slice(x.length+1);return/^[a-z0-9]{7,10}$/.test(O)}return!1}).map(k=>{const C=k.metadata,N=k.spec,R=k.status;return{name:C.name,replicas:R?.replicas??0,readyReplicas:R?.readyReplicas??0,images:N?.template?.spec?.containers?.map(O=>O.image)??[],isCurrent:(R?.replicas??0)>0,namespace:i,context:t}}).sort((k,C)=>k.isCurrent&&!C.isCurrent?-1:!k.isCurrent&&C.isCurrent?1:C.name.localeCompare(k.name))}catch(v){return console.error("Failed to fetch ReplicaSets:",v),[]}}}},...dh(n.template?.spec?.containers,n.template?.spec?.initContainers,m),...y?[y]:[]]}}},QY={kinds:["Pod","Pods"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,i=r?.namespace;if(!n)return{sections:[]};const a=n.containers??[],c=n.initContainers??[],u=s?.containerStatuses??[],h=s?.initContainerStatuses??[],m=u.reduce((b,x)=>b+(x.restartCount??0),0),p=async()=>{const b=r?.name,x=i;if(!b||!x)return null;const S=await BY(t,b,x);if(!S)return null;const k=new Map;for(const C of S.containers)k.set(C.name,{cpu:{usage:op(Ro(C.usage.cpu)),usageNanoCores:Ro(C.usage.cpu)},memory:{usage:lp(Oo(C.usage.memory)),usageBytes:Oo(C.usage.memory)}});return k},y=[...a,...c],v=cc(y);return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Phase",value:s?.phase||"Unknown",status:tZ(s?.phase)},{label:"Pod IP",value:s?.podIP||"Pending"},{label:"Node",value:n.nodeName||"Not scheduled"},{label:"Restarts",value:m,status:m>0?"warning":"success"}]}},...v?[v]:[],...c.length>0?[{id:"init-containers",title:"Init Containers",data:{type:"containers",items:c.map(b=>Lj(b,h))}}]:[],{id:"containers",title:"Containers",data:{type:"containers",items:a.map(b=>Lj(b,u)),metricsLoader:p}},...n.volumes?.length?[{id:"volumes",title:"Volumes",data:{type:"volumes",items:n.volumes.map(b=>eZ(b,[...a,...c]))}}]:[]]}}};function Lj(t,e){const n=e.find(a=>a.name===t.name),s=nZ(n),r=n?.lastState?.terminated,i=n?.state?.terminated;return{name:t.name,image:t.image||"",state:s.state,stateReason:s.reason,stateMessage:s.message,ready:n?.ready,restartCount:n?.restartCount,currentTermination:i?{reason:i.reason,message:i.message,exitCode:i.exitCode,signal:i.signal,startedAt:i.startedAt?.toISOString?.()??i.startedAt,finishedAt:i.finishedAt?.toISOString?.()??i.finishedAt}:void 0,lastTermination:r?{reason:r.reason,exitCode:r.exitCode,signal:r.signal,finishedAt:r.finishedAt?.toISOString?.()??r.finishedAt}:void 0,resources:t.resources?{requests:t.resources.requests,limits:t.resources.limits}:void 0,ports:t.ports?.map(a=>({name:a.name,containerPort:a.containerPort,protocol:a.protocol})),command:t.command,args:t.args,mounts:t.volumeMounts?.map(a=>({name:a.name,mountPath:a.mountPath,readOnly:a.readOnly,subPath:a.subPath})),env:t.env?.map(TD),envFrom:t.envFrom?.map(RD).filter(a=>a!==null)}}function eZ(t,e){const n=sZ(t),s=[];for(const r of e)if(r.volumeMounts)for(const i of r.volumeMounts)i.name===t.name&&s.push({container:r.name,mountPath:i.mountPath,readOnly:i.readOnly??!1,subPath:i.subPath});return{name:t.name,type:n.type,source:n.detail,extra:n.extra,mounts:s}}function tZ(t){switch(t?.toLowerCase()){case"running":return"success";case"succeeded":return"success";case"pending":return"warning";case"failed":return"error";default:return"neutral"}}function nZ(t){return t?.state?t.state.running?{state:"running"}:t.state.waiting?{state:"waiting",reason:t.state.waiting.reason,message:t.state.waiting.message}:t.state.terminated?{state:"terminated",reason:t.state.terminated.reason,message:t.state.terminated.message}:{}:{}}function Lg(t){const e=t.toString(8).padStart(4,"0"),n=parseInt(e[e.length-4]||"0",10),s=parseInt(e[e.length-3],10),r=parseInt(e[e.length-2],10),i=parseInt(e[e.length-1],10),a=(n&4)!==0,c=(n&2)!==0,u=(n&1)!==0,h=b=>b&4?"r":"-",m=b=>b&2?"w":"-",p=s&1?a?"s":"x":a?"S":"-",y=r&1?c?"s":"x":c?"S":"-",v=i&1?u?"t":"x":u?"T":"-";return h(s)+m(s)+p+h(r)+m(r)+y+h(i)+m(i)+v}function sZ(t){if(t.configMap)return{type:"ConfigMap",detail:t.configMap.name||"",extra:{...t.configMap.optional!==void 0&&{optional:String(t.configMap.optional)},...t.configMap.defaultMode!==void 0&&{mode:Lg(t.configMap.defaultMode)}}};if(t.secret)return{type:"Secret",detail:t.secret.secretName||"",extra:{...t.secret.optional!==void 0&&{optional:String(t.secret.optional)},...t.secret.defaultMode!==void 0&&{mode:Lg(t.secret.defaultMode)}}};if(t.emptyDir)return{type:"EmptyDir",detail:t.emptyDir.medium||"default",extra:{...t.emptyDir.sizeLimit&&{sizeLimit:t.emptyDir.sizeLimit}}};if(t.hostPath)return{type:"HostPath",detail:t.hostPath.path,extra:{...t.hostPath.type&&{type:t.hostPath.type}}};if(t.persistentVolumeClaim)return{type:"PVC",detail:t.persistentVolumeClaim.claimName,extra:{...t.persistentVolumeClaim.readOnly&&{readOnly:"true"}}};if(t.projected){const e=t.projected.sources||[],n=e.map(s=>s.configMap?"ConfigMap":s.secret?"Secret":s.serviceAccountToken?"ServiceAccountToken":s.downwardAPI?"DownwardAPI":"Unknown");return{type:"Projected",detail:`${e.length} sources`,extra:{sources:n.join(", "),...t.projected.defaultMode!==void 0&&{mode:Lg(t.projected.defaultMode)}}}}return t.downwardAPI?{type:"DownwardAPI",detail:`${t.downwardAPI.items?.length||0} items`,extra:{...t.downwardAPI.defaultMode!==void 0&&{mode:Lg(t.downwardAPI.defaultMode)}}}:t.nfs?{type:"NFS",detail:`${t.nfs.server}:${t.nfs.path}`,extra:{...t.nfs.readOnly&&{readOnly:"true"}}}:t.csi?{type:"CSI",detail:t.csi.driver,extra:{...t.csi.fsType&&{fsType:t.csi.fsType},...t.csi.readOnly&&{readOnly:"true"}}}:{type:"Unknown",detail:""}}const rZ={kinds:["StatefulSet","StatefulSets"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,i=r?.namespace;if(!n)return{sections:[]};const a=n.replicas??1,c=s?.readyReplicas??0,u=s?.currentReplicas??0,h=s?.updatedReplicas??0,m=s?.availableReplicas??0,p=Array.from({length:a},(x,S)=>`${r?.name}-${S}`),y=async()=>{const x=n.selector?.matchLabels;if(!i||!x||Object.keys(x).length===0)return null;const S=await gC(t,i,x);return S.length===0?null:yC(S)},v=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],b=cc(v);return{sections:[{id:"replicas",title:"Replica Status",data:{type:"gauges",items:[{label:"Ready",current:c,total:a,color:"emerald"},{label:"Current",current:u,total:a,color:"blue"},{label:"Updated",current:h,total:a,color:"cyan"}],showPodGrid:{total:a,ready:c,available:m,showOrdinal:!0,icon:"database",podTitles:p}}},{id:"config",data:{type:"info-grid",items:[{label:"Service Name",value:n.serviceName,color:"text-cyan-400"},{label:"Pod Management",value:n.podManagementPolicy||"OrderedReady"},{label:"Update Strategy",value:n.updateStrategy?.type||"RollingUpdate"},...n.updateStrategy?.rollingUpdate?.partition!==void 0?[{label:"Partition",value:n.updateStrategy.rollingUpdate.partition,color:"text-amber-400"}]:[]],columns:2}},...s?.currentRevision?[{id:"revisions",title:"Revisions",data:{type:"info-grid",items:[{label:"Current",value:s.currentRevision,color:"text-cyan-400"},...s.updateRevision&&s.updateRevision!==s.currentRevision?[{label:"Update",value:s.updateRevision,color:"text-amber-400"}]:[]],columns:1}}]:[],...n.volumeClaimTemplates?.length?[{id:"volume-templates",title:"Volume Claim Templates",data:{type:"volume-claim-templates",items:n.volumeClaimTemplates.map(x=>({name:x.metadata?.name||"",size:x.spec?.resources?.requests?.storage,storageClass:x.spec?.storageClassName,accessModes:x.spec?.accessModes}))}}]:[],{id:"pvcs",data:{type:"related-pvcs",title:"Persistent Volume Claims",loader:async()=>{if(!i||!r?.name)return[];try{const x=await $o(t,"persistentvolumeclaims");if(!x)return[];const S=await pC(t,x,i),k=r.name,C=n?.volumeClaimTemplates?.map(N=>N.metadata?.name)??[];return S.filter(N=>{const O=N.metadata.name;return C.some(E=>O.startsWith(`${E}-${k}-`))}).map(N=>{const R=N.metadata,O=N.spec,E=N.status;return{name:R.name,status:E?.phase??"Unknown",capacity:E?.capacity?.storage,storageClass:O?.storageClassName,namespace:i,context:t}})}catch(x){return console.error("Failed to fetch PVCs:",x),[]}}}},...dh(n.template?.spec?.containers,n.template?.spec?.initContainers,y),...b?[b]:[]]}}},iZ={kinds:["DaemonSet","DaemonSets"],adapt(t,e){const n=e.spec,s=e.status,i=e.metadata?.namespace;if(!n)return{sections:[]};const a=s?.desiredNumberScheduled??0,c=s?.currentNumberScheduled??0,u=s?.numberReady??0,h=s?.numberAvailable??0,m=s?.numberMisscheduled??0,p=s?.updatedNumberScheduled??0,y=async()=>{const x=n.selector?.matchLabels;if(!i||!x||Object.keys(x).length===0)return null;const S=await gC(t,i,x);return S.length===0?null:yC(S)},v=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],b=cc(v);return{sections:[{id:"distribution",title:"Node Distribution",data:{type:"gauges",items:[{label:"Scheduled",current:c,total:a,color:"blue"},{label:"Ready",current:u,total:a,color:"emerald"},{label:"Available",current:h,total:a,color:"cyan"}],showPodGrid:{total:a,ready:u,current:c,icon:"server"}}},{id:"status",data:{type:"info-grid",items:[{label:"Update Strategy",value:n.updateStrategy?.type||"RollingUpdate"},{label:"Updated",value:`${p}/${a}`,color:"text-cyan-400"},...m>0?[{label:"Misscheduled",value:`${m} pods on wrong nodes`,color:"text-red-400"}]:[]],columns:2}},...n.updateStrategy?.rollingUpdate?[{id:"rolling-update",title:"Rolling Update Config",data:{type:"info-grid",items:[{label:"Max Unavailable",value:String(n.updateStrategy.rollingUpdate.maxUnavailable??1),color:"text-amber-400"},...n.updateStrategy.rollingUpdate.maxSurge?[{label:"Max Surge",value:String(n.updateStrategy.rollingUpdate.maxSurge),color:"text-cyan-400"}]:[]],columns:2}}]:[],...n.template?.spec?.nodeSelector&&Object.keys(n.template.spec.nodeSelector).length>0?[{id:"node-selector",data:{type:"labels",labels:n.template.spec.nodeSelector,title:"Node Selector"}}]:[],...dh(n.template?.spec?.containers,n.template?.spec?.initContainers,y),...b?[b]:[]]}}},aZ={kinds:["Node","Nodes"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata;if(!s)return{sections:[]};const i=s.nodeInfo,a=s.conditions??[],c=s.addresses??[],u=s.capacity??{},h=s.allocatable??{},m=n?.taints??[],p=r?.labels??{},v=a.find(x=>x.type==="Ready")?.status==="True",b=Object.keys(p).filter(x=>x.startsWith("node-role.kubernetes.io/")).map(x=>x.replace("node-role.kubernetes.io/",""));return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:v?"Ready":"NotReady",status:v?"success":"error",icon:v?f.jsx(vi,{size:14}):f.jsx(Ra,{size:14})},{label:"Role",value:b.length>0?b.join(", "):"worker",icon:f.jsx(mi,{size:14,className:"text-purple-400"})}]}},{id:"metrics",data:{type:"node-metrics",title:"Resource Usage",loader:async()=>{const x=r?.name;if(!x)return null;const S=await LY(t,x);if(!S)return null;const k=h.cpu??"0",C=h.memory??"0";return{cpu:{usage:op(Ro(S.usage.cpu)),usageNanoCores:Ro(S.usage.cpu),allocatable:k,allocatableNanoCores:Ro(k)},memory:{usage:lp(Oo(S.usage.memory)),usageBytes:Oo(S.usage.memory),allocatable:jd(C),allocatableBytes:Oo(C)}}}}},...c.length>0?[{id:"addresses",title:"Addresses",data:{type:"addresses",addresses:c.map(x=>({type:x.type||"",address:x.address||""}))}}]:[],{id:"resources",title:"Resources",data:{type:"capacity-bars",items:[{label:"CPU",icon:f.jsx(_v,{size:14,className:"text-blue-400"}),capacity:u.cpu??"0",allocatable:h.cpu??"0"},{label:"Memory",icon:f.jsx(Ns,{size:14,className:"text-purple-400"}),capacity:jd(u.memory??"0"),allocatable:jd(h.memory??"0")},{label:"Pods",icon:f.jsx(yi,{size:14,className:"text-emerald-400"}),capacity:u.pods??"0",allocatable:h.pods??"0"},...u["ephemeral-storage"]?[{label:"Storage",icon:f.jsx(Ns,{size:14,className:"text-amber-400"}),capacity:jd(u["ephemeral-storage"]),allocatable:jd(h["ephemeral-storage"]??"0")}]:[]]}},...i?[{id:"system-info",title:"System Info",data:{type:"info-grid",items:[{label:"OS",value:i.operatingSystem},{label:"Arch",value:i.architecture},{label:"Kernel",value:i.kernelVersion},{label:"OS Image",value:i.osImage},{label:"Container Runtime",value:i.containerRuntimeVersion},{label:"Kubelet",value:i.kubeletVersion},{label:"Kube-Proxy",value:i.kubeProxyVersion}],columns:2}}]:[],...m.length>0?[{id:"taints",title:"Taints",data:{type:"taints",items:m.map(x=>({key:x.key||"",value:x.value,effect:x.effect||""}))}}]:[]]}}},oZ={kinds:["CronJob","CronJobs"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,i=r?.namespace;if(!n)return{sections:[]};const a=n.suspend??!1,c=n.schedule,u=s?.lastScheduleTime?new Date(s.lastScheduleTime):null,h=s?.lastSuccessfulTime?new Date(s.lastSuccessfulTime):null,m=s?.active?.length??0,p=ZY(c),y=[...n.jobTemplate?.spec?.template?.spec?.containers??[],...n.jobTemplate?.spec?.template?.spec?.initContainers??[]],v=cc(y);return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:a?"Suspended":"Active",status:a?"warning":"success",icon:a?f.jsx(ip,{size:14}):f.jsx(Mu,{size:14})},{label:"Active Jobs",value:String(m),status:m>0?"warning":"neutral",icon:f.jsx(Oa,{size:14,className:"text-blue-400"})}]}},...v?[v]:[],{id:"schedule",data:{type:"schedule",schedule:c,description:p}},{id:"timing",data:{type:"info-grid",items:[...u?[{label:"Last Scheduled",value:Dj(u),color:"text-purple-400"}]:[],...h?[{label:"Last Successful",value:Dj(h),color:"text-emerald-400"}]:[]],columns:2}},{id:"job-config",title:"Job Configuration",data:{type:"info-grid",items:[{label:"Concurrency Policy",value:n.concurrencyPolicy||"Allow",color:lZ(n.concurrencyPolicy)},...n.startingDeadlineSeconds?[{label:"Starting Deadline",value:`${n.startingDeadlineSeconds}s`}]:[],{label:"Successful History",value:n.successfulJobsHistoryLimit??3},{label:"Failed History",value:n.failedJobsHistoryLimit??1},...n.jobTemplate?.spec?.backoffLimit!==void 0?[{label:"Backoff Limit",value:n.jobTemplate.spec.backoffLimit}]:[],...n.jobTemplate?.spec?.activeDeadlineSeconds?[{label:"Job Deadline",value:`${n.jobTemplate.spec.activeDeadlineSeconds}s`,color:"text-amber-400"}]:[]],columns:2}},{id:"jobs",data:{type:"related-jobs",title:"Recent Jobs",loader:async()=>{if(!i||!r?.name)return[];try{const b=await $o(t,"jobs");if(!b)return[];const x=await pC(t,b,i),S=r.name??"",k=r.uid;return x.filter(C=>{const N=C.metadata,R=N.name;if(N.ownerReferences?.some(E=>E.kind==="CronJob"&&E.name===S||E.uid===k))return!0;if(R.startsWith(S+"-")){const E=R.slice(S.length+1);return/^\d{10}$/.test(E)}return!1}).map(C=>{const N=C.metadata,R=C.status,O=R?.conditions,E=O?.some(B=>B.type==="Complete"&&B.status==="True"),D=O?.some(B=>B.type==="Failed"&&B.status==="True");return{name:N.name,status:E?"Complete":D?"Failed":"Running",startTime:R?.startTime,completionTime:R?.completionTime,succeeded:R?.succeeded,failed:R?.failed,namespace:i,context:t}}).sort((C,N)=>{const R=C.startTime?new Date(C.startTime).getTime():0;return(N.startTime?new Date(N.startTime).getTime():0)-R})}catch(b){return console.error("Failed to fetch Jobs:",b),[]}}}},...dh(n.jobTemplate?.spec?.template?.spec?.containers,n.jobTemplate?.spec?.template?.spec?.initContainers)]}}};function lZ(t){switch(t){case"Forbid":return"text-red-400";case"Replace":return"text-amber-400";default:return"text-emerald-400"}}const cZ={kinds:["Job","Jobs"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=n.completions??1,i=n.parallelism??1,a=s?.succeeded??0,c=s?.failed??0,u=s?.active??0,h=n.backoffLimit??6,m=a>=r,p=s?.conditions?.some(k=>k.type==="Failed"&&k.status==="True"),y=m?"Complete":p?"Failed":u>0?"Running":"Pending",v=s?.startTime?new Date(s.startTime):void 0,b=s?.completionTime?new Date(s.completionTime):void 0,x=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],S=cc(x);return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:y,status:m?"success":p?"error":u>0?"warning":"neutral",icon:m?f.jsx(vi,{size:14}):p?f.jsx(Ra,{size:14}):f.jsx(Mu,{size:14})},...v?[{label:"Duration",value:uZ(v,b),icon:f.jsx(Oa,{size:14,className:"text-blue-400"})}]:[]]}},...S?[S]:[],{id:"progress",title:"Progress",data:{type:"job-progress",completions:r,succeeded:a,failed:c,active:u}},{id:"config",data:{type:"info-grid",items:[{label:"Parallelism",value:i,color:"text-cyan-400"},{label:"Backoff Limit",value:`${h}${c>0?` (${c} failures)`:""}`,color:c>=h?"text-red-400":c>0?"text-amber-400":void 0},...n.activeDeadlineSeconds?[{label:"Deadline",value:`${n.activeDeadlineSeconds}s`,color:"text-amber-400"}]:[],...n.ttlSecondsAfterFinished!==void 0?[{label:"TTL After Finished",value:`${n.ttlSecondsAfterFinished}s`}]:[],...n.completionMode?[{label:"Completion Mode",value:n.completionMode,color:"text-purple-400"}]:[]],columns:2}},...v?[{id:"timeline",title:"Timeline",data:{type:"timeline",startTime:v,completionTime:b}}]:[],...dh(n.template?.spec?.containers,n.template?.spec?.initContainers)]}}};function uZ(t,e){const s=(e??new Date).getTime()-t.getTime(),r=Math.floor(s/1e3),i=Math.floor(r/60),a=Math.floor(i/60),c=Math.floor(a/24);return c>0?`${c}d ${a%24}h`:a>0?`${a}h ${i%60}m`:i>0?`${i}m ${r%60}s`:`${r}s`}const hZ={kinds:["ReplicaSet","ReplicaSets"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,i=r?.namespace;if(!n)return{sections:[]};const a=n.replicas??1,c=s?.replicas??0,u=s?.readyReplicas??0,h=s?.availableReplicas??0,m=r?.ownerReferences?.[0],p=[...n.template?.spec?.containers??[],...n.template?.spec?.initContainers??[]],y=cc(p),v=b=>({Deployment:"deployments",StatefulSet:"statefulsets",DaemonSet:"daemonsets",Job:"jobs"})[b]||b.toLowerCase()+"s";return{sections:[...m?[{id:"owner",data:{type:"custom",render:()=>{const b=f.jsxs("div",{className:`bg-blue-500/10 border border-blue-500/30 rounded-lg p-3 ${i?"hover:bg-blue-500/15 transition-colors cursor-pointer":""}`,children:[f.jsxs("div",{className:"text-xs text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(uh,{size:10})," Owned By"]}),f.jsxs("div",{className:"text-sm flex items-center gap-2",children:[f.jsxs("span",{className:"text-neutral-500",children:[m.kind,":"]}),f.jsx("span",{className:"text-cyan-400",children:m.name})]})]});return i?f.jsx(ac,{to:"/cluster/$context/$resourceType/$name",params:{context:t,resourceType:v(m.kind),name:m.name},search:x=>({...x,namespace:i}),children:b}):b}}}]:[],{id:"replicas",title:"Replica Status",data:{type:"gauges",items:[{label:"Ready",current:u,total:a,color:"emerald"},{label:"Current",current:c,total:a,color:"blue"},{label:"Available",current:h,total:a,color:"cyan"}],showPodGrid:{total:Math.max(a,c),ready:u,available:h,current:c,icon:"box"}}},...y?[y]:[],...n.selector?.matchLabels?[{id:"selector",data:{type:"labels",labels:n.selector.matchLabels,title:"Selector"}}]:[],...dh(n.template?.spec?.containers,n.template?.spec?.initContainers)]}}},dZ={kinds:["PersistentVolume","PersistentVolumes"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=s?.phase??"Unknown",i=n.capacity?.storage??"Unknown";return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Phase",value:r,status:fZ(r)},{label:"Capacity",value:i,icon:f.jsx(Ns,{size:14,className:"text-purple-400"})},{label:"Reclaim Policy",value:n.persistentVolumeReclaimPolicy??"Delete",status:n.persistentVolumeReclaimPolicy==="Retain"?"warning":"neutral"},{label:"Volume Mode",value:n.volumeMode??"Filesystem"}]}},...n.accessModes?.length?[{id:"access-modes",title:"Access Modes",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.accessModes.map((a,c)=>f.jsx("span",{className:`text-xs px-2 py-1 rounded ${AD(a)}`,children:jD(a)},c))})}}]:[],...n.storageClassName?[{id:"storage-class",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Storage Class"}),f.jsxs("div",{className:"text-sm text-purple-600 dark:text-purple-400 flex items-center gap-2",children:[f.jsx(lc,{size:14}),n.storageClassName]})]})}}]:[],...n.claimRef?[{id:"claim-ref",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(uh,{size:10})," Bound To"]}),f.jsxs("div",{className:"text-sm",children:[f.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[n.claimRef.namespace,"/"]}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:n.claimRef.name})]})]})}}]:[],{id:"source",title:"Volume Source",data:{type:"custom",render:()=>{const a=pZ(n),c=a.find(h=>h.label==="Type")?.value||"Unknown",u=a.filter(h=>h.label!=="Type");return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3 space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:"Type:"}),f.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-purple-500/20 text-purple-700 dark:text-purple-400",children:c})]}),u.length>0&&f.jsx("div",{className:"space-y-1 pl-1",children:u.map((h,m)=>f.jsxs("div",{className:"text-xs",children:[f.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[h.label,":"]})," ",f.jsx("span",{className:h.color?`${h.color.replace("text-cyan-400","text-cyan-600 dark:text-cyan-400").replace("text-purple-400","text-purple-600 dark:text-purple-400")}`:"text-neutral-900 dark:text-neutral-300",children:h.value})]},m))})]})}}},...n.nodeAffinity?.required?.nodeSelectorTerms?[{id:"node-affinity",title:"Node Affinity",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.nodeAffinity.required.nodeSelectorTerms.map((a,c)=>f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-2",children:a.matchExpressions?.map((u,h)=>f.jsxs("div",{className:"text-xs",children:[f.jsx("span",{className:"text-purple-400",children:u.key}),f.jsx("span",{className:"text-neutral-500 mx-1",children:u.operator}),u.values&&f.jsx("span",{className:"text-cyan-400",children:u.values.join(", ")})]},h))},c))})}}]:[],...n.mountOptions?.length?[{id:"mount-options",title:"Mount Options",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-1",children:n.mountOptions.map((a,c)=>f.jsx("span",{className:"text-xs bg-neutral-200 dark:bg-neutral-800 px-2 py-1 rounded text-neutral-800 dark:text-neutral-300",children:a},c))})}}]:[]]}}};function fZ(t){switch(t){case"Bound":return"success";case"Available":return"success";case"Released":return"warning";case"Failed":return"error";default:return"neutral"}}function pZ(t){if(!t)return[];const e=[];return t.hostPath?(e.push({label:"Type",value:"HostPath"}),e.push({label:"Path",value:t.hostPath.path,color:"text-cyan-400"})):t.nfs?(e.push({label:"Type",value:"NFS"}),e.push({label:"Server",value:t.nfs.server,color:"text-cyan-400"}),e.push({label:"Path",value:t.nfs.path,color:"text-cyan-400"})):t.csi?(e.push({label:"Type",value:"CSI"}),e.push({label:"Driver",value:t.csi.driver,color:"text-purple-400"}),t.csi.volumeHandle&&e.push({label:"Handle",value:t.csi.volumeHandle,color:"text-cyan-400"})):t.local?(e.push({label:"Type",value:"Local"}),e.push({label:"Path",value:t.local.path,color:"text-cyan-400"})):t.awsElasticBlockStore?(e.push({label:"Type",value:"AWS EBS"}),e.push({label:"Volume ID",value:t.awsElasticBlockStore.volumeID,color:"text-cyan-400"})):t.gcePersistentDisk?(e.push({label:"Type",value:"GCE PD"}),e.push({label:"PD Name",value:t.gcePersistentDisk.pdName,color:"text-cyan-400"})):t.azureDisk?(e.push({label:"Type",value:"Azure Disk"}),e.push({label:"Disk Name",value:t.azureDisk.diskName,color:"text-cyan-400"})):e.push({label:"Type",value:"Unknown"}),e}const mZ={kinds:["PersistentVolumeClaim","PersistentVolumeClaims"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=s?.phase??"Unknown",i=n.volumeName,a=n.resources?.requests?.storage,c=s?.capacity?.storage,u=[{id:"status",data:{type:"status-cards",items:[{label:"Phase",value:r,status:gZ(r)},{label:"Requested",value:a??"Not specified",icon:f.jsx(Ns,{size:14,className:"text-purple-400"})},...c?[{label:"Actual Capacity",value:c,status:"success"}]:[],{label:"Volume Mode",value:n.volumeMode??"Filesystem"}]}}];return n.accessModes?.length&&u.push({id:"access-modes",title:"Access Modes",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.accessModes.map((h,m)=>f.jsx("span",{className:`text-xs px-2 py-1 rounded ${AD(h)}`,children:jD(h)},m))})}}),n.storageClassName&&u.push({id:"storage-class",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Storage Class"}),f.jsxs("div",{className:"text-sm text-purple-600 dark:text-purple-400 flex items-center gap-2",children:[f.jsx(lc,{size:14}),n.storageClassName]})]})}}),i?u.push({id:"bound-volume",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(uh,{size:10})," Bound To"]}),f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"text-neutral-700 dark:text-neutral-400",children:"platform/"}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:i})]})]})}}):u.push({id:"no-volume",data:{type:"custom",render:()=>f.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:f.jsxs("div",{className:"text-yellow-400 text-sm flex items-center gap-2",children:[f.jsx(oC,{size:14}),"Not bound to any volume"]})})}}),n.selector?.matchLabels&&Object.keys(n.selector.matchLabels).length>0&&u.push({id:"selector",title:"Volume Selector",data:{type:"labels",labels:n.selector.matchLabels}}),{sections:u}}};function gZ(t){switch(t){case"Bound":return"success";case"Pending":return"warning";case"Lost":return"error";default:return"neutral"}}const yZ="/apis/argoproj.io/v1alpha1";async function OD(t,e,n,s){const r=`/contexts/${t}${yZ}/namespaces/${n}/applications/${e}`,i=await fetch(r,{method:"PATCH",headers:{"Content-Type":"application/merge-patch+json"},body:JSON.stringify(s)});if(!i.ok){const a=await i.text();throw new Error(`Failed to patch application: ${i.status} ${i.statusText} - ${a}`)}return i}async function Ij(t,e,n="argocd",s={}){const i={operation:{sync:{syncStrategy:s.strategy==="apply"?{apply:{}}:{hook:{}},...s.revision&&{revision:s.revision},...s.prune!==void 0&&{prune:s.prune},...s.dryRun!==void 0&&{dryRun:s.dryRun}}}};await OD(t,e,n,i)}async function Pj(t,e,n="argocd",s=!1){await OD(t,e,n,{metadata:{annotations:{"argocd.argoproj.io/refresh":s?"hard":"normal"}}})}function vZ(t){switch(t){case"Synced":return"success";case"OutOfSync":return"warning";default:return"neutral"}}function bZ(t){switch(t){case"Healthy":return"success";case"Progressing":return"warning";case"Degraded":case"Missing":return"error";case"Suspended":return"warning";default:return"neutral"}}function _Z(t){switch(t){case"Synced":return f.jsx(vi,{size:14,className:"text-emerald-400"});case"OutOfSync":return f.jsx(Ln,{size:14,className:"text-amber-400"});default:return f.jsx(ch,{size:14,className:"text-gray-400"})}}function xZ(t){switch(t){case"Healthy":return f.jsx(vi,{size:14,className:"text-emerald-400"});case"Progressing":return f.jsx(Ln,{size:14,className:"text-blue-400 animate-spin"});case"Degraded":return f.jsx(Ra,{size:14,className:"text-red-400"});case"Missing":return f.jsx(ch,{size:14,className:"text-red-400"});case"Suspended":return f.jsx(ip,{size:14,className:"text-amber-400"});default:return f.jsx(Rp,{size:14,className:"text-gray-400"})}}function wZ(t,e=12){switch(t){case"Healthy":return f.jsx(vi,{size:e,className:"text-emerald-400 shrink-0"});case"Progressing":return f.jsx(Ln,{size:e,className:"text-blue-400 animate-spin shrink-0"});case"Degraded":return f.jsx(Ra,{size:e,className:"text-red-400 shrink-0"});case"Missing":return f.jsx(ch,{size:e,className:"text-red-400 shrink-0"});case"Suspended":return f.jsx(ip,{size:e,className:"text-amber-400 shrink-0"});default:return f.jsx(Rp,{size:e,className:"text-gray-400 shrink-0"})}}function SZ(t){const e={Synced:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",OutOfSync:"bg-amber-500/20 text-amber-400 border-amber-500/30",Unknown:"bg-gray-500/20 text-gray-400 border-gray-500/30"},n=e[t]||e.Unknown;return f.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${n}`,children:t||"Unknown"})}function Ax(t){if(!t)return"Unknown";const e=new Date(t),s=Math.floor((new Date().getTime()-e.getTime())/1e3);return s<60?`${s}s ago`:s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:`${Math.floor(s/86400)}d ago`}function kZ(t){if(!t)return"Unknown";const e=t.match(/[:/]([^/:]+\/[^/:]+?)(?:\.git)?$/);return e?e[1]:t}const CZ={kinds:["Application","Applications"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=n.source||n.sources?.[0],i=s?.sync?.status||"Unknown",a=s?.health?.status||"Unknown",c=s?.operationState?.phase,u={healthy:0,progressing:0,degraded:0,missing:0,suspended:0,unknown:0};s?.resources?.forEach(m=>{const p=m.health?.status;let y;p?y=p.toLowerCase():y=m.status==="Synced"?"healthy":"unknown",y in u&&u[y]++});const h=s?.resources?.length||0;return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Sync Status",value:i,status:vZ(i),icon:_Z(i)},{label:"Health",value:a,status:bZ(a),icon:xZ(a)},...c?[{label:"Operation",value:c,status:c==="Succeeded"?"success":c==="Failed"?"error":"warning",icon:c==="Running"?f.jsx(Ln,{size:14,className:"animate-spin"}):void 0}]:[]]}},...h>0?[{id:"resource-health",title:"Resource Health",data:{type:"gauges",items:[{label:"Healthy",current:u.healthy,total:h,color:"emerald"},{label:"Progressing",current:u.progressing,total:h,color:"blue"},{label:"Degraded",current:u.degraded+u.missing,total:h,color:"amber"}]}}]:[],...s?.resources?.length?[{id:"resources",title:"Managed Resources",data:{type:"custom",render:()=>{const m=new Map;s.resources.forEach(y=>{const v=y.kind||"Unknown";m.has(v)||m.set(v,[]),m.get(v).push(y)});const p=Array.from(m.keys()).sort((y,v)=>{const b=m.get(y),x=m.get(v),S=b.some(C=>C.health?.status!=="Healthy"),k=x.some(C=>C.health?.status!=="Healthy");return S&&!k?-1:!S&&k?1:y.localeCompare(v)});return f.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:p.map(y=>{const v=m.get(y),b=[...v].sort((x,S)=>{const k=x.health?.status==="Healthy",C=S.health?.status==="Healthy";return!k&&C?-1:k&&!C?1:(x.name||"").localeCompare(S.name||"")});return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-2",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[f.jsx(vD,{size:12,className:"text-neutral-500"}),f.jsx("span",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400",children:y}),f.jsxs("span",{className:"text-[10px] text-neutral-500 dark:text-neutral-600",children:["(",v.length,")"]})]}),f.jsx("div",{className:"space-y-1",children:b.map((x,S)=>f.jsxs("div",{className:"flex items-center gap-2 text-xs pl-4",children:[wZ(x.health?.status),f.jsx("span",{className:"text-neutral-700 dark:text-neutral-300 truncate flex-1",title:x.name,children:x.name}),x.namespace&&f.jsx("span",{className:"text-neutral-500 dark:text-neutral-600 text-[10px]",children:x.namespace}),SZ(x.status),x.requiresPruning&&f.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border bg-red-500/20 text-red-400 border-red-500/30",children:"Prune"})]},`${x.namespace}-${x.name}-${S}`))})]},y)})})}}}]:[],{id:"source",title:"Source",data:{type:"info-grid",items:[{label:"Repository",value:kZ(r?.repoURL),color:"text-cyan-400"},{label:"Path",value:r?.path||r?.chart||"/",color:"text-purple-400"},{label:"Target Revision",value:r?.targetRevision||"HEAD",color:"text-blue-400"},...s?.sync?.revision?[{label:"Current Revision",value:s.sync.revision.substring(0,7),color:"text-emerald-400"}]:[]],columns:2}},{id:"destination",title:"Destination",data:{type:"info-grid",items:[{label:"Server",value:n.destination?.name||n.destination?.server||"Unknown"},{label:"Namespace",value:n.destination?.namespace||"default",color:"text-cyan-400"},{label:"Project",value:n.project||"default",color:"text-purple-400"}],columns:2}},...n.syncPolicy?[{id:"sync-policy",title:"Sync Policy",data:{type:"info-grid",items:[...n.syncPolicy.automated?[{label:"Auto Sync",value:"Enabled",color:"text-emerald-400"},{label:"Prune",value:n.syncPolicy.automated.prune?"Yes":"No",color:n.syncPolicy.automated.prune?"text-amber-400":void 0},{label:"Self Heal",value:n.syncPolicy.automated.selfHeal?"Yes":"No",color:n.syncPolicy.automated.selfHeal?"text-emerald-400":void 0}]:[{label:"Auto Sync",value:"Disabled",color:"text-gray-400"}],...n.syncPolicy.retry?.limit?[{label:"Retry Limit",value:n.syncPolicy.retry.limit}]:[]],columns:2}}]:[],...n.syncPolicy?.syncOptions?.length?[{id:"sync-options",data:{type:"labels",labels:Object.fromEntries(n.syncPolicy.syncOptions.map(m=>{const[p,y]=m.split("=");return[p,y||"true"]})),title:"Sync Options"}}]:[],...s?.reconciledAt||s?.operationState?.finishedAt?[{id:"timing",data:{type:"info-grid",items:[...s?.reconciledAt?[{label:"Last Reconciled",value:Ax(s.reconciledAt)}]:[],...s?.operationState?.startedAt?[{label:"Operation Started",value:Ax(s.operationState.startedAt)}]:[],...s?.operationState?.finishedAt?[{label:"Operation Finished",value:Ax(s.operationState.finishedAt)}]:[]],columns:2}}]:[],...s?.health?.message?[{id:"health-message",title:"Health Message",data:{type:"info-grid",items:[{label:"Message",value:s.health.message}],columns:1}}]:[],...s?.operationState?.message?[{id:"operation-message",title:"Operation Message",data:{type:"info-grid",items:[{label:"Message",value:s.operationState.message}],columns:1}}]:[],...s?.summary?.images?.length?[{id:"images",title:"Images",data:{type:"container-images",containers:s.summary.images.map((m,p)=>({name:`image-${p+1}`,image:m}))}}]:[]]}},actions:[{id:"sync",label:"Sync",icon:f.jsx(Mu,{size:14}),variant:"primary",confirm:{title:"Sync Application",message:"This will sync the application to match the desired state in Git. Continue?",confirmLabel:"Sync"},execute:async(t,e)=>{const n=e.metadata?.name,s=e.metadata?.namespace||"argocd";if(!n)throw new Error("Application name is required");await Ij(t,n,s)},isDisabled:t=>t.status?.operationState?.phase==="Running"?"Sync already in progress":!1},{id:"sync-prune",label:"Sync (Prune)",icon:f.jsx(ZW,{size:14}),variant:"warning",confirm:{title:"Sync with Prune",message:"This will sync the application and DELETE resources that are no longer in Git. This action cannot be undone. Continue?",confirmLabel:"Sync & Prune"},execute:async(t,e)=>{const n=e.metadata?.name,s=e.metadata?.namespace||"argocd";if(!n)throw new Error("Application name is required");await Ij(t,n,s,{prune:!0})},isDisabled:t=>t.status?.operationState?.phase==="Running"?"Sync already in progress":!1},{id:"refresh",label:"Refresh",icon:f.jsx(Ln,{size:14}),variant:"secondary",execute:async(t,e)=>{const n=e.metadata?.name,s=e.metadata?.namespace||"argocd";if(!n)throw new Error("Application name is required");await Pj(t,n,s)}},{id:"hard-refresh",label:"Hard Refresh",icon:f.jsx(gG,{size:14}),variant:"secondary",execute:async(t,e)=>{const n=e.metadata?.name,s=e.metadata?.namespace||"argocd";if(!n)throw new Error("Application name is required");await Pj(t,n,s,!0)}}]};function NZ(t){return!t||t.length===0?{status:"Unknown",level:"neutral"}:t.find(r=>r.type==="ErrorOccurred"&&r.status==="True")?{status:"Error",level:"error"}:t.find(r=>r.type==="ResourcesUpToDate")?.status==="True"?{status:"Healthy",level:"success"}:t.find(r=>r.type==="ParametersGenerated")?.status==="True"?{status:"Progressing",level:"warning"}:{status:"Unknown",level:"neutral"}}function EZ(t){switch(t){case"success":return f.jsx(vi,{size:14,className:"text-emerald-400"});case"warning":return f.jsx(Ln,{size:14,className:"text-amber-400"});case"error":return f.jsx(Ra,{size:14,className:"text-red-400"});default:return f.jsx(Rp,{size:14,className:"text-gray-400"})}}function AZ(t){if(t.list){const e=t.list.elements?.length||0;return{name:"List",icon:f.jsx(jG,{size:12,className:"text-blue-400"}),details:`${e} element${e!==1?"s":""}`}}if(t.clusters)return{name:"Clusters",icon:f.jsx(mi,{size:12,className:"text-purple-400"}),details:t.clusters.selector?.matchLabels?Object.entries(t.clusters.selector.matchLabels).map(([e,n])=>`${e}=${n}`).join(", "):"All clusters"};if(t.git){const e=t.git.directories&&t.git.directories.length>0,n=t.git.files&&t.git.files.length>0;return{name:n?"Git Files":"Git Directories",icon:f.jsx(ry,{size:12,className:"text-cyan-400"}),details:e?t.git.directories?.map(s=>s.path).join(", "):n?t.git.files?.map(s=>s.path).join(", "):t.git.revision||"HEAD"}}if(t.matrix){const e=t.matrix.generators?.length||0;return{name:"Matrix",icon:f.jsx(pi,{size:12,className:"text-amber-400"}),details:`${e} generator${e!==1?"s":""}`}}if(t.merge){const e=t.merge.generators?.length||0;return{name:"Merge",icon:f.jsx(pi,{size:12,className:"text-orange-400"}),details:`${e} generator${e!==1?"s":""}`}}return t.scmProvider?{name:`SCM Provider (${t.scmProvider.github?"GitHub":t.scmProvider.gitlab?"GitLab":t.scmProvider.bitbucket?"Bitbucket":t.scmProvider.bitbucketServer?"Bitbucket Server":t.scmProvider.gitea?"Gitea":t.scmProvider.azureDevOps?"Azure DevOps":"Unknown"})`,icon:f.jsx(HW,{size:12,className:"text-green-400"}),details:t.scmProvider.github?.organization||t.scmProvider.gitlab?.group||t.scmProvider.bitbucket?.owner||t.scmProvider.azureDevOps?.organization}:t.pullRequest?{name:`Pull Request (${t.pullRequest.github?"GitHub":t.pullRequest.gitlab?"GitLab":t.pullRequest.bitbucketServer?"Bitbucket Server":"Unknown"})`,icon:f.jsx(ry,{size:12,className:"text-pink-400"}),details:t.pullRequest.github?.repo||t.pullRequest.gitlab?.project||t.pullRequest.bitbucketServer?.repo}:t.clusterDecisionResource?{name:"Cluster Decision Resource",icon:f.jsx(uG,{size:12,className:"text-indigo-400"}),details:t.clusterDecisionResource.configMapRef}:{name:"Unknown",icon:f.jsx(Rp,{size:12,className:"text-gray-400"})}}function jZ(t){if(!t)return"Unknown";const e=t.match(/[:/]([^/:]+\/[^/:]+?)(?:\.git)?$/);return e?e[1]:t}function TZ(t){if(!t)return"Unknown";const e=new Date(t),s=Math.floor((new Date().getTime()-e.getTime())/1e3);return s<60?`${s}s ago`:s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:`${Math.floor(s/86400)}d ago`}const RZ={kinds:["ApplicationSet","ApplicationSets"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata;if(!n)return{sections:[]};const i=n.template,a=i?.spec?.source||i?.spec?.sources?.[0],c=NZ(s?.conditions),u=s?.applicationStatus?.length||0;return{sections:[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:c.status,status:c.level,icon:EZ(c.level)},{label:"Applications",value:u,status:u>0?"success":"neutral",icon:f.jsx(vD,{size:14,className:u>0?"text-emerald-400":"text-gray-400"})},{label:"Generators",value:n.generators?.length||0,status:"neutral",icon:f.jsx(pi,{size:14,className:"text-blue-400"})}]}},...n.generators?.length?[{id:"generators",title:"Generators",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.generators.map((h,m)=>{const p=AZ(h);return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-2.5 flex items-center gap-3",children:[f.jsx("div",{className:"p-1.5 bg-neutral-200 dark:bg-neutral-700/50 rounded",children:p.icon}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-200",children:p.name}),p.details&&f.jsx("div",{className:"text-[10px] text-neutral-500 truncate",title:p.details,children:p.details})]})]},m)})})}}]:[],...s?.applicationStatus?.length?[{id:"applications",title:"Generated Applications",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto",children:s.applicationStatus.map((h,m)=>{const p=h.status==="Successful"||h.status==="Healthy"?"success":h.status==="Waiting"||h.status==="Progressing"?"warning":h.status==="Error"||h.status==="Failed"?"error":"neutral";return f.jsxs("div",{className:"flex items-center gap-2 text-xs bg-neutral-100 dark:bg-neutral-800/30 rounded px-2 py-1.5",children:[p==="success"&&f.jsx(vi,{size:12,className:"text-emerald-400 shrink-0"}),p==="warning"&&f.jsx(Ln,{size:12,className:"text-amber-400 shrink-0"}),p==="error"&&f.jsx(Ra,{size:12,className:"text-red-400 shrink-0"}),p==="neutral"&&f.jsx(Rp,{size:12,className:"text-gray-400 shrink-0"}),f.jsx("span",{className:"text-neutral-700 dark:text-neutral-300 truncate flex-1",title:h.application,children:h.application||"Unknown"}),h.status&&f.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${p==="success"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":p==="warning"?"bg-amber-500/20 text-amber-400 border-amber-500/30":p==="error"?"bg-red-500/20 text-red-400 border-red-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"}`,children:h.status})]},h.application||m)})})}}]:[],...a?[{id:"template-source",title:"Template Source",data:{type:"info-grid",items:[{label:"Repository",value:jZ(a.repoURL),color:"text-cyan-400"},{label:"Path",value:a.path||a.chart||"/",color:"text-purple-400"},{label:"Revision",value:a.targetRevision||"HEAD",color:"text-blue-400"}],columns:2}}]:[],...i?.spec?.destination?[{id:"template-destination",title:"Template Destination",data:{type:"info-grid",items:[{label:"Server",value:i.spec.destination.name||i.spec.destination.server||"{{server}}"},{label:"Namespace",value:i.spec.destination.namespace||"{{namespace}}",color:"text-cyan-400"},{label:"Project",value:i.spec.project||"default",color:"text-purple-400"}],columns:2}}]:[],...n.syncPolicy?[{id:"sync-policy",title:"Sync Policy",data:{type:"info-grid",items:[{label:"Preserve Resources on Deletion",value:n.syncPolicy.preserveResourcesOnDeletion?"Yes":"No",color:n.syncPolicy.preserveResourcesOnDeletion?"text-amber-400":void 0},...n.syncPolicy.applicationsSync?[{label:"Applications Sync",value:n.syncPolicy.applicationsSync,color:"text-blue-400"}]:[]],columns:2}}]:[],...n.strategy?[{id:"strategy",title:"Rollout Strategy",data:{type:"info-grid",items:[{label:"Type",value:n.strategy.type||"AllAtOnce",color:n.strategy.type==="RollingSync"?"text-cyan-400":void 0},...n.strategy.rollingSync?.steps?.length?[{label:"Steps",value:n.strategy.rollingSync.steps.length}]:[]],columns:2}}]:[],...n.goTemplate!==void 0?[{id:"template-options",title:"Template Options",data:{type:"info-grid",items:[{label:"Go Template",value:n.goTemplate?"Enabled":"Disabled",color:n.goTemplate?"text-emerald-400":"text-gray-400"},...n.goTemplateOptions?.length?[{label:"Options",value:n.goTemplateOptions.join(", ")}]:[]],columns:2}}]:[],...r?.creationTimestamp?[{id:"timing",data:{type:"info-grid",items:[{label:"Created",value:TZ(r.creationTimestamp)}],columns:1}}]:[]]}}};function OZ(t){const e=t?.find(n=>n.type==="Ready");return e?{ready:e.status==="True",reason:e.reason,message:e.message}:{ready:!1}}function MZ(t,e){return t?"success":e==="Issuing"||e==="Pending"?"warning":"error"}function DZ(t,e){return t?f.jsx(vi,{size:14,className:"text-emerald-400"}):e==="Issuing"||e==="Pending"?f.jsx(Ln,{size:14,className:"text-amber-400 animate-spin"}):f.jsx(Ra,{size:14,className:"text-red-400"})}function BZ(t){if(!t)return"Default (90d)";const e=t.match(/^(\d+)h$/);if(e){const n=parseInt(e[1],10);return n>=8760?`${Math.round(n/8760)}y`:n>=720?`${Math.round(n/720)}mo`:n>=24?`${Math.round(n/24)}d`:`${n}h`}return t}function Ig(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function LZ(t){if(!t)return{text:"Unknown",status:"neutral"};const e=new Date,s=new Date(t).getTime()-e.getTime(),r=Math.floor(s/(1e3*60*60*24));return s<0?{text:"Expired",status:"error"}:r<7?{text:`${r}d remaining`,status:"error"}:r<30?{text:`${r}d remaining`,status:"warning"}:r>365?{text:`${Math.floor(r/365)}y remaining`,status:"success"}:r>30?{text:`${Math.floor(r/30)}mo remaining`,status:"success"}:{text:`${r}d remaining`,status:"success"}}function IZ(t){if(!t)return"RSA 2048";const e=t.algorithm??"RSA",n=t.size??(e==="ECDSA"?256:2048);return`${e} ${n}`}const PZ={kinds:["Certificate","Certificates"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const{ready:r,reason:i}=OZ(s?.conditions),a=LZ(s?.notAfter),c=[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:r?"Ready":i??"Not Ready",status:MZ(r,i),icon:DZ(r,i)},{label:"Expires",value:a.text,status:a.status,icon:f.jsx(Oa,{size:14,className:a.status==="error"?"text-red-400":a.status==="warning"?"text-amber-400":"text-emerald-400"})},{label:"Type",value:n.isCA?"CA Certificate":"TLS Certificate",status:"neutral",icon:f.jsx(hh,{size:14,className:n.isCA?"text-purple-400":"text-blue-400"})},{label:"Revision",value:s?.revision??1,status:"neutral"}]}}];if(c.push({id:"details",title:"Certificate Details",data:{type:"info-grid",columns:2,items:[{label:"Secret Name",value:n.secretName},...n.commonName?[{label:"Common Name",value:n.commonName}]:[],{label:"Duration",value:BZ(n.duration)},{label:"Algorithm",value:IZ(n.privateKey)},...s?.notBefore?[{label:"Valid From",value:Ig(s.notBefore)}]:[],...s?.notAfter?[{label:"Valid Until",value:Ig(s.notAfter)}]:[],...s?.renewalTime?[{label:"Renewal Time",value:Ig(s.renewalTime)}]:[]]}}),c.push({id:"issuer",title:"Issuer",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Mp,{size:14,className:"text-purple-400"}),f.jsx("span",{className:"text-sm font-medium text-purple-300",children:n.issuerRef.kind??"Issuer"})]}),f.jsx("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:n.issuerRef.name}),n.issuerRef.group&&f.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:n.issuerRef.group})]})}}),n.dnsNames?.length&&c.push({id:"dns-names",title:"DNS Names",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.dnsNames.map((u,h)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-blue-500/20 text-blue-300 border border-blue-500/30",children:u},h))})}}),n.ipAddresses?.length&&c.push({id:"ip-addresses",title:"IP Addresses",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.ipAddresses.map((u,h)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-cyan-500/20 text-cyan-300 border border-cyan-500/30",children:u},h))})}}),n.uris?.length&&c.push({id:"uris",title:"URIs",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-1",children:n.uris.map((u,h)=>f.jsx("div",{className:"text-xs text-neutral-700 dark:text-neutral-300 font-mono",children:u},h))})}}),n.emailAddresses?.length&&c.push({id:"email-addresses",title:"Email Addresses",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.emailAddresses.map((u,h)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-amber-500/20 text-amber-300 border border-amber-500/30",children:u},h))})}}),n.usages?.length&&c.push({id:"usages",title:"Key Usages",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.usages.map((u,h)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300",children:u},h))})}}),n.privateKey&&c.push({id:"private-key",title:"Private Key",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Dp,{size:14,className:"text-neutral-400"}),f.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Configuration"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-500",children:"Algorithm:"}),f.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-300",children:n.privateKey.algorithm??"RSA"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-500",children:"Size:"}),f.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-300",children:n.privateKey.size??2048})]}),n.privateKey.encoding&&f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-500",children:"Encoding:"}),f.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-300",children:n.privateKey.encoding})]}),n.privateKey.rotationPolicy&&f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-500",children:"Rotation:"}),f.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-300",children:n.privateKey.rotationPolicy})]})]})]})}}),n.subject&&Object.keys(n.subject).some(u=>{const h=n.subject[u];return Array.isArray(h)?h.length>0:!!h})){const u=[];n.subject.organizations?.length&&u.push(`O=${n.subject.organizations.join(", ")}`),n.subject.organizationalUnits?.length&&u.push(`OU=${n.subject.organizationalUnits.join(", ")}`),n.subject.countries?.length&&u.push(`C=${n.subject.countries.join(", ")}`),n.subject.localities?.length&&u.push(`L=${n.subject.localities.join(", ")}`),n.subject.provinces?.length&&u.push(`ST=${n.subject.provinces.join(", ")}`),c.push({id:"subject",title:"Subject",data:{type:"custom",render:()=>f.jsx("div",{className:"text-xs text-neutral-700 dark:text-neutral-300 font-mono bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:u.join(", ")})}})}if(n.keystores){const u=[];n.keystores.jks?.create&&u.push("JKS"),n.keystores.pkcs12?.create&&u.push("PKCS#12"),u.length>0&&c.push({id:"keystores",title:"Keystores",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((h,m)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/20 text-green-300 border border-green-500/30",children:h},m))})}})}return s?.failedIssuanceAttempts&&s.failedIssuanceAttempts>0&&c.push({id:"failed-issuance",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[f.jsx(ch,{size:14}),f.jsxs("span",{className:"text-sm font-medium",children:["Failed Issuance Attempts: ",s.failedIssuanceAttempts]})]}),s.lastFailureTime&&f.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:["Last failure: ",Ig(s.lastFailureTime)]})]})}}),{sections:c}}};var $j={};var zj;function $Z(){if(zj)return $j;zj=1;var t;return(function(e){(function(n){var s=typeof globalThis=="object"?globalThis:typeof y3=="object"?y3:typeof self=="object"?self:typeof this=="object"?this:u(),r=i(e);typeof s.Reflect<"u"&&(r=i(s.Reflect,r)),n(r,s),typeof s.Reflect>"u"&&(s.Reflect=e);function i(h,m){return function(p,y){Object.defineProperty(h,p,{configurable:!0,writable:!0,value:y}),m&&m(p,y)}}function a(){try{return Function("return this;")()}catch{}}function c(){try{return(0,eval)("(function() { return this; })()")}catch{}}function u(){return a()||c()}})(function(n,s){var r=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",a=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",c=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",u=typeof Object.create=="function",h={__proto__:[]}instanceof Array,m=!u&&!h,p={create:u?function(){return ln(Object.create(null))}:h?function(){return ln({__proto__:null})}:function(){return ln({})},has:m?function(re,ae){return r.call(re,ae)}:function(re,ae){return ae in re},get:m?function(re,ae){return r.call(re,ae)?re[ae]:void 0}:function(re,ae){return re[ae]}},y=Object.getPrototypeOf(Function),v=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Ze(),b=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:rt(),x=typeof WeakMap=="function"?WeakMap:pt(),S=i?Symbol.for("@reflect-metadata:registry"):void 0,k=Le(),C=Ct(k);function N(re,ae,de,Ce){if(T(de)){if(!it(re))throw new TypeError;if(!Qe(ae))throw new TypeError;return K(re,ae)}else{if(!it(re))throw new TypeError;if(!Z(ae))throw new TypeError;if(!Z(Ce)&&!T(Ce)&&!J(Ce))throw new TypeError;return J(Ce)&&(Ce=void 0),de=$e(de),X(re,ae,de,Ce)}}n("decorate",N);function R(re,ae){function de(Ce,me){if(!Z(Ce))throw new TypeError;if(!T(me)&&!Ot(me))throw new TypeError;$(re,ae,Ce,me)}return de}n("metadata",R);function O(re,ae,de,Ce){if(!Z(de))throw new TypeError;return T(Ce)||(Ce=$e(Ce)),$(re,ae,de,Ce)}n("defineMetadata",O);function E(re,ae,de){if(!Z(ae))throw new TypeError;return T(de)||(de=$e(de)),G(re,ae,de)}n("hasMetadata",E);function D(re,ae,de){if(!Z(ae))throw new TypeError;return T(de)||(de=$e(de)),I(re,ae,de)}n("hasOwnMetadata",D);function B(re,ae,de){if(!Z(ae))throw new TypeError;return T(de)||(de=$e(de)),Y(re,ae,de)}n("getMetadata",B);function q(re,ae,de){if(!Z(ae))throw new TypeError;return T(de)||(de=$e(de)),Q(re,ae,de)}n("getOwnMetadata",q);function P(re,ae){if(!Z(re))throw new TypeError;return T(ae)||(ae=$e(ae)),A(re,ae)}n("getMetadataKeys",P);function W(re,ae){if(!Z(re))throw new TypeError;return T(ae)||(ae=$e(ae)),M(re,ae)}n("getOwnMetadataKeys",W);function z(re,ae,de){if(!Z(ae))throw new TypeError;if(T(de)||(de=$e(de)),!Z(ae))throw new TypeError;T(de)||(de=$e(de));var Ce=xe(ae,de,!1);return T(Ce)?!1:Ce.OrdinaryDeleteMetadata(re,ae,de)}n("deleteMetadata",z);function K(re,ae){for(var de=re.length-1;de>=0;--de){var Ce=re[de],me=Ce(ae);if(!T(me)&&!J(me)){if(!Qe(me))throw new TypeError;ae=me}}return ae}function X(re,ae,de,Ce){for(var me=re.length-1;me>=0;--me){var Ue=re[me],lt=Ue(ae,de,Ce);if(!T(lt)&&!J(lt)){if(!Z(lt))throw new TypeError;Ce=lt}}return Ce}function G(re,ae,de){var Ce=I(re,ae,de);if(Ce)return!0;var me=tt(ae);return J(me)?!1:G(re,me,de)}function I(re,ae,de){var Ce=xe(ae,de,!1);return T(Ce)?!1:Se(Ce.OrdinaryHasOwnMetadata(re,ae,de))}function Y(re,ae,de){var Ce=I(re,ae,de);if(Ce)return Q(re,ae,de);var me=tt(ae);if(!J(me))return Y(re,me,de)}function Q(re,ae,de){var Ce=xe(ae,de,!1);if(!T(Ce))return Ce.OrdinaryGetOwnMetadata(re,ae,de)}function $(re,ae,de,Ce){var me=xe(de,Ce,!0);me.OrdinaryDefineOwnMetadata(re,ae,de,Ce)}function A(re,ae){var de=M(re,ae),Ce=tt(re);if(Ce===null)return de;var me=A(Ce,ae);if(me.length<=0)return de;if(de.length<=0)return me;for(var Ue=new b,lt=[],ct=0,Oe=de;ct<Oe.length;ct++){var Ie=Oe[ct],He=Ue.has(Ie);He||(Ue.add(Ie),lt.push(Ie))}for(var Fe=0,bt=me;Fe<bt.length;Fe++){var Ie=bt[Fe],He=Ue.has(Ie);He||(Ue.add(Ie),lt.push(Ie))}return lt}function M(re,ae){var de=xe(re,ae,!1);return de?de.OrdinaryOwnMetadataKeys(re,ae):[]}function H(re){if(re===null)return 1;switch(typeof re){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return re===null?1:6;default:return 6}}function T(re){return re===void 0}function J(re){return re===null}function ne(re){return typeof re=="symbol"}function Z(re){return typeof re=="object"?re!==null:typeof re=="function"}function oe(re,ae){switch(H(re)){case 0:return re;case 1:return re;case 2:return re;case 3:return re;case 4:return re;case 5:return re}var de="string",Ce=an(re,a);if(Ce!==void 0){var me=Ce.call(re,de);if(Z(me))throw new TypeError;return me}return ke(re)}function ke(re,ae){var de,Ce,me;{var Ue=re.toString;if(qe(Ue)){var Ce=Ue.call(re);if(!Z(Ce))return Ce}var de=re.valueOf;if(qe(de)){var Ce=de.call(re);if(!Z(Ce))return Ce}}throw new TypeError}function Se(re){return!!re}function Ge(re){return""+re}function $e(re){var ae=oe(re);return ne(ae)?ae:Ge(ae)}function it(re){return Array.isArray?Array.isArray(re):re instanceof Object?re instanceof Array:Object.prototype.toString.call(re)==="[object Array]"}function qe(re){return typeof re=="function"}function Qe(re){return typeof re=="function"}function Ot(re){switch(H(re)){case 3:return!0;case 4:return!0;default:return!1}}function jt(re,ae){return re===ae||re!==re&&ae!==ae}function an(re,ae){var de=re[ae];if(de!=null){if(!qe(de))throw new TypeError;return de}}function on(re){var ae=an(re,c);if(!qe(ae))throw new TypeError;var de=ae.call(re);if(!Z(de))throw new TypeError;return de}function qt(re){return re.value}function Zt(re){var ae=re.next();return ae.done?!1:ae}function Ye(re){var ae=re.return;ae&&ae.call(re)}function tt(re){var ae=Object.getPrototypeOf(re);if(typeof re!="function"||re===y||ae!==y)return ae;var de=re.prototype,Ce=de&&Object.getPrototypeOf(de);if(Ce==null||Ce===Object.prototype)return ae;var me=Ce.constructor;return typeof me!="function"||me===re?ae:me}function je(){var re;!T(S)&&typeof s.Reflect<"u"&&!(S in s.Reflect)&&typeof s.Reflect.defineMetadata=="function"&&(re=fe(s.Reflect));var ae,de,Ce,me=new x,Ue={registerProvider:lt,getProvider:Oe,setProvider:He};return Ue;function lt(Fe){if(!Object.isExtensible(Ue))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case re===Fe:break;case T(ae):ae=Fe;break;case ae===Fe:break;case T(de):de=Fe;break;case de===Fe:break;default:Ce===void 0&&(Ce=new b),Ce.add(Fe);break}}function ct(Fe,bt){if(!T(ae)){if(ae.isProviderFor(Fe,bt))return ae;if(!T(de)){if(de.isProviderFor(Fe,bt))return ae;if(!T(Ce))for(var $t=on(Ce);;){var fn=Zt($t);if(!fn)return;var Us=qt(fn);if(Us.isProviderFor(Fe,bt))return Ye($t),Us}}}if(!T(re)&&re.isProviderFor(Fe,bt))return re}function Oe(Fe,bt){var $t=me.get(Fe),fn;return T($t)||(fn=$t.get(bt)),T(fn)&&(fn=ct(Fe,bt),T(fn)||(T($t)&&($t=new v,me.set(Fe,$t)),$t.set(bt,fn))),fn}function Ie(Fe){if(T(Fe))throw new TypeError;return ae===Fe||de===Fe||!T(Ce)&&Ce.has(Fe)}function He(Fe,bt,$t){if(!Ie($t))throw new Error("Metadata provider not registered.");var fn=Oe(Fe,bt);if(fn!==$t){if(!T(fn))return!1;var Us=me.get(Fe);T(Us)&&(Us=new v,me.set(Fe,Us)),Us.set(bt,$t)}return!0}}function Le(){var re;return!T(S)&&Z(s.Reflect)&&Object.isExtensible(s.Reflect)&&(re=s.Reflect[S]),T(re)&&(re=je()),!T(S)&&Z(s.Reflect)&&Object.isExtensible(s.Reflect)&&Object.defineProperty(s.Reflect,S,{enumerable:!1,configurable:!1,writable:!1,value:re}),re}function Ct(re){var ae=new x,de={isProviderFor:function(Ie,He){var Fe=ae.get(Ie);return T(Fe)?!1:Fe.has(He)},OrdinaryDefineOwnMetadata:lt,OrdinaryHasOwnMetadata:me,OrdinaryGetOwnMetadata:Ue,OrdinaryOwnMetadataKeys:ct,OrdinaryDeleteMetadata:Oe};return k.registerProvider(de),de;function Ce(Ie,He,Fe){var bt=ae.get(Ie),$t=!1;if(T(bt)){if(!Fe)return;bt=new v,ae.set(Ie,bt),$t=!0}var fn=bt.get(He);if(T(fn)){if(!Fe)return;if(fn=new v,bt.set(He,fn),!re.setProvider(Ie,He,de))throw bt.delete(He),$t&&ae.delete(Ie),new Error("Wrong provider for target.")}return fn}function me(Ie,He,Fe){var bt=Ce(He,Fe,!1);return T(bt)?!1:Se(bt.has(Ie))}function Ue(Ie,He,Fe){var bt=Ce(He,Fe,!1);if(!T(bt))return bt.get(Ie)}function lt(Ie,He,Fe,bt){var $t=Ce(Fe,bt,!0);$t.set(Ie,He)}function ct(Ie,He){var Fe=[],bt=Ce(Ie,He,!1);if(T(bt))return Fe;for(var $t=bt.keys(),fn=on($t),Us=0;;){var yc=Zt(fn);if(!yc)return Fe.length=Us,Fe;var Wo=qt(yc);try{Fe[Us]=Wo}catch(Gb){try{Ye(fn)}finally{throw Gb}}Us++}}function Oe(Ie,He,Fe){var bt=Ce(He,Fe,!1);if(T(bt)||!bt.delete(Ie))return!1;if(bt.size===0){var $t=ae.get(He);T($t)||($t.delete(Fe),$t.size===0&&ae.delete($t))}return!0}}function fe(re){var ae=re.defineMetadata,de=re.hasOwnMetadata,Ce=re.getOwnMetadata,me=re.getOwnMetadataKeys,Ue=re.deleteMetadata,lt=new x,ct={isProviderFor:function(Oe,Ie){var He=lt.get(Oe);return!T(He)&&He.has(Ie)?!0:me(Oe,Ie).length?(T(He)&&(He=new b,lt.set(Oe,He)),He.add(Ie),!0):!1},OrdinaryDefineOwnMetadata:ae,OrdinaryHasOwnMetadata:de,OrdinaryGetOwnMetadata:Ce,OrdinaryOwnMetadataKeys:me,OrdinaryDeleteMetadata:Ue};return ct}function xe(re,ae,de){var Ce=k.getProvider(re,ae);if(!T(Ce))return Ce;if(de){if(k.setProvider(re,ae,C))return C;throw new Error("Illegal state.")}}function Ze(){var re={},ae=[],de=(function(){function ct(Oe,Ie,He){this._index=0,this._keys=Oe,this._values=Ie,this._selector=He}return ct.prototype["@@iterator"]=function(){return this},ct.prototype[c]=function(){return this},ct.prototype.next=function(){var Oe=this._index;if(Oe>=0&&Oe<this._keys.length){var Ie=this._selector(this._keys[Oe],this._values[Oe]);return Oe+1>=this._keys.length?(this._index=-1,this._keys=ae,this._values=ae):this._index++,{value:Ie,done:!1}}return{value:void 0,done:!0}},ct.prototype.throw=function(Oe){throw this._index>=0&&(this._index=-1,this._keys=ae,this._values=ae),Oe},ct.prototype.return=function(Oe){return this._index>=0&&(this._index=-1,this._keys=ae,this._values=ae),{value:Oe,done:!0}},ct})(),Ce=(function(){function ct(){this._keys=[],this._values=[],this._cacheKey=re,this._cacheIndex=-2}return Object.defineProperty(ct.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ct.prototype.has=function(Oe){return this._find(Oe,!1)>=0},ct.prototype.get=function(Oe){var Ie=this._find(Oe,!1);return Ie>=0?this._values[Ie]:void 0},ct.prototype.set=function(Oe,Ie){var He=this._find(Oe,!0);return this._values[He]=Ie,this},ct.prototype.delete=function(Oe){var Ie=this._find(Oe,!1);if(Ie>=0){for(var He=this._keys.length,Fe=Ie+1;Fe<He;Fe++)this._keys[Fe-1]=this._keys[Fe],this._values[Fe-1]=this._values[Fe];return this._keys.length--,this._values.length--,jt(Oe,this._cacheKey)&&(this._cacheKey=re,this._cacheIndex=-2),!0}return!1},ct.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=re,this._cacheIndex=-2},ct.prototype.keys=function(){return new de(this._keys,this._values,me)},ct.prototype.values=function(){return new de(this._keys,this._values,Ue)},ct.prototype.entries=function(){return new de(this._keys,this._values,lt)},ct.prototype["@@iterator"]=function(){return this.entries()},ct.prototype[c]=function(){return this.entries()},ct.prototype._find=function(Oe,Ie){if(!jt(this._cacheKey,Oe)){this._cacheIndex=-1;for(var He=0;He<this._keys.length;He++)if(jt(this._keys[He],Oe)){this._cacheIndex=He;break}}return this._cacheIndex<0&&Ie&&(this._cacheIndex=this._keys.length,this._keys.push(Oe),this._values.push(void 0)),this._cacheIndex},ct})();return Ce;function me(ct,Oe){return ct}function Ue(ct,Oe){return Oe}function lt(ct,Oe){return[ct,Oe]}}function rt(){var re=(function(){function ae(){this._map=new v}return Object.defineProperty(ae.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),ae.prototype.has=function(de){return this._map.has(de)},ae.prototype.add=function(de){return this._map.set(de,de),this},ae.prototype.delete=function(de){return this._map.delete(de)},ae.prototype.clear=function(){this._map.clear()},ae.prototype.keys=function(){return this._map.keys()},ae.prototype.values=function(){return this._map.keys()},ae.prototype.entries=function(){return this._map.entries()},ae.prototype["@@iterator"]=function(){return this.keys()},ae.prototype[c]=function(){return this.keys()},ae})();return re}function pt(){var re=16,ae=p.create(),de=Ce();return(function(){function Oe(){this._key=Ce()}return Oe.prototype.has=function(Ie){var He=me(Ie,!1);return He!==void 0?p.has(He,this._key):!1},Oe.prototype.get=function(Ie){var He=me(Ie,!1);return He!==void 0?p.get(He,this._key):void 0},Oe.prototype.set=function(Ie,He){var Fe=me(Ie,!0);return Fe[this._key]=He,this},Oe.prototype.delete=function(Ie){var He=me(Ie,!1);return He!==void 0?delete He[this._key]:!1},Oe.prototype.clear=function(){this._key=Ce()},Oe})();function Ce(){var Oe;do Oe="@@WeakMap@@"+ct();while(p.has(ae,Oe));return ae[Oe]=!0,Oe}function me(Oe,Ie){if(!r.call(Oe,de)){if(!Ie)return;Object.defineProperty(Oe,de,{value:p.create()})}return Oe[de]}function Ue(Oe,Ie){for(var He=0;He<Ie;++He)Oe[He]=Math.random()*255|0;return Oe}function lt(Oe){if(typeof Uint8Array=="function"){var Ie=new Uint8Array(Oe);return typeof crypto<"u"?crypto.getRandomValues(Ie):typeof msCrypto<"u"?msCrypto.getRandomValues(Ie):Ue(Ie,Oe),Ie}return Ue(new Array(Oe),Oe)}function ct(){var Oe=lt(re);Oe[6]=Oe[6]&79|64,Oe[8]=Oe[8]&191|128;for(var Ie="",He=0;He<re;++He){var Fe=Oe[He];(He===4||He===6||He===8)&&(Ie+="-"),Fe<16&&(Ie+="0"),Ie+=Fe.toString(16).toLowerCase()}return Ie}}function ln(re){return re.__=void 0,delete re.__,re}})})(t||(t={})),$j}$Z();const zZ="[object ArrayBuffer]";class Me{static isArrayBuffer(e){return Object.prototype.toString.call(e)===zZ}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,n){if(e.constructor===n)return e;if(this.isArrayBuffer(e))return new n(e);if(this.isArrayBufferView(e))return new n(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,n){const s=Me.toUint8Array(e),r=Me.toUint8Array(n);if(s.length!==r.byteLength)return!1;for(let i=0;i<s.length;i++)if(s[i]!==r[i])return!1;return!0}static concat(...e){let n;Array.isArray(e[0])&&!(e[1]instanceof Function)||Array.isArray(e[0])&&e[1]instanceof Function?n=e[0]:e[e.length-1]instanceof Function?n=e.slice(0,e.length-1):n=e;let s=0;for(const a of n)s+=a.byteLength;const r=new Uint8Array(s);let i=0;for(const a of n){const c=this.toUint8Array(a);r.set(c,i),i+=c.length}return e[e.length-1]instanceof Function?this.toView(r,e[e.length-1]):r.buffer}}const jx="string",UZ=/^[0-9a-f\s]+$/i,HZ=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,FZ=/^[a-zA-Z0-9-_]+$/;class Uj{static fromString(e){const n=unescape(encodeURIComponent(e)),s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s.buffer}static toString(e){const n=Me.toUint8Array(e);let s="";for(let i=0;i<n.length;i++)s+=String.fromCharCode(n[i]);return decodeURIComponent(escape(s))}}class Ci{static toString(e,n=!1){const s=Me.toArrayBuffer(e),r=new DataView(s);let i="";for(let a=0;a<s.byteLength;a+=2){const c=r.getUint16(a,n);i+=String.fromCharCode(c)}return i}static fromString(e,n=!1){const s=new ArrayBuffer(e.length*2),r=new DataView(s);for(let i=0;i<e.length;i++)r.setUint16(i*2,e.charCodeAt(i),n);return s}}class Xe{static isHex(e){return typeof e===jx&&UZ.test(e)}static isBase64(e){return typeof e===jx&&HZ.test(e)}static isBase64Url(e){return typeof e===jx&&FZ.test(e)}static ToString(e,n="utf8"){const s=Me.toUint8Array(e);switch(n.toLowerCase()){case"utf8":return this.ToUtf8String(s);case"binary":return this.ToBinary(s);case"hex":return this.ToHex(s);case"base64":return this.ToBase64(s);case"base64url":return this.ToBase64Url(s);case"utf16le":return Ci.toString(s,!0);case"utf16":case"utf16be":return Ci.toString(s);default:throw new Error(`Unknown type of encoding '${n}'`)}}static FromString(e,n="utf8"){if(!e)return new ArrayBuffer(0);switch(n.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return Ci.fromString(e,!0);case"utf16":case"utf16be":return Ci.fromString(e);default:throw new Error(`Unknown type of encoding '${n}'`)}}static ToBase64(e){const n=Me.toUint8Array(e);if(typeof btoa<"u"){const s=this.ToString(n,"binary");return btoa(s)}else return Buffer.from(n).toString("base64")}static FromBase64(e){const n=this.formatString(e);if(!n)return new ArrayBuffer(0);if(!Xe.isBase64(n))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(n)):new Uint8Array(Buffer.from(n,"base64")).buffer}static FromBase64Url(e){const n=this.formatString(e);if(!n)return new ArrayBuffer(0);if(!Xe.isBase64Url(n))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(n.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,n=Xe.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.FromBinary(e);case"utf8":return Uj.fromString(e);case"utf16":case"utf16be":return Ci.fromString(e);case"utf16le":case"usc2":return Ci.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${n}'`)}}static ToUtf8String(e,n=Xe.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.ToBinary(e);case"utf8":return Uj.toString(e);case"utf16":case"utf16be":return Ci.toString(e);case"utf16le":case"usc2":return Ci.toString(e,!0);default:throw new Error(`Unknown type of encoding '${n}'`)}}static FromBinary(e){const n=e.length,s=new Uint8Array(n);for(let r=0;r<n;r++)s[r]=e.charCodeAt(r);return s.buffer}static ToBinary(e){const n=Me.toUint8Array(e);let s="";for(let r=0;r<n.length;r++)s+=String.fromCharCode(n[r]);return s}static ToHex(e){const n=Me.toUint8Array(e);let s="";const r=n.length;for(let i=0;i<r;i++){const a=n[i];a<16&&(s+="0"),s+=a.toString(16)}return s}static FromHex(e){let n=this.formatString(e);if(!n)return new ArrayBuffer(0);if(!Xe.isHex(n))throw new TypeError("Argument 'hexString' is not HEX encoded");n.length%2&&(n=`0${n}`);const s=new Uint8Array(n.length/2);for(let r=0;r<n.length;r=r+2){const i=n.slice(r,r+2);s[r/2]=parseInt(i,16)}return s.buffer}static ToUtf16String(e,n=!1){return Ci.toString(e,n)}static FromUtf16String(e,n=!1){return Ci.fromString(e,n)}static Base64Padding(e){const n=4-e.length%4;if(n<4)for(let s=0;s<n;s++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}}Xe.DEFAULT_UTF8_ENCODING="utf8";function VZ(...t){const e=t.map(r=>r.byteLength).reduce((r,i)=>r+i),n=new Uint8Array(e);let s=0;return t.map(r=>new Uint8Array(r)).forEach(r=>{for(const i of r)n[s++]=i}),n.buffer}function MD(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;const n=new Uint8Array(t),s=new Uint8Array(e);for(let r=0;r<t.byteLength;r++)if(n[r]!==s[r])return!1;return!0}function Uu(t,e){let n=0;if(t.length===1)return t[0];for(let s=t.length-1;s>=0;s--)n+=t[t.length-1-s]*Math.pow(2,e*s);return n}function Fl(t,e,n=-1){const s=n;let r=t,i=0,a=Math.pow(2,e);for(let c=1;c<8;c++){if(t<a){let u;if(s<0)u=new ArrayBuffer(c),i=c;else{if(s<c)return new ArrayBuffer(0);u=new ArrayBuffer(s),i=s}const h=new Uint8Array(u);for(let m=c-1;m>=0;m--){const p=Math.pow(2,m*e);h[i-m-1]=Math.floor(r/p),r-=h[i-m-1]*p}return u}a*=Math.pow(2,e)}return new ArrayBuffer(0)}function rS(...t){let e=0,n=0;for(const i of t)e+=i.length;const s=new ArrayBuffer(e),r=new Uint8Array(s);for(const i of t)r.set(i,n),n+=i.length;return r}function DD(){const t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const c=t[0]===255&&t[1]&128,u=t[0]===0&&(t[1]&128)===0;(c||u)&&this.warnings.push("Needlessly long format")}const e=new ArrayBuffer(this.valueHex.byteLength),n=new Uint8Array(e);for(let c=0;c<this.valueHex.byteLength;c++)n[c]=0;n[0]=t[0]&128;const s=Uu(n,8),r=new ArrayBuffer(this.valueHex.byteLength),i=new Uint8Array(r);for(let c=0;c<this.valueHex.byteLength;c++)i[c]=t[c];return i[0]&=127,Uu(i,8)-s}function qZ(t){const e=t<0?t*-1:t;let n=128;for(let s=1;s<8;s++){if(e<=n){if(t<0){const a=n-e,c=Fl(a,8,s),u=new Uint8Array(c);return u[0]|=128,c}let r=Fl(e,8,s),i=new Uint8Array(r);if(i[0]&128){const a=r.slice(0),c=new Uint8Array(a);r=new ArrayBuffer(r.byteLength+1),i=new Uint8Array(r);for(let u=0;u<a.byteLength;u++)i[u+1]=c[u];i[0]=0}return r}n*=Math.pow(2,8)}return new ArrayBuffer(0)}function KZ(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new Uint8Array(t),s=new Uint8Array(e);for(let r=0;r<n.length;r++)if(n[r]!==s[r])return!1;return!0}function xr(t,e){const n=t.toString(10);if(e<n.length)return"";const s=e-n.length,r=new Array(s);for(let a=0;a<s;a++)r[a]="0";return r.join("").concat(n)}function ly(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function vC(t){let e=0,n=0;for(let r=0;r<t.length;r++){const i=t[r];e+=i.byteLength}const s=new Uint8Array(e);for(let r=0;r<t.length;r++){const i=t[r];s.set(new Uint8Array(i),n),n+=i.byteLength}return s.buffer}function Da(t,e,n,s){return e instanceof Uint8Array?e.byteLength?n<0?(t.error="Wrong parameter: inputOffset less than zero",!1):s<0?(t.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-n-s<0?(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(t.error="Wrong parameter: inputBuffer has zero length",!1):(t.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class Cv{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return vC(this.items)}}const Td=[new Uint8Array([1])],Hj="0123456789",Tx="name",Fj="valueHexView",WZ="isHexOnly",GZ="idBlock",YZ="tagClass",ZZ="tagNumber",XZ="isConstructed",JZ="fromBER",QZ="toBER",eX="local",Qs="",qi=new ArrayBuffer(0),Nv=new Uint8Array(0),cp="EndOfContent",BD="OCTET STRING",LD="BIT STRING";function Ki(t){var e;return e=class extends t{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(s){this.valueHexView=new Uint8Array(s)}constructor(...s){var r;super(...s);const i=s[0]||{};this.isHexOnly=(r=i.isHexOnly)!==null&&r!==void 0?r:!1,this.valueHexView=i.valueHex?Me.toUint8Array(i.valueHex):Nv}fromBER(s,r,i){const a=s instanceof ArrayBuffer?new Uint8Array(s):s;if(!Da(this,a,r,i))return-1;const c=r+i;return this.valueHexView=a.subarray(r,c),this.valueHexView.length?(this.blockLength=i,c):(this.warnings.push("Zero buffer length"),r)}toBER(s=!1){return this.isHexOnly?s?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",qi)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Xe.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}class uc{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}constructor({blockLength:e=0,error:n=Qs,warnings:s=[],valueBeforeDecode:r=Nv}={}){this.blockLength=e,this.error=n,this.warnings=s,this.valueBeforeDecodeView=Me.toUint8Array(r)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Xe.ToHex(this.valueBeforeDecodeView)}}}uc.NAME="baseBlock";class Ps extends uc{fromBER(e,n,s){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}Ps.NAME="valueBlock";class ID extends Ki(uc){constructor({idBlock:e={}}={}){var n,s,r,i;super(),e?(this.isHexOnly=(n=e.isHexOnly)!==null&&n!==void 0?n:!1,this.valueHexView=e.valueHex?Me.toUint8Array(e.valueHex):Nv,this.tagClass=(s=e.tagClass)!==null&&s!==void 0?s:-1,this.tagNumber=(r=e.tagNumber)!==null&&r!==void 0?r:-1,this.isConstructed=(i=e.isConstructed)!==null&&i!==void 0?i:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let n=0;switch(this.tagClass){case 1:n|=0;break;case 2:n|=64;break;case 3:n|=128;break;case 4:n|=192;break;default:return this.error="Unknown tag class",qi}if(this.isConstructed&&(n|=32),this.tagNumber<31&&!this.isHexOnly){const r=new Uint8Array(1);if(!e){let i=this.tagNumber;i&=31,n|=i,r[0]=n}return r.buffer}if(!this.isHexOnly){const r=Fl(this.tagNumber,7),i=new Uint8Array(r),a=r.byteLength,c=new Uint8Array(a+1);if(c[0]=n|31,!e){for(let u=0;u<a-1;u++)c[u+1]=i[u]|128;c[a]=i[a-1]}return c.buffer}const s=new Uint8Array(this.valueHexView.byteLength+1);if(s[0]=n|31,!e){const r=this.valueHexView;for(let i=0;i<r.length-1;i++)s[i+1]=r[i]|128;s[this.valueHexView.byteLength]=r[r.length-1]}return s.buffer}fromBER(e,n,s){const r=Me.toUint8Array(e);if(!Da(this,r,n,s))return-1;const i=r.subarray(n,n+s);if(i.length===0)return this.error="Zero buffer length",-1;switch(i[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(i[0]&32)===32,this.isHexOnly=!1;const c=i[0]&31;if(c!==31)this.tagNumber=c,this.blockLength=1;else{let u=1,h=this.valueHexView=new Uint8Array(255),m=255;for(;i[u]&128;){if(h[u-1]=i[u]&127,u++,u>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(u===m){m+=255;const y=new Uint8Array(m);for(let v=0;v<h.length;v++)y[v]=h[v];h=this.valueHexView=new Uint8Array(m)}}this.blockLength=u+1,h[u-1]=i[u]&127;const p=new Uint8Array(u);for(let y=0;y<u;y++)p[y]=h[y];h=this.valueHexView=new Uint8Array(u),h.set(p),this.blockLength<=9?this.tagNumber=Uu(h,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return n+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}ID.NAME="identificationBlock";class PD extends uc{constructor({lenBlock:e={}}={}){var n,s,r;super(),this.isIndefiniteForm=(n=e.isIndefiniteForm)!==null&&n!==void 0?n:!1,this.longFormUsed=(s=e.longFormUsed)!==null&&s!==void 0?s:!1,this.length=(r=e.length)!==null&&r!==void 0?r:0}fromBER(e,n,s){const r=Me.toUint8Array(e);if(!Da(this,r,n,s))return-1;const i=r.subarray(n,n+s);if(i.length===0)return this.error="Zero buffer length",-1;if(i[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=i[0]===128,this.isIndefiniteForm)return this.blockLength=1,n+this.blockLength;if(this.longFormUsed=!!(i[0]&128),this.longFormUsed===!1)return this.length=i[0],this.blockLength=1,n+this.blockLength;const a=i[0]&127;if(a>8)return this.error="Too big integer",-1;if(a+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const c=n+1,u=r.subarray(c,c+a);return u[a-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=Uu(u,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=a+1,n+this.blockLength}toBER(e=!1){let n,s;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return n=new ArrayBuffer(1),e===!1&&(s=new Uint8Array(n),s[0]=128),n;if(this.longFormUsed){const r=Fl(this.length,8);if(r.byteLength>127)return this.error="Too big length",qi;if(n=new ArrayBuffer(r.byteLength+1),e)return n;const i=new Uint8Array(r);s=new Uint8Array(n),s[0]=r.byteLength|128;for(let a=0;a<r.byteLength;a++)s[a+1]=i[a];return n}return n=new ArrayBuffer(1),e===!1&&(s=new Uint8Array(n),s[0]=this.length),n}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}PD.NAME="lengthBlock";const Ve={};class gs extends uc{constructor({name:e=Qs,optional:n=!1,primitiveSchema:s,...r}={},i){super(r),this.name=e,this.optional=n,s&&(this.primitiveSchema=s),this.idBlock=new ID(r),this.lenBlock=new PD(r),this.valueBlock=i?new i(r):new Ps(r)}fromBER(e,n,s){const r=this.valueBlock.fromBER(e,n,this.lenBlock.isIndefiniteForm?s:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}toBER(e,n){const s=n||new Cv;n||$D(this);const r=this.idBlock.toBER(e);if(s.write(r),this.lenBlock.isIndefiniteForm)s.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,s),s.write(new ArrayBuffer(2));else{const i=this.valueBlock.toBER(e);this.lenBlock.length=i.byteLength;const a=this.lenBlock.toBER(e);s.write(a),s.write(i)}return n?qi:s.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():Xe.ToHex(this.toBER())}onAsciiEncoding(){const e=this.constructor.NAME,n=Xe.ToHex(this.valueBlock.valueBeforeDecodeView);return`${e} : ${n}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;const n=this.toBER(),s=e.toBER();return KZ(n,s)}}gs.NAME="BaseBlock";function $D(t){var e;if(t instanceof Ve.Constructed)for(const n of t.valueBlock.value)$D(n)&&(t.lenBlock.isIndefiniteForm=!0);return!!(!((e=t.lenBlock)===null||e===void 0)&&e.isIndefiniteForm)}class bC extends gs{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor({value:e=Qs,...n}={},s){super(n,s),e&&this.fromString(e)}fromBER(e,n,s){const r=this.valueBlock.fromBER(e,n,this.lenBlock.isIndefiniteForm?s:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}bC.NAME="BaseStringBlock";class zD extends Ki(Ps){constructor({isHexOnly:e=!0,...n}={}){super(n),this.isHexOnly=e}}zD.NAME="PrimitiveValueBlock";var UD;class Lp extends gs{constructor(e={}){super(e,zD),this.idBlock.isConstructed=!1}}UD=Lp;Ve.Primitive=UD;Lp.NAME="PRIMITIVE";function tX(t,e){if(t instanceof e)return t;const n=new e;return n.idBlock=t.idBlock,n.lenBlock=t.lenBlock,n.warnings=t.warnings,n.valueBeforeDecodeView=t.valueBeforeDecodeView,n}function fh(t,e=0,n=t.length){const s=e;let r=new gs({},Ps);const i=new uc;if(!Da(i,t,e,n))return r.error=i.error,{offset:-1,result:r};if(!t.subarray(e,e+n).length)return r.error="Zero buffer length",{offset:-1,result:r};let c=r.idBlock.fromBER(t,e,n);if(r.idBlock.warnings.length&&r.warnings.concat(r.idBlock.warnings),c===-1)return r.error=r.idBlock.error,{offset:-1,result:r};if(e=c,n-=r.idBlock.blockLength,c=r.lenBlock.fromBER(t,e,n),r.lenBlock.warnings.length&&r.warnings.concat(r.lenBlock.warnings),c===-1)return r.error=r.lenBlock.error,{offset:-1,result:r};if(e=c,n-=r.lenBlock.blockLength,!r.idBlock.isConstructed&&r.lenBlock.isIndefiniteForm)return r.error="Indefinite length form used for primitive encoding form",{offset:-1,result:r};let u=gs;switch(r.idBlock.tagClass){case 1:if(r.idBlock.tagNumber>=37&&r.idBlock.isHexOnly===!1)return r.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:r};switch(r.idBlock.tagNumber){case 0:if(r.idBlock.isConstructed&&r.lenBlock.length>0)return r.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:r};u=Ve.EndOfContent;break;case 1:u=Ve.Boolean;break;case 2:u=Ve.Integer;break;case 3:u=Ve.BitString;break;case 4:u=Ve.OctetString;break;case 5:u=Ve.Null;break;case 6:u=Ve.ObjectIdentifier;break;case 10:u=Ve.Enumerated;break;case 12:u=Ve.Utf8String;break;case 13:u=Ve.RelativeObjectIdentifier;break;case 14:u=Ve.TIME;break;case 15:return r.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:r};case 16:u=Ve.Sequence;break;case 17:u=Ve.Set;break;case 18:u=Ve.NumericString;break;case 19:u=Ve.PrintableString;break;case 20:u=Ve.TeletexString;break;case 21:u=Ve.VideotexString;break;case 22:u=Ve.IA5String;break;case 23:u=Ve.UTCTime;break;case 24:u=Ve.GeneralizedTime;break;case 25:u=Ve.GraphicString;break;case 26:u=Ve.VisibleString;break;case 27:u=Ve.GeneralString;break;case 28:u=Ve.UniversalString;break;case 29:u=Ve.CharacterString;break;case 30:u=Ve.BmpString;break;case 31:u=Ve.DATE;break;case 32:u=Ve.TimeOfDay;break;case 33:u=Ve.DateTime;break;case 34:u=Ve.Duration;break;default:{const h=r.idBlock.isConstructed?new Ve.Constructed:new Ve.Primitive;h.idBlock=r.idBlock,h.lenBlock=r.lenBlock,h.warnings=r.warnings,r=h}}break;default:u=r.idBlock.isConstructed?Ve.Constructed:Ve.Primitive}return r=tX(r,u),c=r.fromBER(t,e,r.lenBlock.isIndefiniteForm?n:r.lenBlock.length),r.valueBeforeDecodeView=t.subarray(s,s+r.blockLength),{offset:c,result:r}}function Du(t){if(!t.byteLength){const e=new gs({},Ps);return e.error="Input buffer has zero length",{offset:-1,result:e}}return fh(Me.toUint8Array(t).slice(),0,t.byteLength)}function nX(t,e){return t?1:e}class Mo extends Ps{constructor({value:e=[],isIndefiniteForm:n=!1,...s}={}){super(s),this.value=e,this.isIndefiniteForm=n}fromBER(e,n,s){const r=Me.toUint8Array(e);if(!Da(this,r,n,s))return-1;if(this.valueBeforeDecodeView=r.subarray(n,n+s),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),n;let i=n;for(;nX(this.isIndefiniteForm,s)>0;){const a=fh(r,i,s);if(a.offset===-1)return this.error=a.result.error,this.warnings.concat(a.result.warnings),-1;if(i=a.offset,this.blockLength+=a.result.blockLength,s-=a.result.blockLength,this.value.push(a.result),this.isIndefiniteForm&&a.result.constructor.NAME===cp)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===cp?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,n){const s=n||new Cv;for(let r=0;r<this.value.length;r++)this.value[r].toBER(e,s);return n?qi:s.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const n of this.value)e.value.push(n.toJSON());return e}}Mo.NAME="ConstructedValueBlock";var HD;class Bs extends gs{constructor(e={}){super(e,Mo),this.idBlock.isConstructed=!0}fromBER(e,n,s){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const r=this.valueBlock.fromBER(e,n,this.lenBlock.isIndefiniteForm?s:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}onAsciiEncoding(){const e=[];for(const s of this.valueBlock.value)e.push(s.toString("ascii").split(`
`).map(r=>`  ${r}`).join(`
`));const n=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${n} :
${e.join(`
`)}`:`${n} :`}}HD=Bs;Ve.Constructed=HD;Bs.NAME="CONSTRUCTED";class FD extends Ps{fromBER(e,n,s){return n}toBER(e){return qi}}FD.override="EndOfContentValueBlock";var VD;class _C extends gs{constructor(e={}){super(e,FD),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}VD=_C;Ve.EndOfContent=VD;_C.NAME=cp;var qD;class Vl extends gs{constructor(e={}){super(e,Ps),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,n,s){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=s,n+s>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):n+s}toBER(e,n){const s=new ArrayBuffer(2);if(!e){const r=new Uint8Array(s);r[0]=5,r[1]=0}return n&&n.write(s),s}onAsciiEncoding(){return`${this.constructor.NAME}`}}qD=Vl;Ve.Null=qD;Vl.NAME="NULL";class KD extends Ki(Ps){get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}constructor({value:e,...n}={}){super(n),n.valueHex?this.valueHexView=Me.toUint8Array(n.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}fromBER(e,n,s){const r=Me.toUint8Array(e);return Da(this,r,n,s)?(this.valueHexView=r.subarray(n,n+s),s>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,DD.call(this),this.blockLength=s,n+s):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}KD.NAME="BooleanValueBlock";var WD;let Ev=class extends gs{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor(e={}){super(e,KD),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};WD=Ev;Ve.Boolean=WD;Ev.NAME="BOOLEAN";class GD extends Ki(Mo){constructor({isConstructed:e=!1,...n}={}){super(n),this.isConstructed=e}fromBER(e,n,s){let r=0;if(this.isConstructed){if(this.isHexOnly=!1,r=Mo.prototype.fromBER.call(this,e,n,s),r===-1)return r;for(let i=0;i<this.value.length;i++){const a=this.value[i].constructor.NAME;if(a===cp){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(a!==BD)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,r=super.fromBER(e,n,s),this.blockLength=s;return r}toBER(e,n){return this.isConstructed?Mo.prototype.toBER.call(this,e,n):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}GD.NAME="OctetStringValueBlock";var xC;let Dl=class extends gs{constructor({idBlock:e={},lenBlock:n={},...s}={}){var r,i;(r=s.isConstructed)!==null&&r!==void 0||(s.isConstructed=!!(!((i=s.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:s.isConstructed,...e},lenBlock:{...n,isIndefiniteForm:!!s.isIndefiniteForm},...s},GD),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,n,s){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,s===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),n;if(!this.valueBlock.isConstructed){const i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(n,n+s);try{if(i.byteLength){const a=fh(i,0,i.byteLength);a.offset!==-1&&a.offset===s&&(this.valueBlock.value=[a.result])}}catch{}}return super.fromBER(e,n,s)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Bs.prototype.onAsciiEncoding.call(this);const e=this.constructor.NAME,n=Xe.ToHex(this.valueBlock.valueHexView);return`${e} : ${n}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const n of this.valueBlock.value)n instanceof xC&&e.push(n.valueBlock.valueHexView);return Me.concat(e)}};xC=Dl;Ve.OctetString=xC;Dl.NAME=BD;class YD extends Ki(Mo){constructor({unusedBits:e=0,isConstructed:n=!1,...s}={}){super(s),this.unusedBits=e,this.isConstructed=n,this.blockLength=this.valueHexView.byteLength}fromBER(e,n,s){if(!s)return n;let r=-1;if(this.isConstructed){if(r=Mo.prototype.fromBER.call(this,e,n,s),r===-1)return r;for(const c of this.value){const u=c.constructor.NAME;if(u===cp){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(u!==LD)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const h=c.valueBlock;if(this.unusedBits>0&&h.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=h.unusedBits}return r}const i=Me.toUint8Array(e);if(!Da(this,i,n,s))return-1;const a=i.subarray(n,n+s);if(this.unusedBits=a[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const c=a.subarray(1);try{if(c.byteLength){const u=fh(c,0,c.byteLength);u.offset!==-1&&u.offset===s-1&&(this.value=[u.result])}}catch{}}return this.valueHexView=a.subarray(1),this.blockLength=a.length,n+s}toBER(e,n){if(this.isConstructed)return Mo.prototype.toBER.call(this,e,n);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength){const r=new Uint8Array(1);return r[0]=0,r.buffer}const s=new Uint8Array(this.valueHexView.length+1);return s[0]=this.unusedBits,s.set(this.valueHexView,1),s.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}YD.NAME="BitStringValueBlock";var ZD;let Bl=class extends gs{constructor({idBlock:e={},lenBlock:n={},...s}={}){var r,i;(r=s.isConstructed)!==null&&r!==void 0||(s.isConstructed=!!(!((i=s.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:s.isConstructed,...e},lenBlock:{...n,isIndefiniteForm:!!s.isIndefiniteForm},...s},YD),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,n,s){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,n,s)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Bs.prototype.onAsciiEncoding.call(this);{const e=[],n=this.valueBlock.valueHexView;for(const a of n)e.push(a.toString(2).padStart(8,"0"));const s=e.join(""),r=this.constructor.NAME,i=s.substring(0,s.length-this.valueBlock.unusedBits);return`${r} : ${i}`}}};ZD=Bl;Ve.BitString=ZD;Bl.NAME=LD;var XD;function sX(t,e){const n=new Uint8Array([0]),s=new Uint8Array(t),r=new Uint8Array(e);let i=s.slice(0);const a=i.length-1,c=r.slice(0),u=c.length-1;let h=0;const m=u<a?a:u;let p=0;for(let y=m;y>=0;y--,p++)!0===p<c.length?h=i[a-p]+c[u-p]+n[0]:h=i[a-p]+n[0],n[0]=h/10,!0===p>=i.length?i=rS(new Uint8Array([h%10]),i):i[a-p]=h%10;return n[0]>0&&(i=rS(n,i)),i}function Vj(t){if(t>=Td.length)for(let e=Td.length;e<=t;e++){const n=new Uint8Array([0]);let s=Td[e-1].slice(0);for(let r=s.length-1;r>=0;r--){const i=new Uint8Array([(s[r]<<1)+n[0]]);n[0]=i[0]/10,s[r]=i[0]%10}n[0]>0&&(s=rS(n,s)),Td.push(s)}return Td[t]}function rX(t,e){let n=0;const s=new Uint8Array(t),r=new Uint8Array(e),i=s.slice(0),a=i.length-1,c=r.slice(0),u=c.length-1;let h,m=0;for(let p=u;p>=0;p--,m++)h=i[a-m]-c[u-m]-n,!0===h<0?(n=1,i[a-m]=h+10):(n=0,i[a-m]=h);if(n>0)for(let p=a-u+1;p>=0;p--,m++)if(h=i[a-m]-n,h<0)n=1,i[a-m]=h+10;else{n=0,i[a-m]=h;break}return i.slice()}class wC extends Ki(Ps){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=DD.call(this)))}constructor({value:e,...n}={}){super(n),this._valueDec=0,n.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(qZ(e))}get valueDec(){return this._valueDec}fromDER(e,n,s,r=0){const i=this.fromBER(e,n,s);if(i===-1)return i;const a=this.valueHexView;return a[0]===0&&(a[1]&128)!==0?this.valueHexView=a.subarray(1):r!==0&&a.length<r&&(r-a.length>1&&(r=a.length+1),this.valueHexView=a.subarray(r-a.length)),i}toDER(e=!1){const n=this.valueHexView;switch(!0){case(n[0]&128)!==0:{const s=new Uint8Array(this.valueHexView.length+1);s[0]=0,s.set(n,1),this.valueHexView=s}break;case(n[0]===0&&(n[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,n,s){const r=super.fromBER(e,n,s);return r===-1||this.setValueHex(),r}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=this.valueHexView.length*8-1;let n=new Uint8Array(this.valueHexView.length*8/3),s=0,r;const i=this.valueHexView;let a="",c=!1;for(let u=i.byteLength-1;u>=0;u--){r=i[u];for(let h=0;h<8;h++)(r&1)===1&&(s===e?(n=rX(Vj(s),n),a="-"):n=sX(n,Vj(s))),s++,r>>=1}for(let u=0;u<n.length;u++)n[u]&&(c=!0),c&&(a+=Hj.charAt(n[u]));return c===!1&&(a+=Hj.charAt(0)),a}}XD=wC;wC.NAME="IntegerValueBlock";Object.defineProperty(XD.prototype,"valueHex",{set:function(t){this.valueHexView=new Uint8Array(t),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var Lf;class ph extends gs{constructor(e={}){super(e,wC),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return ly(),BigInt(this.valueBlock.toString())}static fromBigInt(e){ly();const n=BigInt(e),s=new Cv,r=n.toString(16).replace(/^-/,""),i=new Uint8Array(Xe.FromHex(r));if(n<0){const c=new Uint8Array(i.length+(i[0]&128?1:0));c[0]|=128;const h=BigInt(`0x${Xe.ToHex(c)}`)+n,m=Me.toUint8Array(Xe.FromHex(h.toString(16)));m[0]|=128,s.write(m)}else i[0]&128&&s.write(new Uint8Array([0])),s.write(i);return new Lf({valueHex:s.final()})}convertToDER(){const e=new Lf({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new Lf({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Lf=ph;Ve.Integer=Lf;ph.NAME="INTEGER";var JD;class Av extends ph{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}JD=Av;Ve.Enumerated=JD;Av.NAME="ENUMERATED";class iS extends Ki(Ps){constructor({valueDec:e=-1,isFirstSid:n=!1,...s}={}){super(s),this.valueDec=e,this.isFirstSid=n}fromBER(e,n,s){if(!s)return n;const r=Me.toUint8Array(e);if(!Da(this,r,n,s))return-1;const i=r.subarray(n,n+s);this.valueHexView=new Uint8Array(s);for(let c=0;c<s&&(this.valueHexView[c]=i[c]&127,this.blockLength++,(i[c]&128)!==0);c++);const a=new Uint8Array(this.blockLength);for(let c=0;c<this.blockLength;c++)a[c]=this.valueHexView[c];return this.valueHexView=a,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Uu(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}set valueBigInt(e){ly();let n=BigInt(e).toString(2);for(;n.length%7;)n="0"+n;const s=new Uint8Array(n.length/7);for(let r=0;r<s.length;r++)s[r]=parseInt(n.slice(r*7,r*7+7),2)+(r+1<s.length?128:0);this.fromBER(s.buffer,0,s.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const r=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=r[a]|128;return i[this.blockLength-1]=r[this.blockLength-1],i.buffer}const n=Fl(this.valueDec,7);if(n.byteLength===0)return this.error="Error during encoding SID value",qi;const s=new Uint8Array(n.byteLength);if(!e){const r=new Uint8Array(n),i=n.byteLength-1;for(let a=0;a<i;a++)s[a]=r[a]|128;s[i]=r[i]}return s}toString(){let e="";if(this.isHexOnly)e=Xe.ToHex(this.valueHexView);else if(this.isFirstSid){let n=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",n-=40):(e="2.",n-=80),e+=n.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}iS.NAME="sidBlock";class QD extends Ps{constructor({value:e=Qs,...n}={}){super(n),this.value=[],e&&this.fromString(e)}fromBER(e,n,s){let r=n;for(;s>0;){const i=new iS;if(r=i.fromBER(e,r,s),r===-1)return this.blockLength=0,this.error=i.error,r;this.value.length===0&&(i.isFirstSid=!0),this.blockLength+=i.blockLength,s-=i.blockLength,this.value.push(i)}return r}toBER(e){const n=[];for(let s=0;s<this.value.length;s++){const r=this.value[s].toBER(e);if(r.byteLength===0)return this.error=this.value[s].error,qi;n.push(r)}return vC(n)}fromString(e){this.value=[];let n=0,s=0,r="",i=!1;do if(s=e.indexOf(".",n),s===-1?r=e.substring(n):r=e.substring(n,s),n=s+1,i){const a=this.value[0];let c=0;switch(a.valueDec){case 0:break;case 1:c=40;break;case 2:c=80;break;default:this.value=[];return}const u=parseInt(r,10);if(isNaN(u))return;a.valueDec=u+c,i=!1}else{const a=new iS;if(r>Number.MAX_SAFE_INTEGER){ly();const c=BigInt(r);a.valueBigInt=c}else if(a.valueDec=parseInt(r,10),isNaN(a.valueDec))return;this.value.length||(a.isFirstSid=!0,i=!0),this.value.push(a)}while(s!==-1)}toString(){let e="",n=!1;for(let s=0;s<this.value.length;s++){n=this.value[s].isHexOnly;let r=this.value[s].toString();s!==0&&(e=`${e}.`),n?(r=`{${r}}`,this.value[s].isFirstSid?e=`2.{${r} - 80}`:e+=r):e+=r}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)e.sidArray.push(this.value[n].toJSON());return e}}QD.NAME="ObjectIdentifierValueBlock";var eB;class jv extends gs{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,QD),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}eB=jv;Ve.ObjectIdentifier=eB;jv.NAME="OBJECT IDENTIFIER";class aS extends Ki(uc){constructor({valueDec:e=0,...n}={}){super(n),this.valueDec=e}fromBER(e,n,s){if(s===0)return n;const r=Me.toUint8Array(e);if(!Da(this,r,n,s))return-1;const i=r.subarray(n,n+s);this.valueHexView=new Uint8Array(s);for(let c=0;c<s&&(this.valueHexView[c]=i[c]&127,this.blockLength++,(i[c]&128)!==0);c++);const a=new Uint8Array(this.blockLength);for(let c=0;c<this.blockLength;c++)a[c]=this.valueHexView[c];return this.valueHexView=a,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Uu(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const r=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=r[a]|128;return i[this.blockLength-1]=r[this.blockLength-1],i.buffer}const n=Fl(this.valueDec,7);if(n.byteLength===0)return this.error="Error during encoding SID value",qi;const s=new Uint8Array(n.byteLength);if(!e){const r=new Uint8Array(n),i=n.byteLength-1;for(let a=0;a<i;a++)s[a]=r[a]|128;s[i]=r[i]}return s.buffer}toString(){let e="";return this.isHexOnly?e=Xe.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}aS.NAME="relativeSidBlock";class tB extends Ps{constructor({value:e=Qs,...n}={}){super(n),this.value=[],e&&this.fromString(e)}fromBER(e,n,s){let r=n;for(;s>0;){const i=new aS;if(r=i.fromBER(e,r,s),r===-1)return this.blockLength=0,this.error=i.error,r;this.blockLength+=i.blockLength,s-=i.blockLength,this.value.push(i)}return r}toBER(e,n){const s=[];for(let r=0;r<this.value.length;r++){const i=this.value[r].toBER(e);if(i.byteLength===0)return this.error=this.value[r].error,qi;s.push(i)}return vC(s)}fromString(e){this.value=[];let n=0,s=0,r="";do{s=e.indexOf(".",n),s===-1?r=e.substring(n):r=e.substring(n,s),n=s+1;const i=new aS;if(i.valueDec=parseInt(r,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(s!==-1);return!0}toString(){let e="",n=!1;for(let s=0;s<this.value.length;s++){n=this.value[s].isHexOnly;let r=this.value[s].toString();s!==0&&(e=`${e}.`),n&&(r=`{${r}}`),e+=r}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)e.sidArray.push(this.value[n].toJSON());return e}}tB.NAME="RelativeObjectIdentifierValueBlock";var nB;class SC extends gs{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,tB),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}nB=SC;Ve.RelativeObjectIdentifier=nB;SC.NAME="RelativeObjectIdentifier";var sB;class di extends Bs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}sB=di;Ve.Sequence=sB;di.NAME="SEQUENCE";var rB;let Bi=class extends Bs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};rB=Bi;Ve.Set=rB;Bi.NAME="SET";class iB extends Ki(Ps){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=Qs}toJSON(){return{...super.toJSON(),value:this.value}}}iB.NAME="StringValueBlock";class aB extends iB{}aB.NAME="SimpleStringValueBlock";class Ar extends bC{constructor({...e}={}){super(e,aB)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,Me.toUint8Array(e))}fromString(e){const n=e.length,s=this.valueBlock.valueHexView=new Uint8Array(n);for(let r=0;r<n;r++)s[r]=e.charCodeAt(r);this.valueBlock.value=e}}Ar.NAME="SIMPLE STRING";class oB extends Ar{fromBuffer(e){this.valueBlock.valueHexView=Me.toUint8Array(e);try{this.valueBlock.value=Xe.ToUtf8String(e)}catch(n){this.warnings.push(`Error during "decodeURIComponent": ${n}, using raw string`),this.valueBlock.value=Xe.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(Xe.FromUtf8String(e)),this.valueBlock.value=e}}oB.NAME="Utf8StringValueBlock";var lB;class Ba extends oB{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}lB=Ba;Ve.Utf8String=lB;Ba.NAME="UTF8String";class cB extends Ar{fromBuffer(e){this.valueBlock.value=Xe.ToUtf16String(e),this.valueBlock.valueHexView=Me.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(Xe.FromUtf16String(e))}}cB.NAME="BmpStringValueBlock";var uB;class Tv extends cB{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}uB=Tv;Ve.BmpString=uB;Tv.NAME="BMPString";class hB extends Ar{fromBuffer(e){const n=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),s=new Uint8Array(n);for(let r=0;r<s.length;r+=4)s[r]=s[r+3],s[r+1]=s[r+2],s[r+2]=0,s[r+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(n))}fromString(e){const n=e.length,s=this.valueBlock.valueHexView=new Uint8Array(n*4);for(let r=0;r<n;r++){const i=Fl(e.charCodeAt(r),8),a=new Uint8Array(i);if(a.length>4)continue;const c=4-a.length;for(let u=a.length-1;u>=0;u--)s[r*4+u+c]=a[u]}this.valueBlock.value=e}}hB.NAME="UniversalStringValueBlock";var dB;class Rv extends hB{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}dB=Rv;Ve.UniversalString=dB;Rv.NAME="UniversalString";var fB;class Ov extends Ar{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}fB=Ov;Ve.NumericString=fB;Ov.NAME="NumericString";var pB;class Mv extends Ar{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}pB=Mv;Ve.PrintableString=pB;Mv.NAME="PrintableString";var mB;class Dv extends Ar{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}mB=Dv;Ve.TeletexString=mB;Dv.NAME="TeletexString";var gB;class Bv extends Ar{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}gB=Bv;Ve.VideotexString=gB;Bv.NAME="VideotexString";var yB;class Lv extends Ar{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}yB=Lv;Ve.IA5String=yB;Lv.NAME="IA5String";var vB;class Iv extends Ar{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}vB=Iv;Ve.GraphicString=vB;Iv.NAME="GraphicString";var bB;class Ip extends Ar{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}bB=Ip;Ve.VisibleString=bB;Ip.NAME="VisibleString";var _B;class Pv extends Ar{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}_B=Pv;Ve.GeneralString=_B;Pv.NAME="GeneralString";var xB;class $v extends Ar{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}xB=$v;Ve.CharacterString=xB;$v.NAME="CharacterString";var wB;class Pp extends Ip{constructor({value:e,valueDate:n,...s}={}){if(super(s),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let r=0;r<e.length;r++)this.valueBlock.valueHexView[r]=e.charCodeAt(r)}n&&(this.fromDate(n),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,Me.toUint8Array(e)))}toBuffer(){const e=this.toString(),n=new ArrayBuffer(e.length),s=new Uint8Array(n);for(let r=0;r<e.length;r++)s[r]=e.charCodeAt(r);return n}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const s=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(s===null){this.error="Wrong input string for conversion";return}const r=parseInt(s[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(s[2],10),this.day=parseInt(s[3],10),this.hour=parseInt(s[4],10),this.minute=parseInt(s[5],10),this.second=parseInt(s[6],10)}toString(e="iso"){if(e==="iso"){const n=new Array(7);return n[0]=xr(this.year<2e3?this.year-1900:this.year-2e3,2),n[1]=xr(this.month,2),n[2]=xr(this.day,2),n[3]=xr(this.hour,2),n[4]=xr(this.minute,2),n[5]=xr(this.second,2),n[6]="Z",n.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}wB=Pp;Ve.UTCTime=wB;Pp.NAME="UTCTime";var SB;class zv extends Pp{constructor(e={}){var n;super(e),(n=this.millisecond)!==null&&n!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){const e=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(e)}fromString(e){let n=!1,s="",r="",i=0,a,c=0,u=0;if(e[e.length-1]==="Z")s=e.substring(0,e.length-1),n=!0;else{const p=new Number(e[e.length-1]);if(isNaN(p.valueOf()))throw new Error("Wrong input string for conversion");s=e}if(n){if(s.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(s.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let p=1,y=s.indexOf("+"),v="";if(y===-1&&(y=s.indexOf("-"),p=-1),y!==-1){if(v=s.substring(y+1),s=s.substring(0,y),v.length!==2&&v.length!==4)throw new Error("Wrong input string for conversion");let b=parseInt(v.substring(0,2),10);if(isNaN(b.valueOf()))throw new Error("Wrong input string for conversion");if(c=p*b,v.length===4){if(b=parseInt(v.substring(2,4),10),isNaN(b.valueOf()))throw new Error("Wrong input string for conversion");u=p*b}}}let h=s.indexOf(".");if(h===-1&&(h=s.indexOf(",")),h!==-1){const p=new Number(`0${s.substring(h)}`);if(isNaN(p.valueOf()))throw new Error("Wrong input string for conversion");i=p.valueOf(),r=s.substring(0,h)}else r=s;switch(!0){case r.length===8:if(a=/(\d{4})(\d{2})(\d{2})/ig,h!==-1)throw new Error("Wrong input string for conversion");break;case r.length===10:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,h!==-1){let p=60*i;this.minute=Math.floor(p),p=60*(p-this.minute),this.second=Math.floor(p),p=1e3*(p-this.second),this.millisecond=Math.floor(p)}break;case r.length===12:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,h!==-1){let p=60*i;this.second=Math.floor(p),p=1e3*(p-this.second),this.millisecond=Math.floor(p)}break;case r.length===14:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,h!==-1){const p=1e3*i;this.millisecond=Math.floor(p)}break;default:throw new Error("Wrong input string for conversion")}const m=a.exec(r);if(m===null)throw new Error("Wrong input string for conversion");for(let p=1;p<m.length;p++)switch(p){case 1:this.year=parseInt(m[p],10);break;case 2:this.month=parseInt(m[p],10);break;case 3:this.day=parseInt(m[p],10);break;case 4:this.hour=parseInt(m[p],10)+c;break;case 5:this.minute=parseInt(m[p],10)+u;break;case 6:this.second=parseInt(m[p],10);break;default:throw new Error("Wrong input string for conversion")}if(n===!1){const p=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=p.getUTCFullYear(),this.month=p.getUTCMonth(),this.day=p.getUTCDay(),this.hour=p.getUTCHours(),this.minute=p.getUTCMinutes(),this.second=p.getUTCSeconds(),this.millisecond=p.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){const n=[];return n.push(xr(this.year,4)),n.push(xr(this.month,2)),n.push(xr(this.day,2)),n.push(xr(this.hour,2)),n.push(xr(this.minute,2)),n.push(xr(this.second,2)),this.millisecond!==0&&(n.push("."),n.push(xr(this.millisecond,3))),n.push("Z"),n.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}SB=zv;Ve.GeneralizedTime=SB;zv.NAME="GeneralizedTime";var kB;let kC=class extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}};kB=kC;Ve.DATE=kB;kC.NAME="DATE";var CB;class CC extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}CB=CC;Ve.TimeOfDay=CB;CC.NAME="TimeOfDay";var NB;class NC extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}NB=NC;Ve.DateTime=NB;NC.NAME="DateTime";var EB;class EC extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}EB=EC;Ve.Duration=EB;EC.NAME="Duration";var AB;class AC extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}AB=AC;Ve.TIME=AB;AC.NAME="TIME";class ql{constructor({name:e=Qs,optional:n=!1}={}){this.name=e,this.optional=n}}class jC extends ql{constructor({value:e=[],...n}={}){super(n),this.value=e}}class cy extends ql{constructor({value:e=new ql,local:n=!1,...s}={}){super(s),this.value=e,this.local=n}}class iX{get data(){return this.dataView.slice().buffer}set data(e){this.dataView=Me.toUint8Array(e)}constructor({data:e=Nv}={}){this.dataView=Me.toUint8Array(e)}fromBER(e,n,s){const r=n+s;return this.dataView=Me.toUint8Array(e).subarray(n,r),r}toBER(e){return this.dataView.slice().buffer}}function So(t,e,n){if(n instanceof jC){for(const i of n.value)if(So(t,e,i).verified)return{verified:!0,result:t};{const i={verified:!1,result:{error:"Wrong values for Choice type"}};return n.hasOwnProperty(Tx)&&(i.name=n.name),i}}if(n instanceof ql)return n.hasOwnProperty(Tx)&&(t[n.name]=e),{verified:!0,result:t};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(n instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(GZ in n))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(JZ in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(QZ in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const s=n.idBlock.toBER(!1);if(s.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(n.idBlock.fromBER(s,0,s.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(n.idBlock.hasOwnProperty(YZ)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:t};if(n.idBlock.hasOwnProperty(ZZ)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:t};if(n.idBlock.hasOwnProperty(XZ)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:t};if(!(WZ in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:t};if(n.idBlock.isHexOnly){if(!(Fj in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const i=n.idBlock.valueHexView,a=e.idBlock.valueHexView;if(i.length!==a.length)return{verified:!1,result:t};for(let c=0;c<i.length;c++)if(i[c]!==a[1])return{verified:!1,result:t}}if(n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Qs),n.name&&(t[n.name]=e)),n instanceof Ve.Constructed){let i=0,a={verified:!1,result:{error:"Unknown error"}},c=n.valueBlock.value.length;if(c>0&&n.valueBlock.value[0]instanceof cy&&(c=e.valueBlock.value.length),c===0)return{verified:!0,result:t};if(e.valueBlock.value.length===0&&n.valueBlock.value.length!==0){let u=!0;for(let h=0;h<n.valueBlock.value.length;h++)u=u&&(n.valueBlock.value[h].optional||!1);return u?{verified:!0,result:t}:(n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Qs),n.name&&delete t[n.name]),t.error="Inconsistent object length",{verified:!1,result:t})}for(let u=0;u<c;u++)if(u-i>=e.valueBlock.value.length){if(n.valueBlock.value[u].optional===!1){const h={verified:!1,result:t};return t.error="Inconsistent length between ASN.1 data and schema",n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Qs),n.name&&(delete t[n.name],h.name=n.name)),h}}else if(n.valueBlock.value[0]instanceof cy){if(a=So(t,e.valueBlock.value[u],n.valueBlock.value[0].value),a.verified===!1)if(n.valueBlock.value[0].optional)i++;else return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Qs),n.name&&delete t[n.name]),a;if(Tx in n.valueBlock.value[0]&&n.valueBlock.value[0].name.length>0){let h={};eX in n.valueBlock.value[0]&&n.valueBlock.value[0].local?h=e:h=t,typeof h[n.valueBlock.value[0].name]>"u"&&(h[n.valueBlock.value[0].name]=[]),h[n.valueBlock.value[0].name].push(e.valueBlock.value[u])}}else if(a=So(t,e.valueBlock.value[u-i],n.valueBlock.value[u]),a.verified===!1)if(n.valueBlock.value[u].optional)i++;else return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Qs),n.name&&delete t[n.name]),a;if(a.verified===!1){const u={verified:!1,result:t};return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Qs),n.name&&(delete t[n.name],u.name=n.name)),u}return{verified:!0,result:t}}if(n.primitiveSchema&&Fj in e.valueBlock){const i=fh(e.valueBlock.valueHexView);if(i.offset===-1){const a={verified:!1,result:i.result};return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Qs),n.name&&(delete t[n.name],a.name=n.name)),a}return So(t,i.result,n.primitiveSchema)}return{verified:!0,result:t}}function aX(t,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const n=fh(Me.toUint8Array(t));return n.offset===-1?{verified:!1,result:n.result}:So(n.result,n.result,e)}const jB=Object.freeze(Object.defineProperty({__proto__:null,Any:ql,BaseBlock:gs,BaseStringBlock:bC,BitString:Bl,BmpString:Tv,Boolean:Ev,CharacterString:$v,Choice:jC,Constructed:Bs,DATE:kC,DateTime:NC,Duration:EC,EndOfContent:_C,Enumerated:Av,GeneralString:Pv,GeneralizedTime:zv,GraphicString:Iv,HexBlock:Ki,IA5String:Lv,Integer:ph,Null:Vl,NumericString:Ov,ObjectIdentifier:jv,OctetString:Dl,Primitive:Lp,PrintableString:Mv,RawData:iX,RelativeObjectIdentifier:SC,Repeated:cy,Sequence:di,Set:Bi,TIME:AC,TeletexString:Dv,TimeOfDay:CC,UTCTime:Pp,UniversalString:Rv,Utf8String:Ba,ValueBlock:Ps,VideotexString:Bv,ViewWriter:Cv,VisibleString:Ip,compareSchema:So,fromBER:Du,verifySchema:aX},Symbol.toStringTag,{value:"Module"}));var _e;(function(t){t[t.Sequence=0]="Sequence",t[t.Set=1]="Set",t[t.Choice=2]="Choice"})(_e||(_e={}));var se;(function(t){t[t.Any=1]="Any",t[t.Boolean=2]="Boolean",t[t.OctetString=3]="OctetString",t[t.BitString=4]="BitString",t[t.Integer=5]="Integer",t[t.Enumerated=6]="Enumerated",t[t.ObjectIdentifier=7]="ObjectIdentifier",t[t.Utf8String=8]="Utf8String",t[t.BmpString=9]="BmpString",t[t.UniversalString=10]="UniversalString",t[t.NumericString=11]="NumericString",t[t.PrintableString=12]="PrintableString",t[t.TeletexString=13]="TeletexString",t[t.VideotexString=14]="VideotexString",t[t.IA5String=15]="IA5String",t[t.GraphicString=16]="GraphicString",t[t.VisibleString=17]="VisibleString",t[t.GeneralString=18]="GeneralString",t[t.CharacterString=19]="CharacterString",t[t.UTCTime=20]="UTCTime",t[t.GeneralizedTime=21]="GeneralizedTime",t[t.DATE=22]="DATE",t[t.TimeOfDay=23]="TimeOfDay",t[t.DateTime=24]="DateTime",t[t.Duration=25]="Duration",t[t.TIME=26]="TIME",t[t.Null=27]="Null"})(se||(se={}));class Uv{constructor(e,n=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(Me.isBufferSource(e))this.unusedBits=n,this.value=Me.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof Bl))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new Bl({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new Bl({name:e})}toNumber(){let e="";const n=new Uint8Array(this.value);for(const s of n)e+=s.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let n=e.toString(2);const s=n.length+7>>3;this.unusedBits=(s<<3)-n.length;const r=new Uint8Array(s);n=n.padStart(s<<3,"0").split("").reverse().join("");let i=0;for(;i<s;)r[i]=parseInt(n.slice(i<<3,(i<<3)+8),2),i++;this.value=r.buffer}}class Bt{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):Me.isBufferSource(e)?this.buffer=Me.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}fromASN(e){if(!(e instanceof Dl))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new Dl({valueHex:this.buffer})}toSchema(e){return new Dl({name:e})}}const oX={fromASN:t=>t instanceof Vl?null:t.valueBeforeDecodeView,toASN:t=>{if(t===null)return new Vl;const e=Du(t);if(e.result.error)throw new Error(e.result.error);return e.result}},lX={fromASN:t=>t.valueBlock.valueHexView.byteLength>=4?t.valueBlock.toString():t.valueBlock.valueDec,toASN:t=>new ph({value:+t})},cX={fromASN:t=>t.valueBlock.valueDec,toASN:t=>new Av({value:t})},rn={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new ph({valueHex:t})},uX={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Bl({valueHex:t})},hX={fromASN:t=>t.valueBlock.toString(),toASN:t=>new jv({value:t})},dX={fromASN:t=>t.valueBlock.value,toASN:t=>new Ev({value:t})},uy={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Dl({valueHex:t})},fX={fromASN:t=>new Bt(t.getValue()),toASN:t=>t.toASN()};function si(t){return{fromASN:e=>e.valueBlock.value,toASN:e=>new t({value:e})}}const TB=si(Ba),pX=si(Tv),mX=si(Rv),gX=si(Ov),yX=si(Mv),vX=si(Dv),bX=si(Bv),_X=si(Lv),xX=si(Iv),wX=si(Ip),SX=si(Pv),kX=si($v),CX={fromASN:t=>t.toDate(),toASN:t=>new Pp({valueDate:t})},NX={fromASN:t=>t.toDate(),toASN:t=>new zv({valueDate:t})},EX={fromASN:()=>null,toASN:()=>new Vl};function If(t){switch(t){case se.Any:return oX;case se.BitString:return uX;case se.BmpString:return pX;case se.Boolean:return dX;case se.CharacterString:return kX;case se.Enumerated:return cX;case se.GeneralString:return SX;case se.GeneralizedTime:return NX;case se.GraphicString:return xX;case se.IA5String:return _X;case se.Integer:return lX;case se.Null:return EX;case se.NumericString:return gX;case se.ObjectIdentifier:return hX;case se.OctetString:return uy;case se.PrintableString:return yX;case se.TeletexString:return vX;case se.UTCTime:return CX;case se.UniversalString:return mX;case se.Utf8String:return TB;case se.VideotexString:return bX;case se.VisibleString:return wX;default:return null}}function _a(t){return typeof t=="function"&&t.prototype?t.prototype.toASN&&t.prototype.fromASN?!0:_a(t.prototype):!!(t&&typeof t=="object"&&"toASN"in t&&"fromASN"in t)}function RB(t){var e;if(t){const n=Object.getPrototypeOf(t);return((e=n?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:RB(n)}return!1}function AX(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;const n=new Uint8Array(t),s=new Uint8Array(e);for(let r=0;r<t.byteLength;r++)if(n[r]!==s[r])return!1;return!0}class jX{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,n=!1){const s=this.items.get(e);if(!s)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(n&&!s.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return s}cache(e){const n=this.get(e);n.schema||(n.schema=this.create(e,!0))}createDefault(e){const n={type:_e.Sequence,items:{}},s=this.findParentSchema(e);return s&&(Object.assign(n,s),n.items=Object.assign({},n.items,s.items)),n}create(e,n){const s=this.items.get(e)||this.createDefault(e),r=[];for(const i in s.items){const a=s.items[i],c=n?i:"";let u;if(typeof a.type=="number"){const m=se[a.type],p=jB[m];if(!p)throw new Error(`Cannot get ASN1 class by name '${m}'`);u=new p({name:c})}else _a(a.type)?u=new a.type().toSchema(c):a.optional?this.get(a.type).type===_e.Choice?u=new ql({name:c}):(u=this.create(a.type,!1),u.name=c):u=new ql({name:c});const h=!!a.optional||a.defaultValue!==void 0;if(a.repeated){u.name="";const m=a.repeated==="set"?Bi:di;u=new m({name:"",value:[new cy({name:c,value:u})]})}if(a.context!==null&&a.context!==void 0)if(a.implicit)if(typeof a.type=="number"||_a(a.type)){const m=a.repeated?Bs:Lp;r.push(new m({name:c,optional:h,idBlock:{tagClass:3,tagNumber:a.context}}))}else{this.cache(a.type);const m=!!a.repeated;let p=m?u:this.get(a.type,!0).schema;p="valueBlock"in p?p.valueBlock.value:p.value,r.push(new Bs({name:m?"":c,optional:h,idBlock:{tagClass:3,tagNumber:a.context},value:p}))}else r.push(new Bs({optional:h,idBlock:{tagClass:3,tagNumber:a.context},value:[u]}));else u.optional=h,r.push(u)}switch(s.type){case _e.Sequence:return new di({value:r,name:""});case _e.Set:return new Bi({value:r,name:""});case _e.Choice:return new jC({value:r,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,n){return this.items.set(e,n),this}findParentSchema(e){const n=Object.getPrototypeOf(e);return n?this.items.get(n)||this.findParentSchema(n):null}}const us=new jX,Ee=t=>e=>{let n;us.has(e)?n=us.get(e):(n=us.createDefault(e),us.set(e,n)),Object.assign(n,t)},F=t=>(e,n)=>{let s;us.has(e.constructor)?s=us.get(e.constructor):(s=us.createDefault(e.constructor),us.set(e.constructor,s));const r=Object.assign({},t);if(typeof r.type=="number"&&!r.converter){const i=If(t.type);if(!i)throw new Error(`Cannot get default converter for property '${n}' of ${e.constructor.name}`);r.converter=i}r.raw=t.raw,s.items[n]=r};class Rd extends Error{constructor(){super(...arguments),this.schemas=[]}}class TX{static parse(e,n){const s=Du(e);if(s.result.error)throw new Error(s.result.error);return this.fromASN(s.result,n)}static fromASN(e,n){try{if(_a(n))return new n().fromASN(e);const s=us.get(n);us.cache(n);let r=s.schema;const i=this.handleChoiceTypes(e,s,n,r);if(i?.result)return i.result;i?.targetSchema&&(r=i.targetSchema);const a=this.handleSequenceTypes(e,s,n,r),c=new n;return RB(n)?this.handleArrayTypes(e,s,n):(this.processSchemaItems(s,a,c),c)}catch(s){throw s instanceof Rd&&s.schemas.push(n.name),s}}static handleChoiceTypes(e,n,s,r){if(e.constructor===Bs&&n.type===_e.Choice&&e.idBlock.tagClass===3)for(const i in n.items){const a=n.items[i];if(a.context===e.idBlock.tagNumber&&a.implicit&&typeof a.type=="function"&&us.has(a.type)){const c=us.get(a.type);if(c&&c.type===_e.Sequence){const u=new di;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in u.valueBlock){u.valueBlock.value=e.valueBlock.value;const h=this.fromASN(u,a.type),m=new s;return m[i]=h,{result:m}}}}}else if(e.constructor===Bs&&n.type!==_e.Choice){const i=new Bs({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:n.schema.valueBlock.value});for(const a in n.items)delete e[a];return{targetSchema:i}}return null}static handleSequenceTypes(e,n,s,r){if(n.type===_e.Sequence){const i=So({},e,r);if(!i.verified)throw new Rd(`Data does not match to ${s.name} ASN1 schema.${i.result.error?` ${i.result.error}`:""}`);return i}else{const i=So({},e,r);if(!i.verified)throw new Rd(`Data does not match to ${s.name} ASN1 schema.${i.result.error?` ${i.result.error}`:""}`);return i}}static processRepeatedField(e,n,s){let r=e.slice(n);if(r.length===1&&r[0].constructor.name==="Sequence"){const i=r[0];i.valueBlock&&i.valueBlock.value&&Array.isArray(i.valueBlock.value)&&(r=i.valueBlock.value)}if(typeof s.type=="number"){const i=If(s.type);if(!i)throw new Error(`No converter for ASN.1 type ${s.type}`);return r.filter(a=>a&&a.valueBlock).map(a=>{try{return i.fromASN(a)}catch{return}}).filter(a=>a!==void 0)}else return r.filter(i=>i&&i.valueBlock).map(i=>{try{return this.fromASN(i,s.type)}catch{return}}).filter(i=>i!==void 0)}static processPrimitiveField(e,n){const s=If(n.type);if(!s)throw new Error(`No converter for ASN.1 type ${n.type}`);return s.fromASN(e)}static isOptionalChoiceField(e){return e.optional&&typeof e.type=="function"&&us.has(e.type)&&us.get(e.type).type===_e.Choice}static processOptionalChoiceField(e,n){try{return{processed:!0,value:this.fromASN(e,n.type)}}catch(s){if(s instanceof Rd&&/Wrong values for Choice type/.test(s.message))return{processed:!1};throw s}}static handleArrayTypes(e,n,s){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const r=n.itemType;if(typeof r=="number"){const i=If(r);if(!i)throw new Error(`Cannot get default converter for array item of ${s.name} ASN1 schema`);return s.from(e.valueBlock.value,a=>i.fromASN(a))}else return s.from(e.valueBlock.value,i=>this.fromASN(i,r))}static processSchemaItems(e,n,s){for(const r in e.items){const i=n.result[r];if(!i)continue;const a=e.items[r],c=a.type;let u;typeof c=="number"||_a(c)?u=this.processPrimitiveSchemaItem(i,a,c):u=this.processComplexSchemaItem(i,a,c),u&&typeof u=="object"&&"value"in u&&"raw"in u?(s[r]=u.value,s[`${r}Raw`]=u.raw):s[r]=u}}static processPrimitiveSchemaItem(e,n,s){var r;const i=(r=n.converter)!==null&&r!==void 0?r:_a(s)?new s:null;if(!i)throw new Error("Converter is empty");return n.repeated?this.processRepeatedPrimitiveItem(e,n,i):this.processSinglePrimitiveItem(e,n,s,i)}static processRepeatedPrimitiveItem(e,n,s){if(n.implicit){const r=n.repeated==="sequence"?di:Bi,i=new r;i.valueBlock=e.valueBlock;const a=Du(i.toBER(!1));if(a.offset===-1)throw new Error(`Cannot parse the child item. ${a.result.error}`);if(!("value"in a.result.valueBlock&&Array.isArray(a.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const c=a.result.valueBlock.value;return Array.from(c,u=>s.fromASN(u))}else return Array.from(e,r=>s.fromASN(r))}static processSinglePrimitiveItem(e,n,s,r){let i=e;if(n.implicit){let a;if(_a(s))a=new s().toSchema("");else{const c=se[s],u=jB[c];if(!u)throw new Error(`Cannot get '${c}' class from asn1js module`);a=new u}a.valueBlock=i.valueBlock,i=Du(a.toBER(!1)).result}return r.fromASN(i)}static processComplexSchemaItem(e,n,s){if(n.repeated){if(!Array.isArray(e))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");return Array.from(e,r=>this.fromASN(r,s))}else{const r=this.handleImplicitTagging(e,n,s);if(this.isOptionalChoiceField(n))try{return this.fromASN(r,s)}catch(i){if(i instanceof Rd&&/Wrong values for Choice type/.test(i.message))return;throw i}else{const i=this.fromASN(r,s);return n.raw?{value:i,raw:e.valueBeforeDecodeView}:i}}}static handleImplicitTagging(e,n,s){if(n.implicit&&typeof n.context=="number"){const r=us.get(s);if(r.type===_e.Sequence){const i=new di;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in i.valueBlock)return i.valueBlock.value=e.valueBlock.value,i}else if(r.type===_e.Set){const i=new Bi;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in i.valueBlock)return i.valueBlock.value=e.valueBlock.value,i}}return e}}class TC{static serialize(e){return e instanceof gs?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&_a(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");const n=e.constructor,s=us.get(n);us.cache(n);let r=[];if(s.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof s.itemType=="number"){const a=If(s.itemType);if(!a)throw new Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);r=e.map(c=>a.toASN(c))}else r=e.map(a=>this.toAsnItem({type:s.itemType},"[]",n,a))}else for(const a in s.items){const c=s.items[a],u=e[a];if(u===void 0||c.defaultValue===u||typeof c.defaultValue=="object"&&typeof u=="object"&&AX(this.serialize(c.defaultValue),this.serialize(u)))continue;const h=TC.toAsnItem(c,a,n,u);if(typeof c.context=="number")if(c.implicit)if(!c.repeated&&(typeof c.type=="number"||_a(c.type))){const m={};m.valueHex=h instanceof Vl?h.valueBeforeDecodeView:h.valueBlock.toBER(),r.push(new Lp({optional:c.optional,idBlock:{tagClass:3,tagNumber:c.context},...m}))}else r.push(new Bs({optional:c.optional,idBlock:{tagClass:3,tagNumber:c.context},value:h.valueBlock.value}));else r.push(new Bs({optional:c.optional,idBlock:{tagClass:3,tagNumber:c.context},value:[h]}));else c.repeated?r=r.concat(h):r.push(h)}let i;switch(s.type){case _e.Sequence:i=new di({value:r});break;case _e.Set:i=new Bi({value:r});break;case _e.Choice:if(!r[0])throw new Error(`Schema '${n.name}' has wrong data. Choice cannot be empty.`);i=r[0];break}return i}static toAsnItem(e,n,s,r){let i;if(typeof e.type=="number"){const a=e.converter;if(!a)throw new Error(`Property '${n}' doesn't have converter for type ${se[e.type]} in schema '${s.name}'`);if(e.repeated){if(!Array.isArray(r))throw new TypeError("Parameter 'objProp' should be type of Array.");const c=Array.from(r,h=>a.toASN(h)),u=e.repeated==="sequence"?di:Bi;i=new u({value:c})}else i=a.toASN(r)}else if(e.repeated){if(!Array.isArray(r))throw new TypeError("Parameter 'objProp' should be type of Array.");const a=Array.from(r,u=>this.toASN(u)),c=e.repeated==="sequence"?di:Bi;i=new c({value:a})}else i=this.toASN(r);return i}}class Ut extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(const n of e)this.push(n)}}}class Be{static serialize(e){return TC.serialize(e)}static parse(e,n){return TX.parse(e,n)}static toString(e){const n=Me.isBufferSource(e)?Me.toArrayBuffer(e):Be.serialize(e),s=Du(n);if(s.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${s.result.error}`);return s.result.toString()}}function L(t,e,n,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,s);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(r<3?a(i):r>3?a(e,n,i):a(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function vt(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}function un(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n}class qj{static isIPv4(e){return/^(\d{1,3}\.){3}\d{1,3}$/.test(e)}static parseIPv4(e){const n=e.split(".");if(n.length!==4)throw new Error("Invalid IPv4 address");return n.map(s=>{const r=parseInt(s,10);if(isNaN(r)||r<0||r>255)throw new Error("Invalid IPv4 address part");return r})}static parseIPv6(e){const s=this.expandIPv6(e).split(":");if(s.length!==8)throw new Error("Invalid IPv6 address");return s.reduce((r,i)=>{const a=parseInt(i,16);if(isNaN(a)||a<0||a>65535)throw new Error("Invalid IPv6 address part");return r.push(a>>8&255),r.push(a&255),r},[])}static expandIPv6(e){if(!e.includes("::"))return e;const n=e.split("::");if(n.length>2)throw new Error("Invalid IPv6 address");const s=n[0]?n[0].split(":"):[],r=n[1]?n[1].split(":"):[],i=8-(s.length+r.length);if(i<0)throw new Error("Invalid IPv6 address");return[...s,...Array(i).fill("0"),...r].join(":")}static formatIPv6(e){const n=[];for(let s=0;s<16;s+=2)n.push((e[s]<<8|e[s+1]).toString(16));return this.compressIPv6(n.join(":"))}static compressIPv6(e){const n=e.split(":");let s=-1,r=0,i=-1,a=0;for(let c=0;c<n.length;c++)n[c]==="0"?(i===-1&&(i=c),a++):(a>r&&(s=i,r=a),i=-1,a=0);if(a>r&&(s=i,r=a),r>1){const c=n.slice(0,s).join(":"),u=n.slice(s+r).join(":");return`${c}::${u}`}return e}static parseCIDR(e){const[n,s]=e.split("/"),r=parseInt(s,10);if(this.isIPv4(n)){if(r<0||r>32)throw new Error("Invalid IPv4 prefix length");return[this.parseIPv4(n),r]}else{if(r<0||r>128)throw new Error("Invalid IPv6 prefix length");return[this.parseIPv6(n),r]}}static decodeIP(e){if(e.length===64&&parseInt(e,16)===0)return"::/0";if(e.length!==16)return e;const n=parseInt(e.slice(8),16).toString(2).split("").reduce((r,i)=>r+ +i,0);let s=e.slice(0,8).replace(/(.{2})/g,r=>`${parseInt(r,16)}.`);return s=s.slice(0,-1),`${s}/${n}`}static toString(e){const n=new Uint8Array(e);if(n.length===4)return Array.from(n).join(".");if(n.length===16)return this.formatIPv6(n);if(n.length===8||n.length===32){const s=n.length/2,r=n.slice(0,s),i=n.slice(s);if(n.every(u=>u===0))return n.length===8?"0.0.0.0/0":"::/0";const c=i.reduce((u,h)=>u+(h.toString(2).match(/1/g)||[]).length,0);return n.length===8?`${Array.from(r).join(".")}/${c}`:`${this.formatIPv6(r)}/${c}`}return this.decodeIP(Xe.ToHex(e))}static fromString(e){if(e.includes("/")){const[s,r]=this.parseCIDR(e),i=new Uint8Array(s.length);let a=r;for(let u=0;u<i.length;u++)a>=8?(i[u]=255,a-=8):a>0&&(i[u]=255<<8-a,a=0);const c=new Uint8Array(s.length*2);return c.set(s,0),c.set(i,s.length),c.buffer}const n=this.isIPv4(e)?this.parseIPv4(e):this.parseIPv6(e);return new Uint8Array(n).buffer}}var oS,lS,cS;let ys=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};L([F({type:se.TeletexString})],ys.prototype,"teletexString",void 0);L([F({type:se.PrintableString})],ys.prototype,"printableString",void 0);L([F({type:se.UniversalString})],ys.prototype,"universalString",void 0);L([F({type:se.Utf8String})],ys.prototype,"utf8String",void 0);L([F({type:se.BmpString})],ys.prototype,"bmpString",void 0);ys=L([Ee({type:_e.Choice})],ys);let Hu=class extends ys{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?Xe.ToHex(this.anyValue):super.toString())}};L([F({type:se.IA5String})],Hu.prototype,"ia5String",void 0);L([F({type:se.Any})],Hu.prototype,"anyValue",void 0);Hu=L([Ee({type:_e.Choice})],Hu);class Hv{constructor(e={}){this.type="",this.value=new Hu,Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],Hv.prototype,"type",void 0);L([F({type:Hu})],Hv.prototype,"value",void 0);let Fu=oS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,oS.prototype)}};Fu=oS=L([Ee({type:_e.Set,itemType:Hv})],Fu);let uS=lS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,lS.prototype)}};uS=lS=L([Ee({type:_e.Sequence,itemType:Fu})],uS);let Fn=cS=class extends uS{constructor(e){super(e),Object.setPrototypeOf(this,cS.prototype)}};Fn=cS=L([Ee({type:_e.Sequence})],Fn);const RX={fromASN:t=>qj.toString(uy.fromASN(t)),toASN:t=>uy.toASN(qj.fromString(t))};class up{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],up.prototype,"typeId",void 0);L([F({type:se.Any,context:0})],up.prototype,"value",void 0);class RC{constructor(e={}){this.partyName=new ys,Object.assign(this,e)}}L([F({type:ys,optional:!0,context:0,implicit:!0})],RC.prototype,"nameAssigner",void 0);L([F({type:ys,context:1,implicit:!0})],RC.prototype,"partyName",void 0);let mt=class{constructor(e={}){Object.assign(this,e)}};L([F({type:up,context:0,implicit:!0})],mt.prototype,"otherName",void 0);L([F({type:se.IA5String,context:1,implicit:!0})],mt.prototype,"rfc822Name",void 0);L([F({type:se.IA5String,context:2,implicit:!0})],mt.prototype,"dNSName",void 0);L([F({type:se.Any,context:3,implicit:!0})],mt.prototype,"x400Address",void 0);L([F({type:Fn,context:4,implicit:!1})],mt.prototype,"directoryName",void 0);L([F({type:RC,context:5})],mt.prototype,"ediPartyName",void 0);L([F({type:se.IA5String,context:6,implicit:!0})],mt.prototype,"uniformResourceIdentifier",void 0);L([F({type:se.OctetString,context:7,implicit:!0,converter:RX})],mt.prototype,"iPAddress",void 0);L([F({type:se.ObjectIdentifier,context:8,implicit:!0})],mt.prototype,"registeredID",void 0);mt=L([Ee({type:_e.Choice})],mt);const OC="1.3.6.1.5.5.7",OX=`${OC}.1`,mh=`${OC}.3`,Fv=`${OC}.48`,Kj=`${Fv}.1`,Wj=`${Fv}.2`,Gj=`${Fv}.3`,Yj=`${Fv}.5`,La="2.5.29";var hS;const dS=`${OX}.1`;class $p{constructor(e={}){this.accessMethod="",this.accessLocation=new mt,Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],$p.prototype,"accessMethod",void 0);L([F({type:mt})],$p.prototype,"accessLocation",void 0);let Su=hS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,hS.prototype)}};Su=hS=L([Ee({type:_e.Sequence,itemType:$p})],Su);const fS=`${La}.35`;class MC extends Bt{}class Sl{constructor(e={}){e&&Object.assign(this,e)}}L([F({type:MC,context:0,optional:!0,implicit:!0})],Sl.prototype,"keyIdentifier",void 0);L([F({type:mt,context:1,optional:!0,implicit:!0,repeated:"sequence"})],Sl.prototype,"authorityCertIssuer",void 0);L([F({type:se.Integer,context:2,optional:!0,implicit:!0,converter:rn})],Sl.prototype,"authorityCertSerialNumber",void 0);const OB=`${La}.19`;class hy{constructor(e={}){this.cA=!1,Object.assign(this,e)}}L([F({type:se.Boolean,defaultValue:!1})],hy.prototype,"cA",void 0);L([F({type:se.Integer,optional:!0})],hy.prototype,"pathLenConstraint",void 0);var pS;let Cs=pS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,pS.prototype)}};Cs=pS=L([Ee({type:_e.Sequence,itemType:mt})],Cs);var mS;let Zj=mS=class extends Cs{constructor(e){super(e),Object.setPrototypeOf(this,mS.prototype)}};Zj=mS=L([Ee({type:_e.Sequence})],Zj);var gS;const MB=`${La}.32`;let Na=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};L([F({type:se.IA5String})],Na.prototype,"ia5String",void 0);L([F({type:se.VisibleString})],Na.prototype,"visibleString",void 0);L([F({type:se.BmpString})],Na.prototype,"bmpString",void 0);L([F({type:se.Utf8String})],Na.prototype,"utf8String",void 0);Na=L([Ee({type:_e.Choice})],Na);class DC{constructor(e={}){this.organization=new Na,this.noticeNumbers=[],Object.assign(this,e)}}L([F({type:Na})],DC.prototype,"organization",void 0);L([F({type:se.Integer,repeated:"sequence"})],DC.prototype,"noticeNumbers",void 0);class BC{constructor(e={}){Object.assign(this,e)}}L([F({type:DC,optional:!0})],BC.prototype,"noticeRef",void 0);L([F({type:Na,optional:!0})],BC.prototype,"explicitText",void 0);let dy=class{constructor(e={}){Object.assign(this,e)}};L([F({type:se.IA5String})],dy.prototype,"cPSuri",void 0);L([F({type:BC})],dy.prototype,"userNotice",void 0);dy=L([Ee({type:_e.Choice})],dy);class LC{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],LC.prototype,"policyQualifierId",void 0);L([F({type:se.Any})],LC.prototype,"qualifier",void 0);class Vv{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],Vv.prototype,"policyIdentifier",void 0);L([F({type:LC,repeated:"sequence",optional:!0})],Vv.prototype,"policyQualifiers",void 0);let fy=gS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,gS.prototype)}};fy=gS=L([Ee({type:_e.Sequence,itemType:Vv})],fy);let py=class{constructor(e=0){this.value=e}};L([F({type:se.Integer})],py.prototype,"value",void 0);py=L([Ee({type:_e.Choice})],py);let Xj=class extends py{};Xj=L([Ee({type:_e.Choice})],Xj);var yS;const vS=`${La}.31`;var ci;(function(t){t[t.unused=1]="unused",t[t.keyCompromise=2]="keyCompromise",t[t.cACompromise=4]="cACompromise",t[t.affiliationChanged=8]="affiliationChanged",t[t.superseded=16]="superseded",t[t.cessationOfOperation=32]="cessationOfOperation",t[t.certificateHold=64]="certificateHold",t[t.privilegeWithdrawn=128]="privilegeWithdrawn",t[t.aACompromise=256]="aACompromise"})(ci||(ci={}));class DB extends Uv{toJSON(){const e=[],n=this.toNumber();return n&ci.aACompromise&&e.push("aACompromise"),n&ci.affiliationChanged&&e.push("affiliationChanged"),n&ci.cACompromise&&e.push("cACompromise"),n&ci.certificateHold&&e.push("certificateHold"),n&ci.cessationOfOperation&&e.push("cessationOfOperation"),n&ci.keyCompromise&&e.push("keyCompromise"),n&ci.privilegeWithdrawn&&e.push("privilegeWithdrawn"),n&ci.superseded&&e.push("superseded"),n&ci.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}}let Kl=class{constructor(e={}){Object.assign(this,e)}};L([F({type:mt,context:0,repeated:"sequence",implicit:!0})],Kl.prototype,"fullName",void 0);L([F({type:Fu,context:1,implicit:!0})],Kl.prototype,"nameRelativeToCRLIssuer",void 0);Kl=L([Ee({type:_e.Choice})],Kl);class gh{constructor(e={}){Object.assign(this,e)}}L([F({type:Kl,context:0,optional:!0})],gh.prototype,"distributionPoint",void 0);L([F({type:DB,context:1,optional:!0,implicit:!0})],gh.prototype,"reasons",void 0);L([F({type:mt,context:2,optional:!0,repeated:"sequence",implicit:!0})],gh.prototype,"cRLIssuer",void 0);let Bu=yS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,yS.prototype)}};Bu=yS=L([Ee({type:_e.Sequence,itemType:gh})],Bu);var bS;let Jj=bS=class extends Bu{constructor(e){super(e),Object.setPrototypeOf(this,bS.prototype)}};Jj=bS=L([Ee({type:_e.Sequence,itemType:gh})],Jj);class ws{constructor(e={}){this.onlyContainsUserCerts=ws.ONLY,this.onlyContainsCACerts=ws.ONLY,this.indirectCRL=ws.ONLY,this.onlyContainsAttributeCerts=ws.ONLY,Object.assign(this,e)}}ws.ONLY=!1;L([F({type:Kl,context:0,optional:!0})],ws.prototype,"distributionPoint",void 0);L([F({type:se.Boolean,context:1,defaultValue:ws.ONLY,implicit:!0})],ws.prototype,"onlyContainsUserCerts",void 0);L([F({type:se.Boolean,context:2,defaultValue:ws.ONLY,implicit:!0})],ws.prototype,"onlyContainsCACerts",void 0);L([F({type:DB,context:3,optional:!0,implicit:!0})],ws.prototype,"onlySomeReasons",void 0);L([F({type:se.Boolean,context:4,defaultValue:ws.ONLY,implicit:!0})],ws.prototype,"indirectCRL",void 0);L([F({type:se.Boolean,context:5,defaultValue:ws.ONLY,implicit:!0})],ws.prototype,"onlyContainsAttributeCerts",void 0);var Pf;(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(Pf||(Pf={}));let _S=class{constructor(e=Pf.unspecified){this.reason=Pf.unspecified,this.reason=e}toJSON(){return Pf[this.reason]}toString(){return this.toJSON()}};L([F({type:se.Enumerated})],_S.prototype,"reason",void 0);_S=L([Ee({type:_e.Choice})],_S);var xS;const BB=`${La}.37`;let my=xS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,xS.prototype)}};my=xS=L([Ee({type:_e.Sequence,itemType:se.ObjectIdentifier})],my);const MX=`${mh}.1`,DX=`${mh}.2`,BX=`${mh}.3`,LX=`${mh}.4`,IX=`${mh}.8`,PX=`${mh}.9`;let wS=class{constructor(e=new ArrayBuffer(0)){this.value=e}};L([F({type:se.Integer,converter:rn})],wS.prototype,"value",void 0);wS=L([Ee({type:_e.Choice})],wS);let SS=class{constructor(e){this.value=new Date,e&&(this.value=e)}};L([F({type:se.GeneralizedTime})],SS.prototype,"value",void 0);SS=L([Ee({type:_e.Choice})],SS);var kS;const LB=`${La}.18`;let Qj=kS=class extends Cs{constructor(e){super(e),Object.setPrototypeOf(this,kS.prototype)}};Qj=kS=L([Ee({type:_e.Sequence})],Qj);const IB=`${La}.15`;var ui;(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(ui||(ui={}));class Rx extends Uv{toJSON(){const e=this.toNumber(),n=[];return e&ui.cRLSign&&n.push("crlSign"),e&ui.dataEncipherment&&n.push("dataEncipherment"),e&ui.decipherOnly&&n.push("decipherOnly"),e&ui.digitalSignature&&n.push("digitalSignature"),e&ui.encipherOnly&&n.push("encipherOnly"),e&ui.keyAgreement&&n.push("keyAgreement"),e&ui.keyCertSign&&n.push("keyCertSign"),e&ui.keyEncipherment&&n.push("keyEncipherment"),e&ui.nonRepudiation&&n.push("nonRepudiation"),n}toString(){return`[${this.toJSON().join(", ")}]`}}var CS;class qv{constructor(e={}){this.base=new mt,this.minimum=0,Object.assign(this,e)}}L([F({type:mt})],qv.prototype,"base",void 0);L([F({type:se.Integer,context:0,defaultValue:0,implicit:!0})],qv.prototype,"minimum",void 0);L([F({type:se.Integer,context:1,optional:!0,implicit:!0})],qv.prototype,"maximum",void 0);let gy=CS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,CS.prototype)}};gy=CS=L([Ee({type:_e.Sequence,itemType:qv})],gy);class PB{constructor(e={}){Object.assign(this,e)}}L([F({type:gy,context:0,optional:!0,implicit:!0})],PB.prototype,"permittedSubtrees",void 0);L([F({type:gy,context:1,optional:!0,implicit:!0})],PB.prototype,"excludedSubtrees",void 0);class $B{constructor(e={}){Object.assign(this,e)}}L([F({type:se.Integer,context:0,implicit:!0,optional:!0,converter:rn})],$B.prototype,"requireExplicitPolicy",void 0);L([F({type:se.Integer,context:1,implicit:!0,optional:!0,converter:rn})],$B.prototype,"inhibitPolicyMapping",void 0);var NS;class IC{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],IC.prototype,"issuerDomainPolicy",void 0);L([F({type:se.ObjectIdentifier})],IC.prototype,"subjectDomainPolicy",void 0);let eT=NS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,NS.prototype)}};eT=NS=L([Ee({type:_e.Sequence,itemType:IC})],eT);var ES;const zB=`${La}.17`;let AS=ES=class extends Cs{constructor(e){super(e),Object.setPrototypeOf(this,ES.prototype)}};AS=ES=L([Ee({type:_e.Sequence})],AS);let Ea=class{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}};L([F({type:se.ObjectIdentifier})],Ea.prototype,"type",void 0);L([F({type:se.Any,repeated:"set"})],Ea.prototype,"values",void 0);var jS;let tT=jS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,jS.prototype)}};tT=jS=L([Ee({type:_e.Sequence,itemType:Ea})],tT);const UB=`${La}.14`;class Do extends MC{}class HB{constructor(e={}){Object.assign(this,e)}}L([F({type:se.GeneralizedTime,context:0,implicit:!0,optional:!0})],HB.prototype,"notBefore",void 0);L([F({type:se.GeneralizedTime,context:1,implicit:!0,optional:!0})],HB.prototype,"notAfter",void 0);var $f;(function(t){t[t.keyUpdateAllowed=1]="keyUpdateAllowed",t[t.newExtensions=2]="newExtensions",t[t.pKIXCertificate=4]="pKIXCertificate"})($f||($f={}));class FB extends Uv{toJSON(){const e=[],n=this.toNumber();return n&$f.pKIXCertificate&&e.push("pKIXCertificate"),n&$f.newExtensions&&e.push("newExtensions"),n&$f.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}}class VB{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new FB,Object.assign(this,e)}}L([F({type:se.GeneralString})],VB.prototype,"entrustVers",void 0);L([F({type:FB})],VB.prototype,"entrustInfoFlags",void 0);var TS;let nT=TS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,TS.prototype)}};nT=TS=L([Ee({type:_e.Sequence,itemType:$p})],nT);class ze{constructor(e={}){this.algorithm="",Object.assign(this,e)}isEqual(e){return e instanceof ze&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&MD(e.parameters,this.parameters)||e.parameters===this.parameters)}}L([F({type:se.ObjectIdentifier})],ze.prototype,"algorithm",void 0);L([F({type:se.Any,optional:!0})],ze.prototype,"parameters",void 0);class Oi{constructor(e={}){this.algorithm=new ze,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:ze})],Oi.prototype,"algorithm",void 0);L([F({type:se.BitString})],Oi.prototype,"subjectPublicKey",void 0);let fs=class{constructor(e){if(e)if(typeof e=="string"||typeof e=="number"||e instanceof Date){const n=new Date(e);n.getUTCFullYear()>2049?this.generalTime=n:this.utcTime=n}else Object.assign(this,e)}getTime(){const e=this.utcTime||this.generalTime;if(!e)throw new Error("Cannot get time from CHOICE object");return e}};L([F({type:se.UTCTime})],fs.prototype,"utcTime",void 0);L([F({type:se.GeneralizedTime})],fs.prototype,"generalTime",void 0);fs=L([Ee({type:_e.Choice})],fs);class Kv{constructor(e){this.notBefore=new fs(new Date),this.notAfter=new fs(new Date),e&&(this.notBefore=new fs(e.notBefore),this.notAfter=new fs(e.notAfter))}}L([F({type:fs})],Kv.prototype,"notBefore",void 0);L([F({type:fs})],Kv.prototype,"notAfter",void 0);var RS;let gi=class qB{constructor(e={}){this.extnID="",this.critical=qB.CRITICAL,this.extnValue=new Bt,Object.assign(this,e)}};gi.CRITICAL=!1;L([F({type:se.ObjectIdentifier})],gi.prototype,"extnID",void 0);L([F({type:se.Boolean,defaultValue:gi.CRITICAL})],gi.prototype,"critical",void 0);L([F({type:Bt})],gi.prototype,"extnValue",void 0);let Wl=RS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,RS.prototype)}};Wl=RS=L([Ee({type:_e.Sequence,itemType:gi})],Wl);var Vu;(function(t){t[t.v1=0]="v1",t[t.v2=1]="v2",t[t.v3=2]="v3"})(Vu||(Vu={}));class ri{constructor(e={}){this.version=Vu.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new ze,this.issuer=new Fn,this.validity=new Kv,this.subject=new Fn,this.subjectPublicKeyInfo=new Oi,Object.assign(this,e)}}L([F({type:se.Integer,context:0,defaultValue:Vu.v1})],ri.prototype,"version",void 0);L([F({type:se.Integer,converter:rn})],ri.prototype,"serialNumber",void 0);L([F({type:ze})],ri.prototype,"signature",void 0);L([F({type:Fn})],ri.prototype,"issuer",void 0);L([F({type:Kv})],ri.prototype,"validity",void 0);L([F({type:Fn})],ri.prototype,"subject",void 0);L([F({type:Oi})],ri.prototype,"subjectPublicKeyInfo",void 0);L([F({type:se.BitString,context:1,implicit:!0,optional:!0})],ri.prototype,"issuerUniqueID",void 0);L([F({type:se.BitString,context:2,implicit:!0,optional:!0})],ri.prototype,"subjectUniqueID",void 0);L([F({type:Wl,context:3,optional:!0})],ri.prototype,"extensions",void 0);class qu{constructor(e={}){this.tbsCertificate=new ri,this.signatureAlgorithm=new ze,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:ri,raw:!0})],qu.prototype,"tbsCertificate",void 0);L([F({type:ze})],qu.prototype,"signatureAlgorithm",void 0);L([F({type:se.BitString})],qu.prototype,"signatureValue",void 0);class Wv{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new fs,Object.assign(this,e)}}L([F({type:se.Integer,converter:rn})],Wv.prototype,"userCertificate",void 0);L([F({type:fs})],Wv.prototype,"revocationDate",void 0);L([F({type:gi,optional:!0,repeated:"sequence"})],Wv.prototype,"crlEntryExtensions",void 0);class Ia{constructor(e={}){this.signature=new ze,this.issuer=new Fn,this.thisUpdate=new fs,Object.assign(this,e)}}L([F({type:se.Integer,optional:!0})],Ia.prototype,"version",void 0);L([F({type:ze})],Ia.prototype,"signature",void 0);L([F({type:Fn})],Ia.prototype,"issuer",void 0);L([F({type:fs})],Ia.prototype,"thisUpdate",void 0);L([F({type:fs,optional:!0})],Ia.prototype,"nextUpdate",void 0);L([F({type:Wv,repeated:"sequence",optional:!0})],Ia.prototype,"revokedCertificates",void 0);L([F({type:gi,optional:!0,context:0,repeated:"sequence"})],Ia.prototype,"crlExtensions",void 0);class PC{constructor(e={}){this.tbsCertList=new Ia,this.signatureAlgorithm=new ze,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:Ia,raw:!0})],PC.prototype,"tbsCertList",void 0);L([F({type:ze})],PC.prototype,"signatureAlgorithm",void 0);L([F({type:se.BitString})],PC.prototype,"signature",void 0);class yh{constructor(e={}){this.issuer=new Fn,this.serialNumber=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:Fn})],yh.prototype,"issuer",void 0);L([F({type:se.Integer,converter:rn})],yh.prototype,"serialNumber",void 0);let Ku=class{constructor(e={}){Object.assign(this,e)}};L([F({type:Do,context:0,implicit:!0})],Ku.prototype,"subjectKeyIdentifier",void 0);L([F({type:yh})],Ku.prototype,"issuerAndSerialNumber",void 0);Ku=L([Ee({type:_e.Choice})],Ku);var Aa;(function(t){t[t.v0=0]="v0",t[t.v1=1]="v1",t[t.v2=2]="v2",t[t.v3=3]="v3",t[t.v4=4]="v4",t[t.v5=5]="v5"})(Aa||(Aa={}));let hp=class extends ze{};hp=L([Ee({type:_e.Sequence})],hp);let yy=class extends ze{};yy=L([Ee({type:_e.Sequence})],yy);let zi=class extends ze{};zi=L([Ee({type:_e.Sequence})],zi);let vy=class extends ze{};vy=L([Ee({type:_e.Sequence})],vy);let sT=class extends ze{};sT=L([Ee({type:_e.Sequence})],sT);let OS=class extends ze{};OS=L([Ee({type:_e.Sequence})],OS);let vh=class{constructor(e={}){this.attrType="",this.attrValues=[],Object.assign(this,e)}};L([F({type:se.ObjectIdentifier})],vh.prototype,"attrType",void 0);L([F({type:se.Any,repeated:"set"})],vh.prototype,"attrValues",void 0);var MS;class Wi{constructor(e={}){this.version=Aa.v0,this.sid=new Ku,this.digestAlgorithm=new hp,this.signatureAlgorithm=new yy,this.signature=new Bt,Object.assign(this,e)}}L([F({type:se.Integer})],Wi.prototype,"version",void 0);L([F({type:Ku})],Wi.prototype,"sid",void 0);L([F({type:hp})],Wi.prototype,"digestAlgorithm",void 0);L([F({type:vh,repeated:"set",context:0,implicit:!0,optional:!0,raw:!0})],Wi.prototype,"signedAttrs",void 0);L([F({type:yy})],Wi.prototype,"signatureAlgorithm",void 0);L([F({type:Bt})],Wi.prototype,"signature",void 0);L([F({type:vh,repeated:"set",context:1,implicit:!0,optional:!0})],Wi.prototype,"unsignedAttrs",void 0);let by=MS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,MS.prototype)}};by=MS=L([Ee({type:_e.Set,itemType:Wi})],by);let rT=class extends Wi{};rT=L([Ee({type:_e.Sequence})],rT);let iT=class extends fs{};iT=L([Ee({type:_e.Choice})],iT);class $C{constructor(e={}){this.acIssuer=new mt,this.acSerial=0,this.attrs=[],Object.assign(this,e)}}L([F({type:mt})],$C.prototype,"acIssuer",void 0);L([F({type:se.Integer})],$C.prototype,"acSerial",void 0);L([F({type:Ea,repeated:"sequence"})],$C.prototype,"attrs",void 0);var DS;let _y=DS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,DS.prototype)}};_y=DS=L([Ee({type:_e.Sequence,itemType:se.ObjectIdentifier})],_y);class Gv{constructor(e={}){this.permitUnSpecified=!0,Object.assign(this,e)}}L([F({type:se.Integer,optional:!0})],Gv.prototype,"pathLenConstraint",void 0);L([F({type:_y,implicit:!0,context:0,optional:!0})],Gv.prototype,"permittedAttrs",void 0);L([F({type:_y,implicit:!0,context:1,optional:!0})],Gv.prototype,"excludedAttrs",void 0);L([F({type:se.Boolean,defaultValue:!0})],Gv.prototype,"permitUnSpecified",void 0);class hc{constructor(e={}){this.issuer=new Cs,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:Cs})],hc.prototype,"issuer",void 0);L([F({type:se.Integer,converter:rn})],hc.prototype,"serial",void 0);L([F({type:se.BitString,optional:!0})],hc.prototype,"issuerUID",void 0);var BS;(function(t){t[t.publicKey=0]="publicKey",t[t.publicKeyCert=1]="publicKeyCert",t[t.otherObjectTypes=2]="otherObjectTypes"})(BS||(BS={}));class dc{constructor(e={}){this.digestedObjectType=BS.publicKey,this.digestAlgorithm=new ze,this.objectDigest=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.Enumerated})],dc.prototype,"digestedObjectType",void 0);L([F({type:se.ObjectIdentifier,optional:!0})],dc.prototype,"otherObjectTypeID",void 0);L([F({type:ze})],dc.prototype,"digestAlgorithm",void 0);L([F({type:se.BitString})],dc.prototype,"objectDigest",void 0);class Yv{constructor(e={}){Object.assign(this,e)}}L([F({type:Cs,optional:!0})],Yv.prototype,"issuerName",void 0);L([F({type:hc,context:0,implicit:!0,optional:!0})],Yv.prototype,"baseCertificateID",void 0);L([F({type:dc,context:1,implicit:!0,optional:!0})],Yv.prototype,"objectDigestInfo",void 0);let Wu=class{constructor(e={}){Object.assign(this,e)}};L([F({type:mt,repeated:"sequence"})],Wu.prototype,"v1Form",void 0);L([F({type:Yv,context:0,implicit:!0})],Wu.prototype,"v2Form",void 0);Wu=L([Ee({type:_e.Choice})],Wu);class Zv{constructor(e={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,e)}}L([F({type:se.GeneralizedTime})],Zv.prototype,"notBeforeTime",void 0);L([F({type:se.GeneralizedTime})],Zv.prototype,"notAfterTime",void 0);class zp{constructor(e={}){Object.assign(this,e)}}L([F({type:hc,implicit:!0,context:0,optional:!0})],zp.prototype,"baseCertificateID",void 0);L([F({type:Cs,implicit:!0,context:1,optional:!0})],zp.prototype,"entityName",void 0);L([F({type:dc,implicit:!0,context:2,optional:!0})],zp.prototype,"objectDigestInfo",void 0);var LS;(function(t){t[t.v2=1]="v2"})(LS||(LS={}));class bi{constructor(e={}){this.version=LS.v2,this.holder=new zp,this.issuer=new Wu,this.signature=new ze,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new Zv,this.attributes=[],Object.assign(this,e)}}L([F({type:se.Integer})],bi.prototype,"version",void 0);L([F({type:zp})],bi.prototype,"holder",void 0);L([F({type:Wu})],bi.prototype,"issuer",void 0);L([F({type:ze})],bi.prototype,"signature",void 0);L([F({type:se.Integer,converter:rn})],bi.prototype,"serialNumber",void 0);L([F({type:Zv})],bi.prototype,"attrCertValidityPeriod",void 0);L([F({type:Ea,repeated:"sequence"})],bi.prototype,"attributes",void 0);L([F({type:se.BitString,optional:!0})],bi.prototype,"issuerUniqueID",void 0);L([F({type:Wl,optional:!0})],bi.prototype,"extensions",void 0);class Xv{constructor(e={}){this.acinfo=new bi,this.signatureAlgorithm=new ze,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:bi})],Xv.prototype,"acinfo",void 0);L([F({type:ze})],Xv.prototype,"signatureAlgorithm",void 0);L([F({type:se.BitString})],Xv.prototype,"signatureValue",void 0);var xy;(function(t){t[t.unmarked=1]="unmarked",t[t.unclassified=2]="unclassified",t[t.restricted=4]="restricted",t[t.confidential=8]="confidential",t[t.secret=16]="secret",t[t.topSecret=32]="topSecret"})(xy||(xy={}));class IS extends Uv{}class zC{constructor(e={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.ObjectIdentifier,implicit:!0,context:0})],zC.prototype,"type",void 0);L([F({type:se.Any,implicit:!0,context:1})],zC.prototype,"value",void 0);class UC{constructor(e={}){this.policyId="",this.classList=new IS(xy.unclassified),Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],UC.prototype,"policyId",void 0);L([F({type:IS,defaultValue:new IS(xy.unclassified)})],UC.prototype,"classList",void 0);L([F({type:zC,repeated:"set"})],UC.prototype,"securityCategories",void 0);class Jv{constructor(e={}){Object.assign(this,e)}}L([F({type:Bt})],Jv.prototype,"cotets",void 0);L([F({type:se.ObjectIdentifier})],Jv.prototype,"oid",void 0);L([F({type:se.Utf8String})],Jv.prototype,"string",void 0);class KB{constructor(e={}){this.values=[],Object.assign(this,e)}}L([F({type:Cs,implicit:!0,context:0,optional:!0})],KB.prototype,"policyAuthority",void 0);L([F({type:Jv,repeated:"sequence"})],KB.prototype,"values",void 0);var PS;class Qv{constructor(e={}){this.targetCertificate=new hc,Object.assign(this,e)}}L([F({type:hc})],Qv.prototype,"targetCertificate",void 0);L([F({type:mt,optional:!0})],Qv.prototype,"targetName",void 0);L([F({type:dc,optional:!0})],Qv.prototype,"certDigestInfo",void 0);let Gu=class{constructor(e={}){Object.assign(this,e)}};L([F({type:mt,context:0,implicit:!0})],Gu.prototype,"targetName",void 0);L([F({type:mt,context:1,implicit:!0})],Gu.prototype,"targetGroup",void 0);L([F({type:Qv,context:2,implicit:!0})],Gu.prototype,"targetCert",void 0);Gu=L([Ee({type:_e.Choice})],Gu);let $S=PS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,PS.prototype)}};$S=PS=L([Ee({type:_e.Sequence,itemType:Gu})],$S);var zS;let aT=zS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,zS.prototype)}};aT=zS=L([Ee({type:_e.Sequence,itemType:$S})],aT);class WB{constructor(e={}){Object.assign(this,e)}}L([F({type:Cs,implicit:!0,context:0,optional:!0})],WB.prototype,"roleAuthority",void 0);L([F({type:mt,implicit:!0,context:1})],WB.prototype,"roleName",void 0);class HC{constructor(e={}){this.service=new mt,this.ident=new mt,Object.assign(this,e)}}L([F({type:mt})],HC.prototype,"service",void 0);L([F({type:mt})],HC.prototype,"ident",void 0);L([F({type:Bt,optional:!0})],HC.prototype,"authInfo",void 0);var US;class FC{constructor(e={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],FC.prototype,"otherCertFormat",void 0);L([F({type:se.Any})],FC.prototype,"otherCert",void 0);let Yu=class{constructor(e={}){Object.assign(this,e)}};L([F({type:qu})],Yu.prototype,"certificate",void 0);L([F({type:Xv,context:2,implicit:!0})],Yu.prototype,"v2AttrCert",void 0);L([F({type:FC,context:3,implicit:!0})],Yu.prototype,"other",void 0);Yu=L([Ee({type:_e.Choice})],Yu);let wy=US=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,US.prototype)}};wy=US=L([Ee({type:_e.Set,itemType:Yu})],wy);class bh{constructor(e={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],bh.prototype,"contentType",void 0);L([F({type:se.Any,context:0})],bh.prototype,"content",void 0);let dp=class{constructor(e={}){Object.assign(this,e)}};L([F({type:Bt})],dp.prototype,"single",void 0);L([F({type:se.Any})],dp.prototype,"any",void 0);dp=L([Ee({type:_e.Choice})],dp);class eb{constructor(e={}){this.eContentType="",Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],eb.prototype,"eContentType",void 0);L([F({type:dp,context:0,optional:!0})],eb.prototype,"eContent",void 0);let fp=class{constructor(e={}){Object.assign(this,e)}};L([F({type:Bt,context:0,implicit:!0,optional:!0})],fp.prototype,"value",void 0);L([F({type:Bt,converter:fX,context:0,implicit:!0,optional:!0,repeated:"sequence"})],fp.prototype,"constructedValue",void 0);fp=L([Ee({type:_e.Choice})],fp);class Up{constructor(e={}){this.contentType="",this.contentEncryptionAlgorithm=new vy,Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],Up.prototype,"contentType",void 0);L([F({type:vy})],Up.prototype,"contentEncryptionAlgorithm",void 0);L([F({type:fp,optional:!0})],Up.prototype,"encryptedContent",void 0);class tb{constructor(e={}){this.keyAttrId="",Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],tb.prototype,"keyAttrId",void 0);L([F({type:se.Any,optional:!0})],tb.prototype,"keyAttr",void 0);var HS;class nb{constructor(e={}){this.subjectKeyIdentifier=new Do,Object.assign(this,e)}}L([F({type:Do})],nb.prototype,"subjectKeyIdentifier",void 0);L([F({type:se.GeneralizedTime,optional:!0})],nb.prototype,"date",void 0);L([F({type:tb,optional:!0})],nb.prototype,"other",void 0);let Zu=class{constructor(e={}){Object.assign(this,e)}};L([F({type:nb,context:0,implicit:!0,optional:!0})],Zu.prototype,"rKeyId",void 0);L([F({type:yh,optional:!0})],Zu.prototype,"issuerAndSerialNumber",void 0);Zu=L([Ee({type:_e.Choice})],Zu);class VC{constructor(e={}){this.rid=new Zu,this.encryptedKey=new Bt,Object.assign(this,e)}}L([F({type:Zu})],VC.prototype,"rid",void 0);L([F({type:Bt})],VC.prototype,"encryptedKey",void 0);let Sy=HS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,HS.prototype)}};Sy=HS=L([Ee({type:_e.Sequence,itemType:VC})],Sy);class qC{constructor(e={}){this.algorithm=new ze,this.publicKey=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:ze})],qC.prototype,"algorithm",void 0);L([F({type:se.BitString})],qC.prototype,"publicKey",void 0);let Gl=class{constructor(e={}){Object.assign(this,e)}};L([F({type:Do,context:0,implicit:!0,optional:!0})],Gl.prototype,"subjectKeyIdentifier",void 0);L([F({type:qC,context:1,implicit:!0,optional:!0})],Gl.prototype,"originatorKey",void 0);L([F({type:yh,optional:!0})],Gl.prototype,"issuerAndSerialNumber",void 0);Gl=L([Ee({type:_e.Choice})],Gl);class _h{constructor(e={}){this.version=Aa.v3,this.originator=new Gl,this.keyEncryptionAlgorithm=new zi,this.recipientEncryptedKeys=new Sy,Object.assign(this,e)}}L([F({type:se.Integer})],_h.prototype,"version",void 0);L([F({type:Gl,context:0})],_h.prototype,"originator",void 0);L([F({type:Bt,context:1,optional:!0})],_h.prototype,"ukm",void 0);L([F({type:zi})],_h.prototype,"keyEncryptionAlgorithm",void 0);L([F({type:Sy})],_h.prototype,"recipientEncryptedKeys",void 0);let Xu=class{constructor(e={}){Object.assign(this,e)}};L([F({type:Do,context:0,implicit:!0})],Xu.prototype,"subjectKeyIdentifier",void 0);L([F({type:yh})],Xu.prototype,"issuerAndSerialNumber",void 0);Xu=L([Ee({type:_e.Choice})],Xu);class Hp{constructor(e={}){this.version=Aa.v0,this.rid=new Xu,this.keyEncryptionAlgorithm=new zi,this.encryptedKey=new Bt,Object.assign(this,e)}}L([F({type:se.Integer})],Hp.prototype,"version",void 0);L([F({type:Xu})],Hp.prototype,"rid",void 0);L([F({type:zi})],Hp.prototype,"keyEncryptionAlgorithm",void 0);L([F({type:Bt})],Hp.prototype,"encryptedKey",void 0);class Fp{constructor(e={}){this.keyIdentifier=new Bt,Object.assign(this,e)}}L([F({type:Bt})],Fp.prototype,"keyIdentifier",void 0);L([F({type:se.GeneralizedTime,optional:!0})],Fp.prototype,"date",void 0);L([F({type:tb,optional:!0})],Fp.prototype,"other",void 0);class Vp{constructor(e={}){this.version=Aa.v4,this.kekid=new Fp,this.keyEncryptionAlgorithm=new zi,this.encryptedKey=new Bt,Object.assign(this,e)}}L([F({type:se.Integer})],Vp.prototype,"version",void 0);L([F({type:Fp})],Vp.prototype,"kekid",void 0);L([F({type:zi})],Vp.prototype,"keyEncryptionAlgorithm",void 0);L([F({type:Bt})],Vp.prototype,"encryptedKey",void 0);class qp{constructor(e={}){this.version=Aa.v0,this.keyEncryptionAlgorithm=new zi,this.encryptedKey=new Bt,Object.assign(this,e)}}L([F({type:se.Integer})],qp.prototype,"version",void 0);L([F({type:OS,context:0,optional:!0})],qp.prototype,"keyDerivationAlgorithm",void 0);L([F({type:zi})],qp.prototype,"keyEncryptionAlgorithm",void 0);L([F({type:Bt})],qp.prototype,"encryptedKey",void 0);class KC{constructor(e={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],KC.prototype,"oriType",void 0);L([F({type:se.Any})],KC.prototype,"oriValue",void 0);let zo=class{constructor(e={}){Object.assign(this,e)}};L([F({type:Hp,optional:!0})],zo.prototype,"ktri",void 0);L([F({type:_h,context:1,implicit:!0,optional:!0})],zo.prototype,"kari",void 0);L([F({type:Vp,context:2,implicit:!0,optional:!0})],zo.prototype,"kekri",void 0);L([F({type:qp,context:3,implicit:!0,optional:!0})],zo.prototype,"pwri",void 0);L([F({type:KC,context:4,implicit:!0,optional:!0})],zo.prototype,"ori",void 0);zo=L([Ee({type:_e.Choice})],zo);var FS;let ky=FS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,FS.prototype)}};ky=FS=L([Ee({type:_e.Set,itemType:zo})],ky);var VS;class sb{constructor(e={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],sb.prototype,"otherRevInfoFormat",void 0);L([F({type:se.Any})],sb.prototype,"otherRevInfo",void 0);let Cy=class{constructor(e={}){this.other=new sb,Object.assign(this,e)}};L([F({type:sb,context:1,implicit:!0})],Cy.prototype,"other",void 0);Cy=L([Ee({type:_e.Choice})],Cy);let Ny=VS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,VS.prototype)}};Ny=VS=L([Ee({type:_e.Set,itemType:Cy})],Ny);class WC{constructor(e={}){Object.assign(this,e)}}L([F({type:wy,context:0,implicit:!0,optional:!0})],WC.prototype,"certs",void 0);L([F({type:Ny,context:1,implicit:!0,optional:!0})],WC.prototype,"crls",void 0);var qS;let KS=qS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,qS.prototype)}};KS=qS=L([Ee({type:_e.Set,itemType:vh})],KS);class Kp{constructor(e={}){this.version=Aa.v0,this.recipientInfos=new ky,this.encryptedContentInfo=new Up,Object.assign(this,e)}}L([F({type:se.Integer})],Kp.prototype,"version",void 0);L([F({type:WC,context:0,implicit:!0,optional:!0})],Kp.prototype,"originatorInfo",void 0);L([F({type:ky})],Kp.prototype,"recipientInfos",void 0);L([F({type:Up})],Kp.prototype,"encryptedContentInfo",void 0);L([F({type:KS,context:1,implicit:!0,optional:!0})],Kp.prototype,"unprotectedAttrs",void 0);const $X="1.2.840.113549.1.7.2";var WS;let Ey=WS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,WS.prototype)}};Ey=WS=L([Ee({type:_e.Set,itemType:hp})],Ey);class xh{constructor(e={}){this.version=Aa.v0,this.digestAlgorithms=new Ey,this.encapContentInfo=new eb,this.signerInfos=new by,Object.assign(this,e)}}L([F({type:se.Integer})],xh.prototype,"version",void 0);L([F({type:Ey})],xh.prototype,"digestAlgorithms",void 0);L([F({type:eb})],xh.prototype,"encapContentInfo",void 0);L([F({type:wy,context:0,implicit:!0,optional:!0})],xh.prototype,"certificates",void 0);L([F({type:Ny,context:1,implicit:!0,optional:!0})],xh.prototype,"crls",void 0);L([F({type:by})],xh.prototype,"signerInfos",void 0);const pp="1.2.840.10045.2.1",GC="1.2.840.10045.4.1",GB="1.2.840.10045.4.3.1",YC="1.2.840.10045.4.3.2",ZC="1.2.840.10045.4.3.3",XC="1.2.840.10045.4.3.4",oT="1.2.840.10045.3.1.7",lT="1.3.132.0.34",cT="1.3.132.0.35";function Wp(t){return new ze({algorithm:t})}const zX=Wp(GC);Wp(GB);const UX=Wp(YC),HX=Wp(ZC),FX=Wp(XC);let mp=class{constructor(e={}){Object.assign(this,e)}};L([F({type:se.ObjectIdentifier})],mp.prototype,"fieldType",void 0);L([F({type:se.Any})],mp.prototype,"parameters",void 0);mp=L([Ee({type:_e.Sequence})],mp);class VX extends Bt{}let Ju=class{constructor(e={}){Object.assign(this,e)}};L([F({type:se.OctetString})],Ju.prototype,"a",void 0);L([F({type:se.OctetString})],Ju.prototype,"b",void 0);L([F({type:se.BitString,optional:!0})],Ju.prototype,"seed",void 0);Ju=L([Ee({type:_e.Sequence})],Ju);var GS;(function(t){t[t.ecpVer1=1]="ecpVer1"})(GS||(GS={}));let ja=class{constructor(e={}){this.version=GS.ecpVer1,Object.assign(this,e)}};L([F({type:se.Integer})],ja.prototype,"version",void 0);L([F({type:mp})],ja.prototype,"fieldID",void 0);L([F({type:Ju})],ja.prototype,"curve",void 0);L([F({type:VX})],ja.prototype,"base",void 0);L([F({type:se.Integer,converter:rn})],ja.prototype,"order",void 0);L([F({type:se.Integer,optional:!0})],ja.prototype,"cofactor",void 0);ja=L([Ee({type:_e.Sequence})],ja);let Uo=class{constructor(e={}){Object.assign(this,e)}};L([F({type:se.ObjectIdentifier})],Uo.prototype,"namedCurve",void 0);L([F({type:se.Null})],Uo.prototype,"implicitCurve",void 0);L([F({type:ja})],Uo.prototype,"specifiedCurve",void 0);Uo=L([Ee({type:_e.Choice})],Uo);class rb{constructor(e={}){this.version=1,this.privateKey=new Bt,Object.assign(this,e)}}L([F({type:se.Integer})],rb.prototype,"version",void 0);L([F({type:Bt})],rb.prototype,"privateKey",void 0);L([F({type:Uo,context:0,optional:!0})],rb.prototype,"parameters",void 0);L([F({type:se.BitString,context:1,optional:!0})],rb.prototype,"publicKey",void 0);class Ay{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.Integer,converter:rn})],Ay.prototype,"r",void 0);L([F({type:se.Integer,converter:rn})],Ay.prototype,"s",void 0);const sr="1.2.840.113549.1.1",Yl=`${sr}.1`,qX=`${sr}.7`,KX=`${sr}.9`,zf=`${sr}.10`,WX=`${sr}.2`,GX=`${sr}.4`,jy=`${sr}.5`,YX=`${sr}.14`,YS=`${sr}.11`,Ty=`${sr}.12`,Ry=`${sr}.13`,YB=`${sr}.15`,ZB=`${sr}.16`,Oy="1.3.14.3.2.26",XB="2.16.840.1.101.3.4.2.4",My="2.16.840.1.101.3.4.2.1",Dy="2.16.840.1.101.3.4.2.2",By="2.16.840.1.101.3.4.2.3",ZX="2.16.840.1.101.3.4.2.5",XX="2.16.840.1.101.3.4.2.6",JX="1.2.840.113549.2.2",QX="1.2.840.113549.2.5",ib=`${sr}.8`;function Gn(t){return new ze({algorithm:t,parameters:null})}Gn(JX);Gn(QX);const Zl=Gn(Oy);Gn(XB);Gn(My);Gn(Dy);Gn(By);Gn(ZX);Gn(XX);const JB=new ze({algorithm:ib,parameters:Be.serialize(Zl)}),QB=new ze({algorithm:KX,parameters:Be.serialize(uy.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});Gn(Yl);Gn(WX);Gn(GX);Gn(jy);Gn(YB);Gn(ZB);Gn(Ty);Gn(Ry);Gn(YB);Gn(ZB);class ab{constructor(e={}){this.hashAlgorithm=new ze(Zl),this.maskGenAlgorithm=new ze({algorithm:ib,parameters:Be.serialize(Zl)}),this.pSourceAlgorithm=new ze(QB),Object.assign(this,e)}}L([F({type:ze,context:0,defaultValue:Zl})],ab.prototype,"hashAlgorithm",void 0);L([F({type:ze,context:1,defaultValue:JB})],ab.prototype,"maskGenAlgorithm",void 0);L([F({type:ze,context:2,defaultValue:QB})],ab.prototype,"pSourceAlgorithm",void 0);new ze({algorithm:qX,parameters:Be.serialize(new ab)});class Xl{constructor(e={}){this.hashAlgorithm=new ze(Zl),this.maskGenAlgorithm=new ze({algorithm:ib,parameters:Be.serialize(Zl)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}}L([F({type:ze,context:0,defaultValue:Zl})],Xl.prototype,"hashAlgorithm",void 0);L([F({type:ze,context:1,defaultValue:JB})],Xl.prototype,"maskGenAlgorithm",void 0);L([F({type:se.Integer,context:2,defaultValue:20})],Xl.prototype,"saltLength",void 0);L([F({type:se.Integer,context:3,defaultValue:1})],Xl.prototype,"trailerField",void 0);new ze({algorithm:zf,parameters:Be.serialize(new Xl)});class ob{constructor(e={}){this.digestAlgorithm=new ze,this.digest=new Bt,Object.assign(this,e)}}L([F({type:ze})],ob.prototype,"digestAlgorithm",void 0);L([F({type:Bt})],ob.prototype,"digest",void 0);var ZS;class lb{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.Integer,converter:rn})],lb.prototype,"prime",void 0);L([F({type:se.Integer,converter:rn})],lb.prototype,"exponent",void 0);L([F({type:se.Integer,converter:rn})],lb.prototype,"coefficient",void 0);let XS=ZS=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,ZS.prototype)}};XS=ZS=L([Ee({type:_e.Sequence,itemType:lb})],XS);class Gi{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.Integer})],Gi.prototype,"version",void 0);L([F({type:se.Integer,converter:rn})],Gi.prototype,"modulus",void 0);L([F({type:se.Integer,converter:rn})],Gi.prototype,"publicExponent",void 0);L([F({type:se.Integer,converter:rn})],Gi.prototype,"privateExponent",void 0);L([F({type:se.Integer,converter:rn})],Gi.prototype,"prime1",void 0);L([F({type:se.Integer,converter:rn})],Gi.prototype,"prime2",void 0);L([F({type:se.Integer,converter:rn})],Gi.prototype,"exponent1",void 0);L([F({type:se.Integer,converter:rn})],Gi.prototype,"exponent2",void 0);L([F({type:se.Integer,converter:rn})],Gi.prototype,"coefficient",void 0);L([F({type:XS,optional:!0})],Gi.prototype,"otherPrimeInfos",void 0);class JC{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.Integer,converter:rn})],JC.prototype,"modulus",void 0);L([F({type:se.Integer,converter:rn})],JC.prototype,"publicExponent",void 0);var JS;(function(t){t[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton",t[t.ResolutionScoped=2]="ResolutionScoped",t[t.ContainerScoped=3]="ContainerScoped"})(JS||(JS={}));const Ys=JS;var QS=function(t,e){return QS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var r in s)s.hasOwnProperty(r)&&(n[r]=s[r])},QS(t,e)};function QC(t,e){QS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function eJ(t,e,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(m){try{h(s.next(m))}catch(p){a(p)}}function u(m){try{h(s.throw(m))}catch(p){a(p)}}function h(m){m.done?i(m.value):r(m.value).then(c,u)}h((s=s.apply(t,[])).next())})}function tJ(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,r,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(m){return u([h,m])}}function u(h){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,r&&(i=h[0]&2?r.return:h[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,h[1])).done)return i;switch(r=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,r=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){n.label=h[1];break}if(h[0]===6&&n.label<i[1]){n.label=i[1],i=h;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(h);break}i[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(m){h=[6,m],r=0}finally{s=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Pg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ly(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),r,i=[],a;try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(c){a={error:c}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return i}function bl(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ly(arguments[e]));return t}var nJ="injectionTokens";function sJ(t){var e=Reflect.getMetadata("design:paramtypes",t)||[],n=Reflect.getOwnMetadata(nJ,t)||{};return Object.keys(n).forEach(function(s){e[+s]=n[s]}),e}function eL(t){return!!t.useClass}function ek(t){return!!t.useFactory}var tL=(function(){function t(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return t.prototype.createProxy=function(e){var n=this,s={},r=!1,i,a=function(){return r||(i=e(n.wrap()),r=!0),i};return new Proxy(s,this.createHandler(a))},t.prototype.createHandler=function(e){var n={},s=function(r){n[r]=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];i[0]=e();var c=Reflect[r];return c.apply(void 0,bl(i))}};return this.reflectMethods.forEach(s),n},t})();function su(t){return typeof t=="string"||typeof t=="symbol"}function rJ(t){return typeof t=="object"&&"token"in t&&"multiple"in t}function uT(t){return typeof t=="object"&&"token"in t&&"transform"in t}function iJ(t){return typeof t=="function"||t instanceof tL}function g0(t){return!!t.useToken}function y0(t){return t.useValue!=null}function aJ(t){return eL(t)||y0(t)||g0(t)||ek(t)}var eN=(function(){function t(){this._registryMap=new Map}return t.prototype.entries=function(){return this._registryMap.entries()},t.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},t.prototype.get=function(e){this.ensure(e);var n=this._registryMap.get(e);return n[n.length-1]||null},t.prototype.set=function(e,n){this.ensure(e),this._registryMap.get(e).push(n)},t.prototype.setAll=function(e,n){this._registryMap.set(e,n)},t.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},t.prototype.clear=function(){this._registryMap.clear()},t.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},t})(),oJ=(function(t){QC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(eN),$g=(function(){function t(){this.scopedResolutions=new Map}return t})();function lJ(t,e){if(t===null)return"at position #"+e;var n=t.split(",")[e].trim();return'"'+n+'" at position #'+e}function cJ(t,e,n){return n===void 0&&(n="    "),bl([t],e.message.split(`
`).map(function(s){return n+s})).join(`
`)}function uJ(t,e,n){var s=Ly(t.toString().match(/constructor\(([\w, ]+)\)/)||[],2),r=s[1],i=r===void 0?null:r,a=lJ(i,e);return cJ("Cannot inject the dependency "+a+' of "'+t.name+'" constructor. Reason:',n)}function hJ(t){if(typeof t.dispose!="function")return!1;var e=t.dispose;return!(e.length>0)}var dJ=(function(t){QC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(eN),fJ=(function(t){QC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(eN),pJ=(function(){function t(){this.preResolution=new dJ,this.postResolution=new fJ}return t})(),nL=new Map,mJ=(function(){function t(e){this.parent=e,this._registry=new oJ,this.interceptors=new pJ,this.disposed=!1,this.disposables=new Set}return t.prototype.register=function(e,n,s){s===void 0&&(s={lifecycle:Ys.Transient}),this.ensureNotDisposed();var r;if(aJ(n)?r=n:r={useClass:n},g0(r))for(var i=[e],a=r;a!=null;){var c=a.useToken;if(i.includes(c))throw new Error("Token registration cycle detected! "+bl(i,[c]).join(" -> "));i.push(c);var u=this._registry.get(c);u&&g0(u.provider)?a=u.provider:a=null}if((s.lifecycle===Ys.Singleton||s.lifecycle==Ys.ContainerScoped||s.lifecycle==Ys.ResolutionScoped)&&(y0(r)||ek(r)))throw new Error('Cannot use lifecycle "'+Ys[s.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:r,options:s}),this},t.prototype.registerType=function(e,n){return this.ensureNotDisposed(),su(n)?this.register(e,{useToken:n}):this.register(e,{useClass:n})},t.prototype.registerInstance=function(e,n){return this.ensureNotDisposed(),this.register(e,{useValue:n})},t.prototype.registerSingleton=function(e,n){if(this.ensureNotDisposed(),su(e)){if(su(n))return this.register(e,{useToken:n},{lifecycle:Ys.Singleton});if(n)return this.register(e,{useClass:n},{lifecycle:Ys.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var s=e;return n&&!su(n)&&(s=n),this.register(e,{useClass:s},{lifecycle:Ys.Singleton})},t.prototype.resolve=function(e,n,s){n===void 0&&(n=new $g),s===void 0&&(s=!1),this.ensureNotDisposed();var r=this.getRegistration(e);if(!r&&su(e)){if(s)return;throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"Single"),r){var i=this.resolveRegistration(r,n);return this.executePostResolutionInterceptor(e,i,"Single"),i}if(iJ(e)){var i=this.construct(e,n);return this.executePostResolutionInterceptor(e,i,"Single"),i}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},t.prototype.executePreResolutionInterceptor=function(e,n){var s,r;if(this.interceptors.preResolution.has(e)){var i=[];try{for(var a=Pg(this.interceptors.preResolution.getAll(e)),c=a.next();!c.done;c=a.next()){var u=c.value;u.options.frequency!="Once"&&i.push(u),u.callback(e,n)}}catch(h){s={error:h}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(s)throw s.error}}this.interceptors.preResolution.setAll(e,i)}},t.prototype.executePostResolutionInterceptor=function(e,n,s){var r,i;if(this.interceptors.postResolution.has(e)){var a=[];try{for(var c=Pg(this.interceptors.postResolution.getAll(e)),u=c.next();!u.done;u=c.next()){var h=u.value;h.options.frequency!="Once"&&a.push(h),h.callback(e,n,s)}}catch(m){r={error:m}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}this.interceptors.postResolution.setAll(e,a)}},t.prototype.resolveRegistration=function(e,n){if(this.ensureNotDisposed(),e.options.lifecycle===Ys.ResolutionScoped&&n.scopedResolutions.has(e))return n.scopedResolutions.get(e);var s=e.options.lifecycle===Ys.Singleton,r=e.options.lifecycle===Ys.ContainerScoped,i=s||r,a;return y0(e.provider)?a=e.provider.useValue:g0(e.provider)?a=i?e.instance||(e.instance=this.resolve(e.provider.useToken,n)):this.resolve(e.provider.useToken,n):eL(e.provider)?a=i?e.instance||(e.instance=this.construct(e.provider.useClass,n)):this.construct(e.provider.useClass,n):ek(e.provider)?a=e.provider.useFactory(this):a=this.construct(e.provider,n),e.options.lifecycle===Ys.ResolutionScoped&&n.scopedResolutions.set(e,a),a},t.prototype.resolveAll=function(e,n,s){var r=this;n===void 0&&(n=new $g),s===void 0&&(s=!1),this.ensureNotDisposed();var i=this.getAllRegistrations(e);if(!i&&su(e)){if(s)return[];throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"All"),i){var a=i.map(function(u){return r.resolveRegistration(u,n)});return this.executePostResolutionInterceptor(e,a,"All"),a}var c=[this.construct(e,n)];return this.executePostResolutionInterceptor(e,c,"All"),c},t.prototype.isRegistered=function(e,n){return n===void 0&&(n=!1),this.ensureNotDisposed(),this._registry.has(e)||n&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},t.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},t.prototype.clearInstances=function(){var e,n;this.ensureNotDisposed();try{for(var s=Pg(this._registry.entries()),r=s.next();!r.done;r=s.next()){var i=Ly(r.value,2),a=i[0],c=i[1];this._registry.setAll(a,c.filter(function(u){return!y0(u.provider)}).map(function(u){return u.instance=void 0,u}))}}catch(u){e={error:u}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.createChildContainer=function(){var e,n;this.ensureNotDisposed();var s=new t(this);try{for(var r=Pg(this._registry.entries()),i=r.next();!i.done;i=r.next()){var a=Ly(i.value,2),c=a[0],u=a[1];u.some(function(h){var m=h.options;return m.lifecycle===Ys.ContainerScoped})&&s._registry.setAll(c,u.map(function(h){return h.options.lifecycle===Ys.ContainerScoped?{provider:h.provider,options:h.options}:h}))}}catch(h){e={error:h}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return s},t.prototype.beforeResolution=function(e,n,s){s===void 0&&(s={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:n,options:s})},t.prototype.afterResolution=function(e,n,s){s===void 0&&(s={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:n,options:s})},t.prototype.dispose=function(){return eJ(this,void 0,void 0,function(){var e;return tJ(this,function(n){switch(n.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach(function(s){var r=s.dispose();r&&e.push(r)}),[4,Promise.all(e)];case 1:return n.sent(),[2]}})})},t.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},t.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},t.prototype.construct=function(e,n){var s=this;if(e instanceof tL)return e.createProxy(function(i){return s.resolve(i,n)});var r=(function(){var i=nL.get(e);if(!i||i.length===0){if(e.length===0)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var a=i.map(s.resolveParams(n,e));return new(e.bind.apply(e,bl([void 0],a)))})();return hJ(r)&&this.disposables.add(r),r},t.prototype.resolveParams=function(e,n){var s=this;return function(r,i){var a,c,u;try{return rJ(r)?uT(r)?r.multiple?(a=s.resolve(r.transform)).transform.apply(a,bl([s.resolveAll(r.token,new $g,r.isOptional)],r.transformArgs)):(c=s.resolve(r.transform)).transform.apply(c,bl([s.resolve(r.token,e,r.isOptional)],r.transformArgs)):r.multiple?s.resolveAll(r.token,new $g,r.isOptional):s.resolve(r.token,e,r.isOptional):uT(r)?(u=s.resolve(r.transform,e)).transform.apply(u,bl([s.resolve(r.token,e)],r.transformArgs)):s.resolve(r,e)}catch(h){throw new Error(uJ(n,i,h))}}},t.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},t})(),Is=new mJ;function cb(t){return function(e){nL.set(e,sJ(e))}}if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);var tk;class ub{constructor(e={}){this.attrId="",this.attrValues=[],Object.assign(e)}}L([F({type:se.ObjectIdentifier})],ub.prototype,"attrId",void 0);L([F({type:se.Any,repeated:"set"})],ub.prototype,"attrValues",void 0);let hT=tk=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,tk.prototype)}};hT=tk=L([Ee({type:_e.Sequence,itemType:ub})],hT);var nk;let dT=nk=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,nk.prototype)}};dT=nk=L([Ee({type:_e.Sequence,itemType:bh})],dT);class sL{constructor(e={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],sL.prototype,"certId",void 0);L([F({type:se.Any,context:0})],sL.prototype,"certValue",void 0);class rL{constructor(e={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],rL.prototype,"crlId",void 0);L([F({type:se.Any,context:0})],rL.prototype,"crltValue",void 0);class iL extends Bt{}let hb=class{constructor(e={}){this.encryptionAlgorithm=new ze,this.encryptedData=new iL,Object.assign(this,e)}};L([F({type:ze})],hb.prototype,"encryptionAlgorithm",void 0);L([F({type:iL})],hb.prototype,"encryptedData",void 0);var sk,rk;(function(t){t[t.v1=0]="v1"})(rk||(rk={}));class aL extends Bt{}let ik=sk=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,sk.prototype)}};ik=sk=L([Ee({type:_e.Sequence,itemType:Ea})],ik);class Gp{constructor(e={}){this.version=rk.v1,this.privateKeyAlgorithm=new ze,this.privateKey=new aL,Object.assign(this,e)}}L([F({type:se.Integer})],Gp.prototype,"version",void 0);L([F({type:ze})],Gp.prototype,"privateKeyAlgorithm",void 0);L([F({type:aL})],Gp.prototype,"privateKey",void 0);L([F({type:ik,implicit:!0,context:0,optional:!0})],Gp.prototype,"attributes",void 0);let fT=class extends Gp{};fT=L([Ee({type:_e.Sequence})],fT);let pT=class extends hb{};pT=L([Ee({type:_e.Sequence})],pT);class oL{constructor(e={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],oL.prototype,"secretTypeId",void 0);L([F({type:se.Any,context:0})],oL.prototype,"secretValue",void 0);class Yp{constructor(e={}){this.mac=new ob,this.macSalt=new Bt,this.iterations=1,Object.assign(this,e)}}L([F({type:ob})],Yp.prototype,"mac",void 0);L([F({type:Bt})],Yp.prototype,"macSalt",void 0);L([F({type:se.Integer,defaultValue:1})],Yp.prototype,"iterations",void 0);class db{constructor(e={}){this.version=3,this.authSafe=new bh,this.macData=new Yp,Object.assign(this,e)}}L([F({type:se.Integer})],db.prototype,"version",void 0);L([F({type:bh})],db.prototype,"authSafe",void 0);L([F({type:Yp,optional:!0})],db.prototype,"macData",void 0);var ak;class fb{constructor(e={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:se.ObjectIdentifier})],fb.prototype,"bagId",void 0);L([F({type:se.Any,context:0})],fb.prototype,"bagValue",void 0);L([F({type:ub,repeated:"set",optional:!0})],fb.prototype,"bagAttributes",void 0);let mT=ak=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,ak.prototype)}};mT=ak=L([Ee({type:_e.Sequence,itemType:fb})],mT);var ok,lk,ck;const lL="1.2.840.113549.1.9",cL=`${lL}.7`,tN=`${lL}.14`;let Iy=class extends ys{constructor(e={}){super(e)}toString(){return this.ia5String||super.toString()}};L([F({type:se.IA5String})],Iy.prototype,"ia5String",void 0);Iy=L([Ee({type:_e.Choice})],Iy);let gT=class extends bh{};gT=L([Ee({type:_e.Sequence})],gT);let yT=class extends db{};yT=L([Ee({type:_e.Sequence})],yT);let vT=class extends hb{};vT=L([Ee({type:_e.Sequence})],vT);let uk=class{constructor(e=""){this.value=e}toString(){return this.value}};L([F({type:se.IA5String})],uk.prototype,"value",void 0);uk=L([Ee({type:_e.Choice})],uk);let bT=class extends Iy{};bT=L([Ee({type:_e.Choice})],bT);let _T=class extends ys{};_T=L([Ee({type:_e.Choice})],_T);let hk=class{constructor(e=new Date){this.value=e}};L([F({type:se.GeneralizedTime})],hk.prototype,"value",void 0);hk=L([Ee({type:_e.Choice})],hk);let xT=class extends ys{};xT=L([Ee({type:_e.Choice})],xT);let dk=class{constructor(e="M"){this.value=e}toString(){return this.value}};L([F({type:se.PrintableString})],dk.prototype,"value",void 0);dk=L([Ee({type:_e.Choice})],dk);let Py=class{constructor(e=""){this.value=e}toString(){return this.value}};L([F({type:se.PrintableString})],Py.prototype,"value",void 0);Py=L([Ee({type:_e.Choice})],Py);let wT=class extends Py{};wT=L([Ee({type:_e.Choice})],wT);let ST=class extends ys{};ST=L([Ee({type:_e.Choice})],ST);let fk=class{constructor(e=""){this.value=e}toString(){return this.value}};L([F({type:se.ObjectIdentifier})],fk.prototype,"value",void 0);fk=L([Ee({type:_e.Choice})],fk);let kT=class extends fs{};kT=L([Ee({type:_e.Choice})],kT);let pk=class{constructor(e=0){this.value=e}toString(){return this.value.toString()}};L([F({type:se.Integer})],pk.prototype,"value",void 0);pk=L([Ee({type:_e.Choice})],pk);let CT=class extends Wi{};CT=L([Ee({type:_e.Sequence})],CT);let $y=class extends ys{};$y=L([Ee({type:_e.Choice})],$y);let NT=ok=class extends Wl{constructor(e){super(e),Object.setPrototypeOf(this,ok.prototype)}};NT=ok=L([Ee({type:_e.Sequence})],NT);let ET=lk=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,lk.prototype)}};ET=lk=L([Ee({type:_e.Set,itemType:vh})],ET);let mk=class{constructor(e=""){this.value=e}toString(){return this.value}};L([F({type:se.BmpString})],mk.prototype,"value",void 0);mk=L([Ee({type:_e.Choice})],mk);let gk=class extends ze{};gk=L([Ee({type:_e.Sequence})],gk);let AT=ck=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,ck.prototype)}};AT=ck=L([Ee({type:_e.Sequence,itemType:gk})],AT);var yk;let zy=yk=class extends Ut{constructor(e){super(e),Object.setPrototypeOf(this,yk.prototype)}};zy=yk=L([Ee({type:_e.Sequence,itemType:Ea})],zy);class wh{constructor(e={}){this.version=0,this.subject=new Fn,this.subjectPKInfo=new Oi,this.attributes=new zy,Object.assign(this,e)}}L([F({type:se.Integer})],wh.prototype,"version",void 0);L([F({type:Fn})],wh.prototype,"subject",void 0);L([F({type:Oi})],wh.prototype,"subjectPKInfo",void 0);L([F({type:zy,implicit:!0,context:0,optional:!0})],wh.prototype,"attributes",void 0);class gp{constructor(e={}){this.certificationRequestInfo=new wh,this.signatureAlgorithm=new ze,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}L([F({type:wh,raw:!0})],gp.prototype,"certificationRequestInfo",void 0);L([F({type:ze})],gp.prototype,"signatureAlgorithm",void 0);L([F({type:se.BitString})],gp.prototype,"signature",void 0);const Zp="crypto.algorithm";class gJ{getAlgorithms(){return Is.resolveAll(Zp)}toAsnAlgorithm(e){({...e});for(const n of this.getAlgorithms()){const s=n.toAsnAlgorithm(e);if(s)return s}if(/^[0-9.]+$/.test(e.name)){const n=new ze({algorithm:e.name});if("parameters"in e){const s=e;n.parameters=s.parameters}return n}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(e){for(const s of this.getAlgorithms()){const r=s.toWebAlgorithm(e);if(r)return r}return{name:e.algorithm,parameters:e.parameters}}}const Qu="crypto.algorithmProvider";Is.registerSingleton(Qu,gJ);var v0;const rr="1.3.36.3.3.2.8.1.1",jT=`${rr}.1`,TT=`${rr}.2`,RT=`${rr}.3`,OT=`${rr}.4`,MT=`${rr}.5`,DT=`${rr}.6`,BT=`${rr}.7`,LT=`${rr}.8`,IT=`${rr}.9`,PT=`${rr}.10`,$T=`${rr}.11`,zT=`${rr}.12`,UT=`${rr}.13`,HT=`${rr}.14`,FT="brainpoolP160r1",VT="brainpoolP160t1",qT="brainpoolP192r1",KT="brainpoolP192t1",WT="brainpoolP224r1",GT="brainpoolP224t1",YT="brainpoolP256r1",ZT="brainpoolP256t1",XT="brainpoolP320r1",JT="brainpoolP320t1",QT="brainpoolP384r1",eR="brainpoolP384t1",tR="brainpoolP512r1",nR="brainpoolP512t1",pn="ECDSA";let yp=v0=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case pn.toLowerCase():if("hash"in e)switch((typeof e.hash=="string"?e.hash:e.hash.name).toLowerCase()){case"sha-1":return zX;case"sha-256":return UX;case"sha-384":return HX;case"sha-512":return FX}else if("namedCurve"in e){let n="";switch(e.namedCurve){case"P-256":n=oT;break;case"K-256":n=v0.SECP256K1;break;case"P-384":n=lT;break;case"P-521":n=cT;break;case FT:n=jT;break;case VT:n=TT;break;case qT:n=RT;break;case KT:n=OT;break;case WT:n=MT;break;case GT:n=DT;break;case YT:n=BT;break;case ZT:n=LT;break;case XT:n=IT;break;case JT:n=PT;break;case QT:n=$T;break;case eR:n=zT;break;case tR:n=UT;break;case nR:n=HT;break}if(n)return new ze({algorithm:pp,parameters:Be.serialize(new Uo({namedCurve:n}))})}}return null}toWebAlgorithm(e){switch(e.algorithm){case GC:return{name:pn,hash:{name:"SHA-1"}};case YC:return{name:pn,hash:{name:"SHA-256"}};case ZC:return{name:pn,hash:{name:"SHA-384"}};case XC:return{name:pn,hash:{name:"SHA-512"}};case pp:{if(!e.parameters)throw new TypeError("Cannot get required parameters from EC algorithm");switch(Be.parse(e.parameters,Uo).namedCurve){case oT:return{name:pn,namedCurve:"P-256"};case v0.SECP256K1:return{name:pn,namedCurve:"K-256"};case lT:return{name:pn,namedCurve:"P-384"};case cT:return{name:pn,namedCurve:"P-521"};case jT:return{name:pn,namedCurve:FT};case TT:return{name:pn,namedCurve:VT};case RT:return{name:pn,namedCurve:qT};case OT:return{name:pn,namedCurve:KT};case MT:return{name:pn,namedCurve:WT};case DT:return{name:pn,namedCurve:GT};case BT:return{name:pn,namedCurve:YT};case LT:return{name:pn,namedCurve:ZT};case IT:return{name:pn,namedCurve:XT};case PT:return{name:pn,namedCurve:JT};case $T:return{name:pn,namedCurve:QT};case zT:return{name:pn,namedCurve:eR};case UT:return{name:pn,namedCurve:tR};case HT:return{name:pn,namedCurve:nR}}}}return null}};yp.SECP256K1="1.3.132.0.10";yp=v0=L([cb()],yp);Is.registerSingleton(Zp,yp);const uL=Symbol("name"),hL=Symbol("value");class Pt{constructor(e,n={},s=""){this[uL]=e,this[hL]=s;for(const r in n)this[r]=n[r]}}Pt.NAME=uL;Pt.VALUE=hL;class yJ{static toTextObject(e){const n=new Pt("Algorithm Identifier",{},Vo.toString(e.algorithm));if(e.parameters)if(e.algorithm===pp){const s=new yp().toWebAlgorithm(e);s&&"namedCurve"in s?n["Named Curve"]=s.namedCurve:n.Parameters=e.parameters}else n.Parameters=e.parameters;return n}}class Vo{static toString(e){const n=this.items[e];return n||e}}Vo.items={[Oy]:"sha1",[XB]:"sha224",[My]:"sha256",[Dy]:"sha384",[By]:"sha512",[Yl]:"rsaEncryption",[jy]:"sha1WithRSAEncryption",[YX]:"sha224WithRSAEncryption",[YS]:"sha256WithRSAEncryption",[Ty]:"sha384WithRSAEncryption",[Ry]:"sha512WithRSAEncryption",[pp]:"ecPublicKey",[GC]:"ecdsaWithSHA1",[GB]:"ecdsaWithSHA224",[YC]:"ecdsaWithSHA256",[ZC]:"ecdsaWithSHA384",[XC]:"ecdsaWithSHA512",[MX]:"TLS WWW server authentication",[DX]:"TLS WWW client authentication",[BX]:"Code Signing",[LX]:"E-mail Protection",[IX]:"Time Stamping",[PX]:"OCSP Signing",[$X]:"Signed Data"};class Jl{static serialize(e){return this.serializeObj(e).join(`
`)}static pad(e=0){return"".padStart(2*e," ")}static serializeObj(e,n=0){const s=[];let r=this.pad(n++),i="";const a=e[Pt.VALUE];a&&(i=` ${a}`),s.push(`${r}${e[Pt.NAME]}:${i}`),r=this.pad(n);for(const c in e){if(typeof c=="symbol")continue;const u=e[c],h=c?`${c}: `:"";if(typeof u=="string"||typeof u=="number"||typeof u=="boolean")s.push(`${r}${h}${u}`);else if(u instanceof Date)s.push(`${r}${h}${u.toUTCString()}`);else if(Array.isArray(u))for(const m of u)m[Pt.NAME]=c,s.push(...this.serializeObj(m,n));else if(u instanceof Pt)u[Pt.NAME]=c,s.push(...this.serializeObj(u,n));else if(Me.isBufferSource(u))c?(s.push(`${r}${h}`),s.push(...this.serializeBufferSource(u,n+1))):s.push(...this.serializeBufferSource(u,n));else if("toTextObject"in u){const m=u.toTextObject();m[Pt.NAME]=c,s.push(...this.serializeObj(m,n))}else throw new TypeError("Cannot serialize data in text format. Unsupported type.")}return s}static serializeBufferSource(e,n=0){const s=this.pad(n),r=Me.toUint8Array(e),i=[];for(let a=0;a<r.length;){const c=[];for(let u=0;u<16&&a<r.length;u++){u===8&&c.push("");const h=r[a++].toString(16).padStart(2,"0");c.push(h)}i.push(`${s}${c.join(" ")}`)}return i}static serializeAlgorithm(e){return this.algorithmSerializer.toTextObject(e)}}Jl.oidSerializer=Vo;Jl.algorithmSerializer=yJ;var pu;class qo{get rawData(){return vt(this,pu,"f")||un(this,pu,Be.serialize(this.asn),"f"),vt(this,pu,"f")}constructor(...e){pu.set(this,void 0),Me.isBufferSource(e[0])?(this.asn=Be.parse(e[0],e[1]),un(this,pu,Me.toArrayBuffer(e[0]),"f"),this.onInit(this.asn)):(this.asn=e[0],this.onInit(this.asn))}equal(e){return e instanceof qo?MD(e.rawData,this.rawData):!1}toString(e="text"){switch(e){case"asn":return Be.toString(this.rawData);case"text":return Jl.serialize(this.toTextObject());case"hex":return Xe.ToHex(this.rawData);case"base64":return Xe.ToBase64(this.rawData);case"base64url":return Xe.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){return this.constructor.NAME}toTextObject(){const e=this.toTextObjectEmpty();return e[""]=this.rawData,e}toTextObjectEmpty(e){return new Pt(this.getTextName(),{},e)}}pu=new WeakMap;qo.NAME="ASN";class jr extends qo{constructor(...e){let n;Me.isBufferSource(e[0])?n=Me.toArrayBuffer(e[0]):n=Be.serialize(new gi({extnID:e[0],critical:e[1],extnValue:new Bt(Me.toArrayBuffer(e[2]))})),super(n,gi)}onInit(e){this.type=e.extnID,this.critical=e.critical,this.value=e.extnValue.buffer}toTextObject(){const e=this.toTextObjectWithoutValue();return e[""]=this.value,e}toTextObjectWithoutValue(){const e=this.toTextObjectEmpty(this.critical?"critical":void 0);return e[Pt.NAME]===jr.NAME&&(e[Pt.NAME]=Vo.toString(this.type)),e}}var dL;class ko{static isCryptoKeyPair(e){return e&&e.privateKey&&e.publicKey}static isCryptoKey(e){return e&&e.usages&&e.type&&e.algorithm&&e.extractable!==void 0}constructor(){this.items=new Map,this[dL]="CryptoProvider",typeof self<"u"&&typeof crypto<"u"?this.set(ko.DEFAULT,crypto):typeof global<"u"&&global.crypto&&global.crypto.subtle&&this.set(ko.DEFAULT,global.crypto)}clear(){this.items.clear()}delete(e){return this.items.delete(e)}forEach(e,n){return this.items.forEach(e,n)}has(e){return this.items.has(e)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(e=ko.DEFAULT){const n=this.items.get(e.toLowerCase());if(!n)throw new Error(`Cannot get Crypto by name '${e}'`);return n}set(e,n){if(typeof e=="string"){if(!n)throw new TypeError("Argument 'value' is required");this.items.set(e.toLowerCase(),n)}else this.items.set(ko.DEFAULT,e);return this}}dL=Symbol.toStringTag;ko.DEFAULT="default";const Ms=new ko,vJ=/^[0-2](?:\.[1-9][0-9]*)+$/;function bJ(t){return new RegExp(vJ).test(t)}class fL{constructor(e={}){this.items={};for(const n in e)this.register(n,e[n])}get(e){return this.items[e]||null}findId(e){return bJ(e)?e:this.get(e)}register(e,n){this.items[e]=n,this.items[n]=e}}const nr=new fL;nr.register("CN","2.5.4.3");nr.register("L","2.5.4.7");nr.register("ST","2.5.4.8");nr.register("O","2.5.4.10");nr.register("OU","2.5.4.11");nr.register("C","2.5.4.6");nr.register("DC","0.9.2342.19200300.100.1.25");nr.register("E","1.2.840.113549.1.9.1");nr.register("G","2.5.4.42");nr.register("I","2.5.4.43");nr.register("SN","2.5.4.4");nr.register("T","2.5.4.12");function _J(t,e){return`\\${Xe.ToHex(Xe.FromUtf8String(e)).toUpperCase()}`}function xJ(t){return t.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,_J)}class Ql{static isASCII(e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)>255)return!1;return!0}static isPrintableString(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/g.test(e)}constructor(e,n={}){this.extraNames=new fL,this.asn=new Fn;for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)){const r=n[s];this.extraNames.register(s,r)}typeof e=="string"?this.asn=this.fromString(e):e instanceof Fn?this.asn=e:Me.isBufferSource(e)?this.asn=Be.parse(e,Fn):this.asn=this.fromJSON(e)}getField(e){const n=this.extraNames.findId(e)||nr.findId(e),s=[];for(const r of this.asn)for(const i of r)i.type===n&&s.push(i.value.toString());return s}getName(e){return this.extraNames.get(e)||nr.get(e)}toString(){return this.asn.map(e=>e.map(n=>{const s=this.getName(n.type)||n.type,r=n.value.anyValue?`#${Xe.ToHex(n.value.anyValue)}`:xJ(n.value.toString());return`${s}=${r}`}).join("+")).join(", ")}toJSON(){var e;const n=[];for(const s of this.asn){const r={};for(const i of s){const a=this.getName(i.type)||i.type;(e=r[a])!==null&&e!==void 0||(r[a]=[]),r[a].push(i.value.anyValue?`#${Xe.ToHex(i.value.anyValue)}`:i.value.toString())}n.push(r)}return n}fromString(e){const n=new Fn,s=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+"\\](?=[,+]|$))|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g;let r=null,i=",";for(;r=s.exec(`${e},`);){let[,a,c]=r;const u=c[c.length-1];(u===","||u==="+")&&(c=c.slice(0,c.length-1),r[3]=u);const h=r[3];a=this.getTypeOid(a);const m=this.createAttribute(a,c);i==="+"?n[n.length-1].push(m):n.push(new Fu([m])),i=h}return n}fromJSON(e){const n=new Fn;for(const s of e){const r=new Fu;for(const i in s){const a=this.getTypeOid(i),c=s[i];for(const u of c){const h=this.createAttribute(a,u);r.push(h)}}n.push(r)}return n}getTypeOid(e){if(/[\d.]+/.test(e)||(e=this.getName(e)||""),!e)throw new Error(`Cannot get OID for name type '${e}'`);return e}createAttribute(e,n){const s=new Hv({type:e});if(typeof n=="object")for(const r in n)switch(r){case"ia5String":s.value.ia5String=n[r];break;case"utf8String":s.value.utf8String=n[r];break;case"universalString":s.value.universalString=n[r];break;case"bmpString":s.value.bmpString=n[r];break;case"printableString":s.value.printableString=n[r];break}else if(n[0]==="#")s.value.anyValue=Xe.FromHex(n.slice(1));else{const r=this.processStringValue(n);e===this.getName("E")||e===this.getName("DC")?s.value.ia5String=r:Ql.isPrintableString(r)?s.value.printableString=r:s.value.utf8String=r}return s}processStringValue(e){const n=/"(.*?[^\\])?"/.exec(e);return n&&(e=n[1]),e.replace(/\\0a/ig,`
`).replace(/\\0d/ig,"\r").replace(/\\0g/ig,"	").replace(/\\(.)/g,"$1")}toArrayBuffer(){return Be.serialize(this.asn)}async getThumbprint(...e){var n;let s,r="SHA-1";return e.length>=1&&!(!((n=e[0])===null||n===void 0)&&n.subtle)?(r=e[0]||r,s=e[1]||Ms.get()):s=e[0]||Ms.get(),await s.subtle.digest(r,this.toArrayBuffer())}}const pL="Cannot initialize GeneralName from ASN.1 data.",sR=`${pL} Unsupported string format in use.`,wJ=`${pL} Value doesn't match to GUID regular expression.`,rR=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i,iR="1.3.6.1.4.1.311.25.1",aR="1.3.6.1.4.1.311.20.2.3",Ox="dns",Mx="dn",Dx="email",Bx="ip",Lx="url",Ix="guid",Px="upn",zg="id";class Co extends qo{constructor(...e){let n;if(e.length===2)switch(e[0]){case Mx:{const s=new Ql(e[1]).toArrayBuffer(),r=Be.parse(s,Fn);n=new mt({directoryName:r});break}case Ox:n=new mt({dNSName:e[1]});break;case Dx:n=new mt({rfc822Name:e[1]});break;case Ix:{const s=new RegExp(rR,"i").exec(e[1]);if(!s)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");const r=s.slice(1).map((i,a)=>a<3?Xe.ToHex(new Uint8Array(Xe.FromHex(i)).reverse()):i).join("");n=new mt({otherName:new up({typeId:iR,value:Be.serialize(new Bt(Xe.FromHex(r)))})});break}case Bx:n=new mt({iPAddress:e[1]});break;case zg:n=new mt({registeredID:e[1]});break;case Px:{n=new mt({otherName:new up({typeId:aR,value:Be.serialize(TB.toASN(e[1]))})});break}case Lx:n=new mt({uniformResourceIdentifier:e[1]});break;default:throw new Error("Cannot create GeneralName. Unsupported type of the name")}else Me.isBufferSource(e[0])?n=Be.parse(e[0],mt):n=e[0];super(n)}onInit(e){if(e.dNSName!=null)this.type=Ox,this.value=e.dNSName;else if(e.rfc822Name!=null)this.type=Dx,this.value=e.rfc822Name;else if(e.iPAddress!=null)this.type=Bx,this.value=e.iPAddress;else if(e.uniformResourceIdentifier!=null)this.type=Lx,this.value=e.uniformResourceIdentifier;else if(e.registeredID!=null)this.type=zg,this.value=e.registeredID;else if(e.directoryName!=null)this.type=Mx,this.value=new Ql(e.directoryName).toString();else if(e.otherName!=null)if(e.otherName.typeId===iR){this.type=Ix;const n=Be.parse(e.otherName.value,Bt),s=new RegExp(rR,"i").exec(Xe.ToHex(n));if(!s)throw new Error(wJ);this.value=s.slice(1).map((r,i)=>i<3?Xe.ToHex(new Uint8Array(Xe.FromHex(r)).reverse()):r).join("-")}else if(e.otherName.typeId===aR)this.type=Px,this.value=Be.parse(e.otherName.value,ys).toString();else throw new Error(sR);else throw new Error(sR)}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let e;switch(this.type){case Mx:case Ox:case Ix:case Bx:case zg:case Px:case Lx:e=this.type.toUpperCase();break;case Dx:e="Email";break;default:throw new Error("Unsupported GeneralName type")}let n=this.value;return this.type===zg&&(n=Vo.toString(n)),new Pt(e,void 0,n)}}class ec extends qo{constructor(e){let n;if(e instanceof Cs)n=e;else if(Array.isArray(e)){const s=[];for(const r of e)if(r instanceof mt)s.push(r);else{const i=Be.parse(new Co(r.type,r.value).rawData,mt);s.push(i)}n=new Cs(s)}else if(Me.isBufferSource(e))n=Be.parse(e,Cs);else throw new Error("Cannot initialize GeneralNames. Incorrect incoming arguments");super(n)}onInit(e){const n=[];for(const s of e){let r=null;try{r=new Co(s)}catch{continue}n.push(r)}this.items=n}toJSON(){return this.items.map(e=>e.toJSON())}toTextObject(){const e=super.toTextObjectEmpty();for(const n of this.items){const s=n.toTextObject();let r=e[s[Pt.NAME]];Array.isArray(r)||(r=[],e[s[Pt.NAME]]=r),r.push(s)}return e}}ec.NAME="GeneralNames";const Uf="-{5}",vp="\\n",SJ=`[^${vp}]+`,kJ=`${Uf}BEGIN (${SJ}(?=${Uf}))${Uf}`,CJ=`${Uf}END \\1${Uf}`,eh="\\n",NJ=`[^:${vp}]+`,EJ=`(?:[^${vp}]+${eh}(?: +[^${vp}]+${eh})*)`,AJ="[a-zA-Z0-9=+/]+",jJ=`(?:${AJ}${eh})+`,oR=`${kJ}${eh}(?:((?:${NJ}: ${EJ})+))?${eh}?(${jJ})${CJ}`;class Sr{static isPem(e){return typeof e=="string"&&new RegExp(oR,"g").test(e.replace(/\r/g,""))}static decodeWithHeaders(e){e=e.replace(/\r/g,"");const n=new RegExp(oR,"g"),s=[];let r=null;for(;r=n.exec(e);){const i=r[3].replace(new RegExp(`[${vp}]+`,"g"),""),a={type:r[1],headers:[],rawData:Xe.FromBase64(i)},c=r[2];if(c){const u=c.split(new RegExp(eh,"g"));let h=null;for(const m of u){const[p,y]=m.split(/:(.*)/);if(y===void 0){if(!h)throw new Error("Cannot parse PEM string. Incorrect header value");h.value+=p.trim()}else h&&a.headers.push(h),h={key:p,value:y.trim()}}h&&a.headers.push(h)}s.push(a)}return s}static decode(e){return this.decodeWithHeaders(e).map(s=>s.rawData)}static decodeFirst(e){const n=this.decode(e);if(!n.length)throw new RangeError("PEM string doesn't contain any objects");return n[0]}static encode(e,n){if(Array.isArray(e)){const s=new Array;return n?e.forEach(r=>{if(!Me.isBufferSource(r))throw new TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource");s.push(this.encodeStruct({type:n,rawData:Me.toArrayBuffer(r)}))}):e.forEach(r=>{if(!("type"in r))throw new TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut");s.push(this.encodeStruct(r))}),s.join(`
`)}else{if(!n)throw new Error("Required argument 'tag' is missed");return this.encodeStruct({type:n,rawData:Me.toArrayBuffer(e)})}}static encodeStruct(e){var n;const s=e.type.toLocaleUpperCase(),r=[];if(r.push(`-----BEGIN ${s}-----`),!((n=e.headers)===null||n===void 0)&&n.length){for(const h of e.headers)r.push(`${h.key}: ${h.value}`);r.push("")}const i=Xe.ToBase64(e.rawData);let a,c=0;const u=Array();for(;c<i.length&&(i.length-c<64?a=i.substring(c):(a=i.substring(c,c+64),c+=64),a.length!==0);)if(u.push(a),a.length<64)break;return r.push(...u),r.push(`-----END ${s}-----`),r.join(`
`)}}Sr.CertificateTag="CERTIFICATE";Sr.CrlTag="CRL";Sr.CertificateRequestTag="CERTIFICATE REQUEST";Sr.PublicKeyTag="PUBLIC KEY";Sr.PrivateKeyTag="PRIVATE KEY";class Ta extends qo{static isAsnEncoded(e){return Me.isBufferSource(e)||typeof e=="string"}static toArrayBuffer(e){if(typeof e=="string"){if(Sr.isPem(e))return Sr.decode(e)[0];if(Xe.isHex(e))return Xe.FromHex(e);if(Xe.isBase64(e))return Xe.FromBase64(e);if(Xe.isBase64Url(e))return Xe.FromBase64Url(e);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}else{const n=Me.toUint8Array(e);if(n.length>0&&n[0]===48)return Me.toArrayBuffer(e);const s=Xe.ToBinary(e);if(Sr.isPem(s))return Sr.decode(s)[0];if(Xe.isHex(s))return Xe.FromHex(s);if(Xe.isBase64(s))return Xe.FromBase64(s);if(Xe.isBase64Url(s))return Xe.FromBase64Url(s);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}}constructor(...e){Ta.isAsnEncoded(e[0])?super(Ta.toArrayBuffer(e[0]),e[1]):super(e[0])}toString(e="pem"){return e==="pem"?Sr.encode(this.rawData,this.tag):super.toString(e)}}class Li extends Ta{static async create(e,n=Ms.get()){if(e instanceof Li)return e;if(ko.isCryptoKey(e)){if(e.type!=="public")throw new TypeError("Public key is required");const s=await n.subtle.exportKey("spki",e);return new Li(s)}else{if(e.publicKey)return e.publicKey;if(Me.isBufferSource(e))return new Li(e);throw new TypeError("Unsupported PublicKeyType")}}constructor(e){Ta.isAsnEncoded(e)?super(e,Oi):super(e),this.tag=Sr.PublicKeyTag}async export(...e){let n,s=["verify"],r={hash:"SHA-256",...this.algorithm};e.length>1?(r=e[0]||r,s=e[1]||s,n=e[2]||Ms.get()):n=e[0]||Ms.get();let i=this.rawData;const a=Be.parse(this.rawData,Oi);return a.algorithm.algorithm===zf&&(i=TJ(a,i)),n.subtle.importKey("spki",i,r,!0,s)}onInit(e){const n=Is.resolve(Qu),s=this.algorithm=n.toWebAlgorithm(e.algorithm);if(e.algorithm.algorithm===Yl){const r=Be.parse(e.subjectPublicKey,JC),i=Me.toUint8Array(r.modulus);s.publicExponent=Me.toUint8Array(r.publicExponent),s.modulusLength=(i[0]?i:i.slice(1)).byteLength<<3}}async getThumbprint(...e){var n;let s,r="SHA-1";return e.length>=1&&!(!((n=e[0])===null||n===void 0)&&n.subtle)?(r=e[0]||r,s=e[1]||Ms.get()):s=e[0]||Ms.get(),await s.subtle.digest(r,this.rawData)}async getKeyIdentifier(...e){let n,s="SHA-1";e.length===1?typeof e[0]=="string"?(s=e[0],n=Ms.get()):n=e[0]:e.length===2?(s=e[0],n=e[1]):n=Ms.get();const r=Be.parse(this.rawData,Oi);return await n.subtle.digest(s,r.subjectPublicKey)}toTextObject(){const e=this.toTextObjectEmpty(),n=Be.parse(this.rawData,Oi);switch(e.Algorithm=Jl.serializeAlgorithm(n.algorithm),n.algorithm.algorithm){case pp:e["EC Point"]=n.subjectPublicKey;break;case Yl:default:e["Raw Data"]=n.subjectPublicKey}return e}}function TJ(t,e){return t.algorithm=new ze({algorithm:Yl,parameters:null}),e=Be.serialize(t),e}class bp extends jr{static async create(e,n=!1,s=Ms.get()){if("name"in e&&"serialNumber"in e)return new bp(e,n);const i=await(await Li.create(e,s)).getKeyIdentifier(s);return new bp(Xe.ToHex(i),n)}constructor(...e){if(Me.isBufferSource(e[0]))super(e[0]);else if(typeof e[0]=="string"){const n=new Sl({keyIdentifier:new MC(Xe.FromHex(e[0]))});super(fS,e[1],Be.serialize(n))}else{const n=e[0],s=n.name instanceof ec?Be.parse(n.name.rawData,Cs):n.name,r=new Sl({authorityCertIssuer:s,authorityCertSerialNumber:Xe.FromHex(n.serialNumber)});super(fS,e[1],Be.serialize(r))}}onInit(e){super.onInit(e);const n=Be.parse(e.extnValue,Sl);n.keyIdentifier&&(this.keyId=Xe.ToHex(n.keyIdentifier)),(n.authorityCertIssuer||n.authorityCertSerialNumber)&&(this.certId={name:n.authorityCertIssuer||[],serialNumber:n.authorityCertSerialNumber?Xe.ToHex(n.authorityCertSerialNumber):""})}toTextObject(){const e=this.toTextObjectWithoutValue(),n=Be.parse(this.value,Sl);return n.authorityCertIssuer&&(e["Authority Issuer"]=new ec(n.authorityCertIssuer).toTextObject()),n.authorityCertSerialNumber&&(e["Authority Serial Number"]=n.authorityCertSerialNumber),n.keyIdentifier&&(e[""]=n.keyIdentifier),e}}bp.NAME="Authority Key Identifier";class mL extends jr{constructor(...e){if(Me.isBufferSource(e[0])){super(e[0]);const n=Be.parse(this.value,hy);this.ca=n.cA,this.pathLength=n.pathLenConstraint}else{const n=new hy({cA:e[0],pathLenConstraint:e[1]});super(OB,e[2],Be.serialize(n)),this.ca=e[0],this.pathLength=e[1]}}toTextObject(){const e=this.toTextObjectWithoutValue();return this.ca&&(e.CA=this.ca),this.pathLength!==void 0&&(e["Path Length"]=this.pathLength),e}}mL.NAME="Basic Constraints";var lR;(function(t){t.serverAuth="1.3.6.1.5.5.7.3.1",t.clientAuth="1.3.6.1.5.5.7.3.2",t.codeSigning="1.3.6.1.5.5.7.3.3",t.emailProtection="1.3.6.1.5.5.7.3.4",t.timeStamping="1.3.6.1.5.5.7.3.8",t.ocspSigning="1.3.6.1.5.5.7.3.9"})(lR||(lR={}));class gL extends jr{constructor(...e){if(Me.isBufferSource(e[0])){super(e[0]);const n=Be.parse(this.value,my);this.usages=n.map(s=>s)}else{const n=new my(e[0]);super(BB,e[1],Be.serialize(n)),this.usages=e[0]}}toTextObject(){const e=this.toTextObjectWithoutValue();return e[""]=this.usages.map(n=>Vo.toString(n)).join(", "),e}}gL.NAME="Extended Key Usages";var va;(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(va||(va={}));class yL extends jr{constructor(...e){if(Me.isBufferSource(e[0])){super(e[0]);const n=Be.parse(this.value,Rx);this.usages=n.toNumber()}else{const n=new Rx(e[0]);super(IB,e[1],Be.serialize(n)),this.usages=e[0]}}toTextObject(){const e=this.toTextObjectWithoutValue(),n=Be.parse(this.value,Rx);return e[""]=n.toJSON().join(", "),e}}yL.NAME="Key Usages";class pb extends jr{static async create(e,n=!1,s=Ms.get()){const i=await(await Li.create(e,s)).getKeyIdentifier(s);return new pb(Xe.ToHex(i),n)}constructor(...e){if(Me.isBufferSource(e[0])){super(e[0]);const n=Be.parse(this.value,Do);this.keyId=Xe.ToHex(n)}else{const n=typeof e[0]=="string"?Xe.FromHex(e[0]):e[0],s=new Do(n);super(UB,e[1],Be.serialize(s)),this.keyId=Xe.ToHex(n)}}toTextObject(){const e=this.toTextObjectWithoutValue(),n=Be.parse(this.value,Do);return e[""]=n,e}}pb.NAME="Subject Key Identifier";class vL extends jr{constructor(...e){Me.isBufferSource(e[0])?super(e[0]):super(zB,e[1],new ec(e[0]||[]).rawData)}onInit(e){super.onInit(e);const n=Be.parse(e.extnValue,AS);this.names=new ec(n)}toTextObject(){const e=this.toTextObjectWithoutValue(),n=this.names.toTextObject();for(const s in n)e[s]=n[s];return e}}vL.NAME="Subject Alternative Name";class Tr{static register(e,n){this.items.set(e,n)}static create(e){const n=new jr(e),s=this.items.get(n.type);return s?new s(e):n}}Tr.items=new Map;class bL extends jr{constructor(...e){var n;if(Me.isBufferSource(e[0])){super(e[0]);const s=Be.parse(this.value,fy);this.policies=s.map(r=>r.policyIdentifier)}else{const s=e[0],r=(n=e[1])!==null&&n!==void 0?n:!1,i=new fy(s.map(a=>new Vv({policyIdentifier:a})));super(MB,r,Be.serialize(i)),this.policies=s}}toTextObject(){const e=this.toTextObjectWithoutValue();return e.Policy=this.policies.map(n=>new Pt("",{},Vo.toString(n))),e}}bL.NAME="Certificate Policies";Tr.register(MB,bL);class _L extends jr{constructor(...e){var n;if(Me.isBufferSource(e[0]))super(e[0]);else if(Array.isArray(e[0])&&typeof e[0][0]=="string"){const r=e[0].map(a=>new gh({distributionPoint:new Kl({fullName:[new mt({uniformResourceIdentifier:a})]})})),i=new Bu(r);super(vS,e[1],Be.serialize(i))}else{const s=new Bu(e[0]);super(vS,e[1],Be.serialize(s))}(n=this.distributionPoints)!==null&&n!==void 0||(this.distributionPoints=[])}onInit(e){super.onInit(e);const n=Be.parse(e.extnValue,Bu);this.distributionPoints=n}toTextObject(){const e=this.toTextObjectWithoutValue();return e["Distribution Point"]=this.distributionPoints.map(n=>{var s;const r={};return n.distributionPoint&&(r[""]=(s=n.distributionPoint.fullName)===null||s===void 0?void 0:s.map(i=>new Co(i).toString()).join(", ")),n.reasons&&(r.Reasons=n.reasons.toString()),n.cRLIssuer&&(r["CRL Issuer"]=n.cRLIssuer.map(i=>i.toString()).join(", ")),r}),e}}_L.NAME="CRL Distribution Points";class xL extends jr{constructor(...e){var n,s,r,i;if(Me.isBufferSource(e[0]))super(e[0]);else if(e[0]instanceof Su){const a=new Su(e[0]);super(dS,e[1],Be.serialize(a))}else{const a=e[0],c=new Su;Hg(c,a,Kj,"ocsp"),Hg(c,a,Wj,"caIssuers"),Hg(c,a,Gj,"timeStamping"),Hg(c,a,Yj,"caRepository"),super(dS,e[1],Be.serialize(c))}(n=this.ocsp)!==null&&n!==void 0||(this.ocsp=[]),(s=this.caIssuers)!==null&&s!==void 0||(this.caIssuers=[]),(r=this.timeStamping)!==null&&r!==void 0||(this.timeStamping=[]),(i=this.caRepository)!==null&&i!==void 0||(this.caRepository=[])}onInit(e){super.onInit(e),this.ocsp=[],this.caIssuers=[],this.timeStamping=[],this.caRepository=[],Be.parse(e.extnValue,Su).forEach(s=>{switch(s.accessMethod){case Kj:this.ocsp.push(new Co(s.accessLocation));break;case Wj:this.caIssuers.push(new Co(s.accessLocation));break;case Gj:this.timeStamping.push(new Co(s.accessLocation));break;case Yj:this.caRepository.push(new Co(s.accessLocation));break}})}toTextObject(){const e=this.toTextObjectWithoutValue();return this.ocsp.length&&Ug(e,"OCSP",this.ocsp),this.caIssuers.length&&Ug(e,"CA Issuers",this.caIssuers),this.timeStamping.length&&Ug(e,"Time Stamping",this.timeStamping),this.caRepository.length&&Ug(e,"CA Repository",this.caRepository),e}}xL.NAME="Authority Info Access";function Ug(t,e,n){if(n.length===1)t[e]=n[0].toTextObject();else{const s=new Pt("");n.forEach((r,i)=>{const a=r.toTextObject(),c=`${a[Pt.NAME]} ${i+1}`;let u=s[c];Array.isArray(u)||(u=[],s[c]=u),u.push(a)}),t[e]=s}}function Hg(t,e,n,s){const r=e[s];r&&(Array.isArray(r)?r:[r]).forEach(a=>{typeof a=="string"&&(a=new Co("url",a)),t.push(new $p({accessMethod:n,accessLocation:Be.parse(a.rawData,mt)}))})}class wL extends jr{constructor(...e){Me.isBufferSource(e[0])?super(e[0]):super(LB,e[1],new ec(e[0]||[]).rawData)}onInit(e){super.onInit(e);const n=Be.parse(e.extnValue,Cs);this.names=new ec(n)}toTextObject(){const e=this.toTextObjectWithoutValue(),n=this.names.toTextObject();for(const s in n)e[s]=n[s];return e}}wL.NAME="Issuer Alternative Name";class Sh extends qo{constructor(...e){let n;if(Me.isBufferSource(e[0]))n=Me.toArrayBuffer(e[0]);else{const s=e[0],r=Array.isArray(e[1])?e[1].map(i=>Me.toArrayBuffer(i)):[];n=Be.serialize(new Ea({type:s,values:r}))}super(n,Ea)}onInit(e){this.type=e.type,this.values=e.values}toTextObject(){const e=this.toTextObjectWithoutValue();return e.Value=this.values.map(n=>new Pt("",{"":n})),e}toTextObjectWithoutValue(){const e=this.toTextObjectEmpty();return e[Pt.NAME]===Sh.NAME&&(e[Pt.NAME]=Vo.toString(this.type)),e}}Sh.NAME="Attribute";class SL extends Sh{constructor(...e){var n;if(Me.isBufferSource(e[0]))super(e[0]);else{const s=new $y({printableString:e[0]});super(cL,[Be.serialize(s)])}(n=this.password)!==null&&n!==void 0||(this.password="")}onInit(e){if(super.onInit(e),this.values[0]){const n=Be.parse(this.values[0],$y);this.password=n.toString()}}toTextObject(){const e=this.toTextObjectWithoutValue();return e[Pt.VALUE]=this.password,e}}SL.NAME="Challenge Password";class nN extends Sh{constructor(...e){var n;if(Me.isBufferSource(e[0]))super(e[0]);else{const s=e[0],r=new Wl;for(const i of s)r.push(Be.parse(i.rawData,gi));super(tN,[Be.serialize(r)])}(n=this.items)!==null&&n!==void 0||(this.items=[])}onInit(e){if(super.onInit(e),this.values[0]){const n=Be.parse(this.values[0],Wl);this.items=n.map(s=>Tr.create(Be.serialize(s)))}}toTextObject(){const e=this.toTextObjectWithoutValue(),n=this.items.map(s=>s.toTextObject());for(const s of n)e[s[Pt.NAME]]=s;return e}}nN.NAME="Extensions";class mb{static register(e,n){this.items.set(e,n)}static create(e){const n=new Sh(e),s=this.items.get(n.type);return s?new s(e):n}}mb.items=new Map;const gb="crypto.signatureFormatter";class RJ{toAsnSignature(e,n){return Me.toArrayBuffer(n)}toWebSignature(e,n){return Me.toArrayBuffer(n)}}var b0;let vk=b0=class{static createPssParams(e,n){const s=b0.getHashAlgorithm(e);return s?new Xl({hashAlgorithm:s,maskGenAlgorithm:new ze({algorithm:ib,parameters:Be.serialize(s)}),saltLength:n}):null}static getHashAlgorithm(e){const n=Is.resolve(Qu);return typeof e=="string"?n.toAsnAlgorithm({name:e}):typeof e=="object"&&e&&"name"in e?n.toAsnAlgorithm(e):null}toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"rsassa-pkcs1-v1_5":if("hash"in e){let n;if(typeof e.hash=="string")n=e.hash;else if(e.hash&&typeof e.hash=="object"&&"name"in e.hash&&typeof e.hash.name=="string")n=e.hash.name.toUpperCase();else throw new Error("Cannot get hash algorithm name");switch(n.toLowerCase()){case"sha-1":return new ze({algorithm:jy,parameters:null});case"sha-256":return new ze({algorithm:YS,parameters:null});case"sha-384":return new ze({algorithm:Ty,parameters:null});case"sha-512":return new ze({algorithm:Ry,parameters:null})}}else return new ze({algorithm:Yl,parameters:null});break;case"rsa-pss":if("hash"in e){if(!("saltLength"in e&&typeof e.saltLength=="number"))throw new Error("Cannot get 'saltLength' from 'alg' argument");const n=b0.createPssParams(e.hash,e.saltLength);if(!n)throw new Error("Cannot create PSS parameters");return new ze({algorithm:zf,parameters:Be.serialize(n)})}else return new ze({algorithm:zf,parameters:null})}return null}toWebAlgorithm(e){switch(e.algorithm){case Yl:return{name:"RSASSA-PKCS1-v1_5"};case jy:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case YS:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case Ty:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case Ry:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case zf:if(e.parameters){const n=Be.parse(e.parameters,Xl);return{name:"RSA-PSS",hash:Is.resolve(Qu).toWebAlgorithm(n.hashAlgorithm),saltLength:n.saltLength}}else return{name:"RSA-PSS"}}return null}};vk=b0=L([cb()],vk);Is.registerSingleton(Zp,vk);let bk=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"sha-1":return new ze({algorithm:Oy});case"sha-256":return new ze({algorithm:My});case"sha-384":return new ze({algorithm:Dy});case"sha-512":return new ze({algorithm:By})}return null}toWebAlgorithm(e){switch(e.algorithm){case Oy:return{name:"SHA-1"};case My:return{name:"SHA-256"};case Dy:return{name:"SHA-384"};case By:return{name:"SHA-512"}}return null}};bk=L([cb()],bk);Is.registerSingleton(Zp,bk);class Yr{addPadding(e,n){const s=Me.toUint8Array(n),r=new Uint8Array(e);return r.set(s,e-s.length),r.buffer}removePadding(e,n=!1){let s=Me.toUint8Array(e);for(let r=0;r<s.length;r++)if(s[r]){s=s.slice(r);break}if(n&&s[0]>127){const r=new Uint8Array(s.length+1);return r.set(s,1),r.buffer}return s.buffer}toAsnSignature(e,n){if(e.name==="ECDSA"){const s=e.namedCurve,r=Yr.namedCurveSize.get(s)||Yr.defaultNamedCurveSize,i=new Ay,a=Me.toUint8Array(n);return i.r=this.removePadding(a.slice(0,r),!0),i.s=this.removePadding(a.slice(r,r+r),!0),Be.serialize(i)}return null}toWebSignature(e,n){if(e.name==="ECDSA"){const s=Be.parse(n,Ay),r=e.namedCurve,i=Yr.namedCurveSize.get(r)||Yr.defaultNamedCurveSize,a=this.addPadding(i,this.removePadding(s.r)),c=this.addPadding(i,this.removePadding(s.s));return VZ(a,c)}return null}}Yr.namedCurveSize=new Map;Yr.defaultNamedCurveSize=32;const $x="1.3.101.110",cR="1.3.101.111",zx="1.3.101.112",uR="1.3.101.113";let _k=class{toAsnAlgorithm(e){let n=null;switch(e.name.toLowerCase()){case"ed25519":n=zx;break;case"x25519":n=$x;break;case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":n=zx;break;case"ed448":n=uR;break}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":n=$x;break;case"x448":n=cR;break}}return n?new ze({algorithm:n}):null}toWebAlgorithm(e){switch(e.algorithm){case zx:return{name:"Ed25519"};case uR:return{name:"EdDSA",namedCurve:"Ed448"};case $x:return{name:"X25519"};case cR:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};_k=L([cb()],_k);Is.registerSingleton(Zp,_k);var Yd,Zd,Xd,Jd,Qd,ef,tf,mu;class OJ extends Ta{get subjectName(){return vt(this,Zd,"f")||un(this,Zd,new Ql(this.asn.certificationRequestInfo.subject),"f"),vt(this,Zd,"f")}get subject(){return vt(this,Xd,"f")||un(this,Xd,this.subjectName.toString(),"f"),vt(this,Xd,"f")}get signatureAlgorithm(){if(!vt(this,Jd,"f")){const e=Is.resolve(Qu);un(this,Jd,e.toWebAlgorithm(this.asn.signatureAlgorithm),"f")}return vt(this,Jd,"f")}get signature(){return vt(this,Qd,"f")||un(this,Qd,this.asn.signature,"f"),vt(this,Qd,"f")}get publicKey(){return vt(this,ef,"f")||un(this,ef,new Li(this.asn.certificationRequestInfo.subjectPKInfo),"f"),vt(this,ef,"f")}get attributes(){return vt(this,tf,"f")||un(this,tf,this.asn.certificationRequestInfo.attributes.map(e=>mb.create(Be.serialize(e))),"f"),vt(this,tf,"f")}get extensions(){if(!vt(this,mu,"f")){un(this,mu,[],"f");const e=this.getAttribute(tN);e instanceof nN&&un(this,mu,e.items,"f")}return vt(this,mu,"f")}get tbs(){return vt(this,Yd,"f")||un(this,Yd,this.asn.certificationRequestInfoRaw||Be.serialize(this.asn.certificationRequestInfo),"f"),vt(this,Yd,"f")}constructor(e){const n=Ta.isAsnEncoded(e)?[e,gp]:[e];super(n[0],n[1]),Yd.set(this,void 0),Zd.set(this,void 0),Xd.set(this,void 0),Jd.set(this,void 0),Qd.set(this,void 0),ef.set(this,void 0),tf.set(this,void 0),mu.set(this,void 0),this.tag=Sr.CertificateRequestTag}onInit(e){}getAttribute(e){for(const n of this.attributes)if(n.type===e)return n;return null}getAttributes(e){return this.attributes.filter(n=>n.type===e)}getExtension(e){for(const n of this.extensions)if(n.type===e)return n;return null}getExtensions(e){return this.extensions.filter(n=>n.type===e)}async verify(e=Ms.get()){const n={...this.publicKey.algorithm,...this.signatureAlgorithm},s=await this.publicKey.export(n,["verify"],e),r=Is.resolveAll(gb).reverse();let i=null;for(const c of r)if(i=c.toWebSignature(n,this.signature),i)break;if(!i)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await e.subtle.verify(this.signatureAlgorithm,s,i,this.tbs)}toTextObject(){const e=this.toTextObjectEmpty(),n=Be.parse(this.rawData,gp),s=n.certificationRequestInfo,r=new Pt("",{Version:`${Vu[s.version]} (${s.version})`,Subject:this.subject,"Subject Public Key Info":this.publicKey});if(this.attributes.length){const i=new Pt("");for(const a of this.attributes){const c=a.toTextObject();i[c[Pt.NAME]]=c}r.Attributes=i}return e.Data=r,e.Signature=new Pt("",{Algorithm:Jl.serializeAlgorithm(n.signatureAlgorithm),"":n.signature}),e}}Yd=new WeakMap,Zd=new WeakMap,Xd=new WeakMap,Jd=new WeakMap,Qd=new WeakMap,ef=new WeakMap,tf=new WeakMap,mu=new WeakMap;OJ.NAME="PKCS#10 Certificate Request";var nf,sf,rf,af,of,lf,cf,uf,hf,df,gu,ff;class kL extends Ta{get publicKey(){return vt(this,ff,"f")||un(this,ff,new Li(this.asn.tbsCertificate.subjectPublicKeyInfo),"f"),vt(this,ff,"f")}get serialNumber(){if(!vt(this,sf,"f")){const e=this.asn.tbsCertificate;let n=new Uint8Array(e.serialNumber);n.length>1&&n[0]===0&&n[1]>127&&(n=n.slice(1)),un(this,sf,Xe.ToHex(n),"f")}return vt(this,sf,"f")}get subjectName(){return vt(this,rf,"f")||un(this,rf,new Ql(this.asn.tbsCertificate.subject),"f"),vt(this,rf,"f")}get subject(){return vt(this,af,"f")||un(this,af,this.subjectName.toString(),"f"),vt(this,af,"f")}get issuerName(){return vt(this,of,"f")||un(this,of,new Ql(this.asn.tbsCertificate.issuer),"f"),vt(this,of,"f")}get issuer(){return vt(this,lf,"f")||un(this,lf,this.issuerName.toString(),"f"),vt(this,lf,"f")}get notBefore(){if(!vt(this,cf,"f")){const e=this.asn.tbsCertificate.validity.notBefore.utcTime||this.asn.tbsCertificate.validity.notBefore.generalTime;if(!e)throw new Error("Cannot get 'notBefore' value");un(this,cf,e,"f")}return vt(this,cf,"f")}get notAfter(){if(!vt(this,uf,"f")){const e=this.asn.tbsCertificate.validity.notAfter.utcTime||this.asn.tbsCertificate.validity.notAfter.generalTime;if(!e)throw new Error("Cannot get 'notAfter' value");un(this,uf,e,"f")}return vt(this,uf,"f")}get signatureAlgorithm(){if(!vt(this,hf,"f")){const e=Is.resolve(Qu);un(this,hf,e.toWebAlgorithm(this.asn.signatureAlgorithm),"f")}return vt(this,hf,"f")}get signature(){return vt(this,df,"f")||un(this,df,this.asn.signatureValue,"f"),vt(this,df,"f")}get extensions(){return vt(this,gu,"f")||(un(this,gu,[],"f"),this.asn.tbsCertificate.extensions&&un(this,gu,this.asn.tbsCertificate.extensions.map(e=>Tr.create(Be.serialize(e))),"f")),vt(this,gu,"f")}get tbs(){return vt(this,nf,"f")||un(this,nf,this.asn.tbsCertificateRaw||Be.serialize(this.asn.tbsCertificate),"f"),vt(this,nf,"f")}constructor(e){const n=Ta.isAsnEncoded(e)?[e,qu]:[e];super(n[0],n[1]),nf.set(this,void 0),sf.set(this,void 0),rf.set(this,void 0),af.set(this,void 0),of.set(this,void 0),lf.set(this,void 0),cf.set(this,void 0),uf.set(this,void 0),hf.set(this,void 0),df.set(this,void 0),gu.set(this,void 0),ff.set(this,void 0),this.tag=Sr.CertificateTag}onInit(e){}getExtension(e){for(const n of this.extensions)if(typeof e=="string"){if(n.type===e)return n}else if(n instanceof e)return n;return null}getExtensions(e){return this.extensions.filter(n=>typeof e=="string"?n.type===e:n instanceof e)}async verify(e={},n=Ms.get()){let s,r;const i=e.publicKey;try{if(!i)s={...this.publicKey.algorithm,...this.signatureAlgorithm},r=await this.publicKey.export(s,["verify"],n);else if("publicKey"in i)s={...i.publicKey.algorithm,...this.signatureAlgorithm},r=await i.publicKey.export(s,["verify"],n);else if(i instanceof Li)s={...i.algorithm,...this.signatureAlgorithm},r=await i.export(s,["verify"],n);else if(Me.isBufferSource(i)){const h=new Li(i);s={...h.algorithm,...this.signatureAlgorithm},r=await h.export(s,["verify"],n)}else s={...i.algorithm,...this.signatureAlgorithm},r=i}catch{return!1}const a=Is.resolveAll(gb).reverse();let c=null;for(const h of a)if(c=h.toWebSignature(s,this.signature),c)break;if(!c)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");const u=await n.subtle.verify(this.signatureAlgorithm,r,c,this.tbs);if(e.signatureOnly)return u;{const m=(e.date||new Date).getTime();return u&&this.notBefore.getTime()<m&&m<this.notAfter.getTime()}}async getThumbprint(...e){let n,s="SHA-1";return e[0]&&(e[0].subtle?n=e[0]:(s=e[0]||s,n=e[1])),n??(n=Ms.get()),await n.subtle.digest(s,this.rawData)}async isSelfSigned(e=Ms.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:!0},e)}toTextObject(){const e=this.toTextObjectEmpty(),n=Be.parse(this.rawData,qu),s=n.tbsCertificate,r=new Pt("",{Version:`${Vu[s.version]} (${s.version})`,"Serial Number":s.serialNumber,"Signature Algorithm":Jl.serializeAlgorithm(s.signature),Issuer:this.issuer,Validity:new Pt("",{"Not Before":s.validity.notBefore.getTime(),"Not After":s.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(s.issuerUniqueID&&(r["Issuer Unique ID"]=s.issuerUniqueID),s.subjectUniqueID&&(r["Subject Unique ID"]=s.subjectUniqueID),this.extensions.length){const i=new Pt("");for(const a of this.extensions){const c=a.toTextObject();i[c[Pt.NAME]]=c}r.Extensions=i}return e.Data=r,e.Signature=new Pt("",{Algorithm:Jl.serializeAlgorithm(n.signatureAlgorithm),"":n.signatureValue}),e}}nf=new WeakMap,sf=new WeakMap,rf=new WeakMap,af=new WeakMap,of=new WeakMap,lf=new WeakMap,cf=new WeakMap,uf=new WeakMap,hf=new WeakMap,df=new WeakMap,gu=new WeakMap,ff=new WeakMap;kL.NAME="Certificate";var hR;(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(hR||(hR={}));Tr.register(OB,mL);Tr.register(BB,gL);Tr.register(IB,yL);Tr.register(UB,pb);Tr.register(fS,bp);Tr.register(zB,vL);Tr.register(vS,_L);Tr.register(dS,xL);Tr.register(LB,wL);mb.register(cL,SL);mb.register(tN,nN);Is.registerSingleton(gb,RJ);Is.registerSingleton(gb,Yr);Yr.namedCurveSize.set("P-256",32);Yr.namedCurveSize.set("K-256",32);Yr.namedCurveSize.set("P-384",48);Yr.namedCurveSize.set("P-521",66);const MJ=["-----BEGIN CERTIFICATE-----","-----BEGIN X509 CERTIFICATE-----","-----BEGIN TRUSTED CERTIFICATE-----"],DJ=["-----BEGIN PRIVATE KEY-----","-----BEGIN RSA PRIVATE KEY-----","-----BEGIN EC PRIVATE KEY-----","-----BEGIN ENCRYPTED PRIVATE KEY-----"],BJ=["-----BEGIN PUBLIC KEY-----","-----BEGIN RSA PUBLIC KEY-----"],LJ=["-----BEGIN CERTIFICATE REQUEST-----","-----BEGIN NEW CERTIFICATE REQUEST-----"];function IJ(t){const e=t.trim();for(const n of MJ)if(e.startsWith(n))return{type:"certificate",content:e};for(const n of DJ)if(e.startsWith(n))return{type:"private-key",content:e};for(const n of BJ)if(e.startsWith(n))return{type:"public-key",content:e};for(const n of LJ)if(e.startsWith(n))return{type:"csr",content:e};return null}function PJ(t){try{const e=new kL(t),n=new Date,s={};for(const k of e.subject.split(", ")){const[C,N]=k.split("=");C&&N&&(s[C]=N)}const r={};for(const k of e.issuer.split(", ")){const[C,N]=k.split("=");C&&N&&(r[C]=N)}const i=e.notBefore,a=e.notAfter,c=n>a,u=n<i,h=Math.ceil((a.getTime()-n.getTime())/(1e3*60*60*24)),m=e.subject===e.issuer;let p="Unknown";try{const k=e.publicKey;p=k.algorithm.name||"Unknown","namedCurve"in k.algorithm&&(p+=` (${k.algorithm.namedCurve})`),"modulusLength"in k.algorithm&&(p+=` ${k.algorithm.modulusLength}-bit`)}catch{}const y=e.signatureAlgorithm.name||"Unknown";let v,b,x,S=!1;for(const k of e.extensions){if(k.type==="2.5.29.15")try{const C=k;v=[],C.usages&va.digitalSignature&&v.push("Digital Signature"),C.usages&va.keyEncipherment&&v.push("Key Encipherment"),C.usages&va.dataEncipherment&&v.push("Data Encipherment"),C.usages&va.keyAgreement&&v.push("Key Agreement"),C.usages&va.keyCertSign&&v.push("Certificate Signing"),C.usages&va.cRLSign&&v.push("CRL Signing"),C.usages&va.nonRepudiation&&v.push("Non-Repudiation")}catch{}if(k.type==="2.5.29.37")try{b=k.usages.map(N=>{const R=String(N);return{"1.3.6.1.5.5.7.3.1":"Server Authentication","1.3.6.1.5.5.7.3.2":"Client Authentication","1.3.6.1.5.5.7.3.3":"Code Signing","1.3.6.1.5.5.7.3.4":"Email Protection","1.3.6.1.5.5.7.3.8":"Time Stamping","1.3.6.1.5.5.7.3.9":"OCSP Signing"}[R]||R})}catch{}if(k.type==="2.5.29.17")try{x=k.names.items.map(N=>N.type==="dns"?`DNS:${N.value}`:N.type==="ip"?`IP:${N.value}`:N.type==="email"?`Email:${N.value}`:N.type==="url"?`URI:${N.value}`:String(N.value))}catch{}if(k.type==="2.5.29.19")try{S=k.ca}catch{}}return{subject:s,issuer:r,serialNumber:e.serialNumber,notBefore:i,notAfter:a,isExpired:c,isNotYetValid:u,daysUntilExpiry:h,keyAlgorithm:p,signatureAlgorithm:y,keyUsage:v,extKeyUsage:b,subjectAltNames:x,isSelfSigned:m,isCA:S}}catch(e){return console.error("Failed to parse certificate:",e),null}}function dR(t){return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"})}function Ux(t){const e=["CN","O","OU","L","ST","C"],n=[];for(const s of e)t[s]&&n.push(`${s}=${t[s]}`);for(const[s,r]of Object.entries(t))e.includes(s)||n.push(`${s}=${r}`);return n.join(", ")}function xk(t){const e=De.c(33),{name:n,pem:s}=t,[r,i]=V.useState(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>i(HJ),e[0]=a):a=e[0];const c=a,[u,h]=V.useState(!1);let m,p;if(e[1]!==u||e[2]!==r||e[3]!==n||e[4]!==s){p=Symbol.for("react.early_return_sentinel");e:{const y=PJ(s);let v;e[7]!==s?(v=async()=>{await navigator.clipboard.writeText(s),h(!0),setTimeout(()=>h(!1),2e3)},e[7]=s,e[8]=v):v=e[8];const b=v;if(!y){let W;e[9]===Symbol.for("react.memo_cache_sentinel")?(W=f.jsx(iy,{size:14,className:"text-amber-500"}),e[9]=W):W=e[9];let z;e[10]!==n?(z=f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[10]=n,e[11]=z):z=e[11];let K;e[12]===Symbol.for("react.memo_cache_sentinel")?(K=f.jsx("span",{className:"text-xs text-neutral-500",children:"Failed to parse certificate"}),e[12]=K):K=e[12];let X;e[13]!==z?(X=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[W,z,K]})}),e[13]=z,e[14]=X):X=e[14],p=X;break e}let x="text-emerald-500",S="bg-emerald-100 dark:bg-emerald-500/20",k="Valid";y.isExpired?(x="text-red-500",S="bg-red-100 dark:bg-red-500/20",k="Expired"):y.isNotYetValid?(x="text-amber-500",S="bg-amber-100 dark:bg-amber-500/20",k="Not Yet Valid"):y.daysUntilExpiry<=30&&(x="text-amber-500",S="bg-amber-100 dark:bg-amber-500/20",k=`Expires in ${y.daysUntilExpiry} days`);let C;e[15]===Symbol.for("react.memo_cache_sentinel")?(C=f.jsx(hh,{size:14,className:"text-blue-500 dark:text-blue-400"}),e[15]=C):C=e[15];let N;e[16]!==n?(N=f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[16]=n,e[17]=N):N=e[17];const R=`text-xs px-1.5 py-0.5 rounded ${S} ${x}`;let O;e[18]!==k||e[19]!==R?(O=f.jsx("span",{className:R,children:k}),e[18]=k,e[19]=R,e[20]=O):O=e[20];let E;e[21]!==b?(E=W=>{W.stopPropagation(),b()},e[21]=b,e[22]=E):E=e[22];let D;e[23]!==u?(D=u?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(xs,{size:14,className:"text-neutral-400"}),e[23]=u,e[24]=D):D=e[24];let B;e[25]!==D||e[26]!==E?(B=f.jsx("button",{onClick:E,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy certificate",children:D}),e[25]=D,e[26]=E,e[27]=B):B=e[27];let q;e[28]!==r?(q=r?f.jsx(ps,{size:14,className:"text-neutral-400"}):f.jsx(Xr,{size:14,className:"text-neutral-400"}),e[28]=r,e[29]=q):q=e[29];let P;e[30]!==B||e[31]!==q?(P=f.jsxs("div",{className:"flex items-center gap-1",children:[B,q]}),e[30]=B,e[31]=q,e[32]=P):P=e[32],m=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[f.jsxs("button",{onClick:c,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[C,N,O,y.isCA&&f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-purple-100 dark:bg-purple-500/20 text-purple-600 dark:text-purple-400",children:"CA"}),y.isSelfSigned&&f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-600/50 text-neutral-600 dark:text-neutral-400",children:"Self-Signed"})]}),P]}),r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3 space-y-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Subject"}),f.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:y.subject.CN||Ux(y.subject)}),y.subject.CN&&Object.keys(y.subject).length>1&&f.jsx("div",{className:"text-xs font-mono text-neutral-500 mt-0.5",children:Ux(y.subject)})]}),!y.isSelfSigned&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Issuer"}),f.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:y.issuer.CN||Ux(y.issuer)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Not Before"}),f.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:dR(y.notBefore)})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Not After"}),f.jsxs("div",{className:`text-xs font-mono flex items-center gap-1 ${y.isExpired?"text-red-500":y.daysUntilExpiry<=30?"text-amber-500":"text-neutral-700 dark:text-neutral-300"}`,children:[y.isExpired?f.jsx(iy,{size:12}):y.daysUntilExpiry<=30?f.jsx(Oa,{size:12}):f.jsx(LW,{size:12,className:"text-emerald-500"}),dR(y.notAfter)]})]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Serial Number"}),f.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300 break-all",children:y.serialNumber})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Key Algorithm"}),f.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:y.keyAlgorithm})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Signature Algorithm"}),f.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300",children:y.signatureAlgorithm})]})]}),y.subjectAltNames&&y.subjectAltNames.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Subject Alternative Names"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:y.subjectAltNames.map(UJ)})]}),y.keyUsage&&y.keyUsage.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Key Usage"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:y.keyUsage.map(zJ)})]}),y.extKeyUsage&&y.extKeyUsage.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Extended Key Usage"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:y.extKeyUsage.map($J)})]})]})]})}e[1]=u,e[2]=r,e[3]=n,e[4]=s,e[5]=m,e[6]=p}else m=e[5],p=e[6];return p!==Symbol.for("react.early_return_sentinel")?p:m}function $J(t,e){return f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-600/50 text-neutral-600 dark:text-neutral-400",children:t},e)}function zJ(t,e){return f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-600/50 text-neutral-600 dark:text-neutral-400",children:t},e)}function UJ(t,e){return f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 font-mono",children:t},e)}function HJ(t){return!t}function FJ(t){const e=De.c(30),{name:n,pem:s}=t,[r,i]=V.useState(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>i(VJ),e[0]=a):a=e[0];const c=a,[u,h]=V.useState(!1);let m;e[1]!==s?(m=async()=>{await navigator.clipboard.writeText(s),h(!0),setTimeout(()=>h(!1),2e3)},e[1]=s,e[2]=m):m=e[2];const p=m;let y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y=f.jsx(hh,{size:14,className:"text-red-500 dark:text-red-400"}),e[3]=y):y=e[3];let v;e[4]!==n?(v=f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[4]=n,e[5]=v):v=e[5];let b;e[6]===Symbol.for("react.memo_cache_sentinel")?(b=f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400",children:"Private Key"}),e[6]=b):b=e[6];let x;e[7]!==v?(x=f.jsxs("div",{className:"flex items-center gap-2",children:[y,v,b]}),e[7]=v,e[8]=x):x=e[8];let S;e[9]!==p?(S=B=>{B.stopPropagation(),p()},e[9]=p,e[10]=S):S=e[10];let k;e[11]!==u?(k=u?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(xs,{size:14,className:"text-neutral-400"}),e[11]=u,e[12]=k):k=e[12];let C;e[13]!==S||e[14]!==k?(C=f.jsx("button",{onClick:S,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy private key",children:k}),e[13]=S,e[14]=k,e[15]=C):C=e[15];let N;e[16]!==r?(N=r?f.jsx(ps,{size:14,className:"text-neutral-400"}):f.jsx(Xr,{size:14,className:"text-neutral-400"}),e[16]=r,e[17]=N):N=e[17];let R;e[18]!==N||e[19]!==C?(R=f.jsxs("div",{className:"flex items-center gap-1",children:[C,N]}),e[18]=N,e[19]=C,e[20]=R):R=e[20];let O;e[21]!==R||e[22]!==x?(O=f.jsxs("button",{onClick:c,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[x,R]}),e[21]=R,e[22]=x,e[23]=O):O=e[23];let E;e[24]!==r||e[25]!==s?(E=r&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:s})}),e[24]=r,e[25]=s,e[26]=E):E=e[26];let D;return e[27]!==O||e[28]!==E?(D=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[O,E]}),e[27]=O,e[28]=E,e[29]=D):D=e[29],D}function VJ(t){return!t}function CL(t){const e=De.c(30),{name:n,pem:s}=t,[r,i]=V.useState(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>i(qJ),e[0]=a):a=e[0];const c=a,[u,h]=V.useState(!1);let m;e[1]!==s?(m=async()=>{await navigator.clipboard.writeText(s),h(!0),setTimeout(()=>h(!1),2e3)},e[1]=s,e[2]=m):m=e[2];const p=m;let y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y=f.jsx(hh,{size:14,className:"text-amber-500 dark:text-amber-400"}),e[3]=y):y=e[3];let v;e[4]!==n?(v=f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[4]=n,e[5]=v):v=e[5];let b;e[6]===Symbol.for("react.memo_cache_sentinel")?(b=f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-500/20 text-amber-600 dark:text-amber-400",children:"Certificate Request"}),e[6]=b):b=e[6];let x;e[7]!==v?(x=f.jsxs("div",{className:"flex items-center gap-2",children:[y,v,b]}),e[7]=v,e[8]=x):x=e[8];let S;e[9]!==p?(S=B=>{B.stopPropagation(),p()},e[9]=p,e[10]=S):S=e[10];let k;e[11]!==u?(k=u?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(xs,{size:14,className:"text-neutral-400"}),e[11]=u,e[12]=k):k=e[12];let C;e[13]!==S||e[14]!==k?(C=f.jsx("button",{onClick:S,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy CSR",children:k}),e[13]=S,e[14]=k,e[15]=C):C=e[15];let N;e[16]!==r?(N=r?f.jsx(ps,{size:14,className:"text-neutral-400"}):f.jsx(Xr,{size:14,className:"text-neutral-400"}),e[16]=r,e[17]=N):N=e[17];let R;e[18]!==N||e[19]!==C?(R=f.jsxs("div",{className:"flex items-center gap-1",children:[C,N]}),e[18]=N,e[19]=C,e[20]=R):R=e[20];let O;e[21]!==R||e[22]!==x?(O=f.jsxs("button",{onClick:c,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[x,R]}),e[21]=R,e[22]=x,e[23]=O):O=e[23];let E;e[24]!==r||e[25]!==s?(E=r&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:s})}),e[24]=r,e[25]=s,e[26]=E):E=e[26];let D;return e[27]!==O||e[28]!==E?(D=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[O,E]}),e[27]=O,e[28]=E,e[29]=D):D=e[29],D}function qJ(t){return!t}function KJ(t){const e=De.c(6),{name:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=f.jsx(hh,{size:14,className:"text-blue-500 dark:text-blue-400"}),e[0]=s):s=e[0];let r;e[1]!==n?(r=f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[1]=n,e[2]=r):r=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400",children:"Public Key"}),e[3]=i):i=e[3];let a;return e[4]!==r?(a=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[s,r,i]})}),e[4]=r,e[5]=a):a=e[5],a}function WJ(t){const e=t?.find(p=>p.type==="Approved"),n=t?.find(p=>p.type==="Denied"),s=t?.find(p=>p.type==="Ready"),r=t?.find(p=>p.type==="InvalidRequest"),i=e?.status==="True",a=n?.status==="True",c=s?.status==="True",u=s?.status==="False"||r?.status==="True";let h,m;return c?(h=s?.reason,m=s?.message):u?(h=s?.reason||r?.reason,m=s?.message||r?.message):a?(h=n?.reason,m=n?.message):i&&(h=e?.reason,m=e?.message),{approved:i,denied:a,ready:c,failed:u,reason:h,message:m}}function GJ(t){return t.ready?{text:"Issued",level:"success"}:t.failed||t.denied?{text:t.denied?"Denied":"Failed",level:"error"}:t.approved?{text:"Approved",level:"warning"}:{text:"Pending",level:"warning"}}function YJ(t){return t.ready?f.jsx(vi,{size:14,className:"text-emerald-400"}):t.failed||t.denied?f.jsx(Ra,{size:14,className:"text-red-400"}):t.approved?f.jsx(Ln,{size:14,className:"text-amber-400 animate-spin"}):f.jsx(ch,{size:14,className:"text-amber-400"})}function ZJ(t){if(!t)return"Default (90d)";const e=t.match(/^(\d+)h/);if(e){const n=parseInt(e[1],10);return n>=8760?`${Math.round(n/8760)}y`:n>=720?`${Math.round(n/720)}mo`:n>=24?`${Math.round(n/24)}d`:`${n}h`}return t}function fR(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function Hx(t){if(!t)return null;try{return atob(t)}catch{return null}}const XJ={kinds:["CertificateRequest","CertificateRequests"],adapt(t,e){const n=e.spec,s=e.status,r=e.metadata,i=r?.namespace;if(!n)return{sections:[]};const a=WJ(s?.conditions),c=GJ(a),u=r?.annotations?.["cert-manager.io/certificate-name"],h=r?.annotations?.["cert-manager.io/certificate-revision"],m=[{id:"status",data:{type:"status-cards",items:[{label:"Status",value:c.text,status:c.level,icon:YJ(a)},...a.approved?[{label:"Approved",value:"Yes",status:"success",icon:f.jsx(vi,{size:14,className:"text-emerald-400"})}]:[],...n.isCA?[{label:"Type",value:"CA Certificate",status:"neutral",icon:f.jsx(sy,{size:14,className:"text-purple-400"})}]:[{label:"Type",value:"TLS Certificate",status:"neutral",icon:f.jsx(sy,{size:14,className:"text-blue-400"})}],...h?[{label:"Revision",value:h,status:"neutral"}]:[]]}}];if(u&&m.push({id:"parent-certificate",title:"Parent Certificate",data:{type:"custom",render:()=>{const p=f.jsx("div",{className:`bg-blue-500/10 border border-blue-500/30 rounded-lg p-3 ${i?"hover:bg-blue-500/15 transition-colors cursor-pointer":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(uh,{size:14,className:"text-blue-400"}),f.jsx("span",{className:"text-sm text-blue-300",children:u})]})});return i?f.jsx(ac,{to:"/cluster/$context/$resourceType/$name",params:{context:t,resourceType:"certificates.cert-manager.io",name:u},search:y=>({...y,namespace:i}),children:p}):p}}}),m.push({id:"details",title:"Request Details",data:{type:"info-grid",columns:2,items:[{label:"Duration",value:ZJ(n.duration)},...r?.creationTimestamp?[{label:"Created",value:fR(r.creationTimestamp)}]:[],...n.username?[{label:"Requested By",value:n.username.split(":").pop()||n.username}]:[]]}}),m.push({id:"issuer",title:"Issuer",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Mp,{size:14,className:"text-purple-400"}),f.jsx("span",{className:"text-sm font-medium text-purple-300",children:n.issuerRef.kind??"Issuer"})]}),f.jsx("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:n.issuerRef.name}),n.issuerRef.group&&f.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:n.issuerRef.group})]})}}),(n.username||n.groups?.length)&&m.push({id:"requester",title:"Requester",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(SD,{size:14,className:"text-neutral-600 dark:text-neutral-400"}),f.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Identity"})]}),n.username&&f.jsxs("div",{className:"text-xs text-neutral-700 dark:text-neutral-400 mb-1",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"User:"})," ",f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:n.username})]}),n.groups&&n.groups.length>0&&f.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:n.groups.map((p,y)=>f.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-400",children:p},y))})]})}}),n.usages?.length&&m.push({id:"usages",title:"Key Usages",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.usages.map((p,y)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300",children:p},y))})}}),s?.certificate){const p=Hx(s.certificate),y=s.ca?Hx(s.ca):null;m.push({id:"certificate-issued",title:"Certificate",data:{type:"custom",render:()=>f.jsxs("div",{className:"space-y-3",children:[p&&f.jsx(xk,{name:"Issued Certificate",pem:p}),y&&f.jsx(xk,{name:"CA Certificate",pem:y})]})}})}if(n.request){const p=Hx(n.request);p&&m.push({id:"csr",title:"Certificate Signing Request",data:{type:"custom",render:()=>f.jsx(CL,{name:"Certificate Request",pem:p})}})}return s?.failureTime&&m.push({id:"failure",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[f.jsx(Oa,{size:14}),f.jsx("span",{className:"text-sm font-medium",children:"Failed"})]}),f.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:["Failure time: ",fR(s.failureTime)]}),a.message&&f.jsx("div",{className:"text-xs text-red-400/70 mt-1",children:a.message})]})}}),{sections:m}}};function NL(t){if(t)return t instanceof Date?t.toISOString():t}function pR(t){const e=NL(t);return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A"}function mR(t){const e=NL(t);if(!e)return"N/A";const n=new Date(e),r=new Date().getTime()-n.getTime(),i=Math.floor(r/1e3),a=Math.floor(i/60),c=Math.floor(a/60),u=Math.floor(c/24);return u>0?`${u}d ago`:c>0?`${c}h ago`:a>0?`${a}m ago`:i>0?`${i}s ago`:"just now"}const JJ={kinds:["Event","Events"],adapt(t,e){const n=e.metadata,s=e.involvedObject,r=e.source,i=e.type==="Warning",a=e.count??1,c=e.firstTimestamp||e.eventTime||n?.creationTimestamp,u=e.lastTimestamp||e.eventTime,h=[{id:"status",data:{type:"status-cards",items:[{label:"Type",value:e.type||"Normal",status:i?"warning":"success",icon:i?f.jsx(iy,{size:14,className:"text-amber-400"}):f.jsx(wG,{size:14,className:"text-emerald-400"})},{label:"Reason",value:e.reason||"Unknown",status:"neutral"},...a>1?[{label:"Count",value:a,status:"neutral",icon:f.jsx(sS,{size:14,className:"text-blue-400"})}]:[]]}}];return e.message&&h.push({id:"message",title:"Message",data:{type:"custom",render:()=>f.jsx("div",{className:`p-3 rounded-lg border ${i?"bg-amber-500/10 border-amber-500/30":"bg-neutral-100 dark:bg-neutral-900/50 border-neutral-200 dark:border-neutral-700"}`,children:f.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 whitespace-pre-wrap",children:e.message})})}}),s&&s.name&&h.push({id:"involved-object",title:"Involved Object",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(pY,{size:14,className:"text-blue-400"}),f.jsx("span",{className:"text-sm font-medium text-blue-300",children:s.kind||"Resource"})]}),f.jsxs("div",{className:"space-y-1 text-xs",children:[f.jsxs("div",{className:"text-neutral-300",children:[f.jsx("span",{className:"text-neutral-500",children:"Name: "}),f.jsx("span",{className:"text-cyan-400 font-mono",children:s.name})]}),s.namespace&&f.jsxs("div",{className:"text-neutral-300",children:[f.jsx("span",{className:"text-neutral-500",children:"Namespace: "}),f.jsx("span",{className:"text-purple-400",children:s.namespace})]}),s.fieldPath&&f.jsxs("div",{className:"text-neutral-300",children:[f.jsx("span",{className:"text-neutral-500",children:"Field: "}),f.jsx("span",{className:"text-neutral-400 font-mono",children:s.fieldPath})]}),s.apiVersion&&f.jsxs("div",{className:"text-neutral-300",children:[f.jsx("span",{className:"text-neutral-500",children:"API Version: "}),f.jsx("span",{className:"text-neutral-400",children:s.apiVersion})]})]})]})}}),h.push({id:"timestamps",title:"Timestamps",data:{type:"custom",render:()=>f.jsxs("div",{className:"space-y-2",children:[c&&f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx(mD,{size:14,className:"text-neutral-500"}),f.jsx("span",{className:"text-neutral-500",children:"First seen:"}),f.jsx("span",{className:"text-neutral-300",children:pR(c)}),f.jsxs("span",{className:"text-neutral-500",children:["(",mR(c),")"]})]}),u&&a>1&&f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx(Ln,{size:14,className:"text-neutral-500"}),f.jsx("span",{className:"text-neutral-500",children:"Last seen:"}),f.jsx("span",{className:"text-neutral-300",children:pR(u)}),f.jsxs("span",{className:"text-neutral-500",children:["(",mR(u),")"]})]})]})}}),r&&(r.component||r.host)&&h.push({id:"source",title:"Source",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(mi,{size:14,className:"text-neutral-400"}),f.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Event Source"})]}),f.jsxs("div",{className:"space-y-1 text-xs",children:[r.component&&f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-300",children:[f.jsx("span",{className:"text-neutral-500",children:"Component: "}),f.jsx("span",{className:"text-cyan-400",children:r.component})]}),r.host&&f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-300",children:[f.jsx("span",{className:"text-neutral-500",children:"Host: "}),f.jsx("span",{className:"text-neutral-400 font-mono",children:r.host})]})]})]})}}),(e.reportingComponent||e.reportingInstance)&&h.push({id:"reporting",title:"Reporting",data:{type:"info-grid",columns:2,items:[...e.reportingComponent?[{label:"Component",value:e.reportingComponent}]:[],...e.reportingInstance?[{label:"Instance",value:e.reportingInstance}]:[],...e.action?[{label:"Action",value:e.action}]:[]]}}),e.related&&e.related.name&&e.related.name!==s?.name&&h.push({id:"related",title:"Related Object",data:{type:"info-grid",columns:2,items:[{label:"Kind",value:e.related.kind||"Unknown"},{label:"Name",value:e.related.name},...e.related.namespace?[{label:"Namespace",value:e.related.namespace}]:[]]}}),{sections:h}}};function QJ(t){switch(t){case"LoadBalancer":return{label:"LoadBalancer",status:"success",icon:f.jsx(Cr,{size:14,className:"text-emerald-400"})};case"NodePort":return{label:"NodePort",status:"warning",icon:f.jsx(mi,{size:14,className:"text-amber-400"})};case"ExternalName":return{label:"ExternalName",status:"neutral",icon:f.jsx(oC,{size:14,className:"text-purple-400"})};default:return{label:t||"ClusterIP",status:"neutral",icon:f.jsx(Vn,{size:14,className:"text-blue-400"})}}}const eQ={kinds:["Service","Services"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=QJ(n.type),i=n.type==="LoadBalancer",a=s?.loadBalancer?.ingress,c=i&&a&&a.length>0,u=[{id:"status",data:{type:"status-cards",items:[{label:"Type",value:r.label,status:r.status,icon:r.icon},...n.clusterIP&&n.clusterIP!=="None"?[{label:"Cluster IP",value:n.clusterIP,status:"neutral",icon:f.jsx(Vn,{size:14,className:"text-blue-400"})}]:[],...n.clusterIP==="None"?[{label:"Cluster IP",value:"Headless",status:"neutral",icon:f.jsx(Vn,{size:14,className:"text-neutral-400"})}]:[],...n.externalName?[{label:"External Name",value:n.externalName,status:"neutral",icon:f.jsx(oC,{size:14,className:"text-purple-400"})}]:[]]}}];return n.ports&&n.ports.length>0&&u.push({id:"ports",title:"Ports",data:{type:"custom",render:()=>f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[f.jsx("th",{className:"pb-2 text-left text-neutral-500 font-medium",children:"Name"}),f.jsx("th",{className:"pb-2 text-left text-neutral-500 font-medium",children:"Protocol"}),f.jsx("th",{className:"pb-2 text-right text-neutral-500 font-medium",children:"Port"}),f.jsx("th",{className:"pb-2 text-right text-neutral-500 font-medium",children:"Target"}),f.jsx("th",{className:"pb-2 text-right text-neutral-500 font-medium",children:"NodePort"})]})}),f.jsx("tbody",{children:n.ports.map((m,p)=>f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-2 text-neutral-900 dark:text-neutral-300",children:m.name||f.jsx("span",{className:"text-neutral-400 italic",children:"unnamed"})}),f.jsx("td",{className:"py-2",children:f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-400",children:m.protocol||"TCP"})}),f.jsx("td",{className:"py-2 text-right font-mono text-neutral-700 dark:text-neutral-300",children:m.port}),f.jsx("td",{className:"py-2 text-right font-mono text-neutral-700 dark:text-neutral-300",children:m.targetPort||f.jsx("span",{className:"text-neutral-400",children:""})}),f.jsx("td",{className:"py-2 text-right font-mono text-amber-500 dark:text-amber-400",children:m.nodePort||f.jsx("span",{className:"text-neutral-400",children:""})})]},p))})]})})}}),i&&u.push({id:"loadbalancer",title:"Load Balancer",data:{type:"custom",render:()=>f.jsx("div",{className:`rounded-lg p-3 border ${c?"bg-emerald-500/10 border-emerald-500/30":"bg-amber-500/10 border-amber-500/30"}`,children:c?f.jsx("div",{className:"space-y-2",children:a.map((m,p)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Cr,{size:14,className:"text-emerald-400"}),f.jsx("span",{className:"text-sm font-mono text-emerald-300",children:m.ip||m.hostname||"N/A"})]},p))}):f.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[f.jsx(Cr,{size:14}),f.jsx("span",{className:"text-sm",children:"Pending external IP assignment..."})]})})}}),n.externalIPs&&n.externalIPs.length>0&&u.push({id:"external-ips",title:"External IPs",data:{type:"custom",render:()=>f.jsx("div",{className:"flex flex-wrap gap-2",children:n.externalIPs.map((m,p)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-purple-500/20 text-purple-300 font-mono",children:m},p))})}}),n.selector&&Object.keys(n.selector).length>0&&u.push({id:"selector",data:{type:"labels",labels:n.selector,title:"Selector"}}),(n.externalTrafficPolicy||n.internalTrafficPolicy||n.sessionAffinity!=="None")&&u.push({id:"traffic",title:"Traffic Configuration",data:{type:"info-grid",columns:2,items:[...n.externalTrafficPolicy?[{label:"External Traffic",value:n.externalTrafficPolicy,color:n.externalTrafficPolicy==="Local"?"text-amber-400":void 0}]:[],...n.internalTrafficPolicy?[{label:"Internal Traffic",value:n.internalTrafficPolicy}]:[],...n.sessionAffinity&&n.sessionAffinity!=="None"?[{label:"Session Affinity",value:n.sessionAffinity,color:"text-purple-400"}]:[],...n.sessionAffinityConfig?.clientIP?.timeoutSeconds?[{label:"Affinity Timeout",value:`${n.sessionAffinityConfig.clientIP.timeoutSeconds}s`}]:[],...n.healthCheckNodePort?[{label:"Health Check Port",value:n.healthCheckNodePort}]:[]]}}),i&&(n.loadBalancerIP||n.loadBalancerSourceRanges?.length||n.loadBalancerClass)&&u.push({id:"lb-config",title:"Load Balancer Configuration",data:{type:"custom",render:()=>f.jsxs("div",{className:"space-y-2",children:[n.loadBalancerIP&&f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx("span",{className:"text-neutral-500",children:"Requested IP:"}),f.jsx("span",{className:"text-neutral-300 font-mono",children:n.loadBalancerIP})]}),n.loadBalancerClass&&f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx("span",{className:"text-neutral-500",children:"Class:"}),f.jsx("span",{className:"text-neutral-300",children:n.loadBalancerClass})]}),n.loadBalancerSourceRanges&&n.loadBalancerSourceRanges.length>0&&f.jsxs("div",{className:"text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Dp,{size:14,className:"text-neutral-500"}),f.jsx("span",{className:"text-neutral-500",children:"Source Ranges:"})]}),f.jsx("div",{className:"flex flex-wrap gap-1 ml-5",children:n.loadBalancerSourceRanges.map((m,p)=>f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-amber-500/20 text-amber-300 font-mono",children:m},p))})]}),n.allocateLoadBalancerNodePorts===!1&&f.jsx("div",{className:"text-xs text-neutral-500",children:"NodePort allocation disabled"})]})}}),{sections:u}}};async function tQ(t){try{const e=atob(t),n=atob(e),s=new Uint8Array(n.length);for(let y=0;y<n.length;y++)s[y]=n.charCodeAt(y);const r=new DecompressionStream("gzip"),i=r.writable.getWriter();i.write(s),i.close();const a=r.readable.getReader(),c=[];for(;;){const{done:y,value:v}=await a.read();if(y)break;c.push(v)}const u=c.reduce((y,v)=>y+v.length,0),h=new Uint8Array(u);let m=0;for(const y of c)h.set(y,m),m+=y.length;const p=new TextDecoder().decode(h);return JSON.parse(p)}catch(e){return console.error("Failed to decode Helm release:",e),null}}function nQ(t){switch(t?.toLowerCase()){case"deployed":return"text-emerald-400";case"failed":return"text-red-400";case"pending-install":case"pending-upgrade":case"pending-rollback":return"text-yellow-400";case"uninstalling":case"superseded":return"text-neutral-400";default:return"text-neutral-300"}}function sQ(t){const e=De.c(55),{encoded:n}=t,[s,r]=V.useState(null),[i,a]=V.useState(null),[c,u]=V.useState(!0),[h,m]=V.useState(!1),[p,y]=V.useState(!1),[v,b]=V.useState(!1);let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=()=>m(aQ),e[0]=x):x=e[0];const S=x;let k;e[1]===Symbol.for("react.memo_cache_sentinel")?(k=()=>y(iQ),e[1]=k):k=e[1];const C=k;let N;e[2]===Symbol.for("react.memo_cache_sentinel")?(N=()=>b(rQ),e[2]=N):N=e[2];const R=N,[O,E]=V.useState(null);let D,B;e[3]!==n?(D=()=>{tQ(n).then(Qe=>{r(Qe),u(!1)}).catch(()=>{a("Failed to decode Helm release data"),u(!1)})},B=[n],e[3]=n,e[4]=D,e[5]=B):(D=e[4],B=e[5]),V.useEffect(D,B);let q;e[6]===Symbol.for("react.memo_cache_sentinel")?(q=async(Qe,Ot)=>{await navigator.clipboard.writeText(Ot),E(Qe),setTimeout(()=>E(null),2e3)},e[6]=q):q=e[6];const P=q;if(c){let Qe;return e[7]===Symbol.for("react.memo_cache_sentinel")?(Qe=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Decoding Helm release..."})}),e[7]=Qe):Qe=e[7],Qe}if(i||!s){const Qe=i||"Failed to decode release";let Ot;return e[8]!==Qe?(Ot=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:Qe})}),e[8]=Qe,e[9]=Ot):Ot=e[9],Ot}const W=s.chart?.metadata,z=s.info;let K;e[10]!==W?(K=W?.description&&f.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:W.description}),e[10]=W,e[11]=K):K=e[11];let X;e[12]===Symbol.for("react.memo_cache_sentinel")?(X=f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Release"}),e[12]=X):X=e[12];const G=s.name||"Unknown";let I;e[13]!==G?(I=f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[X,f.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:G})]}),e[13]=G,e[14]=I):I=e[14];let Y;e[15]===Symbol.for("react.memo_cache_sentinel")?(Y=f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Revision"}),e[15]=Y):Y=e[15];const Q=s.version||1;let $;e[16]!==Q?($=f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[Y,f.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:Q})]}),e[16]=Q,e[17]=$):$=e[17];let A;e[18]===Symbol.for("react.memo_cache_sentinel")?(A=f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Status"}),e[18]=A):A=e[18];const M=z?.status;let H;e[19]!==M?(H=nQ(M),e[19]=M,e[20]=H):H=e[20];const T=`py-1.5 font-medium ${H}`,J=z?.status||"Unknown";let ne;e[21]!==T||e[22]!==J?(ne=f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[A,f.jsx("td",{className:T,children:J})]}),e[21]=T,e[22]=J,e[23]=ne):ne=e[23];let Z;e[24]!==W?(Z=W&&f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Chart"}),f.jsxs("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:[W.name,"-",W.version]})]}),e[24]=W,e[25]=Z):Z=e[25];let oe;e[26]!==W?(oe=W?.appVersion&&f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"App Version"}),f.jsx("td",{className:"py-1.5 text-cyan-600 dark:text-cyan-400",children:W.appVersion})]}),e[26]=W,e[27]=oe):oe=e[27];let ke;e[28]!==z?(ke=z?.last_deployed&&f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 dark:text-neutral-500 whitespace-nowrap",children:"Last Deployed"}),f.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:new Date(z.last_deployed).toLocaleString()})]}),e[28]=z,e[29]=ke):ke=e[29];let Se;e[30]!==I||e[31]!==$||e[32]!==ne||e[33]!==Z||e[34]!==oe||e[35]!==ke?(Se=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("table",{className:"w-full text-xs",children:f.jsxs("tbody",{children:[I,$,ne,Z,oe,ke]})})}),e[30]=I,e[31]=$,e[32]=ne,e[33]=Z,e[34]=oe,e[35]=ke,e[36]=Se):Se=e[36];let Ge;e[37]!==O||e[38]!==s.config||e[39]!==h?(Ge=s.config&&Object.keys(s.config).length>0&&f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[f.jsxs("button",{onClick:S,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Mp,{size:14,className:"text-amber-500 dark:text-amber-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"User Values"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:Qe=>{Qe.stopPropagation(),P("values",JSON.stringify(s.config,null,2))},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy values",children:O==="values"?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(xs,{size:14,className:"text-neutral-400"})}),h?f.jsx(ps,{size:14,className:"text-neutral-400"}):f.jsx(Xr,{size:14,className:"text-neutral-400"})]})]}),h&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:JSON.stringify(s.config,null,2)})})]}),e[37]=O,e[38]=s.config,e[39]=h,e[40]=Ge):Ge=e[40];let $e;e[41]!==O||e[42]!==z||e[43]!==v?($e=z?.notes&&f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[f.jsxs("button",{onClick:R,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ei,{size:14,className:"text-blue-500 dark:text-blue-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"Release Notes"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:Qe=>{Qe.stopPropagation(),P("notes",z.notes||"")},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy notes",children:O==="notes"?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(xs,{size:14,className:"text-neutral-400"})}),v?f.jsx(ps,{size:14,className:"text-neutral-400"}):f.jsx(Xr,{size:14,className:"text-neutral-400"})]})]}),v&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:z.notes})})]}),e[41]=O,e[42]=z,e[43]=v,e[44]=$e):$e=e[44];let it;e[45]!==O||e[46]!==s.manifest||e[47]!==p?(it=s.manifest&&f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[f.jsxs("button",{onClick:C,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ei,{size:14,className:"text-purple-500 dark:text-purple-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"Rendered Manifest"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:Qe=>{Qe.stopPropagation(),P("manifest",s.manifest||"")},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy manifest",children:O==="manifest"?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(xs,{size:14,className:"text-neutral-400"})}),p?f.jsx(ps,{size:14,className:"text-neutral-400"}):f.jsx(Xr,{size:14,className:"text-neutral-400"})]})]}),p&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-96 overflow-y-auto",children:s.manifest})})]}),e[45]=O,e[46]=s.manifest,e[47]=p,e[48]=it):it=e[48];let qe;return e[49]!==Se||e[50]!==Ge||e[51]!==$e||e[52]!==it||e[53]!==K?(qe=f.jsxs("div",{className:"space-y-4",children:[K,Se,Ge,$e,it]}),e[49]=Se,e[50]=Ge,e[51]=$e,e[52]=it,e[53]=K,e[54]=qe):qe=e[54],qe}function rQ(t){return!t}function iQ(t){return!t}function aQ(t){return!t}function oQ(t){try{const e=atob(t);return JSON.parse(e)}catch{return null}}function lQ(t){try{const e=atob(t),[n,...s]=e.split(":");return{username:n,password:s.join(":")}}catch{return null}}function cQ(t){const e=De.c(21),{encoded:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=new Set,e[0]=s):s=e[0];const[r,i]=V.useState(s),[a,c]=V.useState(null),[u,h]=V.useState(!1);let m,p,y,v,b;if(e[1]!==a||e[2]!==n||e[3]!==r){b=Symbol.for("react.early_return_sentinel");e:{const k=oQ(n);p=k?JSON.stringify(k,null,2):null;let C;e[9]===Symbol.for("react.memo_cache_sentinel")?(C=async(O,E)=>{await navigator.clipboard.writeText(E),c(O),setTimeout(()=>c(null),2e3)},e[9]=C):C=e[9],m=C;const N=O=>{i(E=>{const D=new Set(E);return D.has(O)?D.delete(O):D.add(O),D})};if(!k||!k.auths){let O;e[10]===Symbol.for("react.memo_cache_sentinel")?(O=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Failed to decode Docker config"})}),e[10]=O):O=e[10],b=O;break e}const R=Object.entries(k.auths);if(R.length===0){let O;e[11]===Symbol.for("react.memo_cache_sentinel")?(O=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"No registries configured"})}),e[11]=O):O=e[11],b=O;break e}y="space-y-3",v=R.map(O=>{const[E,D]=O;let B=D.username,q=D.password;if(!B&&D.auth){const W=lQ(D.auth);W&&(B=W.username,q=W.password)}const P=r.has(E);return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(mi,{size:14,className:"text-blue-500 dark:text-blue-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-200 break-all",children:E})]}),f.jsx("table",{className:"w-full text-xs",children:f.jsxs("tbody",{children:[B&&f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap w-1",children:f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(SD,{size:12}),"Username"]})}),f.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:B}),f.jsx("td",{className:"py-1.5",children:f.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[f.jsx("div",{className:"w-7"}),f.jsx("button",{onClick:()=>m(`${E}-username`,B),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy username",children:a===`${E}-username`?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(xs,{size:12,className:"text-neutral-400"})})]})})]}),q&&f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap w-1",children:f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(Mp,{size:12}),"Password"]})}),f.jsx("td",{className:"py-1.5 font-mono",children:P?f.jsx("span",{className:"text-neutral-900 dark:text-neutral-300 break-all",children:q}):f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:""})}),f.jsx("td",{className:"py-1.5",children:f.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[f.jsx("button",{onClick:()=>N(E),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:P?"Hide password":"Reveal password",children:P?f.jsx(lC,{size:12,className:"text-neutral-400"}):f.jsx(cC,{size:12,className:"text-neutral-400"})}),f.jsx("button",{onClick:()=>m(`${E}-password`,q),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy password",children:a===`${E}-password`?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(xs,{size:12,className:"text-neutral-400"})})]})})]}),D.email&&f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap w-1",children:f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(MG,{size:12}),"Email"]})}),f.jsx("td",{className:"py-1.5 text-neutral-900 dark:text-neutral-300",children:D.email}),f.jsx("td",{className:"py-1.5",children:f.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[f.jsx("div",{className:"w-7"}),f.jsx("button",{onClick:()=>m(`${E}-email`,D.email),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy email",children:a===`${E}-email`?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(xs,{size:12,className:"text-neutral-400"})})]})})]})]})})]},E)})}e[1]=a,e[2]=n,e[3]=r,e[4]=m,e[5]=p,e[6]=y,e[7]=v,e[8]=b}else m=e[4],p=e[5],y=e[6],v=e[7],b=e[8];if(b!==Symbol.for("react.early_return_sentinel"))return b;let x;e[12]!==a||e[13]!==m||e[14]!==p||e[15]!==u?(x=p&&f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[f.jsxs("button",{onClick:()=>h(!u),className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ei,{size:14,className:"text-purple-500 dark:text-purple-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"Docker Config"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:k=>{k.stopPropagation(),m("raw",p)},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy JSON",children:a==="raw"?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(xs,{size:14,className:"text-neutral-400"})}),u?f.jsx(ps,{size:14,className:"text-neutral-400"}):f.jsx(Xr,{size:14,className:"text-neutral-400"})]})]}),u&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:p})})]}),e[12]=a,e[13]=m,e[14]=p,e[15]=u,e[16]=x):x=e[16];let S;return e[17]!==y||e[18]!==v||e[19]!==x?(S=f.jsxs("div",{className:y,children:[v,x]}),e[17]=y,e[18]=v,e[19]=x,e[20]=S):S=e[20],S}function uQ(t){try{return atob(t)}catch{return null}}function hQ(t){let e=0;for(let n=0;n<Math.min(t.length,1e3);n++){const s=t.charCodeAt(n);(s===0||s<32&&s!==9&&s!==10&&s!==13)&&e++}return e>t.length*.1}function gR(t){return t.replace(/^[\r\n]+|[\r\n]+$/g,"").includes(`
`)}function dQ(t){return!t.endsWith(".crt")&&!t.endsWith(".pem")&&t!=="ca.crt"&&t!=="tls.crt"&&t!=="namespace"}function fQ(t){const e=De.c(12),{entries:n}=t,[s,r]=V.useState(null);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=new Set,e[0]=i):i=e[0];const[a,c]=V.useState(i);let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=async(b,x)=>{await navigator.clipboard.writeText(x),r(b),setTimeout(()=>r(null),2e3)},e[1]=u):u=e[1];const h=u;let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m=b=>{c(x=>{const S=new Set(x);return S.has(b)?S.delete(b):S.add(b),S})},e[2]=m):m=e[2];const p=m;let y;if(e[3]!==s||e[4]!==n||e[5]!==a){let b;e[7]!==s||e[8]!==a?(b=x=>{const{key:S,decoded:k,isSensitive:C}=x;return f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap",children:S}),f.jsx("td",{className:"py-1.5 font-mono break-all",children:C&&!a.has(S)?f.jsx("span",{className:"text-neutral-400",children:""}):f.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:k})}),f.jsx("td",{className:"py-1.5 w-1",children:f.jsxs("div",{className:"flex items-center gap-1",children:[C?f.jsx("button",{onClick:()=>p(S),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:a.has(S)?"Hide value":"Reveal value",children:a.has(S)?f.jsx(lC,{size:12,className:"text-neutral-400"}):f.jsx(cC,{size:12,className:"text-neutral-400"})}):f.jsx("div",{className:"w-7"}),f.jsx("button",{onClick:()=>h(S,k),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy value",children:s===S?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(xs,{size:12,className:"text-neutral-400"})})]})})]},S)},e[7]=s,e[8]=a,e[9]=b):b=e[9],y=n.map(b),e[3]=s,e[4]=n,e[5]=a,e[6]=y}else y=e[6];let v;return e[10]!==y?(v=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("table",{className:"w-full text-xs",children:f.jsx("tbody",{children:y})})}),e[10]=y,e[11]=v):v=e[11],v}function pQ(t){const e=De.c(35),{name:n,decoded:s,isSensitive:r}=t,[i,a]=V.useState(!1),[c,u]=V.useState(!1),[h,m]=V.useState(!1);let p;e[0]!==s?(p=async()=>{await navigator.clipboard.writeText(s),m(!0),setTimeout(()=>m(!1),2e3)},e[0]=s,e[1]=p):p=e[1];const y=p;let v;e[2]!==i?(v=()=>a(!i),e[2]=i,e[3]=v):v=e[3];let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=f.jsx(Mp,{size:14,className:"text-amber-500 dark:text-amber-400"}),e[4]=b):b=e[4];let x;e[5]!==n?(x=f.jsxs("div",{className:"flex items-center gap-2",children:[b,f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n})]}),e[5]=n,e[6]=x):x=e[6];let S;e[7]!==y?(S=q=>{q.stopPropagation(),y()},e[7]=y,e[8]=S):S=e[8];let k;e[9]!==h?(k=h?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(xs,{size:14,className:"text-neutral-400"}),e[9]=h,e[10]=k):k=e[10];let C;e[11]!==S||e[12]!==k?(C=f.jsx("button",{onClick:S,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy value",children:k}),e[11]=S,e[12]=k,e[13]=C):C=e[13];let N;e[14]!==r||e[15]!==c?(N=r&&f.jsx("button",{onClick:q=>{q.stopPropagation(),u(!c)},className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:c?"Hide value":"Reveal value",children:c?f.jsx(lC,{size:14,className:"text-neutral-400"}):f.jsx(cC,{size:14,className:"text-neutral-400"})}),e[14]=r,e[15]=c,e[16]=N):N=e[16];let R;e[17]!==i?(R=i?f.jsx(ps,{size:14,className:"text-neutral-400"}):f.jsx(Xr,{size:14,className:"text-neutral-400"}),e[17]=i,e[18]=R):R=e[18];let O;e[19]!==C||e[20]!==N||e[21]!==R?(O=f.jsxs("div",{className:"flex items-center gap-1",children:[C,N,R]}),e[19]=C,e[20]=N,e[21]=R,e[22]=O):O=e[22];let E;e[23]!==O||e[24]!==v||e[25]!==x?(E=f.jsxs("button",{onClick:v,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[x,O]}),e[23]=O,e[24]=v,e[25]=x,e[26]=E):E=e[26];let D;e[27]!==s||e[28]!==i||e[29]!==r||e[30]!==c?(D=i&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:r&&!c?f.jsx("span",{className:"text-xs text-neutral-400 font-mono",children:""}):f.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:s})}),e[27]=s,e[28]=i,e[29]=r,e[30]=c,e[31]=D):D=e[31];let B;return e[32]!==E||e[33]!==D?(B=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[E,D]}),e[32]=E,e[33]=D,e[34]=B):B=e[34],B}const mQ={kinds:["Secret","Secrets"],adapt(t,e){const n=e.data||{},s=e.stringData||{},r=[...new Set([...Object.keys(n),...Object.keys(s)])];if(e.type==="helm.sh/release.v1"&&n.release)return{sections:[{id:"helm-release",data:{type:"custom",render:()=>f.jsx(sQ,{encoded:n.release})}}]};if(e.type==="kubernetes.io/dockerconfigjson"&&n[".dockerconfigjson"])return{sections:[{id:"docker-config",data:{type:"custom",render:()=>f.jsx(cQ,{encoded:n[".dockerconfigjson"]})}}]};const i=[];e.immutable&&i.push({id:"status",data:{type:"status-cards",items:[{label:"Immutable",value:"Yes",status:"warning",icon:f.jsx(Dp,{size:14,className:"text-amber-400"})}]}});const a=[],c=[],u=[],h=[],m=[],p=[],y=[];return r.forEach(v=>{const b=n[v]||btoa(s[v]||""),x=uQ(b),S=dQ(v);if(!x)u.push(v);else if(hQ(x))u.push(v);else{const k=IJ(x);if(k)switch(k.type){case"certificate":h.push({key:v,pem:k.content});break;case"private-key":m.push({key:v,pem:k.content});break;case"public-key":p.push(v);break;case"csr":y.push({key:v,pem:k.content});break;default:gR(x)?c.push({key:v,decoded:x,isSensitive:S}):a.push({key:v,decoded:x,isSensitive:S})}else gR(x)?c.push({key:v,decoded:x,isSensitive:S}):a.push({key:v,decoded:x,isSensitive:S})}}),h.length>0&&i.push({id:"certificates",title:"Certificates",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:h.map(({key:v,pem:b})=>f.jsx(xk,{name:v,pem:b},v))})}}),m.length>0&&i.push({id:"private-keys",title:"Private Keys",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:m.map(({key:v,pem:b})=>f.jsx(FJ,{name:v,pem:b},v))})}}),p.length>0&&i.push({id:"public-keys",title:"Public Keys",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:p.map(v=>f.jsx(KJ,{name:v},v))})}}),y.length>0&&i.push({id:"csrs",title:"Certificate Requests",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:y.map(({key:v,pem:b})=>f.jsx(CL,{name:v,pem:b},v))})}}),a.length>0&&i.push({id:"data-simple",title:"Data",data:{type:"custom",render:()=>f.jsx(fQ,{entries:a})}}),c.length>0&&i.push({id:"data-multiline",title:a.length>0?"Files":"Data",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:c.map(({key:v,decoded:b,isSensitive:x})=>f.jsx(pQ,{name:v,decoded:b,isSensitive:x},v))})}}),u.length>0&&i.push({id:"binary-data",title:"Binary Data",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:u.map(v=>f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ei,{size:14,className:"text-purple-500 dark:text-purple-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:v}),f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-purple-100 dark:bg-purple-500/20 text-purple-600 dark:text-purple-400",children:"Binary"})]})},v))})}}),{sections:i}}};function gQ(t){return t.includes(`
`)}function yQ(t){const e=De.c(29),{name:n,value:s}=t,[r,i]=V.useState(!1),[a,c]=V.useState(!1);let u;e[0]!==s?(u=async()=>{await navigator.clipboard.writeText(s),c(!0),setTimeout(()=>c(!1),2e3)},e[0]=s,e[1]=u):u=e[1];const h=u;let m;e[2]!==r?(m=()=>i(!r),e[2]=r,e[3]=m):m=e[3];let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=f.jsx(ei,{size:14,className:"text-blue-500 dark:text-blue-400"}),e[4]=p):p=e[4];let y;e[5]!==n?(y=f.jsxs("div",{className:"flex items-center gap-2",children:[p,f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n})]}),e[5]=n,e[6]=y):y=e[6];let v;e[7]!==h?(v=O=>{O.stopPropagation(),h()},e[7]=h,e[8]=v):v=e[8];let b;e[9]!==a?(b=a?f.jsx(Nn,{size:14,className:"text-emerald-500"}):f.jsx(xs,{size:14,className:"text-neutral-400"}),e[9]=a,e[10]=b):b=e[10];let x;e[11]!==v||e[12]!==b?(x=f.jsx("button",{onClick:v,className:"p-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",title:"Copy value",children:b}),e[11]=v,e[12]=b,e[13]=x):x=e[13];let S;e[14]!==r?(S=r?f.jsx(ps,{size:14,className:"text-neutral-400"}):f.jsx(Xr,{size:14,className:"text-neutral-400"}),e[14]=r,e[15]=S):S=e[15];let k;e[16]!==x||e[17]!==S?(k=f.jsxs("div",{className:"flex items-center gap-1",children:[x,S]}),e[16]=x,e[17]=S,e[18]=k):k=e[18];let C;e[19]!==m||e[20]!==y||e[21]!==k?(C=f.jsxs("button",{onClick:m,className:"w-full flex items-center justify-between p-3 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors text-left",children:[y,k]}),e[19]=m,e[20]=y,e[21]=k,e[22]=C):C=e[22];let N;e[23]!==r||e[24]!==s?(N=r&&f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-3",children:f.jsx("pre",{className:"text-xs text-neutral-700 dark:text-neutral-400 font-mono whitespace-pre-wrap break-all max-h-64 overflow-y-auto",children:s})}),e[23]=r,e[24]=s,e[25]=N):N=e[25];let R;return e[26]!==C||e[27]!==N?(R=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg overflow-hidden",children:[C,N]}),e[26]=C,e[27]=N,e[28]=R):R=e[28],R}function vQ(t){const e=De.c(8),{entries:n}=t,[s,r]=V.useState(null);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=async(h,m)=>{await navigator.clipboard.writeText(m),r(h),setTimeout(()=>r(null),2e3)},e[0]=i):i=e[0];const a=i;let c;if(e[1]!==s||e[2]!==n){let h;e[4]!==s?(h=m=>{const[p,y]=m;return f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 last:border-0",children:[f.jsx("td",{className:"py-1.5 pr-3 text-neutral-500 whitespace-nowrap",children:p}),f.jsx("td",{className:"py-1.5 font-mono break-all text-neutral-900 dark:text-neutral-300",children:y}),f.jsx("td",{className:"py-1.5 w-1",children:f.jsx("button",{onClick:()=>a(p,y),className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy value",children:s===p?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(xs,{size:12,className:"text-neutral-400"})})})]},p)},e[4]=s,e[5]=h):h=e[5],c=n.map(h),e[1]=s,e[2]=n,e[3]=c}else c=e[3];let u;return e[6]!==c?(u=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("table",{className:"w-full text-xs",children:f.jsx("tbody",{children:c})})}),e[6]=c,e[7]=u):u=e[7],u}function bQ(t){const e=De.c(16),{name:n,value:s}=t,[r,i]=V.useState(!1);let a;e[0]!==s?(a=async()=>{await navigator.clipboard.writeText(s),i(!0),setTimeout(()=>i(!1),2e3)},e[0]=s,e[1]=a):a=e[1];const c=a;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=f.jsx(ei,{size:14,className:"text-purple-500 dark:text-purple-400"}),e[2]=u):u=e[2];let h;e[3]!==n?(h=f.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:n}),e[3]=n,e[4]=h):h=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-purple-100 dark:bg-purple-500/20 text-purple-600 dark:text-purple-400",children:"Binary"}),e[5]=m):m=e[5];let p;e[6]!==h?(p=f.jsxs("div",{className:"flex items-center gap-2",children:[u,h,m]}),e[6]=h,e[7]=p):p=e[7];let y;e[8]!==r?(y=r?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(xs,{size:12,className:"text-neutral-400"}),e[8]=r,e[9]=y):y=e[9];let v;e[10]!==c||e[11]!==y?(v=f.jsx("button",{onClick:c,className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",title:"Copy base64 value",children:y}),e[10]=c,e[11]=y,e[12]=v):v=e[12];let b;return e[13]!==p||e[14]!==v?(b=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-3",children:f.jsxs("div",{className:"flex items-center justify-between",children:[p,v]})}),e[13]=p,e[14]=v,e[15]=b):b=e[15],b}const _Q={kinds:["ConfigMap","ConfigMaps"],adapt(t,e){const n=e.data||{},s=e.binaryData||{},r=Object.keys(n),i=Object.keys(s),a=r.length+i.length,c=[{id:"status",data:{type:"status-cards",items:[...e.immutable?[{label:"Immutable",value:"Yes",status:"warning",icon:f.jsx(Dp,{size:14,className:"text-amber-400"})}]:[]]}}],u=[],h=[];return r.forEach(m=>{gQ(n[m])?h.push([m,n[m]]):u.push([m,n[m]])}),u.length>0&&c.push({id:"data-simple",title:"Data",data:{type:"custom",render:()=>f.jsx(vQ,{entries:u})}}),h.length>0&&c.push({id:"data-multiline",title:u.length>0?"Files":"Data",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:h.map(([m,p])=>f.jsx(yQ,{name:m,value:p},m))})}}),i.length>0&&c.push({id:"binary-data",title:"Binary Data",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:i.map(m=>f.jsx(bQ,{name:m,value:s[m]},m))})}}),a===0&&c.push({id:"empty",data:{type:"custom",render:()=>f.jsxs("div",{className:"text-center py-8 text-neutral-400 dark:text-neutral-500",children:[f.jsx(ei,{size:32,className:"mx-auto mb-2 opacity-50"}),f.jsx("p",{className:"text-sm",children:"This ConfigMap is empty"})]})}}),{sections:c}}},xQ={kinds:["Gateway","Gateways"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=s?.conditions?.find(h=>h.type==="Accepted"),i=s?.conditions?.find(h=>h.type==="Programmed"),a=r?.status==="True",c=i?.status==="True",u=s?.listeners?.reduce((h,m)=>h+(m.attachedRoutes||0),0)||0;return{sections:[{id:"status",title:"Gateway Status",data:{type:"status-cards",items:[{label:"Gateway Class",value:n.gatewayClassName,status:"neutral"},{label:"Accepted",value:a?"Yes":"No",status:a?"success":"error"},{label:"Programmed",value:c?"Yes":"No",status:c?"success":"error"},{label:"Attached Routes",value:u,status:"neutral"}]}},...s?.addresses&&s.addresses.length>0?[{id:"addresses",title:"Addresses",data:{type:"info-grid",items:s.addresses.map(h=>({label:h.type||"IPAddress",value:h.value,color:"text-blue-400"})),columns:2}}]:[],{id:"listeners",title:"Listeners",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.listeners.map(h=>f.jsx(wQ,{listener:h,status:s},h.name))})}}]}}};function wQ(t){const e=De.c(32),{listener:n,status:s}=t,[r,i]=ks.useState(!1);let a;e[0]!==n.name||e[1]!==s?.listeners?(a=s?.listeners?.find(R=>R.name===n.name),e[0]=n.name,e[1]=s?.listeners,e[2]=a):a=e[2];const u=a?.attachedRoutes??0;let h;e[3]!==r?(h=()=>i(!r),e[3]=r,e[4]=h):h=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=f.jsx(KG,{size:14,className:"text-emerald-400"}),e[5]=m):m=e[5];let p;e[6]!==n.name?(p=f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:n.name}),e[6]=n.name,e[7]=p):p=e[7];let y;e[8]!==n.protocol?(y=f.jsx("span",{className:"px-1.5 py-0.5 rounded text-xs bg-blue-500/20 text-blue-400",children:n.protocol}),e[8]=n.protocol,e[9]=y):y=e[9];let v;e[10]!==p||e[11]!==y?(v=f.jsxs("div",{className:"flex items-center gap-2",children:[p,y]}),e[10]=p,e[11]=y,e[12]=v):v=e[12];const b=u!==1?"s":"";let x;e[13]!==u||e[14]!==n.port||e[15]!==b?(x=f.jsxs("div",{className:"text-xs text-neutral-500",children:["Port ",n.port,"  ",u," route",b]}),e[13]=u,e[14]=n.port,e[15]=b,e[16]=x):x=e[16];let S;e[17]!==v||e[18]!==x?(S=f.jsxs("div",{className:"flex-1 min-w-0",children:[v,x]}),e[17]=v,e[18]=x,e[19]=S):S=e[19];let k;e[20]!==h||e[21]!==S?(k=f.jsxs("button",{onClick:h,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[m,S]}),e[20]=h,e[21]=S,e[22]=k):k=e[22];let C;e[23]!==u||e[24]!==r||e[25]!==n.hostname||e[26]!==n.port||e[27]!==n.protocol?(C=r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Protocol & Port"}),f.jsxs("div",{className:"text-xs space-y-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Protocol:"}),f.jsx("span",{className:"text-blue-400",children:n.protocol})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Port:"}),f.jsx("span",{className:"text-cyan-400",children:n.port})]})]})]}),n.hostname&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Hostname"}),f.jsx("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Cr,{size:10,className:"text-cyan-400"}),f.jsx("span",{className:"text-cyan-400",children:n.hostname})]})})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Attached Routes"}),f.jsxs("div",{className:"text-xs",children:[f.jsx("span",{className:"text-emerald-400 font-medium",children:u}),f.jsxs("span",{className:"text-neutral-500 ml-1",children:["route",u!==1?"s":""," attached"]})]})]})]}),e[23]=u,e[24]=r,e[25]=n.hostname,e[26]=n.port,e[27]=n.protocol,e[28]=C):C=e[28];let N;return e[29]!==k||e[30]!==C?(N=f.jsxs("div",{className:"border border-emerald-500/30 bg-emerald-500/5 rounded-lg overflow-hidden",children:[k,C]}),e[29]=k,e[30]=C,e[31]=N):N=e[31],N}const SQ={kinds:["HTTPRoute","HTTPRoutes"],adapt(t,e){const n=e.spec,s=e.status;return n?{sections:[...n.parentRefs&&n.parentRefs.length>0?[{id:"parents",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(uh,{size:10})," Parent Gateway",n.parentRefs.length>1?"s":""]}),f.jsx("div",{className:"space-y-1",children:n.parentRefs.map((r,i)=>{const c=s?.parents?.find(h=>h.parentRef.name===r.name)?.conditions?.find(h=>h.type==="Accepted"),u=c?.status==="True";return f.jsxs("div",{className:"text-sm flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Gateway:"}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:r.name}),r.namespace&&f.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:["(",r.namespace,")"]}),f.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${u?"bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-amber-500/20 text-amber-700 dark:text-amber-400"}`,children:u?"Accepted":c?.reason||"Unknown"})]},i)})})]})}}]:[],...n.hostnames&&n.hostnames.length>0?[{id:"hostnames",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-2",children:"Hostnames"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:n.hostnames.map((r,i)=>f.jsx("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded px-2.5 py-1 text-sm text-cyan-600 dark:text-cyan-400 font-mono",children:r},i))})]})}}]:[],...n.rules&&n.rules.length>0?[{id:"rules",title:"Routing Rules",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.rules.map((r,i)=>f.jsx(kQ,{rule:r,index:i},r.matches?.[0]?.path?.value||`rule-${i}`))})}}]:[]]}:{sections:[]}}};function kQ(t){const e=De.c(22),{rule:n,index:s}=t,[r,i]=ks.useState(!1),a=n.matches?.length||0,c=n.backendRefs?.length||0;let u;e[0]!==r?(u=()=>i(!r),e[0]=r,e[1]=u):u=e[1];let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=f.jsx(ap,{size:14,className:"text-purple-400"}),e[2]=h):h=e[2];const m=s+1;let p;e[3]!==m?(p=f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:["Rule ",m]})}),e[3]=m,e[4]=p):p=e[4];const y=a>0?`${a} match${a!==1?"es":""}`:"All requests",v=c!==1?"s":"";let b;e[5]!==c||e[6]!==y||e[7]!==v?(b=f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:[y,"  ",c," backend",v]}),e[5]=c,e[6]=y,e[7]=v,e[8]=b):b=e[8];let x;e[9]!==p||e[10]!==b?(x=f.jsxs("div",{className:"flex-1 min-w-0",children:[p,b]}),e[9]=p,e[10]=b,e[11]=x):x=e[11];let S;e[12]!==u||e[13]!==x?(S=f.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[h,x]}),e[12]=u,e[13]=x,e[14]=S):S=e[14];let k;e[15]!==r||e[16]!==n.backendRefs||e[17]!==n.matches?(k=r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[n.matches&&n.matches.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Matches"}),f.jsx("div",{className:"space-y-2",children:n.matches.map(NQ)})]}),n.backendRefs&&n.backendRefs.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Backend Services"}),f.jsx("div",{className:"space-y-2",children:n.backendRefs.map(CQ)})]})]}),e[15]=r,e[16]=n.backendRefs,e[17]=n.matches,e[18]=k):k=e[18];let C;return e[19]!==k||e[20]!==S?(C=f.jsxs("div",{className:"border border-purple-500/30 bg-purple-500/5 rounded-lg overflow-hidden",children:[S,k]}),e[19]=k,e[20]=S,e[21]=C):C=e[21],C}function CQ(t,e){return f.jsx("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ry,{size:10,className:"text-emerald-600 dark:text-emerald-400"}),f.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:t.name}),t.port&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:":"}),f.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:t.port})]}),t.weight!==void 0&&f.jsxs("span",{className:"ml-auto px-1 py-0.5 rounded bg-amber-500/20 text-amber-400 text-[10px]",children:["weight: ",t.weight]})]})},e)}function NQ(t,e){return f.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:[t.path?.value&&f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(ap,{size:10,className:"text-cyan-600 dark:text-cyan-400"}),f.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Path:"}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:t.path.value})]}),t.method&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400 ml-4",children:"Method:"}),f.jsx("span",{className:"px-1 py-0.5 rounded bg-blue-500/20 text-blue-400 text-[10px] font-mono",children:t.method})]})]},e)}const EQ={kinds:["GRPCRoute","GRPCRoutes"],adapt(t,e){const n=e.spec,s=e.status;return n?{sections:[...n.parentRefs&&n.parentRefs.length>0?[{id:"parents",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(uh,{size:10})," Parent Gateway",n.parentRefs.length>1?"s":""]}),f.jsx("div",{className:"space-y-1",children:n.parentRefs.map((r,i)=>{const c=s?.parents?.find(h=>h.parentRef.name===r.name)?.conditions?.find(h=>h.type==="Accepted"),u=c?.status==="True";return f.jsxs("div",{className:"text-sm flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Gateway:"}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:r.name}),r.namespace&&f.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:["(",r.namespace,")"]}),f.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${u?"bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-amber-500/20 text-amber-700 dark:text-amber-400"}`,children:u?"Accepted":c?.reason||"Unknown"})]},i)})})]})}}]:[],...n.hostnames&&n.hostnames.length>0?[{id:"hostnames",data:{type:"custom",render:()=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-2",children:"Hostnames"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:n.hostnames.map((r,i)=>f.jsx("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded px-2.5 py-1 text-sm text-cyan-600 dark:text-cyan-400 font-mono",children:r},i))})]})}}]:[],...n.rules&&n.rules.length>0?[{id:"rules",title:"Routing Rules",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.rules.map((r,i)=>f.jsx(AQ,{rule:r,index:i},r.matches?.[0]?.method?.service||`rule-${i}`))})}}]:[]]}:{sections:[]}}};function AQ(t){const e=De.c(22),{rule:n,index:s}=t,[r,i]=ks.useState(!1),a=n.matches?.length||0,c=n.backendRefs?.length||0;let u;e[0]!==r?(u=()=>i(!r),e[0]=r,e[1]=u):u=e[1];let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=f.jsx(Vn,{size:14,className:"text-indigo-400"}),e[2]=h):h=e[2];const m=s+1;let p;e[3]!==m?(p=f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:["Rule ",m]})}),e[3]=m,e[4]=p):p=e[4];const y=a>0?`${a} match${a!==1?"es":""}`:"All methods",v=c!==1?"s":"";let b;e[5]!==c||e[6]!==y||e[7]!==v?(b=f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:[y,"  ",c," backend",v]}),e[5]=c,e[6]=y,e[7]=v,e[8]=b):b=e[8];let x;e[9]!==p||e[10]!==b?(x=f.jsxs("div",{className:"flex-1 min-w-0",children:[p,b]}),e[9]=p,e[10]=b,e[11]=x):x=e[11];let S;e[12]!==u||e[13]!==x?(S=f.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[h,x]}),e[12]=u,e[13]=x,e[14]=S):S=e[14];let k;e[15]!==r||e[16]!==n.backendRefs||e[17]!==n.matches?(k=r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[n.matches&&n.matches.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"gRPC Method Matches"}),f.jsx("div",{className:"space-y-2",children:n.matches.map(TQ)})]}),n.backendRefs&&n.backendRefs.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Backend Services"}),f.jsx("div",{className:"space-y-2",children:n.backendRefs.map(jQ)})]})]}),e[15]=r,e[16]=n.backendRefs,e[17]=n.matches,e[18]=k):k=e[18];let C;return e[19]!==k||e[20]!==S?(C=f.jsxs("div",{className:"border border-indigo-500/30 bg-indigo-500/5 rounded-lg overflow-hidden",children:[S,k]}),e[19]=k,e[20]=S,e[21]=C):C=e[21],C}function jQ(t,e){return f.jsx("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ry,{size:10,className:"text-emerald-600 dark:text-emerald-400"}),f.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:t.name}),t.port&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:":"}),f.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:t.port})]}),t.weight!==void 0&&f.jsxs("span",{className:"ml-auto px-1 py-0.5 rounded bg-amber-500/20 text-amber-400 text-[10px]",children:["weight: ",t.weight]})]})},e)}function TQ(t,e){return f.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:[t.method?.service&&f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Vn,{size:10,className:"text-purple-600 dark:text-purple-400"}),f.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Service:"}),f.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-mono",children:t.method.service})]}),t.method?.method&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-400 ml-4",children:"Method:"}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:t.method.method})]})]},e)}const RQ={kinds:["Ingress","Ingresses"],adapt(t,e){const n=e.spec,s=e.status;if(!n)return{sections:[]};const r=s?.loadBalancer?.ingress&&s.loadBalancer.ingress.length>0;return{sections:[{id:"status",title:"Ingress Status",data:{type:"status-cards",items:[{label:"Ingress Class",value:n.ingressClassName||"default",status:"neutral"},{label:"Load Balancer",value:r?"Ready":"Pending",status:r?"success":"warning"}]}},...r?[{id:"load-balancer",title:"Load Balancer",data:{type:"info-grid",items:(s?.loadBalancer?.ingress||[]).map(i=>({label:i.hostname?"Hostname":"IP Address",value:i.hostname||i.ip||"Unknown",color:"text-blue-400"})),columns:2}}]:[],...n.tls&&n.tls.length>0?[{id:"tls",title:"TLS Configuration",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.tls.map((i,a)=>f.jsx(DQ,{tls:i,index:a},i.secretName||`tls-${a}`))})}}]:[],...n.rules&&n.rules.length>0?[{id:"rules",title:"Routing Rules",data:{type:"custom",render:()=>f.jsx("div",{className:"space-y-2",children:n.rules.map((i,a)=>f.jsx(OQ,{rule:i,index:a},i.host||`rule-${a}`))})}}]:[],...n.defaultBackend?.service?[{id:"default-backend",title:"Default Backend",data:{type:"info-grid",items:[{label:"Service",value:n.defaultBackend.service.name},{label:"Port",value:String(n.defaultBackend.service.port?.number||n.defaultBackend.service.port?.name||"unknown")}],columns:2}}]:[]]}}};function OQ(t){const e=De.c(21),{rule:n,index:s}=t,[r,i]=ks.useState(!1);let a;e[0]!==r?(a=()=>i(!r),e[0]=r,e[1]=a):a=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=f.jsx(Vn,{size:14,className:"text-blue-400"}),e[2]=c):c=e[2];const u=n.host||`Rule ${s+1}`;let h;e[3]!==u?(h=f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:u})}),e[3]=u,e[4]=h):h=e[4];const m=n.http?.paths.length||0,p=n.http?.paths.length!==1?"s":"";let y;e[5]!==m||e[6]!==p?(y=f.jsxs("div",{className:"text-xs text-neutral-500",children:[m," path",p]}),e[5]=m,e[6]=p,e[7]=y):y=e[7];let v;e[8]!==h||e[9]!==y?(v=f.jsxs("div",{className:"flex-1 min-w-0",children:[h,y]}),e[8]=h,e[9]=y,e[10]=v):v=e[10];let b;e[11]!==a||e[12]!==v?(b=f.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[c,v]}),e[11]=a,e[12]=v,e[13]=b):b=e[13];let x;e[14]!==r||e[15]!==n.host||e[16]!==n.http?(x=r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[n.host&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Host"}),f.jsx("div",{className:"text-xs text-cyan-400",children:n.host})]}),n.http?.paths&&n.http.paths.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Paths"}),f.jsx("div",{className:"space-y-2",children:n.http.paths.map(MQ)})]})]}),e[14]=r,e[15]=n.host,e[16]=n.http,e[17]=x):x=e[17];let S;return e[18]!==x||e[19]!==b?(S=f.jsxs("div",{className:"border border-blue-500/30 bg-blue-500/5 rounded-lg overflow-hidden",children:[b,x]}),e[18]=x,e[19]=b,e[20]=S):S=e[20],S}function MQ(t,e){const n=t.backend.service?.port?.number||t.backend.service?.port?.name||"";return f.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(ap,{size:10,className:"text-purple-400"}),f.jsx("span",{className:"text-neutral-700 dark:text-neutral-300 font-mono",children:t.path||"/"}),f.jsx("span",{className:"px-1 py-0.5 rounded bg-purple-500/20 text-purple-400 text-[10px]",children:t.pathType})]}),f.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-600",children:""}),f.jsx("span",{className:"text-emerald-400",children:t.backend.service?.name||"unknown"}),f.jsx("span",{className:"text-neutral-600",children:":"}),f.jsx("span",{className:"text-blue-400",children:n})]})]},e)}function DQ(t){const e=De.c(22),{tls:n,index:s}=t,[r,i]=ks.useState(!1);let a;e[0]!==r?(a=()=>i(!r),e[0]=r,e[1]=a):a=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=f.jsx(Op,{size:14,className:"text-amber-400"}),e[2]=c):c=e[2];const u=n.secretName||`TLS ${s+1}`;let h;e[3]!==u?(h=f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:u})}),e[3]=u,e[4]=h):h=e[4];let m;e[5]!==n.hosts?(m=n.hosts?.join(", ")||"All hosts",e[5]=n.hosts,e[6]=m):m=e[6];let p;e[7]!==m?(p=f.jsx("div",{className:"text-xs text-neutral-500 truncate",children:m}),e[7]=m,e[8]=p):p=e[8];let y;e[9]!==h||e[10]!==p?(y=f.jsxs("div",{className:"flex-1 min-w-0",children:[h,p]}),e[9]=h,e[10]=p,e[11]=y):y=e[11];let v;e[12]!==a||e[13]!==y?(v=f.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[c,y]}),e[12]=a,e[13]=y,e[14]=v):v=e[14];let b;e[15]!==r||e[16]!==n.hosts||e[17]!==n.secretName?(b=r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Secret"}),f.jsx("div",{className:"text-xs text-purple-400",children:n.secretName||"default"})]}),n.hosts&&n.hosts.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Hosts"}),f.jsx("div",{className:"space-y-1",children:n.hosts.map(BQ)})]})]}),e[15]=r,e[16]=n.hosts,e[17]=n.secretName,e[18]=b):b=e[18];let x;return e[19]!==v||e[20]!==b?(x=f.jsxs("div",{className:"border border-amber-500/30 bg-amber-500/5 rounded-lg overflow-hidden",children:[v,b]}),e[19]=v,e[20]=b,e[21]=x):x=e[21],x}function BQ(t,e){return f.jsx("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Cr,{size:10,className:"text-cyan-400"}),f.jsx("span",{className:"text-cyan-400",children:t})]})},e)}const LQ=[JY,QY,rZ,iZ,aZ,oZ,cZ,hZ,dZ,mZ,CZ,RZ,PZ,XJ,JJ,eQ,mQ,_Q,xQ,SQ,EQ,RQ],sN=new Map;LQ.forEach(t=>{t.kinds.forEach(e=>{sN.set(e.toLowerCase(),t)})});function EL(t){return sN.get(t.toLowerCase())??null}function yR(t){return sN.has(t.toLowerCase())}function IQ(t,e){const n=e.kind;if(!n)return null;const s=EL(n);return s?s.adapt(t,e):null}function AL(t){const e=t.kind;if(!e)return[];const n=EL(e);return n?.actions?n.actions.filter(s=>!s.isVisible||s.isVisible(t)):[]}function jL({context:t,actions:e,resource:n,onActionComplete:s}){const[r,i]=V.useState(null),[a,c]=V.useState(null),[u,h]=V.useState(null);if(e.length===0)return null;const m=async v=>{h(null),i(v.id);try{await v.execute(t,n),s?.()}catch(b){h(b instanceof Error?b.message:"Action failed")}finally{i(null),c(null)}},p=v=>{v.confirm?c(v):m(v)},y=(v="secondary")=>{switch(v){case"primary":return"bg-blue-600 hover:bg-blue-700 text-white border-blue-600";case"danger":return"bg-red-600 hover:bg-red-700 text-white border-red-600";case"warning":return"bg-amber-600 hover:bg-amber-700 text-white border-amber-600";default:return"bg-neutral-700 hover:bg-neutral-600 text-neutral-200 border-neutral-600"}};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.map(v=>{const b=v.isDisabled?.(n),x=b===!0||typeof b=="string",S=typeof b=="string"?b:void 0,k=r===v.id;return f.jsxs("button",{onClick:()=>p(v),disabled:x||k,title:S,className:`
                flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded border
                transition-colors duration-150
                ${y(v.variant)}
                ${x?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                ${k?"opacity-75":""}
              `,children:[k?f.jsx(Ln,{size:14,className:"animate-spin"}):v.icon,v.label]},v.id)})}),u&&f.jsx("div",{className:"mb-4 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-xs",children:u}),a&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 rounded-lg p-4 max-w-md mx-4 shadow-xl",children:[f.jsx("h3",{className:"text-sm font-semibold text-neutral-200 mb-2",children:a.confirm?.title}),f.jsx("p",{className:"text-xs text-neutral-400 mb-4",children:a.confirm?.message}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>c(null),className:"px-3 py-1.5 text-xs font-medium rounded border border-neutral-600 bg-neutral-700 hover:bg-neutral-600 text-neutral-200",children:"Cancel"}),f.jsxs("button",{onClick:()=>m(a),disabled:r===a.id,className:`
                  flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded border
                  ${y(a.variant)}
                  ${r===a.id?"opacity-75":""}
                `,children:[r===a.id&&f.jsx(Ln,{size:14,className:"animate-spin"}),a.confirm?.confirmLabel||"Confirm"]})]})]})})]})}function PQ(t){const e=De.c(6),{items:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={success:"text-emerald-400",warning:"text-amber-400",error:"text-red-400",neutral:"text-neutral-900 dark:text-neutral-100"},e[0]=s):s=e[0];const r=s;let i;if(e[1]!==n){let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=(u,h)=>f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:u.label}),f.jsxs("div",{className:`text-sm font-medium flex items-center gap-2 ${r[u.status||"neutral"]}`,children:[u.icon,u.value]}),u.description&&f.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:u.description})]},h),e[3]=c):c=e[3],i=n.map(c),e[1]=n,e[2]=i}else i=e[2];let a;return e[4]!==i?(a=f.jsx("div",{className:"grid grid-cols-2 gap-3",children:i}),e[4]=i,e[5]=a):a=e[5],a}function $Q(t){const e=De.c(12),{items:n,podGrid:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={emerald:"text-emerald-400",blue:"text-blue-400",cyan:"text-cyan-400",purple:"text-purple-400",amber:"text-amber-400"},e[0]=r):r=e[0];const i=r;let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a={emerald:"bg-emerald-500",blue:"bg-blue-500",cyan:"bg-cyan-500",purple:"bg-purple-500",amber:"bg-amber-500"},e[1]=a):a=e[1];const c=a;let u;if(e[2]!==n){let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y=(v,b)=>{const x=v.total>0?Math.min(v.current/v.total*100,100):0;return f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:v.label}),f.jsxs("span",{className:i[v.color],children:[v.current,"/",v.total]})]}),f.jsx("div",{className:"h-1 bg-neutral-300 dark:bg-neutral-700 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full ${c[v.color]}`,style:{width:`${x}%`}})})]},b)},e[4]=y):y=e[4],u=n.map(y),e[2]=n,e[3]=u}else u=e[3];let h;e[5]!==u?(h=f.jsx("div",{className:"flex items-center gap-4 mb-3",children:u}),e[5]=u,e[6]=h):h=e[6];let m;e[7]!==s?(m=s&&f.jsx(zQ,{data:s}),e[7]=s,e[8]=m):m=e[8];let p;return e[9]!==h||e[10]!==m?(p=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-3",children:[h,m]}),e[9]=h,e[10]=m,e[11]=p):p=e[11],p}function zQ(t){const e=De.c(10),{data:n}=t,s=n.icon==="database"?lc:n.icon==="server"?mi:yi;let r;e[0]!==n.total?(r=Array.from({length:n.total}),e[0]=n.total,e[1]=r):r=e[1];let i;return e[2]!==s||e[3]!==n.available||e[4]!==n.current||e[5]!==n.podTitles||e[6]!==n.ready||e[7]!==n.showOrdinal||e[8]!==r?(i=f.jsx("div",{className:"flex flex-wrap gap-1",children:r.map((a,c)=>{const u=c<n.ready,h=n.available!==void 0?c<n.available:u,m=n.current!==void 0?c<n.current:h,p=n.podTitles?.[c]??`Pod ${c}`;return f.jsxs("div",{className:`${n.showOrdinal?"w-8 h-8":"w-6 h-6"} rounded flex flex-col items-center justify-center ${u?"bg-emerald-500/20 border border-emerald-500/50":h?"bg-cyan-500/20 border border-cyan-500/50":m?"bg-amber-500/20 border border-amber-500/50":"bg-neutral-300/50 dark:bg-neutral-700/50 border border-neutral-400 dark:border-neutral-600"}`,title:`${p}: ${u?"Ready":h?"Available":m?"Current":"Pending"}`,children:[f.jsx(s,{size:n.showOrdinal?10:12,className:u?"text-emerald-600 dark:text-emerald-400":h?"text-cyan-600 dark:text-cyan-400":m?"text-amber-600 dark:text-amber-400":"text-neutral-600 dark:text-neutral-500"}),n.showOrdinal&&f.jsx("span",{className:`text-[9px] ${u?"text-emerald-600 dark:text-emerald-400":h?"text-cyan-600 dark:text-cyan-400":m?"text-amber-600 dark:text-amber-400":"text-neutral-600 dark:text-neutral-500"}`,children:c})]},c)})}),e[2]=s,e[3]=n.available,e[4]=n.current,e[5]=n.podTitles,e[6]=n.ready,e[7]=n.showOrdinal,e[8]=r,e[9]=i):i=e[9],i}function UQ(t,e){if(t==="running")return{label:"Running",borderClass:"border-emerald-500/30 bg-emerald-500/5",badgeClass:"bg-emerald-500/20 text-emerald-400",iconClass:"text-emerald-400"};if(t==="waiting"){const n=e==="CrashLoopBackOff"||e==="Error";return{label:e||"Waiting",borderClass:n?"border-red-500/30 bg-red-500/5":"border-amber-500/30 bg-amber-500/5",badgeClass:n?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400",iconClass:n?"text-red-400":"text-amber-400"}}return t==="terminated"?{label:e||"Terminated",borderClass:"border-neutral-300 bg-neutral-100 dark:border-neutral-700 dark:bg-neutral-900/50",badgeClass:"bg-neutral-200 text-neutral-600 dark:bg-neutral-700 dark:text-neutral-400",iconClass:"text-neutral-500 dark:text-neutral-400"}:{label:"Unknown",borderClass:"border-neutral-300 bg-neutral-100 dark:border-neutral-700 dark:bg-neutral-900/50",badgeClass:"bg-neutral-200 text-neutral-600 dark:bg-neutral-700 dark:text-neutral-400",iconClass:"text-neutral-500 dark:text-neutral-400"}}const HQ=15e3;function FQ(t){const e=De.c(10),{items:n,metricsLoader:s}=t,[r,i]=V.useState(null);let a,c;if(e[0]!==s?(a=()=>{if(!s)return;let m=!0;const p=async()=>{const v=await s();m&&i(v)};p();const y=setInterval(p,HQ);return()=>{m=!1,clearInterval(y)}},c=[s],e[0]=s,e[1]=a,e[2]=c):(a=e[1],c=e[2]),V.useEffect(a,c),n.length===0)return null;let u;if(e[3]!==n||e[4]!==r){let m;e[6]!==r?(m=p=>f.jsx(VQ,{container:p,metrics:r?.get(p.name)},p.name),e[6]=r,e[7]=m):m=e[7],u=n.map(m),e[3]=n,e[4]=r,e[5]=u}else u=e[5];let h;return e[8]!==u?(h=f.jsx("div",{className:"space-y-2",children:u}),e[8]=u,e[9]=h):h=e[9],h}function VQ(t){const e=De.c(49),{container:n,metrics:s}=t,[r,i]=V.useState(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>i(YQ),e[0]=a):a=e[0];const c=a;let u;e[1]!==n.state||e[2]!==n.stateReason?(u=UQ(n.state,n.stateReason),e[1]=n.state,e[2]=n.stateReason,e[3]=u):u=e[3];const h=u,m=`border rounded-lg overflow-hidden ${h.borderClass}`;let p;e[4]!==h.iconClass?(p=f.jsx(yi,{size:16,className:h.iconClass}),e[4]=h.iconClass,e[5]=p):p=e[5];let y;e[6]!==n.name?(y=f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:n.name}),e[6]=n.name,e[7]=y):y=e[7];let v;e[8]!==n.state||e[9]!==h.badgeClass||e[10]!==h.label?(v=n.state&&f.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${h.badgeClass}`,children:h.label}),e[8]=n.state,e[9]=h.badgeClass,e[10]=h.label,e[11]=v):v=e[11];let b;e[12]!==y||e[13]!==v?(b=f.jsxs("div",{className:"flex items-center gap-2",children:[y,v]}),e[12]=y,e[13]=v,e[14]=b):b=e[14];let x;e[15]!==n.image?(x=f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 truncate",children:n.image}),e[15]=n.image,e[16]=x):x=e[16];let S;e[17]!==b||e[18]!==x?(S=f.jsxs("div",{className:"flex-1 min-w-0",children:[b,x]}),e[17]=b,e[18]=x,e[19]=S):S=e[19];let k;e[20]!==s?(k=s&&f.jsxs("div",{className:"flex items-center gap-3 text-xs font-mono",children:[f.jsx("span",{className:"text-blue-400",title:"CPU",children:s.cpu.usage}),f.jsx("span",{className:"text-purple-400",title:"Memory",children:s.memory.usage})]}),e[20]=s,e[21]=k):k=e[21];let C;e[22]!==n.restartCount?(C=(n.restartCount??0)>0&&f.jsxs("div",{className:"text-xs text-amber-400",children:[n.restartCount," restarts"]}),e[22]=n.restartCount,e[23]=C):C=e[23];let N;e[24]!==k||e[25]!==C||e[26]!==p||e[27]!==S?(N=f.jsxs("button",{onClick:c,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[p,S,k,C]}),e[24]=k,e[25]=C,e[26]=p,e[27]=S,e[28]=N):N=e[28];let R;e[29]!==n.args||e[30]!==n.command||e[31]!==n.currentTermination||e[32]!==n.env||e[33]!==n.envFrom||e[34]!==n.image||e[35]!==n.lastTermination||e[36]!==n.mounts||e[37]!==n.ports||e[38]!==n.resources||e[39]!==n.state||e[40]!==n.stateMessage||e[41]!==n.stateReason||e[42]!==r||e[43]!==s?(R=r&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[n.currentTermination&&f.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded p-2",children:[f.jsx("div",{className:"text-xs text-red-400 font-medium mb-1",children:"Terminated"}),f.jsxs("div",{className:"text-xs space-y-1",children:[n.currentTermination.reason&&f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Reason:"})," ",n.currentTermination.reason]}),n.currentTermination.exitCode!==void 0&&f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Exit Code:"})," ",n.currentTermination.exitCode]}),n.currentTermination.signal!==void 0&&f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Signal:"})," ",n.currentTermination.signal]}),n.currentTermination.finishedAt&&f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Finished:"})," ",new Date(n.currentTermination.finishedAt).toLocaleString()]}),n.currentTermination.message&&f.jsxs("div",{className:"mt-2 p-2 bg-neutral-900/50 rounded",children:[f.jsx("div",{className:"text-neutral-600 dark:text-neutral-500 mb-1",children:"Message:"}),f.jsx("div",{className:"text-red-300 text-[11px] font-mono break-all whitespace-pre-wrap",children:n.currentTermination.message})]})]})]}),n.state==="waiting"&&n.stateMessage&&f.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded p-2",children:[f.jsxs("div",{className:"text-xs text-amber-400 font-medium mb-1",children:["Waiting: ",n.stateReason]}),f.jsx("div",{className:"text-amber-300 text-[11px] font-mono break-all whitespace-pre-wrap",children:n.stateMessage})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Image"}),f.jsx("div",{className:"text-xs text-cyan-600 dark:text-cyan-400 break-all",children:n.image})]}),(n.command||n.args)&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Command"}),f.jsx("code",{className:"text-xs text-neutral-900 dark:text-neutral-300 bg-neutral-200 dark:bg-neutral-800 px-2 py-1 rounded block",children:[...n.command||[],...n.args||[]].join(" ")})]}),n.lastTermination&&f.jsxs("div",{className:"bg-red-500/5 border border-red-500/20 rounded p-2",children:[f.jsx("div",{className:"text-xs text-red-400 font-medium mb-1",children:"Last Termination"}),f.jsxs("div",{className:"text-xs space-y-0.5",children:[n.lastTermination.reason&&f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Reason:"})," ",n.lastTermination.reason]}),n.lastTermination.exitCode!==void 0&&f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Exit Code:"})," ",n.lastTermination.exitCode]}),n.lastTermination.signal!==void 0&&f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Signal:"})," ",n.lastTermination.signal]}),n.lastTermination.finishedAt&&f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Finished:"})," ",new Date(n.lastTermination.finishedAt).toLocaleString()]})]})]}),n.ports&&n.ports.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Ports"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:n.ports.map(GQ)})]}),!s&&n.resources&&f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.resources.requests&&f.jsxs("div",{children:[f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(_v,{size:10})," Requests"]}),f.jsx("div",{className:"text-xs space-y-0.5",children:Object.entries(n.resources.requests).map(WQ)})]}),n.resources.limits&&f.jsxs("div",{children:[f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1 flex items-center gap-1",children:[f.jsx(Ns,{size:10})," Limits"]}),f.jsx("div",{className:"text-xs space-y-0.5",children:Object.entries(n.resources.limits).map(KQ)})]})]}),(n.env&&n.env.length>0||n.envFrom&&n.envFrom.length>0)&&f.jsx(ZQ,{env:n.env,envFrom:n.envFrom}),n.mounts&&n.mounts.length>0&&f.jsxs("div",{children:[f.jsxs("div",{className:"text-xs text-neutral-500 mb-2 flex items-center gap-1",children:[f.jsx(Ns,{size:10})," Volume Mounts"]}),f.jsx("div",{className:"text-xs space-y-1.5",children:n.mounts.map(qQ)})]})]}),e[29]=n.args,e[30]=n.command,e[31]=n.currentTermination,e[32]=n.env,e[33]=n.envFrom,e[34]=n.image,e[35]=n.lastTermination,e[36]=n.mounts,e[37]=n.ports,e[38]=n.resources,e[39]=n.state,e[40]=n.stateMessage,e[41]=n.stateReason,e[42]=r,e[43]=s,e[44]=R):R=e[44];let O;return e[45]!==N||e[46]!==R||e[47]!==m?(O=f.jsxs("div",{className:m,children:[N,R]}),e[45]=N,e[46]=R,e[47]=m,e[48]=O):O=e[48],O}function qQ(t,e){return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded p-2 flex items-center gap-2",children:[f.jsx("span",{className:"text-purple-400 truncate max-w-35",title:t.name,children:t.name}),f.jsx("span",{className:"text-neutral-600",children:""}),f.jsx("span",{className:"text-cyan-400 font-mono truncate flex-1",title:t.mountPath,children:t.mountPath}),t.readOnly&&f.jsx("span",{className:"text-amber-400 text-[10px] px-1 py-0.5 bg-amber-500/10 rounded",children:"(ro)"})]},e)}function KQ(t){const[e,n]=t;return f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[f.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[e,":"]})," ",n]},e)}function WQ(t){const[e,n]=t;return f.jsxs("div",{className:"text-neutral-700 dark:text-neutral-400",children:[f.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[e,":"]})," ",n]},e)}function GQ(t,e){return f.jsxs("span",{className:"text-xs text-neutral-900 dark:text-neutral-100 bg-neutral-200 dark:bg-neutral-800 px-2 py-1 rounded",children:[t.containerPort,"/",t.protocol||"TCP",t.name&&f.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500 ml-1",children:["(",t.name,")"]})]},e)}function YQ(t){return!t}function ZQ(t){const e=De.c(9),{env:n,envFrom:s}=t,r=s&&s.length>0;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=f.jsx("div",{className:"text-xs text-neutral-500 mb-2",children:"Environment"}),e[0]=i):i=e[0];let a;e[1]!==s||e[2]!==r?(a=r&&f.jsx("div",{className:"mb-2 space-y-1",children:s.map(JQ)}),e[1]=s,e[2]=r,e[3]=a):a=e[3];let c;e[4]!==n?(c=n&&n.length>0&&f.jsx("table",{className:"w-full text-xs",children:f.jsx("tbody",{children:n.map(XQ)})}),e[4]=n,e[5]=c):c=e[5];let u;return e[6]!==a||e[7]!==c?(u=f.jsxs("div",{children:[i,a,c]}),e[6]=a,e[7]=c,e[8]=u):u=e[8],u}function XQ(t,e){return f.jsxs("tr",{className:e%2===0?"bg-neutral-50 dark:bg-neutral-800/30":"",children:[f.jsx("td",{className:"py-1 px-2 text-sky-600 dark:text-sky-400 font-mono truncate max-w-35",title:t.name,children:t.name}),f.jsx("td",{className:"py-1 px-2 truncate",children:f.jsx(QQ,{env:t})})]},t.name)}function JQ(t,e){return f.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 px-2 py-1.5 rounded flex items-center gap-2",children:[t.type==="secret"?f.jsx(gD,{size:12,className:"text-amber-500 shrink-0"}):f.jsx(ei,{size:12,className:"text-blue-400 shrink-0"}),f.jsx("span",{className:"text-neutral-500",children:"from"}),f.jsx("span",{className:t.type==="secret"?"text-amber-500":"text-blue-400",children:t.type==="secret"?"Secret":"ConfigMap"}),f.jsx("span",{className:"text-neutral-900 dark:text-neutral-300 font-mono",children:t.name}),t.prefix&&f.jsxs("span",{className:"text-neutral-500 ml-auto text-[10px]",children:["prefix: ",t.prefix]})]},e)}function QQ(t){const e=De.c(29),{env:n}=t;if(n.value!==void 0){let r;return e[0]!==n.value?(r=f.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-mono",title:n.value,children:n.value}),e[0]=n.value,e[1]=r):r=e[1],r}if(n.valueFrom){const{type:r,source:i,key:a}=n.valueFrom;switch(r){case"secretKeyRef":{const c=`Secret: ${i}/${a}`;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=f.jsx(gD,{size:10,className:"shrink-0"}),e[2]=u):u=e[2];let h;e[3]!==a||e[4]!==i?(h=f.jsxs("span",{className:"truncate font-mono",children:[i,"/",a]}),e[3]=a,e[4]=i,e[5]=h):h=e[5];let m;return e[6]!==c||e[7]!==h?(m=f.jsxs("span",{className:"flex items-center gap-1 text-amber-600 dark:text-amber-500",title:c,children:[u,h]}),e[6]=c,e[7]=h,e[8]=m):m=e[8],m}case"configMapKeyRef":{const c=`ConfigMap: ${i}/${a}`;let u;e[9]===Symbol.for("react.memo_cache_sentinel")?(u=f.jsx(ei,{size:10,className:"shrink-0"}),e[9]=u):u=e[9];let h;e[10]!==a||e[11]!==i?(h=f.jsxs("span",{className:"truncate font-mono",children:[i,"/",a]}),e[10]=a,e[11]=i,e[12]=h):h=e[12];let m;return e[13]!==c||e[14]!==h?(m=f.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",title:c,children:[u,h]}),e[13]=c,e[14]=h,e[15]=m):m=e[15],m}case"fieldRef":{const c=`Field: ${i}`;let u;e[16]===Symbol.for("react.memo_cache_sentinel")?(u=f.jsx(sS,{size:10,className:"shrink-0"}),e[16]=u):u=e[16];let h;e[17]!==i?(h=f.jsx("span",{className:"truncate font-mono",children:i}),e[17]=i,e[18]=h):h=e[18];let m;return e[19]!==c||e[20]!==h?(m=f.jsxs("span",{className:"flex items-center gap-1 text-purple-600 dark:text-purple-400",title:c,children:[u,h]}),e[19]=c,e[20]=h,e[21]=m):m=e[21],m}case"resourceFieldRef":{const c=`Resource: ${i}`;let u;e[22]===Symbol.for("react.memo_cache_sentinel")?(u=f.jsx(sS,{size:10,className:"shrink-0"}),e[22]=u):u=e[22];let h;e[23]!==i?(h=f.jsx("span",{className:"truncate font-mono",children:i}),e[23]=i,e[24]=h):h=e[24];let m;return e[25]!==c||e[26]!==h?(m=f.jsxs("span",{className:"flex items-center gap-1 text-cyan-600 dark:text-cyan-400",title:c,children:[u,h]}),e[25]=c,e[26]=h,e[27]=m):m=e[27],m}}}let s;return e[28]===Symbol.for("react.memo_cache_sentinel")?(s=f.jsx("span",{className:"text-neutral-500 italic",children:"not set"}),e[28]=s):s=e[28],s}function eee(t){const e=De.c(4),{items:n}=t;if(n.length===0)return null;let s;e[0]!==n?(s=n.map(tee),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=f.jsx("div",{className:"space-y-2",children:s}),e[2]=s,e[3]=r):r=e[3],r}function tee(t){return f.jsx(nee,{volume:t},t.name)}function nee(t){const e=De.c(31),{volume:n}=t,[s,r]=V.useState(!1);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>r(aee),e[0]=i):i=e[0];const a=i;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c={ConfigMap:"border-blue-500/30 bg-blue-500/5",Secret:"border-amber-500/30 bg-amber-500/5",PVC:"border-emerald-500/30 bg-emerald-500/5",EmptyDir:"border-neutral-500/30 bg-neutral-500/5",HostPath:"border-red-500/30 bg-red-500/5",Projected:"border-purple-500/30 bg-purple-500/5",DownwardAPI:"border-cyan-500/30 bg-cyan-500/5",NFS:"border-orange-500/30 bg-orange-500/5",CSI:"border-indigo-500/30 bg-indigo-500/5"},e[1]=c):c=e[1];const u=c;let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h={ConfigMap:f.jsx(iY,{size:14,className:"text-blue-400"}),Secret:f.jsx(Op,{size:14,className:"text-amber-400"}),PVC:f.jsx(lc,{size:14,className:"text-emerald-400"}),EmptyDir:f.jsx(xv,{size:14,className:"text-neutral-400"}),HostPath:f.jsx(lG,{size:14,className:"text-red-400"}),Projected:f.jsx(pi,{size:14,className:"text-purple-400"}),DownwardAPI:f.jsx(sG,{size:14,className:"text-cyan-400"}),NFS:f.jsx(Vn,{size:14,className:"text-orange-400"}),CSI:f.jsx(VG,{size:14,className:"text-indigo-400"})},e[2]=h):h=e[2];const m=h;let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p={ConfigMap:"bg-blue-500/20 text-blue-400",Secret:"bg-amber-500/20 text-amber-400",PVC:"bg-emerald-500/20 text-emerald-400",EmptyDir:"bg-neutral-500/20 text-neutral-400",HostPath:"bg-red-500/20 text-red-400",Projected:"bg-purple-500/20 text-purple-400",DownwardAPI:"bg-cyan-500/20 text-cyan-400",NFS:"bg-orange-500/20 text-orange-400",CSI:"bg-indigo-500/20 text-indigo-400"},e[3]=p):p=e[3];const y=p,v=`border rounded-lg overflow-hidden ${u[n.type]||"border-neutral-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900/50"}`;let b;e[4]!==n.type?(b=m[n.type]||f.jsx(Ns,{size:14,className:"text-neutral-600 dark:text-neutral-400"}),e[4]=n.type,e[5]=b):b=e[5];let x;e[6]!==n.name?(x=f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:n.name})}),e[6]=n.name,e[7]=x):x=e[7];let S;e[8]!==n.source?(S=n.source&&f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400/70",children:n.source}),e[8]=n.source,e[9]=S):S=e[9];let k;e[10]!==n.mounts?(k=n.mounts.length>0&&f.jsxs("span",{className:"ml-2",children:[" ",n.mounts.map(iee).join(", ")]}),e[10]=n.mounts,e[11]=k):k=e[11];let C;e[12]!==S||e[13]!==k?(C=f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 truncate",children:[S,k]}),e[12]=S,e[13]=k,e[14]=C):C=e[14];let N;e[15]!==C||e[16]!==x?(N=f.jsxs("div",{className:"flex-1 min-w-0",children:[x,C]}),e[15]=C,e[16]=x,e[17]=N):N=e[17];let R;e[18]!==N||e[19]!==b?(R=f.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer",children:[b,N]}),e[18]=N,e[19]=b,e[20]=R):R=e[20];let O;e[21]!==s||e[22]!==n.extra||e[23]!==n.mounts||e[24]!==n.source||e[25]!==n.type?(O=s&&f.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Source"}),f.jsxs("div",{className:"text-xs",children:[f.jsx("span",{className:`px-1.5 py-0.5 rounded ${y[n.type]||"bg-neutral-200 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-400"}`,children:n.type}),n.source&&f.jsx("span",{className:"ml-2 text-cyan-600 dark:text-cyan-400",children:n.source})]}),n.extra&&Object.keys(n.extra).length>0&&f.jsx("div",{className:"mt-2 text-xs space-y-1",children:Object.entries(n.extra).map(ree)})]}),n.mounts.length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 mb-1",children:"Mount Points"}),f.jsx("div",{className:"space-y-2",children:n.mounts.map(see)})]})]}),e[21]=s,e[22]=n.extra,e[23]=n.mounts,e[24]=n.source,e[25]=n.type,e[26]=O):O=e[26];let E;return e[27]!==R||e[28]!==O||e[29]!==v?(E=f.jsxs("div",{className:v,children:[R,O]}),e[27]=R,e[28]=O,e[29]=v,e[30]=E):E=e[30],E}function see(t,e){return f.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 rounded p-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(yi,{size:10,className:"text-blue-400"}),f.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:t.container}),f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:""}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:t.mountPath}),t.readOnly&&f.jsx("span",{className:"px-1 py-0.5 rounded bg-amber-500/20 text-amber-400 text-[10px]",children:"read-only"})]}),t.subPath&&f.jsxs("div",{className:"ml-4 mt-1 text-neutral-600 dark:text-neutral-500",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"subPath:"})," ",f.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:t.subPath})]})]},e)}function ree(t){const[e,n]=t;return f.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400",children:[f.jsxs("span",{className:"text-neutral-500",children:[e,":"]})," ",f.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:String(n)})]},e)}function iee(t){return t.mountPath}function aee(t){return!t}function oee(t){const e=De.c(4),{items:n}=t;if(n.length===0)return null;let s;e[0]!==n?(s=n.map(lee),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=f.jsx("div",{className:"space-y-3",children:s}),e[2]=s,e[3]=r):r=e[3],r}function lee(t,e){return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-300",children:[t.icon,t.label]}),f.jsxs("div",{className:"text-xs",children:[f.jsx("span",{className:"text-cyan-400",children:t.allocatable}),f.jsx("span",{className:"text-neutral-500",children:" / "}),f.jsx("span",{className:"text-neutral-400",children:t.capacity})]})]}),f.jsxs("div",{className:"text-[10px] text-neutral-500 flex justify-between",children:[f.jsx("span",{children:"Allocatable"}),f.jsx("span",{children:"Capacity"})]})]},e)}function cee(t){const e=De.c(6),{items:n}=t;if(n.length===0)return null;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={NoSchedule:"bg-red-500/20 text-red-400 border-red-500/30",PreferNoSchedule:"bg-amber-500/20 text-amber-400 border-amber-500/30",NoExecute:"bg-purple-500/20 text-purple-400 border-purple-500/30"},e[0]=s):s=e[0];const r=s;let i;if(e[1]!==n){let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=(u,h)=>f.jsxs("span",{className:"text-xs bg-neutral-200 dark:bg-neutral-700 px-2 py-0.5 rounded flex items-center gap-1",title:`${u.key}=${u.value||""}:${u.effect}`,children:[f.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:u.key}),u.value&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-neutral-400",children:"="}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:u.value})]}),f.jsx("span",{className:`ml-1 px-1 py-0.5 rounded text-[10px] border ${r[u.effect]??"bg-neutral-700 text-neutral-300"}`,children:u.effect})]},h),e[3]=c):c=e[3],i=n.map(c),e[1]=n,e[2]=i}else i=e[2];let a;return e[4]!==i?(a=f.jsx("div",{className:"flex flex-wrap gap-1",children:i}),e[4]=i,e[5]=a):a=e[5],a}function vR(t,e){return e<=0?0:Math.min(100,Math.round(t/e*100))}function uee(t){const e=Math.floor((Date.now()-t.getTime())/1e3);if(e<60)return`${e}s ago`;const n=Math.floor(e/60);if(n<60)return`${n}m ago`;const s=Math.floor(n/60);return s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`}function hee(t){const e=De.c(18),{loader:n,title:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[i,a]=V.useState(r),[c,u]=V.useState(!0);let h,m;if(e[1]!==n?(h=()=>{n().then(a).finally(()=>u(!1))},m=[n],e[1]=n,e[2]=h,e[3]=m):(h=e[2],m=e[3]),V.useEffect(h,m),c){let x;e[4]!==s?(x=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[4]=s,e[5]=x):x=e[5];let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:"Loading ReplicaSets..."}),e[6]=S):S=e[6];let k;return e[7]!==x?(k=f.jsxs("div",{children:[x,S]}),e[7]=x,e[8]=k):k=e[8],k}if(i.length===0)return null;let p;e[9]!==s?(p=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[9]=s,e[10]=p):p=e[10];let y;e[11]!==i?(y=i.map(dee),e[11]=i,e[12]=y):y=e[12];let v;e[13]!==y?(v=f.jsx("div",{className:"space-y-2",children:y}),e[13]=y,e[14]=v):v=e[14];let b;return e[15]!==p||e[16]!==v?(b=f.jsxs("div",{children:[p,v]}),e[15]=p,e[16]=v,e[17]=b):b=e[17],b}function dee(t){const e=f.jsx("div",{className:`border rounded-lg p-3 ${t.isCurrent?"border-blue-500/30 bg-blue-500/5":"border-neutral-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900/50 opacity-60"} ${t.context&&t.namespace?"hover:border-blue-500/50 transition-colors cursor-pointer":""}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(pi,{size:16,className:t.isCurrent?"text-blue-400":"text-neutral-600 dark:text-neutral-500"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate",title:t.name,children:t.name})}),t.images.length>0&&f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500 truncate",children:t.images.join(", ")})]}),f.jsxs("div",{className:"text-xs",children:[f.jsxs("span",{className:t.readyReplicas===t.replicas?"text-emerald-600 dark:text-emerald-400":"text-amber-600 dark:text-amber-400",children:[t.readyReplicas,"/",t.replicas]}),f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500 ml-1",children:"ready"})]})]})});return t.context&&t.namespace?f.jsx(ac,{to:"/cluster/$context/$resourceType/$name",params:{context:t.context,resourceType:"replicasets",name:t.name},search:n=>({...n,namespace:t.namespace}),children:e},t.name):f.jsx("div",{children:e},t.name)}function fee(t){const e=De.c(18),{loader:n,title:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[i,a]=V.useState(r),[c,u]=V.useState(!0);let h,m;if(e[1]!==n?(h=()=>{n().then(a).finally(()=>u(!1))},m=[n],e[1]=n,e[2]=h,e[3]=m):(h=e[2],m=e[3]),V.useEffect(h,m),c){let x;e[4]!==s?(x=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[4]=s,e[5]=x):x=e[5];let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:"Loading PVCs..."}),e[6]=S):S=e[6];let k;return e[7]!==x?(k=f.jsxs("div",{children:[x,S]}),e[7]=x,e[8]=k):k=e[8],k}if(i.length===0)return null;let p;e[9]!==s?(p=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[9]=s,e[10]=p):p=e[10];let y;e[11]!==i?(y=i.map(pee),e[11]=i,e[12]=y):y=e[12];let v;e[13]!==y?(v=f.jsx("div",{className:"space-y-2",children:y}),e[13]=y,e[14]=v):v=e[14];let b;return e[15]!==p||e[16]!==v?(b=f.jsxs("div",{children:[p,v]}),e[15]=p,e[16]=v,e[17]=b):b=e[17],b}function pee(t){const e=f.jsx("div",{className:`border rounded-lg p-3 ${t.status==="Bound"?"border-emerald-500/30 bg-emerald-500/5":"border-neutral-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900/50"} ${t.context&&t.namespace?"hover:border-emerald-500/50 transition-colors cursor-pointer":""}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ns,{size:16,className:t.status==="Bound"?"text-emerald-600 dark:text-emerald-400":"text-neutral-600 dark:text-neutral-500"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate",children:t.name})}),f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:[t.storageClass||"default"," storage class"]})]}),f.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[t.capacity&&f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:t.capacity}),f.jsx("span",{className:t.status==="Bound"?"text-emerald-600 dark:text-emerald-400":"text-amber-600 dark:text-amber-400",children:t.status})]})]})});return t.context&&t.namespace?f.jsx(ac,{to:"/cluster/$context/$resourceType/$name",params:{context:t.context,resourceType:"persistentvolumeclaims",name:t.name},search:n=>({...n,namespace:t.namespace}),children:e},t.name):f.jsx("div",{children:e},t.name)}function mee(t){const e=De.c(26),{loader:n,title:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[i,a]=V.useState(r),[c,u]=V.useState(!0),[h,m]=V.useState(!1);let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p=()=>m(yee),e[1]=p):p=e[1];const y=p;let v,b;if(e[2]!==n?(v=()=>{n().then(a).finally(()=>u(!1))},b=[n],e[2]=n,e[3]=v,e[4]=b):(v=e[3],b=e[4]),V.useEffect(v,b),c){let E;e[5]!==s?(E=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[5]=s,e[6]=E):E=e[6];let D;e[7]===Symbol.for("react.memo_cache_sentinel")?(D=f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:"Loading jobs..."}),e[7]=D):D=e[7];let B;return e[8]!==E?(B=f.jsxs("div",{children:[E,D]}),e[8]=E,e[9]=B):B=e[9],B}if(i.length===0)return null;let x;e[10]!==h||e[11]!==i?(x=h?i:i.slice(0,3),e[10]=h,e[11]=i,e[12]=x):x=e[12];const S=x;let k;e[13]!==s?(k=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[13]=s,e[14]=k):k=e[14];let C;e[15]!==S?(C=S.map(gee),e[15]=S,e[16]=C):C=e[16];let N;e[17]!==h||e[18]!==i.length?(N=i.length>3&&f.jsxs("button",{onClick:y,className:"flex items-center gap-1 text-xs text-neutral-600 dark:text-neutral-500 hover:text-neutral-900 dark:hover:text-neutral-300 transition-colors mt-2",children:[h?f.jsx(ps,{size:12}):f.jsx(Xr,{size:12}),h?"Show less":`Show ${i.length-3} more`]}),e[17]=h,e[18]=i.length,e[19]=N):N=e[19];let R;e[20]!==C||e[21]!==N?(R=f.jsxs("div",{className:"space-y-2",children:[C,N]}),e[20]=C,e[21]=N,e[22]=R):R=e[22];let O;return e[23]!==k||e[24]!==R?(O=f.jsxs("div",{children:[k,R]}),e[23]=k,e[24]=R,e[25]=O):O=e[25],O}function gee(t){const e=f.jsx("div",{className:`border rounded-lg p-3 ${t.status==="Complete"?"border-emerald-500/30 bg-emerald-500/5":t.status==="Failed"?"border-red-500/30 bg-red-500/5":"border-amber-500/30 bg-amber-500/5"} ${t.context&&t.namespace?"hover:border-blue-500/50 transition-colors cursor-pointer":""}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[t.status==="Complete"?f.jsx(vi,{size:16,className:"text-emerald-400"}):t.status==="Failed"?f.jsx(Ra,{size:16,className:"text-red-400"}):f.jsx(Oa,{size:16,className:"text-amber-400"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate",title:t.name,children:t.name})}),t.startTime&&f.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:["Started ",uee(new Date(t.startTime))]})]}),f.jsx("span",{className:`text-xs ${t.status==="Complete"?"text-emerald-600 dark:text-emerald-400":t.status==="Failed"?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"}`,children:t.status})]})});return t.context&&t.namespace?f.jsx(ac,{to:"/cluster/$context/$resourceType/$name",params:{context:t.context,resourceType:"jobs",name:t.name},search:n=>({...n,namespace:t.namespace}),children:e},t.name):f.jsx("div",{children:e},t.name)}function yee(t){return!t}function vee(t){const e=De.c(4),{items:n}=t;let s;e[0]!==n?(s=n.map(bee),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=f.jsx("div",{className:"space-y-2",children:s}),e[2]=s,e[3]=r):r=e[3],r}function bee(t,e){return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Ns,{size:14,className:"text-purple-400"}),f.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:t.name})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.size&&f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Size:"})," ",f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:t.size})]}),t.storageClass&&f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Class:"})," ",f.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:t.storageClass})]}),t.accessModes&&f.jsxs("div",{className:"col-span-2",children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Access:"})," ",f.jsx("span",{className:"text-neutral-900 dark:text-neutral-300",children:t.accessModes.join(", ")})]})]})]},e)}function _ee(t){const e=De.c(8),{schedule:n,description:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(mD,{size:16,className:"text-purple-400"}),f.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:"Schedule"})]}),e[0]=r):r=e[0];let i;e[1]!==n?(i=f.jsx("div",{className:"font-mono text-cyan-600 dark:text-cyan-400 text-lg mb-1",children:n}),e[1]=n,e[2]=i):i=e[2];let a;e[3]!==s?(a=f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:s}),e[3]=s,e[4]=a):a=e[4];let c;return e[5]!==i||e[6]!==a?(c=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[r,i,a]}),e[5]=i,e[6]=a,e[7]=c):c=e[7],c}function xee(t){const e=De.c(35),{completions:n,succeeded:s,failed:r,active:i}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=f.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-300",children:"Completions"}),e[0]=a):a=e[0];const c=s>=n?"text-emerald-600 dark:text-emerald-400":"text-cyan-600 dark:text-cyan-400";let u;e[1]!==s||e[2]!==c?(u=f.jsx("span",{className:c,children:s}),e[1]=s,e[2]=c,e[3]=u):u=e[3];let h;e[4]!==n?(h=f.jsxs("span",{className:"text-neutral-600 dark:text-neutral-500",children:[" / ",n]}),e[4]=n,e[5]=h):h=e[5];let m;e[6]!==u||e[7]!==h?(m=f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a,f.jsxs("span",{className:"text-sm",children:[u,h]})]}),e[6]=u,e[7]=h,e[8]=m):m=e[8];let p;e[9]!==n||e[10]!==s?(p=s>0&&f.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${s/n*100}%`}}),e[9]=n,e[10]=s,e[11]=p):p=e[11];let y;e[12]!==n||e[13]!==r?(y=r>0&&f.jsx("div",{className:"h-full bg-red-500",style:{width:`${r/(n+r)*100}%`}}),e[12]=n,e[13]=r,e[14]=y):y=e[14];let v;e[15]!==p||e[16]!==y?(v=f.jsxs("div",{className:"h-2 bg-neutral-300 dark:bg-neutral-700 rounded-full overflow-hidden flex",children:[p,y]}),e[15]=p,e[16]=y,e[17]=v):v=e[17];let b;e[18]===Symbol.for("react.memo_cache_sentinel")?(b=f.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e[18]=b):b=e[18];let x;e[19]!==s?(x=f.jsxs("div",{className:"flex items-center gap-1",children:[b,f.jsxs("span",{className:"text-neutral-700 dark:text-neutral-400",children:["Succeeded: ",s]})]}),e[19]=s,e[20]=x):x=e[20];let S;e[21]===Symbol.for("react.memo_cache_sentinel")?(S=f.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),e[21]=S):S=e[21];let k;e[22]!==i?(k=f.jsxs("div",{className:"flex items-center gap-1",children:[S,f.jsxs("span",{className:"text-neutral-700 dark:text-neutral-400",children:["Active: ",i]})]}),e[22]=i,e[23]=k):k=e[23];let C;e[24]===Symbol.for("react.memo_cache_sentinel")?(C=f.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e[24]=C):C=e[24];let N;e[25]!==r?(N=f.jsxs("div",{className:"flex items-center gap-1",children:[C,f.jsxs("span",{className:"text-neutral-700 dark:text-neutral-400",children:["Failed: ",r]})]}),e[25]=r,e[26]=N):N=e[26];let R;e[27]!==x||e[28]!==k||e[29]!==N?(R=f.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs",children:[x,k,N]}),e[27]=x,e[28]=k,e[29]=N,e[30]=R):R=e[30];let O;return e[31]!==R||e[32]!==m||e[33]!==v?(O=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3",children:[m,v,R]}),e[31]=R,e[32]=m,e[33]=v,e[34]=O):O=e[34],O}function wee(t){const e=De.c(7),{startTime:n,completionTime:s}=t;let r;e[0]!==n?(r=n&&f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Started:"})," ",f.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:n.toLocaleString()})]}),e[0]=n,e[1]=r):r=e[1];let i;e[2]!==s?(i=s&&f.jsxs("div",{children:[f.jsx("span",{className:"text-neutral-600 dark:text-neutral-500",children:"Completed:"})," ",f.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:s.toLocaleString()})]}),e[2]=s,e[3]=i):i=e[3];let a;return e[4]!==r||e[5]!==i?(a=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3 space-y-2 text-xs",children:[r,i]}),e[4]=r,e[5]=i,e[6]=a):a=e[6],a}function See(t){const e=De.c(11),{items:n,columns:s}=t,r=s===void 0?2:s;let i,a;if(e[0]!==r||e[1]!==n){const u=n.filter(kee),h=r===3?"grid-cols-3":r===2?"grid-cols-2":"grid-cols-1";let m;e[4]!==r?(m=v=>{if(r!==3)return"";const b=v%3;return b===0?"text-left":b===1?"text-center":"text-right"},e[4]=r,e[5]=m):m=e[5];const p=m;i=`bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-3 grid gap-2 text-xs ${h}`;let y;e[6]!==p?(y=(v,b)=>f.jsxs("div",{className:`overflow-hidden ${p(b)}`,children:[f.jsxs("span",{className:"text-neutral-500 dark:text-neutral-500",children:[v.label,":"]})," ",f.jsx("span",{className:v.color||"text-neutral-900 dark:text-neutral-300",children:v.value})]},b),e[6]=p,e[7]=y):y=e[7],a=u.map(y),e[0]=r,e[1]=n,e[2]=i,e[3]=a}else i=e[2],a=e[3];let c;return e[8]!==i||e[9]!==a?(c=f.jsx("div",{className:i,children:a}),e[8]=i,e[9]=a,e[10]=c):c=e[10],c}function kee(t){return t.value!==void 0&&t.value!==null}function Cee(t){const e=De.c(20),{labels:n,title:s}=t,r=s===void 0?"Labels":s;let i,a,c,u,h;if(e[0]!==n||e[1]!==r){h=Symbol.for("react.early_return_sentinel");e:{const v=Object.entries(n);if(v.length===0){h=null;break e}const b=["node-role.kubernetes.io/","kubernetes.io/os","kubernetes.io/arch","node.kubernetes.io/instance-type","topology.kubernetes.io/"],x=[...v].sort((k,C)=>{const N=b.some(O=>k[0].startsWith(O)),R=b.some(O=>C[0].startsWith(O));return N&&!R?-1:!N&&R?1:0});let S;e[7]===Symbol.for("react.memo_cache_sentinel")?(S=f.jsx(wD,{size:12}),e[7]=S):S=e[7],e[8]!==r?(u=f.jsxs("h5",{className:"flex items-center gap-2 text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:[S,r]}),e[8]=r,e[9]=u):u=e[9],a="w-full text-xs table-fixed",e[10]===Symbol.for("react.memo_cache_sentinel")?(c=f.jsxs("colgroup",{children:[f.jsx("col",{className:"w-[40%]"}),f.jsx("col",{className:"w-[60%]"})]}),e[10]=c):c=e[10],i=x.map((k,C)=>{const[N,R]=k,O=b.some(E=>N.startsWith(E));return f.jsxs("tr",{className:C%2===0?"bg-neutral-50 dark:bg-neutral-800/30":"",children:[f.jsx("td",{className:`py-1.5 px-2 truncate ${O?"text-blue-600 dark:text-blue-400":"text-sky-600 dark:text-sky-400"}`,title:N,children:N}),f.jsx("td",{className:"py-1.5 px-2 text-emerald-600 dark:text-emerald-400 truncate",title:R,children:R})]},N)})}e[0]=n,e[1]=r,e[2]=i,e[3]=a,e[4]=c,e[5]=u,e[6]=h}else i=e[2],a=e[3],c=e[4],u=e[5],h=e[6];if(h!==Symbol.for("react.early_return_sentinel"))return h;let m;e[11]!==i?(m=f.jsx("tbody",{children:i}),e[11]=i,e[12]=m):m=e[12];let p;e[13]!==a||e[14]!==c||e[15]!==m?(p=f.jsxs("table",{className:a,children:[c,m]}),e[13]=a,e[14]=c,e[15]=m,e[16]=p):p=e[16];let y;return e[17]!==u||e[18]!==p?(y=f.jsxs("div",{children:[u,p]}),e[17]=u,e[18]=p,e[19]=y):y=e[19],y}function Nee(t){const e=De.c(4),{containers:n}=t;let s;e[0]!==n?(s=n.map(Eee),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=f.jsx("div",{className:"space-y-1",children:s}),e[2]=s,e[3]=r):r=e[3],r}function Eee(t){return f.jsxs("div",{className:"text-xs bg-neutral-100 dark:bg-neutral-900/50 px-2 py-1.5 rounded flex items-center gap-2",children:[f.jsx(yi,{size:12,className:"text-blue-400"}),f.jsxs("span",{className:"text-neutral-900 dark:text-neutral-300",children:[t.name,":"]}),f.jsx("span",{className:"text-cyan-400 truncate",children:t.image})]},t.name)}function Aee(t){const e=De.c(4),{addresses:n}=t;let s;e[0]!==n?(s=n.map(jee),e[0]=n,e[1]=s):s=e[1];let r;return e[2]!==s?(r=f.jsx("div",{className:"grid grid-cols-2 gap-2",children:s}),e[2]=s,e[3]=r):r=e[3],r}function jee(t,e){return f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 rounded-lg p-2",children:[f.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-500",children:t.type}),f.jsx("div",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-mono",children:t.address})]},e)}const Tee=15e3;function Ree(t){const e=De.c(56),{loader:n,title:s}=t,[r,i]=V.useState(null),[a,c]=V.useState(!0);let u,h;if(e[0]!==n?(u=()=>{let M=!0;const H=async()=>{const J=await n();M&&(i(J),c(!1))};H();const T=setInterval(H,Tee);return()=>{M=!1,clearInterval(T)}},h=[n],e[0]=n,e[1]=u,e[2]=h):(u=e[1],h=e[2]),V.useEffect(u,h),!a&&r===null)return null;if(a){let M;e[3]!==s?(M=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[3]=s,e[4]=M):M=e[4];let H;e[5]===Symbol.for("react.memo_cache_sentinel")?(H=f.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[f.jsx(Ln,{size:12,className:"animate-spin"}),"Loading metrics..."]}),e[5]=H):H=e[5];let T;return e[6]!==M?(T=f.jsxs("div",{children:[M,H]}),e[6]=M,e[7]=T):T=e[7],T}if(!r)return null;const m=vR(r.cpu.usageNanoCores,r.cpu.allocatableNanoCores??0),p=vR(r.memory.usageBytes,r.memory.allocatableBytes??0);let y;e[8]!==s?(y=s&&f.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[8]=s,e[9]=y):y=e[9];let v;e[10]===Symbol.for("react.memo_cache_sentinel")?(v=f.jsxs("span",{className:"text-xs text-neutral-400 flex items-center gap-1.5",children:[f.jsx(_v,{size:12}),"CPU Usage"]}),e[10]=v):v=e[10];const b=m>80?"text-amber-400":"text-blue-400";let x;e[11]!==r.cpu.usage||e[12]!==b?(x=f.jsx("span",{className:b,children:r.cpu.usage}),e[11]=r.cpu.usage,e[12]=b,e[13]=x):x=e[13];let S;e[14]!==r.cpu.allocatable?(S=f.jsxs("span",{className:"text-neutral-500",children:[" / ",r.cpu.allocatable]}),e[14]=r.cpu.allocatable,e[15]=S):S=e[15];let k;e[16]!==x||e[17]!==S?(k=f.jsxs("div",{className:"flex items-center justify-between",children:[v,f.jsxs("span",{className:"text-xs font-mono",children:[x,S]})]}),e[16]=x,e[17]=S,e[18]=k):k=e[18];const C=`h-full transition-all duration-300 ${m>80?"bg-amber-500":"bg-blue-500"}`,N=`${m}%`;let R;e[19]!==N?(R={width:N},e[19]=N,e[20]=R):R=e[20];let O;e[21]!==R||e[22]!==C?(O=f.jsx("div",{className:"h-2 bg-neutral-700 rounded-full overflow-hidden",children:f.jsx("div",{className:C,style:R})}),e[21]=R,e[22]=C,e[23]=O):O=e[23];let E;e[24]!==m?(E=f.jsxs("div",{className:"text-xs text-neutral-500 text-right",children:[m,"% utilized"]}),e[24]=m,e[25]=E):E=e[25];let D;e[26]!==O||e[27]!==E||e[28]!==k?(D=f.jsxs("div",{className:"bg-neutral-900/50 rounded-lg p-3 space-y-2",children:[k,O,E]}),e[26]=O,e[27]=E,e[28]=k,e[29]=D):D=e[29];let B;e[30]===Symbol.for("react.memo_cache_sentinel")?(B=f.jsxs("span",{className:"text-xs text-neutral-400 flex items-center gap-1.5",children:[f.jsx(Ns,{size:12}),"Memory Usage"]}),e[30]=B):B=e[30];const q=p>80?"text-amber-400":"text-purple-400";let P;e[31]!==r.memory.usage||e[32]!==q?(P=f.jsx("span",{className:q,children:r.memory.usage}),e[31]=r.memory.usage,e[32]=q,e[33]=P):P=e[33];let W;e[34]!==r.memory.allocatable?(W=f.jsxs("span",{className:"text-neutral-500",children:[" / ",r.memory.allocatable]}),e[34]=r.memory.allocatable,e[35]=W):W=e[35];let z;e[36]!==P||e[37]!==W?(z=f.jsxs("div",{className:"flex items-center justify-between",children:[B,f.jsxs("span",{className:"text-xs font-mono",children:[P,W]})]}),e[36]=P,e[37]=W,e[38]=z):z=e[38];const K=`h-full transition-all duration-300 ${p>80?"bg-amber-500":"bg-purple-500"}`,X=`${p}%`;let G;e[39]!==X?(G={width:X},e[39]=X,e[40]=G):G=e[40];let I;e[41]!==K||e[42]!==G?(I=f.jsx("div",{className:"h-2 bg-neutral-700 rounded-full overflow-hidden",children:f.jsx("div",{className:K,style:G})}),e[41]=K,e[42]=G,e[43]=I):I=e[43];let Y;e[44]!==p?(Y=f.jsxs("div",{className:"text-xs text-neutral-500 text-right",children:[p,"% utilized"]}),e[44]=p,e[45]=Y):Y=e[45];let Q;e[46]!==z||e[47]!==I||e[48]!==Y?(Q=f.jsxs("div",{className:"bg-neutral-900/50 rounded-lg p-3 space-y-2",children:[z,I,Y]}),e[46]=z,e[47]=I,e[48]=Y,e[49]=Q):Q=e[49];let $;e[50]!==D||e[51]!==Q?($=f.jsxs("div",{className:"space-y-3",children:[D,Q]}),e[50]=D,e[51]=Q,e[52]=$):$=e[52];let A;return e[53]!==$||e[54]!==y?(A=f.jsxs("div",{children:[y,$]}),e[53]=$,e[54]=y,e[55]=A):A=e[55],A}function Oee(t){const e=De.c(24),{data:n}=t,{cpu:s,memory:r}=n;if(!(s.requests||s.limits||r.requests||r.limits))return null;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=f.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:"Resource Quota"}),e[0]=a):a=e[0];let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(_v,{size:14,className:"text-blue-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400",children:"CPU"})]}),e[1]=c):c=e[1];let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=f.jsx("span",{className:"text-xs text-neutral-500",children:"Requests"}),e[2]=u):u=e[2];const h=s.requests||"";let m;e[3]!==h?(m=f.jsxs("div",{className:"flex items-center justify-between",children:[u,f.jsx("span",{className:"text-sm font-mono text-neutral-900 dark:text-neutral-100",children:h})]}),e[3]=h,e[4]=m):m=e[4];let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=f.jsx("span",{className:"text-xs text-neutral-500",children:"Limits"}),e[5]=p):p=e[5];const y=s.limits||"";let v;e[6]!==y?(v=f.jsxs("div",{className:"flex items-center justify-between",children:[p,f.jsx("span",{className:"text-sm font-mono text-neutral-900 dark:text-neutral-100",children:y})]}),e[6]=y,e[7]=v):v=e[7];let b;e[8]!==m||e[9]!==v?(b=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-3",children:[c,f.jsxs("div",{className:"space-y-1.5",children:[m,v]})]}),e[8]=m,e[9]=v,e[10]=b):b=e[10];let x;e[11]===Symbol.for("react.memo_cache_sentinel")?(x=f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Ns,{size:14,className:"text-purple-400"}),f.jsx("span",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400",children:"Memory"})]}),e[11]=x):x=e[11];let S;e[12]===Symbol.for("react.memo_cache_sentinel")?(S=f.jsx("span",{className:"text-xs text-neutral-500",children:"Requests"}),e[12]=S):S=e[12];const k=r.requests||"";let C;e[13]!==k?(C=f.jsxs("div",{className:"flex items-center justify-between",children:[S,f.jsx("span",{className:"text-sm font-mono text-neutral-900 dark:text-neutral-100",children:k})]}),e[13]=k,e[14]=C):C=e[14];let N;e[15]===Symbol.for("react.memo_cache_sentinel")?(N=f.jsx("span",{className:"text-xs text-neutral-500",children:"Limits"}),e[15]=N):N=e[15];const R=r.limits||"";let O;e[16]!==R?(O=f.jsxs("div",{className:"flex items-center justify-between",children:[N,f.jsx("span",{className:"text-sm font-mono text-neutral-900 dark:text-neutral-100",children:R})]}),e[16]=R,e[17]=O):O=e[17];let E;e[18]!==C||e[19]!==O?(E=f.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-lg p-3",children:[x,f.jsxs("div",{className:"space-y-1.5",children:[C,O]})]}),e[18]=C,e[19]=O,e[20]=E):E=e[20];let D;return e[21]!==E||e[22]!==b?(D=f.jsxs("div",{children:[a,f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b,E]})]}),e[21]=E,e[22]=b,e[23]=D):D=e[23],D}function TL(t){const e=De.c(9),{section:n}=t,{title:s,data:r}=n;let i;e[0]!==r?(i=Mee(r),e[0]=r,e[1]=i):i=e[1];const a=i;if(a===null)return null;if(!s){let h;return e[2]!==a?(h=f.jsx("div",{children:a}),e[2]=a,e[3]=h):h=e[3],h}let c;e[4]!==s?(c=f.jsx("h5",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:s}),e[4]=s,e[5]=c):c=e[5];let u;return e[6]!==a||e[7]!==c?(u=f.jsxs("div",{children:[c,a]}),e[6]=a,e[7]=c,e[8]=u):u=e[8],u}function Mee(t){switch(t.type){case"status-cards":return f.jsx(PQ,{items:t.items});case"gauges":return f.jsx($Q,{items:t.items,podGrid:t.showPodGrid});case"info-grid":return f.jsx(See,{items:t.items,columns:t.columns});case"containers":return f.jsx(FQ,{items:t.items,metricsLoader:t.metricsLoader});case"volumes":return f.jsx(eee,{items:t.items});case"labels":return f.jsx(Cee,{labels:t.labels,title:t.title});case"capacity-bars":return f.jsx(oee,{items:t.items});case"taints":return f.jsx(cee,{items:t.items});case"container-images":return f.jsx(Nee,{containers:t.containers});case"related-replicasets":return f.jsx(hee,{loader:t.loader,title:t.title});case"related-pvcs":return f.jsx(fee,{loader:t.loader,title:t.title});case"related-jobs":return f.jsx(mee,{loader:t.loader,title:t.title});case"volume-claim-templates":return f.jsx(vee,{items:t.items});case"schedule":return f.jsx(_ee,{schedule:t.schedule,description:t.description});case"job-progress":return f.jsx(xee,{...t});case"timeline":return f.jsx(wee,{startTime:t.startTime,completionTime:t.completionTime});case"addresses":return f.jsx(Aee,{addresses:t.addresses});case"node-metrics":return f.jsx(Ree,{loader:t.loader,title:t.title});case"resource-quota":return f.jsx(Oee,{data:t.data});case"custom":return t.render();default:return null}}function Dee(t){const e=De.c(21),{context:n,resource:s,onActionComplete:r,hideActions:i}=t,a=i===void 0?!1:i;let c;e[0]!==n||e[1]!==s?(c=IQ(n,s),e[0]=n,e[1]=s,e[2]=c):c=e[2];const u=c;let h;e[3]!==s?(h=AL(s),e[3]=s,e[4]=h):h=e[4];const m=h,p=s.metadata?.annotations?.["kubernetes.io/description"];if(!u||u.sections.length===0){let S;return e[5]!==s.kind?(S=f.jsxs("div",{className:"text-neutral-500 text-sm",children:["No visualization available for ",s.kind]}),e[5]=s.kind,e[6]=S):S=e[6],S}let y;e[7]!==m||e[8]!==n||e[9]!==a||e[10]!==r||e[11]!==s?(y=!a&&f.jsx(jL,{context:n,actions:m,resource:s,onActionComplete:r}),e[7]=m,e[8]=n,e[9]=a,e[10]=r,e[11]=s,e[12]=y):y=e[12];let v;e[13]!==p?(v=p&&f.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:p}),e[13]=p,e[14]=v):v=e[14];let b;e[15]!==u.sections?(b=u.sections.map(Bee),e[15]=u.sections,e[16]=b):b=e[16];let x;return e[17]!==y||e[18]!==v||e[19]!==b?(x=f.jsxs("div",{className:"space-y-6",children:[y,v,b]}),e[17]=y,e[18]=v,e[19]=b,e[20]=x):x=e[20],x}function Bee(t){return f.jsx(TL,{section:t},t.id)}function rN(t){const e=De.c(6),{toolbarRef:n,children:s}=t,[r,i]=V.useState(null);let a,c;e[0]!==n?(a=()=>{i(n.current)},c=[n],e[0]=n,e[1]=a,e[2]=c):(a=e[1],c=e[2]),V.useEffect(a,c);let u;return e[3]!==s||e[4]!==r?(u=r?W2.createPortal(s,r):null,e[3]=s,e[4]=r,e[5]=u):u=e[5],u}var Fx,bR;function Lee(){if(bR)return Fx;bR=1;const t=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],e=/(https?:\/\/(?:[A-Za-z0-9#;/?:@=+$',_.!~*()[\]-]|&amp;|%[A-Fa-f0-9]{2})+)/gm;class n{static escapeForHtml(r){return new n().escapeForHtml(r)}static linkify(r){return new n().linkify(r)}static ansiToHtml(r,i){return new n().ansiToHtml(r,i)}static ansiToJson(r,i){return new n().ansiToJson(r,i)}static ansiToText(r){return new n().ansiToText(r)}constructor(){this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0,this.decorations=[]}setupPalette(){this.PALETTE_COLORS=[];for(let c=0;c<2;++c)for(let u=0;u<8;++u)this.PALETTE_COLORS.push(t[c][u].color);let r=[0,95,135,175,215,255],i=(c,u,h)=>r[c]+", "+r[u]+", "+r[h];for(let c=0;c<6;++c)for(let u=0;u<6;++u)for(let h=0;h<6;++h)this.PALETTE_COLORS.push(i(c,u,h));let a=8;for(let c=0;c<24;++c,a+=10)this.PALETTE_COLORS.push(a+", "+a+", "+a)}escapeForHtml(r){return r.replace(/[&<>\"]/gm,i=>i=="&"?"&amp;":i=='"'?"&quot;":i=="<"?"&lt;":i==">"?"&gt;":"")}linkify(r){return r.replace(e,i=>`<a href="${i}">${i}</a>`)}ansiToHtml(r,i){return this.process(r,i,!0)}ansiToJson(r,i){return i=i||{},i.json=!0,i.clearLine=!1,this.process(r,i,!0)}ansiToText(r){return this.process(r,{},!1)}process(r,i,a){let c=this,u=r.split(/\033\[/),h=u.shift();i==null&&(i={}),i.clearLine=/\r/.test(r);let m=u.map(p=>this.processChunk(p,i,a));if(i&&i.json){let p=c.processChunkJson("");return p.content=h,p.clearLine=i.clearLine,m.unshift(p),i.remove_empty&&(m=m.filter(y=>!y.isEmpty())),m}else m.unshift(h);return m.join("")}processChunkJson(r,i,a){i=typeof i>"u"?{}:i;let c=i.use_classes=typeof i.use_classes<"u"&&i.use_classes,u=i.key=c?"class":"color",h={content:r,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,isInverted:!1,clearLine:i.clearLine,decoration:null,decorations:[],was_processed:!1,isEmpty:()=>!h.content},m=r.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!m)return h;h.content=m[4];let p=m[2].split(";");if(m[1]!==""||m[3]!=="m"||!a)return h;let y=this;for(;p.length>0;){let v=p.shift(),b=parseInt(v);if(isNaN(b)||b===0)y.fg=y.bg=null,y.decorations=[];else if(b===1)y.decorations.push("bold");else if(b===2)y.decorations.push("dim");else if(b===3)y.decorations.push("italic");else if(b===4)y.decorations.push("underline");else if(b===5)y.decorations.push("blink");else if(b===7)y.decorations.push("reverse");else if(b===8)y.decorations.push("hidden");else if(b===9)y.decorations.push("strikethrough");else if(b===21)y.removeDecoration("bold");else if(b===22)y.removeDecoration("bold"),y.removeDecoration("dim");else if(b===23)y.removeDecoration("italic");else if(b===24)y.removeDecoration("underline");else if(b===25)y.removeDecoration("blink");else if(b===27)y.removeDecoration("reverse");else if(b===28)y.removeDecoration("hidden");else if(b===29)y.removeDecoration("strikethrough");else if(b===39)y.fg=null;else if(b===49)y.bg=null;else if(b>=30&&b<38)y.fg=t[0][b%10][u];else if(b>=90&&b<98)y.fg=t[1][b%10][u];else if(b>=40&&b<48)y.bg=t[0][b%10][u];else if(b>=100&&b<108)y.bg=t[1][b%10][u];else if(b===38||b===48){let x=b===38;if(p.length>=1){let S=p.shift();if(S==="5"&&p.length>=1){let k=parseInt(p.shift());if(k>=0&&k<=255)if(!c)this.PALETTE_COLORS||y.setupPalette(),x?y.fg=this.PALETTE_COLORS[k]:y.bg=this.PALETTE_COLORS[k];else{let C=k>=16?"ansi-palette-"+k:t[k>7?1:0][k%8].class;x?y.fg=C:y.bg=C}}else if(S==="2"&&p.length>=3){let k=parseInt(p.shift()),C=parseInt(p.shift()),N=parseInt(p.shift());if(k>=0&&k<=255&&C>=0&&C<=255&&N>=0&&N<=255){let R=k+", "+C+", "+N;c?x?(y.fg="ansi-truecolor",y.fg_truecolor=R):(y.bg="ansi-truecolor",y.bg_truecolor=R):x?y.fg=R:y.bg=R}}}}}return y.fg===null&&y.bg===null&&y.decorations.length===0||(h.fg=y.fg,h.bg=y.bg,h.fg_truecolor=y.fg_truecolor,h.bg_truecolor=y.bg_truecolor,h.decorations=y.decorations,h.decoration=y.decorations.slice(-1).pop()||null,h.was_processed=!0),h}processChunk(r,i,a){i=i||{};let c=this.processChunkJson(r,i,a),u=i.use_classes;if(c.decorations=c.decorations.filter(b=>{if(b==="reverse"){c.fg||(c.fg=t[0][7][u?"class":"color"]),c.bg||(c.bg=t[0][0][u?"class":"color"]);let x=c.fg;c.fg=c.bg,c.bg=x;let S=c.fg_truecolor;return c.fg_truecolor=c.bg_truecolor,c.bg_truecolor=S,c.isInverted=!0,!1}return!0}),i.json)return c;if(c.isEmpty())return"";if(!c.was_processed)return c.content;let h=[],m=[],p=[],y={},v=b=>{let x=[],S;for(S in b)b.hasOwnProperty(S)&&x.push("data-"+S+'="'+this.escapeForHtml(b[S])+'"');return x.length>0?" "+x.join(" "):""};return c.isInverted&&(y["ansi-is-inverted"]="true"),c.fg&&(u?(h.push(c.fg+"-fg"),c.fg_truecolor!==null&&(y["ansi-truecolor-fg"]=c.fg_truecolor,c.fg_truecolor=null)):h.push("color:rgb("+c.fg+")")),c.bg&&(u?(h.push(c.bg+"-bg"),c.bg_truecolor!==null&&(y["ansi-truecolor-bg"]=c.bg_truecolor,c.bg_truecolor=null)):h.push("background-color:rgb("+c.bg+")")),c.decorations.forEach(b=>{if(u){m.push("ansi-"+b);return}b==="bold"?m.push("font-weight:bold"):b==="dim"?m.push("opacity:0.5"):b==="italic"?m.push("font-style:italic"):b==="hidden"?m.push("visibility:hidden"):b==="strikethrough"?p.push("line-through"):p.push(b)}),p.length&&m.push("text-decoration:"+p.join(" ")),u?'<span class="'+h.concat(m).join(" ")+'"'+v(y)+">"+c.content+"</span>":'<span style="'+h.concat(m).join(";")+'"'+v(y)+">"+c.content+"</span>"}removeDecoration(r){const i=this.decorations.indexOf(r);i>=0&&this.decorations.splice(i,1)}}return Fx=n,Fx}var Iee=Lee();const Pee=uv(Iee),_R=["text-cyan-400","text-emerald-400","text-amber-400","text-purple-400","text-pink-400","text-blue-400","text-red-400","text-orange-400"];function $ee(t,e){const n=e.indexOf(t);return _R[n%_R.length]}function zee(t){if(!t)return"";try{return new Date(t).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})}catch{return t}}function Uee(t){return t.replace(/\x1b\[[0-9;]*[a-zA-Z]/g,"")}const Hee=/^([IWEF])(\d{4})\s+(\d{2}:\d{2}:\d{2}\.\d+)\s+\d+\s+([\w.]+:\d+)]\s*(.*)$/;function Fee(t){const e=t.match(Hee);if(!e)return null;const[,n,,,s,r]=e,i=n==="E"?"error":n==="W"?"warn":n==="F"?"error":"info",a=iN(r),c=[`source: ${s}`];for(const[u,h]of Object.entries(a))c.push(`${u}: ${h}`);return{format:"klog",formatted:c.join(`
`),level:i}}function iN(t){const e={},n=/(?:"([^"]*)"|([\w.]+)=(?:"([^"]*)"|([^\s]*)))/g;let s,r=0;for(;(s=n.exec(t))!==null;)if(s[1]!==void 0)e[`msg${r||""}`]=s[1],r++;else{const i=s[2],a=s[3]??s[4]??"";e[i]=a}return e}function Vee(t){const e=t.match(/(?:^|\s)([\w.]+)=/);if(!e)return{message:t,kvText:""};const n=e.index+(e[0].startsWith(" ")?1:0),s=t.slice(0,n).trim(),r=t.slice(n);return{message:s,kvText:r}}function qee(t){const e=t.trim(),n=/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?Z?)\s+(INF|WRN|ERR|DBG|TRC|INFO|WARN|ERROR|DEBUG|TRACE|FTL|FATAL)\s+/i,s=e.match(n);if(!s)return null;const r=s[1],i=s[2].toUpperCase(),a=e.slice(s[0].length),{message:c,kvText:u}=Vee(a),h=iN(u||a),m=Object.keys(h);let p="unknown";i.startsWith("ERR")||i==="FTL"||i==="FATAL"?p="error":i.startsWith("WRN")||i==="WARN"?p="warn":i.startsWith("INF")||i==="INFO"?p="info":i.startsWith("DBG")||i==="DEBUG"?p="debug":(i.startsWith("TRC")||i==="TRACE")&&(p="trace");const y=[`timestamp: ${r}`,`level: ${i}`];c&&y.push(`message: ${c}`);for(const v of m)y.push(`${v}: ${h[v]}`);return{format:"console",formatted:y.join(`
`),level:p}}function Kee(t){const e=t.trim();if(!/\w+=/.test(e))return null;const n=iN(e),s=Object.keys(n);if(s.length<2)return null;let r="unknown";const i=(n.level??n.lvl??n.severity??"").toLowerCase();return i.includes("err")||i==="fatal"?r="error":i.includes("warn")?r="warn":i==="info"?r="info":i==="debug"?r="debug":i==="trace"&&(r="trace"),{format:"logfmt",formatted:s.map(c=>`${c}: ${n[c]}`).join(`
`),level:r}}function Wee(t){const e=t.trim(),n=Uee(e);if(n.startsWith("{")||n.startsWith("["))try{const a=JSON.parse(n);return{format:"json",formatted:JSON.stringify(a,null,2),jsonData:a}}catch{}const s=Fee(n);if(s)return s;const r=qee(n);if(r)return r;const i=Kee(n);return i||{format:"plain",formatted:t}}const Gee={error:"text-red-600 dark:text-red-400",warn:"text-yellow-600 dark:text-yellow-400",info:"text-blue-600 dark:text-blue-400",debug:"text-neutral-600 dark:text-neutral-400",trace:"text-neutral-500 dark:text-neutral-500",unknown:"text-neutral-700 dark:text-neutral-300"},xR={"ansi-black":"text-neutral-800 dark:text-neutral-400","ansi-red":"text-red-600 dark:text-red-400","ansi-green":"text-green-600 dark:text-green-400","ansi-yellow":"text-yellow-600 dark:text-yellow-300","ansi-blue":"text-blue-600 dark:text-blue-400","ansi-magenta":"text-fuchsia-600 dark:text-fuchsia-400","ansi-cyan":"text-cyan-600 dark:text-cyan-400","ansi-white":"text-neutral-600 dark:text-neutral-200","ansi-bright-black":"text-neutral-500 dark:text-neutral-500","ansi-bright-red":"text-red-500 dark:text-red-300","ansi-bright-green":"text-green-500 dark:text-green-300","ansi-bright-yellow":"text-yellow-500 dark:text-yellow-200","ansi-bright-blue":"text-blue-500 dark:text-blue-300","ansi-bright-magenta":"text-fuchsia-500 dark:text-fuchsia-300","ansi-bright-cyan":"text-cyan-500 dark:text-cyan-300","ansi-bright-white":"text-neutral-400 dark:text-white"},wR={"ansi-black":"bg-neutral-900 dark:bg-neutral-900","ansi-red":"bg-red-600/20 dark:bg-red-500/30","ansi-green":"bg-green-600/20 dark:bg-green-500/30","ansi-yellow":"bg-yellow-500/20 dark:bg-yellow-500/30","ansi-blue":"bg-blue-600/20 dark:bg-blue-500/30","ansi-magenta":"bg-fuchsia-600/20 dark:bg-fuchsia-500/30","ansi-cyan":"bg-cyan-600/20 dark:bg-cyan-500/30","ansi-white":"bg-neutral-200 dark:bg-neutral-100","ansi-bright-black":"bg-neutral-700 dark:bg-neutral-700","ansi-bright-red":"bg-red-500/30 dark:bg-red-400/40","ansi-bright-green":"bg-green-500/30 dark:bg-green-400/40","ansi-bright-yellow":"bg-yellow-400/30 dark:bg-yellow-400/40","ansi-bright-blue":"bg-blue-500/30 dark:bg-blue-400/40","ansi-bright-magenta":"bg-fuchsia-500/30 dark:bg-fuchsia-400/40","ansi-bright-cyan":"bg-cyan-500/30 dark:bg-cyan-400/40","ansi-bright-white":"bg-white dark:bg-white"};function SR(t){const e=De.c(5),{text:n}=t;let s,r;if(e[0]!==n){r=Symbol.for("react.early_return_sentinel");e:{const a=Pee.ansiToJson(n,{use_classes:!0,remove_empty:!0});if(a.length===0){r=f.jsx(f.Fragment,{children:n});break e}if(!a.some(Zee)){r=f.jsx(f.Fragment,{children:n});break e}s=a.map(Yee)}e[0]=n,e[1]=s,e[2]=r}else s=e[1],r=e[2];if(r!==Symbol.for("react.early_return_sentinel"))return r;let i;return e[3]!==s?(i=f.jsx(f.Fragment,{children:s}),e[3]=s,e[4]=i):i=e[4],i}function Yee(t,e){const n=[];return t.fg&&xR[t.fg]&&n.push(xR[t.fg]),t.bg&&wR[t.bg]&&n.push(wR[t.bg]),t.decorations?.includes("bold")&&n.push("font-bold"),t.decorations?.includes("italic")&&n.push("italic"),t.decorations?.includes("underline")&&n.push("underline"),n.length>0?f.jsx("span",{className:n.join(" "),children:t.content},e):f.jsx("span",{children:t.content},e)}function Zee(t){return t.fg||t.bg||t.decorations?.length}const Xee={error:"bg-red-50 dark:bg-red-500/10 border-l-2 border-red-400 dark:border-red-500/50",warn:"bg-yellow-50 dark:bg-yellow-500/10 border-l-2 border-yellow-400 dark:border-yellow-500/50",info:"",debug:"",trace:"",unknown:""};function Jee(t,e,n){if(n&&n!=="unknown")return n;if(e){const i=e.level??e.severity??e.lvl??e.log_level??"",a=String(i).toLowerCase();if(a.includes("err")||a==="fatal"||a==="critical")return"error";if(a.includes("warn"))return"warn";if(a==="info")return"info";if(a==="debug")return"debug";if(a==="trace")return"trace"}const r=t.toLowerCase().slice(0,100);return/\b(error|err|fatal|critical|panic|exception)\b/.test(r)?"error":/\b(warn|warning)\b/.test(r)?"warn":/\binfo\b/.test(r)?"info":/\bdebug\b/.test(r)?"debug":/\btrace\b/.test(r)?"trace":"unknown"}function RL(t){const e=De.c(53),{logs:n,sources:s,isLoading:r,error:i,emptyMessage:a,unavailableMessage:c,toolbarRef:u}=t,h=r===void 0?!1:r,m=a===void 0?"Waiting for logs...":a,[p,y]=V.useState(!0),[v,b]=V.useState(!1),[x,S]=V.useState(!1),k=V.useRef(null),C=V.useRef(null);let N;e[0]!==n?(N=async()=>{const H=n.map(Qee).join(`
`);await navigator.clipboard.writeText(H),b(!0),setTimeout(()=>b(!1),2e3)},e[0]=n,e[1]=N):N=e[1];const R=N;let O;e[2]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{if(!C.current)return;const{scrollTop:H,scrollHeight:T,clientHeight:J}=C.current,ne=T-H-J<50;y(ne)},e[2]=O):O=e[2];const E=O;let D;e[3]!==p?(D=()=>{p&&k.current&&k.current.scrollIntoView({behavior:"smooth"})},e[3]=p,e[4]=D):D=e[4];let B;e[5]!==p||e[6]!==n?(B=[n,p],e[5]=p,e[6]=n,e[7]=B):B=e[7],V.useEffect(D,B);let q;e[8]===Symbol.for("react.memo_cache_sentinel")?(q=()=>{y(!0),k.current?.scrollIntoView({behavior:"smooth"})},e[8]=q):q=e[8];const P=q;if(c){let H;return e[9]!==c?(H=f.jsx("div",{className:"h-full flex items-center justify-center text-neutral-500 dark:text-neutral-500",children:c}),e[9]=c,e[10]=H):H=e[10],H}let W;e[11]!==v||e[12]!==R||e[13]!==n.length||e[14]!==x||e[15]!==u?(W=u&&f.jsxs(rN,{toolbarRef:u,children:[f.jsx("button",{onClick:()=>S(!x),className:`flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded transition-colors ${x?"text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-500/20":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800"}`,title:x?"Show all logs":"Show only errors & warnings",children:f.jsx(dG,{size:12})}),f.jsx("button",{onClick:R,disabled:n.length===0,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Copy logs",children:v?f.jsx(Nn,{size:12,className:"text-emerald-500"}):f.jsx(xs,{size:12})})]}),e[11]=v,e[12]=R,e[13]=n.length,e[14]=x,e[15]=u,e[16]=W):W=e[16];let z;e[17]!==h?(z=h&&f.jsx("div",{className:"p-4 text-neutral-500 dark:text-neutral-500",children:"Loading..."}),e[17]=h,e[18]=z):z=e[18];let K;e[19]!==i?(K=i&&f.jsx("div",{className:"p-4 text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-500/10 border-b border-red-300 dark:border-red-500/30",children:i}),e[19]=i,e[20]=K):K=e[20];let X;e[21]!==h||e[22]!==s||e[23]!==c?(X=!h&&s.length===0&&!c&&f.jsx("div",{className:"p-4 text-neutral-500 dark:text-neutral-500",children:"No sources found"}),e[21]=h,e[22]=s,e[23]=c,e[24]=X):X=e[24];let G;e[25]!==m||e[26]!==i||e[27]!==h||e[28]!==n.length||e[29]!==s?(G=n.length===0&&!h&&s.length>0&&!i&&f.jsx("div",{className:"p-4 text-neutral-500 dark:text-neutral-500",children:m}),e[25]=m,e[26]=i,e[27]=h,e[28]=n.length,e[29]=s,e[30]=G):G=e[30];let I;if(e[31]!==n||e[32]!==x||e[33]!==s){let H;e[35]!==x||e[36]!==s?(H=(T,J)=>{const ne=Wee(T.message),Z=Jee(T.message,ne.jsonData,ne.level);if(x&&Z!=="error"&&Z!=="warn")return null;const oe=Gee[Z],ke=Xee[Z],Se=ne.format!=="plain";return f.jsxs("div",{className:`hover:bg-neutral-100 dark:hover:bg-neutral-900/50 rounded px-2 py-1 group ${ke}`,children:[f.jsxs("div",{className:"flex items-center gap-2 text-[10px] leading-tight mb-0.5",children:[f.jsx("span",{className:`${$ee(T.source,s)}`,title:T.source,children:T.source}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-600",children:zee(T.timestamp)}),T.container&&T.container!==T.source&&f.jsx("span",{className:"text-neutral-500 dark:text-neutral-500",children:T.container})]}),Se?f.jsx("pre",{className:`${oe} whitespace-pre overflow-x-auto scrollbar-hide leading-snug text-[11px]`,children:f.jsx(SR,{text:ne.formatted})}):f.jsx("div",{className:`${oe} break-all whitespace-pre-wrap leading-snug`,children:f.jsx(SR,{text:ne.formatted})})]},J)},e[35]=x,e[36]=s,e[37]=H):H=e[37],I=n.map(H),e[31]=n,e[32]=x,e[33]=s,e[34]=I}else I=e[34];let Y;e[38]===Symbol.for("react.memo_cache_sentinel")?(Y=f.jsx("div",{ref:k}),e[38]=Y):Y=e[38];let Q;e[39]!==I?(Q=f.jsxs("div",{className:"p-2 space-y-1",children:[I,Y]}),e[39]=I,e[40]=Q):Q=e[40];let $;e[41]!==K||e[42]!==X||e[43]!==G||e[44]!==Q||e[45]!==z?($=f.jsxs("div",{ref:C,onScroll:E,className:"flex-1 overflow-auto font-mono text-xs",children:[z,K,X,G,Q]}),e[41]=K,e[42]=X,e[43]=G,e[44]=Q,e[45]=z,e[46]=$):$=e[46];let A;e[47]!==p?(A=!p&&f.jsx("div",{className:"shrink-0 px-4 py-2 border-t border-neutral-200 dark:border-neutral-800 bg-neutral-100 dark:bg-neutral-900/50",children:f.jsxs("button",{onClick:P,className:"flex items-center gap-1 text-xs text-neutral-600 dark:text-neutral-500 hover:text-neutral-900 dark:hover:text-neutral-300",children:[f.jsx(ps,{size:12}),"Scroll to bottom"]})}),e[47]=p,e[48]=A):A=e[48];let M;return e[49]!==$||e[50]!==A||e[51]!==W?(M=f.jsxs("div",{className:"flex flex-col h-full bg-neutral-50 dark:bg-neutral-950",children:[W,$,A]}),e[49]=$,e[50]=A,e[51]=W,e[52]=M):M=e[52],M}function Qee(t){return`${t.timestamp??""} [${t.source}]${t.container?` [${t.container}]`:""} ${t.message}`}function kR(t,e,n){const s=t.match(/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+Z)\s+(.*)$/);return s?{podName:e,container:n,timestamp:s[1],message:s[2]}:{podName:e,container:n,message:t}}async function ete(t,e,n,s){const r=new URLSearchParams;s.container&&r.set("container",s.container),s.follow&&r.set("follow","true"),s.tailLines!==void 0&&r.set("tailLines",String(s.tailLines)),s.timestamps&&r.set("timestamps","true");const i=`/contexts/${t}/api/v1/namespaces/${e}/pods/${n}/log?${r.toString()}`;try{const a=await fetch(i,{signal:s.signal});if(!a.ok)throw new Error(`Failed to fetch logs: ${a.status} ${a.statusText}`);if(!a.body)throw new Error("No response body");const c=a.body.getReader(),u=new TextDecoder;let h="";for(;;){const{done:m,value:p}=await c.read();if(m)break;h+=u.decode(p,{stream:!0});const y=h.split(`
`);h=y.pop()||"";for(const v of y)v.trim()&&s.onLog(kR(v,n,s.container))}h.trim()&&s.onLog(kR(h,n,s.container))}catch(a){if(a.name==="AbortError")return;s.onError?.(a)}}function CR(t){const e=new AbortController;for(const n of t.podNames)ete(t.context,t.namespace,n,{container:t.container,follow:t.follow,tailLines:t.tailLines,timestamps:t.timestamps,onLog:t.onLog,onError:t.onError,signal:e.signal});return e}async function tte(t,e,n){const s=`/contexts/${t}/api/v1/namespaces/${e}/pods/${n}`,r=await fetch(s);if(!r.ok)throw new Error(`Failed to fetch pod: ${r.status}`);const i=await r.json(),a=[];if(i.spec?.initContainers)for(const c of i.spec.initContainers)a.push(c.name);if(i.spec?.containers)for(const c of i.spec.containers)a.push(c.name);return a}async function nte(t,e,n,s){let r;switch(n.toLowerCase()){case"deployment":r=`/apis/apps/v1/namespaces/${e}/deployments/${s}`;break;case"daemonset":r=`/apis/apps/v1/namespaces/${e}/daemonsets/${s}`;break;case"replicaset":r=`/apis/apps/v1/namespaces/${e}/replicasets/${s}`;break;case"statefulset":r=`/apis/apps/v1/namespaces/${e}/statefulsets/${s}`;break;case"job":r=`/apis/batch/v1/namespaces/${e}/jobs/${s}`;break;default:throw new Error(`Unsupported workload kind: ${n}`)}const i=await fetch(`/contexts/${t}${r}`);if(!i.ok)throw new Error(`Failed to fetch ${n}: ${i.status}`);const c=(await i.json()).spec?.selector?.matchLabels;if(!c)throw new Error("Workload has no selector labels");const u=Object.entries(c).map(([p,y])=>`${p}=${y}`).join(","),h=await fetch(`/contexts/${t}/api/v1/namespaces/${e}/pods?labelSelector=${encodeURIComponent(u)}`);if(!h.ok)throw new Error(`Failed to fetch pods: ${h.status}`);return(await h.json()).items.map(p=>p.metadata.name)}const ste=4e3;function rte(t){const e=De.c(44),{context:n,resource:s,tailLines:r}=t,i=r===void 0?ste:r;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[0]=a):a=e[0];const[c,u]=V.useState(a);let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[1]=h):h=e[1];const[m,p]=V.useState(h);let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y=[],e[2]=y):y=e[2];const[v,b]=V.useState(y),[x,S]=V.useState(!1),[k,C]=V.useState(null),[N,R]=V.useState(!1),O=V.useRef(null),E=s.kind,D=s.metadata?.name,B=s.metadata?.namespace;let q;e:{if(E==="Pod"&&D){let H;e[3]!==D?(H=[D],e[3]=D,e[4]=H):H=e[4],q=H;break e}q=m}const P=q;let W,z;e[5]!==n||e[6]!==E||e[7]!==D||e[8]!==B?(W=()=>{if(!E||!D||!B||E==="Pod")return;let H=!1;return async function(){S(!0);try{const ne=await nte(n,B,E,D);H||(p(ne),S(!1))}catch(ne){H||(C(ne.message),S(!1))}}(),()=>{H=!0}},z=[n,B,E,D],e[5]=n,e[6]=E,e[7]=D,e[8]=B,e[9]=W,e[10]=z):(W=e[9],z=e[10]),V.useEffect(W,z);let K,X;e[11]!==n||e[12]!==E||e[13]!==D||e[14]!==B?(K=()=>{if(!E||!D||!B||E!=="Pod")return;let H=!1;return async function(){S(!0);try{const ne=await tte(n,B,D);H||(b(ne),S(!1))}catch(ne){H||(C(ne.message),S(!1))}}(),()=>{H=!0}},X=[n,B,E,D],e[11]=n,e[12]=E,e[13]=D,e[14]=B,e[15]=K,e[16]=X):(K=e[15],X=e[16]),V.useEffect(K,X);const G=E==="Pod"&&v.length>1,I=P.length>0&&!N&&!x&&(E!=="Pod"||v.length>0);let Y;e[17]!==n||e[18]!==G||e[19]!==B||e[20]!==v||e[21]!==I||e[22]!==P||e[23]!==i?(Y=()=>{if(I&&B){const H=setTimeout(()=>{if(R(!0),G){const T=[];for(const J of v){const ne=CR({context:n,namespace:B,podNames:P,container:J,follow:!0,tailLines:Math.ceil(i/v.length),timestamps:!0,onLog:Z=>{const oe={timestamp:Z.timestamp,message:Z.message,source:Z.podName,container:J};u(ke=>[...ke,oe])},onError:Z=>{C(Z.message)}});T.push(ne)}O.current={abort:()=>T.forEach(ite),signal:T[0]?.signal}}else O.current=CR({context:n,namespace:B,podNames:P,container:v.length===1?v[0]:void 0,follow:!0,tailLines:i,timestamps:!0,onLog:T=>{const J={timestamp:T.timestamp,message:T.message,source:T.podName,container:T.container};u(ne=>[...ne,J])},onError:T=>{C(T.message)}})},0);return()=>clearTimeout(H)}},e[17]=n,e[18]=G,e[19]=B,e[20]=v,e[21]=I,e[22]=P,e[23]=i,e[24]=Y):Y=e[24];let Q;e[25]!==n||e[26]!==G||e[27]!==E||e[28]!==B||e[29]!==v||e[30]!==I||e[31]!==P||e[32]!==i?(Q=[I,n,B,P,i,G,v,E],e[25]=n,e[26]=G,e[27]=E,e[28]=B,e[29]=v,e[30]=I,e[31]=P,e[32]=i,e[33]=Q):Q=e[33],V.useEffect(Y,Q);let $;e[34]===Symbol.for("react.memo_cache_sentinel")?($=()=>()=>{O.current?.abort(),O.current=null},e[34]=$):$=e[34];let A;e[35]!==E||e[36]!==D||e[37]!==B?(A=[E,D,B],e[35]=E,e[36]=D,e[37]=B,e[38]=A):A=e[38],V.useEffect($,A);let M;return e[39]!==k||e[40]!==x||e[41]!==c||e[42]!==P?(M={logs:c,sources:P,isLoading:x,error:k},e[39]=k,e[40]=x,e[41]=c,e[42]=P,e[43]=M):M=e[43],M}function ite(t){return t.abort()}function ate(t){const e=De.c(9),{context:n,resource:s,toolbarRef:r}=t;let i;e[0]!==n||e[1]!==s?(i={context:n,resource:s},e[0]=n,e[1]=s,e[2]=i):i=e[2];const{logs:a,sources:c,isLoading:u,error:h}=rte(i);let m;return e[3]!==h||e[4]!==u||e[5]!==a||e[6]!==c||e[7]!==r?(m=f.jsx(RL,{logs:a,sources:c,isLoading:u,error:h,emptyMessage:"Waiting for logs...",toolbarRef:r}),e[3]=h,e[4]=u,e[5]=a,e[6]=c,e[7]=r,e[8]=m):m=e[8],m}function ote(t){return`${t.kind}/${t.metadata?.namespace}/${t.metadata?.name}`}function lte(t){const e=De.c(7),{context:n,resource:s,toolbarRef:r}=t;let i;e[0]!==s?(i=ote(s),e[0]=s,e[1]=i):i=e[1];let a;return e[2]!==n||e[3]!==s||e[4]!==i||e[5]!==r?(a=f.jsx(ate,{context:n,resource:s,toolbarRef:r},i),e[2]=n,e[3]=s,e[4]=i,e[5]=r,e[6]=a):a=e[6],a}var OL=Object.defineProperty,cte=Object.getOwnPropertyDescriptor,ute=(t,e)=>{for(var n in e)OL(t,n,{get:e[n],enumerable:!0})},xn=(t,e,n,s)=>{for(var r=s>1?void 0:s?cte(e,n):e,i=t.length-1,a;i>=0;i--)(a=t[i])&&(r=(s?a(e,n,r):a(r))||r);return s&&r&&OL(e,n,r),r},Pe=(t,e)=>(n,s)=>e(n,s,t),NR="Terminal input",wk={get:()=>NR,set:t=>NR=t},ER="Too much output to announce, navigate to rows manually to read",Sk={get:()=>ER,set:t=>ER=t};function hte(t){return t.replace(/\r?\n/g,"\r")}function dte(t,e){return e?"\x1B[200~"+t+"\x1B[201~":t}function fte(t,e){t.clipboardData&&t.clipboardData.setData("text/plain",e.selectionText),t.preventDefault()}function pte(t,e,n,s){if(t.stopPropagation(),t.clipboardData){let r=t.clipboardData.getData("text/plain");ML(r,e,n,s)}}function ML(t,e,n,s){t=hte(t),t=dte(t,n.decPrivateModes.bracketedPasteMode&&s.rawOptions.ignoreBracketedPasteMode!==!0),n.triggerDataEvent(t,!0),e.value=""}function DL(t,e,n){let s=n.getBoundingClientRect(),r=t.clientX-s.left-10,i=t.clientY-s.top-10;e.style.width="20px",e.style.height="20px",e.style.left=`${r}px`,e.style.top=`${i}px`,e.style.zIndex="1000",e.focus()}function AR(t,e,n,s,r){DL(t,e,n),r&&s.rightClickSelect(t),e.value=s.selectionText,e.select()}function bo(t){return t>65535?(t-=65536,String.fromCharCode((t>>10)+55296)+String.fromCharCode(t%1024+56320)):String.fromCharCode(t)}function yb(t,e=0,n=t.length){let s="";for(let r=e;r<n;++r){let i=t[r];i>65535?(i-=65536,s+=String.fromCharCode((i>>10)+55296)+String.fromCharCode(i%1024+56320)):s+=String.fromCharCode(i)}return s}var mte=class{constructor(){this._interim=0}clear(){this._interim=0}decode(t,e){let n=t.length;if(!n)return 0;let s=0,r=0;if(this._interim){let i=t.charCodeAt(r++);56320<=i&&i<=57343?e[s++]=(this._interim-55296)*1024+i-56320+65536:(e[s++]=this._interim,e[s++]=i),this._interim=0}for(let i=r;i<n;++i){let a=t.charCodeAt(i);if(55296<=a&&a<=56319){if(++i>=n)return this._interim=a,s;let c=t.charCodeAt(i);56320<=c&&c<=57343?e[s++]=(a-55296)*1024+c-56320+65536:(e[s++]=a,e[s++]=c);continue}a!==65279&&(e[s++]=a)}return s}},gte=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(t,e){let n=t.length;if(!n)return 0;let s=0,r,i,a,c,u=0,h=0;if(this.interim[0]){let y=!1,v=this.interim[0];v&=(v&224)===192?31:(v&240)===224?15:7;let b=0,x;for(;(x=this.interim[++b]&63)&&b<4;)v<<=6,v|=x;let S=(this.interim[0]&224)===192?2:(this.interim[0]&240)===224?3:4,k=S-b;for(;h<k;){if(h>=n)return 0;if(x=t[h++],(x&192)!==128){h--,y=!0;break}else this.interim[b++]=x,v<<=6,v|=x&63}y||(S===2?v<128?h--:e[s++]=v:S===3?v<2048||v>=55296&&v<=57343||v===65279||(e[s++]=v):v<65536||v>1114111||(e[s++]=v)),this.interim.fill(0)}let m=n-4,p=h;for(;p<n;){for(;p<m&&!((r=t[p])&128)&&!((i=t[p+1])&128)&&!((a=t[p+2])&128)&&!((c=t[p+3])&128);)e[s++]=r,e[s++]=i,e[s++]=a,e[s++]=c,p+=4;if(r=t[p++],r<128)e[s++]=r;else if((r&224)===192){if(p>=n)return this.interim[0]=r,s;if(i=t[p++],(i&192)!==128){p--;continue}if(u=(r&31)<<6|i&63,u<128){p--;continue}e[s++]=u}else if((r&240)===224){if(p>=n)return this.interim[0]=r,s;if(i=t[p++],(i&192)!==128){p--;continue}if(p>=n)return this.interim[0]=r,this.interim[1]=i,s;if(a=t[p++],(a&192)!==128){p--;continue}if(u=(r&15)<<12|(i&63)<<6|a&63,u<2048||u>=55296&&u<=57343||u===65279)continue;e[s++]=u}else if((r&248)===240){if(p>=n)return this.interim[0]=r,s;if(i=t[p++],(i&192)!==128){p--;continue}if(p>=n)return this.interim[0]=r,this.interim[1]=i,s;if(a=t[p++],(a&192)!==128){p--;continue}if(p>=n)return this.interim[0]=r,this.interim[1]=i,this.interim[2]=a,s;if(c=t[p++],(c&192)!==128){p--;continue}if(u=(r&7)<<18|(i&63)<<12|(a&63)<<6|c&63,u<65536||u>1114111)continue;e[s++]=u}}return s}},BL="",No=" ",Xp=class LL{constructor(){this.fg=0,this.bg=0,this.extended=new Uy}static toColorRGB(e){return[e>>>16&255,e>>>8&255,e&255]}static fromColorRGB(e){return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255}clone(){let e=new LL;return e.fg=this.fg,e.bg=this.bg,e.extended=this.extended.clone(),e}isInverse(){return this.fg&67108864}isBold(){return this.fg&134217728}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:this.fg&268435456}isBlink(){return this.fg&536870912}isInvisible(){return this.fg&1073741824}isItalic(){return this.bg&67108864}isDim(){return this.bg&134217728}isStrikethrough(){return this.fg&2147483648}isProtected(){return this.bg&536870912}isOverline(){return this.bg&1073741824}getFgColorMode(){return this.fg&50331648}getBgColorMode(){return this.bg&50331648}isFgRGB(){return(this.fg&50331648)===50331648}isBgRGB(){return(this.bg&50331648)===50331648}isFgPalette(){return(this.fg&50331648)===16777216||(this.fg&50331648)===33554432}isBgPalette(){return(this.bg&50331648)===16777216||(this.bg&50331648)===33554432}isFgDefault(){return(this.fg&50331648)===0}isBgDefault(){return(this.bg&50331648)===0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(this.fg&50331648){case 16777216:case 33554432:return this.fg&255;case 50331648:return this.fg&16777215;default:return-1}}getBgColor(){switch(this.bg&50331648){case 16777216:case 33554432:return this.bg&255;case 50331648:return this.bg&16777215;default:return-1}}hasExtendedAttrs(){return this.bg&268435456}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(this.bg&268435456&&~this.extended.underlineColor)switch(this.extended.underlineColor&50331648){case 16777216:case 33554432:return this.extended.underlineColor&255;case 50331648:return this.extended.underlineColor&16777215;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return this.bg&268435456&&~this.extended.underlineColor?this.extended.underlineColor&50331648:this.getFgColorMode()}isUnderlineColorRGB(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===50331648:this.isFgRGB()}isUnderlineColorPalette(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===16777216||(this.extended.underlineColor&50331648)===33554432:this.isFgPalette()}isUnderlineColorDefault(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===0:this.isFgDefault()}getUnderlineStyle(){return this.fg&268435456?this.bg&268435456?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}},Uy=class IL{constructor(e=0,n=0){this._ext=0,this._urlId=0,this._ext=e,this._urlId=n}get ext(){return this._urlId?this._ext&-469762049|this.underlineStyle<<26:this._ext}set ext(e){this._ext=e}get underlineStyle(){return this._urlId?5:(this._ext&469762048)>>26}set underlineStyle(e){this._ext&=-469762049,this._ext|=e<<26&469762048}get underlineColor(){return this._ext&67108863}set underlineColor(e){this._ext&=-67108864,this._ext|=e&67108863}get urlId(){return this._urlId}set urlId(e){this._urlId=e}get underlineVariantOffset(){let e=(this._ext&3758096384)>>29;return e<0?e^4294967288:e}set underlineVariantOffset(e){this._ext&=536870911,this._ext|=e<<29&3758096384}clone(){return new IL(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}},Jr=class PL extends Xp{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new Uy,this.combinedData=""}static fromCharData(e){let n=new PL;return n.setFromCharData(e),n}isCombined(){return this.content&2097152}getWidth(){return this.content>>22}getChars(){return this.content&2097152?this.combinedData:this.content&2097151?bo(this.content&2097151):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):this.content&2097151}setFromCharData(e){this.fg=e[0],this.bg=0;let n=!1;if(e[1].length>2)n=!0;else if(e[1].length===2){let s=e[1].charCodeAt(0);if(55296<=s&&s<=56319){let r=e[1].charCodeAt(1);56320<=r&&r<=57343?this.content=(s-55296)*1024+r-56320+65536|e[2]<<22:n=!0}else n=!0}else this.content=e[1].charCodeAt(0)|e[2]<<22;n&&(this.combinedData=e[1],this.content=2097152|e[2]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},jR="di$target",kk="di$dependencies",Vx=new Map;function yte(t){return t[kk]||[]}function ns(t){if(Vx.has(t))return Vx.get(t);let e=function(n,s,r){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");vte(e,n,r)};return e._id=t,Vx.set(t,e),e}function vte(t,e,n){e[jR]===e?e[kk].push({id:t,index:n}):(e[kk]=[{id:t,index:n}],e[jR]=e)}var $s=ns("BufferService"),$L=ns("CoreMouseService"),fc=ns("CoreService"),bte=ns("CharsetService"),aN=ns("InstantiationService"),zL=ns("LogService"),zs=ns("OptionsService"),UL=ns("OscLinkService"),_te=ns("UnicodeService"),Jp=ns("DecorationService"),Ck=class{constructor(t,e,n){this._bufferService=t,this._optionsService=e,this._oscLinkService=n}provideLinks(t,e){let n=this._bufferService.buffer.lines.get(t-1);if(!n){e(void 0);return}let s=[],r=this._optionsService.rawOptions.linkHandler,i=new Jr,a=n.getTrimmedLength(),c=-1,u=-1,h=!1;for(let m=0;m<a;m++)if(!(u===-1&&!n.hasContent(m))){if(n.loadCell(m,i),i.hasExtendedAttrs()&&i.extended.urlId)if(u===-1){u=m,c=i.extended.urlId;continue}else h=i.extended.urlId!==c;else u!==-1&&(h=!0);if(h||u!==-1&&m===a-1){let p=this._oscLinkService.getLinkData(c)?.uri;if(p){let y={start:{x:u+1,y:t},end:{x:m+(!h&&m===a-1?1:0),y:t}},v=!1;if(!r?.allowNonHttpProtocols)try{let b=new URL(p);["http:","https:"].includes(b.protocol)||(v=!0)}catch{v=!0}v||s.push({text:p,range:y,activate:(b,x)=>r?r.activate(b,x,y):xte(b,x),hover:(b,x)=>r?.hover?.(b,x,y),leave:(b,x)=>r?.leave?.(b,x,y)})}h=!1,i.hasExtendedAttrs()&&i.extended.urlId?(u=m,c=i.extended.urlId):(u=-1,c=-1)}}e(s)}};Ck=xn([Pe(0,$s),Pe(1,zs),Pe(2,UL)],Ck);function xte(t,e){if(confirm(`Do you want to navigate to ${e}?

WARNING: This link could potentially be dangerous`)){let n=window.open();if(n){try{n.opener=null}catch{}n.location.href=e}else console.warn("Opening link blocked as opener could not be cleared")}}var vb=ns("CharSizeService"),Pa=ns("CoreBrowserService"),oN=ns("MouseService"),$a=ns("RenderService"),wte=ns("SelectionService"),HL=ns("CharacterJoinerService"),kh=ns("ThemeService"),FL=ns("LinkProviderService"),Ste=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?TR.isErrorNoTelemetry(t)?new TR(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(e=>{e(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},kte=new Ste;function _0(t){Cte(t)||kte.onUnexpectedError(t)}var Nk="Canceled";function Cte(t){return t instanceof Nte?!0:t instanceof Error&&t.name===Nk&&t.message===Nk}var Nte=class extends Error{constructor(){super(Nk),this.name=this.message}};function Ete(t){return new Error(`Illegal argument: ${t}`)}var TR=class Ek extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof Ek)return e;let n=new Ek;return n.message=e.message,n.stack=e.stack,n}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},Ak=class VL extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,VL.prototype)}};function fr(t,e=0){return t[t.length-(1+e)]}var Ate;(t=>{function e(i){return i<0}t.isLessThan=e;function n(i){return i<=0}t.isLessThanOrEqual=n;function s(i){return i>0}t.isGreaterThan=s;function r(i){return i===0}t.isNeitherLessOrGreaterThan=r,t.greaterThan=1,t.lessThan=-1,t.neitherLessOrGreaterThan=0})(Ate||={});function jte(t,e){let n=this,s=!1,r;return function(){return s||(s=!0,e||(r=t.apply(n,arguments))),r}}var qL;(t=>{function e(R){return R&&typeof R=="object"&&typeof R[Symbol.iterator]=="function"}t.is=e;let n=Object.freeze([]);function s(){return n}t.empty=s;function*r(R){yield R}t.single=r;function i(R){return e(R)?R:r(R)}t.wrap=i;function a(R){return R||n}t.from=a;function*c(R){for(let O=R.length-1;O>=0;O--)yield R[O]}t.reverse=c;function u(R){return!R||R[Symbol.iterator]().next().done===!0}t.isEmpty=u;function h(R){return R[Symbol.iterator]().next().value}t.first=h;function m(R,O){let E=0;for(let D of R)if(O(D,E++))return!0;return!1}t.some=m;function p(R,O){for(let E of R)if(O(E))return E}t.find=p;function*y(R,O){for(let E of R)O(E)&&(yield E)}t.filter=y;function*v(R,O){let E=0;for(let D of R)yield O(D,E++)}t.map=v;function*b(R,O){let E=0;for(let D of R)yield*O(D,E++)}t.flatMap=b;function*x(...R){for(let O of R)yield*O}t.concat=x;function S(R,O,E){let D=E;for(let B of R)D=O(D,B);return D}t.reduce=S;function*k(R,O,E=R.length){for(O<0&&(O+=R.length),E<0?E+=R.length:E>R.length&&(E=R.length);O<E;O++)yield R[O]}t.slice=k;function C(R,O=Number.POSITIVE_INFINITY){let E=[];if(O===0)return[E,R];let D=R[Symbol.iterator]();for(let B=0;B<O;B++){let q=D.next();if(q.done)return[E,t.empty()];E.push(q.value)}return[E,{[Symbol.iterator](){return D}}]}t.consume=C;async function N(R){let O=[];for await(let E of R)O.push(E);return Promise.resolve(O)}t.asyncToArray=N})(qL||={});function tc(t){if(qL.is(t)){let e=[];for(let n of t)if(n)try{n.dispose()}catch(s){e.push(s)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}function Tte(...t){return hn(()=>tc(t))}function hn(t){return{dispose:jte(()=>{t()})}}var KL=class WL{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{tc(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?WL.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),void 0)}};KL.DISABLE_DISPOSED_WARNING=!1;var Bo=KL,kt=class{constructor(){this._store=new Bo,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};kt.None=Object.freeze({dispose(){}});var th=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(t){this._isDisposed||t===this._value||(this._value?.dispose(),this._value=t)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}clearAndLeak(){let t=this._value;return this._value=void 0,t}},xa=typeof window=="object"?window:globalThis,jk=class Tk{constructor(e){this.element=e,this.next=Tk.Undefined,this.prev=Tk.Undefined}};jk.Undefined=new jk(void 0);var mn=jk,RR=class{constructor(){this._first=mn.Undefined,this._last=mn.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===mn.Undefined}clear(){let t=this._first;for(;t!==mn.Undefined;){let e=t.next;t.prev=mn.Undefined,t.next=mn.Undefined,t=e}this._first=mn.Undefined,this._last=mn.Undefined,this._size=0}unshift(t){return this._insert(t,!1)}push(t){return this._insert(t,!0)}_insert(t,e){let n=new mn(t);if(this._first===mn.Undefined)this._first=n,this._last=n;else if(e){let r=this._last;this._last=n,n.prev=r,r.next=n}else{let r=this._first;this._first=n,n.next=r,r.prev=n}this._size+=1;let s=!1;return()=>{s||(s=!0,this._remove(n))}}shift(){if(this._first!==mn.Undefined){let t=this._first.element;return this._remove(this._first),t}}pop(){if(this._last!==mn.Undefined){let t=this._last.element;return this._remove(this._last),t}}_remove(t){if(t.prev!==mn.Undefined&&t.next!==mn.Undefined){let e=t.prev;e.next=t.next,t.next.prev=e}else t.prev===mn.Undefined&&t.next===mn.Undefined?(this._first=mn.Undefined,this._last=mn.Undefined):t.next===mn.Undefined?(this._last=this._last.prev,this._last.next=mn.Undefined):t.prev===mn.Undefined&&(this._first=this._first.next,this._first.prev=mn.Undefined);this._size-=1}*[Symbol.iterator](){let t=this._first;for(;t!==mn.Undefined;)yield t.element,t=t.next}},Rte=globalThis.performance&&typeof globalThis.performance.now=="function",Ote=class GL{static create(e){return new GL(e)}constructor(e){this._now=Rte&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}},ds;(t=>{t.None=()=>kt.None;function e(z,K){return p(z,()=>{},0,void 0,!0,void 0,K)}t.defer=e;function n(z){return(K,X=null,G)=>{let I=!1,Y;return Y=z(Q=>{if(!I)return Y?Y.dispose():I=!0,K.call(X,Q)},null,G),I&&Y.dispose(),Y}}t.once=n;function s(z,K,X){return h((G,I=null,Y)=>z(Q=>G.call(I,K(Q)),null,Y),X)}t.map=s;function r(z,K,X){return h((G,I=null,Y)=>z(Q=>{K(Q),G.call(I,Q)},null,Y),X)}t.forEach=r;function i(z,K,X){return h((G,I=null,Y)=>z(Q=>K(Q)&&G.call(I,Q),null,Y),X)}t.filter=i;function a(z){return z}t.signal=a;function c(...z){return(K,X=null,G)=>{let I=Tte(...z.map(Y=>Y(Q=>K.call(X,Q))));return m(I,G)}}t.any=c;function u(z,K,X,G){let I=X;return s(z,Y=>(I=K(I,Y),I),G)}t.reduce=u;function h(z,K){let X,G={onWillAddFirstListener(){X=z(I.fire,I)},onDidRemoveLastListener(){X?.dispose()}},I=new Te(G);return K?.add(I),I.event}function m(z,K){return K instanceof Array?K.push(z):K&&K.add(z),z}function p(z,K,X=100,G=!1,I=!1,Y,Q){let $,A,M,H=0,T,J={leakWarningThreshold:Y,onWillAddFirstListener(){$=z(Z=>{H++,A=K(A,Z),G&&!M&&(ne.fire(A),A=void 0),T=()=>{let oe=A;A=void 0,M=void 0,(!G||H>1)&&ne.fire(oe),H=0},typeof X=="number"?(clearTimeout(M),M=setTimeout(T,X)):M===void 0&&(M=0,queueMicrotask(T))})},onWillRemoveListener(){I&&H>0&&T?.()},onDidRemoveLastListener(){T=void 0,$.dispose()}},ne=new Te(J);return Q?.add(ne),ne.event}t.debounce=p;function y(z,K=0,X){return t.debounce(z,(G,I)=>G?(G.push(I),G):[I],K,void 0,!0,void 0,X)}t.accumulate=y;function v(z,K=(G,I)=>G===I,X){let G=!0,I;return i(z,Y=>{let Q=G||!K(Y,I);return G=!1,I=Y,Q},X)}t.latch=v;function b(z,K,X){return[t.filter(z,K,X),t.filter(z,G=>!K(G),X)]}t.split=b;function x(z,K=!1,X=[],G){let I=X.slice(),Y=z(A=>{I?I.push(A):$.fire(A)});G&&G.add(Y);let Q=()=>{I?.forEach(A=>$.fire(A)),I=null},$=new Te({onWillAddFirstListener(){Y||(Y=z(A=>$.fire(A)),G&&G.add(Y))},onDidAddFirstListener(){I&&(K?setTimeout(Q):Q())},onDidRemoveLastListener(){Y&&Y.dispose(),Y=null}});return G&&G.add($),$.event}t.buffer=x;function S(z,K){return(X,G,I)=>{let Y=K(new C);return z(function(Q){let $=Y.evaluate(Q);$!==k&&X.call(G,$)},void 0,I)}}t.chain=S;let k=Symbol("HaltChainable");class C{constructor(){this.steps=[]}map(K){return this.steps.push(K),this}forEach(K){return this.steps.push(X=>(K(X),X)),this}filter(K){return this.steps.push(X=>K(X)?X:k),this}reduce(K,X){let G=X;return this.steps.push(I=>(G=K(G,I),G)),this}latch(K=(X,G)=>X===G){let X=!0,G;return this.steps.push(I=>{let Y=X||!K(I,G);return X=!1,G=I,Y?I:k}),this}evaluate(K){for(let X of this.steps)if(K=X(K),K===k)break;return K}}function N(z,K,X=G=>G){let G=(...$)=>Q.fire(X(...$)),I=()=>z.on(K,G),Y=()=>z.removeListener(K,G),Q=new Te({onWillAddFirstListener:I,onDidRemoveLastListener:Y});return Q.event}t.fromNodeEventEmitter=N;function R(z,K,X=G=>G){let G=(...$)=>Q.fire(X(...$)),I=()=>z.addEventListener(K,G),Y=()=>z.removeEventListener(K,G),Q=new Te({onWillAddFirstListener:I,onDidRemoveLastListener:Y});return Q.event}t.fromDOMEventEmitter=R;function O(z){return new Promise(K=>n(z)(K))}t.toPromise=O;function E(z){let K=new Te;return z.then(X=>{K.fire(X)},()=>{K.fire(void 0)}).finally(()=>{K.dispose()}),K.event}t.fromPromise=E;function D(z,K){return z(X=>K.fire(X))}t.forward=D;function B(z,K,X){return K(X),z(G=>K(G))}t.runAndSubscribe=B;class q{constructor(K,X){this._observable=K,this._counter=0,this._hasChanged=!1;let G={onWillAddFirstListener:()=>{K.addObserver(this)},onDidRemoveLastListener:()=>{K.removeObserver(this)}};this.emitter=new Te(G),X&&X.add(this.emitter)}beginUpdate(K){this._counter++}handlePossibleChange(K){}handleChange(K,X){this._hasChanged=!0}endUpdate(K){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function P(z,K){return new q(z,K).emitter.event}t.fromObservable=P;function W(z){return(K,X,G)=>{let I=0,Y=!1,Q={beginUpdate(){I++},endUpdate(){I--,I===0&&(z.reportChanges(),Y&&(Y=!1,K.call(X)))},handlePossibleChange(){},handleChange(){Y=!0}};z.addObserver(Q),z.reportChanges();let $={dispose(){z.removeObserver(Q)}};return G instanceof Bo?G.add($):Array.isArray(G)&&G.push($),$}}t.fromObservableLight=W})(ds||={});var Rk=class Ok{constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${Ok._idPool++}`,Ok.all.add(this)}start(e){this._stopWatch=new Ote,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}};Rk.all=new Set,Rk._idPool=0;var Mte=Rk,Dte=-1,YL=class ZL{constructor(e,n,s=(ZL._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e,this.threshold=n,this.name=s,this._warnCountdown=0}dispose(){this._stacks?.clear()}check(e,n){let s=this.threshold;if(s<=0||n<s)return;this._stacks||(this._stacks=new Map);let r=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,r+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=s*.5;let[i,a]=this.getMostFrequentStack(),c=`[${this.name}] potential listener LEAK detected, having ${n} listeners already. MOST frequent listener (${a}):`;console.warn(c),console.warn(i);let u=new Ite(c,i);this._errorHandler(u)}return()=>{let i=this._stacks.get(e.value)||0;this._stacks.set(e.value,i-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,n=0;for(let[s,r]of this._stacks)(!e||n<r)&&(e=[s,r],n=r);return e}};YL._idPool=1;var Bte=YL,Lte=class XL{constructor(e){this.value=e}static create(){let e=new Error;return new XL(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Ite=class extends Error{constructor(t,e){super(t),this.name="ListenerLeakError",this.stack=e}},Pte=class extends Error{constructor(t,e){super(t),this.name="ListenerRefusalError",this.stack=e}},$te=0,qx=class{constructor(t){this.value=t,this.id=$te++}},zte=2,Ute,Te=class{constructor(e){this._size=0,this._options=e,this._leakageMon=this._options?.leakWarningThreshold?new Bte(e?.onListenerError??_0,this._options?.leakWarningThreshold??Dte):void 0,this._perfMon=this._options?._profName?new Mte(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){this._disposed||(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose())}get event(){return this._event??=(e,n,s)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],h=new Pte(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||_0)(h),kt.None}if(this._disposed)return kt.None;n&&(e=e.bind(n));let r=new qx(e),i;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(r.stack=Lte.create(),i=this._leakageMon.check(r.stack,this._size+1)),this._listeners?this._listeners instanceof qx?(this._deliveryQueue??=new Hte,this._listeners=[this._listeners,r]):this._listeners.push(r):(this._options?.onWillAddFirstListener?.(this),this._listeners=r,this._options?.onDidAddFirstListener?.(this)),this._size++;let a=hn(()=>{i?.(),this._removeListener(r)});return s instanceof Bo?s.add(a):Array.isArray(s)&&s.push(a),a},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let n=this._listeners,s=n.indexOf(e);if(s===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,n[s]=void 0;let r=this._deliveryQueue.current===this;if(this._size*zte<=n.length){let i=0;for(let a=0;a<n.length;a++)n[a]?n[i++]=n[a]:r&&(this._deliveryQueue.end--,i<this._deliveryQueue.i&&this._deliveryQueue.i--);n.length=i}}_deliver(e,n){if(!e)return;let s=this._options?.onListenerError||_0;if(!s){e.value(n);return}try{e.value(n)}catch(r){s(r)}}_deliverQueue(e){let n=e.current._listeners;for(;e.i<e.end;)this._deliver(n[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof qx)this._deliver(this._listeners,e);else{let n=this._deliveryQueue;n.enqueue(this,e,this._listeners.length),this._deliverQueue(n)}this._perfMon?.stop()}hasListeners(){return this._size>0}},Hte=class{constructor(){this.i=-1,this.end=0}enqueue(t,e,n){this.i=0,this.end=n,this.current=t,this.value=e}reset(){this.i=this.end,this.current=void 0,this.value=void 0}},Mk=class{constructor(){this.mapWindowIdToZoomLevel=new Map,this._onDidChangeZoomLevel=new Te,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this.mapWindowIdToZoomFactor=new Map,this._onDidChangeFullscreen=new Te,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event,this.mapWindowIdToFullScreen=new Map}getZoomLevel(e){return this.mapWindowIdToZoomLevel.get(this.getWindowId(e))??0}setZoomLevel(e,n){if(this.getZoomLevel(n)===e)return;let s=this.getWindowId(n);this.mapWindowIdToZoomLevel.set(s,e),this._onDidChangeZoomLevel.fire(s)}getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}setZoomFactor(e,n){this.mapWindowIdToZoomFactor.set(this.getWindowId(n),e)}setFullscreen(e,n){if(this.isFullscreen(n)===e)return;let s=this.getWindowId(n);this.mapWindowIdToFullScreen.set(s,e),this._onDidChangeFullscreen.fire(s)}isFullscreen(e){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(e))}getWindowId(e){return e.vscodeWindowId}};Mk.INSTANCE=new Mk;var lN=Mk;function Fte(t,e,n){typeof e=="string"&&(e=t.matchMedia(e)),e.addEventListener("change",n)}lN.INSTANCE.onDidChangeZoomLevel;function Vte(t){return lN.INSTANCE.getZoomFactor(t)}lN.INSTANCE.onDidChangeFullscreen;var Ch=typeof navigator=="object"?navigator.userAgent:"",Dk=Ch.indexOf("Firefox")>=0,qte=Ch.indexOf("AppleWebKit")>=0,cN=Ch.indexOf("Chrome")>=0,Kte=!cN&&Ch.indexOf("Safari")>=0;Ch.indexOf("Electron/")>=0;Ch.indexOf("Android")>=0;var Kx=!1;if(typeof xa.matchMedia=="function"){let t=xa.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=xa.matchMedia("(display-mode: fullscreen)");Kx=t.matches,Fte(xa,t,({matches:n})=>{Kx&&e.matches||(Kx=n)})}var ku="en",Bk=!1,Lk=!1,x0=!1,JL=!1,Fg,w0=ku,OR=ku,Wte,ga,Ll=globalThis,br;typeof Ll.vscode<"u"&&typeof Ll.vscode.process<"u"?br=Ll.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(br=process);var Gte=typeof br?.versions?.electron=="string",Yte=Gte&&br?.type==="renderer";if(typeof br=="object"){Bk=br.platform==="win32",Lk=br.platform==="darwin",x0=br.platform==="linux",x0&&br.env.SNAP&&br.env.SNAP_REVISION,br.env.CI||br.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Fg=ku,w0=ku;let t=br.env.VSCODE_NLS_CONFIG;if(t)try{let e=JSON.parse(t);Fg=e.userLocale,OR=e.osLocale,w0=e.resolvedLanguage||ku,Wte=e.languagePack?.translationsConfigFile}catch{}JL=!0}else typeof navigator=="object"&&!Yte?(ga=navigator.userAgent,Bk=ga.indexOf("Windows")>=0,Lk=ga.indexOf("Macintosh")>=0,(ga.indexOf("Macintosh")>=0||ga.indexOf("iPad")>=0||ga.indexOf("iPhone")>=0)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0,x0=ga.indexOf("Linux")>=0,ga?.indexOf("Mobi")>=0,w0=globalThis._VSCODE_NLS_LANGUAGE||ku,Fg=navigator.language.toLowerCase(),OR=Fg):console.error("Unable to resolve platform.");var QL=Bk,Ii=Lk,Zte=x0,MR=JL,Ui=ga,ho=w0,Xte;(t=>{function e(){return ho}t.value=e;function n(){return ho.length===2?ho==="en":ho.length>=3?ho[0]==="e"&&ho[1]==="n"&&ho[2]==="-":!1}t.isDefaultVariant=n;function s(){return ho==="en"}t.isDefault=s})(Xte||={});var Jte=typeof Ll.postMessage=="function"&&!Ll.importScripts;(()=>{if(Jte){let t=[];Ll.addEventListener("message",n=>{if(n.data&&n.data.vscodeScheduleAsyncWork)for(let s=0,r=t.length;s<r;s++){let i=t[s];if(i.id===n.data.vscodeScheduleAsyncWork){t.splice(s,1),i.callback();return}}});let e=0;return n=>{let s=++e;t.push({id:s,callback:n}),Ll.postMessage({vscodeScheduleAsyncWork:s},"*")}}return t=>setTimeout(t)})();var Qte=!!(Ui&&Ui.indexOf("Chrome")>=0);Ui&&Ui.indexOf("Firefox")>=0;!Qte&&Ui&&Ui.indexOf("Safari")>=0;Ui&&Ui.indexOf("Edg/")>=0;Ui&&Ui.indexOf("Android")>=0;var ru=typeof navigator=="object"?navigator:{};MR||document.queryCommandSupported&&document.queryCommandSupported("copy")||ru&&ru.clipboard&&ru.clipboard.writeText,MR||ru&&ru.clipboard&&ru.clipboard.readText;var uN=class{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(t,e){this._keyCodeToStr[t]=e,this._strToKeyCode[e.toLowerCase()]=t}keyCodeToStr(t){return this._keyCodeToStr[t]}strToKeyCode(t){return this._strToKeyCode[t.toLowerCase()]||0}},Wx=new uN,DR=new uN,BR=new uN,ene=new Array(230),eI;(t=>{function e(c){return Wx.keyCodeToStr(c)}t.toString=e;function n(c){return Wx.strToKeyCode(c)}t.fromString=n;function s(c){return DR.keyCodeToStr(c)}t.toUserSettingsUS=s;function r(c){return BR.keyCodeToStr(c)}t.toUserSettingsGeneral=r;function i(c){return DR.strToKeyCode(c)||BR.strToKeyCode(c)}t.fromUserSettings=i;function a(c){if(c>=98&&c<=113)return null;switch(c){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Wx.keyCodeToStr(c)}t.toElectronAccelerator=a})(eI||={});var tne=class tI{constructor(e,n,s,r,i){this.ctrlKey=e,this.shiftKey=n,this.altKey=s,this.metaKey=r,this.keyCode=i}equals(e){return e instanceof tI&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){let e=this.ctrlKey?"1":"0",n=this.shiftKey?"1":"0",s=this.altKey?"1":"0",r=this.metaKey?"1":"0";return`K${e}${n}${s}${r}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new nne([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}},nne=class{constructor(t){if(t.length===0)throw Ete("chords");this.chords=t}getHashCode(){let t="";for(let e=0,n=this.chords.length;e<n;e++)e!==0&&(t+=";"),t+=this.chords[e].getHashCode();return t}equals(t){if(t===null||this.chords.length!==t.chords.length)return!1;for(let e=0;e<this.chords.length;e++)if(!this.chords[e].equals(t.chords[e]))return!1;return!0}};function sne(t){if(t.charCode){let n=String.fromCharCode(t.charCode).toUpperCase();return eI.fromString(n)}let e=t.keyCode;if(e===3)return 7;if(Dk)switch(e){case 59:return 85;case 60:if(Zte)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Ii)return 57;break}else if(qte&&(Ii&&e===93||!Ii&&e===92))return 57;return ene[e]||0}var rne=Ii?256:2048,ine=512,ane=1024,one=Ii?2048:256,LR=class{constructor(t){this._standardKeyboardEventBrand=!0;let e=t;this.browserEvent=e,this.target=e.target,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.altGraphKey=e.getModifierState?.("AltGraph"),this.keyCode=sne(e),this.code=e.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(t){return this._asKeybinding===t}_computeKeybinding(){let t=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode);let e=0;return this.ctrlKey&&(e|=rne),this.altKey&&(e|=ine),this.shiftKey&&(e|=ane),this.metaKey&&(e|=one),e|=t,e}_computeKeyCodeChord(){let t=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode),new tne(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)}},IR=new WeakMap;function lne(t){if(!t.parent||t.parent===t)return null;try{let e=t.location,n=t.parent.location;if(e.origin!=="null"&&n.origin!=="null"&&e.origin!==n.origin)return null}catch{return null}return t.parent}var cne=class{static getSameOriginWindowChain(t){let e=IR.get(t);if(!e){e=[],IR.set(t,e);let n=t,s;do s=lne(n),s?e.push({window:new WeakRef(n),iframeElement:n.frameElement||null}):e.push({window:new WeakRef(n),iframeElement:null}),n=s;while(n)}return e.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(t,e){if(!e||t===e)return{top:0,left:0};let n=0,s=0,r=this.getSameOriginWindowChain(t);for(let i of r){let a=i.window.deref();if(n+=a?.scrollY??0,s+=a?.scrollX??0,a===e||!i.iframeElement)break;let c=i.iframeElement.getBoundingClientRect();n+=c.top,s+=c.left}return{top:n,left:s}}},Vg=class{constructor(t,e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=e.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let n=cne.getPositionOfChildWindowRelativeToAncestorWindow(t,e.view);this.posx-=n.left,this.posy-=n.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}},PR=class{constructor(t,e=0,n=0){this.browserEvent=t||null,this.target=t?t.target||t.targetNode||t.srcElement:null,this.deltaY=n,this.deltaX=e;let s=!1;if(cN){let r=navigator.userAgent.match(/Chrome\/(\d+)/);s=(r?parseInt(r[1]):123)<=122}if(t){let r=t,i=t,a=t.view?.devicePixelRatio||1;if(typeof r.wheelDeltaY<"u")s?this.deltaY=r.wheelDeltaY/(120*a):this.deltaY=r.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS<"u"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(t.type==="wheel"){let c=t;c.deltaMode===c.DOM_DELTA_LINE?Dk&&!Ii?this.deltaY=-t.deltaY/3:this.deltaY=-t.deltaY:this.deltaY=-t.deltaY/40}if(typeof r.wheelDeltaX<"u")Kte&&QL?this.deltaX=-(r.wheelDeltaX/120):s?this.deltaX=r.wheelDeltaX/(120*a):this.deltaX=r.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS<"u"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-t.detail/3;else if(t.type==="wheel"){let c=t;c.deltaMode===c.DOM_DELTA_LINE?Dk&&!Ii?this.deltaX=-t.deltaX/3:this.deltaX=-t.deltaX:this.deltaX=-t.deltaX/40}this.deltaY===0&&this.deltaX===0&&t.wheelDelta&&(s?this.deltaY=t.wheelDelta/(120*a):this.deltaY=t.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}},nI=Object.freeze(function(t,e){let n=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(n)}}}),une;(t=>{function e(n){return n===t.None||n===t.Cancelled||n instanceof hne?!0:!n||typeof n!="object"?!1:typeof n.isCancellationRequested=="boolean"&&typeof n.onCancellationRequested=="function"}t.isCancellationToken=e,t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ds.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:nI})})(une||={});var hne=class{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?nI:(this._emitter||(this._emitter=new Te),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},hN=class{constructor(t,e){this._isDisposed=!1,this._token=-1,typeof t=="function"&&typeof e=="number"&&this.setIfNotSet(t,e)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,e){if(this._isDisposed)throw new Ak("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},e)}setIfNotSet(t,e){if(this._isDisposed)throw new Ak("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},e))}},dne=class{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(t,e,n=globalThis){if(this.isDisposed)throw new Ak("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let s=n.setInterval(()=>{t()},e);this.disposable=hn(()=>{n.clearInterval(s),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},fne;(t=>{async function e(s){let r,i=await Promise.all(s.map(a=>a.then(c=>c,c=>{r||(r=c)})));if(typeof r<"u")throw r;return i}t.settled=e;function n(s){return new Promise(async(r,i)=>{try{await s(r,i)}catch(a){i(a)}})}t.withAsyncBody=n})(fne||={});var $R=class Hr{static fromArray(e){return new Hr(n=>{n.emitMany(e)})}static fromPromise(e){return new Hr(async n=>{n.emitMany(await e)})}static fromPromises(e){return new Hr(async n=>{await Promise.all(e.map(async s=>n.emitOne(await s)))})}static merge(e){return new Hr(async n=>{await Promise.all(e.map(async s=>{for await(let r of s)n.emitOne(r)}))})}constructor(e,n){this._state=0,this._results=[],this._error=null,this._onReturn=n,this._onStateChanged=new Te,queueMicrotask(async()=>{let s={emitOne:r=>this.emitOne(r),emitMany:r=>this.emitMany(r),reject:r=>this.reject(r)};try{await Promise.resolve(e(s)),this.resolve()}catch(r){this.reject(r)}finally{s.emitOne=void 0,s.emitMany=void 0,s.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await ds.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,n){return new Hr(async s=>{for await(let r of e)s.emitOne(n(r))})}map(e){return Hr.map(this,e)}static filter(e,n){return new Hr(async s=>{for await(let r of e)n(r)&&s.emitOne(r)})}filter(e){return Hr.filter(this,e)}static coalesce(e){return Hr.filter(e,n=>!!n)}coalesce(){return Hr.coalesce(this)}static async toPromise(e){let n=[];for await(let s of e)n.push(s);return n}toPromise(){return Hr.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};$R.EMPTY=$R.fromArray([]);var{getWindow:Mi,getWindowId:pne,onDidRegisterWindow:mne}=(function(){let t=new Map,e={window:xa,disposables:new Bo};t.set(xa.vscodeWindowId,e);let n=new Te,s=new Te,r=new Te;function i(a,c){return(typeof a=="number"?t.get(a):void 0)??(c?e:void 0)}return{onDidRegisterWindow:n.event,onWillUnregisterWindow:r.event,onDidUnregisterWindow:s.event,registerWindow(a){if(t.has(a.vscodeWindowId))return kt.None;let c=new Bo,u={window:a,disposables:c.add(new Bo)};return t.set(a.vscodeWindowId,u),c.add(hn(()=>{t.delete(a.vscodeWindowId),s.fire(a)})),c.add(ht(a,Jn.BEFORE_UNLOAD,()=>{r.fire(a)})),n.fire(u),c},getWindows(){return t.values()},getWindowsCount(){return t.size},getWindowId(a){return a.vscodeWindowId},hasWindow(a){return t.has(a)},getWindowById:i,getWindow(a){let c=a;if(c?.ownerDocument?.defaultView)return c.ownerDocument.defaultView.window;let u=a;return u?.view?u.view.window:xa},getDocument(a){return Mi(a).document}}})(),gne=class{constructor(t,e,n,s){this._node=t,this._type=e,this._handler=n,this._options=s||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function ht(t,e,n,s){return new gne(t,e,n,s)}var zR=function(t,e,n,s){return ht(t,e,n,s)},dN,yne=class extends dne{constructor(t){super(),this.defaultTarget=t&&Mi(t)}cancelAndSet(t,e,n){return super.cancelAndSet(t,e,n??this.defaultTarget)}},UR=class{constructor(t,e=0){this._runner=t,this.priority=e,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(t){_0(t)}}static sort(t,e){return e.priority-t.priority}};(function(){let t=new Map,e=new Map,n=new Map,s=new Map,r=i=>{n.set(i,!1);let a=t.get(i)??[];for(e.set(i,a),t.set(i,[]),s.set(i,!0);a.length>0;)a.sort(UR.sort),a.shift().execute();s.set(i,!1)};dN=(i,a,c=0)=>{let u=pne(i),h=new UR(a,c),m=t.get(u);return m||(m=[],t.set(u,m)),m.push(h),n.get(u)||(n.set(u,!0),i.requestAnimationFrame(()=>r(u))),h}})();function vne(t){let e=t.getBoundingClientRect(),n=Mi(t);return{left:e.left+n.scrollX,top:e.top+n.scrollY,width:e.width,height:e.height}}var Jn={CLICK:"click",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",KEY_DOWN:"keydown",KEY_UP:"keyup",BEFORE_UNLOAD:"beforeunload",CHANGE:"change",FOCUS:"focus",BLUR:"blur",INPUT:"input"},bne=class{constructor(t){this.domNode=t,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingTop="",this._paddingLeft="",this._paddingBottom="",this._paddingRight="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(t){let e=Zs(t);this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth)}setWidth(t){let e=Zs(t);this._width!==e&&(this._width=e,this.domNode.style.width=this._width)}setHeight(t){let e=Zs(t);this._height!==e&&(this._height=e,this.domNode.style.height=this._height)}setTop(t){let e=Zs(t);this._top!==e&&(this._top=e,this.domNode.style.top=this._top)}setLeft(t){let e=Zs(t);this._left!==e&&(this._left=e,this.domNode.style.left=this._left)}setBottom(t){let e=Zs(t);this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom)}setRight(t){let e=Zs(t);this._right!==e&&(this._right=e,this.domNode.style.right=this._right)}setPaddingTop(t){let e=Zs(t);this._paddingTop!==e&&(this._paddingTop=e,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(t){let e=Zs(t);this._paddingLeft!==e&&(this._paddingLeft=e,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(t){let e=Zs(t);this._paddingBottom!==e&&(this._paddingBottom=e,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(t){let e=Zs(t);this._paddingRight!==e&&(this._paddingRight=e,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(t){this._fontFamily!==t&&(this._fontFamily=t,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(t){let e=Zs(t);this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize)}setFontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(t){this._fontFeatureSettings!==t&&(this._fontFeatureSettings=t,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(t){this._fontVariationSettings!==t&&(this._fontVariationSettings=t,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(t){this._textDecoration!==t&&(this._textDecoration=t,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(t){let e=Zs(t);this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(t){let e=Zs(t);this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(t){this._className!==t&&(this._className=t,this.domNode.className=this._className)}toggleClassName(t,e){this.domNode.classList.toggle(t,e),this._className=this.domNode.className}setDisplay(t){this._display!==t&&(this._display=t,this.domNode.style.display=this._display)}setPosition(t){this._position!==t&&(this._position=t,this.domNode.style.position=this._position)}setVisibility(t){this._visibility!==t&&(this._visibility=t,this.domNode.style.visibility=this._visibility)}setColor(t){this._color!==t&&(this._color=t,this.domNode.style.color=this._color)}setBackgroundColor(t){this._backgroundColor!==t&&(this._backgroundColor=t,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(t){this._layerHint!==t&&(this._layerHint=t,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(t){this._boxShadow!==t&&(this._boxShadow=t,this.domNode.style.boxShadow=t)}setContain(t){this._contain!==t&&(this._contain=t,this.domNode.style.contain=this._contain)}setAttribute(t,e){this.domNode.setAttribute(t,e)}removeAttribute(t){this.domNode.removeAttribute(t)}appendChild(t){this.domNode.appendChild(t.domNode)}removeChild(t){this.domNode.removeChild(t.domNode)}};function Zs(t){return typeof t=="number"?`${t}px`:t}function Hf(t){return new bne(t)}var sI=class{constructor(){this._hooks=new Bo,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(t,e){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let n=this._onStopCallback;this._onStopCallback=null,t&&n&&n(e)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(t,e,n,s,r){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=s,this._onStopCallback=r;let i=t;try{t.setPointerCapture(e),this._hooks.add(hn(()=>{try{t.releasePointerCapture(e)}catch{}}))}catch{i=Mi(t)}this._hooks.add(ht(i,Jn.POINTER_MOVE,a=>{if(a.buttons!==n){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(ht(i,Jn.POINTER_UP,a=>this.stopMonitoring(!0)))}};function _ne(t,e,n){let s=null,r=null;if(typeof n.value=="function"?(s="value",r=n.value,r.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof n.get=="function"&&(s="get",r=n.get),!r)throw new Error("not supported");let i=`$memoize$${e}`;n[s]=function(...a){return this.hasOwnProperty(i)||Object.defineProperty(this,i,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,a)}),this[i]}}var ji;(t=>(t.Tap="-xterm-gesturetap",t.Change="-xterm-gesturechange",t.Start="-xterm-gesturestart",t.End="-xterm-gesturesend",t.Contextmenu="-xterm-gesturecontextmenu"))(ji||={});var pf=class _s extends kt{constructor(){super(),this.dispatched=!1,this.targets=new RR,this.ignoreTargets=new RR,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(ds.runAndSubscribe(mne,({window:e,disposables:n})=>{n.add(ht(e.document,"touchstart",s=>this.onTouchStart(s),{passive:!1})),n.add(ht(e.document,"touchend",s=>this.onTouchEnd(e,s))),n.add(ht(e.document,"touchmove",s=>this.onTouchMove(s),{passive:!1}))},{window:xa,disposables:this._store}))}static addTarget(e){if(!_s.isTouchDevice())return kt.None;_s.INSTANCE||(_s.INSTANCE=new _s);let n=_s.INSTANCE.targets.push(e);return hn(n)}static ignoreTarget(e){if(!_s.isTouchDevice())return kt.None;_s.INSTANCE||(_s.INSTANCE=new _s);let n=_s.INSTANCE.ignoreTargets.push(e);return hn(n)}static isTouchDevice(){return"ontouchstart"in xa||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let n=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let s=0,r=e.targetTouches.length;s<r;s++){let i=e.targetTouches.item(s);this.activeTouches[i.identifier]={id:i.identifier,initialTarget:i.target,initialTimeStamp:n,initialPageX:i.pageX,initialPageY:i.pageY,rollingTimestamps:[n],rollingPageX:[i.pageX],rollingPageY:[i.pageY]};let a=this.newGestureEvent(ji.Start,i.target);a.pageX=i.pageX,a.pageY=i.pageY,this.dispatchEvent(a)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,n){let s=Date.now(),r=Object.keys(this.activeTouches).length;for(let i=0,a=n.changedTouches.length;i<a;i++){let c=n.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("move of an UNKNOWN touch",c);continue}let u=this.activeTouches[c.identifier],h=Date.now()-u.initialTimeStamp;if(h<_s.HOLD_DELAY&&Math.abs(u.initialPageX-fr(u.rollingPageX))<30&&Math.abs(u.initialPageY-fr(u.rollingPageY))<30){let m=this.newGestureEvent(ji.Tap,u.initialTarget);m.pageX=fr(u.rollingPageX),m.pageY=fr(u.rollingPageY),this.dispatchEvent(m)}else if(h>=_s.HOLD_DELAY&&Math.abs(u.initialPageX-fr(u.rollingPageX))<30&&Math.abs(u.initialPageY-fr(u.rollingPageY))<30){let m=this.newGestureEvent(ji.Contextmenu,u.initialTarget);m.pageX=fr(u.rollingPageX),m.pageY=fr(u.rollingPageY),this.dispatchEvent(m)}else if(r===1){let m=fr(u.rollingPageX),p=fr(u.rollingPageY),y=fr(u.rollingTimestamps)-u.rollingTimestamps[0],v=m-u.rollingPageX[0],b=p-u.rollingPageY[0],x=[...this.targets].filter(S=>u.initialTarget instanceof Node&&S.contains(u.initialTarget));this.inertia(e,x,s,Math.abs(v)/y,v>0?1:-1,m,Math.abs(b)/y,b>0?1:-1,p)}this.dispatchEvent(this.newGestureEvent(ji.End,u.initialTarget)),delete this.activeTouches[c.identifier]}this.dispatched&&(n.preventDefault(),n.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,n){let s=document.createEvent("CustomEvent");return s.initEvent(e,!1,!0),s.initialTarget=n,s.tapCount=0,s}dispatchEvent(e){if(e.type===ji.Tap){let n=new Date().getTime(),s=0;n-this._lastSetTapCountTime>_s.CLEAR_TAP_COUNT_TIME?s=1:s=2,this._lastSetTapCountTime=n,e.tapCount=s}else(e.type===ji.Change||e.type===ji.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(let s of this.ignoreTargets)if(s.contains(e.initialTarget))return;let n=[];for(let s of this.targets)if(s.contains(e.initialTarget)){let r=0,i=e.initialTarget;for(;i&&i!==s;)r++,i=i.parentElement;n.push([r,s])}n.sort((s,r)=>s[0]-r[0]);for(let[s,r]of n)r.dispatchEvent(e),this.dispatched=!0}}inertia(e,n,s,r,i,a,c,u,h){this.handle=dN(e,()=>{let m=Date.now(),p=m-s,y=0,v=0,b=!0;r+=_s.SCROLL_FRICTION*p,c+=_s.SCROLL_FRICTION*p,r>0&&(b=!1,y=i*r*p),c>0&&(b=!1,v=u*c*p);let x=this.newGestureEvent(ji.Change);x.translationX=y,x.translationY=v,n.forEach(S=>S.dispatchEvent(x)),b||this.inertia(e,n,m,r,i,a+y,c,u,h+v)})}onTouchMove(e){let n=Date.now();for(let s=0,r=e.changedTouches.length;s<r;s++){let i=e.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(i.identifier))){console.warn("end of an UNKNOWN touch",i);continue}let a=this.activeTouches[i.identifier],c=this.newGestureEvent(ji.Change,a.initialTarget);c.translationX=i.pageX-fr(a.rollingPageX),c.translationY=i.pageY-fr(a.rollingPageY),c.pageX=i.pageX,c.pageY=i.pageY,this.dispatchEvent(c),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(i.pageX),a.rollingPageY.push(i.pageY),a.rollingTimestamps.push(n)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};pf.SCROLL_FRICTION=-.005,pf.HOLD_DELAY=700,pf.CLEAR_TAP_COUNT_TIME=400,xn([_ne],pf,"isTouchDevice",1);var xne=pf,fN=class extends kt{onclick(t,e){this._register(ht(t,Jn.CLICK,n=>e(new Vg(Mi(t),n))))}onmousedown(t,e){this._register(ht(t,Jn.MOUSE_DOWN,n=>e(new Vg(Mi(t),n))))}onmouseover(t,e){this._register(ht(t,Jn.MOUSE_OVER,n=>e(new Vg(Mi(t),n))))}onmouseleave(t,e){this._register(ht(t,Jn.MOUSE_LEAVE,n=>e(new Vg(Mi(t),n))))}onkeydown(t,e){this._register(ht(t,Jn.KEY_DOWN,n=>e(new LR(n))))}onkeyup(t,e){this._register(ht(t,Jn.KEY_UP,n=>e(new LR(n))))}oninput(t,e){this._register(ht(t,Jn.INPUT,e))}onblur(t,e){this._register(ht(t,Jn.BLUR,e))}onfocus(t,e){this._register(ht(t,Jn.FOCUS,e))}onchange(t,e){this._register(ht(t,Jn.CHANGE,e))}ignoreGesture(t){return xne.ignoreTarget(t)}},HR=11,wne=class extends fN{constructor(t){super(),this._onActivate=t.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=t.bgWidth+"px",this.bgDomNode.style.height=t.bgHeight+"px",typeof t.top<"u"&&(this.bgDomNode.style.top="0px"),typeof t.left<"u"&&(this.bgDomNode.style.left="0px"),typeof t.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof t.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=t.className,this.domNode.style.position="absolute",this.domNode.style.width=HR+"px",this.domNode.style.height=HR+"px",typeof t.top<"u"&&(this.domNode.style.top=t.top+"px"),typeof t.left<"u"&&(this.domNode.style.left=t.left+"px"),typeof t.bottom<"u"&&(this.domNode.style.bottom=t.bottom+"px"),typeof t.right<"u"&&(this.domNode.style.right=t.right+"px"),this._pointerMoveMonitor=this._register(new sI),this._register(zR(this.bgDomNode,Jn.POINTER_DOWN,e=>this._arrowPointerDown(e))),this._register(zR(this.domNode,Jn.POINTER_DOWN,e=>this._arrowPointerDown(e))),this._pointerdownRepeatTimer=this._register(new yne),this._pointerdownScheduleRepeatTimer=this._register(new hN)}_arrowPointerDown(t){if(!t.target||!(t.target instanceof Element))return;let e=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,Mi(t))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(e,200),this._pointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,n=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),t.preventDefault()}},Sne=class Ik{constructor(e,n,s,r,i,a,c){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(n=n|0,s=s|0,r=r|0,i=i|0,a=a|0,c=c|0),this.rawScrollLeft=r,this.rawScrollTop=c,n<0&&(n=0),r+n>s&&(r=s-n),r<0&&(r=0),i<0&&(i=0),c+i>a&&(c=a-i),c<0&&(c=0),this.width=n,this.scrollWidth=s,this.scrollLeft=r,this.height=i,this.scrollHeight=a,this.scrollTop=c}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,n){return new Ik(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,n?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,n?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new Ik(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,n){let s=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,i=this.scrollLeft!==e.scrollLeft,a=this.height!==e.height,c=this.scrollHeight!==e.scrollHeight,u=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:n,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:s,scrollWidthChanged:r,scrollLeftChanged:i,heightChanged:a,scrollHeightChanged:c,scrollTopChanged:u}}},kne=class extends kt{constructor(t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new Te),this.onScroll=this._onScroll.event,this._smoothScrollDuration=t.smoothScrollDuration,this._scheduleAtNextAnimationFrame=t.scheduleAtNextAnimationFrame,this._state=new Sne(t.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(t){this._smoothScrollDuration=t}validateScrollPosition(t){return this._state.withScrollPosition(t)}getScrollDimensions(){return this._state}setScrollDimensions(t,e){let n=this._state.withScrollDimensions(t,e);this._setState(n,!!this._smoothScrolling),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(t){let e=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(e,!1)}setScrollPositionSmooth(t,e){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop>"u"?this._smoothScrolling.to.scrollTop:t.scrollTop};let n=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let s;e?s=new VR(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):s=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=s}else{let n=this._state.withScrollPosition(t);this._smoothScrolling=VR.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let t=this._smoothScrolling.tick(),e=this._state.withScrollPosition(t);if(this._setState(e,!0),!!this._smoothScrolling){if(t.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(t,e){let n=this._state;n.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(n,e)))}},FR=class{constructor(t,e,n){this.scrollLeft=t,this.scrollTop=e,this.isDone=n}};function Gx(t,e){let n=e-t;return function(s){return t+n*Ene(s)}}function Cne(t,e,n){return function(s){return s<n?t(s/n):e((s-n)/(1-n))}}var VR=class Pk{constructor(e,n,s,r){this.from=e,this.to=n,this.duration=r,this.startTime=s,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,n,s){if(Math.abs(e-n)>2.5*s){let r,i;return e<n?(r=e+.75*s,i=n-.75*s):(r=e-.75*s,i=n+.75*s),Cne(Gx(e,r),Gx(i,n),.33)}return Gx(e,n)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){let n=(e-this.startTime)/this.duration;if(n<1){let s=this.scrollLeft(n),r=this.scrollTop(n);return new FR(s,r,!1)}return new FR(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,n,s){return Pk.start(e,n,s)}static start(e,n,s){s=s+10;let r=Date.now()-10;return new Pk(e,n,r,s)}};function Nne(t){return Math.pow(t,3)}function Ene(t){return 1-Nne(1-t)}var Ane=class extends kt{constructor(t,e,n){super(),this._visibility=t,this._visibleClassName=e,this._invisibleClassName=n,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new hN)}setVisibility(t){this._visibility!==t&&(this._visibility=t,this._updateShouldBeVisible())}setShouldBeVisible(t){this._rawShouldBeVisible=t,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let t=this._applyVisibilitySetting();this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())}setIsNeeded(t){this._isNeeded!==t&&(this._isNeeded=t,this.ensureVisibility())}setDomNode(t){this._domNode=t,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide(t){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+(t?" fade":"")))}},jne=140,rI=class extends fN{constructor(t){super(),this._lazyRender=t.lazyRender,this._host=t.host,this._scrollable=t.scrollable,this._scrollByPage=t.scrollByPage,this._scrollbarState=t.scrollbarState,this._visibilityController=this._register(new Ane(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new sI),this._shouldRender=!0,this.domNode=Hf(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(ht(this.domNode.domNode,Jn.POINTER_DOWN,e=>this._domNodePointerDown(e)))}_createArrow(t){let e=this._register(new wne(t));this.domNode.domNode.appendChild(e.bgDomNode),this.domNode.domNode.appendChild(e.domNode)}_createSlider(t,e,n,s){this.slider=Hf(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(e),typeof n=="number"&&this.slider.setWidth(n),typeof s=="number"&&this.slider.setHeight(s),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(ht(this.slider.domNode,Jn.POINTER_DOWN,r=>{r.button===0&&(r.preventDefault(),this._sliderPointerDown(r))})),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(t){t.target===this.domNode.domNode&&this._onPointerDown(t)}delegatePointerDown(t){let e=this.domNode.domNode.getClientRects()[0].top,n=e+this._scrollbarState.getSliderPosition(),s=e+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderPointerPosition(t);n<=r&&r<=s?t.button===0&&(t.preventDefault(),this._sliderPointerDown(t)):this._onPointerDown(t)}_onPointerDown(t){let e,n;if(t.target===this.domNode.domNode&&typeof t.offsetX=="number"&&typeof t.offsetY=="number")e=t.offsetX,n=t.offsetY;else{let r=vne(this.domNode.domNode);e=t.pageX-r.left,n=t.pageY-r.top}let s=this._pointerDownRelativePosition(e,n);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(s):this._scrollbarState.getDesiredScrollPositionFromOffset(s)),t.button===0&&(t.preventDefault(),this._sliderPointerDown(t))}_sliderPointerDown(t){if(!t.target||!(t.target instanceof Element))return;let e=this._sliderPointerPosition(t),n=this._sliderOrthogonalPointerPosition(t),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,r=>{let i=this._sliderOrthogonalPointerPosition(r),a=Math.abs(i-n);if(QL&&a>jne){this._setDesiredScrollPositionNow(s.getScrollPosition());return}let c=this._sliderPointerPosition(r)-e;this._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(t){let e={};this.writeScrollPosition(e,t),this._scrollable.setScrollPositionNow(e)}updateScrollbarSize(t){this._updateScrollbarSize(t),this._scrollbarState.setScrollbarSize(t),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}},iI=class $k{constructor(e,n,s,r,i,a){this._scrollbarSize=Math.round(n),this._oppositeScrollbarSize=Math.round(s),this._arrowSize=Math.round(e),this._visibleSize=r,this._scrollSize=i,this._scrollPosition=a,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new $k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let n=Math.round(e);return this._visibleSize!==n?(this._visibleSize=n,this._refreshComputedValues(),!0):!1}setScrollSize(e){let n=Math.round(e);return this._scrollSize!==n?(this._scrollSize=n,this._refreshComputedValues(),!0):!1}setScrollPosition(e){let n=Math.round(e);return this._scrollPosition!==n?(this._scrollPosition=n,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,n,s,r,i){let a=Math.max(0,s-e),c=Math.max(0,a-2*n),u=r>0&&r>s;if(!u)return{computedAvailableSize:Math.round(a),computedIsNeeded:u,computedSliderSize:Math.round(c),computedSliderRatio:0,computedSliderPosition:0};let h=Math.round(Math.max(20,Math.floor(s*c/r))),m=(c-h)/(r-s),p=i*m;return{computedAvailableSize:Math.round(a),computedIsNeeded:u,computedSliderSize:Math.round(h),computedSliderRatio:m,computedSliderPosition:Math.round(p)}}_refreshComputedValues(){let e=$k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let n=e-this._arrowSize-this._computedSliderSize/2;return Math.round(n/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;let n=e-this._arrowSize,s=this._scrollPosition;return n<this._computedSliderPosition?s-=this._visibleSize:s+=this._visibleSize,s}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let n=this._computedSliderPosition+e;return Math.round(n/this._computedSliderRatio)}},Tne=class extends rI{constructor(t,e,n){let s=t.getScrollDimensions(),r=t.getCurrentScrollPosition();if(super({lazyRender:e.lazyRender,host:n,scrollbarState:new iI(e.horizontalHasArrows?e.arrowSize:0,e.horizontal===2?0:e.horizontalScrollbarSize,e.vertical===2?0:e.verticalScrollbarSize,s.width,s.scrollWidth,r.scrollLeft),visibility:e.horizontal,extraScrollbarClassName:"horizontal",scrollable:t,scrollByPage:e.scrollByPage}),e.horizontalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(Math.floor((e.horizontalScrollbarSize-e.horizontalSliderSize)/2),0,void 0,e.horizontalSliderSize)}_updateSlider(t,e){this.slider.setWidth(t),this.slider.setLeft(e)}_renderDomNode(t,e){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(t){return this._shouldRender=this._onElementScrollSize(t.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(t.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(t,e){return t}_sliderPointerPosition(t){return t.pageX}_sliderOrthogonalPointerPosition(t){return t.pageY}_updateScrollbarSize(t){this.slider.setHeight(t)}writeScrollPosition(t,e){t.scrollLeft=e}updateOptions(t){this.updateScrollbarSize(t.horizontal===2?0:t.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(t.vertical===2?0:t.verticalScrollbarSize),this._visibilityController.setVisibility(t.horizontal),this._scrollByPage=t.scrollByPage}},Rne=class extends rI{constructor(t,e,n){let s=t.getScrollDimensions(),r=t.getCurrentScrollPosition();if(super({lazyRender:e.lazyRender,host:n,scrollbarState:new iI(e.verticalHasArrows?e.arrowSize:0,e.vertical===2?0:e.verticalScrollbarSize,0,s.height,s.scrollHeight,r.scrollTop),visibility:e.vertical,extraScrollbarClassName:"vertical",scrollable:t,scrollByPage:e.scrollByPage}),e.verticalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(0,Math.floor((e.verticalScrollbarSize-e.verticalSliderSize)/2),e.verticalSliderSize,void 0)}_updateSlider(t,e){this.slider.setHeight(t),this.slider.setTop(e)}_renderDomNode(t,e){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(t){return this._shouldRender=this._onElementScrollSize(t.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(t.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(t,e){return e}_sliderPointerPosition(t){return t.pageY}_sliderOrthogonalPointerPosition(t){return t.pageX}_updateScrollbarSize(t){this.slider.setWidth(t)}writeScrollPosition(t,e){t.scrollTop=e}updateOptions(t){this.updateScrollbarSize(t.vertical===2?0:t.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(t.vertical),this._scrollByPage=t.scrollByPage}},One=500,qR=50,Mne=class{constructor(t,e,n){this.timestamp=t,this.deltaX=e,this.deltaY=n,this.score=0}},zk=class{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,n=0,s=1,r=this._rear;do{let i=r===this._front?e:Math.pow(2,-s);if(e-=i,n+=this._memory[r].score*i,r===this._front)break;r=(this._capacity+r-1)%this._capacity,s++}while(!0);return n<=.5}acceptStandardWheelEvent(e){if(cN){let n=Mi(e.browserEvent),s=Vte(n);this.accept(Date.now(),e.deltaX*s,e.deltaY*s)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,n,s){let r=null,i=new Mne(e,n,s);this._front===-1&&this._rear===-1?(this._memory[0]=i,this._front=0,this._rear=0):(r=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=i),i.score=this._computeScore(i,r)}_computeScore(e,n){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let s=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(s+=.25),n){let r=Math.abs(e.deltaX),i=Math.abs(e.deltaY),a=Math.abs(n.deltaX),c=Math.abs(n.deltaY),u=Math.max(Math.min(r,a),1),h=Math.max(Math.min(i,c),1),m=Math.max(r,a),p=Math.max(i,c);m%u===0&&p%h===0&&(s-=.5)}return Math.min(Math.max(s,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}};zk.INSTANCE=new zk;var Dne=zk,Bne=class extends fN{constructor(t,e,n){super(),this._onScroll=this._register(new Te),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new Te),this.onWillScroll=this._onWillScroll.event,this._options=Ine(e),this._scrollable=n,this._register(this._scrollable.onScroll(r=>{this._onWillScroll.fire(r),this._onDidScroll(r),this._onScroll.fire(r)}));let s={onMouseWheel:r=>this._onMouseWheel(r),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Rne(this._scrollable,this._options,s)),this._horizontalScrollbar=this._register(new Tne(this._scrollable,this._options,s)),this._domNode=document.createElement("div"),this._domNode.className="xterm-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.appendChild(t),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Hf(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Hf(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Hf(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,r=>this._onMouseOver(r)),this.onmouseleave(this._listenOnDomNode,r=>this._onMouseLeave(r)),this._hideTimeout=this._register(new hN),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=tc(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(t){this._verticalScrollbar.delegatePointerDown(t)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(t){this._scrollable.setScrollDimensions(t,!1)}updateClassName(t){this._options.className=t,Ii&&(this._options.className+=" mac"),this._domNode.className="xterm-scrollable-element "+this._options.className}updateOptions(t){typeof t.handleMouseWheel<"u"&&(this._options.handleMouseWheel=t.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof t.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity),typeof t.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=t.fastScrollSensitivity),typeof t.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=t.scrollPredominantAxis),typeof t.horizontal<"u"&&(this._options.horizontal=t.horizontal),typeof t.vertical<"u"&&(this._options.vertical=t.vertical),typeof t.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=t.horizontalScrollbarSize),typeof t.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=t.verticalScrollbarSize),typeof t.scrollByPage<"u"&&(this._options.scrollByPage=t.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(t){this._revealOnScroll=t}delegateScrollFromMouseWheelEvent(t){this._onMouseWheel(new PR(t))}_setListeningToMouseWheel(t){if(this._mouseWheelToDispose.length>0!==t&&(this._mouseWheelToDispose=tc(this._mouseWheelToDispose),t)){let e=n=>{this._onMouseWheel(new PR(n))};this._mouseWheelToDispose.push(ht(this._listenOnDomNode,Jn.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(t){if(t.browserEvent?.defaultPrevented)return;let e=Dne.INSTANCE;e.acceptStandardWheelEvent(t);let n=!1;if(t.deltaY||t.deltaX){let r=t.deltaY*this._options.mouseWheelScrollSensitivity,i=t.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&i+r===0?i=r=0:Math.abs(r)>=Math.abs(i)?i=0:r=0),this._options.flipAxes&&([r,i]=[i,r]);let a=!Ii&&t.browserEvent&&t.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!i&&(i=r,r=0),t.browserEvent&&t.browserEvent.altKey&&(i=i*this._options.fastScrollSensitivity,r=r*this._options.fastScrollSensitivity);let c=this._scrollable.getFutureScrollPosition(),u={};if(r){let h=qR*r,m=c.scrollTop-(h<0?Math.floor(h):Math.ceil(h));this._verticalScrollbar.writeScrollPosition(u,m)}if(i){let h=qR*i,m=c.scrollLeft-(h<0?Math.floor(h):Math.ceil(h));this._horizontalScrollbar.writeScrollPosition(u,m)}u=this._scrollable.validateScrollPosition(u),(c.scrollLeft!==u.scrollLeft||c.scrollTop!==u.scrollTop)&&(this._options.mouseWheelSmoothScroll&&e.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(u):this._scrollable.setScrollPositionNow(u),n=!0)}let s=n;!s&&this._options.alwaysConsumeMouseWheel&&(s=!0),!s&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(s=!0),s&&(t.preventDefault(),t.stopPropagation())}_onDidScroll(t){this._shouldRender=this._horizontalScrollbar.onDidScroll(t)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(t)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let t=this._scrollable.getCurrentScrollPosition(),e=t.scrollTop>0,n=t.scrollLeft>0,s=n?" left":"",r=e?" top":"",i=n||e?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${s}`),this._topShadowDomNode.setClassName(`shadow${r}`),this._topLeftShadowDomNode.setClassName(`shadow${i}${r}${s}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(t){this._mouseIsOver=!1,this._hide()}_onMouseOver(t){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),One)}},Lne=class extends Bne{constructor(t,e,n){super(t,e,n)}setScrollPosition(t){t.reuseAnimation?this._scrollable.setScrollPositionSmooth(t,t.reuseAnimation):this._scrollable.setScrollPositionNow(t)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};function Ine(t){let e={lazyRender:typeof t.lazyRender<"u"?t.lazyRender:!1,className:typeof t.className<"u"?t.className:"",useShadows:typeof t.useShadows<"u"?t.useShadows:!0,handleMouseWheel:typeof t.handleMouseWheel<"u"?t.handleMouseWheel:!0,flipAxes:typeof t.flipAxes<"u"?t.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof t.consumeMouseWheelIfScrollbarIsNeeded<"u"?t.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof t.alwaysConsumeMouseWheel<"u"?t.alwaysConsumeMouseWheel:!1,scrollYToX:typeof t.scrollYToX<"u"?t.scrollYToX:!1,mouseWheelScrollSensitivity:typeof t.mouseWheelScrollSensitivity<"u"?t.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof t.fastScrollSensitivity<"u"?t.fastScrollSensitivity:5,scrollPredominantAxis:typeof t.scrollPredominantAxis<"u"?t.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof t.mouseWheelSmoothScroll<"u"?t.mouseWheelSmoothScroll:!0,arrowSize:typeof t.arrowSize<"u"?t.arrowSize:11,listenOnDomNode:typeof t.listenOnDomNode<"u"?t.listenOnDomNode:null,horizontal:typeof t.horizontal<"u"?t.horizontal:1,horizontalScrollbarSize:typeof t.horizontalScrollbarSize<"u"?t.horizontalScrollbarSize:10,horizontalSliderSize:typeof t.horizontalSliderSize<"u"?t.horizontalSliderSize:0,horizontalHasArrows:typeof t.horizontalHasArrows<"u"?t.horizontalHasArrows:!1,vertical:typeof t.vertical<"u"?t.vertical:1,verticalScrollbarSize:typeof t.verticalScrollbarSize<"u"?t.verticalScrollbarSize:10,verticalHasArrows:typeof t.verticalHasArrows<"u"?t.verticalHasArrows:!1,verticalSliderSize:typeof t.verticalSliderSize<"u"?t.verticalSliderSize:0,scrollByPage:typeof t.scrollByPage<"u"?t.scrollByPage:!1};return e.horizontalSliderSize=typeof t.horizontalSliderSize<"u"?t.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof t.verticalSliderSize<"u"?t.verticalSliderSize:e.verticalScrollbarSize,Ii&&(e.className+=" mac"),e}var Uk=class extends kt{constructor(t,e,n,s,r,i,a,c){super(),this._bufferService=n,this._optionsService=a,this._renderService=c,this._onRequestScrollLines=this._register(new Te),this.onRequestScrollLines=this._onRequestScrollLines.event,this._isSyncing=!1,this._isHandlingScroll=!1,this._suppressOnScrollHandler=!1;let u=this._register(new kne({forceIntegerValues:!1,smoothScrollDuration:this._optionsService.rawOptions.smoothScrollDuration,scheduleAtNextAnimationFrame:h=>dN(s.window,h)}));this._register(this._optionsService.onSpecificOptionChange("smoothScrollDuration",()=>{u.setSmoothScrollDuration(this._optionsService.rawOptions.smoothScrollDuration)})),this._scrollableElement=this._register(new Lne(e,{vertical:1,horizontal:2,useShadows:!1,mouseWheelSmoothScroll:!0,...this._getChangeOptions()},u)),this._register(this._optionsService.onMultipleOptionChange(["scrollSensitivity","fastScrollSensitivity","overviewRuler"],()=>this._scrollableElement.updateOptions(this._getChangeOptions()))),this._register(r.onProtocolChange(h=>{this._scrollableElement.updateOptions({handleMouseWheel:!(h&16)})})),this._scrollableElement.setScrollDimensions({height:0,scrollHeight:0}),this._register(ds.runAndSubscribe(i.onChangeColors,()=>{this._scrollableElement.getDomNode().style.backgroundColor=i.colors.background.css})),t.appendChild(this._scrollableElement.getDomNode()),this._register(hn(()=>this._scrollableElement.getDomNode().remove())),this._styleElement=s.mainDocument.createElement("style"),e.appendChild(this._styleElement),this._register(hn(()=>this._styleElement.remove())),this._register(ds.runAndSubscribe(i.onChangeColors,()=>{this._styleElement.textContent=[".xterm .xterm-scrollable-element > .scrollbar > .slider {",`  background: ${i.colors.scrollbarSliderBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider:hover {",`  background: ${i.colors.scrollbarSliderHoverBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider.active {",`  background: ${i.colors.scrollbarSliderActiveBackground.css};`,"}"].join(`
`)})),this._register(this._bufferService.onResize(()=>this.queueSync())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._latestYDisp=void 0,this.queueSync()})),this._register(this._bufferService.onScroll(()=>this._sync())),this._register(this._scrollableElement.onScroll(h=>this._handleScroll(h)))}scrollLines(t){let e=this._scrollableElement.getScrollPosition();this._scrollableElement.setScrollPosition({reuseAnimation:!0,scrollTop:e.scrollTop+t*this._renderService.dimensions.css.cell.height})}scrollToLine(t,e){e&&(this._latestYDisp=t),this._scrollableElement.setScrollPosition({reuseAnimation:!e,scrollTop:t*this._renderService.dimensions.css.cell.height})}_getChangeOptions(){return{mouseWheelScrollSensitivity:this._optionsService.rawOptions.scrollSensitivity,fastScrollSensitivity:this._optionsService.rawOptions.fastScrollSensitivity,verticalScrollbarSize:this._optionsService.rawOptions.overviewRuler?.width||14}}queueSync(t){t!==void 0&&(this._latestYDisp=t),this._queuedAnimationFrame===void 0&&(this._queuedAnimationFrame=this._renderService.addRefreshCallback(()=>{this._queuedAnimationFrame=void 0,this._sync(this._latestYDisp)}))}_sync(t=this._bufferService.buffer.ydisp){!this._renderService||this._isSyncing||(this._isSyncing=!0,this._suppressOnScrollHandler=!0,this._scrollableElement.setScrollDimensions({height:this._renderService.dimensions.css.canvas.height,scrollHeight:this._renderService.dimensions.css.cell.height*this._bufferService.buffer.lines.length}),this._suppressOnScrollHandler=!1,t!==this._latestYDisp&&this._scrollableElement.setScrollPosition({scrollTop:t*this._renderService.dimensions.css.cell.height}),this._isSyncing=!1)}_handleScroll(t){if(!this._renderService||this._isHandlingScroll||this._suppressOnScrollHandler)return;this._isHandlingScroll=!0;let e=Math.round(t.scrollTop/this._renderService.dimensions.css.cell.height),n=e-this._bufferService.buffer.ydisp;n!==0&&(this._latestYDisp=e,this._onRequestScrollLines.fire(n)),this._isHandlingScroll=!1}};Uk=xn([Pe(2,$s),Pe(3,Pa),Pe(4,$L),Pe(5,kh),Pe(6,zs),Pe(7,$a)],Uk);var Hk=class extends kt{constructor(t,e,n,s,r){super(),this._screenElement=t,this._bufferService=e,this._coreBrowserService=n,this._decorationService=s,this._renderService=r,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this._register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this._register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this._register(this._decorationService.onDecorationRemoved(i=>this._removeDecoration(i))),this._register(hn(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let t of this._decorationService.decorations)this._renderDecoration(t);this._dimensionsChanged=!1}_renderDecoration(t){this._refreshStyle(t),this._dimensionsChanged&&this._refreshXPosition(t)}_createElement(t){let e=this._coreBrowserService.mainDocument.createElement("div");e.classList.add("xterm-decoration"),e.classList.toggle("xterm-decoration-top-layer",t?.options?.layer==="top"),e.style.width=`${Math.round((t.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,e.style.height=`${(t.options.height||1)*this._renderService.dimensions.css.cell.height}px`,e.style.top=`${(t.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height}px`,e.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;let n=t.options.x??0;return n&&n>this._bufferService.cols&&(e.style.display="none"),this._refreshXPosition(t,e),e}_refreshStyle(t){let e=t.marker.line-this._bufferService.buffers.active.ydisp;if(e<0||e>=this._bufferService.rows)t.element&&(t.element.style.display="none",t.onRenderEmitter.fire(t.element));else{let n=this._decorationElements.get(t);n||(n=this._createElement(t),t.element=n,this._decorationElements.set(t,n),this._container.appendChild(n),t.onDispose(()=>{this._decorationElements.delete(t),n.remove()})),n.style.display=this._altBufferIsActive?"none":"block",this._altBufferIsActive||(n.style.width=`${Math.round((t.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,n.style.height=`${(t.options.height||1)*this._renderService.dimensions.css.cell.height}px`,n.style.top=`${e*this._renderService.dimensions.css.cell.height}px`,n.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`),t.onRenderEmitter.fire(n)}}_refreshXPosition(t,e=t.element){if(!e)return;let n=t.options.x??0;(t.options.anchor||"left")==="right"?e.style.right=n?`${n*this._renderService.dimensions.css.cell.width}px`:"":e.style.left=n?`${n*this._renderService.dimensions.css.cell.width}px`:""}_removeDecoration(t){this._decorationElements.get(t)?.remove(),this._decorationElements.delete(t),t.dispose()}};Hk=xn([Pe(1,$s),Pe(2,Pa),Pe(3,Jp),Pe(4,$a)],Hk);var Pne=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(t){if(t.options.overviewRulerOptions){for(let e of this._zones)if(e.color===t.options.overviewRulerOptions.color&&e.position===t.options.overviewRulerOptions.position){if(this._lineIntersectsZone(e,t.marker.line))return;if(this._lineAdjacentToZone(e,t.marker.line,t.options.overviewRulerOptions.position)){this._addLineToZone(e,t.marker.line);return}}if(this._zonePoolIndex<this._zonePool.length){this._zonePool[this._zonePoolIndex].color=t.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=t.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=t.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=t.marker.line,this._zones.push(this._zonePool[this._zonePoolIndex++]);return}this._zones.push({color:t.options.overviewRulerOptions.color,position:t.options.overviewRulerOptions.position,startBufferLine:t.marker.line,endBufferLine:t.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(t){this._linePadding=t}_lineIntersectsZone(t,e){return e>=t.startBufferLine&&e<=t.endBufferLine}_lineAdjacentToZone(t,e,n){return e>=t.startBufferLine-this._linePadding[n||"full"]&&e<=t.endBufferLine+this._linePadding[n||"full"]}_addLineToZone(t,e){t.startBufferLine=Math.min(t.startBufferLine,e),t.endBufferLine=Math.max(t.endBufferLine,e)}},Ni={full:0,left:0,center:0,right:0},fo={full:0,left:0,center:0,right:0},Od={full:0,left:0,center:0,right:0},Hy=class extends kt{constructor(t,e,n,s,r,i,a,c){super(),this._viewportElement=t,this._screenElement=e,this._bufferService=n,this._decorationService=s,this._renderService=r,this._optionsService=i,this._themeService=a,this._coreBrowserService=c,this._colorZoneStore=new Pne,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement),this._register(hn(()=>this._canvas?.remove()));let u=this._canvas.getContext("2d");if(u)this._ctx=u;else throw new Error("Ctx cannot be null");this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this._register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0))),this._register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this._register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})),this._register(this._renderService.onRender(()=>{(!this._containerHeight||this._containerHeight!==this._screenElement.clientHeight)&&(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._register(this._optionsService.onSpecificOptionChange("overviewRuler",()=>this._queueRefresh(!0))),this._register(this._themeService.onChangeColors(()=>this._queueRefresh())),this._queueRefresh(!0)}get _width(){return this._optionsService.options.overviewRuler?.width||0}_refreshDrawConstants(){let t=Math.floor((this._canvas.width-1)/3),e=Math.ceil((this._canvas.width-1)/3);fo.full=this._canvas.width,fo.left=t,fo.center=e,fo.right=t,this._refreshDrawHeightConstants(),Od.full=1,Od.left=1,Od.center=1+fo.left,Od.right=1+fo.left+fo.center}_refreshDrawHeightConstants(){Ni.full=Math.round(2*this._coreBrowserService.dpr);let t=this._canvas.height/this._bufferService.buffer.lines.length,e=Math.round(Math.max(Math.min(t,12),6)*this._coreBrowserService.dpr);Ni.left=e,Ni.center=e,Ni.right=e}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Ni.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Ni.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Ni.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Ni.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let e of this._decorationService.decorations)this._colorZoneStore.addDecoration(e);this._ctx.lineWidth=1,this._renderRulerOutline();let t=this._colorZoneStore.zones;for(let e of t)e.position!=="full"&&this._renderColorZone(e);for(let e of t)e.position==="full"&&this._renderColorZone(e);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderRulerOutline(){this._ctx.fillStyle=this._themeService.colors.overviewRulerBorder.css,this._ctx.fillRect(0,0,1,this._canvas.height),this._optionsService.rawOptions.overviewRuler.showTopBorder&&this._ctx.fillRect(1,0,this._canvas.width-1,1),this._optionsService.rawOptions.overviewRuler.showBottomBorder&&this._ctx.fillRect(1,this._canvas.height-1,this._canvas.width-1,this._canvas.height)}_renderColorZone(t){this._ctx.fillStyle=t.color,this._ctx.fillRect(Od[t.position||"full"],Math.round((this._canvas.height-1)*(t.startBufferLine/this._bufferService.buffers.active.lines.length)-Ni[t.position||"full"]/2),fo[t.position||"full"],Math.round((this._canvas.height-1)*((t.endBufferLine-t.startBufferLine)/this._bufferService.buffers.active.lines.length)+Ni[t.position||"full"]))}_queueRefresh(t,e){this._shouldUpdateDimensions=t||this._shouldUpdateDimensions,this._shouldUpdateAnchor=e||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};Hy=xn([Pe(2,$s),Pe(3,Jp),Pe(4,$a),Pe(5,zs),Pe(6,kh),Pe(7,Pa)],Hy);var be;(t=>(t.NUL="\0",t.SOH="",t.STX="",t.ETX="",t.EOT="",t.ENQ="",t.ACK="",t.BEL="\x07",t.BS="\b",t.HT="	",t.LF=`
`,t.VT="\v",t.FF="\f",t.CR="\r",t.SO="",t.SI="",t.DLE="",t.DC1="",t.DC2="",t.DC3="",t.DC4="",t.NAK="",t.SYN="",t.ETB="",t.CAN="",t.EM="",t.SUB="",t.ESC="\x1B",t.FS="",t.GS="",t.RS="",t.US="",t.SP=" ",t.DEL=""))(be||={});var S0;(t=>(t.PAD="",t.HOP="",t.BPH="",t.NBH="",t.IND="",t.NEL="",t.SSA="",t.ESA="",t.HTS="",t.HTJ="",t.VTS="",t.PLD="",t.PLU="",t.RI="",t.SS2="",t.SS3="",t.DCS="",t.PU1="",t.PU2="",t.STS="",t.CCH="",t.MW="",t.SPA="",t.EPA="",t.SOS="",t.SGCI="",t.SCI="",t.CSI="",t.ST="",t.OSC="",t.PM="",t.APC=""))(S0||={});var aI;(t=>t.ST=`${be.ESC}\\`)(aI||={});var Fk=class{constructor(t,e,n,s,r,i){this._textarea=t,this._compositionView=e,this._bufferService=n,this._optionsService=s,this._coreService=r,this._renderService=i,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(t){this._compositionView.textContent=t.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(t){if(this._isComposing||this._isSendingComposition){if(t.keyCode===20||t.keyCode===229||t.keyCode===16||t.keyCode===17||t.keyCode===18)return!1;this._finalizeComposition(!1)}return t.keyCode===229?(this._handleAnyTextareaChanges(),!1):!0}_finalizeComposition(t){if(this._compositionView.classList.remove("active"),this._isComposing=!1,t){let e={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){this._isSendingComposition=!1;let n;e.start+=this._dataAlreadySent.length,this._isComposing?n=this._textarea.value.substring(e.start,this._compositionPosition.start):n=this._textarea.value.substring(e.start),n.length>0&&this._coreService.triggerDataEvent(n,!0)}},0)}else{this._isSendingComposition=!1;let e=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(e,!0)}}_handleAnyTextareaChanges(){let t=this._textarea.value;setTimeout(()=>{if(!this._isComposing){let e=this._textarea.value,n=e.replace(t,"");this._dataAlreadySent=n,e.length>t.length?this._coreService.triggerDataEvent(n,!0):e.length<t.length?this._coreService.triggerDataEvent(`${be.DEL}`,!0):e.length===t.length&&e!==t&&this._coreService.triggerDataEvent(e,!0)}},0)}updateCompositionElements(t){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){let e=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),n=this._renderService.dimensions.css.cell.height,s=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,r=e*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=r+"px",this._compositionView.style.top=s+"px",this._compositionView.style.height=n+"px",this._compositionView.style.lineHeight=n+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";let i=this._compositionView.getBoundingClientRect();this._textarea.style.left=r+"px",this._textarea.style.top=s+"px",this._textarea.style.width=Math.max(i.width,1)+"px",this._textarea.style.height=Math.max(i.height,1)+"px",this._textarea.style.lineHeight=i.height+"px"}t||setTimeout(()=>this.updateCompositionElements(!0),0)}}};Fk=xn([Pe(2,$s),Pe(3,zs),Pe(4,fc),Pe(5,$a)],Fk);var Qn=0,es=0,ts=0,_n=0,KR={css:"#00000000",rgba:0},Bn;(t=>{function e(r,i,a,c){return c!==void 0?`#${hl(r)}${hl(i)}${hl(a)}${hl(c)}`:`#${hl(r)}${hl(i)}${hl(a)}`}t.toCss=e;function n(r,i,a,c=255){return(r<<24|i<<16|a<<8|c)>>>0}t.toRgba=n;function s(r,i,a,c){return{css:t.toCss(r,i,a,c),rgba:t.toRgba(r,i,a,c)}}t.toColor=s})(Bn||={});var sn;(t=>{function e(u,h){if(_n=(h.rgba&255)/255,_n===1)return{css:h.css,rgba:h.rgba};let m=h.rgba>>24&255,p=h.rgba>>16&255,y=h.rgba>>8&255,v=u.rgba>>24&255,b=u.rgba>>16&255,x=u.rgba>>8&255;Qn=v+Math.round((m-v)*_n),es=b+Math.round((p-b)*_n),ts=x+Math.round((y-x)*_n);let S=Bn.toCss(Qn,es,ts),k=Bn.toRgba(Qn,es,ts);return{css:S,rgba:k}}t.blend=e;function n(u){return(u.rgba&255)===255}t.isOpaque=n;function s(u,h,m){let p=k0.ensureContrastRatio(u.rgba,h.rgba,m);if(p)return Bn.toColor(p>>24&255,p>>16&255,p>>8&255)}t.ensureContrastRatio=s;function r(u){let h=(u.rgba|255)>>>0;return[Qn,es,ts]=k0.toChannels(h),{css:Bn.toCss(Qn,es,ts),rgba:h}}t.opaque=r;function i(u,h){return _n=Math.round(h*255),[Qn,es,ts]=k0.toChannels(u.rgba),{css:Bn.toCss(Qn,es,ts,_n),rgba:Bn.toRgba(Qn,es,ts,_n)}}t.opacity=i;function a(u,h){return _n=u.rgba&255,i(u,_n*h/255)}t.multiplyOpacity=a;function c(u){return[u.rgba>>24&255,u.rgba>>16&255,u.rgba>>8&255]}t.toColorRGB=c})(sn||={});var gn;(t=>{let e,n;try{let r=document.createElement("canvas");r.width=1,r.height=1;let i=r.getContext("2d",{willReadFrequently:!0});i&&(e=i,e.globalCompositeOperation="copy",n=e.createLinearGradient(0,0,1,1))}catch{}function s(r){if(r.match(/#[\da-f]{3,8}/i))switch(r.length){case 4:return Qn=parseInt(r.slice(1,2).repeat(2),16),es=parseInt(r.slice(2,3).repeat(2),16),ts=parseInt(r.slice(3,4).repeat(2),16),Bn.toColor(Qn,es,ts);case 5:return Qn=parseInt(r.slice(1,2).repeat(2),16),es=parseInt(r.slice(2,3).repeat(2),16),ts=parseInt(r.slice(3,4).repeat(2),16),_n=parseInt(r.slice(4,5).repeat(2),16),Bn.toColor(Qn,es,ts,_n);case 7:return{css:r,rgba:(parseInt(r.slice(1),16)<<8|255)>>>0};case 9:return{css:r,rgba:parseInt(r.slice(1),16)>>>0}}let i=r.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(i)return Qn=parseInt(i[1]),es=parseInt(i[2]),ts=parseInt(i[3]),_n=Math.round((i[5]===void 0?1:parseFloat(i[5]))*255),Bn.toColor(Qn,es,ts,_n);if(!e||!n)throw new Error("css.toColor: Unsupported css format");if(e.fillStyle=n,e.fillStyle=r,typeof e.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(e.fillRect(0,0,1,1),[Qn,es,ts,_n]=e.getImageData(0,0,1,1).data,_n!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:Bn.toRgba(Qn,es,ts,_n),css:r}}t.toColor=s})(gn||={});var Ts;(t=>{function e(s){return n(s>>16&255,s>>8&255,s&255)}t.relativeLuminance=e;function n(s,r,i){let a=s/255,c=r/255,u=i/255,h=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),m=c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4),p=u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4);return h*.2126+m*.7152+p*.0722}t.relativeLuminance2=n})(Ts||={});var k0;(t=>{function e(a,c){if(_n=(c&255)/255,_n===1)return c;let u=c>>24&255,h=c>>16&255,m=c>>8&255,p=a>>24&255,y=a>>16&255,v=a>>8&255;return Qn=p+Math.round((u-p)*_n),es=y+Math.round((h-y)*_n),ts=v+Math.round((m-v)*_n),Bn.toRgba(Qn,es,ts)}t.blend=e;function n(a,c,u){let h=Ts.relativeLuminance(a>>8),m=Ts.relativeLuminance(c>>8);if(pa(h,m)<u){if(m<h){let v=s(a,c,u),b=pa(h,Ts.relativeLuminance(v>>8));if(b<u){let x=r(a,c,u),S=pa(h,Ts.relativeLuminance(x>>8));return b>S?v:x}return v}let p=r(a,c,u),y=pa(h,Ts.relativeLuminance(p>>8));if(y<u){let v=s(a,c,u),b=pa(h,Ts.relativeLuminance(v>>8));return y>b?p:v}return p}}t.ensureContrastRatio=n;function s(a,c,u){let h=a>>24&255,m=a>>16&255,p=a>>8&255,y=c>>24&255,v=c>>16&255,b=c>>8&255,x=pa(Ts.relativeLuminance2(y,v,b),Ts.relativeLuminance2(h,m,p));for(;x<u&&(y>0||v>0||b>0);)y-=Math.max(0,Math.ceil(y*.1)),v-=Math.max(0,Math.ceil(v*.1)),b-=Math.max(0,Math.ceil(b*.1)),x=pa(Ts.relativeLuminance2(y,v,b),Ts.relativeLuminance2(h,m,p));return(y<<24|v<<16|b<<8|255)>>>0}t.reduceLuminance=s;function r(a,c,u){let h=a>>24&255,m=a>>16&255,p=a>>8&255,y=c>>24&255,v=c>>16&255,b=c>>8&255,x=pa(Ts.relativeLuminance2(y,v,b),Ts.relativeLuminance2(h,m,p));for(;x<u&&(y<255||v<255||b<255);)y=Math.min(255,y+Math.ceil((255-y)*.1)),v=Math.min(255,v+Math.ceil((255-v)*.1)),b=Math.min(255,b+Math.ceil((255-b)*.1)),x=pa(Ts.relativeLuminance2(y,v,b),Ts.relativeLuminance2(h,m,p));return(y<<24|v<<16|b<<8|255)>>>0}t.increaseLuminance=r;function i(a){return[a>>24&255,a>>16&255,a>>8&255,a&255]}t.toChannels=i})(k0||={});function hl(t){let e=t.toString(16);return e.length<2?"0"+e:e}function pa(t,e){return t<e?(e+.05)/(t+.05):(t+.05)/(e+.05)}var $ne=class extends Xp{constructor(t,e,n){super(),this.content=0,this.combinedData="",this.fg=t.fg,this.bg=t.bg,this.combinedData=e,this._width=n}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(t){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},Fy=class{constructor(t){this._bufferService=t,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new Jr}register(t){let e={id:this._nextCharacterJoinerId++,handler:t};return this._characterJoiners.push(e),e.id}deregister(t){for(let e=0;e<this._characterJoiners.length;e++)if(this._characterJoiners[e].id===t)return this._characterJoiners.splice(e,1),!0;return!1}getJoinedCharacters(t){if(this._characterJoiners.length===0)return[];let e=this._bufferService.buffer.lines.get(t);if(!e||e.length===0)return[];let n=[],s=e.translateToString(!0),r=0,i=0,a=0,c=e.getFg(0),u=e.getBg(0);for(let h=0;h<e.getTrimmedLength();h++)if(e.loadCell(h,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==c||this._workCell.bg!==u){if(h-r>1){let m=this._getJoinedRanges(s,a,i,e,r);for(let p=0;p<m.length;p++)n.push(m[p])}r=h,a=i,c=this._workCell.fg,u=this._workCell.bg}i+=this._workCell.getChars().length||No.length}if(this._bufferService.cols-r>1){let h=this._getJoinedRanges(s,a,i,e,r);for(let m=0;m<h.length;m++)n.push(h[m])}return n}_getJoinedRanges(t,e,n,s,r){let i=t.substring(e,n),a=[];try{a=this._characterJoiners[0].handler(i)}catch(c){console.error(c)}for(let c=1;c<this._characterJoiners.length;c++)try{let u=this._characterJoiners[c].handler(i);for(let h=0;h<u.length;h++)Fy._mergeRanges(a,u[h])}catch(u){console.error(u)}return this._stringRangesToCellRanges(a,s,r),a}_stringRangesToCellRanges(t,e,n){let s=0,r=!1,i=0,a=t[s];if(a){for(let c=n;c<this._bufferService.cols;c++){let u=e.getWidth(c),h=e.getString(c).length||No.length;if(u!==0){if(!r&&a[0]<=i&&(a[0]=c,r=!0),a[1]<=i){if(a[1]=c,a=t[++s],!a)break;a[0]<=i?(a[0]=c,r=!0):r=!1}i+=h}}a&&(a[1]=this._bufferService.cols)}}static _mergeRanges(t,e){let n=!1;for(let s=0;s<t.length;s++){let r=t[s];if(n){if(e[1]<=r[0])return t[s-1][1]=e[1],t;if(e[1]<=r[1])return t[s-1][1]=Math.max(e[1],r[1]),t.splice(s,1),t;t.splice(s,1),s--}else{if(e[1]<=r[0])return t.splice(s,0,e),t;if(e[1]<=r[1])return r[0]=Math.min(e[0],r[0]),t;e[0]<r[1]&&(r[0]=Math.min(e[0],r[0]),n=!0);continue}}return n?t[t.length-1][1]=e[1]:t.push(e),t}};Fy=xn([Pe(0,$s)],Fy);function zne(t){return 57508<=t&&t<=57558}function Une(t){return 9472<=t&&t<=9631}function Hne(t){return zne(t)||Une(t)}function Fne(){return{css:{canvas:qg(),cell:qg()},device:{canvas:qg(),cell:qg(),char:{width:0,height:0,left:0,top:0}}}}function qg(){return{width:0,height:0}}var Vk=class{constructor(t,e,n,s,r,i,a){this._document=t,this._characterJoinerService=e,this._optionsService=n,this._coreBrowserService=s,this._coreService=r,this._decorationService=i,this._themeService=a,this._workCell=new Jr,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(t,e,n){this._selectionStart=t,this._selectionEnd=e,this._columnSelectMode=n}createRow(t,e,n,s,r,i,a,c,u,h,m){let p=[],y=this._characterJoinerService.getJoinedCharacters(e),v=this._themeService.colors,b=t.getNoBgTrimmedLength();n&&b<i+1&&(b=i+1);let x,S=0,k="",C=0,N=0,R=0,O=0,E=!1,D=0,B=!1,q=0,P=0,W=[],z=h!==-1&&m!==-1;for(let K=0;K<b;K++){t.loadCell(K,this._workCell);let X=this._workCell.getWidth();if(X===0)continue;let G=!1,I=K>=P,Y=K,Q=this._workCell;if(y.length>0&&K===y[0][0]&&I){let qe=y.shift(),Qe=this._isCellInSelection(qe[0],e);for(C=qe[0]+1;C<qe[1];C++)I&&=Qe===this._isCellInSelection(C,e);I&&=!n||i<qe[0]||i>=qe[1],I?(G=!0,Q=new $ne(this._workCell,t.translateToString(!0,qe[0],qe[1]),qe[1]-qe[0]),Y=qe[1]-1,X=Q.getWidth()):P=qe[1]}let $=this._isCellInSelection(K,e),A=n&&K===i,M=z&&K>=h&&K<=m,H=!1;this._decorationService.forEachDecorationAtCell(K,e,void 0,qe=>{H=!0});let T=Q.getChars()||No;if(T===" "&&(Q.isUnderline()||Q.isOverline())&&(T=""),q=X*c-u.get(T,Q.isBold(),Q.isItalic()),!x)x=this._document.createElement("span");else if(S&&($&&B||!$&&!B&&Q.bg===N)&&($&&B&&v.selectionForeground||Q.fg===R)&&Q.extended.ext===O&&M===E&&q===D&&!A&&!G&&!H&&I){Q.isInvisible()?k+=No:k+=T,S++;continue}else S&&(x.textContent=k),x=this._document.createElement("span"),S=0,k="";if(N=Q.bg,R=Q.fg,O=Q.extended.ext,E=M,D=q,B=$,G&&i>=K&&i<=Y&&(i=K),!this._coreService.isCursorHidden&&A&&this._coreService.isCursorInitialized){if(W.push("xterm-cursor"),this._coreBrowserService.isFocused)a&&W.push("xterm-cursor-blink"),W.push(s==="bar"?"xterm-cursor-bar":s==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(r)switch(r){case"outline":W.push("xterm-cursor-outline");break;case"block":W.push("xterm-cursor-block");break;case"bar":W.push("xterm-cursor-bar");break;case"underline":W.push("xterm-cursor-underline");break}}if(Q.isBold()&&W.push("xterm-bold"),Q.isItalic()&&W.push("xterm-italic"),Q.isDim()&&W.push("xterm-dim"),Q.isInvisible()?k=No:k=Q.getChars()||No,Q.isUnderline()&&(W.push(`xterm-underline-${Q.extended.underlineStyle}`),k===" "&&(k=""),!Q.isUnderlineColorDefault()))if(Q.isUnderlineColorRGB())x.style.textDecorationColor=`rgb(${Xp.toColorRGB(Q.getUnderlineColor()).join(",")})`;else{let qe=Q.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Q.isBold()&&qe<8&&(qe+=8),x.style.textDecorationColor=v.ansi[qe].css}Q.isOverline()&&(W.push("xterm-overline"),k===" "&&(k="")),Q.isStrikethrough()&&W.push("xterm-strikethrough"),M&&(x.style.textDecoration="underline");let J=Q.getFgColor(),ne=Q.getFgColorMode(),Z=Q.getBgColor(),oe=Q.getBgColorMode(),ke=!!Q.isInverse();if(ke){let qe=J;J=Z,Z=qe;let Qe=ne;ne=oe,oe=Qe}let Se,Ge,$e=!1;this._decorationService.forEachDecorationAtCell(K,e,void 0,qe=>{qe.options.layer!=="top"&&$e||(qe.backgroundColorRGB&&(oe=50331648,Z=qe.backgroundColorRGB.rgba>>8&16777215,Se=qe.backgroundColorRGB),qe.foregroundColorRGB&&(ne=50331648,J=qe.foregroundColorRGB.rgba>>8&16777215,Ge=qe.foregroundColorRGB),$e=qe.options.layer==="top")}),!$e&&$&&(Se=this._coreBrowserService.isFocused?v.selectionBackgroundOpaque:v.selectionInactiveBackgroundOpaque,Z=Se.rgba>>8&16777215,oe=50331648,$e=!0,v.selectionForeground&&(ne=50331648,J=v.selectionForeground.rgba>>8&16777215,Ge=v.selectionForeground)),$e&&W.push("xterm-decoration-top");let it;switch(oe){case 16777216:case 33554432:it=v.ansi[Z],W.push(`xterm-bg-${Z}`);break;case 50331648:it=Bn.toColor(Z>>16,Z>>8&255,Z&255),this._addStyle(x,`background-color:#${WR((Z>>>0).toString(16),"0",6)}`);break;default:ke?(it=v.foreground,W.push("xterm-bg-257")):it=v.background}switch(Se||Q.isDim()&&(Se=sn.multiplyOpacity(it,.5)),ne){case 16777216:case 33554432:Q.isBold()&&J<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(J+=8),this._applyMinimumContrast(x,it,v.ansi[J],Q,Se,void 0)||W.push(`xterm-fg-${J}`);break;case 50331648:let qe=Bn.toColor(J>>16&255,J>>8&255,J&255);this._applyMinimumContrast(x,it,qe,Q,Se,Ge)||this._addStyle(x,`color:#${WR(J.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(x,it,v.foreground,Q,Se,Ge)||ke&&W.push("xterm-fg-257")}W.length&&(x.className=W.join(" "),W.length=0),!A&&!G&&!H&&I?S++:x.textContent=k,q!==this.defaultSpacing&&(x.style.letterSpacing=`${q}px`),p.push(x),K=Y}return x&&S&&(x.textContent=k),p}_applyMinimumContrast(t,e,n,s,r,i){if(this._optionsService.rawOptions.minimumContrastRatio===1||Hne(s.getCode()))return!1;let a=this._getContrastCache(s),c;if(!r&&!i&&(c=a.getColor(e.rgba,n.rgba)),c===void 0){let u=this._optionsService.rawOptions.minimumContrastRatio/(s.isDim()?2:1);c=sn.ensureContrastRatio(r||e,i||n,u),a.setColor((r||e).rgba,(i||n).rgba,c??null)}return c?(this._addStyle(t,`color:${c.css}`),!0):!1}_getContrastCache(t){return t.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(t,e){t.setAttribute("style",`${t.getAttribute("style")||""}${e};`)}_isCellInSelection(t,e){let n=this._selectionStart,s=this._selectionEnd;return!n||!s?!1:this._columnSelectMode?n[0]<=s[0]?t>=n[0]&&e>=n[1]&&t<s[0]&&e<=s[1]:t<n[0]&&e>=n[1]&&t>=s[0]&&e<=s[1]:e>n[1]&&e<s[1]||n[1]===s[1]&&e===n[1]&&t>=n[0]&&t<s[0]||n[1]<s[1]&&e===s[1]&&t<s[0]||n[1]<s[1]&&e===n[1]&&t>=n[0]}};Vk=xn([Pe(1,HL),Pe(2,zs),Pe(3,Pa),Pe(4,fc),Pe(5,Jp),Pe(6,kh)],Vk);function WR(t,e,n){for(;t.length<n;)t=e+t;return t}var Vne=class{constructor(t,e){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=t.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";let n=t.createElement("span");n.classList.add("xterm-char-measure-element");let s=t.createElement("span");s.classList.add("xterm-char-measure-element"),s.style.fontWeight="bold";let r=t.createElement("span");r.classList.add("xterm-char-measure-element"),r.style.fontStyle="italic";let i=t.createElement("span");i.classList.add("xterm-char-measure-element"),i.style.fontWeight="bold",i.style.fontStyle="italic",this._measureElements=[n,s,r,i],this._container.appendChild(n),this._container.appendChild(s),this._container.appendChild(r),this._container.appendChild(i),e.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(t,e,n,s){t===this._font&&e===this._fontSize&&n===this._weight&&s===this._weightBold||(this._font=t,this._fontSize=e,this._weight=n,this._weightBold=s,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${n}`,this._measureElements[1].style.fontWeight=`${s}`,this._measureElements[2].style.fontWeight=`${n}`,this._measureElements[3].style.fontWeight=`${s}`,this.clear())}get(t,e,n){let s=0;if(!e&&!n&&t.length===1&&(s=t.charCodeAt(0))<256){if(this._flat[s]!==-9999)return this._flat[s];let a=this._measure(t,0);return a>0&&(this._flat[s]=a),a}let r=t;e&&(r+="B"),n&&(r+="I");let i=this._holey.get(r);if(i===void 0){let a=0;e&&(a|=1),n&&(a|=2),i=this._measure(t,a),i>0&&this._holey.set(r,i)}return i}_measure(t,e){let n=this._measureElements[e];return n.textContent=t.repeat(32),n.offsetWidth/32}},qne=class{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(t,e,n,s=!1){if(this.selectionStart=e,this.selectionEnd=n,!e||!n||e[0]===n[0]&&e[1]===n[1]){this.clear();return}let r=t.buffers.active.ydisp,i=e[1]-r,a=n[1]-r,c=Math.max(i,0),u=Math.min(a,t.rows-1);if(c>=t.rows||u<0){this.clear();return}this.hasSelection=!0,this.columnSelectMode=s,this.viewportStartRow=i,this.viewportEndRow=a,this.viewportCappedStartRow=c,this.viewportCappedEndRow=u,this.startCol=e[0],this.endCol=n[0]}isCellSelected(t,e,n){return this.hasSelection?(n-=t.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?e>=this.startCol&&n>=this.viewportCappedStartRow&&e<this.endCol&&n<=this.viewportCappedEndRow:e<this.startCol&&n>=this.viewportCappedStartRow&&e>=this.endCol&&n<=this.viewportCappedEndRow:n>this.viewportStartRow&&n<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&n===this.viewportStartRow&&e>=this.startCol&&e<this.endCol||this.viewportStartRow<this.viewportEndRow&&n===this.viewportEndRow&&e<this.endCol||this.viewportStartRow<this.viewportEndRow&&n===this.viewportStartRow&&e>=this.startCol):!1}};function Kne(){return new qne}var Yx="xterm-dom-renderer-owner-",Ur="xterm-rows",Kg="xterm-fg-",GR="xterm-bg-",Md="xterm-focus",Wg="xterm-selection",Wne=1,qk=class extends kt{constructor(t,e,n,s,r,i,a,c,u,h,m,p,y,v){super(),this._terminal=t,this._document=e,this._element=n,this._screenElement=s,this._viewportElement=r,this._helperContainer=i,this._linkifier2=a,this._charSizeService=u,this._optionsService=h,this._bufferService=m,this._coreService=p,this._coreBrowserService=y,this._themeService=v,this._terminalClass=Wne++,this._rowElements=[],this._selectionRenderModel=Kne(),this.onRequestRedraw=this._register(new Te).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(Ur),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(Wg),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=Fne(),this._updateDimensions(),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._themeService.onChangeColors(b=>this._injectCss(b))),this._injectCss(this._themeService.colors),this._rowFactory=c.createInstance(Vk,document),this._element.classList.add(Yx+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this._register(this._linkifier2.onShowLinkUnderline(b=>this._handleLinkHover(b))),this._register(this._linkifier2.onHideLinkUnderline(b=>this._handleLinkLeave(b))),this._register(hn(()=>{this._element.classList.remove(Yx+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new Vne(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){let t=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*t,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*t),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/t),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/t),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let n of this._rowElements)n.style.width=`${this.dimensions.css.canvas.width}px`,n.style.height=`${this.dimensions.css.cell.height}px`,n.style.lineHeight=`${this.dimensions.css.cell.height}px`,n.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));let e=`${this._terminalSelector} .${Ur} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=e,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(t){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let e=`${this._terminalSelector} .${Ur} { pointer-events: none; color: ${t.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;e+=`${this._terminalSelector} .${Ur} .xterm-dim { color: ${sn.multiplyOpacity(t.foreground,.5).css};}`,e+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;let n=`blink_underline_${this._terminalClass}`,s=`blink_bar_${this._terminalClass}`,r=`blink_block_${this._terminalClass}`;e+=`@keyframes ${n} { 50% {  border-bottom-style: hidden; }}`,e+=`@keyframes ${s} { 50% {  box-shadow: none; }}`,e+=`@keyframes ${r} { 0% {  background-color: ${t.cursor.css};  color: ${t.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${t.cursor.css}; }}`,e+=`${this._terminalSelector} .${Ur}.${Md} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${n} 1s step-end infinite;}${this._terminalSelector} .${Ur}.${Md} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${s} 1s step-end infinite;}${this._terminalSelector} .${Ur}.${Md} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${r} 1s step-end infinite;}${this._terminalSelector} .${Ur} .xterm-cursor.xterm-cursor-block { background-color: ${t.cursor.css}; color: ${t.cursorAccent.css};}${this._terminalSelector} .${Ur} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${t.cursor.css} !important; color: ${t.cursorAccent.css} !important;}${this._terminalSelector} .${Ur} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${t.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${Ur} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${t.cursor.css} inset;}${this._terminalSelector} .${Ur} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${t.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,e+=`${this._terminalSelector} .${Wg} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${Wg} div { position: absolute; background-color: ${t.selectionBackgroundOpaque.css};}${this._terminalSelector} .${Wg} div { position: absolute; background-color: ${t.selectionInactiveBackgroundOpaque.css};}`;for(let[i,a]of t.ansi.entries())e+=`${this._terminalSelector} .${Kg}${i} { color: ${a.css}; }${this._terminalSelector} .${Kg}${i}.xterm-dim { color: ${sn.multiplyOpacity(a,.5).css}; }${this._terminalSelector} .${GR}${i} { background-color: ${a.css}; }`;e+=`${this._terminalSelector} .${Kg}257 { color: ${sn.opaque(t.background).css}; }${this._terminalSelector} .${Kg}257.xterm-dim { color: ${sn.multiplyOpacity(sn.opaque(t.background),.5).css}; }${this._terminalSelector} .${GR}257 { background-color: ${t.foreground.css}; }`,this._themeStyleElement.textContent=e}_setDefaultSpacing(){let t=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${t}px`,this._rowFactory.defaultSpacing=t}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(t,e){for(let n=this._rowElements.length;n<=e;n++){let s=this._document.createElement("div");this._rowContainer.appendChild(s),this._rowElements.push(s)}for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(t,e){this._refreshRowElements(t,e),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(Md),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(Md),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(t,e,n){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(t,e,n),this.renderRows(0,this._bufferService.rows-1),!t||!e||(this._selectionRenderModel.update(this._terminal,t,e,n),!this._selectionRenderModel.hasSelection))return;let s=this._selectionRenderModel.viewportStartRow,r=this._selectionRenderModel.viewportEndRow,i=this._selectionRenderModel.viewportCappedStartRow,a=this._selectionRenderModel.viewportCappedEndRow,c=this._document.createDocumentFragment();if(n){let u=t[0]>e[0];c.appendChild(this._createSelectionElement(i,u?e[0]:t[0],u?t[0]:e[0],a-i+1))}else{let u=s===i?t[0]:0,h=i===r?e[0]:this._bufferService.cols;c.appendChild(this._createSelectionElement(i,u,h));let m=a-i-1;if(c.appendChild(this._createSelectionElement(i+1,0,this._bufferService.cols,m)),i!==a){let p=r===a?e[0]:this._bufferService.cols;c.appendChild(this._createSelectionElement(a,0,p))}}this._selectionContainer.appendChild(c)}_createSelectionElement(t,e,n,s=1){let r=this._document.createElement("div"),i=e*this.dimensions.css.cell.width,a=this.dimensions.css.cell.width*(n-e);return i+a>this.dimensions.css.canvas.width&&(a=this.dimensions.css.canvas.width-i),r.style.height=`${s*this.dimensions.css.cell.height}px`,r.style.top=`${t*this.dimensions.css.cell.height}px`,r.style.left=`${i}px`,r.style.width=`${a}px`,r}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let t of this._rowElements)t.replaceChildren()}renderRows(t,e){let n=this._bufferService.buffer,s=n.ybase+n.y,r=Math.min(n.x,this._bufferService.cols-1),i=this._coreService.decPrivateModes.cursorBlink??this._optionsService.rawOptions.cursorBlink,a=this._coreService.decPrivateModes.cursorStyle??this._optionsService.rawOptions.cursorStyle,c=this._optionsService.rawOptions.cursorInactiveStyle;for(let u=t;u<=e;u++){let h=u+n.ydisp,m=this._rowElements[u],p=n.lines.get(h);if(!m||!p)break;m.replaceChildren(...this._rowFactory.createRow(p,h,h===s,a,c,r,i,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${Yx}${this._terminalClass}`}_handleLinkHover(t){this._setCellUnderline(t.x1,t.x2,t.y1,t.y2,t.cols,!0)}_handleLinkLeave(t){this._setCellUnderline(t.x1,t.x2,t.y1,t.y2,t.cols,!1)}_setCellUnderline(t,e,n,s,r,i){n<0&&(t=0),s<0&&(e=0);let a=this._bufferService.rows-1;n=Math.max(Math.min(n,a),0),s=Math.max(Math.min(s,a),0),r=Math.min(r,this._bufferService.cols);let c=this._bufferService.buffer,u=c.ybase+c.y,h=Math.min(c.x,r-1),m=this._optionsService.rawOptions.cursorBlink,p=this._optionsService.rawOptions.cursorStyle,y=this._optionsService.rawOptions.cursorInactiveStyle;for(let v=n;v<=s;++v){let b=v+c.ydisp,x=this._rowElements[v],S=c.lines.get(b);if(!x||!S)break;x.replaceChildren(...this._rowFactory.createRow(S,b,b===u,p,y,h,m,this.dimensions.css.cell.width,this._widthCache,i?v===n?t:0:-1,i?(v===s?e:r)-1:-1))}}};qk=xn([Pe(7,aN),Pe(8,vb),Pe(9,zs),Pe(10,$s),Pe(11,fc),Pe(12,Pa),Pe(13,kh)],qk);var Kk=class extends kt{constructor(t,e,n){super(),this._optionsService=n,this.width=0,this.height=0,this._onCharSizeChange=this._register(new Te),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this._register(new Yne(this._optionsService))}catch{this._measureStrategy=this._register(new Gne(t,e,this._optionsService))}this._register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){let t=this._measureStrategy.measure();(t.width!==this.width||t.height!==this.height)&&(this.width=t.width,this.height=t.height,this._onCharSizeChange.fire())}};Kk=xn([Pe(2,zs)],Kk);var oI=class extends kt{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(t,e){t!==void 0&&t>0&&e!==void 0&&e>0&&(this._result.width=t,this._result.height=e)}},Gne=class extends oI{constructor(t,e,n){super(),this._document=t,this._parentElement=e,this._optionsService=n,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}},Yne=class extends oI{constructor(t){super(),this._optionsService=t,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");let e=this._ctx.measureText("W");if(!("width"in e&&"fontBoundingBoxAscent"in e&&"fontBoundingBoxDescent"in e))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;let t=this._ctx.measureText("W");return this._validateAndSet(t.width,t.fontBoundingBoxAscent+t.fontBoundingBoxDescent),this._result}},Zne=class extends kt{constructor(t,e,n){super(),this._textarea=t,this._window=e,this.mainDocument=n,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=this._register(new Xne(this._window)),this._onDprChange=this._register(new Te),this.onDprChange=this._onDprChange.event,this._onWindowChange=this._register(new Te),this.onWindowChange=this._onWindowChange.event,this._register(this.onWindowChange(s=>this._screenDprMonitor.setWindow(s))),this._register(ds.forward(this._screenDprMonitor.onDprChange,this._onDprChange)),this._register(ht(this._textarea,"focus",()=>this._isFocused=!0)),this._register(ht(this._textarea,"blur",()=>this._isFocused=!1))}get window(){return this._window}set window(t){this._window!==t&&(this._window=t,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}},Xne=class extends kt{constructor(t){super(),this._parentWindow=t,this._windowResizeListener=this._register(new th),this._onDprChange=this._register(new Te),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this._register(hn(()=>this.clearListener()))}setWindow(t){this._parentWindow=t,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=ht(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){!this._resolutionMediaMatchList||!this._outerListener||(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}},Jne=class extends kt{constructor(){super(),this.linkProviders=[],this._register(hn(()=>this.linkProviders.length=0))}registerLinkProvider(t){return this.linkProviders.push(t),{dispose:()=>{let e=this.linkProviders.indexOf(t);e!==-1&&this.linkProviders.splice(e,1)}}}};function pN(t,e,n){let s=n.getBoundingClientRect(),r=t.getComputedStyle(n),i=parseInt(r.getPropertyValue("padding-left")),a=parseInt(r.getPropertyValue("padding-top"));return[e.clientX-s.left-i,e.clientY-s.top-a]}function Qne(t,e,n,s,r,i,a,c,u){if(!i)return;let h=pN(t,e,n);if(h)return h[0]=Math.ceil((h[0]+(u?a/2:0))/a),h[1]=Math.ceil(h[1]/c),h[0]=Math.min(Math.max(h[0],1),s+(u?1:0)),h[1]=Math.min(Math.max(h[1],1),r),h}var Wk=class{constructor(t,e){this._renderService=t,this._charSizeService=e}getCoords(t,e,n,s,r){return Qne(window,t,e,n,s,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,r)}getMouseReportCoords(t,e){let n=pN(window,t,e);if(this._charSizeService.hasValidSize)return n[0]=Math.min(Math.max(n[0],0),this._renderService.dimensions.css.canvas.width-1),n[1]=Math.min(Math.max(n[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(n[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(n[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(n[0]),y:Math.floor(n[1])}}};Wk=xn([Pe(0,$a),Pe(1,vb)],Wk);var ese=class{constructor(t,e){this._renderCallback=t,this._coreBrowserService=e,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(t){return this._refreshCallbacks.push(t),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(t,e,n){this._rowCount=n,t=t!==void 0?t:0,e=e!==void 0?e:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,t):t,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,e):e,!this._animationFrame&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0){this._runRefreshCallbacks();return}let t=Math.max(this._rowStart,0),e=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(t,e),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let t of this._refreshCallbacks)t(0);this._refreshCallbacks=[]}},lI={};ute(lI,{getSafariVersion:()=>nse,isChromeOS:()=>dI,isFirefox:()=>cI,isIpad:()=>sse,isIphone:()=>rse,isLegacyEdge:()=>tse,isLinux:()=>mN,isMac:()=>Vy,isNode:()=>bb,isSafari:()=>uI,isWindows:()=>hI});var bb=typeof process<"u"&&"title"in process,Qp=bb?"node":navigator.userAgent,em=bb?"node":navigator.platform,cI=Qp.includes("Firefox"),tse=Qp.includes("Edge"),uI=/^((?!chrome|android).)*safari/i.test(Qp);function nse(){if(!uI)return 0;let t=Qp.match(/Version\/(\d+)/);return t===null||t.length<2?0:parseInt(t[1])}var Vy=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(em),sse=em==="iPad",rse=em==="iPhone",hI=["Windows","Win16","Win32","WinCE"].includes(em),mN=em.indexOf("Linux")>=0,dI=/\bCrOS\b/.test(Qp),fI=class{constructor(){this._tasks=[],this._i=0}enqueue(t){this._tasks.push(t),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(t){this._idleCallback=void 0;let e=0,n=0,s=t.timeRemaining(),r=0;for(;this._i<this._tasks.length;){if(e=performance.now(),this._tasks[this._i]()||this._i++,e=Math.max(1,performance.now()-e),n=Math.max(e,n),r=t.timeRemaining(),n*1.5>r){s-e<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(s-e))}ms`),this._start();return}s=r}this.clear()}},ise=class extends fI{_requestCallback(t){return setTimeout(()=>t(this._createDeadline(16)))}_cancelCallback(t){clearTimeout(t)}_createDeadline(t){let e=performance.now()+t;return{timeRemaining:()=>Math.max(0,e-performance.now())}}},ase=class extends fI{_requestCallback(t){return requestIdleCallback(t)}_cancelCallback(t){cancelIdleCallback(t)}},qy=!bb&&"requestIdleCallback"in window?ase:ise,ose=class{constructor(){this._queue=new qy}set(t){this._queue.clear(),this._queue.enqueue(t)}flush(){this._queue.flush()}},Gk=class extends kt{constructor(t,e,n,s,r,i,a,c,u){super(),this._rowCount=t,this._optionsService=n,this._charSizeService=s,this._coreService=r,this._coreBrowserService=c,this._renderer=this._register(new th),this._pausedResizeTask=new ose,this._observerDisposable=this._register(new th),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this._register(new Te),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this._register(new Te),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this._register(new Te),this.onRender=this._onRender.event,this._onRefreshRequest=this._register(new Te),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new ese((h,m)=>this._renderRows(h,m),this._coreBrowserService),this._register(this._renderDebouncer),this._syncOutputHandler=new lse(this._coreBrowserService,this._coreService,()=>this._fullRefresh()),this._register(hn(()=>this._syncOutputHandler.dispose())),this._register(this._coreBrowserService.onDprChange(()=>this.handleDevicePixelRatioChange())),this._register(a.onResize(()=>this._fullRefresh())),this._register(a.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this._register(i.onDecorationRegistered(()=>this._fullRefresh())),this._register(i.onDecorationRemoved(()=>this._fullRefresh())),this._register(this._optionsService.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(a.cols,a.rows),this._fullRefresh()})),this._register(this._optionsService.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(a.buffer.y,a.buffer.y,!0))),this._register(u.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(this._coreBrowserService.window,e),this._register(this._coreBrowserService.onWindowChange(h=>this._registerIntersectionObserver(h,e)))}get dimensions(){return this._renderer.value.dimensions}_registerIntersectionObserver(t,e){if("IntersectionObserver"in t){let n=new t.IntersectionObserver(s=>this._handleIntersectionChange(s[s.length-1]),{threshold:0});n.observe(e),this._observerDisposable.value=hn(()=>n.disconnect())}}_handleIntersectionChange(t){this._isPaused=t.isIntersecting===void 0?t.intersectionRatio===0:!t.isIntersecting,!this._isPaused&&!this._charSizeService.hasValidSize&&this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(t,e,n=!1){if(this._isPaused){this._needsFullRefresh=!0;return}if(this._coreService.decPrivateModes.synchronizedOutput){this._syncOutputHandler.bufferRows(t,e);return}let s=this._syncOutputHandler.flush();s&&(t=Math.min(t,s.start),e=Math.max(e,s.end)),n||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(t,e,this._rowCount)}_renderRows(t,e){if(this._renderer.value){if(this._coreService.decPrivateModes.synchronizedOutput){this._syncOutputHandler.bufferRows(t,e);return}t=Math.min(t,this._rowCount-1),e=Math.min(e,this._rowCount-1),this._renderer.value.renderRows(t,e),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:t,end:e}),this._onRender.fire({start:t,end:e}),this._isNextRenderRedrawOnly=!0}}resize(t,e){this._rowCount=e,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(t){this._renderer.value=t,this._renderer.value&&(this._renderer.value.onRequestRedraw(e=>this.refreshRows(e.start,e.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(t){return this._renderDebouncer.addRefreshCallback(t)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(t,e){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(t,e)):this._renderer.value.handleResize(t,e),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(t,e,n){this._selectionState.start=t,this._selectionState.end=e,this._selectionState.columnSelectMode=n,this._renderer.value?.handleSelectionChanged(t,e,n)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};Gk=xn([Pe(2,zs),Pe(3,vb),Pe(4,fc),Pe(5,Jp),Pe(6,$s),Pe(7,Pa),Pe(8,kh)],Gk);var lse=class{constructor(t,e,n){this._coreBrowserService=t,this._coreService=e,this._onTimeout=n,this._start=0,this._end=0,this._isBuffering=!1}bufferRows(t,e){this._isBuffering?(this._start=Math.min(this._start,t),this._end=Math.max(this._end,e)):(this._start=t,this._end=e,this._isBuffering=!0),this._timeout===void 0&&(this._timeout=this._coreBrowserService.window.setTimeout(()=>{this._timeout=void 0,this._coreService.decPrivateModes.synchronizedOutput=!1,this._onTimeout()},1e3))}flush(){if(this._timeout!==void 0&&(this._coreBrowserService.window.clearTimeout(this._timeout),this._timeout=void 0),!this._isBuffering)return;let t={start:this._start,end:this._end};return this._isBuffering=!1,t}dispose(){this._timeout!==void 0&&(this._coreBrowserService.window.clearTimeout(this._timeout),this._timeout=void 0)}};function cse(t,e,n,s){let r=n.buffer.x,i=n.buffer.y;if(!n.buffer.hasScrollback)return dse(r,i,t,e,n,s)+_b(i,e,n,s)+fse(r,i,t,e,n,s);let a;if(i===e)return a=r>t?"D":"C",xp(Math.abs(r-t),_p(a,s));a=i>e?"D":"C";let c=Math.abs(i-e),u=hse(i>e?t:r,n)+(c-1)*n.cols+1+use(i>e?r:t);return xp(u,_p(a,s))}function use(t,e){return t-1}function hse(t,e){return e.cols-t}function dse(t,e,n,s,r,i){return _b(e,s,r,i).length===0?"":xp(mI(t,e,t,e-nc(e,r),!1,r).length,_p("D",i))}function _b(t,e,n,s){let r=t-nc(t,n),i=e-nc(e,n),a=Math.abs(r-i)-pse(t,e,n);return xp(a,_p(pI(t,e),s))}function fse(t,e,n,s,r,i){let a;_b(e,s,r,i).length>0?a=s-nc(s,r):a=e;let c=s,u=mse(t,e,n,s,r,i);return xp(mI(t,a,n,c,u==="C",r).length,_p(u,i))}function pse(t,e,n){let s=0,r=t-nc(t,n),i=e-nc(e,n);for(let a=0;a<Math.abs(r-i);a++){let c=pI(t,e)==="A"?-1:1;n.buffer.lines.get(r+c*a)?.isWrapped&&s++}return s}function nc(t,e){let n=0,s=e.buffer.lines.get(t),r=s?.isWrapped;for(;r&&t>=0&&t<e.rows;)n++,s=e.buffer.lines.get(--t),r=s?.isWrapped;return n}function mse(t,e,n,s,r,i){let a;return _b(n,s,r,i).length>0?a=s-nc(s,r):a=e,t<n&&a<=s||t>=n&&a<s?"C":"D"}function pI(t,e){return t>e?"A":"B"}function mI(t,e,n,s,r,i){let a=t,c=e,u="";for(;(a!==n||c!==s)&&c>=0&&c<i.buffer.lines.length;)a+=r?1:-1,r&&a>i.cols-1?(u+=i.buffer.translateBufferLineToString(c,!1,t,a),a=0,t=0,c++):!r&&a<0&&(u+=i.buffer.translateBufferLineToString(c,!1,0,t+1),a=i.cols-1,t=a,c--);return u+i.buffer.translateBufferLineToString(c,!1,t,a)}function _p(t,e){let n=e?"O":"[";return be.ESC+n+t}function xp(t,e){t=Math.floor(t);let n="";for(let s=0;s<t;s++)n+=e;return n}var gse=class{constructor(t){this._bufferService=t,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:!this.selectionEnd||!this.selectionStart?this.selectionStart:this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){let t=this.selectionStart[0]+this.selectionStartLength;return t>this._bufferService.cols?t%this._bufferService.cols===0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(t/this._bufferService.cols)-1]:[t%this._bufferService.cols,this.selectionStart[1]+Math.floor(t/this._bufferService.cols)]:[t,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){let t=this.selectionStart[0]+this.selectionStartLength;return t>this._bufferService.cols?[t%this._bufferService.cols,this.selectionStart[1]+Math.floor(t/this._bufferService.cols)]:[Math.max(t,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){let t=this.selectionStart,e=this.selectionEnd;return!t||!e?!1:t[1]>e[1]||t[1]===e[1]&&t[0]>e[0]}handleTrim(t){return this.selectionStart&&(this.selectionStart[1]-=t),this.selectionEnd&&(this.selectionEnd[1]-=t),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}};function YR(t,e){if(t.start.y>t.end.y)throw new Error(`Buffer range end (${t.end.x}, ${t.end.y}) cannot be before start (${t.start.x}, ${t.start.y})`);return e*(t.end.y-t.start.y)+(t.end.x-t.start.x+1)}var Zx=50,yse=15,vse=50,bse=500,_se="",xse=new RegExp(_se,"g"),Yk=class extends kt{constructor(t,e,n,s,r,i,a,c,u){super(),this._element=t,this._screenElement=e,this._linkifier=n,this._bufferService=s,this._coreService=r,this._mouseService=i,this._optionsService=a,this._renderService=c,this._coreBrowserService=u,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new Jr,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this._register(new Te),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this._register(new Te),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this._register(new Te),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this._register(new Te),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=h=>this._handleMouseMove(h),this._mouseUpListener=h=>this._handleMouseUp(h),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(h=>this._handleTrim(h)),this._register(this._bufferService.buffers.onBufferActivate(h=>this._handleBufferActivate(h))),this.enable(),this._model=new gse(this._bufferService),this._activeSelectionMode=0,this._register(hn(()=>{this._removeMouseDownListeners()})),this._register(this._bufferService.onResize(h=>{h.rowsChanged&&this.clearSelection()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){let t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;return!t||!e?!1:t[0]!==e[0]||t[1]!==e[1]}get selectionText(){let t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;if(!t||!e)return"";let n=this._bufferService.buffer,s=[];if(this._activeSelectionMode===3){if(t[0]===e[0])return"";let r=t[0]<e[0]?t[0]:e[0],i=t[0]<e[0]?e[0]:t[0];for(let a=t[1];a<=e[1];a++){let c=n.translateBufferLineToString(a,!0,r,i);s.push(c)}}else{let r=t[1]===e[1]?e[0]:void 0;s.push(n.translateBufferLineToString(t[1],!0,t[0],r));for(let i=t[1]+1;i<=e[1]-1;i++){let a=n.lines.get(i),c=n.translateBufferLineToString(i,!0);a?.isWrapped?s[s.length-1]+=c:s.push(c)}if(t[1]!==e[1]){let i=n.lines.get(e[1]),a=n.translateBufferLineToString(e[1],!0,0,e[0]);i&&i.isWrapped?s[s.length-1]+=a:s.push(a)}}return s.map(r=>r.replace(xse," ")).join(hI?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(t){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),mN&&t&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(t){let e=this._getMouseBufferCoords(t),n=this._model.finalSelectionStart,s=this._model.finalSelectionEnd;return!n||!s||!e?!1:this._areCoordsInSelection(e,n,s)}isCellInSelection(t,e){let n=this._model.finalSelectionStart,s=this._model.finalSelectionEnd;return!n||!s?!1:this._areCoordsInSelection([t,e],n,s)}_areCoordsInSelection(t,e,n){return t[1]>e[1]&&t[1]<n[1]||e[1]===n[1]&&t[1]===e[1]&&t[0]>=e[0]&&t[0]<n[0]||e[1]<n[1]&&t[1]===n[1]&&t[0]<n[0]||e[1]<n[1]&&t[1]===e[1]&&t[0]>=e[0]}_selectWordAtCursor(t,e){let n=this._linkifier.currentLink?.link?.range;if(n)return this._model.selectionStart=[n.start.x-1,n.start.y-1],this._model.selectionStartLength=YR(n,this._bufferService.cols),this._model.selectionEnd=void 0,!0;let s=this._getMouseBufferCoords(t);return s?(this._selectWordAt(s,e),this._model.selectionEnd=void 0,!0):!1}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(t,e){this._model.clearSelection(),t=Math.max(t,0),e=Math.min(e,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,t],this._model.selectionEnd=[this._bufferService.cols,e],this.refresh(),this._onSelectionChange.fire()}_handleTrim(t){this._model.handleTrim(t)&&this.refresh()}_getMouseBufferCoords(t){let e=this._mouseService.getCoords(t,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(e)return e[0]--,e[1]--,e[1]+=this._bufferService.buffer.ydisp,e}_getMouseEventScrollAmount(t){let e=pN(this._coreBrowserService.window,t,this._screenElement)[1],n=this._renderService.dimensions.css.canvas.height;return e>=0&&e<=n?0:(e>n&&(e-=n),e=Math.min(Math.max(e,-Zx),Zx),e/=Zx,e/Math.abs(e)+Math.round(e*(yse-1)))}shouldForceSelection(t){return Vy?t.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:t.shiftKey}handleMouseDown(t){if(this._mouseDownTimeStamp=t.timeStamp,!(t.button===2&&this.hasSelection)&&t.button===0){if(!this._enabled){if(!this.shouldForceSelection(t))return;t.stopPropagation()}t.preventDefault(),this._dragScrollAmount=0,this._enabled&&t.shiftKey?this._handleIncrementalClick(t):t.detail===1?this._handleSingleClick(t):t.detail===2?this._handleDoubleClick(t):t.detail===3&&this._handleTripleClick(t),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),vse)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(t){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(t))}_handleSingleClick(t){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(t)?3:0,this._model.selectionStart=this._getMouseBufferCoords(t),!this._model.selectionStart)return;this._model.selectionEnd=void 0;let e=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);e&&e.length!==this._model.selectionStart[0]&&e.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(t){this._selectWordAtCursor(t,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(t){let e=this._getMouseBufferCoords(t);e&&(this._activeSelectionMode=2,this._selectLineAt(e[1]))}shouldColumnSelect(t){return t.altKey&&!(Vy&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(t){if(t.stopImmediatePropagation(),!this._model.selectionStart)return;let e=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(t),!this._model.selectionEnd){this.refresh(!0);return}this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(t),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));let n=this._bufferService.buffer;if(this._model.selectionEnd[1]<n.lines.length){let s=n.lines.get(this._model.selectionEnd[1]);s&&s.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}(!e||e[0]!==this._model.selectionEnd[0]||e[1]!==this._model.selectionEnd[1])&&this.refresh(!0)}_dragScroll(){if(!(!this._model.selectionEnd||!this._model.selectionStart)&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});let t=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(t.ydisp+this._bufferService.rows,t.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=t.ydisp),this.refresh()}}_handleMouseUp(t){let e=t.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&e<bse&&t.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){let n=this._mouseService.getCoords(t,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(n&&n[0]!==void 0&&n[1]!==void 0){let s=cse(n[0]-1,n[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(s,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){let t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd,n=!!t&&!!e&&(t[0]!==e[0]||t[1]!==e[1]);if(!n){this._oldHasSelection&&this._fireOnSelectionChange(t,e,n);return}!t||!e||(!this._oldSelectionStart||!this._oldSelectionEnd||t[0]!==this._oldSelectionStart[0]||t[1]!==this._oldSelectionStart[1]||e[0]!==this._oldSelectionEnd[0]||e[1]!==this._oldSelectionEnd[1])&&this._fireOnSelectionChange(t,e,n)}_fireOnSelectionChange(t,e,n){this._oldSelectionStart=t,this._oldSelectionEnd=e,this._oldHasSelection=n,this._onSelectionChange.fire()}_handleBufferActivate(t){this.clearSelection(),this._trimListener.dispose(),this._trimListener=t.activeBuffer.lines.onTrim(e=>this._handleTrim(e))}_convertViewportColToCharacterIndex(t,e){let n=e;for(let s=0;e>=s;s++){let r=t.loadCell(s,this._workCell).getChars().length;this._workCell.getWidth()===0?n--:r>1&&e!==s&&(n+=r-1)}return n}setSelection(t,e,n){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[t,e],this._model.selectionStartLength=n,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(t){this._isClickInSelection(t)||(this._selectWordAtCursor(t,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(t,e,n=!0,s=!0){if(t[0]>=this._bufferService.cols)return;let r=this._bufferService.buffer,i=r.lines.get(t[1]);if(!i)return;let a=r.translateBufferLineToString(t[1],!1),c=this._convertViewportColToCharacterIndex(i,t[0]),u=c,h=t[0]-c,m=0,p=0,y=0,v=0;if(a.charAt(c)===" "){for(;c>0&&a.charAt(c-1)===" ";)c--;for(;u<a.length&&a.charAt(u+1)===" ";)u++}else{let S=t[0],k=t[0];i.getWidth(S)===0&&(m++,S--),i.getWidth(k)===2&&(p++,k++);let C=i.getString(k).length;for(C>1&&(v+=C-1,u+=C-1);S>0&&c>0&&!this._isCharWordSeparator(i.loadCell(S-1,this._workCell));){i.loadCell(S-1,this._workCell);let N=this._workCell.getChars().length;this._workCell.getWidth()===0?(m++,S--):N>1&&(y+=N-1,c-=N-1),c--,S--}for(;k<i.length&&u+1<a.length&&!this._isCharWordSeparator(i.loadCell(k+1,this._workCell));){i.loadCell(k+1,this._workCell);let N=this._workCell.getChars().length;this._workCell.getWidth()===2?(p++,k++):N>1&&(v+=N-1,u+=N-1),u++,k++}}u++;let b=c+h-m+y,x=Math.min(this._bufferService.cols,u-c+m+p-y-v);if(!(!e&&a.slice(c,u).trim()==="")){if(n&&b===0&&i.getCodePoint(0)!==32){let S=r.lines.get(t[1]-1);if(S&&i.isWrapped&&S.getCodePoint(this._bufferService.cols-1)!==32){let k=this._getWordAt([this._bufferService.cols-1,t[1]-1],!1,!0,!1);if(k){let C=this._bufferService.cols-k.start;b-=C,x+=C}}}if(s&&b+x===this._bufferService.cols&&i.getCodePoint(this._bufferService.cols-1)!==32){let S=r.lines.get(t[1]+1);if(S?.isWrapped&&S.getCodePoint(0)!==32){let k=this._getWordAt([0,t[1]+1],!1,!1,!0);k&&(x+=k.length)}}return{start:b,length:x}}}_selectWordAt(t,e){let n=this._getWordAt(t,e);if(n){for(;n.start<0;)n.start+=this._bufferService.cols,t[1]--;this._model.selectionStart=[n.start,t[1]],this._model.selectionStartLength=n.length}}_selectToWordAt(t){let e=this._getWordAt(t,!0);if(e){let n=t[1];for(;e.start<0;)e.start+=this._bufferService.cols,n--;if(!this._model.areSelectionValuesReversed())for(;e.start+e.length>this._bufferService.cols;)e.length-=this._bufferService.cols,n++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?e.start:e.start+e.length,n]}}_isCharWordSeparator(t){return t.getWidth()===0?!1:this._optionsService.rawOptions.wordSeparator.indexOf(t.getChars())>=0}_selectLineAt(t){let e=this._bufferService.buffer.getWrappedRangeForLine(t),n={start:{x:0,y:e.first},end:{x:this._bufferService.cols-1,y:e.last}};this._model.selectionStart=[0,e.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=YR(n,this._bufferService.cols)}};Yk=xn([Pe(3,$s),Pe(4,fc),Pe(5,oN),Pe(6,zs),Pe(7,$a),Pe(8,Pa)],Yk);var ZR=class{constructor(){this._data={}}set(t,e,n){this._data[t]||(this._data[t]={}),this._data[t][e]=n}get(t,e){return this._data[t]?this._data[t][e]:void 0}clear(){this._data={}}},XR=class{constructor(){this._color=new ZR,this._css=new ZR}setCss(t,e,n){this._css.set(t,e,n)}getCss(t,e){return this._css.get(t,e)}setColor(t,e,n){this._color.set(t,e,n)}getColor(t,e){return this._color.get(t,e)}clear(){this._color.clear(),this._css.clear()}},$n=Object.freeze((()=>{let t=[gn.toColor("#2e3436"),gn.toColor("#cc0000"),gn.toColor("#4e9a06"),gn.toColor("#c4a000"),gn.toColor("#3465a4"),gn.toColor("#75507b"),gn.toColor("#06989a"),gn.toColor("#d3d7cf"),gn.toColor("#555753"),gn.toColor("#ef2929"),gn.toColor("#8ae234"),gn.toColor("#fce94f"),gn.toColor("#729fcf"),gn.toColor("#ad7fa8"),gn.toColor("#34e2e2"),gn.toColor("#eeeeec")],e=[0,95,135,175,215,255];for(let n=0;n<216;n++){let s=e[n/36%6|0],r=e[n/6%6|0],i=e[n%6];t.push({css:Bn.toCss(s,r,i),rgba:Bn.toRgba(s,r,i)})}for(let n=0;n<24;n++){let s=8+n*10;t.push({css:Bn.toCss(s,s,s),rgba:Bn.toRgba(s,s,s)})}return t})()),pl=gn.toColor("#ffffff"),mf=gn.toColor("#000000"),JR=gn.toColor("#ffffff"),QR=mf,Dd={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117},wse=pl,Zk=class extends kt{constructor(t){super(),this._optionsService=t,this._contrastCache=new XR,this._halfContrastCache=new XR,this._onChangeColors=this._register(new Te),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:pl,background:mf,cursor:JR,cursorAccent:QR,selectionForeground:void 0,selectionBackgroundTransparent:Dd,selectionBackgroundOpaque:sn.blend(mf,Dd),selectionInactiveBackgroundTransparent:Dd,selectionInactiveBackgroundOpaque:sn.blend(mf,Dd),scrollbarSliderBackground:sn.opacity(pl,.2),scrollbarSliderHoverBackground:sn.opacity(pl,.4),scrollbarSliderActiveBackground:sn.opacity(pl,.5),overviewRulerBorder:pl,ansi:$n.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this._register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this._register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(t={}){let e=this._colors;if(e.foreground=Yt(t.foreground,pl),e.background=Yt(t.background,mf),e.cursor=sn.blend(e.background,Yt(t.cursor,JR)),e.cursorAccent=sn.blend(e.background,Yt(t.cursorAccent,QR)),e.selectionBackgroundTransparent=Yt(t.selectionBackground,Dd),e.selectionBackgroundOpaque=sn.blend(e.background,e.selectionBackgroundTransparent),e.selectionInactiveBackgroundTransparent=Yt(t.selectionInactiveBackground,e.selectionBackgroundTransparent),e.selectionInactiveBackgroundOpaque=sn.blend(e.background,e.selectionInactiveBackgroundTransparent),e.selectionForeground=t.selectionForeground?Yt(t.selectionForeground,KR):void 0,e.selectionForeground===KR&&(e.selectionForeground=void 0),sn.isOpaque(e.selectionBackgroundTransparent)&&(e.selectionBackgroundTransparent=sn.opacity(e.selectionBackgroundTransparent,.3)),sn.isOpaque(e.selectionInactiveBackgroundTransparent)&&(e.selectionInactiveBackgroundTransparent=sn.opacity(e.selectionInactiveBackgroundTransparent,.3)),e.scrollbarSliderBackground=Yt(t.scrollbarSliderBackground,sn.opacity(e.foreground,.2)),e.scrollbarSliderHoverBackground=Yt(t.scrollbarSliderHoverBackground,sn.opacity(e.foreground,.4)),e.scrollbarSliderActiveBackground=Yt(t.scrollbarSliderActiveBackground,sn.opacity(e.foreground,.5)),e.overviewRulerBorder=Yt(t.overviewRulerBorder,wse),e.ansi=$n.slice(),e.ansi[0]=Yt(t.black,$n[0]),e.ansi[1]=Yt(t.red,$n[1]),e.ansi[2]=Yt(t.green,$n[2]),e.ansi[3]=Yt(t.yellow,$n[3]),e.ansi[4]=Yt(t.blue,$n[4]),e.ansi[5]=Yt(t.magenta,$n[5]),e.ansi[6]=Yt(t.cyan,$n[6]),e.ansi[7]=Yt(t.white,$n[7]),e.ansi[8]=Yt(t.brightBlack,$n[8]),e.ansi[9]=Yt(t.brightRed,$n[9]),e.ansi[10]=Yt(t.brightGreen,$n[10]),e.ansi[11]=Yt(t.brightYellow,$n[11]),e.ansi[12]=Yt(t.brightBlue,$n[12]),e.ansi[13]=Yt(t.brightMagenta,$n[13]),e.ansi[14]=Yt(t.brightCyan,$n[14]),e.ansi[15]=Yt(t.brightWhite,$n[15]),t.extendedAnsi){let n=Math.min(e.ansi.length-16,t.extendedAnsi.length);for(let s=0;s<n;s++)e.ansi[s+16]=Yt(t.extendedAnsi[s],$n[s+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(t){this._restoreColor(t),this._onChangeColors.fire(this.colors)}_restoreColor(t){if(t===void 0){for(let e=0;e<this._restoreColors.ansi.length;++e)this._colors.ansi[e]=this._restoreColors.ansi[e];return}switch(t){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[t]=this._restoreColors.ansi[t]}}modifyColors(t){t(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};Zk=xn([Pe(0,zs)],Zk);function Yt(t,e){if(t!==void 0)try{return gn.toColor(t)}catch{}return e}var Sse=class{constructor(...t){this._entries=new Map;for(let[e,n]of t)this.set(e,n)}set(t,e){let n=this._entries.get(t);return this._entries.set(t,e),n}forEach(t){for(let[e,n]of this._entries.entries())t(e,n)}has(t){return this._entries.has(t)}get(t){return this._entries.get(t)}},kse=class{constructor(){this._services=new Sse,this._services.set(aN,this)}setService(t,e){this._services.set(t,e)}getService(t){return this._services.get(t)}createInstance(t,...e){let n=yte(t).sort((i,a)=>i.index-a.index),s=[];for(let i of n){let a=this._services.get(i.id);if(!a)throw new Error(`[createInstance] ${t.name} depends on UNKNOWN service ${i.id._id}.`);s.push(a)}let r=n.length>0?n[0].index:e.length;if(e.length!==r)throw new Error(`[createInstance] First service dependency of ${t.name} at position ${r+1} conflicts with ${e.length} static arguments`);return new t(...e,...s)}},Cse={trace:0,debug:1,info:2,warn:3,error:4,off:5},Nse="xterm.js: ",Xk=class extends kt{constructor(t){super(),this._optionsService=t,this._logLevel=5,this._updateLogLevel(),this._register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}get logLevel(){return this._logLevel}_updateLogLevel(){this._logLevel=Cse[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(t){for(let e=0;e<t.length;e++)typeof t[e]=="function"&&(t[e]=t[e]())}_log(t,e,n){this._evalLazyOptionalParams(n),t.call(console,(this._optionsService.options.logger?"":Nse)+e,...n)}trace(t,...e){this._logLevel<=0&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,t,e)}debug(t,...e){this._logLevel<=1&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,t,e)}info(t,...e){this._logLevel<=2&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,t,e)}warn(t,...e){this._logLevel<=3&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,t,e)}error(t,...e){this._logLevel<=4&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,t,e)}};Xk=xn([Pe(0,zs)],Xk);var eO=class extends kt{constructor(t){super(),this._maxLength=t,this.onDeleteEmitter=this._register(new Te),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this._register(new Te),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this._register(new Te),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(t){if(this._maxLength===t)return;let e=new Array(t);for(let n=0;n<Math.min(t,this.length);n++)e[n]=this._array[this._getCyclicIndex(n)];this._array=e,this._maxLength=t,this._startIndex=0}get length(){return this._length}set length(t){if(t>this._length)for(let e=this._length;e<t;e++)this._array[e]=void 0;this._length=t}get(t){return this._array[this._getCyclicIndex(t)]}set(t,e){this._array[this._getCyclicIndex(t)]=e}push(t){this._array[this._getCyclicIndex(this._length)]=t,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(t,e,...n){if(e){for(let s=t;s<this._length-e;s++)this._array[this._getCyclicIndex(s)]=this._array[this._getCyclicIndex(s+e)];this._length-=e,this.onDeleteEmitter.fire({index:t,amount:e})}for(let s=this._length-1;s>=t;s--)this._array[this._getCyclicIndex(s+n.length)]=this._array[this._getCyclicIndex(s)];for(let s=0;s<n.length;s++)this._array[this._getCyclicIndex(t+s)]=n[s];if(n.length&&this.onInsertEmitter.fire({index:t,amount:n.length}),this._length+n.length>this._maxLength){let s=this._length+n.length-this._maxLength;this._startIndex+=s,this._length=this._maxLength,this.onTrimEmitter.fire(s)}else this._length+=n.length}trimStart(t){t>this._length&&(t=this._length),this._startIndex+=t,this._length-=t,this.onTrimEmitter.fire(t)}shiftElements(t,e,n){if(!(e<=0)){if(t<0||t>=this._length)throw new Error("start argument out of range");if(t+n<0)throw new Error("Cannot shift elements in list beyond index 0");if(n>0){for(let r=e-1;r>=0;r--)this.set(t+r+n,this.get(t+r));let s=t+e+n-this._length;if(s>0)for(this._length+=s;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let s=0;s<e;s++)this.set(t+s+n,this.get(t+s))}}_getCyclicIndex(t){return(this._startIndex+t)%this._maxLength}},St=3,Dn=Object.freeze(new Xp),Gg=0,Xx=2,gf=class gI{constructor(e,n,s=!1){this.isWrapped=s,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(e*St);let r=n||Jr.fromCharData([0,BL,1,0]);for(let i=0;i<e;++i)this.setCell(i,r);this.length=e}get(e){let n=this._data[e*St+0],s=n&2097151;return[this._data[e*St+1],n&2097152?this._combined[e]:s?bo(s):"",n>>22,n&2097152?this._combined[e].charCodeAt(this._combined[e].length-1):s]}set(e,n){this._data[e*St+1]=n[0],n[1].length>1?(this._combined[e]=n[1],this._data[e*St+0]=e|2097152|n[2]<<22):this._data[e*St+0]=n[1].charCodeAt(0)|n[2]<<22}getWidth(e){return this._data[e*St+0]>>22}hasWidth(e){return this._data[e*St+0]&12582912}getFg(e){return this._data[e*St+1]}getBg(e){return this._data[e*St+2]}hasContent(e){return this._data[e*St+0]&4194303}getCodePoint(e){let n=this._data[e*St+0];return n&2097152?this._combined[e].charCodeAt(this._combined[e].length-1):n&2097151}isCombined(e){return this._data[e*St+0]&2097152}getString(e){let n=this._data[e*St+0];return n&2097152?this._combined[e]:n&2097151?bo(n&2097151):""}isProtected(e){return this._data[e*St+2]&536870912}loadCell(e,n){return Gg=e*St,n.content=this._data[Gg+0],n.fg=this._data[Gg+1],n.bg=this._data[Gg+2],n.content&2097152&&(n.combinedData=this._combined[e]),n.bg&268435456&&(n.extended=this._extendedAttrs[e]),n}setCell(e,n){n.content&2097152&&(this._combined[e]=n.combinedData),n.bg&268435456&&(this._extendedAttrs[e]=n.extended),this._data[e*St+0]=n.content,this._data[e*St+1]=n.fg,this._data[e*St+2]=n.bg}setCellFromCodepoint(e,n,s,r){r.bg&268435456&&(this._extendedAttrs[e]=r.extended),this._data[e*St+0]=n|s<<22,this._data[e*St+1]=r.fg,this._data[e*St+2]=r.bg}addCodepointToCell(e,n,s){let r=this._data[e*St+0];r&2097152?this._combined[e]+=bo(n):r&2097151?(this._combined[e]=bo(r&2097151)+bo(n),r&=-2097152,r|=2097152):r=n|1<<22,s&&(r&=-12582913,r|=s<<22),this._data[e*St+0]=r}insertCells(e,n,s){if(e%=this.length,e&&this.getWidth(e-1)===2&&this.setCellFromCodepoint(e-1,0,1,s),n<this.length-e){let r=new Jr;for(let i=this.length-e-n-1;i>=0;--i)this.setCell(e+n+i,this.loadCell(e+i,r));for(let i=0;i<n;++i)this.setCell(e+i,s)}else for(let r=e;r<this.length;++r)this.setCell(r,s);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,s)}deleteCells(e,n,s){if(e%=this.length,n<this.length-e){let r=new Jr;for(let i=0;i<this.length-e-n;++i)this.setCell(e+i,this.loadCell(e+n+i,r));for(let i=this.length-n;i<this.length;++i)this.setCell(i,s)}else for(let r=e;r<this.length;++r)this.setCell(r,s);e&&this.getWidth(e-1)===2&&this.setCellFromCodepoint(e-1,0,1,s),this.getWidth(e)===0&&!this.hasContent(e)&&this.setCellFromCodepoint(e,0,1,s)}replaceCells(e,n,s,r=!1){if(r){for(e&&this.getWidth(e-1)===2&&!this.isProtected(e-1)&&this.setCellFromCodepoint(e-1,0,1,s),n<this.length&&this.getWidth(n-1)===2&&!this.isProtected(n)&&this.setCellFromCodepoint(n,0,1,s);e<n&&e<this.length;)this.isProtected(e)||this.setCell(e,s),e++;return}for(e&&this.getWidth(e-1)===2&&this.setCellFromCodepoint(e-1,0,1,s),n<this.length&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n,0,1,s);e<n&&e<this.length;)this.setCell(e++,s)}resize(e,n){if(e===this.length)return this._data.length*4*Xx<this._data.buffer.byteLength;let s=e*St;if(e>this.length){if(this._data.buffer.byteLength>=s*4)this._data=new Uint32Array(this._data.buffer,0,s);else{let r=new Uint32Array(s);r.set(this._data),this._data=r}for(let r=this.length;r<e;++r)this.setCell(r,n)}else{this._data=this._data.subarray(0,s);let r=Object.keys(this._combined);for(let a=0;a<r.length;a++){let c=parseInt(r[a],10);c>=e&&delete this._combined[c]}let i=Object.keys(this._extendedAttrs);for(let a=0;a<i.length;a++){let c=parseInt(i[a],10);c>=e&&delete this._extendedAttrs[c]}}return this.length=e,s*4*Xx<this._data.buffer.byteLength}cleanupMemory(){if(this._data.length*4*Xx<this._data.buffer.byteLength){let e=new Uint32Array(this._data.length);return e.set(this._data),this._data=e,1}return 0}fill(e,n=!1){if(n){for(let s=0;s<this.length;++s)this.isProtected(s)||this.setCell(s,e);return}this._combined={},this._extendedAttrs={};for(let s=0;s<this.length;++s)this.setCell(s,e)}copyFrom(e){this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={};for(let n in e._combined)this._combined[n]=e._combined[n];this._extendedAttrs={};for(let n in e._extendedAttrs)this._extendedAttrs[n]=e._extendedAttrs[n];this.isWrapped=e.isWrapped}clone(){let e=new gI(0);e._data=new Uint32Array(this._data),e.length=this.length;for(let n in this._combined)e._combined[n]=this._combined[n];for(let n in this._extendedAttrs)e._extendedAttrs[n]=this._extendedAttrs[n];return e.isWrapped=this.isWrapped,e}getTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(this._data[e*St+0]&4194303)return e+(this._data[e*St+0]>>22);return 0}getNoBgTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(this._data[e*St+0]&4194303||this._data[e*St+2]&50331648)return e+(this._data[e*St+0]>>22);return 0}copyCellsFrom(e,n,s,r,i){let a=e._data;if(i)for(let u=r-1;u>=0;u--){for(let h=0;h<St;h++)this._data[(s+u)*St+h]=a[(n+u)*St+h];a[(n+u)*St+2]&268435456&&(this._extendedAttrs[s+u]=e._extendedAttrs[n+u])}else for(let u=0;u<r;u++){for(let h=0;h<St;h++)this._data[(s+u)*St+h]=a[(n+u)*St+h];a[(n+u)*St+2]&268435456&&(this._extendedAttrs[s+u]=e._extendedAttrs[n+u])}let c=Object.keys(e._combined);for(let u=0;u<c.length;u++){let h=parseInt(c[u],10);h>=n&&(this._combined[h-n+s]=e._combined[h])}}translateToString(e,n,s,r){n=n??0,s=s??this.length,e&&(s=Math.min(s,this.getTrimmedLength())),r&&(r.length=0);let i="";for(;n<s;){let a=this._data[n*St+0],c=a&2097151,u=a&2097152?this._combined[n]:c?bo(c):No;if(i+=u,r)for(let h=0;h<u.length;++h)r.push(n);n+=a>>22||1}return r&&r.push(n),i}};function Ese(t,e,n,s,r,i){let a=[];for(let c=0;c<t.length-1;c++){let u=c,h=t.get(++u);if(!h.isWrapped)continue;let m=[t.get(c)];for(;u<t.length&&h.isWrapped;)m.push(h),h=t.get(++u);if(!i&&s>=c&&s<u){c+=m.length-1;continue}let p=0,y=wp(m,p,e),v=1,b=0;for(;v<m.length;){let S=wp(m,v,e),k=S-b,C=n-y,N=Math.min(k,C);m[p].copyCellsFrom(m[v],b,y,N,!1),y+=N,y===n&&(p++,y=0),b+=N,b===S&&(v++,b=0),y===0&&p!==0&&m[p-1].getWidth(n-1)===2&&(m[p].copyCellsFrom(m[p-1],n-1,y++,1,!1),m[p-1].setCell(n-1,r))}m[p].replaceCells(y,n,r);let x=0;for(let S=m.length-1;S>0&&(S>p||m[S].getTrimmedLength()===0);S--)x++;x>0&&(a.push(c+m.length-x),a.push(x)),c+=m.length-1}return a}function Ase(t,e){let n=[],s=0,r=e[s],i=0;for(let a=0;a<t.length;a++)if(r===a){let c=e[++s];t.onDeleteEmitter.fire({index:a-i,amount:c}),a+=c-1,i+=c,r=e[++s]}else n.push(a);return{layout:n,countRemoved:i}}function jse(t,e){let n=[];for(let s=0;s<e.length;s++)n.push(t.get(e[s]));for(let s=0;s<n.length;s++)t.set(s,n[s]);t.length=e.length}function Tse(t,e,n){let s=[],r=t.map((u,h)=>wp(t,h,e)).reduce((u,h)=>u+h),i=0,a=0,c=0;for(;c<r;){if(r-c<n){s.push(r-c);break}i+=n;let u=wp(t,a,e);i>u&&(i-=u,a++);let h=t[a].getWidth(i-1)===2;h&&i--;let m=h?n-1:n;s.push(m),c+=m}return s}function wp(t,e,n){if(e===t.length-1)return t[e].getTrimmedLength();let s=!t[e].hasContent(n-1)&&t[e].getWidth(n-1)===1,r=t[e+1].getWidth(0)===2;return s&&r?n-1:n}var yI=class vI{constructor(e){this.line=e,this.isDisposed=!1,this._disposables=[],this._id=vI._nextId++,this._onDispose=this.register(new Te),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),tc(this._disposables),this._disposables.length=0)}register(e){return this._disposables.push(e),e}};yI._nextId=1;var Rse=yI,qn={},ml=qn.B;qn[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""};qn.A={"#":""};qn.B=void 0;qn[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""};qn.C=qn[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};qn.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};qn.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};qn.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};qn.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""};qn.E=qn[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};qn.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""};qn.H=qn[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};qn["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""};var tO=4294967295,nO=class{constructor(t,e,n){this._hasScrollback=t,this._optionsService=e,this._bufferService=n,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=Dn.clone(),this.savedCharset=ml,this.markers=[],this._nullCell=Jr.fromCharData([0,BL,1,0]),this._whitespaceCell=Jr.fromCharData([0,No,1,32]),this._isClearing=!1,this._memoryCleanupQueue=new qy,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new eO(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(t){return t?(this._nullCell.fg=t.fg,this._nullCell.bg=t.bg,this._nullCell.extended=t.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new Uy),this._nullCell}getWhitespaceCell(t){return t?(this._whitespaceCell.fg=t.fg,this._whitespaceCell.bg=t.bg,this._whitespaceCell.extended=t.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new Uy),this._whitespaceCell}getBlankLine(t,e){return new gf(this._bufferService.cols,this.getNullCell(t),e)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){let t=this.ybase+this.y-this.ydisp;return t>=0&&t<this._rows}_getCorrectBufferLength(t){if(!this._hasScrollback)return t;let e=t+this._optionsService.rawOptions.scrollback;return e>tO?tO:e}fillViewportRows(t){if(this.lines.length===0){t===void 0&&(t=Dn);let e=this._rows;for(;e--;)this.lines.push(this.getBlankLine(t))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new eO(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(t,e){let n=this.getNullCell(Dn),s=0,r=this._getCorrectBufferLength(e);if(r>this.lines.maxLength&&(this.lines.maxLength=r),this.lines.length>0){if(this._cols<t)for(let a=0;a<this.lines.length;a++)s+=+this.lines.get(a).resize(t,n);let i=0;if(this._rows<e)for(let a=this._rows;a<e;a++)this.lines.length<e+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new gf(t,n)):this.ybase>0&&this.lines.length<=this.ybase+this.y+i+1?(this.ybase--,i++,this.ydisp>0&&this.ydisp--):this.lines.push(new gf(t,n)));else for(let a=this._rows;a>e;a--)this.lines.length>e+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(r<this.lines.maxLength){let a=this.lines.length-r;a>0&&(this.lines.trimStart(a),this.ybase=Math.max(this.ybase-a,0),this.ydisp=Math.max(this.ydisp-a,0),this.savedY=Math.max(this.savedY-a,0)),this.lines.maxLength=r}this.x=Math.min(this.x,t-1),this.y=Math.min(this.y,e-1),i&&(this.y+=i),this.savedX=Math.min(this.savedX,t-1),this.scrollTop=0}if(this.scrollBottom=e-1,this._isReflowEnabled&&(this._reflow(t,e),this._cols>t))for(let i=0;i<this.lines.length;i++)s+=+this.lines.get(i).resize(t,n);this._cols=t,this._rows=e,this._memoryCleanupQueue.clear(),s>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let t=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,t=!1);let e=0;for(;this._memoryCleanupPosition<this.lines.length;)if(e+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),e>100)return!0;return t}get _isReflowEnabled(){let t=this._optionsService.rawOptions.windowsPty;return t&&t.buildNumber?this._hasScrollback&&t.backend==="conpty"&&t.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(t,e){this._cols!==t&&(t>this._cols?this._reflowLarger(t,e):this._reflowSmaller(t,e))}_reflowLarger(t,e){let n=this._optionsService.rawOptions.reflowCursorLine,s=Ese(this.lines,this._cols,t,this.ybase+this.y,this.getNullCell(Dn),n);if(s.length>0){let r=Ase(this.lines,s);jse(this.lines,r.layout),this._reflowLargerAdjustViewport(t,e,r.countRemoved)}}_reflowLargerAdjustViewport(t,e,n){let s=this.getNullCell(Dn),r=n;for(;r-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<e&&this.lines.push(new gf(t,s))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-n,0)}_reflowSmaller(t,e){let n=this._optionsService.rawOptions.reflowCursorLine,s=this.getNullCell(Dn),r=[],i=0;for(let a=this.lines.length-1;a>=0;a--){let c=this.lines.get(a);if(!c||!c.isWrapped&&c.getTrimmedLength()<=t)continue;let u=[c];for(;c.isWrapped&&a>0;)c=this.lines.get(--a),u.unshift(c);if(!n){let N=this.ybase+this.y;if(N>=a&&N<a+u.length)continue}let h=u[u.length-1].getTrimmedLength(),m=Tse(u,this._cols,t),p=m.length-u.length,y;this.ybase===0&&this.y!==this.lines.length-1?y=Math.max(0,this.y-this.lines.maxLength+p):y=Math.max(0,this.lines.length-this.lines.maxLength+p);let v=[];for(let N=0;N<p;N++){let R=this.getBlankLine(Dn,!0);v.push(R)}v.length>0&&(r.push({start:a+u.length+i,newLines:v}),i+=v.length),u.push(...v);let b=m.length-1,x=m[b];x===0&&(b--,x=m[b]);let S=u.length-p-1,k=h;for(;S>=0;){let N=Math.min(k,x);if(u[b]===void 0)break;if(u[b].copyCellsFrom(u[S],k-N,x-N,N,!0),x-=N,x===0&&(b--,x=m[b]),k-=N,k===0){S--;let R=Math.max(S,0);k=wp(u,R,this._cols)}}for(let N=0;N<u.length;N++)m[N]<t&&u[N].setCell(m[N],s);let C=p-y;for(;C-- >0;)this.ybase===0?this.y<e-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+i)-e&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+p,this.ybase+e-1)}if(r.length>0){let a=[],c=[];for(let x=0;x<this.lines.length;x++)c.push(this.lines.get(x));let u=this.lines.length,h=u-1,m=0,p=r[m];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+i);let y=0;for(let x=Math.min(this.lines.maxLength-1,u+i-1);x>=0;x--)if(p&&p.start>h+y){for(let S=p.newLines.length-1;S>=0;S--)this.lines.set(x--,p.newLines[S]);x++,a.push({index:h+1,amount:p.newLines.length}),y+=p.newLines.length,p=r[++m]}else this.lines.set(x,c[h--]);let v=0;for(let x=a.length-1;x>=0;x--)a[x].index+=v,this.lines.onInsertEmitter.fire(a[x]),v+=a[x].amount;let b=Math.max(0,u+i-this.lines.maxLength);b>0&&this.lines.onTrimEmitter.fire(b)}}translateBufferLineToString(t,e,n=0,s){let r=this.lines.get(t);return r?r.translateToString(e,n,s):""}getWrappedRangeForLine(t){let e=t,n=t;for(;e>0&&this.lines.get(e).isWrapped;)e--;for(;n+1<this.lines.length&&this.lines.get(n+1).isWrapped;)n++;return{first:e,last:n}}setupTabStops(t){for(t!=null?this.tabs[t]||(t=this.prevStop(t)):(this.tabs={},t=0);t<this._cols;t+=this._optionsService.rawOptions.tabStopWidth)this.tabs[t]=!0}prevStop(t){for(t==null&&(t=this.x);!this.tabs[--t]&&t>0;);return t>=this._cols?this._cols-1:t<0?0:t}nextStop(t){for(t==null&&(t=this.x);!this.tabs[++t]&&t<this._cols;);return t>=this._cols?this._cols-1:t<0?0:t}clearMarkers(t){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].line===t&&(this.markers[e].dispose(),this.markers.splice(e--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].dispose();this.markers.length=0,this._isClearing=!1}addMarker(t){let e=new Rse(t);return this.markers.push(e),e.register(this.lines.onTrim(n=>{e.line-=n,e.line<0&&e.dispose()})),e.register(this.lines.onInsert(n=>{e.line>=n.index&&(e.line+=n.amount)})),e.register(this.lines.onDelete(n=>{e.line>=n.index&&e.line<n.index+n.amount&&e.dispose(),e.line>n.index&&(e.line-=n.amount)})),e.register(e.onDispose(()=>this._removeMarker(e))),e}_removeMarker(t){this._isClearing||this.markers.splice(this.markers.indexOf(t),1)}},Ose=class extends kt{constructor(t,e){super(),this._optionsService=t,this._bufferService=e,this._onBufferActivate=this._register(new Te),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this._register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this._register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new nO(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new nO(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(t){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(t),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(t,e){this._normal.resize(t,e),this._alt.resize(t,e),this.setupTabStops(t)}setupTabStops(t){this._normal.setupTabStops(t),this._alt.setupTabStops(t)}},bI=2,_I=1,Jk=class extends kt{constructor(t){super(),this.isUserScrolling=!1,this._onResize=this._register(new Te),this.onResize=this._onResize.event,this._onScroll=this._register(new Te),this.onScroll=this._onScroll.event,this.cols=Math.max(t.rawOptions.cols||0,bI),this.rows=Math.max(t.rawOptions.rows||0,_I),this.buffers=this._register(new Ose(t,this)),this._register(this.buffers.onBufferActivate(e=>{this._onScroll.fire(e.activeBuffer.ydisp)}))}get buffer(){return this.buffers.active}resize(t,e){let n=this.cols!==t,s=this.rows!==e;this.cols=t,this.rows=e,this.buffers.resize(t,e),this._onResize.fire({cols:t,rows:e,colsChanged:n,rowsChanged:s})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(t,e=!1){let n=this.buffer,s;s=this._cachedBlankLine,(!s||s.length!==this.cols||s.getFg(0)!==t.fg||s.getBg(0)!==t.bg)&&(s=n.getBlankLine(t,e),this._cachedBlankLine=s),s.isWrapped=e;let r=n.ybase+n.scrollTop,i=n.ybase+n.scrollBottom;if(n.scrollTop===0){let a=n.lines.isFull;i===n.lines.length-1?a?n.lines.recycle().copyFrom(s):n.lines.push(s.clone()):n.lines.splice(i+1,0,s.clone()),a?this.isUserScrolling&&(n.ydisp=Math.max(n.ydisp-1,0)):(n.ybase++,this.isUserScrolling||n.ydisp++)}else{let a=i-r+1;n.lines.shiftElements(r+1,a-1,-1),n.lines.set(i,s.clone())}this.isUserScrolling||(n.ydisp=n.ybase),this._onScroll.fire(n.ydisp)}scrollLines(t,e){let n=this.buffer;if(t<0){if(n.ydisp===0)return;this.isUserScrolling=!0}else t+n.ydisp>=n.ybase&&(this.isUserScrolling=!1);let s=n.ydisp;n.ydisp=Math.max(Math.min(n.ydisp+t,n.ybase),0),s!==n.ydisp&&(e||this._onScroll.fire(n.ydisp))}};Jk=xn([Pe(0,zs)],Jk);var iu={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnEraseInDisplay:!1,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},reflowCursorLine:!1,rescaleOverlappingGlyphs:!1,rightClickSelectsWord:Vy,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRuler:{}},Mse=["normal","bold","100","200","300","400","500","600","700","800","900"],Dse=class extends kt{constructor(t){super(),this._onOptionChange=this._register(new Te),this.onOptionChange=this._onOptionChange.event;let e={...iu};for(let n in t)if(n in e)try{let s=t[n];e[n]=this._sanitizeAndValidateOption(n,s)}catch(s){console.error(s)}this.rawOptions=e,this.options={...e},this._setupOptions(),this._register(hn(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(t,e){return this.onOptionChange(n=>{n===t&&e(this.rawOptions[t])})}onMultipleOptionChange(t,e){return this.onOptionChange(n=>{t.indexOf(n)!==-1&&e()})}_setupOptions(){let t=n=>{if(!(n in iu))throw new Error(`No option with key "${n}"`);return this.rawOptions[n]},e=(n,s)=>{if(!(n in iu))throw new Error(`No option with key "${n}"`);s=this._sanitizeAndValidateOption(n,s),this.rawOptions[n]!==s&&(this.rawOptions[n]=s,this._onOptionChange.fire(n))};for(let n in this.rawOptions){let s={get:t.bind(this,n),set:e.bind(this,n)};Object.defineProperty(this.options,n,s)}}_sanitizeAndValidateOption(t,e){switch(t){case"cursorStyle":if(e||(e=iu[t]),!Bse(e))throw new Error(`"${e}" is not a valid value for ${t}`);break;case"wordSeparator":e||(e=iu[t]);break;case"fontWeight":case"fontWeightBold":if(typeof e=="number"&&1<=e&&e<=1e3)break;e=Mse.includes(e)?e:iu[t];break;case"cursorWidth":e=Math.floor(e);case"lineHeight":case"tabStopWidth":if(e<1)throw new Error(`${t} cannot be less than 1, value: ${e}`);break;case"minimumContrastRatio":e=Math.max(1,Math.min(21,Math.round(e*10)/10));break;case"scrollback":if(e=Math.min(e,4294967295),e<0)throw new Error(`${t} cannot be less than 0, value: ${e}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(e<=0)throw new Error(`${t} cannot be less than or equal to 0, value: ${e}`);break;case"rows":case"cols":if(!e&&e!==0)throw new Error(`${t} must be numeric, value: ${e}`);break;case"windowsPty":e=e??{};break}return e}};function Bse(t){return t==="block"||t==="underline"||t==="bar"}function yf(t,e=5){if(typeof t!="object")return t;let n=Array.isArray(t)?[]:{};for(let s in t)n[s]=e<=1?t[s]:t[s]&&yf(t[s],e-1);return n}var sO=Object.freeze({insertMode:!1}),rO=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,cursorBlink:void 0,cursorStyle:void 0,origin:!1,reverseWraparound:!1,sendFocus:!1,synchronizedOutput:!1,wraparound:!0}),Qk=class extends kt{constructor(t,e,n){super(),this._bufferService=t,this._logService=e,this._optionsService=n,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this._register(new Te),this.onData=this._onData.event,this._onUserInput=this._register(new Te),this.onUserInput=this._onUserInput.event,this._onBinary=this._register(new Te),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this._register(new Te),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=yf(sO),this.decPrivateModes=yf(rO)}reset(){this.modes=yf(sO),this.decPrivateModes=yf(rO)}triggerDataEvent(t,e=!1){if(this._optionsService.rawOptions.disableStdin)return;let n=this._bufferService.buffer;e&&this._optionsService.rawOptions.scrollOnUserInput&&n.ybase!==n.ydisp&&this._onRequestScrollToBottom.fire(),e&&this._onUserInput.fire(),this._logService.debug(`sending data "${t}"`),this._logService.trace("sending data (codes)",()=>t.split("").map(s=>s.charCodeAt(0))),this._onData.fire(t)}triggerBinaryEvent(t){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${t}"`),this._logService.trace("sending binary (codes)",()=>t.split("").map(e=>e.charCodeAt(0))),this._onBinary.fire(t))}};Qk=xn([Pe(0,$s),Pe(1,zL),Pe(2,zs)],Qk);var iO={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:t=>t.button===4||t.action!==1?!1:(t.ctrl=!1,t.alt=!1,t.shift=!1,!0)},VT200:{events:19,restrict:t=>t.action!==32},DRAG:{events:23,restrict:t=>!(t.action===32&&t.button===3)},ANY:{events:31,restrict:t=>!0}};function Jx(t,e){let n=(t.ctrl?16:0)|(t.shift?4:0)|(t.alt?8:0);return t.button===4?(n|=64,n|=t.action):(n|=t.button&3,t.button&4&&(n|=64),t.button&8&&(n|=128),t.action===32?n|=32:t.action===0&&!e&&(n|=3)),n}var Qx=String.fromCharCode,aO={DEFAULT:t=>{let e=[Jx(t,!1)+32,t.col+32,t.row+32];return e[0]>255||e[1]>255||e[2]>255?"":`\x1B[M${Qx(e[0])}${Qx(e[1])}${Qx(e[2])}`},SGR:t=>{let e=t.action===0&&t.button!==4?"m":"M";return`\x1B[<${Jx(t,!0)};${t.col};${t.row}${e}`},SGR_PIXELS:t=>{let e=t.action===0&&t.button!==4?"m":"M";return`\x1B[<${Jx(t,!0)};${t.x};${t.y}${e}`}},e2=class extends kt{constructor(t,e,n){super(),this._bufferService=t,this._coreService=e,this._optionsService=n,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._wheelPartialScroll=0,this._onProtocolChange=this._register(new Te),this.onProtocolChange=this._onProtocolChange.event;for(let s of Object.keys(iO))this.addProtocol(s,iO[s]);for(let s of Object.keys(aO))this.addEncoding(s,aO[s]);this.reset()}addProtocol(t,e){this._protocols[t]=e}addEncoding(t,e){this._encodings[t]=e}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(t){if(!this._protocols[t])throw new Error(`unknown protocol "${t}"`);this._activeProtocol=t,this._onProtocolChange.fire(this._protocols[t].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(t){if(!this._encodings[t])throw new Error(`unknown encoding "${t}"`);this._activeEncoding=t}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null,this._wheelPartialScroll=0}consumeWheelEvent(t,e,n){if(t.deltaY===0||t.shiftKey||e===void 0||n===void 0)return 0;let s=e/n,r=this._applyScrollModifier(t.deltaY,t);return t.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(r/=s+0,Math.abs(t.deltaY)<50&&(r*=.3),this._wheelPartialScroll+=r,r=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(r*=this._bufferService.rows),r}_applyScrollModifier(t,e){return e.altKey||e.ctrlKey||e.shiftKey?t*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:t*this._optionsService.rawOptions.scrollSensitivity}triggerMouseEvent(t){if(t.col<0||t.col>=this._bufferService.cols||t.row<0||t.row>=this._bufferService.rows||t.button===4&&t.action===32||t.button===3&&t.action!==32||t.button!==4&&(t.action===2||t.action===3)||(t.col++,t.row++,t.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,t,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(t))return!1;let e=this._encodings[this._activeEncoding](t);return e&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(e):this._coreService.triggerDataEvent(e,!0)),this._lastEvent=t,!0}explainEvents(t){return{down:!!(t&1),up:!!(t&2),drag:!!(t&4),move:!!(t&8),wheel:!!(t&16)}}_equalEvents(t,e,n){if(n){if(t.x!==e.x||t.y!==e.y)return!1}else if(t.col!==e.col||t.row!==e.row)return!1;return!(t.button!==e.button||t.action!==e.action||t.ctrl!==e.ctrl||t.alt!==e.alt||t.shift!==e.shift)}};e2=xn([Pe(0,$s),Pe(1,fc),Pe(2,zs)],e2);var ew=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],Lse=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],zn;function Ise(t,e){let n=0,s=e.length-1,r;if(t<e[0][0]||t>e[s][1])return!1;for(;s>=n;)if(r=n+s>>1,t>e[r][1])n=r+1;else if(t<e[r][0])s=r-1;else return!0;return!1}var Pse=class{constructor(){if(this.version="6",!zn){zn=new Uint8Array(65536),zn.fill(1),zn[0]=0,zn.fill(0,1,32),zn.fill(0,127,160),zn.fill(2,4352,4448),zn[9001]=2,zn[9002]=2,zn.fill(2,11904,42192),zn[12351]=1,zn.fill(2,44032,55204),zn.fill(2,63744,64256),zn.fill(2,65040,65050),zn.fill(2,65072,65136),zn.fill(2,65280,65377),zn.fill(2,65504,65511);for(let t=0;t<ew.length;++t)zn.fill(0,ew[t][0],ew[t][1]+1)}}wcwidth(t){return t<32?0:t<127?1:t<65536?zn[t]:Ise(t,Lse)?0:t>=131072&&t<=196605||t>=196608&&t<=262141?2:1}charProperties(t,e){let n=this.wcwidth(t),s=n===0&&e!==0;if(s){let r=kl.extractWidth(e);r===0?s=!1:r>n&&(n=r)}return kl.createPropertyValue(0,n,s)}},kl=class C0{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new Te,this.onChange=this._onChange.event;let e=new Pse;this.register(e),this._active=e.version,this._activeProvider=e}static extractShouldJoin(e){return(e&1)!==0}static extractWidth(e){return e>>1&3}static extractCharKind(e){return e>>3}static createPropertyValue(e,n,s=!1){return(e&16777215)<<3|(n&3)<<1|(s?1:0)}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(e){if(!this._providers[e])throw new Error(`unknown Unicode version "${e}"`);this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)}register(e){this._providers[e.version]=e}wcwidth(e){return this._activeProvider.wcwidth(e)}getStringCellWidth(e){let n=0,s=0,r=e.length;for(let i=0;i<r;++i){let a=e.charCodeAt(i);if(55296<=a&&a<=56319){if(++i>=r)return n+this.wcwidth(a);let h=e.charCodeAt(i);56320<=h&&h<=57343?a=(a-55296)*1024+h-56320+65536:n+=this.wcwidth(h)}let c=this.charProperties(a,s),u=C0.extractWidth(c);C0.extractShouldJoin(c)&&(u-=C0.extractWidth(s)),n+=u,s=c}return n}charProperties(e,n){return this._activeProvider.charProperties(e,n)}},$se=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(t){this.glevel=t,this.charset=this._charsets[t]}setgCharset(t,e){this._charsets[t]=e,this.glevel===t&&(this.charset=e)}};function oO(t){let e=t.buffer.lines.get(t.buffer.ybase+t.buffer.y-1)?.get(t.cols-1),n=t.buffer.lines.get(t.buffer.ybase+t.buffer.y);n&&e&&(n.isWrapped=e[3]!==0&&e[3]!==32)}var Bd=2147483647,zse=256,xI=class t2{constructor(e=32,n=32){if(this.maxLength=e,this.maxSubParamsLength=n,n>zse)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(n),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(e){let n=new t2;if(!e.length)return n;for(let s=Array.isArray(e[0])?1:0;s<e.length;++s){let r=e[s];if(Array.isArray(r))for(let i=0;i<r.length;++i)n.addSubParam(r[i]);else n.addParam(r)}return n}clone(){let e=new t2(this.maxLength,this.maxSubParamsLength);return e.params.set(this.params),e.length=this.length,e._subParams.set(this._subParams),e._subParamsLength=this._subParamsLength,e._subParamsIdx.set(this._subParamsIdx),e._rejectDigits=this._rejectDigits,e._rejectSubDigits=this._rejectSubDigits,e._digitIsSub=this._digitIsSub,e}toArray(){let e=[];for(let n=0;n<this.length;++n){e.push(this.params[n]);let s=this._subParamsIdx[n]>>8,r=this._subParamsIdx[n]&255;r-s>0&&e.push(Array.prototype.slice.call(this._subParams,s,r))}return e}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(e){if(this._digitIsSub=!1,this.length>=this.maxLength){this._rejectDigits=!0;return}if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>Bd?Bd:e}addSubParam(e){if(this._digitIsSub=!0,!!this.length){if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength){this._rejectSubDigits=!0;return}if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>Bd?Bd:e,this._subParamsIdx[this.length-1]++}}hasSubParams(e){return(this._subParamsIdx[e]&255)-(this._subParamsIdx[e]>>8)>0}getSubParams(e){let n=this._subParamsIdx[e]>>8,s=this._subParamsIdx[e]&255;return s-n>0?this._subParams.subarray(n,s):null}getSubParamsAll(){let e={};for(let n=0;n<this.length;++n){let s=this._subParamsIdx[n]>>8,r=this._subParamsIdx[n]&255;r-s>0&&(e[n]=this._subParams.slice(s,r))}return e}addDigit(e){let n;if(this._rejectDigits||!(n=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;let s=this._digitIsSub?this._subParams:this.params,r=s[n-1];s[n-1]=~r?Math.min(r*10+e,Bd):e}},Ld=[],Use=class{constructor(){this._state=0,this._active=Ld,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(t,e){this._handlers[t]===void 0&&(this._handlers[t]=[]);let n=this._handlers[t];return n.push(e),{dispose:()=>{let s=n.indexOf(e);s!==-1&&n.splice(s,1)}}}clearHandler(t){this._handlers[t]&&delete this._handlers[t]}setHandlerFallback(t){this._handlerFb=t}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=Ld}reset(){if(this._state===2)for(let t=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;t>=0;--t)this._active[t].end(!1);this._stack.paused=!1,this._active=Ld,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||Ld,!this._active.length)this._handlerFb(this._id,"START");else for(let t=this._active.length-1;t>=0;t--)this._active[t].start()}_put(t,e,n){if(!this._active.length)this._handlerFb(this._id,"PUT",yb(t,e,n));else for(let s=this._active.length-1;s>=0;s--)this._active[s].put(t,e,n)}start(){this.reset(),this._state=1}put(t,e,n){if(this._state!==3){if(this._state===1)for(;e<n;){let s=t[e++];if(s===59){this._state=2,this._start();break}if(s<48||57<s){this._state=3;return}this._id===-1&&(this._id=0),this._id=this._id*10+s-48}this._state===2&&n-e>0&&this._put(t,e,n)}}end(t,e=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),!this._active.length)this._handlerFb(this._id,"END",t);else{let n=!1,s=this._active.length-1,r=!1;if(this._stack.paused&&(s=this._stack.loopPosition-1,n=e,r=this._stack.fallThrough,this._stack.paused=!1),!r&&n===!1){for(;s>=0&&(n=this._active[s].end(t),n!==!0);s--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=s,this._stack.fallThrough=!1,n;s--}for(;s>=0;s--)if(n=this._active[s].end(!1),n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=s,this._stack.fallThrough=!0,n}this._active=Ld,this._id=-1,this._state=0}}},pr=class{constructor(t){this._handler=t,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(t,e,n){this._hitLimit||(this._data+=yb(t,e,n),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}end(t){let e=!1;if(this._hitLimit)e=!1;else if(t&&(e=this._handler(this._data),e instanceof Promise))return e.then(n=>(this._data="",this._hitLimit=!1,n));return this._data="",this._hitLimit=!1,e}},Id=[],Hse=class{constructor(){this._handlers=Object.create(null),this._active=Id,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=Id}registerHandler(t,e){this._handlers[t]===void 0&&(this._handlers[t]=[]);let n=this._handlers[t];return n.push(e),{dispose:()=>{let s=n.indexOf(e);s!==-1&&n.splice(s,1)}}}clearHandler(t){this._handlers[t]&&delete this._handlers[t]}setHandlerFallback(t){this._handlerFb=t}reset(){if(this._active.length)for(let t=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;t>=0;--t)this._active[t].unhook(!1);this._stack.paused=!1,this._active=Id,this._ident=0}hook(t,e){if(this.reset(),this._ident=t,this._active=this._handlers[t]||Id,!this._active.length)this._handlerFb(this._ident,"HOOK",e);else for(let n=this._active.length-1;n>=0;n--)this._active[n].hook(e)}put(t,e,n){if(!this._active.length)this._handlerFb(this._ident,"PUT",yb(t,e,n));else for(let s=this._active.length-1;s>=0;s--)this._active[s].put(t,e,n)}unhook(t,e=!0){if(!this._active.length)this._handlerFb(this._ident,"UNHOOK",t);else{let n=!1,s=this._active.length-1,r=!1;if(this._stack.paused&&(s=this._stack.loopPosition-1,n=e,r=this._stack.fallThrough,this._stack.paused=!1),!r&&n===!1){for(;s>=0&&(n=this._active[s].unhook(t),n!==!0);s--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=s,this._stack.fallThrough=!1,n;s--}for(;s>=0;s--)if(n=this._active[s].unhook(!1),n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=s,this._stack.fallThrough=!0,n}this._active=Id,this._ident=0}},vf=new xI;vf.addParam(0);var lO=class{constructor(t){this._handler=t,this._data="",this._params=vf,this._hitLimit=!1}hook(t){this._params=t.length>1||t.params[0]?t.clone():vf,this._data="",this._hitLimit=!1}put(t,e,n){this._hitLimit||(this._data+=yb(t,e,n),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}unhook(t){let e=!1;if(this._hitLimit)e=!1;else if(t&&(e=this._handler(this._data,this._params),e instanceof Promise))return e.then(n=>(this._params=vf,this._data="",this._hitLimit=!1,n));return this._params=vf,this._data="",this._hitLimit=!1,e}},Fse=class{constructor(t){this.table=new Uint8Array(t)}setDefault(t,e){this.table.fill(t<<4|e)}add(t,e,n,s){this.table[e<<8|t]=n<<4|s}addMany(t,e,n,s){for(let r=0;r<t.length;r++)this.table[e<<8|t[r]]=n<<4|s}},qr=160,Vse=(function(){let t=new Fse(4095),e=Array.apply(null,Array(256)).map((c,u)=>u),n=(c,u)=>e.slice(c,u),s=n(32,127),r=n(0,24);r.push(25),r.push.apply(r,n(28,32));let i=n(0,14),a;t.setDefault(1,0),t.addMany(s,0,2,0);for(a in i)t.addMany([24,26,153,154],a,3,0),t.addMany(n(128,144),a,3,0),t.addMany(n(144,152),a,3,0),t.add(156,a,0,0),t.add(27,a,11,1),t.add(157,a,4,8),t.addMany([152,158,159],a,0,7),t.add(155,a,11,3),t.add(144,a,11,9);return t.addMany(r,0,3,0),t.addMany(r,1,3,1),t.add(127,1,0,1),t.addMany(r,8,0,8),t.addMany(r,3,3,3),t.add(127,3,0,3),t.addMany(r,4,3,4),t.add(127,4,0,4),t.addMany(r,6,3,6),t.addMany(r,5,3,5),t.add(127,5,0,5),t.addMany(r,2,3,2),t.add(127,2,0,2),t.add(93,1,4,8),t.addMany(s,8,5,8),t.add(127,8,5,8),t.addMany([156,27,24,26,7],8,6,0),t.addMany(n(28,32),8,0,8),t.addMany([88,94,95],1,0,7),t.addMany(s,7,0,7),t.addMany(r,7,0,7),t.add(156,7,0,0),t.add(127,7,0,7),t.add(91,1,11,3),t.addMany(n(64,127),3,7,0),t.addMany(n(48,60),3,8,4),t.addMany([60,61,62,63],3,9,4),t.addMany(n(48,60),4,8,4),t.addMany(n(64,127),4,7,0),t.addMany([60,61,62,63],4,0,6),t.addMany(n(32,64),6,0,6),t.add(127,6,0,6),t.addMany(n(64,127),6,0,0),t.addMany(n(32,48),3,9,5),t.addMany(n(32,48),5,9,5),t.addMany(n(48,64),5,0,6),t.addMany(n(64,127),5,7,0),t.addMany(n(32,48),4,9,5),t.addMany(n(32,48),1,9,2),t.addMany(n(32,48),2,9,2),t.addMany(n(48,127),2,10,0),t.addMany(n(48,80),1,10,0),t.addMany(n(81,88),1,10,0),t.addMany([89,90,92],1,10,0),t.addMany(n(96,127),1,10,0),t.add(80,1,11,9),t.addMany(r,9,0,9),t.add(127,9,0,9),t.addMany(n(28,32),9,0,9),t.addMany(n(32,48),9,9,12),t.addMany(n(48,60),9,8,10),t.addMany([60,61,62,63],9,9,10),t.addMany(r,11,0,11),t.addMany(n(32,128),11,0,11),t.addMany(n(28,32),11,0,11),t.addMany(r,10,0,10),t.add(127,10,0,10),t.addMany(n(28,32),10,0,10),t.addMany(n(48,60),10,8,10),t.addMany([60,61,62,63],10,0,11),t.addMany(n(32,48),10,9,12),t.addMany(r,12,0,12),t.add(127,12,0,12),t.addMany(n(28,32),12,0,12),t.addMany(n(32,48),12,9,12),t.addMany(n(48,64),12,0,11),t.addMany(n(64,127),12,12,13),t.addMany(n(64,127),10,12,13),t.addMany(n(64,127),9,12,13),t.addMany(r,13,13,13),t.addMany(s,13,13,13),t.add(127,13,0,13),t.addMany([27,156,24,26],13,14,0),t.add(qr,0,2,0),t.add(qr,8,5,8),t.add(qr,6,0,6),t.add(qr,11,0,11),t.add(qr,13,13,13),t})(),qse=class extends kt{constructor(t=Vse){super(),this._transitions=t,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new xI,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(e,n,s)=>{},this._executeHandlerFb=e=>{},this._csiHandlerFb=(e,n)=>{},this._escHandlerFb=e=>{},this._errorHandlerFb=e=>e,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this._register(hn(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this._register(new Use),this._dcsParser=this._register(new Hse),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(t,e=[64,126]){let n=0;if(t.prefix){if(t.prefix.length>1)throw new Error("only one byte as prefix supported");if(n=t.prefix.charCodeAt(0),n&&60>n||n>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(t.intermediates){if(t.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let r=0;r<t.intermediates.length;++r){let i=t.intermediates.charCodeAt(r);if(32>i||i>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");n<<=8,n|=i}}if(t.final.length!==1)throw new Error("final must be a single byte");let s=t.final.charCodeAt(0);if(e[0]>s||s>e[1])throw new Error(`final must be in range ${e[0]} .. ${e[1]}`);return n<<=8,n|=s,n}identToString(t){let e=[];for(;t;)e.push(String.fromCharCode(t&255)),t>>=8;return e.reverse().join("")}setPrintHandler(t){this._printHandler=t}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(t,e){let n=this._identifier(t,[48,126]);this._escHandlers[n]===void 0&&(this._escHandlers[n]=[]);let s=this._escHandlers[n];return s.push(e),{dispose:()=>{let r=s.indexOf(e);r!==-1&&s.splice(r,1)}}}clearEscHandler(t){this._escHandlers[this._identifier(t,[48,126])]&&delete this._escHandlers[this._identifier(t,[48,126])]}setEscHandlerFallback(t){this._escHandlerFb=t}setExecuteHandler(t,e){this._executeHandlers[t.charCodeAt(0)]=e}clearExecuteHandler(t){this._executeHandlers[t.charCodeAt(0)]&&delete this._executeHandlers[t.charCodeAt(0)]}setExecuteHandlerFallback(t){this._executeHandlerFb=t}registerCsiHandler(t,e){let n=this._identifier(t);this._csiHandlers[n]===void 0&&(this._csiHandlers[n]=[]);let s=this._csiHandlers[n];return s.push(e),{dispose:()=>{let r=s.indexOf(e);r!==-1&&s.splice(r,1)}}}clearCsiHandler(t){this._csiHandlers[this._identifier(t)]&&delete this._csiHandlers[this._identifier(t)]}setCsiHandlerFallback(t){this._csiHandlerFb=t}registerDcsHandler(t,e){return this._dcsParser.registerHandler(this._identifier(t),e)}clearDcsHandler(t){this._dcsParser.clearHandler(this._identifier(t))}setDcsHandlerFallback(t){this._dcsParser.setHandlerFallback(t)}registerOscHandler(t,e){return this._oscParser.registerHandler(t,e)}clearOscHandler(t){this._oscParser.clearHandler(t)}setOscHandlerFallback(t){this._oscParser.setHandlerFallback(t)}setErrorHandler(t){this._errorHandler=t}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(t,e,n,s,r){this._parseStack.state=t,this._parseStack.handlers=e,this._parseStack.handlerPos=n,this._parseStack.transition=s,this._parseStack.chunkPos=r}parse(t,e,n){let s=0,r=0,i=0,a;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,i=this._parseStack.chunkPos+1;else{if(n===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");let c=this._parseStack.handlers,u=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(n===!1&&u>-1){for(;u>=0&&(a=c[u](this._params),a!==!0);u--)if(a instanceof Promise)return this._parseStack.handlerPos=u,a}this._parseStack.handlers=[];break;case 4:if(n===!1&&u>-1){for(;u>=0&&(a=c[u](),a!==!0);u--)if(a instanceof Promise)return this._parseStack.handlerPos=u,a}this._parseStack.handlers=[];break;case 6:if(s=t[this._parseStack.chunkPos],a=this._dcsParser.unhook(s!==24&&s!==26,n),a)return a;s===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(s=t[this._parseStack.chunkPos],a=this._oscParser.end(s!==24&&s!==26,n),a)return a;s===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break}this._parseStack.state=0,i=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=this._parseStack.transition&15}for(let c=i;c<e;++c){switch(s=t[c],r=this._transitions.table[this.currentState<<8|(s<160?s:qr)],r>>4){case 2:for(let y=c+1;;++y){if(y>=e||(s=t[y])<32||s>126&&s<qr){this._printHandler(t,c,y),c=y-1;break}if(++y>=e||(s=t[y])<32||s>126&&s<qr){this._printHandler(t,c,y),c=y-1;break}if(++y>=e||(s=t[y])<32||s>126&&s<qr){this._printHandler(t,c,y),c=y-1;break}if(++y>=e||(s=t[y])<32||s>126&&s<qr){this._printHandler(t,c,y),c=y-1;break}}break;case 3:this._executeHandlers[s]?this._executeHandlers[s]():this._executeHandlerFb(s),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:c,code:s,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:let u=this._csiHandlers[this._collect<<8|s],h=u?u.length-1:-1;for(;h>=0&&(a=u[h](this._params),a!==!0);h--)if(a instanceof Promise)return this._preserveStack(3,u,h,r,c),a;h<0&&this._csiHandlerFb(this._collect<<8|s,this._params),this.precedingJoinState=0;break;case 8:do switch(s){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(s-48)}while(++c<e&&(s=t[c])>47&&s<60);c--;break;case 9:this._collect<<=8,this._collect|=s;break;case 10:let m=this._escHandlers[this._collect<<8|s],p=m?m.length-1:-1;for(;p>=0&&(a=m[p](),a!==!0);p--)if(a instanceof Promise)return this._preserveStack(4,m,p,r,c),a;p<0&&this._escHandlerFb(this._collect<<8|s),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|s,this._params);break;case 13:for(let y=c+1;;++y)if(y>=e||(s=t[y])===24||s===26||s===27||s>127&&s<qr){this._dcsParser.put(t,c,y),c=y-1;break}break;case 14:if(a=this._dcsParser.unhook(s!==24&&s!==26),a)return this._preserveStack(6,[],0,r,c),a;s===27&&(r|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let y=c+1;;y++)if(y>=e||(s=t[y])<32||s>127&&s<qr){this._oscParser.put(t,c,y),c=y-1;break}break;case 6:if(a=this._oscParser.end(s!==24&&s!==26),a)return this._preserveStack(5,[],0,r,c),a;s===27&&(r|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break}this.currentState=r&15}}},Kse=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,Wse=/^[\da-f]+$/;function cO(t){if(!t)return;let e=t.toLowerCase();if(e.indexOf("rgb:")===0){e=e.slice(4);let n=Kse.exec(e);if(n){let s=n[1]?15:n[4]?255:n[7]?4095:65535;return[Math.round(parseInt(n[1]||n[4]||n[7]||n[10],16)/s*255),Math.round(parseInt(n[2]||n[5]||n[8]||n[11],16)/s*255),Math.round(parseInt(n[3]||n[6]||n[9]||n[12],16)/s*255)]}}else if(e.indexOf("#")===0&&(e=e.slice(1),Wse.exec(e)&&[3,6,9,12].includes(e.length))){let n=e.length/3,s=[0,0,0];for(let r=0;r<3;++r){let i=parseInt(e.slice(n*r,n*r+n),16);s[r]=n===1?i<<4:n===2?i:n===3?i>>4:i>>8}return s}}function tw(t,e){let n=t.toString(16),s=n.length<2?"0"+n:n;switch(e){case 4:return n[0];case 8:return s;case 12:return(s+s).slice(0,3);default:return s+s}}function Gse(t,e=16){let[n,s,r]=t;return`rgb:${tw(n,e)}/${tw(s,e)}/${tw(r,e)}`}var Yse={"(":0,")":1,"*":2,"+":3,"-":1,".":2},po=131072,uO=10;function hO(t,e){if(t>24)return e.setWinLines||!1;switch(t){case 1:return!!e.restoreWin;case 2:return!!e.minimizeWin;case 3:return!!e.setWinPosition;case 4:return!!e.setWinSizePixels;case 5:return!!e.raiseWin;case 6:return!!e.lowerWin;case 7:return!!e.refreshWin;case 8:return!!e.setWinSizeChars;case 9:return!!e.maximizeWin;case 10:return!!e.fullscreenWin;case 11:return!!e.getWinState;case 13:return!!e.getWinPosition;case 14:return!!e.getWinSizePixels;case 15:return!!e.getScreenSizePixels;case 16:return!!e.getCellSizePixels;case 18:return!!e.getWinSizeChars;case 19:return!!e.getScreenSizeChars;case 20:return!!e.getIconTitle;case 21:return!!e.getWinTitle;case 22:return!!e.pushTitle;case 23:return!!e.popTitle;case 24:return!!e.setWinLines}return!1}var dO=5e3,fO=0,Zse=class extends kt{constructor(t,e,n,s,r,i,a,c,u=new qse){super(),this._bufferService=t,this._charsetService=e,this._coreService=n,this._logService=s,this._optionsService=r,this._oscLinkService=i,this._coreMouseService=a,this._unicodeService=c,this._parser=u,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new mte,this._utf8Decoder=new gte,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=Dn.clone(),this._eraseAttrDataInternal=Dn.clone(),this._onRequestBell=this._register(new Te),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this._register(new Te),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this._register(new Te),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this._register(new Te),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this._register(new Te),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this._register(new Te),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this._register(new Te),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this._register(new Te),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this._register(new Te),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this._register(new Te),this.onLineFeed=this._onLineFeed.event,this._onScroll=this._register(new Te),this.onScroll=this._onScroll.event,this._onTitleChange=this._register(new Te),this.onTitleChange=this._onTitleChange.event,this._onColor=this._register(new Te),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this._register(this._parser),this._dirtyRowTracker=new n2(this._bufferService),this._activeBuffer=this._bufferService.buffer,this._register(this._bufferService.buffers.onBufferActivate(h=>this._activeBuffer=h.activeBuffer)),this._parser.setCsiHandlerFallback((h,m)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(h),params:m.toArray()})}),this._parser.setEscHandlerFallback(h=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(h)})}),this._parser.setExecuteHandlerFallback(h=>{this._logService.debug("Unknown EXECUTE code: ",{code:h})}),this._parser.setOscHandlerFallback((h,m,p)=>{this._logService.debug("Unknown OSC code: ",{identifier:h,action:m,data:p})}),this._parser.setDcsHandlerFallback((h,m,p)=>{m==="HOOK"&&(p=p.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(h),action:m,payload:p})}),this._parser.setPrintHandler((h,m,p)=>this.print(h,m,p)),this._parser.registerCsiHandler({final:"@"},h=>this.insertChars(h)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},h=>this.scrollLeft(h)),this._parser.registerCsiHandler({final:"A"},h=>this.cursorUp(h)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},h=>this.scrollRight(h)),this._parser.registerCsiHandler({final:"B"},h=>this.cursorDown(h)),this._parser.registerCsiHandler({final:"C"},h=>this.cursorForward(h)),this._parser.registerCsiHandler({final:"D"},h=>this.cursorBackward(h)),this._parser.registerCsiHandler({final:"E"},h=>this.cursorNextLine(h)),this._parser.registerCsiHandler({final:"F"},h=>this.cursorPrecedingLine(h)),this._parser.registerCsiHandler({final:"G"},h=>this.cursorCharAbsolute(h)),this._parser.registerCsiHandler({final:"H"},h=>this.cursorPosition(h)),this._parser.registerCsiHandler({final:"I"},h=>this.cursorForwardTab(h)),this._parser.registerCsiHandler({final:"J"},h=>this.eraseInDisplay(h,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},h=>this.eraseInDisplay(h,!0)),this._parser.registerCsiHandler({final:"K"},h=>this.eraseInLine(h,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},h=>this.eraseInLine(h,!0)),this._parser.registerCsiHandler({final:"L"},h=>this.insertLines(h)),this._parser.registerCsiHandler({final:"M"},h=>this.deleteLines(h)),this._parser.registerCsiHandler({final:"P"},h=>this.deleteChars(h)),this._parser.registerCsiHandler({final:"S"},h=>this.scrollUp(h)),this._parser.registerCsiHandler({final:"T"},h=>this.scrollDown(h)),this._parser.registerCsiHandler({final:"X"},h=>this.eraseChars(h)),this._parser.registerCsiHandler({final:"Z"},h=>this.cursorBackwardTab(h)),this._parser.registerCsiHandler({final:"`"},h=>this.charPosAbsolute(h)),this._parser.registerCsiHandler({final:"a"},h=>this.hPositionRelative(h)),this._parser.registerCsiHandler({final:"b"},h=>this.repeatPrecedingCharacter(h)),this._parser.registerCsiHandler({final:"c"},h=>this.sendDeviceAttributesPrimary(h)),this._parser.registerCsiHandler({prefix:">",final:"c"},h=>this.sendDeviceAttributesSecondary(h)),this._parser.registerCsiHandler({final:"d"},h=>this.linePosAbsolute(h)),this._parser.registerCsiHandler({final:"e"},h=>this.vPositionRelative(h)),this._parser.registerCsiHandler({final:"f"},h=>this.hVPosition(h)),this._parser.registerCsiHandler({final:"g"},h=>this.tabClear(h)),this._parser.registerCsiHandler({final:"h"},h=>this.setMode(h)),this._parser.registerCsiHandler({prefix:"?",final:"h"},h=>this.setModePrivate(h)),this._parser.registerCsiHandler({final:"l"},h=>this.resetMode(h)),this._parser.registerCsiHandler({prefix:"?",final:"l"},h=>this.resetModePrivate(h)),this._parser.registerCsiHandler({final:"m"},h=>this.charAttributes(h)),this._parser.registerCsiHandler({final:"n"},h=>this.deviceStatus(h)),this._parser.registerCsiHandler({prefix:"?",final:"n"},h=>this.deviceStatusPrivate(h)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},h=>this.softReset(h)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},h=>this.setCursorStyle(h)),this._parser.registerCsiHandler({final:"r"},h=>this.setScrollRegion(h)),this._parser.registerCsiHandler({final:"s"},h=>this.saveCursor(h)),this._parser.registerCsiHandler({final:"t"},h=>this.windowOptions(h)),this._parser.registerCsiHandler({final:"u"},h=>this.restoreCursor(h)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},h=>this.insertColumns(h)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},h=>this.deleteColumns(h)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},h=>this.selectProtected(h)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},h=>this.requestMode(h,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},h=>this.requestMode(h,!1)),this._parser.setExecuteHandler(be.BEL,()=>this.bell()),this._parser.setExecuteHandler(be.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(be.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(be.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(be.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(be.BS,()=>this.backspace()),this._parser.setExecuteHandler(be.HT,()=>this.tab()),this._parser.setExecuteHandler(be.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(be.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(S0.IND,()=>this.index()),this._parser.setExecuteHandler(S0.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(S0.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new pr(h=>(this.setTitle(h),this.setIconName(h),!0))),this._parser.registerOscHandler(1,new pr(h=>this.setIconName(h))),this._parser.registerOscHandler(2,new pr(h=>this.setTitle(h))),this._parser.registerOscHandler(4,new pr(h=>this.setOrReportIndexedColor(h))),this._parser.registerOscHandler(8,new pr(h=>this.setHyperlink(h))),this._parser.registerOscHandler(10,new pr(h=>this.setOrReportFgColor(h))),this._parser.registerOscHandler(11,new pr(h=>this.setOrReportBgColor(h))),this._parser.registerOscHandler(12,new pr(h=>this.setOrReportCursorColor(h))),this._parser.registerOscHandler(104,new pr(h=>this.restoreIndexedColor(h))),this._parser.registerOscHandler(110,new pr(h=>this.restoreFgColor(h))),this._parser.registerOscHandler(111,new pr(h=>this.restoreBgColor(h))),this._parser.registerOscHandler(112,new pr(h=>this.restoreCursorColor(h))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let h in qn)this._parser.registerEscHandler({intermediates:"(",final:h},()=>this.selectCharset("("+h)),this._parser.registerEscHandler({intermediates:")",final:h},()=>this.selectCharset(")"+h)),this._parser.registerEscHandler({intermediates:"*",final:h},()=>this.selectCharset("*"+h)),this._parser.registerEscHandler({intermediates:"+",final:h},()=>this.selectCharset("+"+h)),this._parser.registerEscHandler({intermediates:"-",final:h},()=>this.selectCharset("-"+h)),this._parser.registerEscHandler({intermediates:".",final:h},()=>this.selectCharset("."+h)),this._parser.registerEscHandler({intermediates:"/",final:h},()=>this.selectCharset("/"+h));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(h=>(this._logService.error("Parsing error: ",h),h)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new lO((h,m)=>this.requestStatusString(h,m)))}getAttrData(){return this._curAttrData}_preserveStack(t,e,n,s){this._parseStack.paused=!0,this._parseStack.cursorStartX=t,this._parseStack.cursorStartY=e,this._parseStack.decodedLength=n,this._parseStack.position=s}_logSlowResolvingAsync(t){this._logService.logLevel<=3&&Promise.race([t,new Promise((e,n)=>setTimeout(()=>n("#SLOW_TIMEOUT"),dO))]).catch(e=>{if(e!=="#SLOW_TIMEOUT")throw e;console.warn(`async parser handler taking longer than ${dO} ms`)})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(t,e){let n,s=this._activeBuffer.x,r=this._activeBuffer.y,i=0,a=this._parseStack.paused;if(a){if(n=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,e))return this._logSlowResolvingAsync(n),n;s=this._parseStack.cursorStartX,r=this._parseStack.cursorStartY,this._parseStack.paused=!1,t.length>po&&(i=this._parseStack.position+po)}if(this._logService.logLevel<=1&&this._logService.debug(`parsing data ${typeof t=="string"?` "${t}"`:` "${Array.prototype.map.call(t,h=>String.fromCharCode(h)).join("")}"`}`),this._logService.logLevel===0&&this._logService.trace("parsing data (codes)",typeof t=="string"?t.split("").map(h=>h.charCodeAt(0)):t),this._parseBuffer.length<t.length&&this._parseBuffer.length<po&&(this._parseBuffer=new Uint32Array(Math.min(t.length,po))),a||this._dirtyRowTracker.clearRange(),t.length>po)for(let h=i;h<t.length;h+=po){let m=h+po<t.length?h+po:t.length,p=typeof t=="string"?this._stringDecoder.decode(t.substring(h,m),this._parseBuffer):this._utf8Decoder.decode(t.subarray(h,m),this._parseBuffer);if(n=this._parser.parse(this._parseBuffer,p))return this._preserveStack(s,r,p,h),this._logSlowResolvingAsync(n),n}else if(!a){let h=typeof t=="string"?this._stringDecoder.decode(t,this._parseBuffer):this._utf8Decoder.decode(t,this._parseBuffer);if(n=this._parser.parse(this._parseBuffer,h))return this._preserveStack(s,r,h,0),this._logSlowResolvingAsync(n),n}(this._activeBuffer.x!==s||this._activeBuffer.y!==r)&&this._onCursorMove.fire();let c=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),u=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);u<this._bufferService.rows&&this._onRequestRefreshRows.fire({start:Math.min(u,this._bufferService.rows-1),end:Math.min(c,this._bufferService.rows-1)})}print(t,e,n){let s,r,i=this._charsetService.charset,a=this._optionsService.rawOptions.screenReaderMode,c=this._bufferService.cols,u=this._coreService.decPrivateModes.wraparound,h=this._coreService.modes.insertMode,m=this._curAttrData,p=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&n-e>0&&p.getWidth(this._activeBuffer.x-1)===2&&p.setCellFromCodepoint(this._activeBuffer.x-1,0,1,m);let y=this._parser.precedingJoinState;for(let v=e;v<n;++v){if(s=t[v],s<127&&i){let k=i[String.fromCharCode(s)];k&&(s=k.charCodeAt(0))}let b=this._unicodeService.charProperties(s,y);r=kl.extractWidth(b);let x=kl.extractShouldJoin(b),S=x?kl.extractWidth(y):0;if(y=b,a&&this._onA11yChar.fire(bo(s)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+r-S>c){if(u){let k=p,C=this._activeBuffer.x-S;for(this._activeBuffer.x=S,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),p=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),S>0&&p instanceof gf&&p.copyCellsFrom(k,C,0,S,!1);C<c;)k.setCellFromCodepoint(C++,0,1,m)}else if(this._activeBuffer.x=c-1,r===2)continue}if(x&&this._activeBuffer.x){let k=p.getWidth(this._activeBuffer.x-1)?1:2;p.addCodepointToCell(this._activeBuffer.x-k,s,r);for(let C=r-S;--C>=0;)p.setCellFromCodepoint(this._activeBuffer.x++,0,0,m);continue}if(h&&(p.insertCells(this._activeBuffer.x,r-S,this._activeBuffer.getNullCell(m)),p.getWidth(c-1)===2&&p.setCellFromCodepoint(c-1,0,1,m)),p.setCellFromCodepoint(this._activeBuffer.x++,s,r,m),r>0)for(;--r;)p.setCellFromCodepoint(this._activeBuffer.x++,0,0,m)}this._parser.precedingJoinState=y,this._activeBuffer.x<c&&n-e>0&&p.getWidth(this._activeBuffer.x)===0&&!p.hasContent(this._activeBuffer.x)&&p.setCellFromCodepoint(this._activeBuffer.x,0,1,m),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(t,e){return t.final==="t"&&!t.prefix&&!t.intermediates?this._parser.registerCsiHandler(t,n=>hO(n.params[0],this._optionsService.rawOptions.windowOptions)?e(n):!0):this._parser.registerCsiHandler(t,e)}registerDcsHandler(t,e){return this._parser.registerDcsHandler(t,new lO(e))}registerEscHandler(t,e){return this._parser.registerEscHandler(t,e)}registerOscHandler(t,e){return this._parser.registerOscHandler(t,new pr(e))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);t.hasWidth(this._activeBuffer.x)&&!t.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-t),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(t=this._bufferService.cols-1){this._activeBuffer.x=Math.min(t,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(t,e){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=t,this._activeBuffer.y=this._activeBuffer.scrollTop+e):(this._activeBuffer.x=t,this._activeBuffer.y=e),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(t,e){this._restrictCursor(),this._setCursor(this._activeBuffer.x+t,this._activeBuffer.y+e)}cursorUp(t){let e=this._activeBuffer.y-this._activeBuffer.scrollTop;return e>=0?this._moveCursor(0,-Math.min(e,t.params[0]||1)):this._moveCursor(0,-(t.params[0]||1)),!0}cursorDown(t){let e=this._activeBuffer.scrollBottom-this._activeBuffer.y;return e>=0?this._moveCursor(0,Math.min(e,t.params[0]||1)):this._moveCursor(0,t.params[0]||1),!0}cursorForward(t){return this._moveCursor(t.params[0]||1,0),!0}cursorBackward(t){return this._moveCursor(-(t.params[0]||1),0),!0}cursorNextLine(t){return this.cursorDown(t),this._activeBuffer.x=0,!0}cursorPrecedingLine(t){return this.cursorUp(t),this._activeBuffer.x=0,!0}cursorCharAbsolute(t){return this._setCursor((t.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(t){return this._setCursor(t.length>=2?(t.params[1]||1)-1:0,(t.params[0]||1)-1),!0}charPosAbsolute(t){return this._setCursor((t.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(t){return this._moveCursor(t.params[0]||1,0),!0}linePosAbsolute(t){return this._setCursor(this._activeBuffer.x,(t.params[0]||1)-1),!0}vPositionRelative(t){return this._moveCursor(0,t.params[0]||1),!0}hVPosition(t){return this.cursorPosition(t),!0}tabClear(t){let e=t.params[0];return e===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:e===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(t){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let e=t.params[0]||1;for(;e--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(t){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let e=t.params[0]||1;for(;e--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(t){let e=t.params[0];return e===1&&(this._curAttrData.bg|=536870912),(e===2||e===0)&&(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(t,e,n,s=!1,r=!1){let i=this._activeBuffer.lines.get(this._activeBuffer.ybase+t);i.replaceCells(e,n,this._activeBuffer.getNullCell(this._eraseAttrData()),r),s&&(i.isWrapped=!1)}_resetBufferLine(t,e=!1){let n=this._activeBuffer.lines.get(this._activeBuffer.ybase+t);n&&(n.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),e),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+t),n.isWrapped=!1)}eraseInDisplay(t,e=!1){this._restrictCursor(this._bufferService.cols);let n;switch(t.params[0]){case 0:for(n=this._activeBuffer.y,this._dirtyRowTracker.markDirty(n),this._eraseInBufferLine(n++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,e);n<this._bufferService.rows;n++)this._resetBufferLine(n,e);this._dirtyRowTracker.markDirty(n);break;case 1:for(n=this._activeBuffer.y,this._dirtyRowTracker.markDirty(n),this._eraseInBufferLine(n,0,this._activeBuffer.x+1,!0,e),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(n+1).isWrapped=!1);n--;)this._resetBufferLine(n,e);this._dirtyRowTracker.markDirty(0);break;case 2:if(this._optionsService.rawOptions.scrollOnEraseInDisplay){for(n=this._bufferService.rows,this._dirtyRowTracker.markRangeDirty(0,n-1);n--&&!this._activeBuffer.lines.get(this._activeBuffer.ybase+n)?.getTrimmedLength(););for(;n>=0;n--)this._bufferService.scroll(this._eraseAttrData())}else{for(n=this._bufferService.rows,this._dirtyRowTracker.markDirty(n-1);n--;)this._resetBufferLine(n,e);this._dirtyRowTracker.markDirty(0)}break;case 3:let s=this._activeBuffer.lines.length-this._bufferService.rows;s>0&&(this._activeBuffer.lines.trimStart(s),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-s,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-s,0),this._onScroll.fire(0));break}return!0}eraseInLine(t,e=!1){switch(this._restrictCursor(this._bufferService.cols),t.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,e);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,e);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,e);break}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(t){this._restrictCursor();let e=t.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let n=this._activeBuffer.ybase+this._activeBuffer.y,s=this._bufferService.rows-1-this._activeBuffer.scrollBottom,r=this._bufferService.rows-1+this._activeBuffer.ybase-s+1;for(;e--;)this._activeBuffer.lines.splice(r-1,1),this._activeBuffer.lines.splice(n,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(t){this._restrictCursor();let e=t.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let n=this._activeBuffer.ybase+this._activeBuffer.y,s;for(s=this._bufferService.rows-1-this._activeBuffer.scrollBottom,s=this._bufferService.rows-1+this._activeBuffer.ybase-s;e--;)this._activeBuffer.lines.splice(n,1),this._activeBuffer.lines.splice(s,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(t){this._restrictCursor();let e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return e&&(e.insertCells(this._activeBuffer.x,t.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(t){this._restrictCursor();let e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return e&&(e.deleteCells(this._activeBuffer.x,t.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(t){let e=t.params[0]||1;for(;e--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(t){let e=t.params[0]||1;for(;e--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(Dn));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(t){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let e=t.params[0]||1;for(let n=this._activeBuffer.scrollTop;n<=this._activeBuffer.scrollBottom;++n){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);s.deleteCells(0,e,this._activeBuffer.getNullCell(this._eraseAttrData())),s.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(t){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let e=t.params[0]||1;for(let n=this._activeBuffer.scrollTop;n<=this._activeBuffer.scrollBottom;++n){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);s.insertCells(0,e,this._activeBuffer.getNullCell(this._eraseAttrData())),s.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(t){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let e=t.params[0]||1;for(let n=this._activeBuffer.scrollTop;n<=this._activeBuffer.scrollBottom;++n){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);s.insertCells(this._activeBuffer.x,e,this._activeBuffer.getNullCell(this._eraseAttrData())),s.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(t){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let e=t.params[0]||1;for(let n=this._activeBuffer.scrollTop;n<=this._activeBuffer.scrollBottom;++n){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);s.deleteCells(this._activeBuffer.x,e,this._activeBuffer.getNullCell(this._eraseAttrData())),s.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(t){this._restrictCursor();let e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return e&&(e.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(t.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(t){let e=this._parser.precedingJoinState;if(!e)return!0;let n=t.params[0]||1,s=kl.extractWidth(e),r=this._activeBuffer.x-s,i=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(r),a=new Uint32Array(i.length*n),c=0;for(let h=0;h<i.length;){let m=i.codePointAt(h)||0;a[c++]=m,h+=m>65535?2:1}let u=c;for(let h=1;h<n;++h)a.copyWithin(u,0,c),u+=c;return this.print(a,0,u),!0}sendDeviceAttributesPrimary(t){return t.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(be.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(be.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(t){return t.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(be.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(be.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(t.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(be.ESC+"[>83;40003;0c")),!0}_is(t){return(this._optionsService.rawOptions.termName+"").indexOf(t)===0}setMode(t){for(let e=0;e<t.length;e++)switch(t.params[e]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0;break}return!0}setModePrivate(t){for(let e=0;e<t.length;e++)switch(t.params[e]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,ml),this._charsetService.setgCharset(1,ml),this._charsetService.setgCharset(2,ml),this._charsetService.setgCharset(3,ml);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0;break;case 2026:this._coreService.decPrivateModes.synchronizedOutput=!0;break}return!0}resetMode(t){for(let e=0;e<t.length;e++)switch(t.params[e]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1;break}return!0}resetModePrivate(t){for(let e=0;e<t.length;e++)switch(t.params[e]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),t.params[e]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1;break;case 2026:this._coreService.decPrivateModes.synchronizedOutput=!1,this._onRequestRefreshRows.fire(void 0);break}return!0}requestMode(t,e){let n;(x=>(x[x.NOT_RECOGNIZED=0]="NOT_RECOGNIZED",x[x.SET=1]="SET",x[x.RESET=2]="RESET",x[x.PERMANENTLY_SET=3]="PERMANENTLY_SET",x[x.PERMANENTLY_RESET=4]="PERMANENTLY_RESET"))(n||={});let s=this._coreService.decPrivateModes,{activeProtocol:r,activeEncoding:i}=this._coreMouseService,a=this._coreService,{buffers:c,cols:u}=this._bufferService,{active:h,alt:m}=c,p=this._optionsService.rawOptions,y=(x,S)=>(a.triggerDataEvent(`${be.ESC}[${e?"":"?"}${x};${S}$y`),!0),v=x=>x?1:2,b=t.params[0];return e?b===2?y(b,4):b===4?y(b,v(a.modes.insertMode)):b===12?y(b,3):b===20?y(b,v(p.convertEol)):y(b,0):b===1?y(b,v(s.applicationCursorKeys)):b===3?y(b,p.windowOptions.setWinLines?u===80?2:u===132?1:0:0):b===6?y(b,v(s.origin)):b===7?y(b,v(s.wraparound)):b===8?y(b,3):b===9?y(b,v(r==="X10")):b===12?y(b,v(p.cursorBlink)):b===25?y(b,v(!a.isCursorHidden)):b===45?y(b,v(s.reverseWraparound)):b===66?y(b,v(s.applicationKeypad)):b===67?y(b,4):b===1e3?y(b,v(r==="VT200")):b===1002?y(b,v(r==="DRAG")):b===1003?y(b,v(r==="ANY")):b===1004?y(b,v(s.sendFocus)):b===1005?y(b,4):b===1006?y(b,v(i==="SGR")):b===1015?y(b,4):b===1016?y(b,v(i==="SGR_PIXELS")):b===1048?y(b,1):b===47||b===1047||b===1049?y(b,v(h===m)):b===2004?y(b,v(s.bracketedPasteMode)):b===2026?y(b,v(s.synchronizedOutput)):y(b,0)}_updateAttrColor(t,e,n,s,r){return e===2?(t|=50331648,t&=-16777216,t|=Xp.fromColorRGB([n,s,r])):e===5&&(t&=-50331904,t|=33554432|n&255),t}_extractColor(t,e,n){let s=[0,0,-1,0,0,0],r=0,i=0;do{if(s[i+r]=t.params[e+i],t.hasSubParams(e+i)){let a=t.getSubParams(e+i),c=0;do s[1]===5&&(r=1),s[i+c+1+r]=a[c];while(++c<a.length&&c+i+1+r<s.length);break}if(s[1]===5&&i+r>=2||s[1]===2&&i+r>=5)break;s[1]&&(r=1)}while(++i+e<t.length&&i+r<s.length);for(let a=2;a<s.length;++a)s[a]===-1&&(s[a]=0);switch(s[0]){case 38:n.fg=this._updateAttrColor(n.fg,s[1],s[3],s[4],s[5]);break;case 48:n.bg=this._updateAttrColor(n.bg,s[1],s[3],s[4],s[5]);break;case 58:n.extended=n.extended.clone(),n.extended.underlineColor=this._updateAttrColor(n.extended.underlineColor,s[1],s[3],s[4],s[5])}return i}_processUnderline(t,e){e.extended=e.extended.clone(),(!~t||t>5)&&(t=1),e.extended.underlineStyle=t,e.fg|=268435456,t===0&&(e.fg&=-268435457),e.updateExtended()}_processSGR0(t){t.fg=Dn.fg,t.bg=Dn.bg,t.extended=t.extended.clone(),t.extended.underlineStyle=0,t.extended.underlineColor&=-67108864,t.updateExtended()}charAttributes(t){if(t.length===1&&t.params[0]===0)return this._processSGR0(this._curAttrData),!0;let e=t.length,n,s=this._curAttrData;for(let r=0;r<e;r++)n=t.params[r],n>=30&&n<=37?(s.fg&=-50331904,s.fg|=16777216|n-30):n>=40&&n<=47?(s.bg&=-50331904,s.bg|=16777216|n-40):n>=90&&n<=97?(s.fg&=-50331904,s.fg|=16777216|n-90|8):n>=100&&n<=107?(s.bg&=-50331904,s.bg|=16777216|n-100|8):n===0?this._processSGR0(s):n===1?s.fg|=134217728:n===3?s.bg|=67108864:n===4?(s.fg|=268435456,this._processUnderline(t.hasSubParams(r)?t.getSubParams(r)[0]:1,s)):n===5?s.fg|=536870912:n===7?s.fg|=67108864:n===8?s.fg|=1073741824:n===9?s.fg|=2147483648:n===2?s.bg|=134217728:n===21?this._processUnderline(2,s):n===22?(s.fg&=-134217729,s.bg&=-134217729):n===23?s.bg&=-67108865:n===24?(s.fg&=-268435457,this._processUnderline(0,s)):n===25?s.fg&=-536870913:n===27?s.fg&=-67108865:n===28?s.fg&=-1073741825:n===29?s.fg&=2147483647:n===39?(s.fg&=-67108864,s.fg|=Dn.fg&16777215):n===49?(s.bg&=-67108864,s.bg|=Dn.bg&16777215):n===38||n===48||n===58?r+=this._extractColor(t,r,s):n===53?s.bg|=1073741824:n===55?s.bg&=-1073741825:n===59?(s.extended=s.extended.clone(),s.extended.underlineColor=-1,s.updateExtended()):n===100?(s.fg&=-67108864,s.fg|=Dn.fg&16777215,s.bg&=-67108864,s.bg|=Dn.bg&16777215):this._logService.debug("Unknown SGR attribute: %d.",n);return!0}deviceStatus(t){switch(t.params[0]){case 5:this._coreService.triggerDataEvent(`${be.ESC}[0n`);break;case 6:let e=this._activeBuffer.y+1,n=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${be.ESC}[${e};${n}R`);break}return!0}deviceStatusPrivate(t){if(t.params[0]===6){let e=this._activeBuffer.y+1,n=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${be.ESC}[?${e};${n}R`)}return!0}softReset(t){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=Dn.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(t){let e=t.length===0?1:t.params[0];if(e===0)this._coreService.decPrivateModes.cursorStyle=void 0,this._coreService.decPrivateModes.cursorBlink=void 0;else{switch(e){case 1:case 2:this._coreService.decPrivateModes.cursorStyle="block";break;case 3:case 4:this._coreService.decPrivateModes.cursorStyle="underline";break;case 5:case 6:this._coreService.decPrivateModes.cursorStyle="bar";break}let n=e%2===1;this._coreService.decPrivateModes.cursorBlink=n}return!0}setScrollRegion(t){let e=t.params[0]||1,n;return(t.length<2||(n=t.params[1])>this._bufferService.rows||n===0)&&(n=this._bufferService.rows),n>e&&(this._activeBuffer.scrollTop=e-1,this._activeBuffer.scrollBottom=n-1,this._setCursor(0,0)),!0}windowOptions(t){if(!hO(t.params[0],this._optionsService.rawOptions.windowOptions))return!0;let e=t.length>1?t.params[1]:0;switch(t.params[0]){case 14:e!==2&&this._onRequestWindowsOptionsReport.fire(0);break;case 16:this._onRequestWindowsOptionsReport.fire(1);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${be.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:(e===0||e===2)&&(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>uO&&this._windowTitleStack.shift()),(e===0||e===1)&&(this._iconNameStack.push(this._iconName),this._iconNameStack.length>uO&&this._iconNameStack.shift());break;case 23:(e===0||e===2)&&this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),(e===0||e===1)&&this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop());break}return!0}saveCursor(t){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(t){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(t){return this._windowTitle=t,this._onTitleChange.fire(t),!0}setIconName(t){return this._iconName=t,!0}setOrReportIndexedColor(t){let e=[],n=t.split(";");for(;n.length>1;){let s=n.shift(),r=n.shift();if(/^\d+$/.exec(s)){let i=parseInt(s);if(pO(i))if(r==="?")e.push({type:0,index:i});else{let a=cO(r);a&&e.push({type:1,index:i,color:a})}}}return e.length&&this._onColor.fire(e),!0}setHyperlink(t){let e=t.indexOf(";");if(e===-1)return!0;let n=t.slice(0,e).trim(),s=t.slice(e+1);return s?this._createHyperlink(n,s):n.trim()?!1:this._finishHyperlink()}_createHyperlink(t,e){this._getCurrentLinkId()&&this._finishHyperlink();let n=t.split(":"),s,r=n.findIndex(i=>i.startsWith("id="));return r!==-1&&(s=n[r].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:s,uri:e}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(t,e){let n=t.split(";");for(let s=0;s<n.length&&!(e>=this._specialColors.length);++s,++e)if(n[s]==="?")this._onColor.fire([{type:0,index:this._specialColors[e]}]);else{let r=cO(n[s]);r&&this._onColor.fire([{type:1,index:this._specialColors[e],color:r}])}return!0}setOrReportFgColor(t){return this._setOrReportSpecialColor(t,0)}setOrReportBgColor(t){return this._setOrReportSpecialColor(t,1)}setOrReportCursorColor(t){return this._setOrReportSpecialColor(t,2)}restoreIndexedColor(t){if(!t)return this._onColor.fire([{type:2}]),!0;let e=[],n=t.split(";");for(let s=0;s<n.length;++s)if(/^\d+$/.exec(n[s])){let r=parseInt(n[s]);pO(r)&&e.push({type:2,index:r})}return e.length&&this._onColor.fire(e),!0}restoreFgColor(t){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(t){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(t){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,ml),!0}selectCharset(t){return t.length!==2?(this.selectDefaultCharset(),!0):(t[0]==="/"||this._charsetService.setgCharset(Yse[t[0]],qn[t[1]]||ml),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){let t=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,t,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=Dn.clone(),this._eraseAttrDataInternal=Dn.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=this._curAttrData.bg&67108863,this._eraseAttrDataInternal}setgLevel(t){return this._charsetService.setgLevel(t),!0}screenAlignmentPattern(){let t=new Jr;t.content=1<<22|69,t.fg=this._curAttrData.fg,t.bg=this._curAttrData.bg,this._setCursor(0,0);for(let e=0;e<this._bufferService.rows;++e){let n=this._activeBuffer.ybase+this._activeBuffer.y+e,s=this._activeBuffer.lines.get(n);s&&(s.fill(t),s.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(t,e){let n=a=>(this._coreService.triggerDataEvent(`${be.ESC}${a}${be.ESC}\\`),!0),s=this._bufferService.buffer,r=this._optionsService.rawOptions;return n(t==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:t==='"p'?'P1$r61;1"p':t==="r"?`P1$r${s.scrollTop+1};${s.scrollBottom+1}r`:t==="m"?"P1$r0m":t===" q"?`P1$r${{block:2,underline:4,bar:6}[r.cursorStyle]-(r.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(t,e){this._dirtyRowTracker.markRangeDirty(t,e)}},n2=class{constructor(t){this._bufferService=t,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(t){t<this.start?this.start=t:t>this.end&&(this.end=t)}markRangeDirty(t,e){t>e&&(fO=t,t=e,e=fO),t<this.start&&(this.start=t),e>this.end&&(this.end=e)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};n2=xn([Pe(0,$s)],n2);function pO(t){return 0<=t&&t<256}var Xse=5e7,mO=12,Jse=50,Qse=class extends kt{constructor(t){super(),this._action=t,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this._register(new Te),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(t,e){if(e!==void 0&&this._syncCalls>e){this._syncCalls=0;return}if(this._pendingData+=t.length,this._writeBuffer.push(t),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;this._isSyncWriting=!0;let n;for(;n=this._writeBuffer.shift();){this._action(n);let s=this._callbacks.shift();s&&s()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(t,e){if(this._pendingData>Xse)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput){this._didUserInput=!1,this._pendingData+=t.length,this._writeBuffer.push(t),this._callbacks.push(e),this._innerWrite();return}setTimeout(()=>this._innerWrite())}this._pendingData+=t.length,this._writeBuffer.push(t),this._callbacks.push(e)}_innerWrite(t=0,e=!0){let n=t||performance.now();for(;this._writeBuffer.length>this._bufferOffset;){let s=this._writeBuffer[this._bufferOffset],r=this._action(s,e);if(r){let a=c=>performance.now()-n>=mO?setTimeout(()=>this._innerWrite(0,c)):this._innerWrite(n,c);r.catch(c=>(queueMicrotask(()=>{throw c}),Promise.resolve(!1))).then(a);return}let i=this._callbacks[this._bufferOffset];if(i&&i(),this._bufferOffset++,this._pendingData-=s.length,performance.now()-n>=mO)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>Jse&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}},s2=class{constructor(t){this._bufferService=t,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(t){let e=this._bufferService.buffer;if(t.id===void 0){let c=e.addMarker(e.ybase+e.y),u={data:t,id:this._nextId++,lines:[c]};return c.onDispose(()=>this._removeMarkerFromLink(u,c)),this._dataByLinkId.set(u.id,u),u.id}let n=t,s=this._getEntryIdKey(n),r=this._entriesWithId.get(s);if(r)return this.addLineToLink(r.id,e.ybase+e.y),r.id;let i=e.addMarker(e.ybase+e.y),a={id:this._nextId++,key:this._getEntryIdKey(n),data:n,lines:[i]};return i.onDispose(()=>this._removeMarkerFromLink(a,i)),this._entriesWithId.set(a.key,a),this._dataByLinkId.set(a.id,a),a.id}addLineToLink(t,e){let n=this._dataByLinkId.get(t);if(n&&n.lines.every(s=>s.line!==e)){let s=this._bufferService.buffer.addMarker(e);n.lines.push(s),s.onDispose(()=>this._removeMarkerFromLink(n,s))}}getLinkData(t){return this._dataByLinkId.get(t)?.data}_getEntryIdKey(t){return`${t.id};;${t.uri}`}_removeMarkerFromLink(t,e){let n=t.lines.indexOf(e);n!==-1&&(t.lines.splice(n,1),t.lines.length===0&&(t.data.id!==void 0&&this._entriesWithId.delete(t.key),this._dataByLinkId.delete(t.id)))}};s2=xn([Pe(0,$s)],s2);var gO=!1,ere=class extends kt{constructor(t){super(),this._windowsWrappingHeuristics=this._register(new th),this._onBinary=this._register(new Te),this.onBinary=this._onBinary.event,this._onData=this._register(new Te),this.onData=this._onData.event,this._onLineFeed=this._register(new Te),this.onLineFeed=this._onLineFeed.event,this._onResize=this._register(new Te),this.onResize=this._onResize.event,this._onWriteParsed=this._register(new Te),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this._register(new Te),this._instantiationService=new kse,this.optionsService=this._register(new Dse(t)),this._instantiationService.setService(zs,this.optionsService),this._bufferService=this._register(this._instantiationService.createInstance(Jk)),this._instantiationService.setService($s,this._bufferService),this._logService=this._register(this._instantiationService.createInstance(Xk)),this._instantiationService.setService(zL,this._logService),this.coreService=this._register(this._instantiationService.createInstance(Qk)),this._instantiationService.setService(fc,this.coreService),this.coreMouseService=this._register(this._instantiationService.createInstance(e2)),this._instantiationService.setService($L,this.coreMouseService),this.unicodeService=this._register(this._instantiationService.createInstance(kl)),this._instantiationService.setService(_te,this.unicodeService),this._charsetService=this._instantiationService.createInstance($se),this._instantiationService.setService(bte,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(s2),this._instantiationService.setService(UL,this._oscLinkService),this._inputHandler=this._register(new Zse(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this._register(ds.forward(this._inputHandler.onLineFeed,this._onLineFeed)),this._register(this._inputHandler),this._register(ds.forward(this._bufferService.onResize,this._onResize)),this._register(ds.forward(this.coreService.onData,this._onData)),this._register(ds.forward(this.coreService.onBinary,this._onBinary)),this._register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom(!0))),this._register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this._register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this._register(this._bufferService.onScroll(()=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this._register(new Qse((e,n)=>this._inputHandler.parse(e,n))),this._register(ds.forward(this._writeBuffer.onWriteParsed,this._onWriteParsed))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this._register(new Te),this._onScroll.event(t=>{this._onScrollApi?.fire(t.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(t){for(let e in t)this.optionsService.options[e]=t[e]}write(t,e){this._writeBuffer.write(t,e)}writeSync(t,e){this._logService.logLevel<=3&&!gO&&(this._logService.warn("writeSync is unreliable and will be removed soon."),gO=!0),this._writeBuffer.writeSync(t,e)}input(t,e=!0){this.coreService.triggerDataEvent(t,e)}resize(t,e){isNaN(t)||isNaN(e)||(t=Math.max(t,bI),e=Math.max(e,_I),this._bufferService.resize(t,e))}scroll(t,e=!1){this._bufferService.scroll(t,e)}scrollLines(t,e){this._bufferService.scrollLines(t,e)}scrollPages(t){this.scrollLines(t*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(t){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(t){let e=t-this._bufferService.buffer.ydisp;e!==0&&this.scrollLines(e)}registerEscHandler(t,e){return this._inputHandler.registerEscHandler(t,e)}registerDcsHandler(t,e){return this._inputHandler.registerDcsHandler(t,e)}registerCsiHandler(t,e){return this._inputHandler.registerCsiHandler(t,e)}registerOscHandler(t,e){return this._inputHandler.registerOscHandler(t,e)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let t=!1,e=this.optionsService.rawOptions.windowsPty;e&&e.buildNumber!==void 0&&e.buildNumber!==void 0?t=e.backend==="conpty"&&e.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(t=!0),t?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){let t=[];t.push(this.onLineFeed(oO.bind(null,this._bufferService))),t.push(this.registerCsiHandler({final:"H"},()=>(oO(this._bufferService),!1))),this._windowsWrappingHeuristics.value=hn(()=>{for(let e of t)e.dispose()})}}},tre={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};function nre(t,e,n,s){let r={type:0,cancel:!1,key:void 0},i=(t.shiftKey?1:0)|(t.altKey?2:0)|(t.ctrlKey?4:0)|(t.metaKey?8:0);switch(t.keyCode){case 0:t.key==="UIKeyInputUpArrow"?e?r.key=be.ESC+"OA":r.key=be.ESC+"[A":t.key==="UIKeyInputLeftArrow"?e?r.key=be.ESC+"OD":r.key=be.ESC+"[D":t.key==="UIKeyInputRightArrow"?e?r.key=be.ESC+"OC":r.key=be.ESC+"[C":t.key==="UIKeyInputDownArrow"&&(e?r.key=be.ESC+"OB":r.key=be.ESC+"[B");break;case 8:r.key=t.ctrlKey?"\b":be.DEL,t.altKey&&(r.key=be.ESC+r.key);break;case 9:if(t.shiftKey){r.key=be.ESC+"[Z";break}r.key=be.HT,r.cancel=!0;break;case 13:r.key=t.altKey?be.ESC+be.CR:be.CR,r.cancel=!0;break;case 27:r.key=be.ESC,t.altKey&&(r.key=be.ESC+be.ESC),r.cancel=!0;break;case 37:if(t.metaKey)break;i?r.key=be.ESC+"[1;"+(i+1)+"D":e?r.key=be.ESC+"OD":r.key=be.ESC+"[D";break;case 39:if(t.metaKey)break;i?r.key=be.ESC+"[1;"+(i+1)+"C":e?r.key=be.ESC+"OC":r.key=be.ESC+"[C";break;case 38:if(t.metaKey)break;i?r.key=be.ESC+"[1;"+(i+1)+"A":e?r.key=be.ESC+"OA":r.key=be.ESC+"[A";break;case 40:if(t.metaKey)break;i?r.key=be.ESC+"[1;"+(i+1)+"B":e?r.key=be.ESC+"OB":r.key=be.ESC+"[B";break;case 45:!t.shiftKey&&!t.ctrlKey&&(r.key=be.ESC+"[2~");break;case 46:i?r.key=be.ESC+"[3;"+(i+1)+"~":r.key=be.ESC+"[3~";break;case 36:i?r.key=be.ESC+"[1;"+(i+1)+"H":e?r.key=be.ESC+"OH":r.key=be.ESC+"[H";break;case 35:i?r.key=be.ESC+"[1;"+(i+1)+"F":e?r.key=be.ESC+"OF":r.key=be.ESC+"[F";break;case 33:t.shiftKey?r.type=2:t.ctrlKey?r.key=be.ESC+"[5;"+(i+1)+"~":r.key=be.ESC+"[5~";break;case 34:t.shiftKey?r.type=3:t.ctrlKey?r.key=be.ESC+"[6;"+(i+1)+"~":r.key=be.ESC+"[6~";break;case 112:i?r.key=be.ESC+"[1;"+(i+1)+"P":r.key=be.ESC+"OP";break;case 113:i?r.key=be.ESC+"[1;"+(i+1)+"Q":r.key=be.ESC+"OQ";break;case 114:i?r.key=be.ESC+"[1;"+(i+1)+"R":r.key=be.ESC+"OR";break;case 115:i?r.key=be.ESC+"[1;"+(i+1)+"S":r.key=be.ESC+"OS";break;case 116:i?r.key=be.ESC+"[15;"+(i+1)+"~":r.key=be.ESC+"[15~";break;case 117:i?r.key=be.ESC+"[17;"+(i+1)+"~":r.key=be.ESC+"[17~";break;case 118:i?r.key=be.ESC+"[18;"+(i+1)+"~":r.key=be.ESC+"[18~";break;case 119:i?r.key=be.ESC+"[19;"+(i+1)+"~":r.key=be.ESC+"[19~";break;case 120:i?r.key=be.ESC+"[20;"+(i+1)+"~":r.key=be.ESC+"[20~";break;case 121:i?r.key=be.ESC+"[21;"+(i+1)+"~":r.key=be.ESC+"[21~";break;case 122:i?r.key=be.ESC+"[23;"+(i+1)+"~":r.key=be.ESC+"[23~";break;case 123:i?r.key=be.ESC+"[24;"+(i+1)+"~":r.key=be.ESC+"[24~";break;default:if(t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey)t.keyCode>=65&&t.keyCode<=90?r.key=String.fromCharCode(t.keyCode-64):t.keyCode===32?r.key=be.NUL:t.keyCode>=51&&t.keyCode<=55?r.key=String.fromCharCode(t.keyCode-51+27):t.keyCode===56?r.key=be.DEL:t.keyCode===219?r.key=be.ESC:t.keyCode===220?r.key=be.FS:t.keyCode===221&&(r.key=be.GS);else if((!n||s)&&t.altKey&&!t.metaKey){let a=tre[t.keyCode]?.[t.shiftKey?1:0];if(a)r.key=be.ESC+a;else if(t.keyCode>=65&&t.keyCode<=90){let c=t.ctrlKey?t.keyCode-64:t.keyCode+32,u=String.fromCharCode(c);t.shiftKey&&(u=u.toUpperCase()),r.key=be.ESC+u}else if(t.keyCode===32)r.key=be.ESC+(t.ctrlKey?be.NUL:" ");else if(t.key==="Dead"&&t.code.startsWith("Key")){let c=t.code.slice(3,4);t.shiftKey||(c=c.toLowerCase()),r.key=be.ESC+c,r.cancel=!0}}else n&&!t.altKey&&!t.ctrlKey&&!t.shiftKey&&t.metaKey?t.keyCode===65&&(r.type=1):t.key&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&t.keyCode>=48&&t.key.length===1?r.key=t.key:t.key&&t.ctrlKey&&(t.key==="_"&&(r.key=be.US),t.key==="@"&&(r.key=be.NUL));break}return r}var kn=0,sre=class{constructor(t){this._getKey=t,this._array=[],this._insertedValues=[],this._flushInsertedTask=new qy,this._isFlushingInserted=!1,this._deletedIndices=[],this._flushDeletedTask=new qy,this._isFlushingDeleted=!1}clear(){this._array.length=0,this._insertedValues.length=0,this._flushInsertedTask.clear(),this._isFlushingInserted=!1,this._deletedIndices.length=0,this._flushDeletedTask.clear(),this._isFlushingDeleted=!1}insert(t){this._flushCleanupDeleted(),this._insertedValues.length===0&&this._flushInsertedTask.enqueue(()=>this._flushInserted()),this._insertedValues.push(t)}_flushInserted(){let t=this._insertedValues.sort((r,i)=>this._getKey(r)-this._getKey(i)),e=0,n=0,s=new Array(this._array.length+this._insertedValues.length);for(let r=0;r<s.length;r++)n>=this._array.length||this._getKey(t[e])<=this._getKey(this._array[n])?(s[r]=t[e],e++):s[r]=this._array[n++];this._array=s,this._insertedValues.length=0}_flushCleanupInserted(){!this._isFlushingInserted&&this._insertedValues.length>0&&this._flushInsertedTask.flush()}delete(t){if(this._flushCleanupInserted(),this._array.length===0)return!1;let e=this._getKey(t);if(e===void 0||(kn=this._search(e),kn===-1)||this._getKey(this._array[kn])!==e)return!1;do if(this._array[kn]===t)return this._deletedIndices.length===0&&this._flushDeletedTask.enqueue(()=>this._flushDeleted()),this._deletedIndices.push(kn),!0;while(++kn<this._array.length&&this._getKey(this._array[kn])===e);return!1}_flushDeleted(){this._isFlushingDeleted=!0;let t=this._deletedIndices.sort((r,i)=>r-i),e=0,n=new Array(this._array.length-t.length),s=0;for(let r=0;r<this._array.length;r++)t[e]===r?e++:n[s++]=this._array[r];this._array=n,this._deletedIndices.length=0,this._isFlushingDeleted=!1}_flushCleanupDeleted(){!this._isFlushingDeleted&&this._deletedIndices.length>0&&this._flushDeletedTask.flush()}*getKeyIterator(t){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(kn=this._search(t),!(kn<0||kn>=this._array.length)&&this._getKey(this._array[kn])===t))do yield this._array[kn];while(++kn<this._array.length&&this._getKey(this._array[kn])===t)}forEachByKey(t,e){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(kn=this._search(t),!(kn<0||kn>=this._array.length)&&this._getKey(this._array[kn])===t))do e(this._array[kn]);while(++kn<this._array.length&&this._getKey(this._array[kn])===t)}values(){return this._flushCleanupInserted(),this._flushCleanupDeleted(),[...this._array].values()}_search(t){let e=0,n=this._array.length-1;for(;n>=e;){let s=e+n>>1,r=this._getKey(this._array[s]);if(r>t)n=s-1;else if(r<t)e=s+1;else{for(;s>0&&this._getKey(this._array[s-1])===t;)s--;return s}}return e}},nw=0,yO=0,rre=class extends kt{constructor(){super(),this._decorations=new sre(t=>t?.marker.line),this._onDecorationRegistered=this._register(new Te),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this._register(new Te),this.onDecorationRemoved=this._onDecorationRemoved.event,this._register(hn(()=>this.reset()))}get decorations(){return this._decorations.values()}registerDecoration(t){if(t.marker.isDisposed)return;let e=new ire(t);if(e){let n=e.marker.onDispose(()=>e.dispose()),s=e.onDispose(()=>{s.dispose(),e&&(this._decorations.delete(e)&&this._onDecorationRemoved.fire(e),n.dispose())});this._decorations.insert(e),this._onDecorationRegistered.fire(e)}return e}reset(){for(let t of this._decorations.values())t.dispose();this._decorations.clear()}*getDecorationsAtCell(t,e,n){let s=0,r=0;for(let i of this._decorations.getKeyIterator(e))s=i.options.x??0,r=s+(i.options.width??1),t>=s&&t<r&&(!n||(i.options.layer??"bottom")===n)&&(yield i)}forEachDecorationAtCell(t,e,n,s){this._decorations.forEachByKey(e,r=>{nw=r.options.x??0,yO=nw+(r.options.width??1),t>=nw&&t<yO&&(!n||(r.options.layer??"bottom")===n)&&s(r)})}},ire=class extends Bo{constructor(t){super(),this.options=t,this.onRenderEmitter=this.add(new Te),this.onRender=this.onRenderEmitter.event,this._onDispose=this.add(new Te),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=t.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=gn.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=gn.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}},are=1e3,ore=class{constructor(t,e=are){this._renderCallback=t,this._debounceThresholdMS=e,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(t,e,n){this._rowCount=n,t=t!==void 0?t:0,e=e!==void 0?e:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,t):t,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,e):e;let s=performance.now();if(s-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=s,this._innerRefresh();else if(!this._additionalRefreshRequested){let r=s-this._lastRefreshMs,i=this._debounceThresholdMS-r;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=performance.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},i)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;let t=Math.max(this._rowStart,0),e=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(t,e)}},vO=20,Ky=class extends kt{constructor(t,e,n,s){super(),this._terminal=t,this._coreBrowserService=n,this._renderService=s,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="";let r=this._coreBrowserService.mainDocument;this._accessibilityContainer=r.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=r.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let i=0;i<this._terminal.rows;i++)this._rowElements[i]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[i]);if(this._topBoundaryFocusListener=i=>this._handleBoundaryFocus(i,0),this._bottomBoundaryFocusListener=i=>this._handleBoundaryFocus(i,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=r.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this._register(new ore(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this._register(this._terminal.onResize(i=>this._handleResize(i.rows))),this._register(this._terminal.onRender(i=>this._refreshRows(i.start,i.end))),this._register(this._terminal.onScroll(()=>this._refreshRows())),this._register(this._terminal.onA11yChar(i=>this._handleChar(i))),this._register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this._register(this._terminal.onA11yTab(i=>this._handleTab(i))),this._register(this._terminal.onKey(i=>this._handleKey(i.key))),this._register(this._terminal.onBlur(()=>this._clearLiveRegion())),this._register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._register(ht(r,"selectionchange",()=>this._handleSelectionChange())),this._register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRowsDimensions(),this._refreshRows(),this._register(hn(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(t){for(let e=0;e<t;e++)this._handleChar(" ")}_handleChar(t){this._liveRegionLineCount<vO+1&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==t&&(this._charsToAnnounce+=t):this._charsToAnnounce+=t,t===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===vO+1&&(this._liveRegion.textContent+=Sk.get())))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(t){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(t)||this._charsToConsume.push(t)}_refreshRows(t,e){this._liveRegionDebouncer.refresh(t,e,this._terminal.rows)}_renderRows(t,e){let n=this._terminal.buffer,s=n.lines.length.toString();for(let r=t;r<=e;r++){let i=n.lines.get(n.ydisp+r),a=[],c=i?.translateToString(!0,void 0,void 0,a)||"",u=(n.ydisp+r+1).toString(),h=this._rowElements[r];h&&(c.length===0?(h.textContent="",this._rowColumns.set(h,[0,1])):(h.textContent=c,this._rowColumns.set(h,a)),h.setAttribute("aria-posinset",u),h.setAttribute("aria-setsize",s),this._alignRowWidth(h))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(t,e){let n=t.target,s=this._rowElements[e===0?1:this._rowElements.length-2],r=n.getAttribute("aria-posinset"),i=e===0?"1":`${this._terminal.buffer.lines.length}`;if(r===i||t.relatedTarget!==s)return;let a,c;if(e===0?(a=n,c=this._rowElements.pop(),this._rowContainer.removeChild(c)):(a=this._rowElements.shift(),c=n,this._rowContainer.removeChild(a)),a.removeEventListener("focus",this._topBoundaryFocusListener),c.removeEventListener("focus",this._bottomBoundaryFocusListener),e===0){let u=this._createAccessibilityTreeNode();this._rowElements.unshift(u),this._rowContainer.insertAdjacentElement("afterbegin",u)}else{let u=this._createAccessibilityTreeNode();this._rowElements.push(u),this._rowContainer.appendChild(u)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(e===0?-1:1),this._rowElements[e===0?1:this._rowElements.length-2].focus(),t.preventDefault(),t.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;let t=this._coreBrowserService.mainDocument.getSelection();if(!t)return;if(t.isCollapsed){this._rowContainer.contains(t.anchorNode)&&this._terminal.clearSelection();return}if(!t.anchorNode||!t.focusNode){console.error("anchorNode and/or focusNode are null");return}let e={node:t.anchorNode,offset:t.anchorOffset},n={node:t.focusNode,offset:t.focusOffset};if((e.node.compareDocumentPosition(n.node)&Node.DOCUMENT_POSITION_PRECEDING||e.node===n.node&&e.offset>n.offset)&&([e,n]=[n,e]),e.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(e={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(e.node))return;let s=this._rowElements.slice(-1)[0];if(n.node.compareDocumentPosition(s)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(n={node:s,offset:s.textContent?.length??0}),!this._rowContainer.contains(n.node))return;let r=({node:c,offset:u})=>{let h=c instanceof Text?c.parentNode:c,m=parseInt(h?.getAttribute("aria-posinset"),10)-1;if(isNaN(m))return console.warn("row is invalid. Race condition?"),null;let p=this._rowColumns.get(h);if(!p)return console.warn("columns is null. Race condition?"),null;let y=u<p.length?p[u]:p.slice(-1)[0]+1;return y>=this._terminal.cols&&(++m,y=0),{row:m,column:y}},i=r(e),a=r(n);if(!(!i||!a)){if(i.row>a.row||i.row===a.row&&i.column>=a.column)throw new Error("invalid range");this._terminal.select(i.column,i.row,(a.row-i.row)*this._terminal.cols-i.column+a.column)}}_handleResize(t){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let e=this._rowContainer.children.length;e<this._terminal.rows;e++)this._rowElements[e]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[e]);for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){let t=this._coreBrowserService.mainDocument.createElement("div");return t.setAttribute("role","listitem"),t.tabIndex=-1,this._refreshRowDimensions(t),t}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){Object.assign(this._accessibilityContainer.style,{width:`${this._renderService.dimensions.css.canvas.width}px`,fontSize:`${this._terminal.options.fontSize}px`}),this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let t=0;t<this._terminal.rows;t++)this._refreshRowDimensions(this._rowElements[t]),this._alignRowWidth(this._rowElements[t])}}_refreshRowDimensions(t){t.style.height=`${this._renderService.dimensions.css.cell.height}px`}_alignRowWidth(t){t.style.transform="";let e=t.getBoundingClientRect().width,n=this._rowColumns.get(t)?.slice(-1)?.[0];if(!n)return;let s=n*this._renderService.dimensions.css.cell.width;t.style.transform=`scaleX(${s/e})`}};Ky=xn([Pe(1,aN),Pe(2,Pa),Pe(3,$a)],Ky);var r2=class extends kt{constructor(t,e,n,s,r){super(),this._element=t,this._mouseService=e,this._renderService=n,this._bufferService=s,this._linkProviderService=r,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this._register(new Te),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this._register(new Te),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this._register(hn(()=>{tc(this._linkCacheDisposables),this._linkCacheDisposables.length=0,this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this._register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this._register(ht(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this._register(ht(this._element,"mousemove",this._handleMouseMove.bind(this))),this._register(ht(this._element,"mousedown",this._handleMouseDown.bind(this))),this._register(ht(this._element,"mouseup",this._handleMouseUp.bind(this)))}get currentLink(){return this._currentLink}_handleMouseMove(t){this._lastMouseEvent=t;let e=this._positionFromMouseEvent(t,this._element,this._mouseService);if(!e)return;this._isMouseOut=!1;let n=t.composedPath();for(let s=0;s<n.length;s++){let r=n[s];if(r.classList.contains("xterm"))break;if(r.classList.contains("xterm-hover"))return}(!this._lastBufferCell||e.x!==this._lastBufferCell.x||e.y!==this._lastBufferCell.y)&&(this._handleHover(e),this._lastBufferCell=e)}_handleHover(t){if(this._activeLine!==t.y||this._wasResized){this._clearCurrentLink(),this._askForLink(t,!1),this._wasResized=!1;return}this._currentLink&&this._linkAtPosition(this._currentLink.link,t)||(this._clearCurrentLink(),this._askForLink(t,!0))}_askForLink(t,e){(!this._activeProviderReplies||!e)&&(this._activeProviderReplies?.forEach(s=>{s?.forEach(r=>{r.link.dispose&&r.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=t.y);let n=!1;for(let[s,r]of this._linkProviderService.linkProviders.entries())e?this._activeProviderReplies?.get(s)&&(n=this._checkLinkProviderResult(s,t,n)):r.provideLinks(t.y,i=>{if(this._isMouseOut)return;let a=i?.map(c=>({link:c}));this._activeProviderReplies?.set(s,a),n=this._checkLinkProviderResult(s,t,n),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(t.y,this._activeProviderReplies)})}_removeIntersectingLinks(t,e){let n=new Set;for(let s=0;s<e.size;s++){let r=e.get(s);if(r)for(let i=0;i<r.length;i++){let a=r[i],c=a.link.range.start.y<t?0:a.link.range.start.x,u=a.link.range.end.y>t?this._bufferService.cols:a.link.range.end.x;for(let h=c;h<=u;h++){if(n.has(h)){r.splice(i--,1);break}n.add(h)}}}}_checkLinkProviderResult(t,e,n){if(!this._activeProviderReplies)return n;let s=this._activeProviderReplies.get(t),r=!1;for(let i=0;i<t;i++)(!this._activeProviderReplies.has(i)||this._activeProviderReplies.get(i))&&(r=!0);if(!r&&s){let i=s.find(a=>this._linkAtPosition(a.link,e));i&&(n=!0,this._handleNewLink(i))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!n)for(let i=0;i<this._activeProviderReplies.size;i++){let a=this._activeProviderReplies.get(i)?.find(c=>this._linkAtPosition(c.link,e));if(a){n=!0,this._handleNewLink(a);break}}return n}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(t){if(!this._currentLink)return;let e=this._positionFromMouseEvent(t,this._element,this._mouseService);e&&this._mouseDownLink&&lre(this._mouseDownLink.link,this._currentLink.link)&&this._linkAtPosition(this._currentLink.link,e)&&this._currentLink.link.activate(t,this._currentLink.link.text)}_clearCurrentLink(t,e){!this._currentLink||!this._lastMouseEvent||(!t||!e||this._currentLink.link.range.start.y>=t&&this._currentLink.link.range.end.y<=e)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,tc(this._linkCacheDisposables),this._linkCacheDisposables.length=0)}_handleNewLink(t){if(!this._lastMouseEvent)return;let e=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);e&&this._linkAtPosition(t.link,e)&&(this._currentLink=t,this._currentLink.state={decorations:{underline:t.link.decorations===void 0?!0:t.link.decorations.underline,pointerCursor:t.link.decorations===void 0?!0:t.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,t.link,this._lastMouseEvent),t.link.decorations={},Object.defineProperties(t.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:n=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==n&&(this._currentLink.state.decorations.pointerCursor=n,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",n))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:n=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==n&&(this._currentLink.state.decorations.underline=n,this._currentLink.state.isHovered&&this._fireUnderlineEvent(t.link,n))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(n=>{if(!this._currentLink)return;let s=n.start===0?0:n.start+1+this._bufferService.buffer.ydisp,r=this._bufferService.buffer.ydisp+1+n.end;if(this._currentLink.link.range.start.y>=s&&this._currentLink.link.range.end.y<=r&&(this._clearCurrentLink(s,r),this._lastMouseEvent)){let i=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);i&&this._askForLink(i,!1)}})))}_linkHover(t,e,n){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(e,!0),this._currentLink.state.decorations.pointerCursor&&t.classList.add("xterm-cursor-pointer")),e.hover&&e.hover(n,e.text)}_fireUnderlineEvent(t,e){let n=t.range,s=this._bufferService.buffer.ydisp,r=this._createLinkUnderlineEvent(n.start.x-1,n.start.y-s-1,n.end.x,n.end.y-s-1,void 0);(e?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(r)}_linkLeave(t,e,n){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(e,!1),this._currentLink.state.decorations.pointerCursor&&t.classList.remove("xterm-cursor-pointer")),e.leave&&e.leave(n,e.text)}_linkAtPosition(t,e){let n=t.range.start.y*this._bufferService.cols+t.range.start.x,s=t.range.end.y*this._bufferService.cols+t.range.end.x,r=e.y*this._bufferService.cols+e.x;return n<=r&&r<=s}_positionFromMouseEvent(t,e,n){let s=n.getCoords(t,e,this._bufferService.cols,this._bufferService.rows);if(s)return{x:s[0],y:s[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(t,e,n,s,r){return{x1:t,y1:e,x2:n,y2:s,cols:this._bufferService.cols,fg:r}}};r2=xn([Pe(1,oN),Pe(2,$a),Pe(3,$s),Pe(4,FL)],r2);function lre(t,e){return t.text===e.text&&t.range.start.x===e.range.start.x&&t.range.start.y===e.range.start.y&&t.range.end.x===e.range.end.x&&t.range.end.y===e.range.end.y}var cre=class extends ere{constructor(t={}){super(t),this._linkifier=this._register(new th),this.browser=lI,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this._register(new th),this._onCursorMove=this._register(new Te),this.onCursorMove=this._onCursorMove.event,this._onKey=this._register(new Te),this.onKey=this._onKey.event,this._onRender=this._register(new Te),this.onRender=this._onRender.event,this._onSelectionChange=this._register(new Te),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this._register(new Te),this.onTitleChange=this._onTitleChange.event,this._onBell=this._register(new Te),this.onBell=this._onBell.event,this._onFocus=this._register(new Te),this._onBlur=this._register(new Te),this._onA11yCharEmitter=this._register(new Te),this._onA11yTabEmitter=this._register(new Te),this._onWillOpen=this._register(new Te),this._setup(),this._decorationService=this._instantiationService.createInstance(rre),this._instantiationService.setService(Jp,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(Jne),this._instantiationService.setService(FL,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(Ck)),this._register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this._register(this._inputHandler.onRequestRefreshRows(e=>this.refresh(e?.start??0,e?.end??this.rows-1))),this._register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this._register(this._inputHandler.onRequestReset(()=>this.reset())),this._register(this._inputHandler.onRequestWindowsOptionsReport(e=>this._reportWindowsOptions(e))),this._register(this._inputHandler.onColor(e=>this._handleColorEvent(e))),this._register(ds.forward(this._inputHandler.onCursorMove,this._onCursorMove)),this._register(ds.forward(this._inputHandler.onTitleChange,this._onTitleChange)),this._register(ds.forward(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this._register(ds.forward(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this._register(this._bufferService.onResize(e=>this._afterResize(e.cols,e.rows))),this._register(hn(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}get linkifier(){return this._linkifier.value}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(t){if(this._themeService)for(let e of t){let n,s="";switch(e.index){case 256:n="foreground",s="10";break;case 257:n="background",s="11";break;case 258:n="cursor",s="12";break;default:n="ansi",s="4;"+e.index}switch(e.type){case 0:let r=sn.toColorRGB(n==="ansi"?this._themeService.colors.ansi[e.index]:this._themeService.colors[n]);this.coreService.triggerDataEvent(`${be.ESC}]${s};${Gse(r)}${aI.ST}`);break;case 1:if(n==="ansi")this._themeService.modifyColors(i=>i.ansi[e.index]=Bn.toColor(...e.color));else{let i=n;this._themeService.modifyColors(a=>a[i]=Bn.toColor(...e.color))}break;case 2:this._themeService.restoreColor(e.index);break}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(t){t?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Ky,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(t){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(be.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(be.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;let t=this.buffer.ybase+this.buffer.y,e=this.buffer.lines.get(t);if(!e)return;let n=Math.min(this.buffer.x,this.cols-1),s=this._renderService.dimensions.css.cell.height,r=e.getWidth(n),i=this._renderService.dimensions.css.cell.width*r,a=this.buffer.y*this._renderService.dimensions.css.cell.height,c=n*this._renderService.dimensions.css.cell.width;this.textarea.style.left=c+"px",this.textarea.style.top=a+"px",this.textarea.style.width=i+"px",this.textarea.style.height=s+"px",this.textarea.style.lineHeight=s+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this._register(ht(this.element,"copy",e=>{this.hasSelection()&&fte(e,this._selectionService)}));let t=e=>pte(e,this.textarea,this.coreService,this.optionsService);this._register(ht(this.textarea,"paste",t)),this._register(ht(this.element,"paste",t)),cI?this._register(ht(this.element,"mousedown",e=>{e.button===2&&AR(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this._register(ht(this.element,"contextmenu",e=>{AR(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),mN&&this._register(ht(this.element,"auxclick",e=>{e.button===1&&DL(e,this.textarea,this.screenElement)}))}_bindKeys(){this._register(ht(this.textarea,"keyup",t=>this._keyUp(t),!0)),this._register(ht(this.textarea,"keydown",t=>this._keyDown(t),!0)),this._register(ht(this.textarea,"keypress",t=>this._keyPress(t),!0)),this._register(ht(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this._register(ht(this.textarea,"compositionupdate",t=>this._compositionHelper.compositionupdate(t))),this._register(ht(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this._register(ht(this.textarea,"input",t=>this._inputEvent(t),!0)),this._register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(t){if(!t)throw new Error("Terminal requires a parent element.");if(t.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService){this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView);return}this._document=t.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),t.appendChild(this.element);let e=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),e.appendChild(this._viewportElement),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._register(ht(this.screenElement,"mousemove",r=>this.updateCursorStyle(r))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),e.appendChild(this.screenElement);let n=this.textarea=this._document.createElement("textarea");this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",wk.get()),dI||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._register(this.optionsService.onSpecificOptionChange("disableStdin",()=>n.readOnly=this.optionsService.rawOptions.disableStdin)),this.textarea.readOnly=this.optionsService.rawOptions.disableStdin,this._coreBrowserService=this._register(this._instantiationService.createInstance(Zne,this.textarea,t.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(Pa,this._coreBrowserService),this._register(ht(this.textarea,"focus",r=>this._handleTextAreaFocus(r))),this._register(ht(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(Kk,this._document,this._helperContainer),this._instantiationService.setService(vb,this._charSizeService),this._themeService=this._instantiationService.createInstance(Zk),this._instantiationService.setService(kh,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(Fy),this._instantiationService.setService(HL,this._characterJoinerService),this._renderService=this._register(this._instantiationService.createInstance(Gk,this.rows,this.screenElement)),this._instantiationService.setService($a,this._renderService),this._register(this._renderService.onRenderedViewportChange(r=>this._onRender.fire(r))),this.onResize(r=>this._renderService.resize(r.cols,r.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(Fk,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(Wk),this._instantiationService.setService(oN,this._mouseService);let s=this._linkifier.value=this._register(this._instantiationService.createInstance(r2,this.screenElement));this.element.appendChild(e);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this._register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this._register(this.onBlur(()=>this._renderService.handleBlur())),this._register(this.onFocus(()=>this._renderService.handleFocus())),this._viewport=this._register(this._instantiationService.createInstance(Uk,this.element,this.screenElement)),this._register(this._viewport.onRequestScrollLines(r=>{super.scrollLines(r,!1),this.refresh(0,this.rows-1)})),this._selectionService=this._register(this._instantiationService.createInstance(Yk,this.element,this.screenElement,s)),this._instantiationService.setService(wte,this._selectionService),this._register(this._selectionService.onRequestScrollLines(r=>this.scrollLines(r.amount,r.suppressScrollEvent))),this._register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this._register(this._selectionService.onRequestRedraw(r=>this._renderService.handleSelectionChanged(r.start,r.end,r.columnSelectMode))),this._register(this._selectionService.onLinuxMouseSelection(r=>{this.textarea.value=r,this.textarea.focus(),this.textarea.select()})),this._register(ds.any(this._onScroll.event,this._inputHandler.onScroll)(()=>{this._selectionService.refresh(),this._viewport?.queueSync()})),this._register(this._instantiationService.createInstance(Hk,this.screenElement)),this._register(ht(this.element,"mousedown",r=>this._selectionService.handleMouseDown(r))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Ky,this)),this._register(this.optionsService.onSpecificOptionChange("screenReaderMode",r=>this._handleScreenReaderModeOptionChange(r))),this.options.overviewRuler.width&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(Hy,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRuler",r=>{!this._overviewRulerRenderer&&r&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(Hy,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(qk,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){let t=this,e=this.element;function n(i){let a=t._mouseService.getMouseReportCoords(i,t.screenElement);if(!a)return!1;let c,u;switch(i.overrideType||i.type){case"mousemove":u=32,i.buttons===void 0?(c=3,i.button!==void 0&&(c=i.button<3?i.button:3)):c=i.buttons&1?0:i.buttons&4?1:i.buttons&2?2:3;break;case"mouseup":u=0,c=i.button<3?i.button:3;break;case"mousedown":u=1,c=i.button<3?i.button:3;break;case"wheel":if(t._customWheelEventHandler&&t._customWheelEventHandler(i)===!1)return!1;let h=i.deltaY;if(h===0||t.coreMouseService.consumeWheelEvent(i,t._renderService?.dimensions?.device?.cell?.height,t._coreBrowserService?.dpr)===0)return!1;u=h<0?0:1,c=4;break;default:return!1}return u===void 0||c===void 0||c>4?!1:t.coreMouseService.triggerMouseEvent({col:a.col,row:a.row,x:a.x,y:a.y,button:c,action:u,ctrl:i.ctrlKey,alt:i.altKey,shift:i.shiftKey})}let s={mouseup:null,wheel:null,mousedrag:null,mousemove:null},r={mouseup:i=>(n(i),i.buttons||(this._document.removeEventListener("mouseup",s.mouseup),s.mousedrag&&this._document.removeEventListener("mousemove",s.mousedrag)),this.cancel(i)),wheel:i=>(n(i),this.cancel(i,!0)),mousedrag:i=>{i.buttons&&n(i)},mousemove:i=>{i.buttons||n(i)}};this._register(this.coreMouseService.onProtocolChange(i=>{i?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(i)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),i&8?s.mousemove||(e.addEventListener("mousemove",r.mousemove),s.mousemove=r.mousemove):(e.removeEventListener("mousemove",s.mousemove),s.mousemove=null),i&16?s.wheel||(e.addEventListener("wheel",r.wheel,{passive:!1}),s.wheel=r.wheel):(e.removeEventListener("wheel",s.wheel),s.wheel=null),i&2?s.mouseup||(s.mouseup=r.mouseup):(this._document.removeEventListener("mouseup",s.mouseup),s.mouseup=null),i&4?s.mousedrag||(s.mousedrag=r.mousedrag):(this._document.removeEventListener("mousemove",s.mousedrag),s.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this._register(ht(e,"mousedown",i=>{if(i.preventDefault(),this.focus(),!(!this.coreMouseService.areMouseEventsActive||this._selectionService.shouldForceSelection(i)))return n(i),s.mouseup&&this._document.addEventListener("mouseup",s.mouseup),s.mousedrag&&this._document.addEventListener("mousemove",s.mousedrag),this.cancel(i)})),this._register(ht(e,"wheel",i=>{if(!s.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(i)===!1)return!1;if(!this.buffer.hasScrollback){if(i.deltaY===0)return!1;if(t.coreMouseService.consumeWheelEvent(i,t._renderService?.dimensions?.device?.cell?.height,t._coreBrowserService?.dpr)===0)return this.cancel(i,!0);let a=be.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(i.deltaY<0?"A":"B");return this.coreService.triggerDataEvent(a,!0),this.cancel(i,!0)}}},{passive:!1}))}refresh(t,e){this._renderService?.refreshRows(t,e)}updateCursorStyle(t){this._selectionService?.shouldColumnSelect(t)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(t,e){this._viewport?this._viewport.scrollLines(t):super.scrollLines(t,e),this.refresh(0,this.rows-1)}scrollPages(t){this.scrollLines(t*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(t){t&&this._viewport?this._viewport.scrollToLine(this.buffer.ybase,!0):this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(t){let e=t-this._bufferService.buffer.ydisp;e!==0&&this.scrollLines(e)}paste(t){ML(t,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(t){this._customKeyEventHandler=t}attachCustomWheelEventHandler(t){this._customWheelEventHandler=t}registerLinkProvider(t){return this._linkProviderService.registerLinkProvider(t)}registerCharacterJoiner(t){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");let e=this._characterJoinerService.register(t);return this.refresh(0,this.rows-1),e}deregisterCharacterJoiner(t){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(t)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(t){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+t)}registerDecoration(t){return this._decorationService.registerDecoration(t)}hasSelection(){return this._selectionService?this._selectionService.hasSelection:!1}select(t,e,n){this._selectionService.setSelection(t,e,n)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(!(!this._selectionService||!this._selectionService.hasSelection))return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(t,e){this._selectionService?.selectLines(t,e)}_keyDown(t){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(t)===!1)return!1;let e=this.browser.isMac&&this.options.macOptionIsMeta&&t.altKey;if(!e&&!this._compositionHelper.keydown(t))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(!0),!1;!e&&(t.key==="Dead"||t.key==="AltGraph")&&(this._unprocessedDeadKey=!0);let n=nre(t,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(t),n.type===3||n.type===2){let s=this.rows-1;return this.scrollLines(n.type===2?-s:s),this.cancel(t,!0)}if(n.type===1&&this.selectAll(),this._isThirdLevelShift(this.browser,t)||(n.cancel&&this.cancel(t,!0),!n.key)||t.key&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&t.key.length===1&&t.key.charCodeAt(0)>=65&&t.key.charCodeAt(0)<=90)return!0;if(this._unprocessedDeadKey)return this._unprocessedDeadKey=!1,!0;if((n.key===be.ETX||n.key===be.CR)&&(this.textarea.value=""),this._onKey.fire({key:n.key,domEvent:t}),this._showCursor(),this.coreService.triggerDataEvent(n.key,!0),!this.optionsService.rawOptions.screenReaderMode||t.altKey||t.ctrlKey)return this.cancel(t,!0);this._keyDownHandled=!0}_isThirdLevelShift(t,e){let n=t.isMac&&!this.options.macOptionIsMeta&&e.altKey&&!e.ctrlKey&&!e.metaKey||t.isWindows&&e.altKey&&e.ctrlKey&&!e.metaKey||t.isWindows&&e.getModifierState("AltGraph");return e.type==="keypress"?n:n&&(!e.keyCode||e.keyCode>47)}_keyUp(t){this._keyDownSeen=!1,!(this._customKeyEventHandler&&this._customKeyEventHandler(t)===!1)&&(ure(t)||this.focus(),this.updateCursorStyle(t),this._keyPressHandled=!1)}_keyPress(t){let e;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(t)===!1)return!1;if(this.cancel(t),t.charCode)e=t.charCode;else if(t.which===null||t.which===void 0)e=t.keyCode;else if(t.which!==0&&t.charCode!==0)e=t.which;else return!1;return!e||(t.altKey||t.ctrlKey||t.metaKey)&&!this._isThirdLevelShift(this.browser,t)?!1:(e=String.fromCharCode(e),this._onKey.fire({key:e,domEvent:t}),this._showCursor(),this.coreService.triggerDataEvent(e,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,!0)}_inputEvent(t){if(t.data&&t.inputType==="insertText"&&(!t.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;let e=t.data;return this.coreService.triggerDataEvent(e,!0),this.cancel(t),!0}return!1}resize(t,e){if(t===this.cols&&e===this.rows){this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure();return}super.resize(t,e)}_afterResize(t,e){this._charSizeService?.measure()}clear(){if(!(this.buffer.ybase===0&&this.buffer.y===0)){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let t=1;t<this.rows;t++)this.buffer.lines.push(this.buffer.getBlankLine(Dn));this._onScroll.fire({position:this.buffer.ydisp}),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;let t=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this._customKeyEventHandler=t,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(be.ESC+"[I"):this.coreService.triggerDataEvent(be.ESC+"[O")}_reportWindowsOptions(t){if(this._renderService)switch(t){case 0:let e=this._renderService.dimensions.css.canvas.width.toFixed(0),n=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${be.ESC}[4;${n};${e}t`);break;case 1:let s=this._renderService.dimensions.css.cell.width.toFixed(0),r=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${be.ESC}[6;${r};${s}t`);break}}cancel(t,e){if(!(!this.options.cancelEvents&&!e))return t.preventDefault(),t.stopPropagation(),!1}};function ure(t){return t.keyCode===16||t.keyCode===17||t.keyCode===18}var hre=class{constructor(){this._addons=[]}dispose(){for(let t=this._addons.length-1;t>=0;t--)this._addons[t].instance.dispose()}loadAddon(t,e){let n={instance:e,dispose:e.dispose,isDisposed:!1};this._addons.push(n),e.dispose=()=>this._wrappedAddonDispose(n),e.activate(t)}_wrappedAddonDispose(t){if(t.isDisposed)return;let e=-1;for(let n=0;n<this._addons.length;n++)if(this._addons[n]===t){e=n;break}if(e===-1)throw new Error("Could not dispose an addon that has not been loaded");t.isDisposed=!0,t.dispose.apply(t.instance),this._addons.splice(e,1)}},dre=class{constructor(t){this._line=t}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(t,e){if(!(t<0||t>=this._line.length))return e?(this._line.loadCell(t,e),e):this._line.loadCell(t,new Jr)}translateToString(t,e,n){return this._line.translateToString(t,e,n)}},bO=class{constructor(t,e){this._buffer=t,this.type=e}init(t){return this._buffer=t,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(t){let e=this._buffer.lines.get(t);if(e)return new dre(e)}getNullCell(){return new Jr}},fre=class extends kt{constructor(t){super(),this._core=t,this._onBufferChange=this._register(new Te),this.onBufferChange=this._onBufferChange.event,this._normal=new bO(this._core.buffers.normal,"normal"),this._alternate=new bO(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}},pre=class{constructor(t){this._core=t}registerCsiHandler(t,e){return this._core.registerCsiHandler(t,n=>e(n.toArray()))}addCsiHandler(t,e){return this.registerCsiHandler(t,e)}registerDcsHandler(t,e){return this._core.registerDcsHandler(t,(n,s)=>e(n,s.toArray()))}addDcsHandler(t,e){return this.registerDcsHandler(t,e)}registerEscHandler(t,e){return this._core.registerEscHandler(t,e)}addEscHandler(t,e){return this.registerEscHandler(t,e)}registerOscHandler(t,e){return this._core.registerOscHandler(t,e)}addOscHandler(t,e){return this.registerOscHandler(t,e)}},mre=class{constructor(t){this._core=t}register(t){this._core.unicodeService.register(t)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(t){this._core.unicodeService.activeVersion=t}},gre=["cols","rows"],Ei=0,yre=class extends kt{constructor(t){super(),this._core=this._register(new cre(t)),this._addonManager=this._register(new hre),this._publicOptions={...this._core.options};let e=s=>this._core.options[s],n=(s,r)=>{this._checkReadonlyOptions(s),this._core.options[s]=r};for(let s in this._core.options){let r={get:e.bind(this,s),set:n.bind(this,s)};Object.defineProperty(this._publicOptions,s,r)}}_checkReadonlyOptions(t){if(gre.includes(t))throw new Error(`Option "${t}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new pre(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new mre(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this._register(new fre(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){let t=this._core.coreService.decPrivateModes,e="none";switch(this._core.coreMouseService.activeProtocol){case"X10":e="x10";break;case"VT200":e="vt200";break;case"DRAG":e="drag";break;case"ANY":e="any";break}return{applicationCursorKeysMode:t.applicationCursorKeys,applicationKeypadMode:t.applicationKeypad,bracketedPasteMode:t.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:e,originMode:t.origin,reverseWraparoundMode:t.reverseWraparound,sendFocusMode:t.sendFocus,synchronizedOutputMode:t.synchronizedOutput,wraparoundMode:t.wraparound}}get options(){return this._publicOptions}set options(t){for(let e in t)this._publicOptions[e]=t[e]}blur(){this._core.blur()}focus(){this._core.focus()}input(t,e=!0){this._core.input(t,e)}resize(t,e){this._verifyIntegers(t,e),this._core.resize(t,e)}open(t){this._core.open(t)}attachCustomKeyEventHandler(t){this._core.attachCustomKeyEventHandler(t)}attachCustomWheelEventHandler(t){this._core.attachCustomWheelEventHandler(t)}registerLinkProvider(t){return this._core.registerLinkProvider(t)}registerCharacterJoiner(t){return this._checkProposedApi(),this._core.registerCharacterJoiner(t)}deregisterCharacterJoiner(t){this._checkProposedApi(),this._core.deregisterCharacterJoiner(t)}registerMarker(t=0){return this._verifyIntegers(t),this._core.registerMarker(t)}registerDecoration(t){return this._checkProposedApi(),this._verifyPositiveIntegers(t.x??0,t.width??0,t.height??0),this._core.registerDecoration(t)}hasSelection(){return this._core.hasSelection()}select(t,e,n){this._verifyIntegers(t,e,n),this._core.select(t,e,n)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(t,e){this._verifyIntegers(t,e),this._core.selectLines(t,e)}dispose(){super.dispose()}scrollLines(t){this._verifyIntegers(t),this._core.scrollLines(t)}scrollPages(t){this._verifyIntegers(t),this._core.scrollPages(t)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(t){this._verifyIntegers(t),this._core.scrollToLine(t)}clear(){this._core.clear()}write(t,e){this._core.write(t,e)}writeln(t,e){this._core.write(t),this._core.write(`\r
`,e)}paste(t){this._core.paste(t)}refresh(t,e){this._verifyIntegers(t,e),this._core.refresh(t,e)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(t){this._addonManager.loadAddon(this,t)}static get strings(){return{get promptLabel(){return wk.get()},set promptLabel(t){wk.set(t)},get tooMuchOutput(){return Sk.get()},set tooMuchOutput(t){Sk.set(t)}}}_verifyIntegers(...t){for(Ei of t)if(Ei===1/0||isNaN(Ei)||Ei%1!==0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...t){for(Ei of t)if(Ei&&(Ei===1/0||isNaN(Ei)||Ei%1!==0||Ei<0))throw new Error("This API only accepts positive integers")}};var vre=2,bre=1,_re=class{activate(t){this._terminal=t}dispose(){}fit(){let t=this.proposeDimensions();if(!t||!this._terminal||isNaN(t.cols)||isNaN(t.rows))return;let e=this._terminal._core;(this._terminal.rows!==t.rows||this._terminal.cols!==t.cols)&&(e._renderService.clear(),this._terminal.resize(t.cols,t.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let t=this._terminal._core._renderService.dimensions;if(t.css.cell.width===0||t.css.cell.height===0)return;let e=this._terminal.options.scrollback===0?0:this._terminal.options.overviewRuler?.width||14,n=window.getComputedStyle(this._terminal.element.parentElement),s=parseInt(n.getPropertyValue("height")),r=Math.max(0,parseInt(n.getPropertyValue("width"))),i=window.getComputedStyle(this._terminal.element),a={top:parseInt(i.getPropertyValue("padding-top")),bottom:parseInt(i.getPropertyValue("padding-bottom")),right:parseInt(i.getPropertyValue("padding-right")),left:parseInt(i.getPropertyValue("padding-left"))},c=a.top+a.bottom,u=a.right+a.left,h=s-c,m=r-u-e;return{cols:Math.max(vre,Math.floor(m/t.css.cell.width)),rows:Math.max(bre,Math.floor(h/t.css.cell.height))}}};var xre=class{constructor(e,n,s,r={}){this._terminal=e,this._regex=n,this._handler=s,this._options=r}provideLinks(e,n){let s=Sre.computeLink(e,this._regex,this._terminal,this._handler);n(this._addCallbacks(s))}_addCallbacks(e){return e.map(n=>(n.leave=this._options.leave,n.hover=(s,r)=>{if(this._options.hover){let{range:i}=n;this._options.hover(s,r,i)}},n))}};function wre(t){try{let e=new URL(t),n=e.password&&e.username?`${e.protocol}//${e.username}:${e.password}@${e.host}`:e.username?`${e.protocol}//${e.username}@${e.host}`:`${e.protocol}//${e.host}`;return t.toLocaleLowerCase().startsWith(n.toLocaleLowerCase())}catch{return!1}}var Sre=class N0{static computeLink(e,n,s,r){let i=new RegExp(n.source,(n.flags||"")+"g"),[a,c]=N0._getWindowedLineStrings(e-1,s),u=a.join(""),h,m=[];for(;h=i.exec(u);){let p=h[0];if(!wre(p))continue;let[y,v]=N0._mapStrIdx(s,c,0,h.index),[b,x]=N0._mapStrIdx(s,y,v,p.length);if(y===-1||v===-1||b===-1||x===-1)continue;let S={start:{x:v+1,y:y+1},end:{x,y:b+1}};m.push({range:S,text:p,activate:r})}return m}static _getWindowedLineStrings(e,n){let s,r=e,i=e,a=0,c="",u=[];if(s=n.buffer.active.getLine(e)){let h=s.translateToString(!0);if(s.isWrapped&&h[0]!==" "){for(a=0;(s=n.buffer.active.getLine(--r))&&a<2048&&(c=s.translateToString(!0),a+=c.length,u.push(c),!(!s.isWrapped||c.indexOf(" ")!==-1)););u.reverse()}for(u.push(h),a=0;(s=n.buffer.active.getLine(++i))&&s.isWrapped&&a<2048&&(c=s.translateToString(!0),a+=c.length,u.push(c),c.indexOf(" ")===-1););}return[u,r]}static _mapStrIdx(e,n,s,r){let i=e.buffer.active,a=i.getNullCell(),c=s;for(;r;){let u=i.getLine(n);if(!u)return[-1,-1];for(let h=c;h<u.length;++h){u.getCell(h,a);let m=a.getChars();if(a.getWidth()&&(r-=m.length||1,h===u.length-1&&m==="")){let p=i.getLine(n+1);p&&p.isWrapped&&(p.getCell(0,a),a.getWidth()===2&&(r+=1))}if(r<0)return[n,h]}n++,c=0}return[n,c]}},kre=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function Cre(t,e){let n=window.open();if(n){try{n.opener=null}catch{}n.location.href=e}else console.warn("Opening link blocked as opener could not be cleared")}var Nre=class{constructor(t=Cre,e={}){this._handler=t,this._options=e}activate(t){this._terminal=t;let e=this._options,n=e.urlRegex||kre;this._linkProvider=this._terminal.registerLinkProvider(new xre(this._terminal,n,this._handler,e))}dispose(){this._linkProvider?.dispose()}};const Ere=0,Are=1,jre=2,Tre=4,Rre=["/bin/bash","/bin/sh"];class Ore{ws=null;options;isClosing=!1;hasConnected=!1;constructor(e){this.options=e}async connect(){const e=this.options.command||Rre;for(const n of e)try{await this.tryConnect([n]),this.hasConnected=!0;return}catch{if(n===e[e.length-1])throw new Error(`No shell available (tried: ${e.join(", ")})`)}}tryConnect(e){return new Promise((n,s)=>{const{context:r,namespace:i,pod:a,container:c}=this.options,u=new URLSearchParams;u.set("container",c),u.set("stdin","true"),u.set("stdout","true"),u.set("stderr","true"),u.set("tty","true");for(const v of e)u.append("command",v);const m=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/contexts/${r}/api/v1/namespaces/${i}/pods/${a}/exec?${u.toString()}`;this.ws=new WebSocket(m,["v4.channel.k8s.io"]);let p=!1;const y=setTimeout(()=>{p||(p=!0,this.ws?.close(),s(new Error("Connection timeout")))},5e3);this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{setTimeout(()=>{!p&&this.ws?.readyState===WebSocket.OPEN&&(clearTimeout(y),p=!0,n())},200)},this.ws.onmessage=v=>{if(v.data instanceof ArrayBuffer){const b=new Uint8Array(v.data);if(b.length<1)return;const x=b[0],S=new TextDecoder().decode(b.slice(1));switch(x){case Are:case jre:S&&this.options.onData(S);break}}},this.ws.onerror=()=>{clearTimeout(y),p||(p=!0,s(new Error("WebSocket connection failed")))},this.ws.onclose=v=>{clearTimeout(y),p?!this.isClosing&&this.hasConnected&&this.options.onClose?.():(p=!0,s(new Error(v.reason||`Connection closed (code: ${v.code})`)))}})}send(e){if(this.ws?.readyState===WebSocket.OPEN){const s=new TextEncoder().encode(e),r=new Uint8Array(s.length+1);r[0]=Ere,r.set(s,1),this.ws.send(r)}}resize(e,n){if(this.ws?.readyState===WebSocket.OPEN){const s=JSON.stringify({Width:e,Height:n}),i=new TextEncoder().encode(s),a=new Uint8Array(i.length+1);a[0]=Tre,a.set(i,1),this.ws.send(a)}}disconnect(){this.isClosing=!0,this.ws&&(this.ws.close(),this.ws=null)}get isConnected(){return this.ws?.readyState===WebSocket.OPEN}}function Mre(t){const e=[],n=t.spec,s=t.status;if(n?.containers)for(const r of n.containers){const i=s?.containerStatuses?.find(a=>a.name===r.name);e.push({name:r.name,ready:i?.ready??!1})}return e}function Dre({context:t,resource:e,toolbarRef:n}){const s=V.useRef(null),r=V.useRef(null),i=V.useRef(null),a=V.useRef(null),[c,u]=V.useState(!1),[h,m]=V.useState(!1),[p,y]=V.useState(""),[v,b]=V.useState(!1),x=e.metadata?.namespace,S=e.metadata?.name,k=Mre(e);V.useEffect(()=>{k.length>0&&!p&&y(k[0].name)},[k,p]),V.useEffect(()=>{if(!s.current||r.current)return;const E=new yre({cursorBlink:!0,fontSize:13,fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',theme:{background:"#0a0a0a",foreground:"#e5e5e5",cursor:"#e5e5e5",cursorAccent:"#0a0a0a",selectionBackground:"#3b82f680",black:"#171717",red:"#ef4444",green:"#22c55e",yellow:"#eab308",blue:"#3b82f6",magenta:"#a855f7",cyan:"#06b6d4",white:"#e5e5e5",brightBlack:"#404040",brightRed:"#f87171",brightGreen:"#4ade80",brightYellow:"#facc15",brightBlue:"#60a5fa",brightMagenta:"#c084fc",brightCyan:"#22d3ee",brightWhite:"#ffffff"},allowProposedApi:!0}),D=new _re,B=new Nre;E.loadAddon(D),E.loadAddon(B),E.open(s.current),D.fit(),r.current=E,i.current=D;const q=()=>{D.fit(),a.current?.isConnected&&a.current.resize(E.cols,E.rows)},P=new ResizeObserver(q);return P.observe(s.current),window.addEventListener("resize",q),()=>{P.disconnect(),window.removeEventListener("resize",q),E.dispose(),r.current=null,i.current=null}},[]);const C=V.useCallback(async()=>{if(!x||!S||!p||!r.current)return;a.current?.disconnect(),m(!0);const E=r.current;E.clear(),E.writeln(`Connecting to ${S}/${p}...`),E.writeln("");try{const D=new Ore({context:t,namespace:x,pod:S,container:p,onData:q=>{E.write(q)},onError:q=>{E.writeln(`\r
\x1B[31mError: ${q}\x1B[0m`)},onClose:()=>{u(!1),E.writeln(`\r
\x1B[33mConnection closed.\x1B[0m`)}});await D.connect(),a.current=D,u(!0);const B=i.current;B&&(B.fit(),D.resize(E.cols,E.rows)),E.onData(q=>{D.send(q)})}catch(D){const B=D instanceof Error?D.message:"Failed to connect";E.writeln(`\r
\x1B[31mFailed to connect: ${B}\x1B[0m`)}finally{m(!1)}},[t,x,S,p]),N=V.useCallback(()=>{a.current?.disconnect(),a.current=null,u(!1)},[]),R=V.useRef(!1);V.useEffect(()=>{if(p&&!R.current&&r.current){R.current=!0;const E=setTimeout(()=>{C()},100);return()=>clearTimeout(E)}},[p,C]),V.useEffect(()=>()=>{a.current?.disconnect(),a.current=null},[]);const O=E=>{y(E),b(!1),N()};return f.jsxs("div",{className:"flex flex-col h-full bg-[#0a0a0a]",children:[n&&f.jsx(rN,{toolbarRef:n,children:k.length>1&&f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>b(!v),className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors",children:[f.jsx("span",{className:"max-w-30 truncate",children:p}),f.jsx(ps,{size:12})]}),v&&f.jsx("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg shadow-lg py-1 min-w-40",children:k.map(E=>f.jsxs("button",{onClick:()=>O(E.name),className:`w-full text-left px-3 py-1.5 text-xs hover:bg-neutral-100 dark:hover:bg-neutral-700 flex items-center gap-2 ${E.name===p?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-500/10":"text-neutral-700 dark:text-neutral-300"}`,children:[f.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${E.ready?"bg-emerald-500":"bg-neutral-400"}`}),E.name]},E.name))})]})}),f.jsx("div",{ref:s,className:"flex-1 p-2",style:{minHeight:0}}),f.jsxs("div",{className:"shrink-0 px-4 py-1.5 border-t border-neutral-800 bg-neutral-900/50 flex items-center gap-3 text-xs text-neutral-500",children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${c?"bg-emerald-500":h?"bg-amber-500 animate-pulse":"bg-neutral-600"}`}),c?"Connected":h?"Connecting...":"Disconnected"]}),p&&f.jsxs("span",{className:"text-neutral-600",children:[S,"/",p]})]})]})}function Bre(t){const e=De.c(20),{metadata:n}=t,s=n.labels,r=n.annotations;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=new Set(["pod-template-hash","controller-revision-hash","pod-template-generation"]),e[0]=i):i=e[0];const a=i;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=new Set(["kubectl.kubernetes.io/last-applied-configuration","deployment.kubernetes.io/revision","control-plane.alpha.kubernetes.io/leader","deprecated.daemonset.template.generation","kubernetes.io/description"]),e[1]=c):c=e[1];const u=c;let h;e[2]!==s?(h=s?Object.fromEntries(Object.entries(s).filter(O=>{const[E]=O;return!a.has(E)})):void 0,e[2]=s,e[3]=h):h=e[3];const m=h;let p;e[4]!==r?(p=r?Object.fromEntries(Object.entries(r).filter(O=>{const[E]=O;return!u.has(E)})):void 0,e[4]=r,e[5]=p):p=e[5];const y=p,v=[...Object.entries(m??{}).map($re),...Object.entries(y??{}).map(Pre)];let b;e[6]!==m?(b=m&&Object.keys(m).length>0,e[6]=m,e[7]=b):b=e[7];const x=b;let S;e[8]!==y?(S=y&&Object.keys(y).length>0,e[8]=y,e[9]=S):S=e[9];const k=S;if(v.length===0)return null;let C;e[10]!==m||e[11]!==x?(C=x&&f.jsxs(f.Fragment,{children:[f.jsx("tr",{children:f.jsx("td",{colSpan:2,className:"pb-2",children:f.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider text-neutral-500 dark:text-neutral-500",children:"Labels"})})}),Object.entries(m).map(Ire)]}),e[10]=m,e[11]=x,e[12]=C):C=e[12];let N;e[13]!==y||e[14]!==k||e[15]!==x?(N=k&&f.jsxs(f.Fragment,{children:[f.jsx("tr",{children:f.jsx("td",{colSpan:2,className:x?"pt-4 pb-2":"pb-2",children:f.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider text-neutral-500 dark:text-neutral-500",children:"Annotations"})})}),Object.entries(y).map(Lre)]}),e[13]=y,e[14]=k,e[15]=x,e[16]=N):N=e[16];let R;return e[17]!==C||e[18]!==N?(R=f.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:f.jsx("table",{className:"w-full text-xs",children:f.jsxs("tbody",{children:[C,N]})})}),e[17]=C,e[18]=N,e[19]=R):R=e[19],R}function Lre(t,e,n){const[s,r]=t;return f.jsxs("tr",{className:e<n.length-1?"border-b border-neutral-200 dark:border-neutral-700/50":"",children:[f.jsx("td",{className:"py-1.5 pr-3 text-purple-600 dark:text-purple-400 align-top whitespace-nowrap w-[1%]",children:s}),f.jsx("td",{className:"py-1.5 text-neutral-600 dark:text-neutral-300 break-all",children:r})]},`annotation-${s}`)}function Ire(t){const[e,n]=t;return f.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50",children:[f.jsx("td",{className:"py-1.5 pr-3 text-sky-600 dark:text-sky-400 align-top whitespace-nowrap w-[1%]",children:e}),f.jsx("td",{className:"py-1.5 text-emerald-600 dark:text-emerald-400 break-all",children:n})]},`label-${e}`)}function Pre(t){const[e,n]=t;return{key:e,value:n,type:"annotation"}}function $re(t){const[e,n]=t;return{key:e,value:n,type:"label"}}function zre(t){const e=De.c(6),{events:n,loading:s}=t;if(s&&n.length===0){let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=f.jsxs("div",{className:"flex items-center gap-2 text-neutral-600 dark:text-neutral-500 text-sm",children:[f.jsx(Sa,{size:14,className:"animate-spin"}),"Loading events..."]}),e[0]=a):a=e[0],a}if(n.length===0){let a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a=f.jsx("div",{className:"text-neutral-600 dark:text-neutral-500 text-sm italic",children:"No events found for this resource"}),e[1]=a):a=e[1],a}let r;e[2]!==n?(r=n.map(Ure),e[2]=n,e[3]=r):r=e[3];let i;return e[4]!==r?(i=f.jsx("div",{className:"space-y-2",children:r}),e[4]=r,e[5]=i):i=e[5],i}function Ure(t){return f.jsx(Hre,{event:t},t.metadata?.uid||`${t.reason}-${t.lastTimestamp}`)}function Hre(t){const e=De.c(36),{event:n}=t;let s;e[0]!==n.eventTime||e[1]!==n.lastTimestamp||e[2]!==n.metadata?(s=()=>n.lastTimestamp?n.lastTimestamp instanceof Date?n.lastTimestamp.toISOString():String(n.lastTimestamp):n.eventTime?String(n.eventTime):n.metadata?.creationTimestamp?n.metadata.creationTimestamp instanceof Date?n.metadata.creationTimestamp.toISOString():String(n.metadata.creationTimestamp):new Date().toISOString(),e[0]=n.eventTime,e[1]=n.lastTimestamp,e[2]=n.metadata,e[3]=s):s=e[3];const r=s;let i,a,c,u,h;if(e[4]!==n.reason||e[5]!==n.type||e[6]!==r){const x=r(),S=n.type==="Warning";h=`p-3 rounded-lg border ${S?"bg-amber-500/5 border-amber-500/20":"bg-neutral-100 dark:bg-neutral-900/50 border-neutral-300 dark:border-neutral-700/50"}`,c="flex items-start justify-between gap-2 mb-1";const k=`px-1.5 py-0.5 rounded text-xs font-medium ${S?"bg-amber-500/20 text-amber-600 dark:text-amber-400":"bg-emerald-500/20 text-emerald-600 dark:text-emerald-400"}`;let C;e[12]!==n.type||e[13]!==k?(C=f.jsx("span",{className:k,children:n.type}),e[12]=n.type,e[13]=k,e[14]=C):C=e[14];let N;e[15]!==n.reason?(N=f.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-200",children:n.reason}),e[15]=n.reason,e[16]=N):N=e[16],e[17]!==C||e[18]!==N?(u=f.jsxs("div",{className:"flex items-center gap-2",children:[C,N]}),e[17]=C,e[18]=N,e[19]=u):u=e[19],i="text-xs text-neutral-600 dark:text-neutral-500 whitespace-nowrap",a=Fre(x),e[4]=n.reason,e[5]=n.type,e[6]=r,e[7]=i,e[8]=a,e[9]=c,e[10]=u,e[11]=h}else i=e[7],a=e[8],c=e[9],u=e[10],h=e[11];let m;e[20]!==i||e[21]!==a?(m=f.jsx("span",{className:i,children:a}),e[20]=i,e[21]=a,e[22]=m):m=e[22];let p;e[23]!==c||e[24]!==u||e[25]!==m?(p=f.jsxs("div",{className:c,children:[u,m]}),e[23]=c,e[24]=u,e[25]=m,e[26]=p):p=e[26];let y;e[27]!==n.message?(y=f.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-400",children:n.message}),e[27]=n.message,e[28]=y):y=e[28];let v;e[29]!==n.count?(v=n.count&&n.count>1&&f.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-500 mt-1",children:["Occurred ",n.count," times"]}),e[29]=n.count,e[30]=v):v=e[30];let b;return e[31]!==v||e[32]!==h||e[33]!==p||e[34]!==y?(b=f.jsxs("div",{className:h,children:[p,y,v]}),e[31]=v,e[32]=h,e[33]=p,e[34]=y,e[35]=b):b=e[35],b}function Fre(t){const e=new Date(t),s=new Date().getTime()-e.getTime(),r=Math.floor(s/1e3),i=Math.floor(r/60),a=Math.floor(i/60),c=Math.floor(a/24);return c>0?`${c}d ago`:a>0?`${a}h ago`:i>0?`${i}m ago`:`${r}s ago`}function _O(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=Array(e);n<e;n++)s[n]=t[n];return s}function Vre(t){if(Array.isArray(t))return t}function qre(t,e,n){return(e=Jre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,r,i,a,c=[],u=!0,h=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(u=(s=i.call(n)).done)&&(c.push(s.value),c.length!==e);u=!0);}catch(m){h=!0,r=m}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(h)throw r}}return c}}function Wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function wO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(s){qre(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Gre(t,e){if(t==null)return{};var n,s,r=Yre(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yre(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.indexOf(s)!==-1)continue;n[s]=t[s]}return n}function Zre(t,e){return Vre(t)||Kre(t,e)||Qre(t,e)||Wre()}function Xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jre(t){var e=Xre(t,"string");return typeof e=="symbol"?e:e+""}function Qre(t,e){if(t){if(typeof t=="string")return _O(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_O(t,e):void 0}}function eie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(s){eie(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function tie(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){return e.reduceRight(function(r,i){return i(r)},s)}}function bf(t){return function e(){for(var n=this,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return r.length>=t.length?t.apply(this,r):function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return e.apply(n,[].concat(r,c))}}}function Wy(t){return{}.toString.call(t).includes("Object")}function nie(t){return!Object.keys(t).length}function Sp(t){return typeof t=="function"}function sie(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rie(t,e){return Wy(e)||Lo("changeType"),Object.keys(e).some(function(n){return!sie(t,n)})&&Lo("changeField"),e}function iie(t){Sp(t)||Lo("selectorType")}function aie(t){Sp(t)||Wy(t)||Lo("handlerType"),Wy(t)&&Object.values(t).some(function(e){return!Sp(e)})&&Lo("handlersType")}function oie(t){t||Lo("initialIsRequired"),Wy(t)||Lo("initialType"),nie(t)&&Lo("initialContent")}function lie(t,e){throw new Error(t[e]||t.default)}var cie={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Lo=bf(lie)(cie),Yg={changes:rie,selector:iie,handler:aie,initial:oie};function uie(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yg.initial(t),Yg.handler(e);var n={current:t},s=bf(fie)(n,e),r=bf(die)(n),i=bf(Yg.changes)(t),a=bf(hie)(n);function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(m){return m};return Yg.selector(h),h(n.current)}function u(h){tie(s,r,i,a)(h)}return[c,u]}function hie(t,e){return Sp(e)?e(t.current):e}function die(t,e){return t.current=kO(kO({},t.current),e),e}function fie(t,e,n){return Sp(e)?e(t.current):Object.keys(n).forEach(function(s){var r;return(r=e[s])===null||r===void 0?void 0:r.call(e,t.current[s])}),n}var pie={create:uie},mie={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function gie(t){return function e(){for(var n=this,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return r.length>=t.length?t.apply(this,r):function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return e.apply(n,[].concat(r,c))}}}function yie(t){return{}.toString.call(t).includes("Object")}function vie(t){return t||CO("configIsRequired"),yie(t)||CO("configType"),t.urls?(bie(),{paths:{vs:t.urls.monacoBase}}):t}function bie(){console.warn(wI.deprecation)}function _ie(t,e){throw new Error(t[e]||t.default)}var wI={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},CO=gie(_ie)(wI),xie={config:vie},wie=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(r){return n.reduceRight(function(i,a){return a(i)},r)}};function SI(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],SI(t[n],e[n]))}),wO(wO({},t),e)}var Sie={type:"cancelation",msg:"operation is manually canceled"};function sw(t){var e=!1,n=new Promise(function(s,r){t.then(function(i){return e?r(Sie):s(i)}),t.catch(r)});return n.cancel=function(){return e=!0},n}var kie=["monaco"],Cie=pie.create({config:mie,isInitialized:!1,resolve:null,reject:null,monaco:null}),kI=Zre(Cie,2),tm=kI[0],xb=kI[1];function Nie(t){var e=xie.config(t),n=e.monaco,s=Gre(e,kie);xb(function(r){return{config:SI(r.config,s),monaco:n}})}function Eie(){var t=tm(function(e){var n=e.monaco,s=e.isInitialized,r=e.resolve;return{monaco:n,isInitialized:s,resolve:r}});if(!t.isInitialized){if(xb({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),sw(rw);if(window.monaco&&window.monaco.editor)return CI(window.monaco),t.resolve(window.monaco),sw(rw);wie(Aie,Tie)(Rie)}return sw(rw)}function Aie(t){return document.body.appendChild(t)}function jie(t){var e=document.createElement("script");return t&&(e.src=t),e}function Tie(t){var e=tm(function(s){var r=s.config,i=s.reject;return{config:r,reject:i}}),n=jie("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Rie(){var t=tm(function(n){var s=n.config,r=n.resolve,i=n.reject;return{config:s,resolve:r,reject:i}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){var s=n.m||n;CI(s),t.resolve(s)},function(n){t.reject(n)})}function CI(t){tm().monaco||xb({monaco:t})}function Oie(){return tm(function(t){var e=t.monaco;return e})}var rw=new Promise(function(t,e){return xb({resolve:t,reject:e})}),NI={config:Nie,init:Eie,__getMonacoInstance:Oie},Mie={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},iw=Mie,Die={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Bie=Die;function Lie({children:t}){return ks.createElement("div",{style:Bie.container},t)}var Iie=Lie,Pie=Iie;function $ie({width:t,height:e,isEditorReady:n,loading:s,_ref:r,className:i,wrapperProps:a}){return ks.createElement("section",{style:{...iw.wrapper,width:t,height:e},...a},!n&&ks.createElement(Pie,null,s),ks.createElement("div",{ref:r,style:{...iw.fullWidth,...!n&&iw.hide},className:i}))}var zie=$ie,EI=V.memo(zie);function Uie(t){V.useEffect(t,[])}var AI=Uie;function Hie(t,e,n=!0){let s=V.useRef(!0);V.useEffect(s.current||!n?()=>{s.current=!1}:t,e)}var wr=Hie;function Ff(){}function Cu(t,e,n,s){return Fie(t,s)||Vie(t,e,n,s)}function Fie(t,e){return t.editor.getModel(jI(t,e))}function Vie(t,e,n,s){return t.editor.createModel(e,n,s?jI(t,s):void 0)}function jI(t,e){return t.Uri.parse(e)}function qie({original:t,modified:e,language:n,originalLanguage:s,modifiedLanguage:r,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:u=!1,theme:h="light",loading:m="Loading...",options:p={},height:y="100%",width:v="100%",className:b,wrapperProps:x={},beforeMount:S=Ff,onMount:k=Ff}){let[C,N]=V.useState(!1),[R,O]=V.useState(!0),E=V.useRef(null),D=V.useRef(null),B=V.useRef(null),q=V.useRef(k),P=V.useRef(S),W=V.useRef(!1);AI(()=>{let G=NI.init();return G.then(I=>(D.current=I)&&O(!1)).catch(I=>I?.type!=="cancelation"&&console.error("Monaco initialization: error:",I)),()=>E.current?X():G.cancel()}),wr(()=>{if(E.current&&D.current){let G=E.current.getOriginalEditor(),I=Cu(D.current,t||"",s||n||"text",i||"");I!==G.getModel()&&G.setModel(I)}},[i],C),wr(()=>{if(E.current&&D.current){let G=E.current.getModifiedEditor(),I=Cu(D.current,e||"",r||n||"text",a||"");I!==G.getModel()&&G.setModel(I)}},[a],C),wr(()=>{let G=E.current.getModifiedEditor();G.getOption(D.current.editor.EditorOption.readOnly)?G.setValue(e||""):e!==G.getValue()&&(G.executeEdits("",[{range:G.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),G.pushUndoStop())},[e],C),wr(()=>{E.current?.getModel()?.original.setValue(t||"")},[t],C),wr(()=>{let{original:G,modified:I}=E.current.getModel();D.current.editor.setModelLanguage(G,s||n||"text"),D.current.editor.setModelLanguage(I,r||n||"text")},[n,s,r],C),wr(()=>{D.current?.editor.setTheme(h)},[h],C),wr(()=>{E.current?.updateOptions(p)},[p],C);let z=V.useCallback(()=>{if(!D.current)return;P.current(D.current);let G=Cu(D.current,t||"",s||n||"text",i||""),I=Cu(D.current,e||"",r||n||"text",a||"");E.current?.setModel({original:G,modified:I})},[n,e,r,t,s,i,a]),K=V.useCallback(()=>{!W.current&&B.current&&(E.current=D.current.editor.createDiffEditor(B.current,{automaticLayout:!0,...p}),z(),D.current?.editor.setTheme(h),N(!0),W.current=!0)},[p,h,z]);V.useEffect(()=>{C&&q.current(E.current,D.current)},[C]),V.useEffect(()=>{!R&&!C&&K()},[R,C,K]);function X(){let G=E.current?.getModel();c||G?.original?.dispose(),u||G?.modified?.dispose(),E.current?.dispose()}return ks.createElement(EI,{width:v,height:y,isEditorReady:C,loading:m,_ref:B,className:b,wrapperProps:x})}var Kie=qie;V.memo(Kie);function Wie(t){let e=V.useRef();return V.useEffect(()=>{e.current=t},[t]),e.current}var Gie=Wie,Zg=new Map;function Yie({defaultValue:t,defaultLanguage:e,defaultPath:n,value:s,language:r,path:i,theme:a="light",line:c,loading:u="Loading...",options:h={},overrideServices:m={},saveViewState:p=!0,keepCurrentModel:y=!1,width:v="100%",height:b="100%",className:x,wrapperProps:S={},beforeMount:k=Ff,onMount:C=Ff,onChange:N,onValidate:R=Ff}){let[O,E]=V.useState(!1),[D,B]=V.useState(!0),q=V.useRef(null),P=V.useRef(null),W=V.useRef(null),z=V.useRef(C),K=V.useRef(k),X=V.useRef(),G=V.useRef(s),I=Gie(i),Y=V.useRef(!1),Q=V.useRef(!1);AI(()=>{let M=NI.init();return M.then(H=>(q.current=H)&&B(!1)).catch(H=>H?.type!=="cancelation"&&console.error("Monaco initialization: error:",H)),()=>P.current?A():M.cancel()}),wr(()=>{let M=Cu(q.current,t||s||"",e||r||"",i||n||"");M!==P.current?.getModel()&&(p&&Zg.set(I,P.current?.saveViewState()),P.current?.setModel(M),p&&P.current?.restoreViewState(Zg.get(i)))},[i],O),wr(()=>{P.current?.updateOptions(h)},[h],O),wr(()=>{!P.current||s===void 0||(P.current.getOption(q.current.editor.EditorOption.readOnly)?P.current.setValue(s):s!==P.current.getValue()&&(Q.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),P.current.pushUndoStop(),Q.current=!1))},[s],O),wr(()=>{let M=P.current?.getModel();M&&r&&q.current?.editor.setModelLanguage(M,r)},[r],O),wr(()=>{c!==void 0&&P.current?.revealLine(c)},[c],O),wr(()=>{q.current?.editor.setTheme(a)},[a],O);let $=V.useCallback(()=>{if(!(!W.current||!q.current)&&!Y.current){K.current(q.current);let M=i||n,H=Cu(q.current,s||t||"",e||r||"",M||"");P.current=q.current?.editor.create(W.current,{model:H,automaticLayout:!0,...h},m),p&&P.current.restoreViewState(Zg.get(M)),q.current.editor.setTheme(a),c!==void 0&&P.current.revealLine(c),E(!0),Y.current=!0}},[t,e,n,s,r,i,h,m,p,a,c]);V.useEffect(()=>{O&&z.current(P.current,q.current)},[O]),V.useEffect(()=>{!D&&!O&&$()},[D,O,$]),G.current=s,V.useEffect(()=>{O&&N&&(X.current?.dispose(),X.current=P.current?.onDidChangeModelContent(M=>{Q.current||N(P.current.getValue(),M)}))},[O,N]),V.useEffect(()=>{if(O){let M=q.current.editor.onDidChangeMarkers(H=>{let T=P.current.getModel()?.uri;if(T&&H.find(J=>J.path===T.path)){let J=q.current.editor.getModelMarkers({resource:T});R?.(J)}});return()=>{M?.dispose()}}return()=>{}},[O,R]);function A(){X.current?.dispose(),y?p&&Zg.set(i,P.current.saveViewState()):P.current.getModel()?.dispose(),P.current.dispose()}return ks.createElement(EI,{width:v,height:b,isEditorReady:O,loading:u,_ref:W,className:x,wrapperProps:S})}var Zie=Yie,Xie=V.memo(Zie),Jie=Xie;const gN=Symbol.for("yaml.alias"),i2=Symbol.for("yaml.document"),Io=Symbol.for("yaml.map"),TI=Symbol.for("yaml.pair"),Hi=Symbol.for("yaml.scalar"),Nh=Symbol.for("yaml.seq"),ti=Symbol.for("yaml.node.type"),pc=t=>!!t&&typeof t=="object"&&t[ti]===gN,nm=t=>!!t&&typeof t=="object"&&t[ti]===i2,sm=t=>!!t&&typeof t=="object"&&t[ti]===Io,An=t=>!!t&&typeof t=="object"&&t[ti]===TI,en=t=>!!t&&typeof t=="object"&&t[ti]===Hi,rm=t=>!!t&&typeof t=="object"&&t[ti]===Nh;function Cn(t){if(t&&typeof t=="object")switch(t[ti]){case Io:case Nh:return!0}return!1}function En(t){if(t&&typeof t=="object")switch(t[ti]){case gN:case Io:case Hi:case Nh:return!0}return!1}const RI=t=>(en(t)||Cn(t))&&!!t.anchor,gl=Symbol("break visit"),Qie=Symbol("skip children"),Vf=Symbol("remove node");function Eh(t,e){const n=eae(e);nm(t)?Nu(null,t.contents,n,Object.freeze([t]))===Vf&&(t.contents=null):Nu(null,t,n,Object.freeze([]))}Eh.BREAK=gl;Eh.SKIP=Qie;Eh.REMOVE=Vf;function Nu(t,e,n,s){const r=tae(t,e,n,s);if(En(r)||An(r))return nae(t,s,r),Nu(t,r,n,s);if(typeof r!="symbol"){if(Cn(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const a=Nu(i,e.items[i],n,s);if(typeof a=="number")i=a-1;else{if(a===gl)return gl;a===Vf&&(e.items.splice(i,1),i-=1)}}}else if(An(e)){s=Object.freeze(s.concat(e));const i=Nu("key",e.key,n,s);if(i===gl)return gl;i===Vf&&(e.key=null);const a=Nu("value",e.value,n,s);if(a===gl)return gl;a===Vf&&(e.value=null)}}return r}function eae(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function tae(t,e,n,s){if(typeof n=="function")return n(t,e,s);if(sm(e))return n.Map?.(t,e,s);if(rm(e))return n.Seq?.(t,e,s);if(An(e))return n.Pair?.(t,e,s);if(en(e))return n.Scalar?.(t,e,s);if(pc(e))return n.Alias?.(t,e,s)}function nae(t,e,n){const s=e[e.length-1];if(Cn(s))s.items[t]=n;else if(An(s))t==="key"?s.key=n:s.value=n;else if(nm(s))s.contents=n;else{const r=pc(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}const sae={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},rae=t=>t.replace(/[!,[\]{}]/g,e=>sae[e]);class Os{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Os.defaultYaml,e),this.tags=Object.assign({},Os.defaultTags,n)}clone(){const e=new Os(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Os(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Os.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Os.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:Os.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Os.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),r=s.shift();switch(r){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[i,a]=s;return this.tags[i]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=s;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const a=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,a),!1}}default:return n(0,`Unknown directive ${r}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const a=e.slice(2,-1);return a==="!"||a==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),a)}const[,s,r]=e.match(/^(.*!)([^!]*)$/s);r||n(`The ${e} tag has no suffix`);const i=this.tags[s];if(i)try{return i+decodeURIComponent(r)}catch(a){return n(String(a)),null}return s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+rae(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let r;if(e&&s.length>0&&En(e.contents)){const i={};Eh(e.contents,(a,c)=>{En(c)&&c.tag&&(i[c.tag]=!0)}),r=Object.keys(i)}else r=[];for(const[i,a]of s)i==="!!"&&a==="tag:yaml.org,2002:"||(!e||r.some(c=>c.startsWith(a)))&&n.push(`%TAG ${i} ${a}`);return n.join(`
`)}}Os.defaultYaml={explicit:!1,version:"1.2"};Os.defaultTags={"!!":"tag:yaml.org,2002:"};function OI(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function MI(t){const e=new Set;return Eh(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function DI(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function iae(t,e){const n=[],s=new Map;let r=null;return{onAnchor:i=>{n.push(i),r??(r=MI(t));const a=DI(e,r);return r.add(a),a},setAnchors:()=>{for(const i of n){const a=s.get(i);if(typeof a=="object"&&a.anchor&&(en(a.node)||Cn(a.node)))a.node.anchor=a.anchor;else{const c=new Error("Failed to resolve repeated object (this should not happen)");throw c.source=i,c}}},sourceObjects:s}}function Eu(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let r=0,i=s.length;r<i;++r){const a=s[r],c=Eu(t,s,String(r),a);c===void 0?delete s[r]:c!==a&&(s[r]=c)}else if(s instanceof Map)for(const r of Array.from(s.keys())){const i=s.get(r),a=Eu(t,s,r,i);a===void 0?s.delete(r):a!==i&&s.set(r,a)}else if(s instanceof Set)for(const r of Array.from(s)){const i=Eu(t,s,r,r);i===void 0?s.delete(r):i!==r&&(s.delete(r),s.add(i))}else for(const[r,i]of Object.entries(s)){const a=Eu(t,s,r,i);a===void 0?delete s[r]:a!==i&&(s[r]=a)}return t.call(e,n,s)}function Qr(t,e,n){if(Array.isArray(t))return t.map((s,r)=>Qr(s,String(r),n));if(t&&typeof t.toJSON=="function"){if(!n||!RI(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=i=>{s.res=i,delete n.onCreate};const r=t.toJSON(e,n);return n.onCreate&&n.onCreate(r),r}return typeof t=="bigint"&&!n?.keep?Number(t):t}class yN{constructor(e){Object.defineProperty(this,ti,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:i}={}){if(!nm(e))throw new TypeError("A document argument is required");const a={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},c=Qr(this,"",a);if(typeof r=="function")for(const{count:u,res:h}of a.anchors.values())r(h,u);return typeof i=="function"?Eu(i,{"":c},"",c):c}}class vN extends yN{constructor(e){super(gN),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let s;n?.aliasResolveCache?s=n.aliasResolveCache:(s=[],Eh(e,{Node:(i,a)=>{(pc(a)||RI(a))&&s.push(a)}}),n&&(n.aliasResolveCache=s));let r;for(const i of s){if(i===this)break;i.anchor===this.source&&(r=i)}return r}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:r,maxAliasCount:i}=n,a=this.resolve(r,n);if(!a){const u=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(u)}let c=s.get(a);if(c||(Qr(a,null,n),c=s.get(a)),c?.res===void 0){const u="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(u)}if(i>=0&&(c.count+=1,c.aliasCount===0&&(c.aliasCount=E0(r,a,s)),c.count*c.aliasCount>i)){const u="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(u)}return c.res}toString(e,n,s){const r=`*${this.source}`;if(e){if(OI(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${r} `}return r}}function E0(t,e,n){if(pc(e)){const s=e.resolve(t),r=n&&s&&n.get(s);return r?r.count*r.aliasCount:0}else if(Cn(e)){let s=0;for(const r of e.items){const i=E0(t,r,n);i>s&&(s=i)}return s}else if(An(e)){const s=E0(t,e.key,n),r=E0(t,e.value,n);return Math.max(s,r)}return 1}const BI=t=>!t||typeof t!="function"&&typeof t!="object";class gt extends yN{constructor(e){super(Hi),this.value=e}toJSON(e,n){return n?.keep?this.value:Qr(this.value,e,n)}toString(){return String(this.value)}}gt.BLOCK_FOLDED="BLOCK_FOLDED";gt.BLOCK_LITERAL="BLOCK_LITERAL";gt.PLAIN="PLAIN";gt.QUOTE_DOUBLE="QUOTE_DOUBLE";gt.QUOTE_SINGLE="QUOTE_SINGLE";const aae="tag:yaml.org,2002:";function oae(t,e,n){if(e){const s=n.filter(i=>i.tag===e),r=s.find(i=>!i.format)??s[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return n.find(s=>s.identify?.(t)&&!s.format)}function kp(t,e,n){if(nm(t)&&(t=t.contents),En(t))return t;if(An(t)){const p=n.schema[Io].createNode?.(n.schema,null,n);return p.items.push(t),p}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:i,schema:a,sourceObjects:c}=n;let u;if(s&&t&&typeof t=="object"){if(u=c.get(t),u)return u.anchor??(u.anchor=r(t)),new vN(u.anchor);u={anchor:null,node:null},c.set(t,u)}e?.startsWith("!!")&&(e=aae+e.slice(2));let h=oae(t,e,a.tags);if(!h){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const p=new gt(t);return u&&(u.node=p),p}h=t instanceof Map?a[Io]:Symbol.iterator in Object(t)?a[Nh]:a[Io]}i&&(i(h),delete n.onTagObj);const m=h?.createNode?h.createNode(n.schema,t,n):typeof h?.nodeClass?.from=="function"?h.nodeClass.from(n.schema,t,n):new gt(t);return e?m.tag=e:h.default||(m.tag=h.tag),u&&(u.node=m),m}function Gy(t,e,n){let s=n;for(let r=e.length-1;r>=0;--r){const i=e[r];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const a=[];a[i]=s,s=a}else s=new Map([[i,s]])}return kp(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const _f=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class LI extends yN{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>En(s)||An(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(_f(e))this.add(n);else{const[s,...r]=e,i=this.get(s,!0);if(Cn(i))i.addIn(r,n);else if(i===void 0&&this.schema)this.set(s,Gy(this.schema,r,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const r=this.get(n,!0);if(Cn(r))return r.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...r]=e,i=this.get(s,!0);return r.length===0?!n&&en(i)?i.value:i:Cn(i)?i.getIn(r,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!An(n))return!1;const s=n.value;return s==null||e&&en(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const r=this.get(n,!0);return Cn(r)?r.hasIn(s):!1}setIn(e,n){const[s,...r]=e;if(r.length===0)this.set(s,n);else{const i=this.get(s,!0);if(Cn(i))i.setIn(r,n);else if(i===void 0&&this.schema)this.set(s,Gy(this.schema,r,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}}const lae=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function wa(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Cl=(t,e,n)=>t.endsWith(`
`)?wa(n,e):n.includes(`
`)?`
`+wa(n,e):(t.endsWith(" ")?"":" ")+n,II="flow",a2="block",A0="quoted";function wb(t,e,n="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:i=20,onFold:a,onOverflow:c}={}){if(!r||r<0)return t;r<i&&(i=0);const u=Math.max(1+i,1+r-e.length);if(t.length<=u)return t;const h=[],m={};let p=r-e.length;typeof s=="number"&&(s>r-Math.max(2,i)?h.push(0):p=r-s);let y,v,b=!1,x=-1,S=-1,k=-1;n===a2&&(x=NO(t,x,e.length),x!==-1&&(p=x+u));for(let N;N=t[x+=1];){if(n===A0&&N==="\\"){switch(S=x,t[x+1]){case"x":x+=3;break;case"u":x+=5;break;case"U":x+=9;break;default:x+=1}k=x}if(N===`
`)n===a2&&(x=NO(t,x,e.length)),p=x+e.length+u,y=void 0;else{if(N===" "&&v&&v!==" "&&v!==`
`&&v!=="	"){const R=t[x+1];R&&R!==" "&&R!==`
`&&R!=="	"&&(y=x)}if(x>=p)if(y)h.push(y),p=y+u,y=void 0;else if(n===A0){for(;v===" "||v==="	";)v=N,N=t[x+=1],b=!0;const R=x>k+1?x-2:S-1;if(m[R])return t;h.push(R),m[R]=!0,p=R+u,y=void 0}else b=!0}v=N}if(b&&c&&c(),h.length===0)return t;a&&a();let C=t.slice(0,h[0]);for(let N=0;N<h.length;++N){const R=h[N],O=h[N+1]||t.length;R===0?C=`
${e}${t.slice(0,O)}`:(n===A0&&m[R]&&(C+=`${t[R]}\\`),C+=`
${e}${t.slice(R+1,O)}`)}return C}function NO(t,e,n){let s=e,r=e+1,i=t[r];for(;i===" "||i==="	";)if(e<r+n)i=t[++e];else{do i=t[++e];while(i&&i!==`
`);s=e,r=e+1,i=t[r]}return s}const Sb=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),kb=t=>/^(%|---|\.\.\.)/m.test(t);function cae(t,e,n){if(!e||e<0)return!1;const s=e-n,r=t.length;if(r<=s)return!1;for(let i=0,a=0;i<r;++i)if(t[i]===`
`){if(i-a>s)return!0;if(a=i+1,r-a<=s)return!1}return!0}function qf(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,r=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(kb(t)?"  ":"");let a="",c=0;for(let u=0,h=n[u];h;h=n[++u])if(h===" "&&n[u+1]==="\\"&&n[u+2]==="n"&&(a+=n.slice(c,u)+"\\ ",u+=1,c=u,h="\\"),h==="\\")switch(n[u+1]){case"u":{a+=n.slice(c,u);const m=n.substr(u+2,4);switch(m){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:m.substr(0,2)==="00"?a+="\\x"+m.substr(2):a+=n.substr(u,6)}u+=5,c=u+1}break;case"n":if(s||n[u+2]==='"'||n.length<r)u+=1;else{for(a+=n.slice(c,u)+`

`;n[u+2]==="\\"&&n[u+3]==="n"&&n[u+4]!=='"';)a+=`
`,u+=2;a+=i,n[u+2]===" "&&(a+="\\"),u+=1,c=u+1}break;default:u+=1}return a=c?a+n.slice(c):n,s?a:wb(a,i,A0,Sb(e,!1))}function o2(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return qf(t,e);const n=e.indent||(kb(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:wb(s,n,II,Sb(e,!1))}function Au(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=qf;else{const r=t.includes('"'),i=t.includes("'");r&&!i?s=o2:i&&!r?s=qf:s=n?o2:qf}return s(t,e)}let l2;try{l2=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{l2=/\n+(?!\n|$)/g}function j0({comment:t,type:e,value:n},s,r,i){const{blockQuote:a,commentString:c,lineWidth:u}=s.options;if(!a||/\n[\t ]+$/.test(n))return Au(n,s);const h=s.indent||(s.forceBlockIndent||kb(n)?"  ":""),m=a==="literal"?!0:a==="folded"||e===gt.BLOCK_FOLDED?!1:e===gt.BLOCK_LITERAL?!0:!cae(n,u,h.length);if(!n)return m?`|
`:`>
`;let p,y;for(y=n.length;y>0;--y){const O=n[y-1];if(O!==`
`&&O!=="	"&&O!==" ")break}let v=n.substring(y);const b=v.indexOf(`
`);b===-1?p="-":n===v||b!==v.length-1?(p="+",i&&i()):p="",v&&(n=n.slice(0,-v.length),v[v.length-1]===`
`&&(v=v.slice(0,-1)),v=v.replace(l2,`$&${h}`));let x=!1,S,k=-1;for(S=0;S<n.length;++S){const O=n[S];if(O===" ")x=!0;else if(O===`
`)k=S;else break}let C=n.substring(0,k<S?k+1:S);C&&(n=n.substring(C.length),C=C.replace(/\n+/g,`$&${h}`));let R=(x?h?"2":"1":"")+p;if(t&&(R+=" "+c(t.replace(/ ?[\r\n]+/g," ")),r&&r()),!m){const O=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`);let E=!1;const D=Sb(s,!0);a!=="folded"&&e!==gt.BLOCK_FOLDED&&(D.onOverflow=()=>{E=!0});const B=wb(`${C}${O}${v}`,h,a2,D);if(!E)return`>${R}
${h}${B}`}return n=n.replace(/\n+/g,`$&${h}`),`|${R}
${h}${C}${n}${v}`}function uae(t,e,n,s){const{type:r,value:i}=t,{actualString:a,implicitKey:c,indent:u,indentStep:h,inFlow:m}=e;if(c&&i.includes(`
`)||m&&/[[\]{},]/.test(i))return Au(i,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return c||m||!i.includes(`
`)?Au(i,e):j0(t,e,n,s);if(!c&&!m&&r!==gt.PLAIN&&i.includes(`
`))return j0(t,e,n,s);if(kb(i)){if(u==="")return e.forceBlockIndent=!0,j0(t,e,n,s);if(c&&u===h)return Au(i,e)}const p=i.replace(/\n+/g,`$&
${u}`);if(a){const y=x=>x.default&&x.tag!=="tag:yaml.org,2002:str"&&x.test?.test(p),{compat:v,tags:b}=e.doc.schema;if(b.some(y)||v?.some(y))return Au(i,e)}return c?p:wb(p,u,II,Sb(e,!1))}function bN(t,e,n,s){const{implicitKey:r,inFlow:i}=e,a=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:c}=t;c!==gt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(c=gt.QUOTE_DOUBLE);const u=m=>{switch(m){case gt.BLOCK_FOLDED:case gt.BLOCK_LITERAL:return r||i?Au(a.value,e):j0(a,e,n,s);case gt.QUOTE_DOUBLE:return qf(a.value,e);case gt.QUOTE_SINGLE:return o2(a.value,e);case gt.PLAIN:return uae(a,e,n,s);default:return null}};let h=u(c);if(h===null){const{defaultKeyType:m,defaultStringType:p}=e.options,y=r&&m||p;if(h=u(y),h===null)throw new Error(`Unsupported default string type ${y}`)}return h}function PI(t,e){const n=Object.assign({blockQuote:!0,commentString:lae,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function hae(t,e){if(e.tag){const r=t.filter(i=>i.tag===e.tag);if(r.length>0)return r.find(i=>i.format===e.format)??r[0]}let n,s;if(en(e)){s=e.value;let r=t.filter(i=>i.identify?.(s));if(r.length>1){const i=r.filter(a=>a.test);i.length>0&&(r=i)}n=r.find(i=>i.format===e.format)??r.find(i=>!i.format)}else s=e,n=t.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!n){const r=s?.constructor?.name??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${r} value`)}return n}function dae(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const r=[],i=(en(t)||Cn(t))&&t.anchor;i&&OI(i)&&(n.add(i),r.push(`&${i}`));const a=t.tag??(e.default?null:e.tag);return a&&r.push(s.directives.tagString(a)),r.join(" ")}function nh(t,e,n,s){if(An(t))return t.toString(e,n,s);if(pc(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r;const i=En(t)?t:e.doc.createNode(t,{onTagObj:u=>r=u});r??(r=hae(e.doc.schema.tags,i));const a=dae(i,r,e);a.length>0&&(e.indentAtStart=(e.indentAtStart??0)+a.length+1);const c=typeof r.stringify=="function"?r.stringify(i,e,n,s):en(i)?bN(i,e,n,s):i.toString(e,n,s);return a?en(i)||c[0]==="{"||c[0]==="["?`${a} ${c}`:`${a}
${e.indent}${c}`:c}function fae({key:t,value:e},n,s,r){const{allNullValues:i,doc:a,indent:c,indentStep:u,options:{commentString:h,indentSeq:m,simpleKeys:p}}=n;let y=En(t)&&t.comment||null;if(p){if(y)throw new Error("With simple keys, key nodes cannot have comments");if(Cn(t)||!En(t)&&typeof t=="object"){const D="With simple keys, collection cannot be used as a key value";throw new Error(D)}}let v=!p&&(!t||y&&e==null&&!n.inFlow||Cn(t)||(en(t)?t.type===gt.BLOCK_FOLDED||t.type===gt.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!v&&(p||!i),indent:c+u});let b=!1,x=!1,S=nh(t,n,()=>b=!0,()=>x=!0);if(!v&&!n.inFlow&&S.length>1024){if(p)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");v=!0}if(n.inFlow){if(i||e==null)return b&&s&&s(),S===""?"?":v?`? ${S}`:S}else if(i&&!p||e==null&&v)return S=`? ${S}`,y&&!b?S+=Cl(S,n.indent,h(y)):x&&r&&r(),S;b&&(y=null),v?(y&&(S+=Cl(S,n.indent,h(y))),S=`? ${S}
${c}:`):(S=`${S}:`,y&&(S+=Cl(S,n.indent,h(y))));let k,C,N;En(e)?(k=!!e.spaceBefore,C=e.commentBefore,N=e.comment):(k=!1,C=null,N=null,e&&typeof e=="object"&&(e=a.createNode(e))),n.implicitKey=!1,!v&&!y&&en(e)&&(n.indentAtStart=S.length+1),x=!1,!m&&u.length>=2&&!n.inFlow&&!v&&rm(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let R=!1;const O=nh(e,n,()=>R=!0,()=>x=!0);let E=" ";if(y||k||C){if(E=k?`
`:"",C){const D=h(C);E+=`
${wa(D,n.indent)}`}O===""&&!n.inFlow?E===`
`&&N&&(E=`

`):E+=`
${n.indent}`}else if(!v&&Cn(e)){const D=O[0],B=O.indexOf(`
`),q=B!==-1,P=n.inFlow??e.flow??e.items.length===0;if(q||!P){let W=!1;if(q&&(D==="&"||D==="!")){let z=O.indexOf(" ");D==="&"&&z!==-1&&z<B&&O[z+1]==="!"&&(z=O.indexOf(" ",z+1)),(z===-1||B<z)&&(W=!0)}W||(E=`
${n.indent}`)}}else(O===""||O[0]===`
`)&&(E="");return S+=E+O,n.inFlow?R&&s&&s():N&&!R?S+=Cl(S,n.indent,h(N)):x&&r&&r(),S}function $I(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const Xg="<<",ka={identify:t=>t===Xg||typeof t=="symbol"&&t.description===Xg,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new gt(Symbol(Xg)),{addToJSMap:zI}),stringify:()=>Xg},pae=(t,e)=>(ka.identify(e)||en(e)&&(!e.type||e.type===gt.PLAIN)&&ka.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===ka.tag&&n.default);function zI(t,e,n){if(n=t&&pc(n)?n.resolve(t.doc):n,rm(n))for(const s of n.items)aw(t,e,s);else if(Array.isArray(n))for(const s of n)aw(t,e,s);else aw(t,e,n)}function aw(t,e,n){const s=t&&pc(n)?n.resolve(t.doc):n;if(!sm(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,t,Map);for(const[i,a]of r)e instanceof Map?e.has(i)||e.set(i,a):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}function UI(t,e,{key:n,value:s}){if(En(n)&&n.addToJSMap)n.addToJSMap(t,e,s);else if(pae(t,n))zI(t,e,s);else{const r=Qr(n,"",t);if(e instanceof Map)e.set(r,Qr(s,r,t));else if(e instanceof Set)e.add(r);else{const i=mae(n,r,t),a=Qr(s,i,t);i in e?Object.defineProperty(e,i,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[i]=a}}return e}function mae(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(En(t)&&n?.doc){const s=PI(n.doc,{});s.anchors=new Set;for(const i of n.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const r=t.toString(s);if(!n.mapKeyWarned){let i=JSON.stringify(r);i.length>40&&(i=i.substring(0,36)+'..."'),$I(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(e)}function _N(t,e,n){const s=kp(t,void 0,n),r=kp(e,void 0,n);return new Ls(s,r)}class Ls{constructor(e,n=null){Object.defineProperty(this,ti,{value:TI}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return En(n)&&(n=n.clone(e)),En(s)&&(s=s.clone(e)),new Ls(n,s)}toJSON(e,n){const s=n?.mapAsMap?new Map:{};return UI(n,s,this)}toString(e,n,s){return e?.doc?fae(this,e,n,s):JSON.stringify(this)}}function HI(t,e,n){return(e.inFlow??t.flow?yae:gae)(t,e,n)}function gae({comment:t,items:e},n,{blockItemPrefix:s,flowChars:r,itemIndent:i,onChompKeep:a,onComment:c}){const{indent:u,options:{commentString:h}}=n,m=Object.assign({},n,{indent:i,type:null});let p=!1;const y=[];for(let b=0;b<e.length;++b){const x=e[b];let S=null;if(En(x))!p&&x.spaceBefore&&y.push(""),Yy(n,y,x.commentBefore,p),x.comment&&(S=x.comment);else if(An(x)){const C=En(x.key)?x.key:null;C&&(!p&&C.spaceBefore&&y.push(""),Yy(n,y,C.commentBefore,p))}p=!1;let k=nh(x,m,()=>S=null,()=>p=!0);S&&(k+=Cl(k,i,h(S))),p&&S&&(p=!1),y.push(s+k)}let v;if(y.length===0)v=r.start+r.end;else{v=y[0];for(let b=1;b<y.length;++b){const x=y[b];v+=x?`
${u}${x}`:`
`}}return t?(v+=`
`+wa(h(t),u),c&&c()):p&&a&&a(),v}function yae({items:t},e,{flowChars:n,itemIndent:s}){const{indent:r,indentStep:i,flowCollectionPadding:a,options:{commentString:c}}=e;s+=i;const u=Object.assign({},e,{indent:s,inFlow:!0,type:null});let h=!1,m=0;const p=[];for(let b=0;b<t.length;++b){const x=t[b];let S=null;if(En(x))x.spaceBefore&&p.push(""),Yy(e,p,x.commentBefore,!1),x.comment&&(S=x.comment);else if(An(x)){const C=En(x.key)?x.key:null;C&&(C.spaceBefore&&p.push(""),Yy(e,p,C.commentBefore,!1),C.comment&&(h=!0));const N=En(x.value)?x.value:null;N?(N.comment&&(S=N.comment),N.commentBefore&&(h=!0)):x.value==null&&C?.comment&&(S=C.comment)}S&&(h=!0);let k=nh(x,u,()=>S=null);b<t.length-1&&(k+=","),S&&(k+=Cl(k,s,c(S))),!h&&(p.length>m||k.includes(`
`))&&(h=!0),p.push(k),m=p.length}const{start:y,end:v}=n;if(p.length===0)return y+v;if(!h){const b=p.reduce((x,S)=>x+S.length+2,2);h=e.options.lineWidth>0&&b>e.options.lineWidth}if(h){let b=y;for(const x of p)b+=x?`
${i}${r}${x}`:`
`;return`${b}
${r}${v}`}else return`${y}${a}${p.join(" ")}${a}${v}`}function Yy({indent:t,options:{commentString:e}},n,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const i=wa(e(s),t);n.push(i.trimStart())}}function Nl(t,e){const n=en(e)?e.value:e;for(const s of t)if(An(s)&&(s.key===e||s.key===n||en(s.key)&&s.key.value===n))return s}class Wr extends LI{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Io,e),this.items=[]}static from(e,n,s){const{keepUndefined:r,replacer:i}=s,a=new this(e),c=(u,h)=>{if(typeof i=="function")h=i.call(n,u,h);else if(Array.isArray(i)&&!i.includes(u))return;(h!==void 0||r)&&a.items.push(_N(u,h,s))};if(n instanceof Map)for(const[u,h]of n)c(u,h);else if(n&&typeof n=="object")for(const u of Object.keys(n))c(u,n[u]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}add(e,n){let s;An(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Ls(e,e?.value):s=new Ls(e.key,e.value);const r=Nl(this.items,s.key),i=this.schema?.sortMapEntries;if(r){if(!n)throw new Error(`Key ${s.key} already set`);en(r.value)&&BI(s.value)?r.value.value=s.value:r.value=s.value}else if(i){const a=this.items.findIndex(c=>i(s,c)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const n=Nl(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const r=Nl(this.items,e)?.value;return(!n&&en(r)?r.value:r)??void 0}has(e){return!!Nl(this.items,e)}set(e,n){this.add(new Ls(e,n),!0)}toJSON(e,n,s){const r=s?new s:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(r);for(const i of this.items)UI(n,r,i);return r}toString(e,n,s){if(!e)return JSON.stringify(this);for(const r of this.items)if(!An(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),HI(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}const Ah={collection:"map",default:!0,nodeClass:Wr,tag:"tag:yaml.org,2002:map",resolve(t,e){return sm(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>Wr.from(t,e,n)};class sc extends LI{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Nh,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=Jg(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=Jg(e);if(typeof s!="number")return;const r=this.items[s];return!n&&en(r)?r.value:r}has(e){const n=Jg(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=Jg(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[s];en(r)&&BI(n)?r.value=n:this.items[s]=n}toJSON(e,n){const s=[];n?.onCreate&&n.onCreate(s);let r=0;for(const i of this.items)s.push(Qr(i,String(r++),n));return s}toString(e,n,s){return e?HI(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:r}=s,i=new this(e);if(n&&Symbol.iterator in Object(n)){let a=0;for(let c of n){if(typeof r=="function"){const u=n instanceof Set?c:String(a++);c=r.call(n,u,c)}i.items.push(kp(c,void 0,s))}}return i}}function Jg(t){let e=en(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const jh={collection:"seq",default:!0,nodeClass:sc,tag:"tag:yaml.org,2002:seq",resolve(t,e){return rm(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>sc.from(t,e,n)},Cb={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),bN(t,e,n,s)}},Nb={identify:t=>t==null,createNode:()=>new gt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new gt(null),stringify:({source:t},e)=>typeof t=="string"&&Nb.test.test(t)?t:e.options.nullStr},xN={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new gt(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&xN.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function _i({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const r=typeof s=="number"?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=Object.is(s,-0)?"-0":JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let a=i.indexOf(".");a<0&&(a=i.length,i+=".");let c=e-(i.length-a-1);for(;c-- >0;)i+="0"}return i}const FI={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_i},VI={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():_i(t)}},qI={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new gt(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:_i},Eb=t=>typeof t=="bigint"||Number.isInteger(t),wN=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function KI(t,e,n){const{value:s}=t;return Eb(s)&&s>=0?n+s.toString(e):_i(t)}const WI={identify:t=>Eb(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>wN(t,2,8,n),stringify:t=>KI(t,8,"0o")},GI={identify:Eb,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>wN(t,0,10,n),stringify:_i},YI={identify:t=>Eb(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>wN(t,2,16,n),stringify:t=>KI(t,16,"0x")},vae=[Ah,jh,Cb,Nb,xN,WI,GI,YI,FI,VI,qI];function EO(t){return typeof t=="bigint"||Number.isInteger(t)}const Qg=({value:t})=>JSON.stringify(t),bae=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Qg},{identify:t=>t==null,createNode:()=>new gt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Qg},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:Qg},{identify:EO,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>EO(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Qg}],_ae={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},xae=[Ah,jh].concat(bae,_ae),SN={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length);for(let r=0;r<n.length;++r)s[r]=n.charCodeAt(r);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,r,i){if(!n)return"";const a=n;let c;if(typeof btoa=="function"){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);c=btoa(u)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=gt.BLOCK_LITERAL),e!==gt.QUOTE_DOUBLE){const u=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),h=Math.ceil(c.length/u),m=new Array(h);for(let p=0,y=0;p<h;++p,y+=u)m[p]=c.substr(y,u);c=m.join(e===gt.BLOCK_LITERAL?`
`:" ")}return bN({comment:t,type:e,value:c},s,r,i)}};function ZI(t,e){if(rm(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!An(s)){if(sm(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const r=s.items[0]||new Ls(new gt(null));if(s.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${s.commentBefore}
${r.key.commentBefore}`:s.commentBefore),s.comment){const i=r.value??r.key;i.comment=i.comment?`${s.comment}
${i.comment}`:s.comment}s=r}t.items[n]=An(s)?s:new Ls(s)}}else e("Expected a sequence for this tag");return t}function XI(t,e,n){const{replacer:s}=n,r=new sc(t);r.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof s=="function"&&(a=s.call(e,String(i++),a));let c,u;if(Array.isArray(a))if(a.length===2)c=a[0],u=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const h=Object.keys(a);if(h.length===1)c=h[0],u=a[c];else throw new TypeError(`Expected tuple with one key, not ${h.length} keys`)}else c=a;r.items.push(_N(c,u,n))}return r}const kN={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ZI,createNode:XI};class Lu extends sc{constructor(){super(),this.add=Wr.prototype.add.bind(this),this.delete=Wr.prototype.delete.bind(this),this.get=Wr.prototype.get.bind(this),this.has=Wr.prototype.has.bind(this),this.set=Wr.prototype.set.bind(this),this.tag=Lu.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n?.onCreate&&n.onCreate(s);for(const r of this.items){let i,a;if(An(r)?(i=Qr(r.key,"",n),a=Qr(r.value,i,n)):i=Qr(r,"",n),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,a)}return s}static from(e,n,s){const r=XI(e,n,s),i=new this;return i.items=r.items,i}}Lu.tag="tag:yaml.org,2002:omap";const CN={collection:"seq",identify:t=>t instanceof Map,nodeClass:Lu,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=ZI(t,e),s=[];for(const{key:r}of n.items)en(r)&&(s.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):s.push(r.value));return Object.assign(new Lu,n)},createNode:(t,e,n)=>Lu.from(t,e,n)};function JI({value:t,source:e},n){return e&&(t?QI:eP).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const QI={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new gt(!0),stringify:JI},eP={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new gt(!1),stringify:JI},wae={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_i},Sae={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():_i(t)}},kae={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new gt(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:_i},im=t=>typeof t=="bigint"||Number.isInteger(t);function Ab(t,e,n,{intAsBigInt:s}){const r=t[0];if((r==="-"||r==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const a=BigInt(t);return r==="-"?BigInt(-1)*a:a}const i=parseInt(t,n);return r==="-"?-1*i:i}function NN(t,e,n){const{value:s}=t;if(im(s)){const r=s.toString(e);return s<0?"-"+n+r.substr(1):n+r}return _i(t)}const Cae={identify:im,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Ab(t,2,2,n),stringify:t=>NN(t,2,"0b")},Nae={identify:im,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Ab(t,1,8,n),stringify:t=>NN(t,8,"0")},Eae={identify:im,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Ab(t,0,10,n),stringify:_i},Aae={identify:im,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Ab(t,2,16,n),stringify:t=>NN(t,16,"0x")};class Iu extends Wr{constructor(e){super(e),this.tag=Iu.tag}add(e){let n;An(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Ls(e.key,null):n=new Ls(e,null),Nl(this.items,n.key)||this.items.push(n)}get(e,n){const s=Nl(this.items,e);return!n&&An(s)?en(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=Nl(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new Ls(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:r}=s,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let a of n)typeof r=="function"&&(a=r.call(n,a,a)),i.items.push(_N(a,null,s));return i}}Iu.tag="tag:yaml.org,2002:set";const EN={collection:"map",identify:t=>t instanceof Set,nodeClass:Iu,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>Iu.from(t,e,n),resolve(t,e){if(sm(t)){if(t.hasAllNullValues(!0))return Object.assign(new Iu,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function AN(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,r=a=>e?BigInt(a):Number(a),i=s.replace(/_/g,"").split(":").reduce((a,c)=>a*r(60)+r(c),r(0));return n==="-"?r(-1)*i:i}function tP(t){let{value:e}=t,n=a=>a;if(typeof e=="bigint")n=a=>BigInt(a);else if(isNaN(e)||!isFinite(e))return _i(t);let s="";e<0&&(s="-",e*=n(-1));const r=n(60),i=[e%r];return e<60?i.unshift(0):(e=(e-i[0])/r,i.unshift(e%r),e>=60&&(e=(e-i[0])/r,i.unshift(e))),s+i.map(a=>String(a).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const nP={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>AN(t,n),stringify:tP},sP={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>AN(t,!1),stringify:tP},jb={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(jb.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,r,i,a,c]=e.map(Number),u=e[7]?Number((e[7]+"00").substr(1,3)):0;let h=Date.UTC(n,s-1,r,i||0,a||0,c||0,u);const m=e[8];if(m&&m!=="Z"){let p=AN(m,!1);Math.abs(p)<30&&(p*=60),h-=6e4*p}return new Date(h)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},AO=[Ah,jh,Cb,Nb,QI,eP,Cae,Nae,Eae,Aae,wae,Sae,kae,SN,ka,CN,kN,EN,nP,sP,jb],jO=new Map([["core",vae],["failsafe",[Ah,jh,Cb]],["json",xae],["yaml11",AO],["yaml-1.1",AO]]),TO={binary:SN,bool:xN,float:qI,floatExp:VI,floatNaN:FI,floatTime:sP,int:GI,intHex:YI,intOct:WI,intTime:nP,map:Ah,merge:ka,null:Nb,omap:CN,pairs:kN,seq:jh,set:EN,timestamp:jb},jae={"tag:yaml.org,2002:binary":SN,"tag:yaml.org,2002:merge":ka,"tag:yaml.org,2002:omap":CN,"tag:yaml.org,2002:pairs":kN,"tag:yaml.org,2002:set":EN,"tag:yaml.org,2002:timestamp":jb};function ow(t,e,n){const s=jO.get(e);if(s&&!t)return n&&!s.includes(ka)?s.concat(ka):s.slice();let r=s;if(!r)if(Array.isArray(t))r=[];else{const i=Array.from(jO.keys()).filter(a=>a!=="yaml11").map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${i} or define customTags array`)}if(Array.isArray(t))for(const i of t)r=r.concat(i);else typeof t=="function"&&(r=t(r.slice()));return n&&(r=r.concat(ka)),r.reduce((i,a)=>{const c=typeof a=="string"?TO[a]:a;if(!c){const u=JSON.stringify(a),h=Object.keys(TO).map(m=>JSON.stringify(m)).join(", ");throw new Error(`Unknown custom tag ${u}; use one of ${h}`)}return i.includes(c)||i.push(c),i},[])}const Tae=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;let Rae=class rP{constructor({compat:e,customTags:n,merge:s,resolveKnownTags:r,schema:i,sortMapEntries:a,toStringDefaults:c}){this.compat=Array.isArray(e)?ow(e,"compat"):e?ow(null,e):null,this.name=typeof i=="string"&&i||"core",this.knownTags=r?jae:{},this.tags=ow(n,this.name,s),this.toStringOptions=c??null,Object.defineProperty(this,Io,{value:Ah}),Object.defineProperty(this,Hi,{value:Cb}),Object.defineProperty(this,Nh,{value:jh}),this.sortMapEntries=typeof a=="function"?a:a===!0?Tae:null}clone(){const e=Object.create(rP.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};function Oae(t,e){const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const u=t.directives.toString(t);u?(n.push(u),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const r=PI(t,e),{commentString:i}=r.options;if(t.commentBefore){n.length!==1&&n.unshift("");const u=i(t.commentBefore);n.unshift(wa(u,""))}let a=!1,c=null;if(t.contents){if(En(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const m=i(t.contents.commentBefore);n.push(wa(m,""))}r.forceBlockIndent=!!t.comment,c=t.contents.comment}const u=c?void 0:()=>a=!0;let h=nh(t.contents,r,()=>c=null,u);c&&(h+=Cl(h,"",i(c))),(h[0]==="|"||h[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${h}`:n.push(h)}else n.push(nh(t.contents,r));if(t.directives?.docEnd)if(t.comment){const u=i(t.comment);u.includes(`
`)?(n.push("..."),n.push(wa(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=t.comment;u&&a&&(u=u.replace(/^\n+/,"")),u&&((!a||c)&&n[n.length-1]!==""&&n.push(""),n.push(wa(i(u),"")))}return n.join(`
`)+`
`}let jN=class iP{constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,ti,{value:i2});let r=null;typeof n=="function"||Array.isArray(n)?r=n:s===void 0&&n&&(s=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},s);this.options=i;let{version:a}=i;s?._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new Os({version:a}),this.setSchema(a,s),this.contents=e===void 0?null:this.createNode(e,r,s)}clone(){const e=Object.create(iP.prototype,{[ti]:{value:i2}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=En(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){au(this.contents)&&this.contents.add(e)}addIn(e,n){au(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=MI(this);e.anchor=!n||s.has(n)?DI(n||"a",s):n}return new vN(e.anchor)}createNode(e,n,s){let r;if(typeof n=="function")e=n.call({"":e},"",e),r=n;else if(Array.isArray(n)){const S=C=>typeof C=="number"||C instanceof String||C instanceof Number,k=n.filter(S).map(String);k.length>0&&(n=n.concat(k)),r=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:a,flow:c,keepUndefined:u,onTagObj:h,tag:m}=s??{},{onAnchor:p,setAnchors:y,sourceObjects:v}=iae(this,a||"a"),b={aliasDuplicateObjects:i??!0,keepUndefined:u??!1,onAnchor:p,onTagObj:h,replacer:r,schema:this.schema,sourceObjects:v},x=kp(e,m,b);return c&&Cn(x)&&(x.flow=!0),y(),x}createPair(e,n,s={}){const r=this.createNode(e,null,s),i=this.createNode(n,null,s);return new Ls(r,i)}delete(e){return au(this.contents)?this.contents.delete(e):!1}deleteIn(e){return _f(e)?this.contents==null?!1:(this.contents=null,!0):au(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Cn(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return _f(e)?!n&&en(this.contents)?this.contents.value:this.contents:Cn(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Cn(this.contents)?this.contents.has(e):!1}hasIn(e){return _f(e)?this.contents!==void 0:Cn(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Gy(this.schema,[e],n):au(this.contents)&&this.contents.set(e,n)}setIn(e,n){_f(e)?this.contents=n:this.contents==null?this.contents=Gy(this.schema,Array.from(e),n):au(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Os({version:"1.1"}),s={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Os({version:e}),s={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new Rae(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:r,onAnchor:i,reviver:a}={}){const c={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},u=Qr(this.contents,n??"",c);if(typeof i=="function")for(const{count:h,res:m}of c.anchors.values())i(m,h);return typeof a=="function"?Eu(a,{"":u},"",u):u}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Oae(this,e)}};function au(t){if(Cn(t))return!0;throw new Error("Expected a YAML collection as document contents")}class aP extends Error{constructor(e,n,s,r){super(),this.name=e,this.code=s,this.message=r,this.pos=n}}class xf extends aP{constructor(e,n,s){super("YAMLParseError",e,n,s)}}class Mae extends aP{constructor(e,n,s){super("YAMLWarning",e,n,s)}}const RO=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(c=>e.linePos(c));const{line:s,col:r}=n.linePos[0];n.message+=` at line ${s}, column ${r}`;let i=r-1,a=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(i>=60&&a.length>80){const c=Math.min(i-39,a.length-79);a=""+a.substring(c),i-=c-1}if(a.length>80&&(a=a.substring(0,79)+""),s>1&&/^ *$/.test(a.substring(0,i))){let c=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);c.length>80&&(c=c.substring(0,79)+`
`),a=c+a}if(/[^ ]/.test(a)){let c=1;const u=n.linePos[1];u?.line===s&&u.col>r&&(c=Math.max(1,Math.min(u.col-r,80-i)));const h=" ".repeat(i)+"^".repeat(c);n.message+=`:

${a}
${h}
`}};function sh(t,{flow:e,indicator:n,next:s,offset:r,onError:i,parentIndent:a,startOnNewline:c}){let u=!1,h=c,m=c,p="",y="",v=!1,b=!1,x=null,S=null,k=null,C=null,N=null,R=null,O=null;for(const B of t)switch(b&&(B.type!=="space"&&B.type!=="newline"&&B.type!=="comma"&&i(B.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b=!1),x&&(h&&B.type!=="comment"&&B.type!=="newline"&&i(x,"TAB_AS_INDENT","Tabs are not allowed as indentation"),x=null),B.type){case"space":!e&&(n!=="doc-start"||s?.type!=="flow-collection")&&B.source.includes("	")&&(x=B),m=!0;break;case"comment":{m||i(B,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const q=B.source.substring(1)||" ";p?p+=y+q:p=q,y="",h=!1;break}case"newline":h?p?p+=B.source:(!R||n!=="seq-item-ind")&&(u=!0):y+=B.source,h=!0,v=!0,(S||k)&&(C=B),m=!0;break;case"anchor":S&&i(B,"MULTIPLE_ANCHORS","A node can have at most one anchor"),B.source.endsWith(":")&&i(B.offset+B.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),S=B,O??(O=B.offset),h=!1,m=!1,b=!0;break;case"tag":{k&&i(B,"MULTIPLE_TAGS","A node can have at most one tag"),k=B,O??(O=B.offset),h=!1,m=!1,b=!0;break}case n:(S||k)&&i(B,"BAD_PROP_ORDER",`Anchors and tags must be after the ${B.source} indicator`),R&&i(B,"UNEXPECTED_TOKEN",`Unexpected ${B.source} in ${e??"collection"}`),R=B,h=n==="seq-item-ind"||n==="explicit-key-ind",m=!1;break;case"comma":if(e){N&&i(B,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),N=B,h=!1,m=!1;break}default:i(B,"UNEXPECTED_TOKEN",`Unexpected ${B.type} token`),h=!1,m=!1}const E=t[t.length-1],D=E?E.offset+E.source.length:r;return b&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),x&&(h&&x.indent<=a||s?.type==="block-map"||s?.type==="block-seq")&&i(x,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:N,found:R,spaceBefore:u,comment:p,hasNewline:v,anchor:S,tag:k,newlineAfterProp:C,end:D,start:O??D}}function Cp(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(Cp(e.key)||Cp(e.value))return!0}return!1;default:return!0}}function c2(t,e,n){if(e?.type==="flow-collection"){const s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&Cp(e)&&n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function oP(t,e,n){const{uniqueKeys:s}=t.options;if(s===!1)return!1;const r=typeof s=="function"?s:(i,a)=>i===a||en(i)&&en(a)&&i.value===a.value;return e.some(i=>r(i.key,n))}const OO="All mapping items must start at the same column";function Dae({composeNode:t,composeEmptyNode:e},n,s,r,i){const a=i?.nodeClass??Wr,c=new a(n.schema);n.atRoot&&(n.atRoot=!1);let u=s.offset,h=null;for(const m of s.items){const{start:p,key:y,sep:v,value:b}=m,x=sh(p,{indicator:"explicit-key-ind",next:y??v?.[0],offset:u,onError:r,parentIndent:s.indent,startOnNewline:!0}),S=!x.found;if(S){if(y&&(y.type==="block-seq"?r(u,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in y&&y.indent!==s.indent&&r(u,"BAD_INDENT",OO)),!x.anchor&&!x.tag&&!v){h=x.end,x.comment&&(c.comment?c.comment+=`
`+x.comment:c.comment=x.comment);continue}(x.newlineAfterProp||Cp(y))&&r(y??p[p.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else x.found?.indent!==s.indent&&r(u,"BAD_INDENT",OO);n.atKey=!0;const k=x.end,C=y?t(n,y,x,r):e(n,k,p,null,x,r);n.schema.compat&&c2(s.indent,y,r),n.atKey=!1,oP(n,c.items,C)&&r(k,"DUPLICATE_KEY","Map keys must be unique");const N=sh(v??[],{indicator:"map-value-ind",next:b,offset:C.range[2],onError:r,parentIndent:s.indent,startOnNewline:!y||y.type==="block-scalar"});if(u=N.end,N.found){S&&(b?.type==="block-map"&&!N.hasNewline&&r(u,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&x.start<N.found.offset-1024&&r(C.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const R=b?t(n,b,N,r):e(n,u,v,null,N,r);n.schema.compat&&c2(s.indent,b,r),u=R.range[2];const O=new Ls(C,R);n.options.keepSourceTokens&&(O.srcToken=m),c.items.push(O)}else{S&&r(C.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),N.comment&&(C.comment?C.comment+=`
`+N.comment:C.comment=N.comment);const R=new Ls(C);n.options.keepSourceTokens&&(R.srcToken=m),c.items.push(R)}}return h&&h<u&&r(h,"IMPOSSIBLE","Map comment with trailing content"),c.range=[s.offset,u,h??u],c}function Bae({composeNode:t,composeEmptyNode:e},n,s,r,i){const a=i?.nodeClass??sc,c=new a(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let u=s.offset,h=null;for(const{start:m,value:p}of s.items){const y=sh(m,{indicator:"seq-item-ind",next:p,offset:u,onError:r,parentIndent:s.indent,startOnNewline:!0});if(!y.found)if(y.anchor||y.tag||p)p?.type==="block-seq"?r(y.end,"BAD_INDENT","All sequence items must start at the same column"):r(u,"MISSING_CHAR","Sequence item without - indicator");else{h=y.end,y.comment&&(c.comment=y.comment);continue}const v=p?t(n,p,y,r):e(n,y.end,m,null,y,r);n.schema.compat&&c2(s.indent,p,r),u=v.range[2],c.items.push(v)}return c.range=[s.offset,u,h??u],c}function am(t,e,n,s){let r="";if(t){let i=!1,a="";for(const c of t){const{source:u,type:h}=c;switch(h){case"space":i=!0;break;case"comment":{n&&!i&&s(c,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const m=u.substring(1)||" ";r?r+=a+m:r=m,a="";break}case"newline":r&&(a+=u),i=!0;break;default:s(c,"UNEXPECTED_TOKEN",`Unexpected ${h} at node end`)}e+=u.length}}return{comment:r,offset:e}}const lw="Block collections are not allowed within flow collections",cw=t=>t&&(t.type==="block-map"||t.type==="block-seq");function Lae({composeNode:t,composeEmptyNode:e},n,s,r,i){const a=s.start.source==="{",c=a?"flow map":"flow sequence",u=i?.nodeClass??(a?Wr:sc),h=new u(n.schema);h.flow=!0;const m=n.atRoot;m&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let p=s.offset+s.start.source.length;for(let S=0;S<s.items.length;++S){const k=s.items[S],{start:C,key:N,sep:R,value:O}=k,E=sh(C,{flow:c,indicator:"explicit-key-ind",next:N??R?.[0],offset:p,onError:r,parentIndent:s.indent,startOnNewline:!1});if(!E.found){if(!E.anchor&&!E.tag&&!R&&!O){S===0&&E.comma?r(E.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${c}`):S<s.items.length-1&&r(E.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${c}`),E.comment&&(h.comment?h.comment+=`
`+E.comment:h.comment=E.comment),p=E.end;continue}!a&&n.options.strict&&Cp(N)&&r(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(S===0)E.comma&&r(E.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${c}`);else if(E.comma||r(E.start,"MISSING_CHAR",`Missing , between ${c} items`),E.comment){let D="";e:for(const B of C)switch(B.type){case"comma":case"space":break;case"comment":D=B.source.substring(1);break e;default:break e}if(D){let B=h.items[h.items.length-1];An(B)&&(B=B.value??B.key),B.comment?B.comment+=`
`+D:B.comment=D,E.comment=E.comment.substring(D.length+1)}}if(!a&&!R&&!E.found){const D=O?t(n,O,E,r):e(n,E.end,R,null,E,r);h.items.push(D),p=D.range[2],cw(O)&&r(D.range,"BLOCK_IN_FLOW",lw)}else{n.atKey=!0;const D=E.end,B=N?t(n,N,E,r):e(n,D,C,null,E,r);cw(N)&&r(B.range,"BLOCK_IN_FLOW",lw),n.atKey=!1;const q=sh(R??[],{flow:c,indicator:"map-value-ind",next:O,offset:B.range[2],onError:r,parentIndent:s.indent,startOnNewline:!1});if(q.found){if(!a&&!E.found&&n.options.strict){if(R)for(const z of R){if(z===q.found)break;if(z.type==="newline"){r(z,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}E.start<q.found.offset-1024&&r(q.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else O&&("source"in O&&O.source?.[0]===":"?r(O,"MISSING_CHAR",`Missing space after : in ${c}`):r(q.start,"MISSING_CHAR",`Missing , or : between ${c} items`));const P=O?t(n,O,q,r):q.found?e(n,q.end,R,null,q,r):null;P?cw(O)&&r(P.range,"BLOCK_IN_FLOW",lw):q.comment&&(B.comment?B.comment+=`
`+q.comment:B.comment=q.comment);const W=new Ls(B,P);if(n.options.keepSourceTokens&&(W.srcToken=k),a){const z=h;oP(n,z.items,B)&&r(D,"DUPLICATE_KEY","Map keys must be unique"),z.items.push(W)}else{const z=new Wr(n.schema);z.flow=!0,z.items.push(W);const K=(P??B).range;z.range=[B.range[0],K[1],K[2]],h.items.push(z)}p=P?P.range[2]:q.end}}const y=a?"}":"]",[v,...b]=s.end;let x=p;if(v?.source===y)x=v.offset+v.source.length;else{const S=c[0].toUpperCase()+c.substring(1),k=m?`${S} must end with a ${y}`:`${S} in block collection must be sufficiently indented and end with a ${y}`;r(p,m?"MISSING_CHAR":"BAD_INDENT",k),v&&v.source.length!==1&&b.unshift(v)}if(b.length>0){const S=am(b,x,n.options.strict,r);S.comment&&(h.comment?h.comment+=`
`+S.comment:h.comment=S.comment),h.range=[s.offset,x,S.offset]}else h.range=[s.offset,x,x];return h}function uw(t,e,n,s,r,i){const a=n.type==="block-map"?Dae(t,e,n,s,i):n.type==="block-seq"?Bae(t,e,n,s,i):Lae(t,e,n,s,i),c=a.constructor;return r==="!"||r===c.tagName?(a.tag=c.tagName,a):(r&&(a.tag=r),a)}function Iae(t,e,n,s,r){const i=s.tag,a=i?e.directives.tagName(i.source,y=>r(i,"TAG_RESOLVE_FAILED",y)):null;if(n.type==="block-seq"){const{anchor:y,newlineAfterProp:v}=s,b=y&&i?y.offset>i.offset?y:i:y??i;b&&(!v||v.offset<b.offset)&&r(b,"MISSING_CHAR","Missing newline after block sequence props")}const c=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!a||a==="!"||a===Wr.tagName&&c==="map"||a===sc.tagName&&c==="seq")return uw(t,e,n,r,a);let u=e.schema.tags.find(y=>y.tag===a&&y.collection===c);if(!u){const y=e.schema.knownTags[a];if(y?.collection===c)e.schema.tags.push(Object.assign({},y,{default:!1})),u=y;else return y?r(i,"BAD_COLLECTION_TYPE",`${y.tag} used for ${c} collection, but expects ${y.collection??"scalar"}`,!0):r(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${a}`,!0),uw(t,e,n,r,a)}const h=uw(t,e,n,r,a,u),m=u.resolve?.(h,y=>r(i,"TAG_RESOLVE_FAILED",y),e.options)??h,p=En(m)?m:new gt(m);return p.range=h.range,p.tag=a,u?.format&&(p.format=u.format),p}function Pae(t,e,n){const s=e.offset,r=$ae(e,t.options.strict,n);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};const i=r.mode===">"?gt.BLOCK_FOLDED:gt.BLOCK_LITERAL,a=e.source?zae(e.source):[];let c=a.length;for(let x=a.length-1;x>=0;--x){const S=a[x][1];if(S===""||S==="\r")c=x;else break}if(c===0){const x=r.chomp==="+"&&a.length>0?`
`.repeat(Math.max(1,a.length-1)):"";let S=s+r.length;return e.source&&(S+=e.source.length),{value:x,type:i,comment:r.comment,range:[s,S,S]}}let u=e.indent+r.indent,h=e.offset+r.length,m=0;for(let x=0;x<c;++x){const[S,k]=a[x];if(k===""||k==="\r")r.indent===0&&S.length>u&&(u=S.length);else{S.length<u&&n(h+S.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),r.indent===0&&(u=S.length),m=x,u===0&&!t.atRoot&&n(h,"BAD_INDENT","Block scalar values in collections must be indented");break}h+=S.length+k.length+1}for(let x=a.length-1;x>=c;--x)a[x][0].length>u&&(c=x+1);let p="",y="",v=!1;for(let x=0;x<m;++x)p+=a[x][0].slice(u)+`
`;for(let x=m;x<c;++x){let[S,k]=a[x];h+=S.length+k.length+1;const C=k[k.length-1]==="\r";if(C&&(k=k.slice(0,-1)),k&&S.length<u){const R=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(h-k.length-(C?2:1),"BAD_INDENT",R),S=""}i===gt.BLOCK_LITERAL?(p+=y+S.slice(u)+k,y=`
`):S.length>u||k[0]==="	"?(y===" "?y=`
`:!v&&y===`
`&&(y=`

`),p+=y+S.slice(u)+k,y=`
`,v=!0):k===""?y===`
`?p+=`
`:y=`
`:(p+=y+k,y=" ",v=!1)}switch(r.chomp){case"-":break;case"+":for(let x=c;x<a.length;++x)p+=`
`+a[x][0].slice(u);p[p.length-1]!==`
`&&(p+=`
`);break;default:p+=`
`}const b=s+r.length+e.source.length;return{value:p,type:i,comment:r.comment,range:[s,b,b]}}function $ae({offset:t,props:e},n,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],i=r[0];let a=0,c="",u=-1;for(let y=1;y<r.length;++y){const v=r[y];if(!c&&(v==="-"||v==="+"))c=v;else{const b=Number(v);!a&&b?a=b:u===-1&&(u=t+y)}}u!==-1&&s(u,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let h=!1,m="",p=r.length;for(let y=1;y<e.length;++y){const v=e[y];switch(v.type){case"space":h=!0;case"newline":p+=v.source.length;break;case"comment":n&&!h&&s(v,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),p+=v.source.length,m=v.source.substring(1);break;case"error":s(v,"UNEXPECTED_TOKEN",v.message),p+=v.source.length;break;default:{const b=`Unexpected token in block scalar header: ${v.type}`;s(v,"UNEXPECTED_TOKEN",b);const x=v.source;x&&typeof x=="string"&&(p+=x.length)}}}return{mode:i,indent:a,chomp:c,comment:m,length:p}}function zae(t){const e=t.split(/\n( *)/),n=e[0],s=n.match(/^( *)/),i=[s?.[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let a=1;a<e.length;a+=2)i.push([e[a],e[a+1]]);return i}function Uae(t,e,n){const{offset:s,type:r,source:i,end:a}=t;let c,u;const h=(y,v,b)=>n(s+y,v,b);switch(r){case"scalar":c=gt.PLAIN,u=Hae(i,h);break;case"single-quoted-scalar":c=gt.QUOTE_SINGLE,u=Fae(i,h);break;case"double-quoted-scalar":c=gt.QUOTE_DOUBLE,u=Vae(i,h);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const m=s+i.length,p=am(a,m,e,n);return{value:u,type:c,comment:p.comment,range:[s,m,p.offset]}}function Hae(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),lP(t)}function Fae(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),lP(t.slice(1,-1)).replace(/''/g,"'")}function lP(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let r=s[1],i=" ",a=e.lastIndex;for(n.lastIndex=a;s=n.exec(t);)s[1]===""?i===`
`?r+=i:i=`
`:(r+=i+s[1],i=" "),a=n.lastIndex;const c=/[ \t]*(.*)/sy;return c.lastIndex=a,s=c.exec(t),r+i+(s?.[1]??"")}function Vae(t,e){let n="";for(let s=1;s<t.length-1;++s){const r=t[s];if(!(r==="\r"&&t[s+1]===`
`))if(r===`
`){const{fold:i,offset:a}=qae(t,s);n+=i,s=a}else if(r==="\\"){let i=t[++s];const a=Kae[i];if(a)n+=a;else if(i===`
`)for(i=t[s+1];i===" "||i==="	";)i=t[++s+1];else if(i==="\r"&&t[s+1]===`
`)for(i=t[++s+1];i===" "||i==="	";)i=t[++s+1];else if(i==="x"||i==="u"||i==="U"){const c={x:2,u:4,U:8}[i];n+=Wae(t,s+1,c,e),s+=c}else{const c=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),n+=c}}else if(r===" "||r==="	"){const i=s;let a=t[s+1];for(;a===" "||a==="	";)a=t[++s+1];a!==`
`&&!(a==="\r"&&t[s+2]===`
`)&&(n+=s>i?t.slice(i,s+1):r)}else n+=r}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function qae(t,e){let n="",s=t[e+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&t[e+2]!==`
`);)s===`
`&&(n+=`
`),e+=1,s=t[e+1];return n||(n=" "),{fold:n,offset:e}}const Kae={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Wae(t,e,n,s){const r=t.substr(e,n),a=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(a)){const c=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),c}return String.fromCodePoint(a)}function cP(t,e,n,s){const{value:r,type:i,comment:a,range:c}=e.type==="block-scalar"?Pae(t,e,s):Uae(e,t.options.strict,s),u=n?t.directives.tagName(n.source,p=>s(n,"TAG_RESOLVE_FAILED",p)):null;let h;t.options.stringKeys&&t.atKey?h=t.schema[Hi]:u?h=Gae(t.schema,r,u,n,s):e.type==="scalar"?h=Yae(t,r,e,s):h=t.schema[Hi];let m;try{const p=h.resolve(r,y=>s(n??e,"TAG_RESOLVE_FAILED",y),t.options);m=en(p)?p:new gt(p)}catch(p){const y=p instanceof Error?p.message:String(p);s(n??e,"TAG_RESOLVE_FAILED",y),m=new gt(r)}return m.range=c,m.source=r,i&&(m.type=i),u&&(m.tag=u),h.format&&(m.format=h.format),a&&(m.comment=a),m}function Gae(t,e,n,s,r){if(n==="!")return t[Hi];const i=[];for(const c of t.tags)if(!c.collection&&c.tag===n)if(c.default&&c.test)i.push(c);else return c;for(const c of i)if(c.test?.test(e))return c;const a=t.knownTags[n];return a&&!a.collection?(t.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Hi])}function Yae({atKey:t,directives:e,schema:n},s,r,i){const a=n.tags.find(c=>(c.default===!0||t&&c.default==="key")&&c.test?.test(s))||n[Hi];if(n.compat){const c=n.compat.find(u=>u.default&&u.test?.test(s))??n[Hi];if(a.tag!==c.tag){const u=e.tagString(a.tag),h=e.tagString(c.tag),m=`Value may be parsed as either ${u} or ${h}`;i(r,"TAG_RESOLVE_FAILED",m,!0)}}return a}function Zae(t,e,n){if(e){n??(n=e.length);for(let s=n-1;s>=0;--s){let r=e[s];switch(r.type){case"space":case"comment":case"newline":t-=r.source.length;continue}for(r=e[++s];r?.type==="space";)t+=r.source.length,r=e[++s];break}}return t}const Xae={composeNode:uP,composeEmptyNode:TN};function uP(t,e,n,s){const r=t.atKey,{spaceBefore:i,comment:a,anchor:c,tag:u}=n;let h,m=!0;switch(e.type){case"alias":h=Jae(t,e,s),(c||u)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":h=cP(t,e,u,s),c&&(h.anchor=c.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":h=Iae(Xae,t,e,n,s),c&&(h.anchor=c.source.substring(1));break;default:{const p=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",p),h=TN(t,e.offset,void 0,null,n,s),m=!1}}return c&&h.anchor===""&&s(c,"BAD_ALIAS","Anchor cannot be an empty string"),r&&t.options.stringKeys&&(!en(h)||typeof h.value!="string"||h.tag&&h.tag!=="tag:yaml.org,2002:str")&&s(u??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(h.spaceBefore=!0),a&&(e.type==="scalar"&&e.source===""?h.comment=a:h.commentBefore=a),t.options.keepSourceTokens&&m&&(h.srcToken=e),h}function TN(t,e,n,s,{spaceBefore:r,comment:i,anchor:a,tag:c,end:u},h){const m={type:"scalar",offset:Zae(e,n,s),indent:-1,source:""},p=cP(t,m,c,h);return a&&(p.anchor=a.source.substring(1),p.anchor===""&&h(a,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(p.spaceBefore=!0),i&&(p.comment=i,p.range[2]=u),p}function Jae({options:t},{offset:e,source:n,end:s},r){const i=new vN(n.substring(1));i.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&r(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const a=e+n.length,c=am(s,a,t.strict,r);return i.range=[e,a,c.offset],c.comment&&(i.comment=c.comment),i}function Qae(t,e,{offset:n,start:s,value:r,end:i},a){const c=Object.assign({_directives:e},t),u=new jN(void 0,c),h={atKey:!1,atRoot:!0,directives:u.directives,options:u.options,schema:u.schema},m=sh(s,{indicator:"doc-start",next:r??i?.[0],offset:n,onError:a,parentIndent:0,startOnNewline:!0});m.found&&(u.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!m.hasNewline&&a(m.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),u.contents=r?uP(h,r,m,a):TN(h,m.end,s,null,m,a);const p=u.contents.range[2],y=am(i,p,!1,a);return y.comment&&(u.comment=y.comment),u.range=[n,p,y.offset],u}function Pd(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function MO(t){let e="",n=!1,s=!1;for(let r=0;r<t.length;++r){const i=t[r];switch(i[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(i.substring(1)||" "),n=!0,s=!1;break;case"%":t[r+1]?.[0]!=="#"&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class eoe{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,s,r,i)=>{const a=Pd(n);i?this.warnings.push(new Mae(a,s,r)):this.errors.push(new xf(a,s,r))},this.directives=new Os({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:s,afterEmptyLine:r}=MO(this.prelude);if(s){const i=e.contents;if(n)e.comment=e.comment?`${e.comment}
${s}`:s;else if(r||e.directives.docStart||!i)e.commentBefore=s;else if(Cn(i)&&!i.flow&&i.items.length>0){let a=i.items[0];An(a)&&(a=a.key);const c=a.commentBefore;a.commentBefore=c?`${s}
${c}`:s}else{const a=i.commentBefore;i.commentBefore=a?`${s}
${a}`:s}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:MO(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,s=-1){for(const r of e)yield*this.next(r);yield*this.end(n,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,s,r)=>{const i=Pd(e);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",s,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=Qae(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new xf(Pd(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new xf(Pd(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const n=am(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new xf(Pd(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),r=new jN(void 0,s);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,n,n],this.decorate(r,!1),yield r}}}const hP="\uFEFF",dP="",fP="",u2="";function toe(t){switch(t){case hP:return"byte-order-mark";case dP:return"doc-mode";case fP:return"flow-error-end";case u2:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function li(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const DO=new Set("0123456789ABCDEFabcdef"),noe=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),e0=new Set(",[]{}"),soe=new Set(` ,[]{}
\r	`),hw=t=>!t||soe.has(t);class roe{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let s=this.next??"stream";for(;s&&(n||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let s=0;for(;n===" ";)n=this.buffer[++s+e];if(n==="\r"){const r=this.buffer[s+e+1];if(r===`
`||!r&&!this.atEnd)return e+s+1}return n===`
`||s>=this.indentNext||!n&&!this.atEnd?e+s:-1}if(n==="-"||n==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&li(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===hP&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,s=e.indexOf("#");for(;s!==-1;){const i=e[s-1];if(i===" "||i==="	"){n=s-1;break}else s=e.indexOf("#",s+1)}for(;;){const i=e[n-1];if(i===" "||i==="	")n-=1;else break}const r=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield dP,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&li(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!li(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&li(n)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(hw),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,s=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=s=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const r=this.getLine();if(r===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&r[0]!=="#"||s===0&&(r.startsWith("---")||r.startsWith("..."))&&li(r[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield fP,yield*this.parseLineStart();let i=0;for(;r[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),r[i]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(hw),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const a=this.charAt(1);if(this.flowKey||li(a)||a===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const s=this.buffer.substring(0,n);let r=s.indexOf(`
`,this.pos);if(r!==-1){for(;r!==-1;){const i=this.continueScalar(r+1);if(i===-1)break;r=s.indexOf(`
`,i)}r!==-1&&(n=r-(s[r-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>li(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,s;e:for(let i=this.pos;s=this.buffer[i];++i)switch(s){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const a=this.buffer[i+1];if(!a&&!this.atEnd)return this.setNext("block-scalar");if(a===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let r=e+1;for(s=this.buffer[r];s===" ";)s=this.buffer[++r];if(s==="	"){for(;s==="	"||s===" "||s==="\r"||s===`
`;)s=this.buffer[++r];e=r-1}else if(!this.blockScalarKeep)do{let i=e-1,a=this.buffer[i];a==="\r"&&(a=this.buffer[--i]);const c=i;for(;a===" ";)a=this.buffer[--i];if(a===`
`&&i>=this.pos&&i+1+n>c)e=i;else break}while(!0);return yield u2,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,s=this.pos-1,r;for(;r=this.buffer[++s];)if(r===":"){const i=this.buffer[s+1];if(li(i)||e&&e0.has(i))break;n=s}else if(li(r)){let i=this.buffer[s+1];if(r==="\r"&&(i===`
`?(s+=1,r=`
`,i=this.buffer[s+1]):n=s),i==="#"||e&&e0.has(i))break;if(r===`
`){const a=this.continueScalar(s+1);if(a===-1)break;s=Math.max(s,a-2)}}else{if(e&&e0.has(r))break;n=s}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield u2,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(hw))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(li(n)||e&&e0.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!li(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(noe.has(n))n=this.buffer[++e];else if(n==="%"&&DO.has(this.buffer[e+1])&&DO.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,s;do s=this.buffer[++n];while(s===" "||e&&s==="	");const r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let n=this.pos,s=this.buffer[n];for(;!e(s);)s=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class ioe{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,s=this.lineStarts.length;for(;n<s;){const i=n+s>>1;this.lineStarts[i]<e?n=i+1:s=i}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const r=this.lineStarts[n-1];return{line:n,col:e-r+1}}}}function _o(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function BO(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function pP(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function t0(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function ou(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function LO(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!_o(e.start,"explicit-key-ind")&&!_o(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,pP(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class aoe{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new roe,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,n))yield*this.next(s);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=toe(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&e?.type!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const s=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in s?s.indent:0:n.type==="flow-collection"&&s.type==="document"&&(n.indent=0),n.type==="flow-collection"&&LO(n),s.type){case"document":s.value=n;break;case"block-scalar":s.props.push(n);break;case"block-map":{const r=s.items[s.items.length-1];if(r.value){s.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=n;else{Object.assign(r,{key:n,sep:[]}),this.onKeyLine=!r.explicitKey;return}break}case"block-seq":{const r=s.items[s.items.length-1];r.value?s.items.push({start:[],value:n}):r.value=n;break}case"flow-collection":{const r=s.items[s.items.length-1];!r||r.value?s.items.push({start:[],key:n,sep:[]}):r.sep?r.value=n:Object.assign(r,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const r=n.items[n.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&BO(r.start)===-1&&(n.indent===0||r.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(s.type==="document"?s.end=r.start:s.items.push({start:r.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{BO(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=t0(this.peek(2)),s=ou(n);let r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent,r=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let i=[];if(r&&n.sep&&!n.value){const a=[];for(let c=0;c<n.sep.length;++c){const u=n.sep[c];switch(u.type){case"newline":a.push(c);break;case"space":break;case"comment":u.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(i=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":r||n.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):r||n.value?(i.push(this.sourceToken),e.items.push({start:i,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(_o(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(pP(n.key)&&!_o(n.sep,"newline")){const a=ou(n.start),c=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:c,sep:u}]})}else i.length>0?n.sep=n.sep.concat(i,this.sourceToken):n.sep.push(this.sourceToken);else if(_o(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const a=ou(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?e.items.push({start:i,key:null,sep:[this.sourceToken]}):_o(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);r||n.value?(e.items.push({start:i,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(e);if(a){if(a.type==="block-seq"){if(!n.explicitKey&&n.sep&&!_o(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else s&&e.items.push({start:i});this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||_o(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s?.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:r,sep:[]}):n.sep?this.stack.push(r):Object.assign(n,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const r=t0(s),i=ou(r);LO(e);const a=e.end.splice(1,e.end.length);a.push(this.sourceToken);const c={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=c}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=t0(e),s=ou(n);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=t0(e),s=ou(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function ooe(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new ioe||null,prettyErrors:e}}function loe(t,e={}){const{lineCounter:n,prettyErrors:s}=ooe(e),r=new aoe(n?.addNewLine),i=new eoe(e);let a=null;for(const c of i.compose(r.parse(t),!0,t.length))if(!a)a=c;else if(a.options.logLevel!=="silent"){a.errors.push(new xf(c.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&n&&(a.errors.forEach(RO(t,n)),a.warnings.forEach(RO(t,n))),a}function dw(t,e,n){let s;const r=loe(t,n);if(!r)return null;if(r.warnings.forEach(i=>$I(r.options.logLevel,i)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},n))}function IO(t,e,n){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const r=Math.round(n);n=r<1?void 0:r>8?{indent:8}:{indent:r}}if(t===void 0){const{keepUndefined:r}=n??e??{};if(!r)return}return nm(t)&&!s?t.toString(n):new jN(t,s,n).toString(n)}function fw(){return document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches}function coe({resource:t,loading:e,error:n,onSave:s,toolbarRef:r}){const[i,a]=V.useState(""),[c,u]=V.useState(""),[h,m]=V.useState(!1),[p,y]=V.useState(null),[v,b]=V.useState(!1),[x,S]=V.useState(null),[k,C]=V.useState(fw),N=V.useRef(null),R=V.useRef(null),[O,E]=V.useState(!1);V.useEffect(()=>{const z=new MutationObserver(()=>{C(fw())});z.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]});const K=window.matchMedia("(prefers-color-scheme: dark)"),X=()=>C(fw());return K.addEventListener("change",X),()=>{z.disconnect(),K.removeEventListener("change",X)}},[]);const D=V.useCallback(async z=>{const K=z.getModel();if(!K)return E(!0);const X=K.getValue().split(`
`),G=/^(\s*)(managedFields|ownerReferences|kubectl\.kubernetes\.io\/last-applied-configuration):/,I=X.flatMap((Y,Q)=>{const $=Y.match(G);if(!$)return[];const A=$[1].length,M=X.slice(Q+1).findIndex(T=>T.trimStart().length>0&&T.length-T.trimStart().length<=A),H=M===-1?X.length:Q+1+M;return H>Q+1?[{start:Q+1,end:H}]:[]});for(const{start:Y,end:Q}of I.reverse())z.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Q,endColumn:1}),await z.getAction("editor.fold")?.run();z.setPosition({lineNumber:1,column:1}),z.revealLine(1),E(!0)},[]);V.useEffect(()=>{if(t){const z=IO(t,{lineWidth:0});z!==c&&(h?u(z):(a(z),u(z),y(null),S(null),N.current&&(E(!1),setTimeout(()=>D(N.current),100))))}},[t,c,h,D]),V.useEffect(()=>{if(!i){y(null);return}try{dw(i),y(null)}catch(z){y(z instanceof Error?z.message:"Invalid YAML")}},[i]);const B=(z,K)=>{N.current=z,R.current=K,K.languages.registerDocumentFormattingEditProvider("yaml",{provideDocumentFormattingEdits:X=>{try{const G=X.getValue(),I=dw(G),Y=IO(I,{lineWidth:0});return[{range:X.getFullModelRange(),text:Y}]}catch{return[]}}}),E(!1),setTimeout(()=>D(z),100)},q=z=>{const K=z||"";a(K),m(K!==c),S(null)},P=V.useCallback(()=>{a(c),m(!1),y(null),S(null)},[c]),W=V.useCallback(async()=>{if(!(p||!h))try{b(!0),S(null);const z=dw(i);await s(z),u(i),m(!1)}catch(z){S(z instanceof Error?z.message:"Failed to save")}finally{b(!1)}},[p,h,i,s]);return e?f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("div",{className:"flex items-center gap-2 text-neutral-600 dark:text-neutral-400 text-sm",children:[f.jsx(Sa,{size:14,className:"animate-spin"}),"Loading resource..."]})}):n?f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:n})}):t?f.jsxs("div",{className:"flex flex-col h-full",children:[r&&f.jsxs(rN,{toolbarRef:r,children:[f.jsx("button",{onClick:W,disabled:!h||!!p||v,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Save changes",children:v?f.jsx(Sa,{size:12,className:"animate-spin"}):f.jsx(QG,{size:12})}),f.jsx("button",{onClick:P,disabled:!h||v,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Reset changes",children:f.jsx(ZG,{size:12})})]}),(p||x)&&f.jsx("div",{className:"shrink-0 flex items-center gap-2 px-4 py-2 bg-red-50 dark:bg-red-500/10 border-b border-red-200 dark:border-red-500/20",children:p?f.jsxs(f.Fragment,{children:[f.jsx(ch,{size:14,className:"text-red-500 shrink-0"}),f.jsxs("span",{className:"text-xs text-red-700 dark:text-red-400",children:["Invalid YAML: ",p]})]}):f.jsxs(f.Fragment,{children:[f.jsx(Sv,{size:14,className:"text-red-500 shrink-0"}),f.jsx("span",{className:"text-xs text-red-700 dark:text-red-400",children:x})]})}),f.jsx("div",{className:`flex-1 min-h-0 transition-opacity duration-150 ${O?"opacity-100":"opacity-0"}`,children:f.jsx(Jie,{height:"100%",language:"yaml",theme:k?"vs-dark":"light",value:i,onChange:q,onMount:B,loading:f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsx(Sa,{size:20,className:"animate-spin text-neutral-400"})}),options:{minimap:{enabled:!1},fontSize:13,fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",wrappingIndent:"indent",automaticLayout:!0,tabSize:2,insertSpaces:!0,renderWhitespace:"selection",bracketPairColorization:{enabled:!0},guides:{indentation:!0,bracketPairs:!0},padding:{top:12,bottom:12},scrollbar:{verticalScrollbarSize:10,horizontalScrollbarSize:10}}})})]}):f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsx("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"No resource loaded"})})}const uoe=new Set(["managedFields"]);function hoe(t){const e=t.metadata;if(!e)return t;const n=Object.fromEntries(Object.entries(e).filter(([s])=>!uoe.has(s)));return{...t,metadata:n}}function mP({context:t,isOpen:e,onClose:n,otherPanelOpen:s=!1,resource:r}){const[i,a]=V.useState("yaml"),[c,u]=V.useState(null),[h,m]=V.useState(null),[p,y]=V.useState(null),v=V.useRef(null),b=V.useRef(null),{data:x,isLoading:S,error:k,refetch:C}=J0({queryKey:["kubernetes","resource",t,r?.kind,r?.apiVersion,r?.name,r?.namespace],queryFn:async()=>{if(!r||!r.name||!r.kind)return null;const Z=await NY(t,r.kind,r.apiVersion);if(!Z)throw new Error(`Unknown resource kind: ${r.kind}`);return v.current=Z,RY(t,Z,r.name,r.namespace)},enabled:e&&!!r?.name&&!!r?.kind,placeholderData:J3}),{data:N=[],isLoading:R}=J0({queryKey:["kubernetes","events",t,r?.name,r?.namespace],queryFn:async()=>r?.name?MY(t,r.name,r.namespace):[],enabled:e&&!!r?.name,placeholderData:J3}),O=k instanceof Error?k.message:k?String(k):null,E=x?AL(x):[],D=async Z=>{m(null),u(Z.id);try{await Z.execute(t,x),C()}catch(oe){m(oe instanceof Error?oe.message:"Action failed")}finally{u(null),y(null)}},B=Z=>{Z.confirm?y(Z):D(Z)},q=V.useCallback(async Z=>{if(!r||!r.name||!v.current)throw new Error("Resource configuration not available");await OY(t,v.current,r.name,Z,r.namespace),C()},[t,r,C]);if(V.useEffect(()=>{const Z=r?.kind||"";a(yR(Z)?"overview":"yaml")},[r?.kind,r?.name,r?.namespace]),!e||!r||!r.name)return null;const P=x,W=P?hoe(P):null,z=r.name,K=r.kind||"Resource",X=yR(K),G=new Set(["pod-template-hash","controller-revision-hash","pod-template-generation"]),I=new Set(["kubectl.kubernetes.io/last-applied-configuration","deployment.kubernetes.io/revision","control-plane.alpha.kubernetes.io/leader","deprecated.daemonset.template.generation","kubernetes.io/description"]),Y=W?.metadata,Q=Y?.labels,$=Y?.annotations,A=Q?Object.keys(Q).filter(Z=>!G.has(Z)).length:0,M=$?Object.keys($).filter(Z=>!I.has(Z)).length:0,H=A>0||M>0,J=["Pod","Deployment","DaemonSet","ReplicaSet","StatefulSet","Job"].includes(K)&&!!r.namespace,ne=K==="Pod"&&!!r.namespace;return f.jsxs("aside",{className:"fixed top-0 h-screen bg-white border-l border-neutral-200 dark:bg-neutral-900 dark:border-neutral-800 flex flex-col z-20 shadow-xl transition-all duration-300",style:{right:s?"28rem":"0",width:s?"28rem":"40rem"},children:["      ",f.jsxs("header",{className:"shrink-0 h-16 flex items-center justify-between pl-5 pr-4 border-b border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[f.jsx("div",{className:"flex items-center gap-3 min-w-0",children:f.jsxs("div",{className:"min-w-0",children:[f.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:z}),f.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500",children:r.namespace||"cluster-scoped"})]})}),f.jsx("button",{onClick:n,className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-400 dark:hover:text-neutral-200 dark:hover:bg-neutral-800 rounded-md transition-colors",title:"Close",children:f.jsx(Sv,{size:18})})]}),f.jsxs("div",{className:"shrink-0 flex items-center border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/50",children:[f.jsxs("div",{className:"flex",children:[X&&f.jsx("button",{onClick:()=>a("overview"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${i==="overview"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Overview"}),H&&f.jsx("button",{onClick:()=>a("metadata"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${i==="metadata"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Metadata"}),f.jsx("button",{onClick:()=>a("yaml"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${i==="yaml"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Manifest"}),N.length>0&&f.jsx("button",{onClick:()=>a("events"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${i==="events"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Events"}),J&&f.jsx("button",{onClick:()=>a("logs"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${i==="logs"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Logs"}),ne&&f.jsx("button",{onClick:()=>a("terminal"),className:`px-4 py-2.5 text-sm font-medium transition-colors ${i==="terminal"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 -mb-px":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"}`,children:"Terminal"})]}),f.jsxs("div",{className:"ml-auto pr-4 flex items-center gap-1",children:[f.jsx("div",{ref:b,className:"flex items-center gap-1"}),i==="overview"&&E.length>0&&f.jsx(f.Fragment,{children:E.map(Z=>{const oe=Z.isDisabled?.(x),ke=oe===!0||typeof oe=="string",Se=typeof oe=="string"?oe:void 0,Ge=c===Z.id;return f.jsx("button",{onClick:()=>B(Z),disabled:ke||Ge,title:Se||Z.label,className:`
                      flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded transition-colors
                      ${ke||Ge?"opacity-50 cursor-not-allowed":""}
                      ${Z.variant==="primary"?"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":Z.variant==="warning"?"text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":Z.variant==="danger"?"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800"}
                    `,children:Ge?f.jsx(Ln,{size:12,className:"animate-spin"}):Z.icon},Z.id)})})]})]}),h&&f.jsx("div",{className:"shrink-0 mx-4 mt-2 p-2 bg-red-500/10 border border-red-500/30 rounded text-red-600 dark:text-red-400 text-xs",children:h}),p&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg p-4 max-w-md mx-4 shadow-xl",children:[f.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200 mb-2",children:p.confirm?.title}),f.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-4",children:p.confirm?.message}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>y(null),className:"px-3 py-1.5 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded transition-colors",children:"Cancel"}),f.jsxs("button",{onClick:()=>D(p),disabled:c===p.id,className:`
                  px-3 py-1.5 text-xs font-medium text-white rounded transition-colors
                  ${p.variant==="danger"?"bg-red-600 hover:bg-red-700":p.variant==="warning"?"bg-amber-600 hover:bg-amber-700":"bg-blue-600 hover:bg-blue-700"}
                  ${c===p.id?"opacity-50 cursor-not-allowed":""}
                `,children:[c===p.id?f.jsx(Ln,{size:12,className:"animate-spin inline mr-1"}):null,p.confirm?.confirmLabel||"Confirm"]})]})]})}),i==="overview"&&X&&f.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[S&&f.jsxs("div",{className:"flex items-center gap-2 text-neutral-600 dark:text-neutral-400 text-sm mb-4",children:[f.jsx(Sa,{size:14,className:"animate-spin"}),"Loading full resource..."]}),O&&f.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mb-4",children:O}),x&&!S&&f.jsx(Dee,{context:t,resource:x,hideActions:!0})]}),i==="yaml"&&f.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:f.jsx(coe,{resource:x??null,loading:S,error:O,onSave:q,toolbarRef:b})}),i==="metadata"&&f.jsx("div",{className:"flex-1 overflow-auto p-5",children:W&&f.jsx(Bre,{metadata:W.metadata})}),i==="events"&&f.jsx("div",{className:"flex-1 overflow-auto p-5",children:f.jsx(zre,{events:N,loading:R})}),i==="logs"&&J&&x&&f.jsx("div",{className:"flex-1 overflow-hidden",children:f.jsx(lte,{context:t,resource:x,toolbarRef:b})}),i==="terminal"&&ne&&x&&f.jsx("div",{className:"flex-1 overflow-hidden",children:f.jsx(Dre,{context:t,resource:x,toolbarRef:b})})]})}const rh={Pod:yi,Deployment:hC,DaemonSet:uC,StatefulSet:lc,Job:fC,CronJob:Oa,Service:oY,Ingress:Cr,Gateway:Vn,HTTPRoute:ap,GRPCRoute:ap,NetworkPolicy:hh,PersistentVolume:Ns,PersistentVolumeClaim:aC,ConfigMap:ei,Secret:Op,Node:mi},doe={Pod:{bg:"#dcfce7",bgDark:"#14532d",border:"#22c55e",borderDark:"#4ade80",text:"#166534",textDark:"#86efac"},Deployment:{bg:"#dbeafe",bgDark:"#1e3a8a",border:"#3b82f6",borderDark:"#60a5fa",text:"#1e40af",textDark:"#93c5fd"},DaemonSet:{bg:"#f3e8ff",bgDark:"#581c87",border:"#a855f7",borderDark:"#c084fc",text:"#6b21a8",textDark:"#d8b4fe"},StatefulSet:{bg:"#ede9fe",bgDark:"#5b21b6",border:"#8b5cf6",borderDark:"#a78bfa",text:"#5b21b6",textDark:"#c4b5fd"},Job:{bg:"#fef3c7",bgDark:"#78350f",border:"#f59e0b",borderDark:"#fbbf24",text:"#92400e",textDark:"#fcd34d"},CronJob:{bg:"#ffedd5",bgDark:"#7c2d12",border:"#f97316",borderDark:"#fb923c",text:"#9a3412",textDark:"#fdba74"},Service:{bg:"#cffafe",bgDark:"#164e63",border:"#06b6d4",borderDark:"#22d3ee",text:"#155e75",textDark:"#67e8f9"},Ingress:{bg:"#ccfbf1",bgDark:"#134e4a",border:"#14b8a6",borderDark:"#2dd4bf",text:"#115e59",textDark:"#5eead4"},Gateway:{bg:"#d1fae5",bgDark:"#065f46",border:"#10b981",borderDark:"#34d399",text:"#065f46",textDark:"#6ee7b7"},HTTPRoute:{bg:"#a7f3d0",bgDark:"#047857",border:"#34d399",borderDark:"#6ee7b7",text:"#047857",textDark:"#a7f3d0"},GRPCRoute:{bg:"#a7f3d0",bgDark:"#047857",border:"#34d399",borderDark:"#6ee7b7",text:"#047857",textDark:"#a7f3d0"},NetworkPolicy:{bg:"#fef3c7",bgDark:"#78350f",border:"#f59e0b",borderDark:"#fbbf24",text:"#92400e",textDark:"#fcd34d"},PersistentVolume:{bg:"#f1f5f9",bgDark:"#334155",border:"#64748b",borderDark:"#94a3b8",text:"#334155",textDark:"#cbd5e1"},PersistentVolumeClaim:{bg:"#f8fafc",bgDark:"#475569",border:"#94a3b8",borderDark:"#cbd5e1",text:"#475569",textDark:"#e2e8f0"},ConfigMap:{bg:"#fef9c3",bgDark:"#713f12",border:"#eab308",borderDark:"#facc15",text:"#854d0e",textDark:"#fde047"},Secret:{bg:"#fee2e2",bgDark:"#7f1d1d",border:"#ef4444",borderDark:"#f87171",text:"#991b1b",textDark:"#fca5a5"}},foe={bg:"#f3f4f6",bgDark:"#374151",border:"#9ca3af",borderDark:"#6b7280",text:"#374151",textDark:"#d1d5db"};function Il(t,e){const n=doe[t]||foe;return{bg:e?n.bgDark:n.bg,border:e?n.borderDark:n.border,text:e?n.textDark:n.text}}function gP(t){let e="Unknown",n="#9ca3af",s="#6b7280";if(t.kind==="Pod"){const r=t.status?.phase||"Unknown";e=r,r==="Running"?(n="#22c55e",s="#4ade80"):r==="Pending"?(n="#eab308",s="#facc15"):r==="Failed"?(n="#ef4444",s="#f87171"):r==="Succeeded"&&(n="#22c55e",s="#4ade80")}else if(t.kind==="DaemonSet"){const r=t.status?.desiredNumberScheduled||0,i=t.status?.numberReady||0;e=`${i}/${r}`,i===r&&r>0?(n="#22c55e",s="#4ade80"):(n="#eab308",s="#facc15")}else if(["Deployment","StatefulSet"].includes(t.kind)){const r=t.status?.replicas||0,i=t.status?.readyReplicas||0;e=`${i}/${r}`,i===r&&r>0?(n="#22c55e",s="#4ade80"):(n="#eab308",s="#facc15")}else if(t.kind==="Service")e="Active",n="#22c55e",s="#4ade80";else if(t.kind==="Job"){const r=t.status?.succeeded||0,i=t.status?.failed||0;r>0?(e="Succeeded",n="#22c55e",s="#4ade80"):i>0?(e="Failed",n="#ef4444",s="#f87171"):(e="Running",n="#eab308",s="#facc15")}else t.kind==="PersistentVolumeClaim"?(e=t.status?.phase||"Unknown",e==="Bound"?(n="#22c55e",s="#4ade80"):(n="#eab308",s="#facc15")):["ConfigMap","Secret","Ingress","CronJob"].includes(t.kind)&&(e="Active",n="#22c55e",s="#4ade80");return{status:e,color:n,colorDark:s}}const $d=160,pw=60,PO=48,Zy=120,El=32,T0=6,h2=32,ju=8,ba=20,Eo=4,Kf=5,poe=32,moe=10,mo=12,$O=36,n0=20;function goe({context:t,namespace:e}){const n=t||"",s=e,[r,i]=V.useState([]),[a,c]=V.useState([]),[u,h]=V.useState(!0),[m,p]=V.useState(null),[y,v]=V.useState({x:40,y:40,scale:1}),[b,x]=V.useState(!1),[S,k]=V.useState({x:0,y:0}),[C,N]=V.useState(null),[R,O]=V.useState(!1),E=V.useRef(null);V.useEffect(()=>{const A=()=>{const J=document.documentElement.classList.contains("dark"),ne=window.matchMedia("(prefers-color-scheme: dark)");O(J||ne.matches)};A();const M=new MutationObserver(A);M.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]});const H=window.matchMedia("(prefers-color-scheme: dark)"),T=()=>A();return H.addEventListener("change",T),()=>{M.disconnect(),H.removeEventListener("change",T)}},[]);const D=V.useCallback(async()=>{h(!0),p(null);try{const A=s?`/namespaces/${s}`:"",M=[{path:`/api/v1${A}/pods`,kind:"Pod"},{path:`/apis/apps/v1${A}/deployments`,kind:"Deployment"},{path:`/apis/apps/v1${A}/replicasets`,kind:"ReplicaSet"},{path:`/apis/apps/v1${A}/statefulsets`,kind:"StatefulSet"},{path:`/apis/apps/v1${A}/daemonsets`,kind:"DaemonSet"},{path:`/api/v1${A}/services`,kind:"Service"},{path:`/api/v1${A}/configmaps`,kind:"ConfigMap"},{path:`/api/v1${A}/secrets`,kind:"Secret"},{path:`/api/v1${A}/persistentvolumeclaims`,kind:"PersistentVolumeClaim"},{path:`/apis/batch/v1${A}/jobs`,kind:"Job"},{path:`/apis/batch/v1${A}/cronjobs`,kind:"CronJob"},{path:`/apis/networking.k8s.io/v1${A}/ingresses`,kind:"Ingress"},{path:`/apis/networking.k8s.io/v1${A}/networkpolicies`,kind:"NetworkPolicy"},{path:`/apis/gateway.networking.k8s.io/v1${A}/gateways`,kind:"Gateway"},{path:`/apis/gateway.networking.k8s.io/v1${A}/httproutes`,kind:"HTTPRoute"},{path:`/apis/gateway.networking.k8s.io/v1${A}/grpcroutes`,kind:"GRPCRoute"}],H=await Promise.allSettled(M.map(async({path:ne,kind:Z})=>{try{return((await Ma(ne,n)).items||[]).map(ke=>({...ke,kind:Z}))}catch{return[]}})),T=[];H.forEach(ne=>{ne.status==="fulfilled"&&T.push(...ne.value)}),c(T);const J=Eoe(T);i(J)}catch(A){p(A instanceof Error?A.message:"Failed to load resources")}finally{h(!1)}},[n,s]);V.useEffect(()=>{D()},[D]);const B=V.useCallback(A=>{A.button===0&&(x(!0),k({x:A.clientX-y.x,y:A.clientY-y.y}))},[y.x,y.y]),q=V.useCallback(A=>{b&&v(M=>({...M,x:A.clientX-S.x,y:A.clientY-S.y}))},[b,S]),P=V.useCallback(()=>{x(!1)},[]),W=V.useCallback(A=>{A.preventDefault();const M=A.deltaY>0?.9:1.1,H=Math.min(Math.max(y.scale*M,.1),3),T=E.current?.getBoundingClientRect();if(T){const J=A.clientX-T.left,ne=A.clientY-T.top,Z=J-(J-y.x)*(H/y.scale),oe=ne-(ne-y.y)*(H/y.scale);v({x:Z,y:oe,scale:H})}},[y]),z=()=>v(A=>({...A,scale:Math.min(A.scale*1.2,3)})),K=()=>v(A=>({...A,scale:Math.max(A.scale/1.2,.1)})),X=()=>{if(!E.current||r.length===0)return;const A=E.current.getBoundingClientRect(),M=Math.max(...r.map(Z=>Z.x+Z.width),800),H=Math.max(...r.map(Z=>Z.y+Z.height),600),T=(A.width-80)/M,J=(A.height-80)/H,ne=Math.min(T,J,1);v({x:40,y:40,scale:ne})},G=V.useMemo(()=>{if(r.length===0)return{width:800,height:600};const A=Math.max(...r.map(H=>H.x+H.width)),M=Math.max(...r.map(H=>H.y+H.height));return{width:A+100,height:M+100}},[r]);V.useEffect(()=>{if(r.length>0&&E.current){const A=E.current.getBoundingClientRect(),M=(A.width-80)/G.width,H=(A.height-80)/G.height,T=Math.min(M,H,1);v({x:40,y:40,scale:T})}},[r,G]),V.useEffect(()=>{N(null)},[s]);const I=V.useCallback(A=>{N(A)},[]),Y=V.useCallback((A,M,H)=>{const T=a.find(J=>J.kind===A&&J.metadata.name===M&&J.metadata.namespace===H);T&&N({uid:T.metadata.uid,resource:T,x:0,y:0,width:0,height:0})},[a]),Q=C?{name:C.resource.metadata.name,namespace:C.resource.metadata.namespace,uid:C.resource.metadata.uid,kind:C.resource.kind,apiVersion:C.resource.apiVersion}:null,$=C!==null;return u?f.jsx("div",{className:"flex items-center justify-center h-full bg-white dark:bg-neutral-950",children:f.jsxs("div",{className:"flex items-center gap-2 text-neutral-500",children:[f.jsx(Ln,{className:"animate-spin",size:20}),f.jsx("span",{children:"Loading resources..."})]})}):m?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 bg-white dark:bg-neutral-950",children:[f.jsx("div",{className:"text-red-500",children:m}),f.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 text-sm bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 rounded-md transition-colors",children:[f.jsx(Ln,{size:16}),"Retry"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`h-full w-full relative bg-neutral-100 dark:bg-neutral-900 overflow-hidden transition-all duration-300 ${$?"mr-120":""}`,children:[f.jsxs("div",{className:"absolute top-4 right-4 z-10 flex items-center gap-1 bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700",children:[f.jsx("button",{onClick:D,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-l-lg",title:"Refresh",children:f.jsx(Ln,{size:16,className:"text-neutral-600 dark:text-neutral-400"})}),f.jsx("div",{className:"w-px h-5 bg-neutral-200 dark:bg-neutral-700"}),f.jsx("button",{onClick:z,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700",title:"Zoom In",children:f.jsx(xY,{size:16,className:"text-neutral-600 dark:text-neutral-400"})}),f.jsx("button",{onClick:K,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700",title:"Zoom Out",children:f.jsx(SY,{size:16,className:"text-neutral-600 dark:text-neutral-400"})}),f.jsx("button",{onClick:X,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700",title:"Fit View",children:f.jsx(BG,{size:16,className:"text-neutral-600 dark:text-neutral-400"})}),f.jsxs("div",{className:"px-2 text-xs text-neutral-500 border-l border-neutral-200 dark:border-neutral-700 rounded-r-lg",children:[Math.round(y.scale*100),"%"]})]}),f.jsxs("div",{className:"absolute bottom-4 right-4 z-10 px-3 py-2 bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700",children:[f.jsx("div",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-2",children:"Connections"}),f.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{width:"24",height:"8",children:f.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#64748b",strokeWidth:"2"})}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Owner"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{width:"24",height:"8",children:f.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#8b5cf6",strokeWidth:"2",strokeDasharray:"4,2"})}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Selector"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{width:"24",height:"8",children:f.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#06b6d4",strokeWidth:"2",strokeDasharray:"4,2"})}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Service"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{width:"24",height:"8",children:f.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#14b8a6",strokeWidth:"2",strokeDasharray:"4,2"})}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Ingress"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{width:"24",height:"8",children:f.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#10b981",strokeWidth:"2",strokeDasharray:"4,2"})}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Gateway"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{width:"24",height:"8",children:f.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#f59e0b",strokeWidth:"1.5",strokeDasharray:"2,2"})}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"NetworkPolicy"})]})]})]}),f.jsx("div",{ref:E,className:"w-full h-full cursor-grab active:cursor-grabbing overflow-hidden",onMouseDown:B,onMouseMove:q,onMouseUp:P,onMouseLeave:P,onWheel:W,children:f.jsxs("svg",{width:G.width,height:G.height,style:{transform:`translate(${y.x}px, ${y.y}px) scale(${y.scale})`,transformOrigin:"0 0"},children:[f.jsxs("defs",{children:[f.jsx("marker",{id:"arrow-owner",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#64748b"})}),f.jsx("marker",{id:"arrow-selector",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#8b5cf6"})}),f.jsx("marker",{id:"arrow-service",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#06b6d4"})}),f.jsx("marker",{id:"arrow-ingress",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#14b8a6"})}),f.jsx("marker",{id:"arrow-gateway",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#10b981"})}),f.jsx("marker",{id:"arrow-network-policy",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"5",markerHeight:"5",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#f59e0b"})}),f.jsx("marker",{id:"arrow-owner-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#94a3b8"})}),f.jsx("marker",{id:"arrow-selector-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#c084fc"})}),f.jsx("marker",{id:"arrow-service-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#22d3ee"})}),f.jsx("marker",{id:"arrow-ingress-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#2dd4bf"})}),f.jsx("marker",{id:"arrow-gateway-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#34d399"})}),f.jsx("marker",{id:"arrow-network-policy-dark",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"5",markerHeight:"5",orient:"auto-start-reverse",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#fbbf24"})})]}),r.map(A=>f.jsx(yoe,{application:A,onNodeClick:I,onConfigClick:Y,isDarkMode:R},A.id))]})})]}),f.jsx(mP,{context:n,isOpen:$,onClose:()=>N(null),resource:Q})]})}function yoe(t){const e=De.c(40),{application:n,onNodeClick:s,onConfigClick:r,isDarkMode:i}=t;let a;e[0]!==n.nodes?(a=new Map(n.nodes.map(voe)),n.nodes.forEach(C=>{C.childPods&&C.childPods.forEach(N=>{a.set(N.uid,{...N,x:C.x+N.x,y:C.y+N.y})})}),e[0]=n.nodes,e[1]=a):a=e[1];const c=a;let u;e[2]!==n.nodes?(u=n.nodes.filter(C=>!C.resource.kind.match(/^Pod$/)||!n.nodes.some(N=>["Deployment","StatefulSet","DaemonSet","Job"].includes(N.resource.kind)&&N.childPods?.some(R=>R.uid===C.uid))),e[2]=n.nodes,e[3]=u):u=e[3];const h=u,m=n.name&&n.name.length>0,p=i?"#262626":"white",y=i?"#404040":"#e5e7eb";let v;e[4]!==n.height||e[5]!==n.width||e[6]!==n.x||e[7]!==n.y||e[8]!==p||e[9]!==y?(v=f.jsx("rect",{x:n.x,y:n.y,width:n.width,height:n.height,rx:12,fill:p,stroke:y,strokeWidth:1}),e[4]=n.height,e[5]=n.width,e[6]=n.x,e[7]=n.y,e[8]=p,e[9]=y,e[10]=v):v=e[10];let b;e[11]!==n.name||e[12]!==n.namespace||e[13]!==n.width||e[14]!==n.x||e[15]!==n.y||e[16]!==i||e[17]!==m?(b=m&&f.jsxs("g",{children:[f.jsx("text",{x:n.x+10,y:n.y+13,fontSize:12,fontWeight:600,fill:i?"#e5e5e5":"#374151",dominantBaseline:"hanging",children:n.name.length>Math.floor((n.width-20)/7)?n.name.slice(0,Math.floor((n.width-20)/7)-1)+"":n.name}),n.namespace&&f.jsx("text",{x:n.x+10,y:n.y+26,fontSize:10,fill:i?"#a3a3a3":"#6b7280",dominantBaseline:"hanging",children:n.namespace.length>Math.floor((n.width-20)/6)?n.namespace.slice(0,Math.floor((n.width-20)/6)-1)+"":n.namespace})]}),e[11]=n.name,e[12]=n.namespace,e[13]=n.width,e[14]=n.x,e[15]=n.y,e[16]=i,e[17]=m,e[18]=b):b=e[18];let x;if(e[19]!==n.edges||e[20]!==i||e[21]!==c){let C;e[23]!==i||e[24]!==c?(C=(N,R)=>{const O=c.get(N.from),E=c.get(N.to);return!O||!E||N.type==="owner"&&(O.childPods?.some(B=>B.uid===E.uid)||E.childPods?.some(B=>B.uid===O.uid))?null:f.jsx(boe,{from:O,to:E,type:N.type,isDarkMode:i},R)},e[23]=i,e[24]=c,e[25]=C):C=e[25],x=n.edges.map(C),e[19]=n.edges,e[20]=i,e[21]=c,e[22]=x}else x=e[22];let S;if(e[26]!==i||e[27]!==r||e[28]!==s||e[29]!==h){let C;e[31]!==i||e[32]!==r||e[33]!==s?(C=N=>f.jsx(_oe,{node:N,onClick:()=>s(N),onPodClick:s,onConfigClick:r,isDarkMode:i},N.uid),e[31]=i,e[32]=r,e[33]=s,e[34]=C):C=e[34],S=h.map(C),e[26]=i,e[27]=r,e[28]=s,e[29]=h,e[30]=S}else S=e[30];let k;return e[35]!==v||e[36]!==b||e[37]!==x||e[38]!==S?(k=f.jsxs("g",{children:[v,b,x,S]}),e[35]=v,e[36]=b,e[37]=x,e[38]=S,e[39]=k):k=e[39],k}function voe(t){return[t.uid,t]}function boe(t){const e=De.c(14),{from:n,to:s,type:r,isDarkMode:i}=t,a=n.x+n.width,c=n.y+n.height/2,u=s.x,h=s.y+s.height/2,m=(a+u)/2,p=`M ${a} ${c} C ${m} ${c}, ${m} ${h}, ${u} ${h}`,y=i?"#94a3b8":"#64748b",v=i?"#c084fc":"#8b5cf6",b=i?"#22d3ee":"#06b6d4",x=i?"#2dd4bf":"#14b8a6",S=i?"#34d399":"#10b981",k=i?"#fbbf24":"#f59e0b";let C;e[0]!==y||e[1]!==v||e[2]!==b||e[3]!==x||e[4]!==S||e[5]!==k?(C={owner:y,selector:v,service:b,ingress:x,gateway:S,"network-policy":k},e[0]=y,e[1]=v,e[2]=b,e[3]=x,e[4]=S,e[5]=k,e[6]=C):C=e[6];const N=C;let R;e[7]===Symbol.for("react.memo_cache_sentinel")?(R={owner:void 0,selector:"6,3",service:"6,3",ingress:"4,2",gateway:"4,2","network-policy":"2,2"},e[7]=R):R=e[7];const O=R,E=N[r],D=r==="network-policy"?1.5:2,B=O[r],q=`url(#arrow-${r}${i?"-dark":""})`;let P;return e[8]!==p||e[9]!==D||e[10]!==B||e[11]!==q||e[12]!==E?(P=f.jsx("path",{d:p,fill:"none",stroke:E,strokeWidth:D,strokeDasharray:B,markerEnd:q}),e[8]=p,e[9]=D,e[10]=B,e[11]=q,e[12]=E,e[13]=P):P=e[13],P}function _oe(t){const e=De.c(62),{node:n,onClick:s,onPodClick:r,onConfigClick:i,isDarkMode:a}=t,{resource:c,x:u,y:h,width:m,height:p}=n;if(c.kind==="NetworkPolicy"){let $;return e[0]!==a||e[1]!==n||e[2]!==s?($=f.jsx(koe,{node:n,onClick:s,isDarkMode:a}),e[0]=a,e[1]=n,e[2]=s,e[3]=$):$=e[3],$}if(c.kind==="Service"){let $;return e[4]!==a||e[5]!==n||e[6]!==s?($=f.jsx(zO,{node:n,onClick:s,isDarkMode:a}),e[4]=a,e[5]=n,e[6]=s,e[7]=$):$=e[7],$}if(["Gateway","HTTPRoute","GRPCRoute"].includes(c.kind)){let $;return e[8]!==a||e[9]!==n||e[10]!==s?($=f.jsx(zO,{node:n,onClick:s,isDarkMode:a}),e[8]=a,e[9]=n,e[10]=s,e[11]=$):$=e[11],$}if(c.kind==="Ingress"){let $;return e[12]!==a||e[13]!==n||e[14]!==s?($=f.jsx(woe,{node:n,onClick:s,isDarkMode:a}),e[12]=a,e[13]=n,e[14]=s,e[15]=$):$=e[15],$}if(["Deployment","StatefulSet","DaemonSet","Job"].includes(c.kind)&&n.childPods&&n.childPods.length>0){let $;return e[16]!==a||e[17]!==n||e[18]!==s||e[19]!==i||e[20]!==r?($=f.jsx(xoe,{node:n,onClick:s,onPodClick:r,onConfigClick:i,isDarkMode:a}),e[16]=a,e[17]=n,e[18]=s,e[19]=i,e[20]=r,e[21]=$):$=e[21],$}let y;e[22]!==a||e[23]!==c.kind?(y=Il(c.kind,a),e[22]=a,e[23]=c.kind,e[24]=y):y=e[24];const v=y,b=rh[c.kind]||wv;let x;e[25]!==c?(x=gP(c),e[25]=c,e[26]=x):x=e[26];const S=x,k=a?S.colorDark:S.color,C=Math.floor((m-20)/6.5),N=c.metadata.name.length>C?c.metadata.name.slice(0,C-2)+"":c.metadata.name,R=`translate(${u}, ${h})`;let O;e[27]!==s?(O=$=>{$.stopPropagation(),s()},e[27]=s,e[28]=O):O=e[28];let E;e[29]===Symbol.for("react.memo_cache_sentinel")?(E={cursor:"pointer"},e[29]=E):E=e[29];let D;e[30]!==v.bg||e[31]!==v.border||e[32]!==p||e[33]!==m?(D=f.jsx("rect",{width:m,height:p,rx:8,fill:v.bg,stroke:v.border,strokeWidth:2}),e[30]=v.bg,e[31]=v.border,e[32]=p,e[33]=m,e[34]=D):D=e[34];let B;e[35]!==v.text?(B={color:v.text},e[35]=v.text,e[36]=B):B=e[36];let q;e[37]!==b?(q=f.jsx(b,{size:16}),e[37]=b,e[38]=q):q=e[38];let P;e[39]!==B||e[40]!==q?(P=f.jsx("foreignObject",{width:18,height:18,children:f.jsx("div",{style:B,children:q})}),e[39]=B,e[40]=q,e[41]=P):P=e[41];let W;e[42]!==v.text||e[43]!==c.kind?(W=f.jsx("text",{x:22,y:13,fontSize:11,fill:v.text,fontWeight:600,children:c.kind}),e[42]=v.text,e[43]=c.kind,e[44]=W):W=e[44];let z;e[45]!==W||e[46]!==P?(z=f.jsxs("g",{transform:"translate(10, 10)",children:[P,W]}),e[45]=W,e[46]=P,e[47]=z):z=e[47];const K=m-12;let X;e[48]!==k||e[49]!==K?(X=f.jsx("circle",{cx:K,cy:14,r:5,fill:k}),e[48]=k,e[49]=K,e[50]=X):X=e[50];const G=p-12,I=a?"#e5e7eb":"#1f2937";let Y;e[51]!==N||e[52]!==G||e[53]!==I?(Y=f.jsx("text",{x:10,y:G,fontSize:12,fontWeight:600,fill:I,children:N}),e[51]=N,e[52]=G,e[53]=I,e[54]=Y):Y=e[54];let Q;return e[55]!==z||e[56]!==X||e[57]!==Y||e[58]!==R||e[59]!==O||e[60]!==D?(Q=f.jsxs("g",{transform:R,onClick:O,style:E,className:"hover:opacity-80 transition-opacity",children:[D,z,X,Y]}),e[55]=z,e[56]=X,e[57]=Y,e[58]=R,e[59]=O,e[60]=D,e[61]=Q):Q=e[61],Q}function zO(t){const e=De.c(26),{node:n,onClick:s,isDarkMode:r}=t,{resource:i,x:a,y:c,width:u,height:h}=n;let m;e[0]!==r||e[1]!==i.kind?(m=Il(i.kind,r),e[0]=r,e[1]=i.kind,e[2]=m):m=e[2];const p=m,y=rh[i.kind]||wv,v=`translate(${a}, ${c})`;let b;e[3]!==s?(b=D=>{D.stopPropagation(),s()},e[3]=s,e[4]=b):b=e[4];let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x={cursor:"pointer"},e[5]=x):x=e[5];let S;e[6]!==p.bg||e[7]!==p.border||e[8]!==h||e[9]!==u?(S=f.jsx("rect",{width:u,height:h,rx:8,fill:p.bg,stroke:p.border,strokeWidth:2}),e[6]=p.bg,e[7]=p.border,e[8]=h,e[9]=u,e[10]=S):S=e[10];const k=`translate(${u/2-12}, ${h/2-12})`;let C;e[11]!==p.text?(C={color:p.text},e[11]=p.text,e[12]=C):C=e[12];let N;e[13]!==y?(N=f.jsx(y,{size:22}),e[13]=y,e[14]=N):N=e[14];let R;e[15]!==C||e[16]!==N?(R=f.jsx("foreignObject",{width:24,height:24,children:f.jsx("div",{style:C,children:N})}),e[15]=C,e[16]=N,e[17]=R):R=e[17];let O;e[18]!==k||e[19]!==R?(O=f.jsx("g",{transform:k,children:R}),e[18]=k,e[19]=R,e[20]=O):O=e[20];let E;return e[21]!==O||e[22]!==v||e[23]!==b||e[24]!==S?(E=f.jsxs("g",{transform:v,onClick:b,style:x,className:"hover:opacity-80 transition-opacity",children:[S,O]}),e[21]=O,e[22]=v,e[23]=b,e[24]=S,e[25]=E):E=e[25],E}function xoe(t){const e=De.c(54),{node:n,onClick:s,onPodClick:r,onConfigClick:i,isDarkMode:a}=t,{resource:c,x:u,y:h,width:m,height:p,childPods:y}=n;let v;e[0]!==y?(v=y===void 0?[]:y,e[0]=y,e[1]=v):v=e[1];const b=v;let x;e[2]!==a||e[3]!==c.kind?(x=Il(c.kind,a),e[2]=a,e[3]=c.kind,e[4]=x):x=e[4];const S=x,k=rh[c.kind]||wv,C=Math.floor((m-60)/6),N=c.metadata.name.length>C?c.metadata.name.slice(0,C-2)+"":c.metadata.name;let R;e[5]!==n?(R=n.configIcons||[],e[5]=n,e[6]=R):R=e[6];const O=R,E=`translate(${u}, ${h})`;let D;e[7]!==s?(D=M=>{M.stopPropagation(),s()},e[7]=s,e[8]=D):D=e[8];let B;e[9]===Symbol.for("react.memo_cache_sentinel")?(B={cursor:"pointer"},e[9]=B):B=e[9];let q;e[10]!==S.bg||e[11]!==S.border||e[12]!==p||e[13]!==D||e[14]!==m?(q=f.jsx("rect",{width:m,height:p,rx:10,fill:S.bg,stroke:S.border,strokeWidth:2,onClick:D,style:B,className:"hover:opacity-90"}),e[10]=S.bg,e[11]=S.border,e[12]=p,e[13]=D,e[14]=m,e[15]=q):q=e[15];let P;e[16]!==s?(P=M=>{M.stopPropagation(),s()},e[16]=s,e[17]=P):P=e[17];let W;e[18]===Symbol.for("react.memo_cache_sentinel")?(W={cursor:"pointer"},e[18]=W):W=e[18];let z;e[19]!==S.text?(z={color:S.text},e[19]=S.text,e[20]=z):z=e[20];let K;e[21]!==k?(K=f.jsx(k,{size:16}),e[21]=k,e[22]=K):K=e[22];let X;e[23]!==z||e[24]!==K?(X=f.jsx("foreignObject",{width:18,height:18,children:f.jsx("div",{style:z,children:K})}),e[23]=z,e[24]=K,e[25]=X):X=e[25];let G;e[26]!==S.text||e[27]!==N?(G=f.jsx("text",{x:22,y:13,fontSize:11,fill:S.text,fontWeight:600,children:N}),e[26]=S.text,e[27]=N,e[28]=G):G=e[28];let I;e[29]!==X||e[30]!==G?(I=f.jsxs("g",{transform:"translate(8, 8)",children:[X,G]}),e[29]=X,e[30]=G,e[31]=I):I=e[31];let Y;e[32]!==I||e[33]!==P?(Y=f.jsx("g",{onClick:P,style:W,children:I}),e[32]=I,e[33]=P,e[34]=Y):Y=e[34];let Q;if(e[35]!==b||e[36]!==a||e[37]!==r){let M;e[39]!==a||e[40]!==r?(M=(H,T)=>{const J=Il("Pod",a),ne=gP(H.resource),Z=a?ne.colorDark:ne.color,oe=h2+T*(El+T0),ke=Math.floor((Zy-30)/5.5),Se=H.resource.metadata.name.length>ke?H.resource.metadata.name.slice(0,ke-2)+"":H.resource.metadata.name;return f.jsxs("g",{transform:`translate(${ju}, ${oe})`,onClick:Ge=>{Ge.stopPropagation(),r?.(H)},style:{cursor:"pointer"},className:"hover:opacity-80",children:[f.jsx("rect",{width:Zy,height:El,rx:4,fill:J.bg,stroke:J.border,strokeWidth:1.5}),f.jsx("circle",{cx:12,cy:El/2,r:4,fill:Z}),f.jsx("text",{x:22,y:El/2+4,fontSize:10,fill:a?"#e5e7eb":"#1f2937",fontWeight:500,children:Se})]},H.uid)},e[39]=a,e[40]=r,e[41]=M):M=e[41],Q=b.map(M),e[35]=b,e[36]=a,e[37]=r,e[38]=Q}else Q=e[38];let $;e[42]!==O||e[43]!==p||e[44]!==a||e[45]!==i||e[46]!==c.metadata.namespace?($=O.length>0&&f.jsx("g",{transform:`translate(${ju}, ${p-Math.ceil(O.length/Kf)*(ba+Eo)-Eo})`,children:O.map((M,H)=>{const T=rh[M.kind],J=Il(M.kind,a),ne=Math.floor(H/Kf),oe=H%Kf*(ba+Eo),ke=ne*(ba+Eo);return f.jsxs("g",{transform:`translate(${oe}, ${ke})`,onClick:Se=>{Se.stopPropagation(),i&&i(M.kind,M.name,c.metadata.namespace)},style:{cursor:"pointer"},className:"hover:opacity-80",children:[f.jsx("title",{children:M.name}),f.jsx("rect",{width:ba,height:ba,rx:3,fill:J.bg,stroke:J.border,strokeWidth:1}),f.jsx("g",{transform:`translate(${ba/2-6}, ${ba/2-6})`,children:f.jsx("foreignObject",{width:12,height:12,children:f.jsx("div",{style:{color:J.text},children:f.jsx(T,{size:12})})})})]},`${M.kind}-${M.name}-${H}`)})}),e[42]=O,e[43]=p,e[44]=a,e[45]=i,e[46]=c.metadata.namespace,e[47]=$):$=e[47];let A;return e[48]!==Y||e[49]!==Q||e[50]!==$||e[51]!==E||e[52]!==q?(A=f.jsxs("g",{transform:E,children:[q,Y,Q,$]}),e[48]=Y,e[49]=Q,e[50]=$,e[51]=E,e[52]=q,e[53]=A):A=e[53],A}function woe(t){const e=De.c(52),{node:n,onClick:s,isDarkMode:r}=t,{resource:i,x:a,y:c,width:u,height:h}=n;let m;e[0]!==r?(m=Il("Ingress",r),e[0]=r,e[1]=m):m=e[1];const p=m,y=rh.Ingress,v=i.spec;let b,x,S,k,C,N,R,O;if(e[2]!==p.bg||e[3]!==p.border||e[4]!==p.text||e[5]!==h||e[6]!==r||e[7]!==s||e[8]!==i.metadata.name||e[9]!==v.rules||e[10]!==u||e[11]!==a||e[12]!==c){const P=v.rules?.map(Soe).filter(Boolean)||[],W=Math.floor((u-20)/6.5);b=i.metadata.name.length>W?i.metadata.name.slice(0,W-2)+"":i.metadata.name,x=`translate(${a}, ${c})`,e[21]!==s?(S=I=>{I.stopPropagation(),s()},e[21]=s,e[22]=S):S=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(k={cursor:"pointer"},e[23]=k):k=e[23],C="hover:opacity-80 transition-opacity",e[24]!==p.bg||e[25]!==p.border||e[26]!==h||e[27]!==u?(N=f.jsx("rect",{width:u,height:h,rx:8,fill:p.bg,stroke:p.border,strokeWidth:2}),e[24]=p.bg,e[25]=p.border,e[26]=h,e[27]=u,e[28]=N):N=e[28];let z;e[29]!==p.text?(z={color:p.text},e[29]=p.text,e[30]=z):z=e[30];let K;e[31]===Symbol.for("react.memo_cache_sentinel")?(K=f.jsx(y,{size:16}),e[31]=K):K=e[31];let X;e[32]!==z?(X=f.jsx("foreignObject",{width:18,height:18,children:f.jsx("div",{style:z,children:K})}),e[32]=z,e[33]=X):X=e[33];let G;e[34]!==p.text?(G=f.jsx("text",{x:22,y:13,fontSize:11,fill:p.text,fontWeight:600,children:"Ingress"}),e[34]=p.text,e[35]=G):G=e[35],e[36]!==X||e[37]!==G?(R=f.jsxs("g",{transform:"translate(10, 10)",children:[X,G]}),e[36]=X,e[37]=G,e[38]=R):R=e[38],O=P.length>0&&P[0]&&f.jsx("text",{x:u-10,y:18,fontSize:9,fill:r?"#5eead4":"#115e59",textAnchor:"end",children:P[0].length>18?P[0].slice(0,16)+"":P[0]}),e[2]=p.bg,e[3]=p.border,e[4]=p.text,e[5]=h,e[6]=r,e[7]=s,e[8]=i.metadata.name,e[9]=v.rules,e[10]=u,e[11]=a,e[12]=c,e[13]=b,e[14]=x,e[15]=S,e[16]=k,e[17]=C,e[18]=N,e[19]=R,e[20]=O}else b=e[13],x=e[14],S=e[15],k=e[16],C=e[17],N=e[18],R=e[19],O=e[20];const E=h-12,D=r?"#e5e7eb":"#1f2937";let B;e[39]!==b||e[40]!==D||e[41]!==E?(B=f.jsx("text",{x:10,y:E,fontSize:12,fontWeight:600,fill:D,children:b}),e[39]=b,e[40]=D,e[41]=E,e[42]=B):B=e[42];let q;return e[43]!==B||e[44]!==x||e[45]!==S||e[46]!==k||e[47]!==C||e[48]!==N||e[49]!==R||e[50]!==O?(q=f.jsxs("g",{transform:x,onClick:S,style:k,className:C,children:[N,R,O,B]}),e[43]=B,e[44]=x,e[45]=S,e[46]=k,e[47]=C,e[48]=N,e[49]=R,e[50]=O,e[51]=q):q=e[51],q}function Soe(t){return t.host}function koe(t){const e=De.c(55),{node:n,onClick:s,isDarkMode:r}=t,{resource:i,x:a,y:c,width:u,height:h}=n;let m;e[0]!==r?(m=Il("NetworkPolicy",r),e[0]=r,e[1]=m):m=e[1];const p=m,y=rh.NetworkPolicy,v=i.spec;let b;e[2]!==v.policyTypes?(b=v.policyTypes||[],e[2]=v.policyTypes,e[3]=b):b=e[3];const x=b;let S;e[4]!==x||e[5]!==v.ingress?(S=x.includes("Ingress")||v.ingress,e[4]=x,e[5]=v.ingress,e[6]=S):S=e[6];const k=S;let C;e[7]!==x||e[8]!==v.egress?(C=x.includes("Egress")||v.egress,e[7]=x,e[8]=v.egress,e[9]=C):C=e[9];const N=C;let R;e[10]!==v.ingress?(R=v.ingress||[],e[10]=v.ingress,e[11]=R):R=e[11];const O=R;let E;e[12]!==v.egress?(E=v.egress||[],e[12]=v.egress,e[13]=E):E=e[13];const D=E,B=k&&O.length===0,q=N&&D.length===0,P=B&&q,W=Math.floor((u-20)/6.5),z=i.metadata.name.length>W?i.metadata.name.slice(0,W-2)+"":i.metadata.name;let K;e[14]!==q||e[15]!==D||e[16]!==N||e[17]!==k||e[18]!==B||e[19]!==O||e[20]!==P?(K=()=>{const jt=[];return P?" Deny All":(B?jt.push(" No Ingress"):k&&O.length>0&&jt.push(`${O.length}`),q?jt.push(" No Egress"):N&&D.length>0&&jt.push(`${D.length}`),jt.join(" ")||" Allow")},e[14]=q,e[15]=D,e[16]=N,e[17]=k,e[18]=B,e[19]=O,e[20]=P,e[21]=K):K=e[21];const X=K,G=`translate(${a}, ${c})`;let I;e[22]!==s?(I=jt=>{jt.stopPropagation(),s()},e[22]=s,e[23]=I):I=e[23];let Y;e[24]===Symbol.for("react.memo_cache_sentinel")?(Y={cursor:"pointer"},e[24]=Y):Y=e[24];const Q=P?r?"#7f1d1d":"#fef2f2":p.bg,$=P?r?"#f87171":"#ef4444":p.border;let A;e[25]!==h||e[26]!==Q||e[27]!==$||e[28]!==u?(A=f.jsx("rect",{width:u,height:h,rx:8,fill:Q,stroke:$,strokeWidth:2}),e[25]=h,e[26]=Q,e[27]=$,e[28]=u,e[29]=A):A=e[29];const M=P?r?"#f87171":"#ef4444":p.text;let H;e[30]!==M?(H={color:M},e[30]=M,e[31]=H):H=e[31];let T;e[32]===Symbol.for("react.memo_cache_sentinel")?(T=f.jsx(y,{size:16}),e[32]=T):T=e[32];let J;e[33]!==H?(J=f.jsx("foreignObject",{width:18,height:18,children:f.jsx("div",{style:H,children:T})}),e[33]=H,e[34]=J):J=e[34];const ne=P?r?"#f87171":"#ef4444":p.text;let Z;e[35]!==ne?(Z=f.jsx("text",{x:22,y:13,fontSize:10,fill:ne,fontWeight:600,children:"NetworkPolicy"}),e[35]=ne,e[36]=Z):Z=e[36];let oe;e[37]!==J||e[38]!==Z?(oe=f.jsxs("g",{transform:"translate(10, 10)",children:[J,Z]}),e[37]=J,e[38]=Z,e[39]=oe):oe=e[39];const ke=u-10,Se=P?r?"#fca5a5":"#dc2626":r?"#fcd34d":"#92400e",Ge=X();let $e;e[40]!==ke||e[41]!==Se||e[42]!==Ge?($e=f.jsx("text",{x:ke,y:18,fontSize:9,fill:Se,textAnchor:"end",fontWeight:500,children:Ge}),e[40]=ke,e[41]=Se,e[42]=Ge,e[43]=$e):$e=e[43];const it=h-12,qe=r?"#e5e7eb":"#1f2937";let Qe;e[44]!==z||e[45]!==it||e[46]!==qe?(Qe=f.jsx("text",{x:10,y:it,fontSize:12,fontWeight:600,fill:qe,children:z}),e[44]=z,e[45]=it,e[46]=qe,e[47]=Qe):Qe=e[47];let Ot;return e[48]!==A||e[49]!==oe||e[50]!==$e||e[51]!==Qe||e[52]!==G||e[53]!==I?(Ot=f.jsxs("g",{transform:G,onClick:I,style:Y,className:"hover:opacity-80 transition-opacity",children:[A,oe,$e,Qe]}),e[48]=A,e[49]=oe,e[50]=$e,e[51]=Qe,e[52]=G,e[53]=I,e[54]=Ot):Ot=e[54],Ot}function Coe(t){const e=t.metadata.labels||{};return e["app.kubernetes.io/instance"]||e.release||e.app||e["app.kubernetes.io/name"]||e["k8s-app"]||e.name||e["app.kubernetes.io/component"]||e["app.kubernetes.io/part-of"]}const Noe={Deployment:1,StatefulSet:2,DaemonSet:3,CronJob:4,Job:5,Pod:6};function Eoe(t){const e=new Map;t.forEach($=>{$.metadata.uid&&e.set($.metadata.uid,$)});const n=new Map,s=new Map,r=($,A)=>{n.has($)||n.set($,new Set),n.has(A)||n.set(A,new Set),n.get($).add(A),n.get(A).add($)},i=($,A,M)=>{const H=`${$}-${A}`;s.has(H)||s.set(H,[]),s.get(H).push({from:$,to:A,type:M})},a=new Map,c=new Map;t.forEach($=>{const A=($.metadata.ownerReferences||[]).filter(M=>e.has(M.uid));if(A.length>0){const M=A[0];c.set($.metadata.uid,M.uid),a.has(M.uid)||a.set(M.uid,[]),a.get(M.uid).push($.metadata.uid),r($.metadata.uid,M.uid),i(M.uid,$.metadata.uid,"owner")}});const u=["Deployment","StatefulSet","DaemonSet","Job"];t.forEach($=>{if(!u.includes($.kind))return;const A=$.spec?.selector?.matchLabels;!A||Object.keys(A).length===0||t.filter(M=>M.kind==="Pod"&&M.metadata.namespace===$.metadata.namespace).forEach(M=>{const H=M.metadata.labels||{};Object.entries(A).every(([T,J])=>H[T]===J)&&r($.metadata.uid,M.metadata.uid)})});const h=new Map,m=new Map,p=new Set;t.filter($=>$.kind==="Pod").forEach($=>{const A=$.metadata.ownerReferences?.[0];if(!A)return;if(A.kind==="Node"){p.add($.metadata.uid);return}const M=e.get(A.uid);if(M){if(u.includes(M.kind)){h.has(M.metadata.uid)||h.set(M.metadata.uid,[]),h.get(M.metadata.uid).push($),m.set($.metadata.uid,M.metadata.uid);return}if(M.kind==="ReplicaSet"){const H=M.metadata.ownerReferences?.[0];if(H){const T=e.get(H.uid);T&&T.kind==="Deployment"&&(h.has(T.metadata.uid)||h.set(T.metadata.uid,[]),h.get(T.metadata.uid).push($),m.set($.metadata.uid,T.metadata.uid))}}}}),h.forEach($=>{$.sort((A,M)=>A.metadata.name.localeCompare(M.metadata.name))}),t.forEach($=>{if($.kind!=="Service")return;const A=$.spec?.selector;!A||Object.keys(A).length===0||t.filter(M=>M.kind==="Pod"&&M.metadata.namespace===$.metadata.namespace).forEach(M=>{const H=M.metadata.labels||{};Object.entries(A).every(([T,J])=>H[T]===J)&&(r($.metadata.uid,M.metadata.uid),i($.metadata.uid,M.metadata.uid,"service"))})}),t.forEach($=>{if($.kind!=="NetworkPolicy")return;const A=$.spec,M=$.metadata.namespace||"",H=A.podSelector?.matchLabels||{},T=Object.keys(H).length===0;t.filter(J=>J.kind==="Pod"&&J.metadata.namespace===M).forEach(J=>{const ne=J.metadata.labels||{};if(T||Object.entries(H).every(([oe,ke])=>ne[oe]===ke)){const oe=m.get(J.metadata.uid);i(oe||J.metadata.uid,$.metadata.uid,"network-policy")}})});const y=new Map;t.forEach($=>{if($.kind==="Service"){const A=`${$.metadata.namespace||""}/${$.metadata.name}`;y.set(A,$)}}),t.forEach($=>{if($.kind!=="Ingress")return;const A=$.spec,M=$.metadata.namespace||"";if(A.defaultBackend?.service?.name){const H=y.get(`${M}/${A.defaultBackend.service.name}`);H&&(r($.metadata.uid,H.metadata.uid),i($.metadata.uid,H.metadata.uid,"ingress"))}A.rules?.forEach(H=>{H.http?.paths?.forEach(T=>{if(T.backend?.service?.name){const J=y.get(`${M}/${T.backend.service.name}`);J&&(r($.metadata.uid,J.metadata.uid),i($.metadata.uid,J.metadata.uid,"ingress"))}})})}),t.forEach($=>{if($.kind!=="HTTPRoute"&&$.kind!=="GRPCRoute")return;const A=$.spec,M=$.metadata.namespace||"";A.parentRefs?.forEach(H=>{if(!H.kind||H.kind==="Gateway"){const T=t.find(J=>J.kind==="Gateway"&&J.metadata.name===H.name&&J.metadata.namespace===M);T&&(r(T.metadata.uid,$.metadata.uid),i(T.metadata.uid,$.metadata.uid,"gateway"))}}),A.rules?.forEach(H=>{H.backendRefs?.forEach(T=>{if(!T.kind||T.kind==="Service"){const J=y.get(`${M}/${T.name}`);J&&(r($.metadata.uid,J.metadata.uid),i($.metadata.uid,J.metadata.uid,"gateway"))}})})});const v=new Map,b=new Map,x=new Map;t.forEach($=>{const A=`${$.metadata.namespace||""}/${$.metadata.name}`;$.kind==="ConfigMap"?v.set(A,$):$.kind==="Secret"?b.set(A,$):$.kind==="PersistentVolumeClaim"&&x.set(A,$)});const S=($,A,M)=>{$?.forEach(H=>{H.env?.forEach(T=>{T.valueFrom?.configMapKeyRef?.name&&A.add(T.valueFrom.configMapKeyRef.name),T.valueFrom?.secretKeyRef?.name&&M.add(T.valueFrom.secretKeyRef.name)}),H.envFrom?.forEach(T=>{T.configMapRef?.name&&A.add(T.configMapRef.name),T.secretRef?.name&&M.add(T.secretRef.name)})})},k=new Map;t.filter($=>$.kind==="Pod").forEach($=>{const A=m.get($.metadata.uid);if(!A)return;const M=$.spec,H=new Set,T=new Set,J=new Set;M.volumes?.forEach(Z=>{Z.configMap?.name&&H.add(Z.configMap.name),Z.secret?.secretName&&T.add(Z.secret.secretName),Z.persistentVolumeClaim?.claimName&&J.add(Z.persistentVolumeClaim.claimName),Z.projected?.sources?.forEach(oe=>{oe.configMap?.name&&H.add(oe.configMap.name),oe.secret?.name&&T.add(oe.secret.name)})}),S(M.containers,H,T),S(M.initContainers,H,T),k.has(A)||k.set(A,new Map);const ne=k.get(A);H.size>0&&(ne.has("ConfigMap")||ne.set("ConfigMap",new Set),H.forEach(Z=>ne.get("ConfigMap").add(Z))),T.size>0&&(ne.has("Secret")||ne.set("Secret",new Set),T.forEach(Z=>ne.get("Secret").add(Z))),J.size>0&&(ne.has("PersistentVolumeClaim")||ne.set("PersistentVolumeClaim",new Set),J.forEach(Z=>ne.get("PersistentVolumeClaim").add(Z)))});const C=$=>{const A=c.get($);return A?C(A):$},N=new Map,R=new Map,O=new Map;t.forEach($=>{if($.kind!=="Pod")return;const A=$.metadata.namespace||"",M=C($.metadata.uid),H=$.spec,T=new Set,J=new Set,ne=new Set;H.volumes?.forEach(Z=>{Z.configMap?.name&&T.add(Z.configMap.name),Z.secret?.secretName&&J.add(Z.secret.secretName),Z.persistentVolumeClaim?.claimName&&ne.add(Z.persistentVolumeClaim.claimName),Z.projected?.sources?.forEach(oe=>{oe.configMap?.name&&T.add(oe.configMap.name),oe.secret?.name&&J.add(oe.secret.name)})}),S(H.containers,T,J),S(H.initContainers,T,J),T.forEach(Z=>{const oe=`${A}/${Z}`;N.has(oe)||N.set(oe,new Set),N.get(oe).add(M)}),J.forEach(Z=>{const oe=`${A}/${Z}`;R.has(oe)||R.set(oe,new Set),R.get(oe).add(M)}),ne.forEach(Z=>{const oe=`${A}/${Z}`;O.has(oe)||O.set(oe,new Set),O.get(oe).add(M)})});const E=new Set;N.forEach(($,A)=>{if($.size>1){const M=v.get(A);M&&E.add(M.metadata.uid)}}),R.forEach(($,A)=>{if($.size>1){const M=b.get(A);M&&E.add(M.metadata.uid)}}),O.forEach(($,A)=>{if($.size>1){const M=x.get(A);M&&E.add(M.metadata.uid)}}),t.forEach($=>{if($.kind!=="Pod")return;const A=$.metadata.namespace||"",M=$.spec,H=new Set,T=new Set,J=new Set;M.volumes?.forEach(ne=>{ne.configMap?.name&&H.add(ne.configMap.name),ne.secret?.secretName&&T.add(ne.secret.secretName),ne.persistentVolumeClaim?.claimName&&J.add(ne.persistentVolumeClaim.claimName),ne.projected?.sources?.forEach(Z=>{Z.configMap?.name&&H.add(Z.configMap.name),Z.secret?.name&&T.add(Z.secret.name)})}),S(M.containers,H,T),S(M.initContainers,H,T),H.forEach(ne=>{const Z=v.get(`${A}/${ne}`);Z&&!E.has(Z.metadata.uid)&&(r($.metadata.uid,Z.metadata.uid),i(Z.metadata.uid,$.metadata.uid,"owner"))}),T.forEach(ne=>{const Z=b.get(`${A}/${ne}`);Z&&!E.has(Z.metadata.uid)&&(r($.metadata.uid,Z.metadata.uid),i(Z.metadata.uid,$.metadata.uid,"owner"))}),J.forEach(ne=>{const Z=x.get(`${A}/${ne}`);Z&&!E.has(Z.metadata.uid)&&(r($.metadata.uid,Z.metadata.uid),i(Z.metadata.uid,$.metadata.uid,"owner"))})});const D=new Set,B=[];function q($,A){D.has($)||p.has($)||(D.add($),A.push($),(n.get($)||new Set).forEach(M=>q(M,A)))}t.forEach($=>{if(!p.has($.metadata.uid)&&!D.has($.metadata.uid)){const A=[];q($.metadata.uid,A),A.length>0&&B.push(A)}}),B.sort(($,A)=>A.length-$.length);const P=[],W={Gateway:0,Ingress:0,HTTPRoute:1,GRPCRoute:1,Service:2,Deployment:3,StatefulSet:3,DaemonSet:3,Job:3,CronJob:3,Pod:3,ConfigMap:4,Secret:4,PersistentVolumeClaim:4,NetworkPolicy:5};B.forEach(($,A)=>{const M=$.map(Ye=>e.get(Ye)).filter(Boolean);if(M.length===0)return;const H=M.filter(Ye=>!(Ye.kind==="ReplicaSet"||Ye.kind==="Pod"&&m.has(Ye.metadata.uid)||["ConfigMap","Secret","PersistentVolumeClaim"].includes(Ye.kind)));if(H.length===0)return;const T=new Map;H.forEach(Ye=>{const tt=W[Ye.kind]??3;T.has(tt)||T.set(tt,[]),T.get(tt).push(Ye.metadata.uid)}),T.forEach(Ye=>{Ye.sort((tt,je)=>{const Le=e.get(tt),Ct=e.get(je);return Le.metadata.name.localeCompare(Ct.metadata.name)})});const J=new Map;H.forEach(Ye=>{if(["Service","Gateway","HTTPRoute","GRPCRoute"].includes(Ye.kind)){J.set(Ye.metadata.uid,{width:PO,height:PO});return}const tt=h.get(Ye.metadata.uid);if(tt&&tt.length>0){const je=k.get(Ye.metadata.uid);let Le=0;je&&je.forEach(re=>Le+=re.size);const Ct=Zy+ju*2,fe=Math.min(Le,Kf),xe=fe>0?fe*(ba+Eo)-Eo+ju*2:0,Ze=Math.max(Ct,xe),rt=Le>0?Math.ceil(Le/Kf):0,pt=rt>0?rt*(ba+Eo)+Eo:0,ln=h2+tt.length*(El+T0)-T0+ju+pt;J.set(Ye.metadata.uid,{width:Ze,height:ln})}else J.set(Ye.metadata.uid,{width:$d,height:pw})});const ne=new Map;let Z=0,oe=mo+$O;const ke=Array.from(T.keys()).sort((Ye,tt)=>Ye-tt),Se=new Map;ke.forEach(Ye=>{const tt=Math.max(...(T.get(Ye)||[]).map(je=>J.get(je)?.width||$d));Se.set(Ye,tt)});let Ge=mo;ke.forEach(Ye=>{const tt=Se.get(Ye)||$d;let je=mo+$O;T.get(Ye).forEach(Le=>{const Ct=J.get(Le)||{width:$d,height:pw},fe=(tt-Ct.width)/2;ne.set(Le,{x:Ge+fe,y:je}),oe=Math.max(oe,je+Ct.height),je+=Ct.height+moe}),Z=Math.max(Z,Ge+tt),Ge+=tt+poe});const $e=Z+mo,it=oe+mo,qe=H.map(Ye=>{const tt=ne.get(Ye.metadata.uid),je=J.get(Ye.metadata.uid)||{width:$d,height:pw},Ct=h.get(Ye.metadata.uid)?.map((Ze,rt)=>({uid:Ze.metadata.uid,resource:Ze,x:ju,y:h2+rt*(El+T0),width:Zy,height:El})),fe=k.get(Ye.metadata.uid),xe=[];return fe&&fe.forEach((Ze,rt)=>{Ze.forEach(pt=>xe.push({kind:rt,name:pt}))}),{uid:Ye.metadata.uid,resource:Ye,x:tt.x,y:tt.y,width:je.width,height:je.height,childPods:Ct,configIcons:xe}}),Qe=[],Ot=new Set,jt=new Set;H.forEach(Ye=>{const tt=h.get(Ye.metadata.uid);tt&&tt.forEach(je=>jt.add(je.metadata.uid))}),s.forEach(Ye=>{Ye.forEach(tt=>{const je=H.some(xe=>xe.metadata.uid===tt.from),Le=H.some(xe=>xe.metadata.uid===tt.to),Ct=jt.has(tt.to),fe=jt.has(tt.from);if(je&&Le||je&&Ct||Le&&fe){const xe=`${tt.from}-${tt.to}-${tt.type}`;Ot.has(xe)||(Ot.add(xe),Qe.push(tt))}})});let an,on=1/0;H.forEach(Ye=>{const tt=Noe[Ye.kind];tt!==void 0&&tt<on&&(on=tt,an=Ye)});const qt=an?Coe(an)||an.metadata.name:void 0,Zt=an?.metadata.namespace;P.push({id:`app-${A}`,name:qt||"",namespace:Zt,nodes:qe,edges:Qe,x:0,y:0,width:$e,height:it})});const z=new Map;P.forEach($=>{const A=$.namespace||"",M=$.name||"",H=`${A}/${M}`;z.has(H)||z.set(H,[]),z.get(H).push($)});const K=[];z.forEach(($,A)=>{if($.length===1)K.push($[0]);else{$.sort((oe,ke)=>{const Se=oe.nodes[0]?.resource.metadata.name||"",Ge=ke.nodes[0]?.resource.metadata.name||"";return Se.localeCompare(Ge)});const M=[],H=[];let T=mo,J=0;$.forEach(oe=>{oe.nodes.forEach(ke=>{M.push({...ke,x:ke.x+T-mo,y:ke.y})}),H.push(...oe.edges),T+=oe.width+n0,J=Math.max(J,oe.height)});const[ne,Z]=A.split("/");K.push({id:`app-${A}`,name:Z,namespace:ne,nodes:M,edges:H,x:0,y:0,width:T-n0+mo,height:J})}}),K.sort(($,A)=>A.height-$.height);const X=1800;let G=0,I=[];const Y=[];K.forEach($=>{G+$.width>X&&I.length>0&&(Y.push([...I]),G=0,I=[]),I.push({app:$,tempX:G}),G+=$.width+n0}),I.length>0&&Y.push(I);let Q=0;return Y.forEach($=>{const A=Math.max(...$.map(M=>M.app.height));$.forEach(({app:M,tempX:H})=>{const T=H,J=Q+(A-M.height)/2;M.nodes.forEach(ne=>{ne.x+=T,ne.y+=J}),M.x=T,M.y=J}),Q+=A+n0}),K}const Aoe=5e3;function yP(t,e,n){const s=De.c(13);let r;s[0]!==n?(r=n===void 0?{}:n,s[0]=n,s[1]=r):r=s[1];const i=r,{refetchInterval:a,enabled:c}=i,u=a===void 0?Aoe:a,h=c===void 0?!0:c,m=u>0?u:!1;let p;s[2]!==h||s[3]!==e||s[4]!==t||s[5]!==m?(p={queryKey:t,queryFn:e,refetchInterval:m,enabled:h},s[2]=h,s[3]=e,s[4]=t,s[5]=m,s[6]=p):p=s[6];const v=J0(p),b=v.data??null,x=v.isFetching&&!v.isLoading;let S;return s[7]!==v.error||s[8]!==v.isLoading||s[9]!==v.refetch||s[10]!==b||s[11]!==x?(S={data:b,loading:v.isLoading,error:v.error,refetch:v.refetch,isRefetching:x},s[7]=v.error,s[8]=v.isLoading,s[9]=v.refetch,s[10]=b,s[11]=x,s[12]=S):S=s[12],S}function RN(){const t=De.c(9);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=new Set,t[0]=e):e=t[0];const[n,s]=V.useState(e);let r;t[1]!==n?(r=v=>n.has(v),t[1]=n,t[2]=r):r=t[2];const i=r;let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=v=>{s(b=>{const x=new Set(b);return x.add(v),x})},t[3]=a):a=t[3];const c=a;let u;t[4]===Symbol.for("react.memo_cache_sentinel")?(u=v=>{s(b=>{const x=new Set(b);return x.delete(v),x})},t[4]=u):u=t[4];const h=u;let m;t[5]===Symbol.for("react.memo_cache_sentinel")?(m=v=>{s(b=>{const x=new Set(b);return x.has(v)?x.delete(v):x.add(v),x})},t[5]=m):m=t[5];const p=m;let y;return t[6]!==i||t[7]!==n?(y={openPanels:n,isOpen:i,open:c,close:h,toggle:p},t[6]=i,t[7]=n,t[8]=y):y=t[8],y}const joe=["selector","containers","images","labels","annotations","nominated node","readiness gates","node selector"];function Toe(){const t=De.c(3),[e,n]=V.useState(Roe);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=a=>{const c=a.toLowerCase();n(u=>{const h=new Set(u);return h.has(c)?h.delete(c):h.add(c),h})},t[0]=s):s=t[0];const r=s;let i;return t[1]!==e?(i={hiddenColumns:e,toggleColumn:r},t[1]=e,t[2]=i):i=t[2],i}function Roe(){return new Set(joe)}function UO(t){return t?.metadata?.uid?t.metadata.uid:t?.Id?t.Id:t?.Name?t.Name:JSON.stringify(t)}function mw(t){if(t?.metadata?.namespace)return t.metadata.namespace}function Ooe(t,e){return t==null?"<none>":e.format==="date-time"&&typeof t=="string"?Moe(t):Array.isArray(t)?t.length>0?t.join(", "):"<none>":typeof t=="object"?JSON.stringify(t):String(t)}function Moe(t){const e=new Date(t),s=new Date().getTime()-e.getTime(),r=Math.floor(s/1e3),i=Math.floor(r/60),a=Math.floor(i/60),c=Math.floor(a/24);return c>0?`${c}d`:a>0?`${a}h`:i>0?`${i}m`:`${r}s`}function Doe(t){const e=t.name.toLowerCase();return e==="status"||e==="phase"||e==="ready"||e==="condition"}function Boe(t){const e=De.c(77),{config:n,data:s,loading:r,error:i,refetch:a,isRefetching:c,hiddenColumns:u,onColumnsLoaded:h,selectedItem:m,onSelectItem:p,namespace:y}=t,v=c===void 0?!1:c;let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b={column:null,direction:null},e[0]=b):b=e[0];const[x,S]=V.useState(b),k=y===void 0&&n.namespaced===!0;let C;e[1]===Symbol.for("react.memo_cache_sentinel")?(C={name:"Namespace",type:"string",format:"",description:"Namespace of the resource",priority:0},e[1]=C):C=e[1];const N=C;let R;if(e[2]!==s||e[3]!==u||e[4]!==k){e:{if(!s?.columnDefinitions){let M;e[6]===Symbol.for("react.memo_cache_sentinel")?(M=[],e[6]=M):M=e[6],R=M;break e}let $;e[7]!==u?($=M=>!u.has(M.name.toLowerCase()),e[7]=u,e[8]=$):$=e[8];const A=s.columnDefinitions.filter($);if(k&&!u.has("namespace")){const M=A.findIndex(Loe);if(M!==-1){R=[...A.slice(0,M+1),N,...A.slice(M+1)];break e}}R=A}e[2]=s,e[3]=u,e[4]=k,e[5]=R}else R=e[5];const O=R;let E;e:{if(!s?.rows||!x.column||!x.direction){let J;e[9]!==s?.rows?(J=s?.rows??[],e[9]=s?.rows,e[10]=J):J=e[10],E=J;break e}if(x.column==="Namespace"&&k){let J;if(e[11]!==s.rows||e[12]!==x.direction){let ne;e[14]!==x.direction?(ne=(Z,oe)=>{const ke=mw(Z.object)||"",Se=mw(oe.object)||"",Ge=ke.localeCompare(Se);return x.direction==="asc"?Ge:-Ge},e[14]=x.direction,e[15]=ne):ne=e[15],J=[...s.rows].sort(ne),e[11]=s.rows,e[12]=x.direction,e[13]=J}else J=e[13];E=J;break e}let A;if(e[16]!==s.columnDefinitions||e[17]!==x.column){let J;e[19]!==x.column?(J=ne=>ne.name===x.column,e[19]=x.column,e[20]=J):J=e[20],A=s.columnDefinitions.findIndex(J),e[16]=s.columnDefinitions,e[17]=x.column,e[18]=A}else A=e[18];const M=A;if(M===-1){E=s.rows;break e}const H=s.columnDefinitions[M];let T;if(e[21]!==H||e[22]!==M||e[23]!==s.rows||e[24]!==x.direction){let J;e[26]!==H||e[27]!==M||e[28]!==x.direction?(J=(ne,Z)=>{const oe=ne.cells[M],ke=Z.cells[M];if(oe==null&&ke==null)return 0;if(oe==null)return x.direction==="asc"?-1:1;if(ke==null)return x.direction==="asc"?1:-1;let Se;if(H.format==="date-time"){const Ge=new Date(String(oe)).getTime(),$e=new Date(String(ke)).getTime();Se=Ge-$e}else typeof oe=="number"&&typeof ke=="number"?Se=oe-ke:Se=String(oe).localeCompare(String(ke));return x.direction==="asc"?Se:-Se},e[26]=H,e[27]=M,e[28]=x.direction,e[29]=J):J=e[29],T=[...s.rows].sort(J),e[21]=H,e[22]=M,e[23]=s.rows,e[24]=x.direction,e[25]=T}else T=e[25];E=T}const D=E;let B;e[30]===Symbol.for("react.memo_cache_sentinel")?(B=$=>{S(A=>A.column!==$?{column:$,direction:"asc"}:A.direction==="asc"?{column:$,direction:"desc"}:{column:null,direction:null})},e[30]=B):B=e[30];const q=B;let P,W;if(e[31]!==s||e[32]!==h?(P=()=>{s?.columnDefinitions&&h&&h(s.columnDefinitions)},W=[s,h],e[31]=s,e[32]=h,e[33]=P,e[34]=W):(P=e[33],W=e[34]),V.useEffect(P,W),r){let $;e[35]===Symbol.for("react.memo_cache_sentinel")?($=f.jsx("div",{className:"w-6 h-6 border-2 border-neutral-200 border-t-neutral-400 dark:border-neutral-700 dark:border-t-neutral-500 rounded-full animate-spin"}),e[35]=$):$=e[35];let A;return e[36]!==n.name?(A=f.jsx("div",{className:"h-full flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center gap-3 text-neutral-400 dark:text-neutral-500",children:[$,f.jsxs("span",{className:"text-sm",children:["Loading ",n.name,"..."]})]})}),e[36]=n.name,e[37]=A):A=e[37],A}if(i){let $;e[38]===Symbol.for("react.memo_cache_sentinel")?($=f.jsx(iy,{size:18}),e[38]=$):$=e[38];let A;e[39]!==i.message?(A=f.jsx("span",{className:"text-sm",children:i.message}),e[39]=i.message,e[40]=A):A=e[40];let M;e[41]!==a?(M=f.jsx("button",{onClick:a,className:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 underline underline-offset-2",children:"Retry"}),e[41]=a,e[42]=M):M=e[42];let H;return e[43]!==A||e[44]!==M?(H=f.jsx("div",{className:"h-full flex items-center justify-center",children:f.jsxs("div",{className:"flex items-center gap-3 text-red-500 dark:text-red-400",children:[$,A,M]})}),e[43]=A,e[44]=M,e[45]=H):H=e[45],H}if(!s||!s.columnDefinitions||s.rows.length===0){let $;return e[46]===Symbol.for("react.memo_cache_sentinel")?($=f.jsx("div",{className:"h-full flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center text-neutral-400 dark:text-neutral-500",children:[f.jsx("svg",{className:"w-8 h-8 mb-2 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),f.jsx("span",{className:"text-sm",children:"No resources found"})]})}),e[46]=$):$=e[46],$}let z;e[47]!==v?(z=v&&f.jsx("div",{className:"absolute top-2 right-4 z-20",children:f.jsx(Ln,{size:14,className:"text-neutral-400 dark:text-neutral-500 animate-spin"})}),e[47]=v,e[48]=z):z=e[48];let K;if(e[49]!==x||e[50]!==O){let $;e[52]!==x?($=(A,M)=>{const H=x.column===A.name;return f.jsx("th",{title:A.description,onClick:()=>q(A.name),className:`text-left px-4 py-2 text-[11px] font-medium whitespace-nowrap cursor-pointer transition-colors select-none group bg-neutral-100 dark:bg-neutral-950 ${H?"text-neutral-900 dark:text-neutral-200":"text-neutral-500 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-400"}`,children:f.jsxs("div",{className:"flex items-center gap-1",children:[A.name,f.jsx("span",{className:`transition-opacity ${H?"opacity-100":"opacity-0 group-hover:opacity-40"}`,children:H&&x.direction==="asc"?f.jsx(RW,{size:12}):H&&x.direction==="desc"?f.jsx(ps,{size:12}):f.jsx(MW,{size:12})})]})},M)},e[52]=x,e[53]=$):$=e[53],K=O.map($),e[49]=x,e[50]=O,e[51]=K}else K=e[51];let X;e[54]!==K?(X=f.jsx("thead",{className:"sticky top-0 z-10 bg-neutral-100 dark:bg-neutral-950",children:f.jsx("tr",{children:K})}),e[54]=K,e[55]=X):X=e[55];let G;if(e[56]!==s||e[57]!==p||e[58]!==m||e[59]!==k||e[60]!==D||e[61]!==O){let $;e[63]!==s||e[64]!==p||e[65]!==m||e[66]!==k||e[67]!==O?($=(A,M)=>{const H=UO(A.object),J=(m?UO(m.object):null)===H,ne=M%2===1;return f.jsx("tr",{onClick:()=>p?.(J?null:A),className:`transition-colors cursor-pointer ${J?"bg-blue-500/20 dark:bg-blue-500/20":ne?"bg-neutral-200/40 dark:bg-neutral-800/30 hover:bg-neutral-200/70 dark:hover:bg-neutral-800/50":"hover:bg-neutral-200/50 dark:hover:bg-neutral-800/30"}`,children:O.map((Z,oe)=>{const ke=Z.name==="Namespace"&&k,Se=ke?-1:s.columnDefinitions.findIndex(qe=>qe.name===Z.name),Ge=ke?mw(A.object):A.cells[Se],$e=Ooe(Ge,Z),it=Z.name.toLowerCase()==="name";return Doe(Z)?f.jsx("td",{className:`px-4 py-2 whitespace-nowrap ${oe===0?"rounded-l-lg":""} ${oe===O.length-1?"rounded-r-lg":""}`,children:f.jsxs("span",{className:`inline-flex items-center gap-1.5 text-xs font-medium capitalize ${$e.toLowerCase().match(/running|active|ready|available|bound|succeeded|complete|healthy|true/)?"text-emerald-600 dark:text-emerald-400":$e.toLowerCase().match(/pending|creating|waiting|progressing|scheduled/)?"text-amber-600 dark:text-amber-400":$e.toLowerCase().match(/failed|error|crashloopbackoff|terminated|unknown|lost|false/)?"text-red-600 dark:text-red-400":"text-neutral-500 dark:text-neutral-400"}`,children:[f.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${$e.toLowerCase().match(/running|active|ready|available|bound|succeeded|complete|healthy|true/)?"bg-emerald-500":$e.toLowerCase().match(/pending|creating|waiting|progressing|scheduled/)?"bg-amber-500":$e.toLowerCase().match(/failed|error|crashloopbackoff|terminated|unknown|lost|false/)?"bg-red-500":"bg-neutral-400"}`}),$e]})},oe):f.jsx("td",{className:`px-4 py-2 whitespace-nowrap ${oe===0?"rounded-l-lg":""} ${oe===O.length-1?"rounded-r-lg":""} ${it?"text-neutral-900 dark:text-neutral-300":"text-neutral-500 dark:text-neutral-500"}`,children:$e},oe)})},H)},e[63]=s,e[64]=p,e[65]=m,e[66]=k,e[67]=O,e[68]=$):$=e[68],G=D.map($),e[56]=s,e[57]=p,e[58]=m,e[59]=k,e[60]=D,e[61]=O,e[62]=G}else G=e[62];let I;e[69]!==G?(I=f.jsx("tbody",{children:G}),e[69]=G,e[70]=I):I=e[70];let Y;e[71]!==X||e[72]!==I?(Y=f.jsx("div",{className:"overflow-auto h-full",children:f.jsxs("table",{className:"w-full text-[13px]",children:[X,I]})}),e[71]=X,e[72]=I,e[73]=Y):Y=e[73];let Q;return e[74]!==Y||e[75]!==z?(Q=f.jsxs("div",{className:"pl-2 h-full relative",children:[z,Y]}),e[74]=Y,e[75]=z,e[76]=Q):Q=e[76],Q}function Loe(t){return t.name.toLowerCase()==="name"}function Ioe(t){const e=De.c(19),{columns:n,hiddenColumns:s,onToggleColumn:r}=t,[i,a]=V.useState(!1),c=V.useRef(null);let u,h;e[0]!==i?(u=()=>{if(!i)return;const k=function(N){c.current&&!c.current.contains(N.target)&&a(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},h=[i],e[0]=i,e[1]=u,e[2]=h):(u=e[1],h=e[2]),V.useEffect(u,h);let m,p;if(e[3]!==i?(m=()=>{if(!i)return;const k=function(N){N.key==="Escape"&&a(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},p=[i],e[3]=i,e[4]=m,e[5]=p):(m=e[4],p=e[5]),V.useEffect(m,p),n.length===0)return null;let y;e[6]!==i?(y=()=>a(!i),e[6]=i,e[7]=y):y=e[7];let v;e[8]===Symbol.for("react.memo_cache_sentinel")?(v=f.jsx(VW,{size:18}),e[8]=v):v=e[8];let b;e[9]!==y?(b=f.jsx("button",{onClick:y,className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 rounded-md transition-colors focus:outline-none",title:"Toggle columns",children:v}),e[9]=y,e[10]=b):b=e[10];let x;e[11]!==n||e[12]!==s||e[13]!==i||e[14]!==r?(x=i&&f.jsx("div",{className:"absolute right-0 z-50 mt-1 p-2 bg-white border border-neutral-300 dark:bg-neutral-900 dark:border-neutral-700 rounded-lg shadow-xl min-w-45 max-h-75 overflow-y-auto",children:n.map(k=>{const C=!s.has(k.name.toLowerCase());return f.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 cursor-pointer rounded hover:bg-neutral-100 dark:hover:bg-neutral-800",children:[f.jsx("span",{onClick:()=>r(k.name),className:`size-4 rounded border flex items-center justify-center cursor-pointer transition-colors ${C?"bg-neutral-500 border-neutral-500 dark:bg-neutral-600 dark:border-neutral-500":"border-neutral-300 bg-white dark:border-neutral-600 dark:bg-neutral-800"}`,children:C&&f.jsx(Nn,{size:12,className:"text-white dark:text-neutral-300"})}),f.jsx("span",{onClick:()=>r(k.name),className:"text-sm text-neutral-700 dark:text-neutral-400 cursor-pointer",children:k.name})]},k.name)})}),e[11]=n,e[12]=s,e[13]=i,e[14]=r,e[15]=x):x=e[15];let S;return e[16]!==b||e[17]!==x?(S=f.jsxs("div",{className:"relative",ref:c,children:[b,x]}),e[16]=b,e[17]=x,e[18]=S):S=e[18],S}const dl="detail";function vP({config:t,title:e,namespace:n,data:s,loading:r,error:i,refetch:a,isRefetching:c=!1,showDetailPanel:u=!0,renderDetailPanel:h,renderHeaderActions:m,renderExtraPanels:p,selectedItemName:y,onSelectItemName:v,getItemName:b}){const[x,S]=V.useState([]),[k,C]=V.useState(null),[N,R]=V.useState(t),[O,E]=V.useState(n),{hiddenColumns:D,toggleColumn:B}=Toe(),{isOpen:q,open:P,close:W}=RN(),z=q(dl),K=V.useRef(void 0),X=V.useRef(!1);(t!==N||n!==O)&&(R(t),E(n),C(null),W(dl),X.current=!1),V.useEffect(()=>{const Q=K.current;K.current=y,queueMicrotask(()=>{if(y&&s?.rows&&b){const $=s.rows.find(M=>b(M)===y);$&&(Q!==y||!X.current)&&(X.current=!0,C($),u&&P(dl))}else!y&&Q&&(C(null),W(dl))})},[y,s,b,u,P,W]);const G=V.useCallback(Q=>{C(Q),Q&&u?(P(dl),v&&b&&v(b(Q))):(W(dl),v&&v(void 0))},[P,W,u,v,b]),I=V.useCallback(Q=>{S(Q)},[]),Y=()=>z?"pr-[40rem]":"";return f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"flex-1 flex flex-col h-full min-w-0",children:[f.jsxs("header",{className:`shrink-0 h-14 flex items-center justify-between px-5 mt-2 transition-all duration-300 ${Y()}`,children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsx("h2",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:e})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>{const Q=new KeyboardEvent("keydown",{key:"k",metaKey:!0,ctrlKey:!0,bubbles:!0});document.dispatchEvent(Q)},className:"p-2 rounded-md text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 transition-colors",title:"Command Palette (K)",children:f.jsx(dC,{size:18})}),f.jsx(Ioe,{columns:x,hiddenColumns:D,onToggleColumn:B}),m?.(x)]})]}),f.jsx("section",{className:"flex-1 min-h-0 overflow-hidden",children:f.jsx(Boe,{config:t,data:s,loading:r,error:i,refetch:a,isRefetching:c,hiddenColumns:D,onColumnsLoaded:I,selectedItem:k,onSelectItem:G,namespace:n})})]}),p?.(k,z),h&&k&&h(k,()=>{C(null),W(dl),v&&v(void 0)},!1)]})}function ut(t,e,n,s,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function ue(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}let bP=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return bP=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};function d2(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const f2=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class st extends Error{}class vs extends st{constructor(e,n,s,r){super(`${vs.makeMessage(e,n,s)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=n;const i=n;this.code=i?.code,this.param=i?.param,this.type=i?.type}static makeMessage(e,n,s){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,s,r){if(!e||!r)return new Tb({message:s,cause:f2(n)});const i=n?.error;return e===400?new _P(e,i,s,r):e===401?new xP(e,i,s,r):e===403?new wP(e,i,s,r):e===404?new SP(e,i,s,r):e===409?new kP(e,i,s,r):e===422?new CP(e,i,s,r):e===429?new NP(e,i,s,r):e>=500?new EP(e,i,s,r):new vs(e,i,s,r)}}class Zr extends vs{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Tb extends vs{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class ON extends Tb{constructor({message:e}={}){super({message:e??"Request timed out."})}}class _P extends vs{}class xP extends vs{}class wP extends vs{}class SP extends vs{}class kP extends vs{}class CP extends vs{}class NP extends vs{}class EP extends vs{}class AP extends st{constructor(){super("Could not parse response content as the length limit was reached")}}class jP extends st{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class wf extends Error{constructor(e){super(e)}}const Poe=/^[a-z][a-z0-9+.-]*:/i,$oe=t=>Poe.test(t);let er=t=>(er=Array.isArray,er(t)),HO=er;function TP(t){return typeof t!="object"?{}:t??{}}function zoe(t){if(!t)return!0;for(const e in t)return!1;return!0}function Uoe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gw(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const Hoe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new st(`${t} must be an integer`);if(e<0)throw new st(`${t} must be a positive integer`);return e},Foe=t=>{try{return JSON.parse(t)}catch{return}},om=t=>new Promise(e=>setTimeout(e,t)),yu="6.15.0",Voe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function qoe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Koe=()=>{const t=qoe();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yu,"X-Stainless-OS":VO(Deno.build.os),"X-Stainless-Arch":FO(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yu,"X-Stainless-OS":VO(globalThis.process.platform??"unknown"),"X-Stainless-Arch":FO(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=Woe();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Woe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,i=s[2]||0,a=s[3]||0;return{browser:e,version:`${r}.${i}.${a}`}}}return null}const FO=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",VO=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let qO;const Goe=()=>qO??(qO=Koe());function Yoe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function RP(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function OP(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return RP({start(){},async pull(n){const{done:s,value:r}=await e.next();s?n.close():n.enqueue(r)},async cancel(){await e.return?.()}})}function MP(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Zoe(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const Xoe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),DP="RFC3986",BP=t=>String(t),KO={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:BP},Joe="RFC1738";let p2=(t,e)=>(p2=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),p2(t,e));const Ai=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),yw=1024,Qoe=(t,e,n,s,r)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let a="";for(let c=0;c<i.length;c+=yw){const u=i.length>=yw?i.slice(c,c+yw):i,h=[];for(let m=0;m<u.length;++m){let p=u.charCodeAt(m);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||r===Joe&&(p===40||p===41)){h[h.length]=u.charAt(m);continue}if(p<128){h[h.length]=Ai[p];continue}if(p<2048){h[h.length]=Ai[192|p>>6]+Ai[128|p&63];continue}if(p<55296||p>=57344){h[h.length]=Ai[224|p>>12]+Ai[128|p>>6&63]+Ai[128|p&63];continue}m+=1,p=65536+((p&1023)<<10|u.charCodeAt(m)&1023),h[h.length]=Ai[240|p>>18]+Ai[128|p>>12&63]+Ai[128|p>>6&63]+Ai[128|p&63]}a+=h.join("")}return a};function ele(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function WO(t,e){if(er(t)){const n=[];for(let s=0;s<t.length;s+=1)n.push(e(t[s]));return n}return e(t)}const LP={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},IP=function(t,e){Array.prototype.push.apply(t,er(e)?e:[e])};let GO;const Hn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Qoe,encodeValuesOnly:!1,format:DP,formatter:BP,indices:!1,serializeDate(t){return(GO??(GO=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function tle(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const vw={};function PP(t,e,n,s,r,i,a,c,u,h,m,p,y,v,b,x,S,k){let C=t,N=k,R=0,O=!1;for(;(N=N.get(vw))!==void 0&&!O;){const P=N.get(t);if(R+=1,typeof P<"u"){if(P===R)throw new RangeError("Cyclic object value");O=!0}typeof N.get(vw)>"u"&&(R=0)}if(typeof h=="function"?C=h(e,C):C instanceof Date?C=y?.(C):n==="comma"&&er(C)&&(C=WO(C,function(P){return P instanceof Date?y?.(P):P})),C===null){if(i)return u&&!x?u(e,Hn.encoder,S,"key",v):e;C=""}if(tle(C)||ele(C)){if(u){const P=x?e:u(e,Hn.encoder,S,"key",v);return[b?.(P)+"="+b?.(u(C,Hn.encoder,S,"value",v))]}return[b?.(e)+"="+b?.(String(C))]}const E=[];if(typeof C>"u")return E;let D;if(n==="comma"&&er(C))x&&u&&(C=WO(C,u)),D=[{value:C.length>0?C.join(",")||null:void 0}];else if(er(h))D=h;else{const P=Object.keys(C);D=m?P.sort(m):P}const B=c?String(e).replace(/\./g,"%2E"):String(e),q=s&&er(C)&&C.length===1?B+"[]":B;if(r&&er(C)&&C.length===0)return q+"[]";for(let P=0;P<D.length;++P){const W=D[P],z=typeof W=="object"&&typeof W.value<"u"?W.value:C[W];if(a&&z===null)continue;const K=p&&c?W.replace(/\./g,"%2E"):W,X=er(C)?typeof n=="function"?n(q,K):q:q+(p?"."+K:"["+K+"]");k.set(t,R);const G=new WeakMap;G.set(vw,k),IP(E,PP(z,X,n,s,r,i,a,c,n==="comma"&&x&&er(C)?null:u,h,m,p,y,v,b,x,S,G))}return E}function nle(t=Hn){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Hn.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=DP;if(typeof t.format<"u"){if(!p2(KO,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const s=KO[n];let r=Hn.filter;(typeof t.filter=="function"||er(t.filter))&&(r=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in LP?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=Hn.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Hn.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Hn.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Hn.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Hn.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Hn.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Hn.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Hn.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Hn.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Hn.encodeValuesOnly,filter:r,format:n,formatter:s,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Hn.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Hn.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Hn.strictNullHandling}}function sle(t,e={}){let n=t;const s=nle(e);let r,i;typeof s.filter=="function"?(i=s.filter,n=i("",n)):er(s.filter)&&(i=s.filter,r=i);const a=[];if(typeof n!="object"||n===null)return"";const c=LP[s.arrayFormat],u=c==="comma"&&s.commaRoundTrip;r||(r=Object.keys(n)),s.sort&&r.sort(s.sort);const h=new WeakMap;for(let y=0;y<r.length;++y){const v=r[y];s.skipNulls&&n[v]===null||IP(a,PP(n[v],v,c,u,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,h))}const m=a.join(s.delimiter);let p=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),m.length>0?p+m:""}function rle(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let s=0;for(const r of t)n.set(r,s),s+=r.length;return n}let YO;function MN(t){let e;return(YO??(e=new globalThis.TextEncoder,YO=e.encode.bind(e)))(t)}let ZO;function XO(t){let e;return(ZO??(e=new globalThis.TextDecoder,ZO=e.decode.bind(e)))(t)}var mr,gr;class Rb{constructor(){mr.set(this,void 0),gr.set(this,void 0),ut(this,mr,new Uint8Array),ut(this,gr,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?MN(e):e;ut(this,mr,rle([ue(this,mr,"f"),n]));const s=[];let r;for(;(r=ile(ue(this,mr,"f"),ue(this,gr,"f")))!=null;){if(r.carriage&&ue(this,gr,"f")==null){ut(this,gr,r.index);continue}if(ue(this,gr,"f")!=null&&(r.index!==ue(this,gr,"f")+1||r.carriage)){s.push(XO(ue(this,mr,"f").subarray(0,ue(this,gr,"f")-1))),ut(this,mr,ue(this,mr,"f").subarray(ue(this,gr,"f"))),ut(this,gr,null);continue}const i=ue(this,gr,"f")!==null?r.preceding-1:r.preceding,a=XO(ue(this,mr,"f").subarray(0,i));s.push(a),ut(this,mr,ue(this,mr,"f").subarray(r.index)),ut(this,gr,null)}return s}flush(){return ue(this,mr,"f").length?this.decode(`
`):[]}}mr=new WeakMap,gr=new WeakMap;Rb.NEWLINE_CHARS=new Set([`
`,"\r"]);Rb.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ile(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function ale(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}const Xy={off:0,error:200,warn:300,info:400,debug:500},JO=(t,e,n)=>{if(t){if(Uoe(Xy,t))return t;ls(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Xy))}`)}};function Sf(){}function s0(t,e,n){return!e||Xy[t]>Xy[n]?Sf:e[t].bind(e)}const ole={error:Sf,warn:Sf,info:Sf,debug:Sf};let QO=new WeakMap;function ls(t){const e=t.logger,n=t.logLevel??"off";if(!e)return ole;const s=QO.get(e);if(s&&s[0]===n)return s[1];const r={error:s0("error",e,n),warn:s0("warn",e,n),info:s0("info",e,n),debug:s0("debug",e,n)};return QO.set(e,[n,r]),r}const yl=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var zd;class Di{constructor(e,n,s){this.iterator=e,zd.set(this,void 0),this.controller=n,ut(this,zd,s)}static fromSSEResponse(e,n,s){let r=!1;const i=s?ls(s):console;async function*a(){if(r)throw new st("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const u of lle(e,n))if(!c){if(u.data.startsWith("[DONE]")){c=!0;continue}if(u.event===null||!u.event.startsWith("thread.")){let h;try{h=JSON.parse(u.data)}catch(m){throw i.error("Could not parse message into JSON:",u.data),i.error("From chunk:",u.raw),m}if(h&&h.error)throw new vs(void 0,h.error,void 0,e.headers);yield h}else{let h;try{h=JSON.parse(u.data)}catch(m){throw console.error("Could not parse message into JSON:",u.data),console.error("From chunk:",u.raw),m}if(u.event=="error")throw new vs(void 0,h.error,h.message,void 0);yield{event:u.event,data:h}}}c=!0}catch(u){if(d2(u))return;throw u}finally{c||n.abort()}}return new Di(a,n,s)}static fromReadableStream(e,n,s){let r=!1;async function*i(){const c=new Rb,u=MP(e);for await(const h of u)for(const m of c.decode(h))yield m;for(const h of c.flush())yield h}async function*a(){if(r)throw new st("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const u of i())c||u&&(yield JSON.parse(u));c=!0}catch(u){if(d2(u))return;throw u}finally{c||n.abort()}}return new Di(a,n,s)}[(zd=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),r=i=>({next:()=>{if(i.length===0){const a=s.next();e.push(a),n.push(a)}return i.shift()}});return[new Di(()=>r(e),this.controller,ue(this,zd,"f")),new Di(()=>r(n),this.controller,ue(this,zd,"f"))]}toReadableStream(){const e=this;let n;return RP({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:i}=await n.next();if(i)return s.close();const a=MN(JSON.stringify(r)+`
`);s.enqueue(a)}catch(r){s.error(r)}},async cancel(){await n.return?.()}})}}async function*lle(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new st("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new st("Attempted to iterate over a response with no body");const n=new ule,s=new Rb,r=MP(t.body);for await(const i of cle(r))for(const a of s.decode(i)){const c=n.decode(a);c&&(yield c)}for(const i of s.flush()){const a=n.decode(i);a&&(yield a)}}async function*cle(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?MN(n):n;let r=new Uint8Array(e.length+s.length);r.set(e),r.set(s,e.length),e=r;let i;for(;(i=ale(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class ule{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,r]=hle(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function hle(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function $P(t,e){const{response:n,requestLogID:s,retryOfRequestLogID:r,startTime:i}=e,a=await(async()=>{if(e.options.stream)return ls(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Di.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const u=n.headers.get("content-type")?.split(";")[0]?.trim();if(u?.includes("application/json")||u?.endsWith("+json")){const p=await n.json();return zP(p,n)}return await n.text()})();return ls(t).debug(`[${s}] response parsed`,yl({retryOfRequestLogID:r,url:n.url,status:n.status,body:a,durationMs:Date.now()-i})),a}function zP(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var kf;class Ob extends Promise{constructor(e,n,s=$P){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=s,kf.set(this,void 0),ut(this,kf,e)}_thenUnwrap(e){return new Ob(ue(this,kf,"f"),this.responsePromise,async(n,s)=>zP(e(await this.parseResponse(n,s),s),s.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(ue(this,kf,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}kf=new WeakMap;var r0;class DN{constructor(e,n,s,r){r0.set(this,void 0),ut(this,r0,e),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new st("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await ue(this,r0,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(r0=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class dle extends Ob{constructor(e,n,s){super(e,n,async(r,i)=>new s(r,i.response,await $P(r,i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class Mb extends DN{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class In extends DN{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...TP(this.options.query),after:n}}:null}}class Jy extends DN{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.has_more=s.has_more||!1,this.last_id=s.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...TP(this.options.query),after:e}}:null}}const UP=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Wf(t,e,n){return UP(),new File(t,e??"unknown_file",n)}function R0(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const BN=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",eM=async(t,e)=>m2(t.body)?{...t,body:await HP(t.body,e)}:t,rc=async(t,e)=>({...t,body:await HP(t.body,e)}),tM=new WeakMap;function fle(t){const e=typeof t=="function"?t:t.fetch,n=tM.get(e);if(n)return n;const s=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new r(i).text()}catch{return!0}})();return tM.set(e,s),s}const HP=async(t,e)=>{if(!await fle(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([s,r])=>g2(n,s,r))),n},FP=t=>t instanceof Blob&&"name"in t,ple=t=>typeof t=="object"&&t!==null&&(t instanceof Response||BN(t)||FP(t)),m2=t=>{if(ple(t))return!0;if(Array.isArray(t))return t.some(m2);if(t&&typeof t=="object"){for(const e in t)if(m2(t[e]))return!0}return!1},g2=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,Wf([await n.blob()],R0(n)));else if(BN(n))t.append(e,Wf([await new Response(OP(n)).blob()],R0(n)));else if(FP(n))t.append(e,n,R0(n));else if(Array.isArray(n))await Promise.all(n.map(s=>g2(t,e+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>g2(t,`${e}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},VP=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",mle=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&VP(t),gle=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function yle(t,e,n){if(UP(),t=await t,mle(t))return t instanceof File?t:Wf([await t.arrayBuffer()],t.name);if(gle(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Wf(await y2(r),e,n)}const s=await y2(t);if(e||(e=R0(t)),!n?.type){const r=s.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n={...n,type:r})}return Wf(s,e,n)}async function y2(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(VP(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(BN(t))for await(const n of t)e.push(...await y2(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${vle(t)}`)}return e}function vle(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class et{constructor(e){this._client=e}}function qP(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const nM=Object.freeze(Object.create(null)),ble=(t=qP)=>function(n,...s){if(n.length===1)return n[0];let r=!1;const i=[],a=n.reduce((m,p,y)=>{/[?#]/.test(p)&&(r=!0);const v=s[y];let b=(r?encodeURIComponent:t)(""+v);return y!==s.length&&(v==null||typeof v=="object"&&v.toString===Object.getPrototypeOf(Object.getPrototypeOf(v.hasOwnProperty??nM)??nM)?.toString)&&(b=v+"",i.push({start:m.length+p.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),m+p+(y===s.length?"":b)},""),c=a.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=u.exec(c))!==null;)i.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(i.sort((m,p)=>m.start-p.start),i.length>0){let m=0;const p=i.reduce((y,v)=>{const b=" ".repeat(v.start-m),x="^".repeat(v.length);return m=v.start+v.length,y+b+x},"");throw new st(`Path parameters result in path with invalid segments:
${i.map(y=>y.error).join(`
`)}
${a}
${p}`)}return a},Ne=ble(qP);let KP=class extends et{list(e,n={},s){return this._client.getAPIList(Ne`/chat/completions/${e}/messages`,In,{query:n,...s})}};function Qy(t){return t!==void 0&&"function"in t&&t.function!==void 0}function LN(t){return t?.$brand==="auto-parseable-response-format"}function lm(t){return t?.$brand==="auto-parseable-tool"}function _le(t,e){return!e||!WP(e)?{...t,choices:t.choices.map(n=>(GP(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:IN(t,e)}function IN(t,e){const n=t.choices.map(s=>{if(s.finish_reason==="length")throw new AP;if(s.finish_reason==="content_filter")throw new jP;return GP(s.message.tool_calls),{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:s.message.tool_calls?.map(r=>wle(e,r))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?xle(e,s.message.content):null}}});return{...t,choices:n}}function xle(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function wle(t,e){const n=t.tools?.find(s=>Qy(s)&&s.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:lm(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function Sle(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(s=>Qy(s)&&s.function?.name===e.function.name);return Qy(n)&&(lm(n)||n?.function.strict||!1)}function WP(t){return LN(t.response_format)?!0:t.tools?.some(e=>lm(e)||e.type==="function"&&e.function.strict===!0)??!1}function GP(t){for(const e of t||[])if(e.type!=="function")throw new st(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function kle(t){for(const e of t??[]){if(e.type!=="function")throw new st(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new st(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const ev=t=>t?.role==="assistant",YP=t=>t?.role==="tool";var v2,O0,M0,Cf,Nf,D0,Ef,ya,Af,tv,nv,vu,ZP;class PN{constructor(){v2.add(this),this.controller=new AbortController,O0.set(this,void 0),M0.set(this,()=>{}),Cf.set(this,()=>{}),Nf.set(this,void 0),D0.set(this,()=>{}),Ef.set(this,()=>{}),ya.set(this,{}),Af.set(this,!1),tv.set(this,!1),nv.set(this,!1),vu.set(this,!1),ut(this,O0,new Promise((e,n)=>{ut(this,M0,e,"f"),ut(this,Cf,n,"f")})),ut(this,Nf,new Promise((e,n)=>{ut(this,D0,e,"f"),ut(this,Ef,n,"f")})),ue(this,O0,"f").catch(()=>{}),ue(this,Nf,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},ue(this,v2,"m",ZP).bind(this))},0)}_connected(){this.ended||(ue(this,M0,"f").call(this),this._emit("connect"))}get ended(){return ue(this,Af,"f")}get errored(){return ue(this,tv,"f")}get aborted(){return ue(this,nv,"f")}abort(){this.controller.abort()}on(e,n){return(ue(this,ya,"f")[e]||(ue(this,ya,"f")[e]=[])).push({listener:n}),this}off(e,n){const s=ue(this,ya,"f")[e];if(!s)return this;const r=s.findIndex(i=>i.listener===n);return r>=0&&s.splice(r,1),this}once(e,n){return(ue(this,ya,"f")[e]||(ue(this,ya,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,s)=>{ut(this,vu,!0),e!=="error"&&this.once("error",s),this.once(e,n)})}async done(){ut(this,vu,!0),await ue(this,Nf,"f")}_emit(e,...n){if(ue(this,Af,"f"))return;e==="end"&&(ut(this,Af,!0),ue(this,D0,"f").call(this));const s=ue(this,ya,"f")[e];if(s&&(ue(this,ya,"f")[e]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!ue(this,vu,"f")&&!s?.length&&Promise.reject(r),ue(this,Cf,"f").call(this,r),ue(this,Ef,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!ue(this,vu,"f")&&!s?.length&&Promise.reject(r),ue(this,Cf,"f").call(this,r),ue(this,Ef,"f").call(this,r),this._emit("end")}}_emitFinal(){}}O0=new WeakMap,M0=new WeakMap,Cf=new WeakMap,Nf=new WeakMap,D0=new WeakMap,Ef=new WeakMap,ya=new WeakMap,Af=new WeakMap,tv=new WeakMap,nv=new WeakMap,vu=new WeakMap,v2=new WeakSet,ZP=function(e){if(ut(this,tv,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Zr),e instanceof Zr)return ut(this,nv,!0),this._emit("abort",e);if(e instanceof st)return this._emit("error",e);if(e instanceof Error){const n=new st(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new st(String(e)))};function Cle(t){return typeof t.parse=="function"}var Rs,b2,sv,_2,x2,w2,XP,JP;const Nle=10;class QP extends PN{constructor(){super(...arguments),Rs.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),YP(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(ev(e)&&e.tool_calls)for(const s of e.tool_calls)s.type==="function"&&this._emit("functionToolCall",s.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new st("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),ue(this,Rs,"m",b2).call(this)}async finalMessage(){return await this.done(),ue(this,Rs,"m",sv).call(this)}async finalFunctionToolCall(){return await this.done(),ue(this,Rs,"m",_2).call(this)}async finalFunctionToolCallResult(){return await this.done(),ue(this,Rs,"m",x2).call(this)}async totalUsage(){return await this.done(),ue(this,Rs,"m",w2).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=ue(this,Rs,"m",sv).call(this);n&&this._emit("finalMessage",n);const s=ue(this,Rs,"m",b2).call(this);s&&this._emit("finalContent",s);const r=ue(this,Rs,"m",_2).call(this);r&&this._emit("finalFunctionToolCall",r);const i=ue(this,Rs,"m",x2).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",ue(this,Rs,"m",w2).call(this))}async _createChatCompletion(e,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ue(this,Rs,"m",XP).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(IN(i,n))}async _runChatCompletion(e,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,s)}async _runTools(e,n,s){const r="tool",{tool_choice:i="auto",stream:a,...c}=n,u=typeof i!="string"&&i.type==="function"&&i?.function?.name,{maxChatCompletions:h=Nle}=s||{},m=n.tools.map(v=>{if(lm(v)){if(!v.$callback)throw new st("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:v.$callback,name:v.function.name,description:v.function.description||"",parameters:v.function.parameters,parse:v.$parseRaw,strict:!0}}}return v}),p={};for(const v of m)v.type==="function"&&(p[v.function.name||v.function.function.name]=v.function);const y="tools"in n?m.map(v=>v.type==="function"?{type:"function",function:{name:v.function.name||v.function.function.name,parameters:v.function.parameters,description:v.function.description,strict:v.function.strict}}:v):void 0;for(const v of n.messages)this._addMessage(v,!1);for(let v=0;v<h;++v){const x=(await this._createChatCompletion(e,{...c,tool_choice:i,tools:y,messages:[...this.messages]},s)).choices[0]?.message;if(!x)throw new st("missing message in ChatCompletion response");if(!x.tool_calls?.length)return;for(const S of x.tool_calls){if(S.type!=="function")continue;const k=S.id,{name:C,arguments:N}=S.function,R=p[C];if(R){if(u&&u!==C){const B=`Invalid tool_call: ${JSON.stringify(C)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:r,tool_call_id:k,content:B});continue}}else{const B=`Invalid tool_call: ${JSON.stringify(C)}. Available options are: ${Object.keys(p).map(q=>JSON.stringify(q)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:k,content:B});continue}let O;try{O=Cle(R)?await R.parse(N):N}catch(B){const q=B instanceof Error?B.message:String(B);this._addMessage({role:r,tool_call_id:k,content:q});continue}const E=await R.function(O,this),D=ue(this,Rs,"m",JP).call(this,E);if(this._addMessage({role:r,tool_call_id:k,content:D}),u)return}}}}Rs=new WeakSet,b2=function(){return ue(this,Rs,"m",sv).call(this).content??null},sv=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(ev(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new st("stream ended without producing a ChatCompletionMessage with role=assistant")},_2=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(ev(n)&&n?.tool_calls?.length)return n.tool_calls.filter(s=>s.type==="function").at(-1)?.function}},x2=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(YP(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>s.role==="assistant"&&s.tool_calls?.some(r=>r.type==="function"&&r.id===n.tool_call_id)))return n.content}},w2=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},XP=function(e){if(e.n!=null&&e.n>1)throw new st("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},JP=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class $N extends QP{static runTools(e,n,s){const r=new $N,i={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}_addMessage(e,n=!0){super._addMessage(e,n),ev(e)&&e.content&&this._emit("content",e.content)}}const e8=1,t8=2,n8=4,s8=8,r8=16,i8=32,a8=64,o8=128,l8=256,c8=o8|l8,u8=r8|i8|c8|a8,h8=e8|t8|u8,d8=n8|s8,Ele=h8|d8,Xn={STR:e8,NUM:t8,ARR:n8,OBJ:s8,NULL:r8,BOOL:i8,NAN:a8,INFINITY:o8,MINUS_INFINITY:l8,INF:c8,SPECIAL:u8,ATOM:h8,COLLECTION:d8,ALL:Ele};class Ale extends Error{}class jle extends Error{}function Tle(t,e=Xn.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Rle(t.trim(),e)}const Rle=(t,e)=>{const n=t.length;let s=0;const r=y=>{throw new Ale(`${y} at position ${s}`)},i=y=>{throw new jle(`${y} at position ${s}`)},a=()=>(p(),s>=n&&r("Unexpected end of input"),t[s]==='"'?c():t[s]==="{"?u():t[s]==="["?h():t.substring(s,s+4)==="null"||Xn.NULL&e&&n-s<4&&"null".startsWith(t.substring(s))?(s+=4,null):t.substring(s,s+4)==="true"||Xn.BOOL&e&&n-s<4&&"true".startsWith(t.substring(s))?(s+=4,!0):t.substring(s,s+5)==="false"||Xn.BOOL&e&&n-s<5&&"false".startsWith(t.substring(s))?(s+=5,!1):t.substring(s,s+8)==="Infinity"||Xn.INFINITY&e&&n-s<8&&"Infinity".startsWith(t.substring(s))?(s+=8,1/0):t.substring(s,s+9)==="-Infinity"||Xn.MINUS_INFINITY&e&&1<n-s&&n-s<9&&"-Infinity".startsWith(t.substring(s))?(s+=9,-1/0):t.substring(s,s+3)==="NaN"||Xn.NAN&e&&n-s<3&&"NaN".startsWith(t.substring(s))?(s+=3,NaN):m()),c=()=>{const y=s;let v=!1;for(s++;s<n&&(t[s]!=='"'||v&&t[s-1]==="\\");)v=t[s]==="\\"?!v:!1,s++;if(t.charAt(s)=='"')try{return JSON.parse(t.substring(y,++s-Number(v)))}catch(b){i(String(b))}else if(Xn.STR&e)try{return JSON.parse(t.substring(y,s-Number(v))+'"')}catch{return JSON.parse(t.substring(y,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},u=()=>{s++,p();const y={};try{for(;t[s]!=="}";){if(p(),s>=n&&Xn.OBJ&e)return y;const v=c();p(),s++;try{const b=a();Object.defineProperty(y,v,{value:b,writable:!0,enumerable:!0,configurable:!0})}catch(b){if(Xn.OBJ&e)return y;throw b}p(),t[s]===","&&s++}}catch{if(Xn.OBJ&e)return y;r("Expected '}' at end of object")}return s++,y},h=()=>{s++;const y=[];try{for(;t[s]!=="]";)y.push(a()),p(),t[s]===","&&s++}catch{if(Xn.ARR&e)return y;r("Expected ']' at end of array")}return s++,y},m=()=>{if(s===0){t==="-"&&Xn.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(v){if(Xn.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(v))}}const y=s;for(t[s]==="-"&&s++;t[s]&&!",]}".includes(t[s]);)s++;s==n&&!(Xn.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(y,s))}catch{t.substring(y,s)==="-"&&Xn.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(y,t.lastIndexOf("e")))}catch(b){i(String(b))}}},p=()=>{for(;s<n&&` 
\r	`.includes(t[s]);)s++};return a()},sM=t=>Tle(t,Xn.ALL^Xn.NUM);var Un,ma,lu,go,bw,i0,_w,xw,ww,a0,Sw,rM;class Np extends QP{constructor(e){super(),Un.add(this),ma.set(this,void 0),lu.set(this,void 0),go.set(this,void 0),ut(this,ma,e),ut(this,lu,[])}get currentChatCompletionSnapshot(){return ue(this,go,"f")}static fromReadableStream(e){const n=new Np(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,s){const r=new Np(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,s){super._createChatCompletion;const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ue(this,Un,"m",bw).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const a of i)ue(this,Un,"m",_w).call(this,a);if(i.controller.signal?.aborted)throw new Zr;return this._addChatCompletion(ue(this,Un,"m",a0).call(this))}async _fromReadableStream(e,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ue(this,Un,"m",bw).call(this),this._connected();const r=Di.fromReadableStream(e,this.controller);let i;for await(const a of r)i&&i!==a.id&&this._addChatCompletion(ue(this,Un,"m",a0).call(this)),ue(this,Un,"m",_w).call(this,a),i=a.id;if(r.controller.signal?.aborted)throw new Zr;return this._addChatCompletion(ue(this,Un,"m",a0).call(this))}[(ma=new WeakMap,lu=new WeakMap,go=new WeakMap,Un=new WeakSet,bw=function(){this.ended||ut(this,go,void 0)},i0=function(n){let s=ue(this,lu,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ue(this,lu,"f")[n.index]=s,s)},_w=function(n){if(this.ended)return;const s=ue(this,Un,"m",rM).call(this,n);this._emit("chunk",n,s);for(const r of n.choices){const i=s.choices[r.index];r.delta.content!=null&&i.message?.role==="assistant"&&i.message?.content&&(this._emit("content",r.delta.content,i.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:i.message.content,parsed:i.message.parsed})),r.delta.refusal!=null&&i.message?.role==="assistant"&&i.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:i.message.refusal}),r.logprobs?.content!=null&&i.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:i.logprobs?.content??[]}),r.logprobs?.refusal!=null&&i.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:i.logprobs?.refusal??[]});const a=ue(this,Un,"m",i0).call(this,i);i.finish_reason&&(ue(this,Un,"m",ww).call(this,i),a.current_tool_call_index!=null&&ue(this,Un,"m",xw).call(this,i,a.current_tool_call_index));for(const c of r.delta.tool_calls??[])a.current_tool_call_index!==c.index&&(ue(this,Un,"m",ww).call(this,i),a.current_tool_call_index!=null&&ue(this,Un,"m",xw).call(this,i,a.current_tool_call_index)),a.current_tool_call_index=c.index;for(const c of r.delta.tool_calls??[]){const u=i.message.tool_calls?.[c.index];u?.type&&(u?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:u.function?.name,index:c.index,arguments:u.function.arguments,parsed_arguments:u.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(u?.type,void 0))}}},xw=function(n,s){if(ue(this,Un,"m",i0).call(this,n).done_tool_calls.has(s))return;const i=n.message.tool_calls?.[s];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const a=ue(this,ma,"f")?.tools?.find(c=>Qy(c)&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:s,arguments:i.function.arguments,parsed_arguments:lm(a)?a.$parseRaw(i.function.arguments):a?.function.strict?JSON.parse(i.function.arguments):null})}else i.type},ww=function(n){const s=ue(this,Un,"m",i0).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const r=ue(this,Un,"m",Sw).call(this);this._emit("content.done",{content:n.message.content,parsed:r?r.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},a0=function(){if(this.ended)throw new st("stream has ended, this shouldn't happen");const n=ue(this,go,"f");if(!n)throw new st("request ended without sending any chunks");return ut(this,go,void 0),ut(this,lu,[]),Ole(n,ue(this,ma,"f"))},Sw=function(){const n=ue(this,ma,"f")?.response_format;return LN(n)?n:null},rM=function(n){var s,r,i,a;let c=ue(this,go,"f");const{choices:u,...h}=n;c?Object.assign(c,h):c=ut(this,go,{...h,choices:[]});for(const{delta:m,finish_reason:p,index:y,logprobs:v=null,...b}of n.choices){let x=c.choices[y];if(x||(x=c.choices[y]={finish_reason:p,index:y,message:{},logprobs:v,...b}),v)if(!x.logprobs)x.logprobs=Object.assign({},v);else{const{content:E,refusal:D,...B}=v;Object.assign(x.logprobs,B),E&&((s=x.logprobs).content??(s.content=[]),x.logprobs.content.push(...E)),D&&((r=x.logprobs).refusal??(r.refusal=[]),x.logprobs.refusal.push(...D))}if(p&&(x.finish_reason=p,ue(this,ma,"f")&&WP(ue(this,ma,"f")))){if(p==="length")throw new AP;if(p==="content_filter")throw new jP}if(Object.assign(x,b),!m)continue;const{content:S,refusal:k,function_call:C,role:N,tool_calls:R,...O}=m;if(Object.assign(x.message,O),k&&(x.message.refusal=(x.message.refusal||"")+k),N&&(x.message.role=N),C&&(x.message.function_call?(C.name&&(x.message.function_call.name=C.name),C.arguments&&((i=x.message.function_call).arguments??(i.arguments=""),x.message.function_call.arguments+=C.arguments)):x.message.function_call=C),S&&(x.message.content=(x.message.content||"")+S,!x.message.refusal&&ue(this,Un,"m",Sw).call(this)&&(x.message.parsed=sM(x.message.content))),R){x.message.tool_calls||(x.message.tool_calls=[]);for(const{index:E,id:D,type:B,function:q,...P}of R){const W=(a=x.message.tool_calls)[E]??(a[E]={});Object.assign(W,P),D&&(W.id=D),B&&(W.type=B),q&&(W.function??(W.function={name:q.name??"",arguments:""})),q?.name&&(W.function.name=q.name),q?.arguments&&(W.function.arguments+=q.arguments,Sle(ue(this,ma,"f"),W)&&(W.function.parsed_arguments=sM(W.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("chunk",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Di(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Ole(t,e){const{id:n,choices:s,created:r,model:i,system_fingerprint:a,...c}=t,u={...c,id:n,choices:s.map(({message:h,finish_reason:m,index:p,logprobs:y,...v})=>{if(!m)throw new st(`missing finish_reason for choice ${p}`);const{content:b=null,function_call:x,tool_calls:S,...k}=h,C=h.role;if(!C)throw new st(`missing role for choice ${p}`);if(x){const{arguments:N,name:R}=x;if(N==null)throw new st(`missing function_call.arguments for choice ${p}`);if(!R)throw new st(`missing function_call.name for choice ${p}`);return{...v,message:{content:b,function_call:{arguments:N,name:R},role:C,refusal:h.refusal??null},finish_reason:m,index:p,logprobs:y}}return S?{...v,index:p,finish_reason:m,logprobs:y,message:{...k,role:C,content:b,refusal:h.refusal??null,tool_calls:S.map((N,R)=>{const{function:O,type:E,id:D,...B}=N,{arguments:q,name:P,...W}=O||{};if(D==null)throw new st(`missing choices[${p}].tool_calls[${R}].id
${o0(t)}`);if(E==null)throw new st(`missing choices[${p}].tool_calls[${R}].type
${o0(t)}`);if(P==null)throw new st(`missing choices[${p}].tool_calls[${R}].function.name
${o0(t)}`);if(q==null)throw new st(`missing choices[${p}].tool_calls[${R}].function.arguments
${o0(t)}`);return{...B,id:D,type:E,function:{...W,name:P,arguments:q}}})}}:{...v,message:{...k,content:b,role:C,refusal:h.refusal??null},finish_reason:m,index:p,logprobs:y}}),created:r,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return _le(u,e)}function o0(t){return JSON.stringify(t)}class rv extends Np{static fromReadableStream(e){const n=new rv(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,s){const r=new rv(n),i={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}}let zN=class extends et{constructor(){super(...arguments),this.messages=new KP(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(Ne`/chat/completions/${e}`,n)}update(e,n,s){return this._client.post(Ne`/chat/completions/${e}`,{body:n,...s})}list(e={},n){return this._client.getAPIList("/chat/completions",In,{query:e,...n})}delete(e,n){return this._client.delete(Ne`/chat/completions/${e}`,n)}parse(e,n){return kle(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(s=>IN(s,e))}runTools(e,n){return e.stream?rv.runTools(this._client,e,n):$N.runTools(this._client,e,n)}stream(e,n){return Np.createChatCompletion(this._client,e,n)}};zN.Messages=KP;class UN extends et{constructor(){super(...arguments),this.completions=new zN(this._client)}}UN.Completions=zN;const f8=Symbol("brand.privateNullableHeaders");function*Mle(t){if(!t)return;if(f8 in t){const{values:s,nulls:r}=t;yield*s.entries();for(const i of r)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():HO(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let s of n){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=HO(s[1])?s[1]:[s[1]];let a=!1;for(const c of i)c!==void 0&&(e&&!a&&(a=!0,yield[r,null]),yield[r,c])}}const We=t=>{const e=new Headers,n=new Set;for(const s of t){const r=new Set;for(const[i,a]of Mle(s)){const c=i.toLowerCase();r.has(c)||(e.delete(i),r.add(c)),a===null?(e.delete(i),n.add(c)):(e.append(i,a),n.delete(c))}}return{[f8]:!0,values:e,nulls:n}};class p8 extends et{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:We([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class m8 extends et{create(e,n){return this._client.post("/audio/transcriptions",rc({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class g8 extends et{create(e,n){return this._client.post("/audio/translations",rc({body:e,...n,__metadata:{model:e.model}},this._client))}}class cm extends et{constructor(){super(...arguments),this.transcriptions=new m8(this._client),this.translations=new g8(this._client),this.speech=new p8(this._client)}}cm.Transcriptions=m8;cm.Translations=g8;cm.Speech=p8;class y8 extends et{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(Ne`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",In,{query:e,...n})}cancel(e,n){return this._client.post(Ne`/batches/${e}/cancel`,n)}}class v8 extends et{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(Ne`/assistants/${e}`,{...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,s){return this._client.post(Ne`/assistants/${e}`,{body:n,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",In,{query:e,...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(Ne`/assistants/${e}`,{...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let b8=class extends et{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class _8 extends et{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let Db=class extends et{constructor(){super(...arguments),this.sessions=new b8(this._client),this.transcriptionSessions=new _8(this._client)}};Db.Sessions=b8;Db.TranscriptionSessions=_8;class x8 extends et{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:We([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(Ne`/chatkit/sessions/${e}/cancel`,{...n,headers:We([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let w8=class extends et{retrieve(e,n){return this._client.get(Ne`/chatkit/threads/${e}`,{...n,headers:We([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",Jy,{query:e,...n,headers:We([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(Ne`/chatkit/threads/${e}`,{...n,headers:We([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},s){return this._client.getAPIList(Ne`/chatkit/threads/${e}/items`,Jy,{query:n,...s,headers:We([{"OpenAI-Beta":"chatkit_beta=v1"},s?.headers])})}};class Bb extends et{constructor(){super(...arguments),this.sessions=new x8(this._client),this.threads=new w8(this._client)}}Bb.Sessions=x8;Bb.Threads=w8;class S8 extends et{create(e,n,s){return this._client.post(Ne`/threads/${e}/messages`,{body:n,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,n,s){const{thread_id:r}=n;return this._client.get(Ne`/threads/${r}/messages/${e}`,{...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,n,s){const{thread_id:r,...i}=n;return this._client.post(Ne`/threads/${r}/messages/${e}`,{body:i,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e,n={},s){return this._client.getAPIList(Ne`/threads/${e}/messages`,In,{query:n,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,n,s){const{thread_id:r}=n;return this._client.delete(Ne`/threads/${r}/messages/${e}`,{...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class k8 extends et{retrieve(e,n,s){const{thread_id:r,run_id:i,...a}=n;return this._client.get(Ne`/threads/${r}/runs/${i}/steps/${e}`,{query:a,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e,n,s){const{thread_id:r,...i}=n;return this._client.getAPIList(Ne`/threads/${r}/runs/${e}/steps`,In,{query:i,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}const Dle=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,s=new Uint8Array(n);for(let r=0;r<n;r++)s[r]=e.charCodeAt(r);return Array.from(new Float32Array(s.buffer))}};var Ble={};const cu=t=>{if(typeof globalThis.process<"u")return Ble?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var cs,Al,S2,Ri,B0,hi,jl,Tu,_l,iv,vr,L0,I0,Gf,jf,Tf,iM,aM,oM,lM,cM,uM,hM;class Yf extends PN{constructor(){super(...arguments),cs.add(this),S2.set(this,[]),Ri.set(this,{}),B0.set(this,{}),hi.set(this,void 0),jl.set(this,void 0),Tu.set(this,void 0),_l.set(this,void 0),iv.set(this,void 0),vr.set(this,void 0),L0.set(this,void 0),I0.set(this,void 0),Gf.set(this,void 0)}[(S2=new WeakMap,Ri=new WeakMap,B0=new WeakMap,hi=new WeakMap,jl=new WeakMap,Tu=new WeakMap,_l=new WeakMap,iv=new WeakMap,vr=new WeakMap,L0=new WeakMap,I0=new WeakMap,Gf=new WeakMap,cs=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Al;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Di.fromReadableStream(e,this.controller);for await(const i of r)ue(this,cs,"m",jf).call(this,i);if(r.controller.signal?.aborted)throw new Zr;return this._addRun(ue(this,cs,"m",Tf).call(this))}toReadableStream(){return new Di(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,s,r){const i=new Al;return i._run(()=>i._runToolAssistantStream(e,n,s,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,n,s,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...s,stream:!0},c=await e.submitToolOutputs(n,a,{...r,signal:this.controller.signal});this._connected();for await(const u of c)ue(this,cs,"m",jf).call(this,u);if(c.controller.signal?.aborted)throw new Zr;return this._addRun(ue(this,cs,"m",Tf).call(this))}static createThreadAssistantStream(e,n,s){const r=new Al;return r._run(()=>r._threadAssistantStream(e,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,s,r){const i=new Al;return i._run(()=>i._runAssistantStream(e,n,s,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return ue(this,L0,"f")}currentRun(){return ue(this,I0,"f")}currentMessageSnapshot(){return ue(this,hi,"f")}currentRunStepSnapshot(){return ue(this,Gf,"f")}async finalRunSteps(){return await this.done(),Object.values(ue(this,Ri,"f"))}async finalMessages(){return await this.done(),Object.values(ue(this,B0,"f"))}async finalRun(){if(await this.done(),!ue(this,jl,"f"))throw Error("Final run was not received.");return ue(this,jl,"f")}async _createThreadAssistantStream(e,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await e.createAndRun(i,{...s,signal:this.controller.signal});this._connected();for await(const c of a)ue(this,cs,"m",jf).call(this,c);if(a.controller.signal?.aborted)throw new Zr;return this._addRun(ue(this,cs,"m",Tf).call(this))}async _createAssistantStream(e,n,s,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...s,stream:!0},c=await e.create(n,a,{...r,signal:this.controller.signal});this._connected();for await(const u of c)ue(this,cs,"m",jf).call(this,u);if(c.controller.signal?.aborted)throw new Zr;return this._addRun(ue(this,cs,"m",Tf).call(this))}static accumulateDelta(e,n){for(const[s,r]of Object.entries(n)){if(!e.hasOwnProperty(s)){e[s]=r;continue}let i=e[s];if(i==null){e[s]=r;continue}if(s==="index"||s==="type"){e[s]=r;continue}if(typeof i=="string"&&typeof r=="string")i+=r;else if(typeof i=="number"&&typeof r=="number")i+=r;else if(gw(i)&&gw(r))i=this.accumulateDelta(i,r);else if(Array.isArray(i)&&Array.isArray(r)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...r);continue}for(const a of r){if(!gw(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const c=a.index;if(c==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const u=i[c];u==null?i.push(a):i[c]=this.accumulateDelta(u,a)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${r}, accValue: ${i}`);e[s]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,s){return await this._createThreadAssistantStream(n,e,s)}async _runAssistantStream(e,n,s,r){return await this._createAssistantStream(n,e,s,r)}async _runToolAssistantStream(e,n,s,r){return await this._createToolAssistantStream(n,e,s,r)}}Al=Yf,jf=function(e){if(!this.ended)switch(ut(this,L0,e),ue(this,cs,"m",oM).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":ue(this,cs,"m",hM).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ue(this,cs,"m",aM).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":ue(this,cs,"m",iM).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Tf=function(){if(this.ended)throw new st("stream has ended, this shouldn't happen");if(!ue(this,jl,"f"))throw Error("Final run has not been received");return ue(this,jl,"f")},iM=function(e){const[n,s]=ue(this,cs,"m",cM).call(this,e,ue(this,hi,"f"));ut(this,hi,n),ue(this,B0,"f")[n.id]=n;for(const r of s){const i=n.content[r.index];i?.type=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let i=r.text,a=n.content[r.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=ue(this,Tu,"f")){if(ue(this,_l,"f"))switch(ue(this,_l,"f").type){case"text":this._emit("textDone",ue(this,_l,"f").text,ue(this,hi,"f"));break;case"image_file":this._emit("imageFileDone",ue(this,_l,"f").image_file,ue(this,hi,"f"));break}ut(this,Tu,r.index)}ut(this,_l,n.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(ue(this,Tu,"f")!==void 0){const r=e.data.content[ue(this,Tu,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,ue(this,hi,"f"));break;case"text":this._emit("textDone",r.text,ue(this,hi,"f"));break}}ue(this,hi,"f")&&this._emit("messageDone",e.data),ut(this,hi,void 0)}},aM=function(e){const n=ue(this,cs,"m",lM).call(this,e);switch(ut(this,Gf,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const s=e.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of s.step_details.tool_calls)i.index==ue(this,iv,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(ue(this,vr,"f")&&this._emit("toolCallDone",ue(this,vr,"f")),ut(this,iv,i.index),ut(this,vr,n.step_details.tool_calls[i.index]),ue(this,vr,"f")&&this._emit("toolCallCreated",ue(this,vr,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ut(this,Gf,void 0),e.data.step_details.type=="tool_calls"&&ue(this,vr,"f")&&(this._emit("toolCallDone",ue(this,vr,"f")),ut(this,vr,void 0)),this._emit("runStepDone",e.data,n);break}},oM=function(e){ue(this,S2,"f").push(e),this._emit("event",e)},lM=function(e){switch(e.event){case"thread.run.step.created":return ue(this,Ri,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=ue(this,Ri,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=e.data;if(s.delta){const r=Al.accumulateDelta(n,s.delta);ue(this,Ri,"f")[e.data.id]=r}return ue(this,Ri,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":ue(this,Ri,"f")[e.data.id]=e.data;break}if(ue(this,Ri,"f")[e.data.id])return ue(this,Ri,"f")[e.data.id];throw new Error("No snapshot available")},cM=function(e,n){let s=[];switch(e.event){case"thread.message.created":return[e.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const i of r.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=ue(this,cs,"m",uM).call(this,i,a)}else n.content[i.index]=i,s.push(i);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},uM=function(e,n){return Al.accumulateDelta(n,e)},hM=function(e){switch(ut(this,I0,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":ut(this,jl,e.data),ue(this,vr,"f")&&(this._emit("toolCallDone",ue(this,vr,"f")),ut(this,vr,void 0));break}};let HN=class extends et{constructor(){super(...arguments),this.steps=new k8(this._client)}create(e,n,s){const{include:r,...i}=n;return this._client.post(Ne`/threads/${e}/runs`,{query:{include:r},body:i,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:n.stream??!1})}retrieve(e,n,s){const{thread_id:r}=n;return this._client.get(Ne`/threads/${r}/runs/${e}`,{...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,n,s){const{thread_id:r,...i}=n;return this._client.post(Ne`/threads/${r}/runs/${e}`,{body:i,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e,n={},s){return this._client.getAPIList(Ne`/threads/${e}/runs`,In,{query:n,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}cancel(e,n,s){const{thread_id:r}=n;return this._client.post(Ne`/threads/${r}/runs/${e}/cancel`,{...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(r.id,{thread_id:e},s)}createAndStream(e,n,s){return Yf.createAssistantStream(e,this._client.beta.threads.runs,n,s)}async poll(e,n,s){const r=We([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:i,response:a}=await this.retrieve(e,n,{...s,headers:{...s?.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(s?.pollIntervalMs)c=s.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(c=h)}}await om(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,s){return Yf.createAssistantStream(e,this._client.beta.threads.runs,n,s)}submitToolOutputs(e,n,s){const{thread_id:r,...i}=n;return this._client.post(Ne`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:i,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,s){const r=await this.submitToolOutputs(e,n,s);return await this.poll(r.id,n,s)}submitToolOutputsStream(e,n,s){return Yf.createToolAssistantStream(e,this._client.beta.threads.runs,n,s)}};HN.Steps=k8;class Lb extends et{constructor(){super(...arguments),this.runs=new HN(this._client),this.messages=new S8(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(Ne`/threads/${e}`,{...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,s){return this._client.post(Ne`/threads/${e}`,{body:n,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,n){return this._client.delete(Ne`/threads/${e}`,{...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const s=await this.createAndRun(e,n);return await this.runs.poll(s.id,{thread_id:s.thread_id},n)}createAndRunStream(e,n){return Yf.createThreadAssistantStream(e,this._client.beta.threads,n)}}Lb.Runs=HN;Lb.Messages=S8;class Th extends et{constructor(){super(...arguments),this.realtime=new Db(this._client),this.chatkit=new Bb(this._client),this.assistants=new v8(this._client),this.threads=new Lb(this._client)}}Th.Realtime=Db;Th.ChatKit=Bb;Th.Assistants=v8;Th.Threads=Lb;class C8 extends et{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class N8 extends et{retrieve(e,n,s){const{container_id:r}=n;return this._client.get(Ne`/containers/${r}/files/${e}/content`,{...s,headers:We([{Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}}let FN=class extends et{constructor(){super(...arguments),this.content=new N8(this._client)}create(e,n,s){return this._client.post(Ne`/containers/${e}/files`,rc({body:n,...s},this._client))}retrieve(e,n,s){const{container_id:r}=n;return this._client.get(Ne`/containers/${r}/files/${e}`,s)}list(e,n={},s){return this._client.getAPIList(Ne`/containers/${e}/files`,In,{query:n,...s})}delete(e,n,s){const{container_id:r}=n;return this._client.delete(Ne`/containers/${r}/files/${e}`,{...s,headers:We([{Accept:"*/*"},s?.headers])})}};FN.Content=N8;class VN extends et{constructor(){super(...arguments),this.files=new FN(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(Ne`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",In,{query:e,...n})}delete(e,n){return this._client.delete(Ne`/containers/${e}`,{...n,headers:We([{Accept:"*/*"},n?.headers])})}}VN.Files=FN;class E8 extends et{create(e,n,s){const{include:r,...i}=n;return this._client.post(Ne`/conversations/${e}/items`,{query:{include:r},body:i,...s})}retrieve(e,n,s){const{conversation_id:r,...i}=n;return this._client.get(Ne`/conversations/${r}/items/${e}`,{query:i,...s})}list(e,n={},s){return this._client.getAPIList(Ne`/conversations/${e}/items`,Jy,{query:n,...s})}delete(e,n,s){const{conversation_id:r}=n;return this._client.delete(Ne`/conversations/${r}/items/${e}`,s)}}class qN extends et{constructor(){super(...arguments),this.items=new E8(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(Ne`/conversations/${e}`,n)}update(e,n,s){return this._client.post(Ne`/conversations/${e}`,{body:n,...s})}delete(e,n){return this._client.delete(Ne`/conversations/${e}`,n)}}qN.Items=E8;class A8 extends et{create(e,n){const s=!!e.encoding_format;let r=s?e.encoding_format:"base64";s&&ls(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const i=this._client.post("/embeddings",{body:{...e,encoding_format:r},...n});return s?i:(ls(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(a=>(a&&a.data&&a.data.forEach(c=>{const u=c.embedding;c.embedding=Dle(u)}),a)))}}class j8 extends et{retrieve(e,n,s){const{eval_id:r,run_id:i}=n;return this._client.get(Ne`/evals/${r}/runs/${i}/output_items/${e}`,s)}list(e,n,s){const{eval_id:r,...i}=n;return this._client.getAPIList(Ne`/evals/${r}/runs/${e}/output_items`,In,{query:i,...s})}}class KN extends et{constructor(){super(...arguments),this.outputItems=new j8(this._client)}create(e,n,s){return this._client.post(Ne`/evals/${e}/runs`,{body:n,...s})}retrieve(e,n,s){const{eval_id:r}=n;return this._client.get(Ne`/evals/${r}/runs/${e}`,s)}list(e,n={},s){return this._client.getAPIList(Ne`/evals/${e}/runs`,In,{query:n,...s})}delete(e,n,s){const{eval_id:r}=n;return this._client.delete(Ne`/evals/${r}/runs/${e}`,s)}cancel(e,n,s){const{eval_id:r}=n;return this._client.post(Ne`/evals/${r}/runs/${e}`,s)}}KN.OutputItems=j8;class WN extends et{constructor(){super(...arguments),this.runs=new KN(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(Ne`/evals/${e}`,n)}update(e,n,s){return this._client.post(Ne`/evals/${e}`,{body:n,...s})}list(e={},n){return this._client.getAPIList("/evals",In,{query:e,...n})}delete(e,n){return this._client.delete(Ne`/evals/${e}`,n)}}WN.Runs=KN;let T8=class extends et{create(e,n){return this._client.post("/files",rc({body:e,...n},this._client))}retrieve(e,n){return this._client.get(Ne`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",In,{query:e,...n})}delete(e,n){return this._client.delete(Ne`/files/${e}`,n)}content(e,n){return this._client.get(Ne`/files/${e}/content`,{...n,headers:We([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:s=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(e);for(;!a.status||!r.has(a.status);)if(await om(n),a=await this.retrieve(e),Date.now()-i>s)throw new ON({message:`Giving up on waiting for file ${e} to finish processing after ${s} milliseconds.`});return a}};class R8 extends et{}let O8=class extends et{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class GN extends et{constructor(){super(...arguments),this.graders=new O8(this._client)}}GN.Graders=O8;class M8 extends et{create(e,n,s){return this._client.getAPIList(Ne`/fine_tuning/checkpoints/${e}/permissions`,Mb,{body:n,method:"post",...s})}retrieve(e,n={},s){return this._client.get(Ne`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...s})}delete(e,n,s){const{fine_tuned_model_checkpoint:r}=n;return this._client.delete(Ne`/fine_tuning/checkpoints/${r}/permissions/${e}`,s)}}let YN=class extends et{constructor(){super(...arguments),this.permissions=new M8(this._client)}};YN.Permissions=M8;class D8 extends et{list(e,n={},s){return this._client.getAPIList(Ne`/fine_tuning/jobs/${e}/checkpoints`,In,{query:n,...s})}}class ZN extends et{constructor(){super(...arguments),this.checkpoints=new D8(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(Ne`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",In,{query:e,...n})}cancel(e,n){return this._client.post(Ne`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},s){return this._client.getAPIList(Ne`/fine_tuning/jobs/${e}/events`,In,{query:n,...s})}pause(e,n){return this._client.post(Ne`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(Ne`/fine_tuning/jobs/${e}/resume`,n)}}ZN.Checkpoints=D8;class Rh extends et{constructor(){super(...arguments),this.methods=new R8(this._client),this.jobs=new ZN(this._client),this.checkpoints=new YN(this._client),this.alpha=new GN(this._client)}}Rh.Methods=R8;Rh.Jobs=ZN;Rh.Checkpoints=YN;Rh.Alpha=GN;class B8 extends et{}class XN extends et{constructor(){super(...arguments),this.graderModels=new B8(this._client)}}XN.GraderModels=B8;class L8 extends et{createVariation(e,n){return this._client.post("/images/variations",rc({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",rc({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class I8 extends et{retrieve(e,n){return this._client.get(Ne`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Mb,e)}delete(e,n){return this._client.delete(Ne`/models/${e}`,n)}}class P8 extends et{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class $8 extends et{accept(e,n,s){return this._client.post(Ne`/realtime/calls/${e}/accept`,{body:n,...s,headers:We([{Accept:"*/*"},s?.headers])})}hangup(e,n){return this._client.post(Ne`/realtime/calls/${e}/hangup`,{...n,headers:We([{Accept:"*/*"},n?.headers])})}refer(e,n,s){return this._client.post(Ne`/realtime/calls/${e}/refer`,{body:n,...s,headers:We([{Accept:"*/*"},s?.headers])})}reject(e,n={},s){return this._client.post(Ne`/realtime/calls/${e}/reject`,{body:n,...s,headers:We([{Accept:"*/*"},s?.headers])})}}class z8 extends et{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class Ib extends et{constructor(){super(...arguments),this.clientSecrets=new z8(this._client),this.calls=new $8(this._client)}}Ib.ClientSecrets=z8;Ib.Calls=$8;function Lle(t,e){return!e||!Ple(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(s=>({...s,parsed:null}))}:n)}:U8(t,e)}function U8(t,e){const n=t.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:Ule(e,r)};if(r.type==="message"){const i=r.content.map(a=>a.type==="output_text"?{...a,parsed:Ile(e,a.text)}:a);return{...r,content:i}}return r}),s=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||k2(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const r of s.output)if(r.type==="message"){for(const i of r.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),s}function Ile(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function Ple(t){return!!LN(t.text?.format)}function $le(t){return t?.$brand==="auto-parseable-tool"}function zle(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function Ule(t,e){const n=zle(t.tools??[],e.name);return{...e,...e,parsed_arguments:$le(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function k2(t){const e=[];for(const n of t.output)if(n.type==="message")for(const s of n.content)s.type==="output_text"&&e.push(s.text);t.output_text=e.join("")}var uu,l0,yo,c0,dM,fM,pM,mM;class JN extends PN{constructor(e){super(),uu.add(this),l0.set(this,void 0),yo.set(this,void 0),c0.set(this,void 0),ut(this,l0,e)}static createResponse(e,n,s){const r=new JN(n);return r._run(()=>r._createOrRetrieveResponse(e,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ue(this,uu,"m",dM).call(this);let i,a=null;"response_id"in n?(i=await e.responses.retrieve(n.response_id,{stream:!0},{...s,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):i=await e.responses.create({...n,stream:!0},{...s,signal:this.controller.signal}),this._connected();for await(const c of i)ue(this,uu,"m",fM).call(this,c,a);if(i.controller.signal?.aborted)throw new Zr;return ue(this,uu,"m",pM).call(this)}[(l0=new WeakMap,yo=new WeakMap,c0=new WeakMap,uu=new WeakSet,dM=function(){this.ended||ut(this,yo,void 0)},fM=function(n,s){if(this.ended)return;const r=(a,c)=>{(s==null||c.sequence_number>s)&&this._emit(a,c)},i=ue(this,uu,"m",mM).call(this,n);switch(r("event",n),n.type){case"response.output_text.delta":{const a=i.output[n.output_index];if(!a)throw new st(`missing output at index ${n.output_index}`);if(a.type==="message"){const c=a.content[n.content_index];if(!c)throw new st(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new st(`expected content to be 'output_text', got ${c.type}`);r("response.output_text.delta",{...n,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const a=i.output[n.output_index];if(!a)throw new st(`missing output at index ${n.output_index}`);a.type==="function_call"&&r("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:r(n.type,n);break}},pM=function(){if(this.ended)throw new st("stream has ended, this shouldn't happen");const n=ue(this,yo,"f");if(!n)throw new st("request ended without sending any events");ut(this,yo,void 0);const s=Hle(n,ue(this,l0,"f"));return ut(this,c0,s),s},mM=function(n){let s=ue(this,yo,"f");if(!s){if(n.type!=="response.created")throw new st(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return s=ut(this,yo,n.response),s}switch(n.type){case"response.output_item.added":{s.output.push(n.item);break}case"response.content_part.added":{const r=s.output[n.output_index];if(!r)throw new st(`missing output at index ${n.output_index}`);const i=r.type,a=n.part;i==="message"&&a.type!=="reasoning_text"?r.content.push(a):i==="reasoning"&&a.type==="reasoning_text"&&(r.content||(r.content=[]),r.content.push(a));break}case"response.output_text.delta":{const r=s.output[n.output_index];if(!r)throw new st(`missing output at index ${n.output_index}`);if(r.type==="message"){const i=r.content[n.content_index];if(!i)throw new st(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new st(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=s.output[n.output_index];if(!r)throw new st(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.reasoning_text.delta":{const r=s.output[n.output_index];if(!r)throw new st(`missing output at index ${n.output_index}`);if(r.type==="reasoning"){const i=r.content?.[n.content_index];if(!i)throw new st(`missing content at index ${n.content_index}`);if(i.type!=="reasoning_text")throw new st(`expected content to be 'reasoning_text', got ${i.type}`);i.text+=n.delta}break}case"response.completed":{ut(this,yo,n.response);break}}return s},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=ue(this,c0,"f");if(!e)throw new st("stream ended without producing a ChatCompletion");return e}}function Hle(t,e){return Lle(t,e)}class H8 extends et{list(e,n={},s){return this._client.getAPIList(Ne`/responses/${e}/input_items`,In,{query:n,...s})}}class F8 extends et{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class Pb extends et{constructor(){super(...arguments),this.inputItems=new H8(this._client),this.inputTokens=new F8(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&k2(s),s))}retrieve(e,n={},s){return this._client.get(Ne`/responses/${e}`,{query:n,...s,stream:n?.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&k2(r),r))}delete(e,n){return this._client.delete(Ne`/responses/${e}`,{...n,headers:We([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(s=>U8(s,e))}stream(e,n){return JN.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(Ne`/responses/${e}/cancel`,n)}compact(e,n){return this._client.post("/responses/compact",{body:e,...n})}}Pb.InputItems=H8;Pb.InputTokens=F8;class V8 extends et{create(e,n,s){return this._client.post(Ne`/uploads/${e}/parts`,rc({body:n,...s},this._client))}}class QN extends et{constructor(){super(...arguments),this.parts=new V8(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(Ne`/uploads/${e}/cancel`,n)}complete(e,n,s){return this._client.post(Ne`/uploads/${e}/complete`,{body:n,...s})}}QN.Parts=V8;const Fle=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const r of e)r.status==="fulfilled"&&s.push(r.value);return s};class q8 extends et{create(e,n,s){return this._client.post(Ne`/vector_stores/${e}/file_batches`,{body:n,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,n,s){const{vector_store_id:r}=n;return this._client.get(Ne`/vector_stores/${r}/file_batches/${e}`,{...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}cancel(e,n,s){const{vector_store_id:r}=n;return this._client.post(Ne`/vector_stores/${r}/file_batches/${e}/cancel`,{...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(e,n,s){const r=await this.create(e,n);return await this.poll(e,r.id,s)}listFiles(e,n,s){const{vector_store_id:r,...i}=n;return this._client.getAPIList(Ne`/vector_stores/${r}/file_batches/${e}/files`,In,{query:i,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async poll(e,n,s){const r=We([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:i,response:a}=await this.retrieve(n,{vector_store_id:e},{...s,headers:r}).withResponse();switch(i.status){case"in_progress":let c=5e3;if(s?.pollIntervalMs)c=s.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(c=h)}}await om(c);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:s=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=r?.maxConcurrency??5,a=Math.min(i,n.length),c=this._client,u=n.values(),h=[...s];async function m(y){for(let v of y){const b=await c.files.create({file:v,purpose:"assistants"},r);h.push(b.id)}}const p=Array(a).fill(u).map(m);return await Fle(p),await this.createAndPoll(e,{file_ids:h})}}class K8 extends et{create(e,n,s){return this._client.post(Ne`/vector_stores/${e}/files`,{body:n,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,n,s){const{vector_store_id:r}=n;return this._client.get(Ne`/vector_stores/${r}/files/${e}`,{...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,n,s){const{vector_store_id:r,...i}=n;return this._client.post(Ne`/vector_stores/${r}/files/${e}`,{body:i,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e,n={},s){return this._client.getAPIList(Ne`/vector_stores/${e}/files`,In,{query:n,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,n,s){const{vector_store_id:r}=n;return this._client.delete(Ne`/vector_stores/${r}/files/${e}`,{...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}async poll(e,n,s){const r=We([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const i=await this.retrieve(n,{vector_store_id:e},{...s,headers:r}).withResponse(),a=i.data;switch(a.status){case"in_progress":let c=5e3;if(s?.pollIntervalMs)c=s.pollIntervalMs;else{const u=i.response.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(c=h)}}await om(c);break;case"failed":case"completed":return a}}}async upload(e,n,s){const r=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(e,{file_id:r.id},s)}async uploadAndPoll(e,n,s){const r=await this.upload(e,n,s);return await this.poll(e,r.id,s)}content(e,n,s){const{vector_store_id:r}=n;return this._client.getAPIList(Ne`/vector_stores/${r}/files/${e}/content`,Mb,{...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class $b extends et{constructor(){super(...arguments),this.files=new K8(this._client),this.fileBatches=new q8(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(Ne`/vector_stores/${e}`,{...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,s){return this._client.post(Ne`/vector_stores/${e}`,{body:n,...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",In,{query:e,...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(Ne`/vector_stores/${e}`,{...n,headers:We([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,s){return this._client.getAPIList(Ne`/vector_stores/${e}/search`,Mb,{body:n,method:"post",...s,headers:We([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}$b.Files=K8;$b.FileBatches=q8;class W8 extends et{create(e,n){return this._client.post("/videos",eM({body:e,...n},this._client))}retrieve(e,n){return this._client.get(Ne`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",Jy,{query:e,...n})}delete(e,n){return this._client.delete(Ne`/videos/${e}`,n)}downloadContent(e,n={},s){return this._client.get(Ne`/videos/${e}/content`,{query:n,...s,headers:We([{Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}remix(e,n,s){return this._client.post(Ne`/videos/${e}/remix`,eM({body:n,...s},this._client))}}var bu,G8,P0;class Y8 extends et{constructor(){super(...arguments),bu.add(this)}async unwrap(e,n,s=this._client.webhookSecret,r=300){return await this.verifySignature(e,n,s,r),JSON.parse(e)}async verifySignature(e,n,s=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");ue(this,bu,"m",G8).call(this,s);const i=We([n]).values,a=ue(this,bu,"m",P0).call(this,i,"webhook-signature"),c=ue(this,bu,"m",P0).call(this,i,"webhook-timestamp"),u=ue(this,bu,"m",P0).call(this,i,"webhook-id"),h=parseInt(c,10);if(isNaN(h))throw new wf("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-h>r)throw new wf("Webhook timestamp is too old");if(h>m+r)throw new wf("Webhook timestamp is too new");const p=a.split(" ").map(x=>x.startsWith("v1,")?x.substring(3):x),y=s.startsWith("whsec_")?Buffer.from(s.replace("whsec_",""),"base64"):Buffer.from(s,"utf-8"),v=u?`${u}.${c}.${e}`:`${c}.${e}`,b=await crypto.subtle.importKey("raw",y,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const x of p)try{const S=Buffer.from(x,"base64");if(await crypto.subtle.verify("HMAC",b,S,new TextEncoder().encode(v)))return}catch{continue}throw new wf("The given webhook signature does not match the expected signature")}}bu=new WeakSet,G8=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},P0=function(e,n){if(!e)throw new Error("Headers are required");const s=e.get(n);if(s==null)throw new Error(`Missing required header: ${n}`);return s};var C2,e4,$0,Z8;class wt{constructor({baseURL:e=cu("OPENAI_BASE_URL"),apiKey:n=cu("OPENAI_API_KEY"),organization:s=cu("OPENAI_ORG_ID")??null,project:r=cu("OPENAI_PROJECT_ID")??null,webhookSecret:i=cu("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(C2.add(this),$0.set(this,void 0),this.completions=new C8(this),this.chat=new UN(this),this.embeddings=new A8(this),this.files=new T8(this),this.images=new L8(this),this.audio=new cm(this),this.moderations=new P8(this),this.models=new I8(this),this.fineTuning=new Rh(this),this.graders=new XN(this),this.vectorStores=new $b(this),this.webhooks=new Y8(this),this.beta=new Th(this),this.batches=new y8(this),this.uploads=new QN(this),this.responses=new Pb(this),this.realtime=new Ib(this),this.conversations=new qN(this),this.evals=new WN(this),this.containers=new VN(this),this.videos=new W8(this),n===void 0)throw new st("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const c={apiKey:n,organization:s,project:r,webhookSecret:i,...a,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&Voe())throw new st(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??e4.DEFAULT_TIMEOUT,this.logger=c.logger??console;const u="warn";this.logLevel=u,this.logLevel=JO(c.logLevel,"ClientOptions.logLevel",this)??JO(cu("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??u,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??Yoe(),ut(this,$0,Xoe),this._options=c,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=s,this.project=r,this.webhookSecret=i}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return We([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return sle(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${yu}`}defaultIdempotencyKey(){return`stainless-node-retry-${bP()}`}makeStatusError(e,n,s,r){return vs.generate(e,n,s,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(s){throw s instanceof st?s:new st(`Failed to get token from 'apiKey' function: ${s.message}`,{cause:s})}if(typeof n!="string"||!n)throw new st(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,s){const r=!ue(this,C2,"m",Z8).call(this)&&s||this.baseURL,i=$oe(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return zoe(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:s}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(r=>({method:e,path:n,...r})))}request(e,n=null){return new Ob(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,s){const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:a,url:c,timeout:u}=await this.buildRequest(r,{retryCount:i-n});await this.prepareRequest(a,{url:c,options:r});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=s===void 0?"":`, retryOf: ${s}`,p=Date.now();if(ls(this).debug(`[${h}] sending request`,yl({retryOfRequestLogID:s,method:r.method,url:c,options:r,headers:a.headers})),r.signal?.aborted)throw new Zr;const y=new AbortController,v=await this.fetchWithTimeout(c,a,u,y).catch(f2),b=Date.now();if(v instanceof globalThis.Error){const k=`retrying, ${n} attempts remaining`;if(r.signal?.aborted)throw new Zr;const C=d2(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return ls(this).info(`[${h}] connection ${C?"timed out":"failed"} - ${k}`),ls(this).debug(`[${h}] connection ${C?"timed out":"failed"} (${k})`,yl({retryOfRequestLogID:s,url:c,durationMs:b-p,message:v.message})),this.retryRequest(r,n,s??h);throw ls(this).info(`[${h}] connection ${C?"timed out":"failed"} - error; no more retries left`),ls(this).debug(`[${h}] connection ${C?"timed out":"failed"} (error; no more retries left)`,yl({retryOfRequestLogID:s,url:c,durationMs:b-p,message:v.message})),C?new ON:new Tb({cause:v})}const x=[...v.headers.entries()].filter(([k])=>k==="x-request-id").map(([k,C])=>", "+k+": "+JSON.stringify(C)).join(""),S=`[${h}${m}${x}] ${a.method} ${c} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${b-p}ms`;if(!v.ok){const k=await this.shouldRetry(v);if(n&&k){const D=`retrying, ${n} attempts remaining`;return await Zoe(v.body),ls(this).info(`${S} - ${D}`),ls(this).debug(`[${h}] response error (${D})`,yl({retryOfRequestLogID:s,url:v.url,status:v.status,headers:v.headers,durationMs:b-p})),this.retryRequest(r,n,s??h,v.headers)}const C=k?"error; no more retries left":"error; not retryable";ls(this).info(`${S} - ${C}`);const N=await v.text().catch(D=>f2(D).message),R=Foe(N),O=R?void 0:N;throw ls(this).debug(`[${h}] response error (${C})`,yl({retryOfRequestLogID:s,url:v.url,status:v.status,headers:v.headers,message:O,durationMs:Date.now()-p})),this.makeStatusError(v.status,R,O,v.headers)}return ls(this).info(S),ls(this).debug(`[${h}] response start`,yl({retryOfRequestLogID:s,url:v.url,status:v.status,headers:v.headers,durationMs:b-p})),{response:v,options:r,controller:y,requestLogID:h,retryOfRequestLogID:s,startTime:p}}getAPIList(e,n,s){return this.requestAPIList(n,{method:"get",path:e,...s})}requestAPIList(e,n){const s=this.makeRequest(n,null,void 0);return new dle(this,s,e)}async fetchWithTimeout(e,n,s,r){const{signal:i,method:a,...c}=n||{};i&&i.addEventListener("abort",()=>r.abort());const u=setTimeout(()=>r.abort(),s),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m={signal:r.signal,...h?{duplex:"half"}:{},method:"GET",...c};a&&(m.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s,r){let i;const a=r?.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(i=u)}const c=r?.get("retry-after");if(c&&!i){const u=parseFloat(c);Number.isNaN(u)?i=Date.parse(c)-Date.now():i=u*1e3}if(!(i&&0<=i&&i<60*1e3)){const u=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,u)}return await om(i),this.makeRequest(e,n-1,s)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(.5*Math.pow(2,i),8),c=1-Math.random()*.25;return a*c*1e3}async buildRequest(e,{retryCount:n=0}={}){const s={...e},{method:r,path:i,query:a,defaultBaseURL:c}=s,u=this.buildURL(i,a,c);"timeout"in s&&Hoe("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:s}),p=await this.buildHeaders({options:e,method:r,bodyHeaders:h,retryCount:n});return{req:{method:r,headers:p,...s.signal&&{signal:s.signal},...globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"},...m&&{body:m},...this.fetchOptions??{},...s.fetchOptions??{}},url:u,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:s,retryCount:r}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const a=We([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...Goe(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,s,e.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=We([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:OP(e)}:ue(this,$0,"f").call(this,{body:e,headers:s})}}e4=wt,$0=new WeakMap,C2=new WeakSet,Z8=function(){return this.baseURL!=="https://api.openai.com/v1"};wt.OpenAI=e4;wt.DEFAULT_TIMEOUT=6e5;wt.OpenAIError=st;wt.APIError=vs;wt.APIConnectionError=Tb;wt.APIConnectionTimeoutError=ON;wt.APIUserAbortError=Zr;wt.NotFoundError=SP;wt.ConflictError=kP;wt.RateLimitError=NP;wt.BadRequestError=_P;wt.AuthenticationError=xP;wt.InternalServerError=EP;wt.PermissionDeniedError=wP;wt.UnprocessableEntityError=CP;wt.InvalidWebhookSignatureError=wf;wt.toFile=yle;wt.Completions=C8;wt.Chat=UN;wt.Embeddings=A8;wt.Files=T8;wt.Images=L8;wt.Audio=cm;wt.Moderations=P8;wt.Models=I8;wt.FineTuning=Rh;wt.Graders=XN;wt.VectorStores=$b;wt.Webhooks=Y8;wt.Beta=Th;wt.Batches=y8;wt.Uploads=QN;wt.Responses=Pb;wt.Realtime=Ib;wt.Conversations=qN;wt.Evals=WN;wt.Containers=VN;wt.Videos=W8;const Vle=new wt({baseURL:`${window.location.origin}/openai/v1`,apiKey:"not-needed",dangerouslyAllowBrowser:!0}),xl={User:"user",Assistant:"assistant",Tool:"tool"};function qle(t){return t.map(e=>({type:"function",name:e.name,description:e.description,parameters:e.parameters,strict:!1}))}async function Kle(t,e,n,s,r){const i=[];for(const m of n)switch(m.role){case xl.User:{i.push({type:"message",role:"user",content:[{type:"input_text",text:m.content}]});break}case xl.Tool:{if(m.toolResult){const p=typeof m.toolResult.data=="string"?m.toolResult.data:JSON.stringify(m.toolResult.data);i.push({type:"function_call_output",call_id:m.toolResult.id,output:p})}break}case xl.Assistant:{if(m.toolCalls&&m.toolCalls.length>0)for(const p of m.toolCalls)i.push({type:"function_call",call_id:p.id,name:p.name,arguments:p.arguments});else i.push({type:"message",role:"assistant",content:m.content});break}}const a=Vle.responses.stream({model:t,tools:qle(s),input:i,instructions:e});if(r){let m="";a.on("response.output_text.delta",p=>{const y=p.delta;m+=y,r(y,m)})}const c=await a.finalResponse();if(!c.output)return{role:xl.Assistant,content:""};let u="";const h=[];for(const m of c.output)if(m.type==="message"){if(m.content)for(const p of m.content)p.type==="output_text"&&(u=p.text)}else m.type==="function_call"&&m.call_id&&h.push({id:m.call_id,name:m.name,arguments:m.arguments});return{role:xl.Assistant,content:u,toolCalls:h.length>0?h:void 0}}function Wle(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Gle=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Yle=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Zle={};function gM(t,e){return(Zle.jsx?Yle:Gle).test(t)}const Xle=/[ \t\n\f\r]/g;function Jle(t){return typeof t=="object"?t.type==="text"?yM(t.value):!1:yM(t)}function yM(t){return t.replace(Xle,"")===""}class um{constructor(e,n,s){this.normal=n,this.property=e,s&&(this.space=s)}}um.prototype.normal={};um.prototype.property={};um.prototype.space=void 0;function X8(t,e){const n={},s={};for(const r of t)Object.assign(n,r.property),Object.assign(s,r.normal);return new um(n,s,e)}function N2(t){return t.toLowerCase()}class ir{constructor(e,n){this.attribute=n,this.property=e}}ir.prototype.attribute="";ir.prototype.booleanish=!1;ir.prototype.boolean=!1;ir.prototype.commaOrSpaceSeparated=!1;ir.prototype.commaSeparated=!1;ir.prototype.defined=!1;ir.prototype.mustUseProperty=!1;ir.prototype.number=!1;ir.prototype.overloadedBoolean=!1;ir.prototype.property="";ir.prototype.spaceSeparated=!1;ir.prototype.space=void 0;let Qle=0;const xt=mc(),Mn=mc(),E2=mc(),Ae=mc(),Qt=mc(),Pu=mc(),yr=mc();function mc(){return 2**++Qle}const A2=Object.freeze(Object.defineProperty({__proto__:null,boolean:xt,booleanish:Mn,commaOrSpaceSeparated:yr,commaSeparated:Pu,number:Ae,overloadedBoolean:E2,spaceSeparated:Qt},Symbol.toStringTag,{value:"Module"})),kw=Object.keys(A2);class t4 extends ir{constructor(e,n,s,r){let i=-1;if(super(e,n),vM(this,"space",r),typeof s=="number")for(;++i<kw.length;){const a=kw[i];vM(this,kw[i],(s&A2[a])===A2[a])}}}t4.prototype.defined=!0;function vM(t,e,n){n&&(t[e]=n)}function Oh(t){const e={},n={};for(const[s,r]of Object.entries(t.properties)){const i=new t4(s,t.transform(t.attributes||{},s),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(s)&&(i.mustUseProperty=!0),e[s]=i,n[N2(s)]=s,n[N2(i.attribute)]=s}return new um(e,n,t.space)}const J8=Oh({properties:{ariaActiveDescendant:null,ariaAtomic:Mn,ariaAutoComplete:null,ariaBusy:Mn,ariaChecked:Mn,ariaColCount:Ae,ariaColIndex:Ae,ariaColSpan:Ae,ariaControls:Qt,ariaCurrent:null,ariaDescribedBy:Qt,ariaDetails:null,ariaDisabled:Mn,ariaDropEffect:Qt,ariaErrorMessage:null,ariaExpanded:Mn,ariaFlowTo:Qt,ariaGrabbed:Mn,ariaHasPopup:null,ariaHidden:Mn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qt,ariaLevel:Ae,ariaLive:null,ariaModal:Mn,ariaMultiLine:Mn,ariaMultiSelectable:Mn,ariaOrientation:null,ariaOwns:Qt,ariaPlaceholder:null,ariaPosInSet:Ae,ariaPressed:Mn,ariaReadOnly:Mn,ariaRelevant:null,ariaRequired:Mn,ariaRoleDescription:Qt,ariaRowCount:Ae,ariaRowIndex:Ae,ariaRowSpan:Ae,ariaSelected:Mn,ariaSetSize:Ae,ariaSort:null,ariaValueMax:Ae,ariaValueMin:Ae,ariaValueNow:Ae,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Q8(t,e){return e in t?t[e]:e}function e$(t,e){return Q8(t,e.toLowerCase())}const ece=Oh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pu,acceptCharset:Qt,accessKey:Qt,action:null,allow:null,allowFullScreen:xt,allowPaymentRequest:xt,allowUserMedia:xt,alt:null,as:null,async:xt,autoCapitalize:null,autoComplete:Qt,autoFocus:xt,autoPlay:xt,blocking:Qt,capture:null,charSet:null,checked:xt,cite:null,className:Qt,cols:Ae,colSpan:null,content:null,contentEditable:Mn,controls:xt,controlsList:Qt,coords:Ae|Pu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:xt,defer:xt,dir:null,dirName:null,disabled:xt,download:E2,draggable:Mn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:xt,formTarget:null,headers:Qt,height:Ae,hidden:E2,high:Ae,href:null,hrefLang:null,htmlFor:Qt,httpEquiv:Qt,id:null,imageSizes:null,imageSrcSet:null,inert:xt,inputMode:null,integrity:null,is:null,isMap:xt,itemId:null,itemProp:Qt,itemRef:Qt,itemScope:xt,itemType:Qt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:xt,low:Ae,manifest:null,max:null,maxLength:Ae,media:null,method:null,min:null,minLength:Ae,multiple:xt,muted:xt,name:null,nonce:null,noModule:xt,noValidate:xt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:xt,optimum:Ae,pattern:null,ping:Qt,placeholder:null,playsInline:xt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:xt,referrerPolicy:null,rel:Qt,required:xt,reversed:xt,rows:Ae,rowSpan:Ae,sandbox:Qt,scope:null,scoped:xt,seamless:xt,selected:xt,shadowRootClonable:xt,shadowRootDelegatesFocus:xt,shadowRootMode:null,shape:null,size:Ae,sizes:null,slot:null,span:Ae,spellCheck:Mn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ae,step:null,style:null,tabIndex:Ae,target:null,title:null,translate:null,type:null,typeMustMatch:xt,useMap:null,value:Mn,width:Ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qt,axis:null,background:null,bgColor:null,border:Ae,borderColor:null,bottomMargin:Ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:xt,declare:xt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ae,leftMargin:Ae,link:null,longDesc:null,lowSrc:null,marginHeight:Ae,marginWidth:Ae,noResize:xt,noHref:xt,noShade:xt,noWrap:xt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ae,rules:null,scheme:null,scrolling:Mn,standby:null,summary:null,text:null,topMargin:Ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:xt,disableRemotePlayback:xt,prefix:null,property:null,results:Ae,security:null,unselectable:null},space:"html",transform:e$}),tce=Oh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:yr,accentHeight:Ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ae,amplitude:Ae,arabicForm:null,ascent:Ae,attributeName:null,attributeType:null,azimuth:Ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ae,by:null,calcMode:null,capHeight:Ae,className:Qt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ae,diffuseConstant:Ae,direction:null,display:null,dur:null,divisor:Ae,dominantBaseline:null,download:xt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ae,enableBackground:null,end:null,event:null,exponent:Ae,externalResourcesRequired:null,fill:null,fillOpacity:Ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pu,g2:Pu,glyphName:Pu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ae,horizOriginX:Ae,horizOriginY:Ae,id:null,ideographic:Ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ae,k:Ae,k1:Ae,k2:Ae,k3:Ae,k4:Ae,kernelMatrix:yr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ae,overlineThickness:Ae,paintOrder:null,panose1:null,path:null,pathLength:Ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ae,pointsAtY:Ae,pointsAtZ:Ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:yr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:yr,rev:yr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:yr,requiredFeatures:yr,requiredFonts:yr,requiredFormats:yr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ae,specularExponent:Ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ae,strikethroughThickness:Ae,string:null,stroke:null,strokeDashArray:yr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ae,strokeOpacity:Ae,strokeWidth:null,style:null,surfaceScale:Ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:yr,tabIndex:Ae,tableValues:null,target:null,targetX:Ae,targetY:Ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:yr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ae,underlineThickness:Ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ae,values:null,vAlphabetic:Ae,vMathematical:Ae,vectorEffect:null,vHanging:Ae,vIdeographic:Ae,version:null,vertAdvY:Ae,vertOriginX:Ae,vertOriginY:Ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Q8}),t$=Oh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),n$=Oh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:e$}),s$=Oh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),nce={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sce=/[A-Z]/g,bM=/-[a-z]/g,rce=/^data[-\w.:]+$/i;function ice(t,e){const n=N2(e);let s=e,r=ir;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&rce.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(bM,oce);s="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!bM.test(i)){let a=i.replace(sce,ace);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}r=t4}return new r(s,e)}function ace(t){return"-"+t.toLowerCase()}function oce(t){return t.charAt(1).toUpperCase()}const lce=X8([J8,ece,t$,n$,s$],"html"),n4=X8([J8,tce,t$,n$,s$],"svg");function cce(t){return t.join(" ").trim()}var hu={},Cw,_M;function uce(){if(_M)return Cw;_M=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,c=/^\s+|\s+$/g,u=`
`,h="/",m="*",p="",y="comment",v="declaration";function b(S,k){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];k=k||{};var C=1,N=1;function R(X){var G=X.match(e);G&&(C+=G.length);var I=X.lastIndexOf(u);N=~I?X.length-I:N+X.length}function O(){var X={line:C,column:N};return function(G){return G.position=new E(X),q(),G}}function E(X){this.start=X,this.end={line:C,column:N},this.source=k.source}E.prototype.content=S;function D(X){var G=new Error(k.source+":"+C+":"+N+": "+X);if(G.reason=X,G.filename=k.source,G.line=C,G.column=N,G.source=S,!k.silent)throw G}function B(X){var G=X.exec(S);if(G){var I=G[0];return R(I),S=S.slice(I.length),G}}function q(){B(n)}function P(X){var G;for(X=X||[];G=W();)G!==!1&&X.push(G);return X}function W(){var X=O();if(!(h!=S.charAt(0)||m!=S.charAt(1))){for(var G=2;p!=S.charAt(G)&&(m!=S.charAt(G)||h!=S.charAt(G+1));)++G;if(G+=2,p===S.charAt(G-1))return D("End of comment missing");var I=S.slice(2,G-2);return N+=2,R(I),S=S.slice(G),N+=2,X({type:y,comment:I})}}function z(){var X=O(),G=B(s);if(G){if(W(),!B(r))return D("property missing ':'");var I=B(i),Y=X({type:v,property:x(G[0].replace(t,p)),value:I?x(I[0].replace(t,p)):p});return B(a),Y}}function K(){var X=[];P(X);for(var G;G=z();)G!==!1&&(X.push(G),P(X));return X}return q(),K()}function x(S){return S?S.replace(c,p):p}return Cw=b,Cw}var xM;function hce(){if(xM)return hu;xM=1;var t=hu&&hu.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(hu,"__esModule",{value:!0}),hu.default=n;const e=t(uce());function n(s,r){let i=null;if(!s||typeof s!="string")return i;const a=(0,e.default)(s),c=typeof r=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:h,value:m}=u;c?r(h,m,u):m&&(i=i||{},i[h]=m)}),i}return hu}var Ud={},wM;function dce(){if(wM)return Ud;wM=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,i=function(h){return!h||n.test(h)||t.test(h)},a=function(h,m){return m.toUpperCase()},c=function(h,m){return"".concat(m,"-")},u=function(h,m){return m===void 0&&(m={}),i(h)?h:(h=h.toLowerCase(),m.reactCompat?h=h.replace(r,c):h=h.replace(s,c),h.replace(e,a))};return Ud.camelCase=u,Ud}var Hd,SM;function fce(){if(SM)return Hd;SM=1;var t=Hd&&Hd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=t(hce()),n=dce();function s(r,i){var a={};return!r||typeof r!="string"||(0,e.default)(r,function(c,u){c&&u&&(a[(0,n.camelCase)(c,i)]=u)}),a}return s.default=s,Hd=s,Hd}var pce=fce();const mce=uv(pce),r$=i$("end"),s4=i$("start");function i$(t){return e;function e(n){const s=n&&n.position&&n.position[t]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function gce(t){const e=s4(t),n=r$(t);if(e&&n)return{start:e,end:n}}function Zf(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?kM(t.position):"start"in t||"end"in t?kM(t):"line"in t||"column"in t?j2(t):""}function j2(t){return CM(t&&t.line)+":"+CM(t&&t.column)}function kM(t){return j2(t&&t.start)+"-"+j2(t&&t.end)}function CM(t){return t&&typeof t=="number"?t:1}class Es extends Error{constructor(e,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let r="",i={},a=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof e=="string"?r=e:!i.cause&&e&&(a=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&typeof s=="string"){const u=s.indexOf(":");u===-1?i.ruleId=s:(i.source=s.slice(0,u),i.ruleId=s.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const c=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=c?c.line:void 0,this.name=Zf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Es.prototype.file="";Es.prototype.name="";Es.prototype.reason="";Es.prototype.message="";Es.prototype.stack="";Es.prototype.column=void 0;Es.prototype.line=void 0;Es.prototype.ancestors=void 0;Es.prototype.cause=void 0;Es.prototype.fatal=void 0;Es.prototype.place=void 0;Es.prototype.ruleId=void 0;Es.prototype.source=void 0;const r4={}.hasOwnProperty,yce=new Map,vce=/[A-Z]/g,bce=new Set(["table","tbody","thead","tfoot","tr"]),_ce=new Set(["td","th"]),a$="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xce(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let s;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=jce(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=Ace(n,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:s,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?n4:lce,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},i=o$(r,t,void 0);return i&&typeof i!="string"?i:r.create(t,r.Fragment,{children:i||void 0},void 0)}function o$(t,e,n){if(e.type==="element")return wce(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Sce(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Cce(t,e,n);if(e.type==="mdxjsEsm")return kce(t,e);if(e.type==="root")return Nce(t,e,n);if(e.type==="text")return Ece(t,e)}function wce(t,e,n){const s=t.schema;let r=s;e.tagName.toLowerCase()==="svg"&&s.space==="html"&&(r=n4,t.schema=r),t.ancestors.push(e);const i=c$(t,e.tagName,!1),a=Tce(t,e);let c=a4(t,e);return bce.has(e.tagName)&&(c=c.filter(function(u){return typeof u=="string"?!Jle(u):!0})),l$(t,a,i,e),i4(a,c),t.ancestors.pop(),t.schema=s,t.create(e,i,a,n)}function Sce(t,e){if(e.data&&e.data.estree&&t.evaluater){const s=e.data.estree.body[0];return s.type,t.evaluater.evaluateExpression(s.expression)}Ep(t,e.position)}function kce(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ep(t,e.position)}function Cce(t,e,n){const s=t.schema;let r=s;e.name==="svg"&&s.space==="html"&&(r=n4,t.schema=r),t.ancestors.push(e);const i=e.name===null?t.Fragment:c$(t,e.name,!0),a=Rce(t,e),c=a4(t,e);return l$(t,a,i,e),i4(a,c),t.ancestors.pop(),t.schema=s,t.create(e,i,a,n)}function Nce(t,e,n){const s={};return i4(s,a4(t,e)),t.create(e,t.Fragment,s,n)}function Ece(t,e){return e.value}function l$(t,e,n,s){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=s)}function i4(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Ace(t,e,n){return s;function s(r,i,a,c){const h=Array.isArray(a.children)?n:e;return c?h(i,a,c):h(i,a)}}function jce(t,e){return n;function n(s,r,i,a){const c=Array.isArray(i.children),u=s4(s);return e(r,i,a,c,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function Tce(t,e){const n={};let s,r;for(r in e.properties)if(r!=="children"&&r4.call(e.properties,r)){const i=Oce(t,r,e.properties[r]);if(i){const[a,c]=i;t.tableCellAlignToStyle&&a==="align"&&typeof c=="string"&&_ce.has(e.tagName)?s=c:n[a]=c}}if(s){const i=n.style||(n.style={});i[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function Rce(t,e){const n={};for(const s of e.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&t.evaluater){const i=s.data.estree.body[0];i.type;const a=i.expression;a.type;const c=a.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else Ep(t,e.position);else{const r=s.name;let i;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&t.evaluater){const c=s.value.data.estree.body[0];c.type,i=t.evaluater.evaluateExpression(c.expression)}else Ep(t,e.position);else i=s.value===null?!0:s.value;n[r]=i}return n}function a4(t,e){const n=[];let s=-1;const r=t.passKeys?new Map:yce;for(;++s<e.children.length;){const i=e.children[s];let a;if(t.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const h=r.get(u)||0;a=u+"-"+h,r.set(u,h+1)}}const c=o$(t,i,a);c!==void 0&&n.push(c)}return n}function Oce(t,e,n){const s=ice(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?Wle(n):cce(n)),s.property==="style"){let r=typeof n=="object"?n:Mce(t,String(n));return t.stylePropertyNameCase==="css"&&(r=Dce(r)),["style",r]}return[t.elementAttributeNameCase==="react"&&s.space?nce[s.property]||s.property:s.attribute,n]}}function Mce(t,e){try{return mce(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const s=n,r=new Es("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=a$+"#cannot-parse-style-attribute",r}}function c$(t,e,n){let s;if(!n)s={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let i=-1,a;for(;++i<r.length;){const c=gM(r[i])?{type:"Identifier",name:r[i]}:{type:"Literal",value:r[i]};a=a?{type:"MemberExpression",object:a,property:c,computed:!!(i&&c.type==="Literal"),optional:!1}:c}s=a}else s=gM(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(s.type==="Literal"){const r=s.value;return r4.call(t.components,r)?t.components[r]:r}if(t.evaluater)return t.evaluater.evaluateExpression(s);Ep(t)}function Ep(t,e){const n=new Es("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=a$+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Dce(t){const e={};let n;for(n in t)r4.call(t,n)&&(e[Bce(n)]=t[n]);return e}function Bce(t){let e=t.replace(vce,Lce);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Lce(t){return"-"+t.toLowerCase()}const Nw={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ice={};function o4(t,e){const n=Ice,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return u$(t,s,r)}function u$(t,e,n){if(Pce(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return NM(t.children,e,n)}return Array.isArray(t)?NM(t,e,n):""}function NM(t,e,n){const s=[];let r=-1;for(;++r<t.length;)s[r]=u$(t[r],e,n);return s.join("")}function Pce(t){return!!(t&&typeof t=="object")}const EM=document.createElement("i");function l4(t){const e="&"+t+";";EM.innerHTML=e;const n=EM.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Nr(t,e,n,s){const r=t.length;let i=0,a;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,s.length<1e4)a=Array.from(s),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);i<s.length;)a=s.slice(i,i+1e4),a.unshift(e,0),t.splice(...a),i+=1e4,e+=1e4}function Kr(t,e){return t.length>0?(Nr(t,t.length,0,e),t):e}const AM={}.hasOwnProperty;function h$(t){const e={};let n=-1;for(;++n<t.length;)$ce(e,t[n]);return e}function $ce(t,e){let n;for(n in e){const r=(AM.call(t,n)?t[n]:void 0)||(t[n]={}),i=e[n];let a;if(i)for(a in i){AM.call(r,a)||(r[a]=[]);const c=i[a];zce(r[a],Array.isArray(c)?c:c?[c]:[])}}}function zce(t,e){let n=-1;const s=[];for(;++n<e.length;)(e[n].add==="after"?t:s).push(e[n]);Nr(t,0,0,s)}function d$(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function fi(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ds=Ko(/[A-Za-z]/),Ss=Ko(/[\dA-Za-z]/),Uce=Ko(/[#-'*+\--9=?A-Z^-~]/);function av(t){return t!==null&&(t<32||t===127)}const T2=Ko(/\d/),Hce=Ko(/[\dA-Fa-f]/),Fce=Ko(/[!-/:-@[-`{-~]/);function at(t){return t!==null&&t<-2}function Jt(t){return t!==null&&(t<0||t===32)}function At(t){return t===-2||t===-1||t===32}const zb=Ko(new RegExp("\\p{P}|\\p{S}","u")),ic=Ko(/\s/);function Ko(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Mh(t){const e=[];let n=-1,s=0,r=0;for(;++n<t.length;){const i=t.charCodeAt(n);let a="";if(i===37&&Ss(t.charCodeAt(n+1))&&Ss(t.charCodeAt(n+2)))r=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const c=t.charCodeAt(n+1);i<56320&&c>56319&&c<57344?(a=String.fromCharCode(i,c),r=1):a=""}else a=String.fromCharCode(i);a&&(e.push(t.slice(s,n),encodeURIComponent(a)),s=n+r+1,a=""),r&&(n+=r,r=0)}return e.join("")+t.slice(s)}function Dt(t,e,n,s){const r=s?s-1:Number.POSITIVE_INFINITY;let i=0;return a;function a(u){return At(u)?(t.enter(n),c(u)):e(u)}function c(u){return At(u)&&i++<r?(t.consume(u),c):(t.exit(n),e(u))}}const Vce={tokenize:qce};function qce(t){const e=t.attempt(this.parser.constructs.contentInitial,s,r);let n;return e;function s(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Dt(t,e,"linePrefix")}function r(c){return t.enter("paragraph"),i(c)}function i(c){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(c)}function a(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return at(c)?(t.consume(c),t.exit("chunkText"),i):(t.consume(c),a)}}const Kce={tokenize:Wce},jM={tokenize:Gce};function Wce(t){const e=this,n=[];let s=0,r,i,a;return c;function c(N){if(s<n.length){const R=n[s];return e.containerState=R[1],t.attempt(R[0].continuation,u,h)(N)}return h(N)}function u(N){if(s++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&C();const R=e.events.length;let O=R,E;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){E=e.events[O][1].end;break}k(s);let D=R;for(;D<e.events.length;)e.events[D][1].end={...E},D++;return Nr(e.events,O+1,0,e.events.slice(R)),e.events.length=D,h(N)}return c(N)}function h(N){if(s===n.length){if(!r)return y(N);if(r.currentConstruct&&r.currentConstruct.concrete)return b(N);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(jM,m,p)(N)}function m(N){return r&&C(),k(s),y(N)}function p(N){return e.parser.lazy[e.now().line]=s!==n.length,a=e.now().offset,b(N)}function y(N){return e.containerState={},t.attempt(jM,v,b)(N)}function v(N){return s++,n.push([e.currentConstruct,e.containerState]),y(N)}function b(N){if(N===null){r&&C(),k(0),t.consume(N);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:i}),x(N)}function x(N){if(N===null){S(t.exit("chunkFlow"),!0),k(0),t.consume(N);return}return at(N)?(t.consume(N),S(t.exit("chunkFlow")),s=0,e.interrupt=void 0,c):(t.consume(N),x)}function S(N,R){const O=e.sliceStream(N);if(R&&O.push(null),N.previous=i,i&&(i.next=N),i=N,r.defineSkip(N.start),r.write(O),e.parser.lazy[N.start.line]){let E=r.events.length;for(;E--;)if(r.events[E][1].start.offset<a&&(!r.events[E][1].end||r.events[E][1].end.offset>a))return;const D=e.events.length;let B=D,q,P;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){if(q){P=e.events[B][1].end;break}q=!0}for(k(s),E=D;E<e.events.length;)e.events[E][1].end={...P},E++;Nr(e.events,B+1,0,e.events.slice(D)),e.events.length=E}}function k(N){let R=n.length;for(;R-- >N;){const O=n[R];e.containerState=O[1],O[0].exit.call(e,t)}n.length=N}function C(){r.write([null]),i=void 0,r=void 0,e.containerState._closeFlow=void 0}}function Gce(t,e,n){return Dt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ih(t){if(t===null||Jt(t)||ic(t))return 1;if(zb(t))return 2}function Ub(t,e,n){const s=[];let r=-1;for(;++r<t.length;){const i=t[r].resolveAll;i&&!s.includes(i)&&(e=i(e,n),s.push(i))}return e}const R2={name:"attention",resolveAll:Yce,tokenize:Zce};function Yce(t,e){let n=-1,s,r,i,a,c,u,h,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(s=n;s--;)if(t[s][0]==="exit"&&t[s][1].type==="attentionSequence"&&t[s][1]._open&&e.sliceSerialize(t[s][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[s][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[s][1].end.offset-t[s][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[s][1].end.offset-t[s][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[s][1].end},y={...t[n][1].start};TM(p,-u),TM(y,u),a={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...t[s][1].end}},c={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},i={type:u>1?"strongText":"emphasisText",start:{...t[s][1].end},end:{...t[n][1].start}},r={type:u>1?"strong":"emphasis",start:{...a.start},end:{...c.end}},t[s][1].end={...a.start},t[n][1].start={...c.end},h=[],t[s][1].end.offset-t[s][1].start.offset&&(h=Kr(h,[["enter",t[s][1],e],["exit",t[s][1],e]])),h=Kr(h,[["enter",r,e],["enter",a,e],["exit",a,e],["enter",i,e]]),h=Kr(h,Ub(e.parser.constructs.insideSpan.null,t.slice(s+1,n),e)),h=Kr(h,[["exit",i,e],["enter",c,e],["exit",c,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,h=Kr(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,Nr(t,s-1,n-s+3,h),n=s+h.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Zce(t,e){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,r=ih(s);let i;return a;function a(u){return i=u,t.enter("attentionSequence"),c(u)}function c(u){if(u===i)return t.consume(u),c;const h=t.exit("attentionSequence"),m=ih(u),p=!m||m===2&&r||n.includes(u),y=!r||r===2&&m||n.includes(s);return h._open=!!(i===42?p:p&&(r||!y)),h._close=!!(i===42?y:y&&(m||!p)),e(u)}}function TM(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Xce={name:"autolink",tokenize:Jce};function Jce(t,e,n){let s=0;return r;function r(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i}function i(v){return Ds(v)?(t.consume(v),a):v===64?n(v):h(v)}function a(v){return v===43||v===45||v===46||Ss(v)?(s=1,c(v)):h(v)}function c(v){return v===58?(t.consume(v),s=0,u):(v===43||v===45||v===46||Ss(v))&&s++<32?(t.consume(v),c):(s=0,h(v))}function u(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||av(v)?n(v):(t.consume(v),u)}function h(v){return v===64?(t.consume(v),m):Uce(v)?(t.consume(v),h):n(v)}function m(v){return Ss(v)?p(v):n(v)}function p(v){return v===46?(t.consume(v),s=0,m):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):y(v)}function y(v){if((v===45||Ss(v))&&s++<63){const b=v===45?y:p;return t.consume(v),b}return n(v)}}const hm={partial:!0,tokenize:Qce};function Qce(t,e,n){return s;function s(i){return At(i)?Dt(t,r,"linePrefix")(i):r(i)}function r(i){return i===null||at(i)?e(i):n(i)}}const f$={continuation:{tokenize:tue},exit:nue,name:"blockQuote",tokenize:eue};function eue(t,e,n){const s=this;return r;function r(a){if(a===62){const c=s.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),i}return n(a)}function i(a){return At(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function tue(t,e,n){const s=this;return r;function r(a){return At(a)?Dt(t,i,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return t.attempt(f$,e,n)(a)}}function nue(t){t.exit("blockQuote")}const p$={name:"characterEscape",tokenize:sue};function sue(t,e,n){return s;function s(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),r}function r(i){return Fce(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(i)}}const m$={name:"characterReference",tokenize:rue};function rue(t,e,n){const s=this;let r=0,i,a;return c;function c(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),u}function u(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),i=31,a=Ss,m(p))}function h(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,a=Hce,m):(t.enter("characterReferenceValue"),i=7,a=T2,m(p))}function m(p){if(p===59&&r){const y=t.exit("characterReferenceValue");return a===Ss&&!l4(s.sliceSerialize(y))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(p)&&r++<i?(t.consume(p),m):n(p)}}const RM={partial:!0,tokenize:aue},OM={concrete:!0,name:"codeFenced",tokenize:iue};function iue(t,e,n){const s=this,r={partial:!0,tokenize:O};let i=0,a=0,c;return u;function u(E){return h(E)}function h(E){const D=s.events[s.events.length-1];return i=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,c=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(E)}function m(E){return E===c?(a++,t.consume(E),m):a<3?n(E):(t.exit("codeFencedFenceSequence"),At(E)?Dt(t,p,"whitespace")(E):p(E))}function p(E){return E===null||at(E)?(t.exit("codeFencedFence"),s.interrupt?e(E):t.check(RM,x,R)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===null||at(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(E)):At(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Dt(t,v,"whitespace")(E)):E===96&&E===c?n(E):(t.consume(E),y)}function v(E){return E===null||at(E)?p(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),b(E))}function b(E){return E===null||at(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(E)):E===96&&E===c?n(E):(t.consume(E),b)}function x(E){return t.attempt(r,R,S)(E)}function S(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),k}function k(E){return i>0&&At(E)?Dt(t,C,"linePrefix",i+1)(E):C(E)}function C(E){return E===null||at(E)?t.check(RM,x,R)(E):(t.enter("codeFlowValue"),N(E))}function N(E){return E===null||at(E)?(t.exit("codeFlowValue"),C(E)):(t.consume(E),N)}function R(E){return t.exit("codeFenced"),e(E)}function O(E,D,B){let q=0;return P;function P(G){return E.enter("lineEnding"),E.consume(G),E.exit("lineEnding"),W}function W(G){return E.enter("codeFencedFence"),At(G)?Dt(E,z,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):z(G)}function z(G){return G===c?(E.enter("codeFencedFenceSequence"),K(G)):B(G)}function K(G){return G===c?(q++,E.consume(G),K):q>=a?(E.exit("codeFencedFenceSequence"),At(G)?Dt(E,X,"whitespace")(G):X(G)):B(G)}function X(G){return G===null||at(G)?(E.exit("codeFencedFence"),D(G)):B(G)}}}function aue(t,e,n){const s=this;return r;function r(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i)}function i(a){return s.parser.lazy[s.now().line]?n(a):e(a)}}const Ew={name:"codeIndented",tokenize:lue},oue={partial:!0,tokenize:cue};function lue(t,e,n){const s=this;return r;function r(h){return t.enter("codeIndented"),Dt(t,i,"linePrefix",5)(h)}function i(h){const m=s.events[s.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?a(h):n(h)}function a(h){return h===null?u(h):at(h)?t.attempt(oue,a,u)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||at(h)?(t.exit("codeFlowValue"),a(h)):(t.consume(h),c)}function u(h){return t.exit("codeIndented"),e(h)}}function cue(t,e,n){const s=this;return r;function r(a){return s.parser.lazy[s.now().line]?n(a):at(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),r):Dt(t,i,"linePrefix",5)(a)}function i(a){const c=s.events[s.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(a):at(a)?r(a):n(a)}}const uue={name:"codeText",previous:due,resolve:hue,tokenize:fue};function hue(t){let e=t.length-4,n=3,s,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(s=n;++s<e;)if(t[s][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(s=n-1,e++;++s<=e;)r===void 0?s!==e&&t[s][1].type!=="lineEnding"&&(r=s):(s===e||t[s][1].type==="lineEnding")&&(t[r][1].type="codeTextData",s!==r+2&&(t[r][1].end=t[s-1][1].end,t.splice(r+2,s-r-2),e-=s-r-2,s=r+2),r=void 0);return t}function due(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function fue(t,e,n){let s=0,r,i;return a;function a(p){return t.enter("codeText"),t.enter("codeTextSequence"),c(p)}function c(p){return p===96?(t.consume(p),s++,c):(t.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),u):p===96?(i=t.enter("codeTextSequence"),r=0,m(p)):at(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("codeTextData"),h(p))}function h(p){return p===null||p===32||p===96||at(p)?(t.exit("codeTextData"),u(p)):(t.consume(p),h)}function m(p){return p===96?(t.consume(p),r++,m):r===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(i.type="codeTextData",h(p))}}class pue{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(e,s):e>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(e,n,s){const r=n||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return s&&Fd(this.left,s),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Fd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Fd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Fd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Fd(this.left,n.reverse())}}}function Fd(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function g$(t){const e={};let n=-1,s,r,i,a,c,u,h;const m=new pue(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(s=m.get(n),n&&s[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(u=s[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(s[0]==="enter")s[1].contentType&&(Object.assign(e,mue(m,n)),n=e[n],h=!0);else if(s[1]._container){for(i=n,r=void 0;i--;)if(a=m.get(i),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(r&&(m.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=i);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;r&&(s[1].end={...m.get(r)[1].start},c=m.slice(r,n),c.unshift(s),m.splice(r,n-r+1,c))}}return Nr(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!h}function mue(t,e){const n=t.get(e)[1],s=t.get(e)[2];let r=e-1;const i=[];let a=n._tokenizer;a||(a=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const c=a.events,u=[],h={};let m,p,y=-1,v=n,b=0,x=0;const S=[x];for(;v;){for(;t.get(++r)[1]!==v;);i.push(r),v._tokenizer||(m=s.sliceStream(v),v.next||m.push(null),p&&a.defineSkip(v.start),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(m),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(x=y+1,S.push(x),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(a.events=[],v?(v._tokenizer=void 0,v.previous=void 0):S.pop(),y=S.length;y--;){const k=c.slice(S[y],S[y+1]),C=i.pop();u.push([C,C+k.length-1]),t.splice(C,2,k)}for(u.reverse(),y=-1;++y<u.length;)h[b+u[y][0]]=b+u[y][1],b+=u[y][1]-u[y][0]-1;return h}const gue={resolve:vue,tokenize:bue},yue={partial:!0,tokenize:_ue};function vue(t){return g$(t),t}function bue(t,e){let n;return s;function s(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(c)}function r(c){return c===null?i(c):at(c)?t.check(yue,a,i)(c):(t.consume(c),r)}function i(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function a(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function _ue(t,e,n){const s=this;return r;function r(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Dt(t,i,"linePrefix")}function i(a){if(a===null||at(a))return n(a);const c=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(a):t.interrupt(s.parser.constructs.flow,n,e)(a)}}function y$(t,e,n,s,r,i,a,c,u){const h=u||Number.POSITIVE_INFINITY;let m=0;return p;function p(k){return k===60?(t.enter(s),t.enter(r),t.enter(i),t.consume(k),t.exit(i),y):k===null||k===32||k===41||av(k)?n(k):(t.enter(s),t.enter(a),t.enter(c),t.enter("chunkString",{contentType:"string"}),x(k))}function y(k){return k===62?(t.enter(i),t.consume(k),t.exit(i),t.exit(r),t.exit(s),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),v(k))}function v(k){return k===62?(t.exit("chunkString"),t.exit(c),y(k)):k===null||k===60||at(k)?n(k):(t.consume(k),k===92?b:v)}function b(k){return k===60||k===62||k===92?(t.consume(k),v):v(k)}function x(k){return!m&&(k===null||k===41||Jt(k))?(t.exit("chunkString"),t.exit(c),t.exit(a),t.exit(s),e(k)):m<h&&k===40?(t.consume(k),m++,x):k===41?(t.consume(k),m--,x):k===null||k===32||k===40||av(k)?n(k):(t.consume(k),k===92?S:x)}function S(k){return k===40||k===41||k===92?(t.consume(k),x):x(k)}}function v$(t,e,n,s,r,i){const a=this;let c=0,u;return h;function h(v){return t.enter(s),t.enter(r),t.consume(v),t.exit(r),t.enter(i),m}function m(v){return c>999||v===null||v===91||v===93&&!u||v===94&&!c&&"_hiddenFootnoteSupport"in a.parser.constructs?n(v):v===93?(t.exit(i),t.enter(r),t.consume(v),t.exit(r),t.exit(s),e):at(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||at(v)||c++>999?(t.exit("chunkString"),m(v)):(t.consume(v),u||(u=!At(v)),v===92?y:p)}function y(v){return v===91||v===92||v===93?(t.consume(v),c++,p):p(v)}}function b$(t,e,n,s,r,i){let a;return c;function c(y){return y===34||y===39||y===40?(t.enter(s),t.enter(r),t.consume(y),t.exit(r),a=y===40?41:y,u):n(y)}function u(y){return y===a?(t.enter(r),t.consume(y),t.exit(r),t.exit(s),e):(t.enter(i),h(y))}function h(y){return y===a?(t.exit(i),u(a)):y===null?n(y):at(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),Dt(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===a||y===null||at(y)?(t.exit("chunkString"),h(y)):(t.consume(y),y===92?p:m)}function p(y){return y===a||y===92?(t.consume(y),m):m(y)}}function Xf(t,e){let n;return s;function s(r){return at(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,s):At(r)?Dt(t,s,n?"linePrefix":"lineSuffix")(r):e(r)}}const xue={name:"definition",tokenize:Sue},wue={partial:!0,tokenize:kue};function Sue(t,e,n){const s=this;let r;return i;function i(v){return t.enter("definition"),a(v)}function a(v){return v$.call(s,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function c(v){return r=fi(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),u):n(v)}function u(v){return Jt(v)?Xf(t,h)(v):h(v)}function h(v){return y$(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function m(v){return t.attempt(wue,p,p)(v)}function p(v){return At(v)?Dt(t,y,"whitespace")(v):y(v)}function y(v){return v===null||at(v)?(t.exit("definition"),s.parser.defined.push(r),e(v)):n(v)}}function kue(t,e,n){return s;function s(c){return Jt(c)?Xf(t,r)(c):n(c)}function r(c){return b$(t,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function i(c){return At(c)?Dt(t,a,"whitespace")(c):a(c)}function a(c){return c===null||at(c)?e(c):n(c)}}const Cue={name:"hardBreakEscape",tokenize:Nue};function Nue(t,e,n){return s;function s(i){return t.enter("hardBreakEscape"),t.consume(i),r}function r(i){return at(i)?(t.exit("hardBreakEscape"),e(i)):n(i)}}const Eue={name:"headingAtx",resolve:Aue,tokenize:jue};function Aue(t,e){let n=t.length-2,s=3,r,i;return t[s][1].type==="whitespace"&&(s+=2),n-2>s&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(s===n-1||n-4>s&&t[n-2][1].type==="whitespace")&&(n-=s+1===n?2:4),n>s&&(r={type:"atxHeadingText",start:t[s][1].start,end:t[n][1].end},i={type:"chunkText",start:t[s][1].start,end:t[n][1].end,contentType:"text"},Nr(t,s,n-s+1,[["enter",r,e],["enter",i,e],["exit",i,e],["exit",r,e]])),t}function jue(t,e,n){let s=0;return r;function r(m){return t.enter("atxHeading"),i(m)}function i(m){return t.enter("atxHeadingSequence"),a(m)}function a(m){return m===35&&s++<6?(t.consume(m),a):m===null||Jt(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),u(m)):m===null||at(m)?(t.exit("atxHeading"),e(m)):At(m)?Dt(t,c,"whitespace")(m):(t.enter("atxHeadingText"),h(m))}function u(m){return m===35?(t.consume(m),u):(t.exit("atxHeadingSequence"),c(m))}function h(m){return m===null||m===35||Jt(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),h)}}const Tue=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],MM=["pre","script","style","textarea"],Rue={concrete:!0,name:"htmlFlow",resolveTo:Due,tokenize:Bue},Oue={partial:!0,tokenize:Iue},Mue={partial:!0,tokenize:Lue};function Due(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Bue(t,e,n){const s=this;let r,i,a,c,u;return h;function h(T){return m(T)}function m(T){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(T),p}function p(T){return T===33?(t.consume(T),y):T===47?(t.consume(T),i=!0,x):T===63?(t.consume(T),r=3,s.interrupt?e:A):Ds(T)?(t.consume(T),a=String.fromCharCode(T),S):n(T)}function y(T){return T===45?(t.consume(T),r=2,v):T===91?(t.consume(T),r=5,c=0,b):Ds(T)?(t.consume(T),r=4,s.interrupt?e:A):n(T)}function v(T){return T===45?(t.consume(T),s.interrupt?e:A):n(T)}function b(T){const J="CDATA[";return T===J.charCodeAt(c++)?(t.consume(T),c===J.length?s.interrupt?e:z:b):n(T)}function x(T){return Ds(T)?(t.consume(T),a=String.fromCharCode(T),S):n(T)}function S(T){if(T===null||T===47||T===62||Jt(T)){const J=T===47,ne=a.toLowerCase();return!J&&!i&&MM.includes(ne)?(r=1,s.interrupt?e(T):z(T)):Tue.includes(a.toLowerCase())?(r=6,J?(t.consume(T),k):s.interrupt?e(T):z(T)):(r=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(T):i?C(T):N(T))}return T===45||Ss(T)?(t.consume(T),a+=String.fromCharCode(T),S):n(T)}function k(T){return T===62?(t.consume(T),s.interrupt?e:z):n(T)}function C(T){return At(T)?(t.consume(T),C):P(T)}function N(T){return T===47?(t.consume(T),P):T===58||T===95||Ds(T)?(t.consume(T),R):At(T)?(t.consume(T),N):P(T)}function R(T){return T===45||T===46||T===58||T===95||Ss(T)?(t.consume(T),R):O(T)}function O(T){return T===61?(t.consume(T),E):At(T)?(t.consume(T),O):N(T)}function E(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(t.consume(T),u=T,D):At(T)?(t.consume(T),E):B(T)}function D(T){return T===u?(t.consume(T),u=null,q):T===null||at(T)?n(T):(t.consume(T),D)}function B(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||Jt(T)?O(T):(t.consume(T),B)}function q(T){return T===47||T===62||At(T)?N(T):n(T)}function P(T){return T===62?(t.consume(T),W):n(T)}function W(T){return T===null||at(T)?z(T):At(T)?(t.consume(T),W):n(T)}function z(T){return T===45&&r===2?(t.consume(T),I):T===60&&r===1?(t.consume(T),Y):T===62&&r===4?(t.consume(T),M):T===63&&r===3?(t.consume(T),A):T===93&&r===5?(t.consume(T),$):at(T)&&(r===6||r===7)?(t.exit("htmlFlowData"),t.check(Oue,H,K)(T)):T===null||at(T)?(t.exit("htmlFlowData"),K(T)):(t.consume(T),z)}function K(T){return t.check(Mue,X,H)(T)}function X(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),G}function G(T){return T===null||at(T)?K(T):(t.enter("htmlFlowData"),z(T))}function I(T){return T===45?(t.consume(T),A):z(T)}function Y(T){return T===47?(t.consume(T),a="",Q):z(T)}function Q(T){if(T===62){const J=a.toLowerCase();return MM.includes(J)?(t.consume(T),M):z(T)}return Ds(T)&&a.length<8?(t.consume(T),a+=String.fromCharCode(T),Q):z(T)}function $(T){return T===93?(t.consume(T),A):z(T)}function A(T){return T===62?(t.consume(T),M):T===45&&r===2?(t.consume(T),A):z(T)}function M(T){return T===null||at(T)?(t.exit("htmlFlowData"),H(T)):(t.consume(T),M)}function H(T){return t.exit("htmlFlow"),e(T)}}function Lue(t,e,n){const s=this;return r;function r(a){return at(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):n(a)}function i(a){return s.parser.lazy[s.now().line]?n(a):e(a)}}function Iue(t,e,n){return s;function s(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(hm,e,n)}}const Pue={name:"htmlText",tokenize:$ue};function $ue(t,e,n){const s=this;let r,i,a;return c;function c(A){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(A),u}function u(A){return A===33?(t.consume(A),h):A===47?(t.consume(A),O):A===63?(t.consume(A),N):Ds(A)?(t.consume(A),B):n(A)}function h(A){return A===45?(t.consume(A),m):A===91?(t.consume(A),i=0,b):Ds(A)?(t.consume(A),C):n(A)}function m(A){return A===45?(t.consume(A),v):n(A)}function p(A){return A===null?n(A):A===45?(t.consume(A),y):at(A)?(a=p,Y(A)):(t.consume(A),p)}function y(A){return A===45?(t.consume(A),v):p(A)}function v(A){return A===62?I(A):A===45?y(A):p(A)}function b(A){const M="CDATA[";return A===M.charCodeAt(i++)?(t.consume(A),i===M.length?x:b):n(A)}function x(A){return A===null?n(A):A===93?(t.consume(A),S):at(A)?(a=x,Y(A)):(t.consume(A),x)}function S(A){return A===93?(t.consume(A),k):x(A)}function k(A){return A===62?I(A):A===93?(t.consume(A),k):x(A)}function C(A){return A===null||A===62?I(A):at(A)?(a=C,Y(A)):(t.consume(A),C)}function N(A){return A===null?n(A):A===63?(t.consume(A),R):at(A)?(a=N,Y(A)):(t.consume(A),N)}function R(A){return A===62?I(A):N(A)}function O(A){return Ds(A)?(t.consume(A),E):n(A)}function E(A){return A===45||Ss(A)?(t.consume(A),E):D(A)}function D(A){return at(A)?(a=D,Y(A)):At(A)?(t.consume(A),D):I(A)}function B(A){return A===45||Ss(A)?(t.consume(A),B):A===47||A===62||Jt(A)?q(A):n(A)}function q(A){return A===47?(t.consume(A),I):A===58||A===95||Ds(A)?(t.consume(A),P):at(A)?(a=q,Y(A)):At(A)?(t.consume(A),q):I(A)}function P(A){return A===45||A===46||A===58||A===95||Ss(A)?(t.consume(A),P):W(A)}function W(A){return A===61?(t.consume(A),z):at(A)?(a=W,Y(A)):At(A)?(t.consume(A),W):q(A)}function z(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),r=A,K):at(A)?(a=z,Y(A)):At(A)?(t.consume(A),z):(t.consume(A),X)}function K(A){return A===r?(t.consume(A),r=void 0,G):A===null?n(A):at(A)?(a=K,Y(A)):(t.consume(A),K)}function X(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Jt(A)?q(A):(t.consume(A),X)}function G(A){return A===47||A===62||Jt(A)?q(A):n(A)}function I(A){return A===62?(t.consume(A),t.exit("htmlTextData"),t.exit("htmlText"),e):n(A)}function Y(A){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),Q}function Q(A){return At(A)?Dt(t,$,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):$(A)}function $(A){return t.enter("htmlTextData"),a(A)}}const c4={name:"labelEnd",resolveAll:Fue,resolveTo:Vue,tokenize:que},zue={tokenize:Kue},Uue={tokenize:Wue},Hue={tokenize:Gue};function Fue(t){let e=-1;const n=[];for(;++e<t.length;){const s=t[e][1];if(n.push(t[e]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const r=s.type==="labelImage"?4:2;s.type="data",e+=r}}return t.length!==n.length&&Nr(t,0,t.length,n),t}function Vue(t,e){let n=t.length,s=0,r,i,a,c;for(;n--;)if(r=t[n][1],i){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(i=n,r.type!=="labelLink")){s=2;break}}else r.type==="labelEnd"&&(a=n);const u={type:t[i][1].type==="labelLink"?"link":"image",start:{...t[i][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[i][1].start},end:{...t[a][1].end}},m={type:"labelText",start:{...t[i+s+2][1].end},end:{...t[a-2][1].start}};return c=[["enter",u,e],["enter",h,e]],c=Kr(c,t.slice(i+1,i+s+3)),c=Kr(c,[["enter",m,e]]),c=Kr(c,Ub(e.parser.constructs.insideSpan.null,t.slice(i+s+4,a-3),e)),c=Kr(c,[["exit",m,e],t[a-2],t[a-1],["exit",h,e]]),c=Kr(c,t.slice(a+1)),c=Kr(c,[["exit",u,e]]),Nr(t,i,t.length,c),t}function que(t,e,n){const s=this;let r=s.events.length,i,a;for(;r--;)if((s.events[r][1].type==="labelImage"||s.events[r][1].type==="labelLink")&&!s.events[r][1]._balanced){i=s.events[r][1];break}return c;function c(y){return i?i._inactive?p(y):(a=s.parser.defined.includes(fi(s.sliceSerialize({start:i.end,end:s.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),u):n(y)}function u(y){return y===40?t.attempt(zue,m,a?m:p)(y):y===91?t.attempt(Uue,m,a?h:p)(y):a?m(y):p(y)}function h(y){return t.attempt(Hue,m,p)(y)}function m(y){return e(y)}function p(y){return i._balanced=!0,n(y)}}function Kue(t,e,n){return s;function s(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),r}function r(p){return Jt(p)?Xf(t,i)(p):i(p)}function i(p){return p===41?m(p):y$(t,a,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return Jt(p)?Xf(t,u)(p):m(p)}function c(p){return n(p)}function u(p){return p===34||p===39||p===40?b$(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):m(p)}function h(p){return Jt(p)?Xf(t,m)(p):m(p)}function m(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function Wue(t,e,n){const s=this;return r;function r(c){return v$.call(s,t,i,a,"reference","referenceMarker","referenceString")(c)}function i(c){return s.parser.defined.includes(fi(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function a(c){return n(c)}}function Gue(t,e,n){return s;function s(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),r}function r(i){return i===93?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),e):n(i)}}const Yue={name:"labelStartImage",resolveAll:c4.resolveAll,tokenize:Zue};function Zue(t,e,n){const s=this;return r;function r(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),i}function i(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),a):n(c)}function a(c){return c===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(c):e(c)}}const Xue={name:"labelStartLink",resolveAll:c4.resolveAll,tokenize:Jue};function Jue(t,e,n){const s=this;return r;function r(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(a):e(a)}}const Aw={name:"lineEnding",tokenize:Que};function Que(t,e){return n;function n(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Dt(t,e,"linePrefix")}}const z0={name:"thematicBreak",tokenize:ehe};function ehe(t,e,n){let s=0,r;return i;function i(h){return t.enter("thematicBreak"),a(h)}function a(h){return r=h,c(h)}function c(h){return h===r?(t.enter("thematicBreakSequence"),u(h)):s>=3&&(h===null||at(h))?(t.exit("thematicBreak"),e(h)):n(h)}function u(h){return h===r?(t.consume(h),s++,u):(t.exit("thematicBreakSequence"),At(h)?Dt(t,c,"whitespace")(h):c(h))}}const Xs={continuation:{tokenize:rhe},exit:ahe,name:"list",tokenize:she},the={partial:!0,tokenize:ohe},nhe={partial:!0,tokenize:ihe};function she(t,e,n){const s=this,r=s.events[s.events.length-1];let i=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,a=0;return c;function c(v){const b=s.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!s.containerState.marker||v===s.containerState.marker:T2(v)){if(s.containerState.type||(s.containerState.type=b,t.enter(b,{_container:!0})),b==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(z0,n,h)(v):h(v);if(!s.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(v)}return n(v)}function u(v){return T2(v)&&++a<10?(t.consume(v),u):(!s.interrupt||a<2)&&(s.containerState.marker?v===s.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),h(v)):n(v)}function h(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||v,t.check(hm,s.interrupt?n:m,t.attempt(the,y,p))}function m(v){return s.containerState.initialBlankLine=!0,i++,y(v)}function p(v){return At(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),y):n(v)}function y(v){return s.containerState.size=i+s.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function rhe(t,e,n){const s=this;return s.containerState._closeFlow=void 0,t.check(hm,r,i);function r(c){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,Dt(t,e,"listItemIndent",s.containerState.size+1)(c)}function i(c){return s.containerState.furtherBlankLines||!At(c)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,a(c)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,t.attempt(nhe,e,a)(c))}function a(c){return s.containerState._closeFlow=!0,s.interrupt=void 0,Dt(t,t.attempt(Xs,e,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function ihe(t,e,n){const s=this;return Dt(t,r,"listItemIndent",s.containerState.size+1);function r(i){const a=s.events[s.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===s.containerState.size?e(i):n(i)}}function ahe(t){t.exit(this.containerState.type)}function ohe(t,e,n){const s=this;return Dt(t,r,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(i){const a=s.events[s.events.length-1];return!At(i)&&a&&a[1].type==="listItemPrefixWhitespace"?e(i):n(i)}}const DM={name:"setextUnderline",resolveTo:lhe,tokenize:che};function lhe(t,e){let n=t.length,s,r,i;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){s=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!i&&t[n][1].type==="definition"&&(i=n);const a={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[r][1].type="setextHeadingText",i?(t.splice(r,0,["enter",a,e]),t.splice(i+1,0,["exit",t[s][1],e]),t[s][1].end={...t[i][1].end}):t[s][1]=a,t.push(["exit",a,e]),t}function che(t,e,n){const s=this;let r;return i;function i(h){let m=s.events.length,p;for(;m--;)if(s.events[m][1].type!=="lineEnding"&&s.events[m][1].type!=="linePrefix"&&s.events[m][1].type!=="content"){p=s.events[m][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||p)?(t.enter("setextHeadingLine"),r=h,a(h)):n(h)}function a(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===r?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),At(h)?Dt(t,u,"lineSuffix")(h):u(h))}function u(h){return h===null||at(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const uhe={tokenize:hhe};function hhe(t){const e=this,n=t.attempt(hm,s,t.attempt(this.parser.constructs.flowInitial,r,Dt(t,t.attempt(this.parser.constructs.flow,r,t.attempt(gue,r)),"linePrefix")));return n;function s(i){if(i===null){t.consume(i);return}return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(i){if(i===null){t.consume(i);return}return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const dhe={resolveAll:x$()},fhe=_$("string"),phe=_$("text");function _$(t){return{resolveAll:x$(t==="text"?mhe:void 0),tokenize:e};function e(n){const s=this,r=this.parser.constructs[t],i=n.attempt(r,a,c);return a;function a(m){return h(m)?i(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),u}function u(m){return h(m)?(n.exit("data"),i(m)):(n.consume(m),u)}function h(m){if(m===null)return!0;const p=r[m];let y=-1;if(p)for(;++y<p.length;){const v=p[y];if(!v.previous||v.previous.call(s,s.previous))return!0}return!1}}}function x$(t){return e;function e(n,s){let r=-1,i;for(;++r<=n.length;)i===void 0?n[r]&&n[r][1].type==="data"&&(i=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),r=i+2),i=void 0);return t?t(n,s):n}}function mhe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const s=t[n-1][1],r=e.sliceStream(s);let i=r.length,a=-1,c=0,u;for(;i--;){const h=r[i];if(typeof h=="string"){for(a=h.length;h.charCodeAt(a-1)===32;)c++,a--;if(a)break;a=-1}else if(h===-2)u=!0,c++;else if(h!==-1){i++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const h={type:n===t.length||u||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?a:s.start._bufferIndex+a,_index:s.start._index+i,line:s.end.line,column:s.end.column-c,offset:s.end.offset-c},end:{...s.end}};s.end={...h.start},s.start.offset===s.end.offset?Object.assign(s,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const ghe={42:Xs,43:Xs,45:Xs,48:Xs,49:Xs,50:Xs,51:Xs,52:Xs,53:Xs,54:Xs,55:Xs,56:Xs,57:Xs,62:f$},yhe={91:xue},vhe={[-2]:Ew,[-1]:Ew,32:Ew},bhe={35:Eue,42:z0,45:[DM,z0],60:Rue,61:DM,95:z0,96:OM,126:OM},_he={38:m$,92:p$},xhe={[-5]:Aw,[-4]:Aw,[-3]:Aw,33:Yue,38:m$,42:R2,60:[Xce,Pue],91:Xue,92:[Cue,p$],93:c4,95:R2,96:uue},whe={null:[R2,dhe]},She={null:[42,95]},khe={null:[]},Che=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:She,contentInitial:yhe,disable:khe,document:ghe,flow:bhe,flowInitial:vhe,insideSpan:whe,string:_he,text:xhe},Symbol.toStringTag,{value:"Module"}));function Nhe(t,e,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},i=[];let a=[],c=[];const u={attempt:D(O),check:D(E),consume:C,enter:N,exit:R,interrupt:D(E,{interrupt:!0})},h={code:null,containerState:{},defineSkip:x,events:[],now:b,parser:t,previous:null,sliceSerialize:y,sliceStream:v,write:p};let m=e.tokenize.call(h,u);return e.resolveAll&&i.push(e),h;function p(W){return a=Kr(a,W),S(),a[a.length-1]!==null?[]:(B(e,0),h.events=Ub(i,h.events,h),h.events)}function y(W,z){return Ahe(v(W),z)}function v(W){return Ehe(a,W)}function b(){const{_bufferIndex:W,_index:z,line:K,column:X,offset:G}=s;return{_bufferIndex:W,_index:z,line:K,column:X,offset:G}}function x(W){r[W.line]=W.column,P()}function S(){let W;for(;s._index<a.length;){const z=a[s._index];if(typeof z=="string")for(W=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===W&&s._bufferIndex<z.length;)k(z.charCodeAt(s._bufferIndex));else k(z)}}function k(W){m=m(W)}function C(W){at(W)?(s.line++,s.column=1,s.offset+=W===-3?2:1,P()):W!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===a[s._index].length&&(s._bufferIndex=-1,s._index++)),h.previous=W}function N(W,z){const K=z||{};return K.type=W,K.start=b(),h.events.push(["enter",K,h]),c.push(K),K}function R(W){const z=c.pop();return z.end=b(),h.events.push(["exit",z,h]),z}function O(W,z){B(W,z.from)}function E(W,z){z.restore()}function D(W,z){return K;function K(X,G,I){let Y,Q,$,A;return Array.isArray(X)?H(X):"tokenize"in X?H([X]):M(X);function M(Z){return oe;function oe(ke){const Se=ke!==null&&Z[ke],Ge=ke!==null&&Z.null,$e=[...Array.isArray(Se)?Se:Se?[Se]:[],...Array.isArray(Ge)?Ge:Ge?[Ge]:[]];return H($e)(ke)}}function H(Z){return Y=Z,Q=0,Z.length===0?I:T(Z[Q])}function T(Z){return oe;function oe(ke){return A=q(),$=Z,Z.partial||(h.currentConstruct=Z),Z.name&&h.parser.constructs.disable.null.includes(Z.name)?ne():Z.tokenize.call(z?Object.assign(Object.create(h),z):h,u,J,ne)(ke)}}function J(Z){return W($,A),G}function ne(Z){return A.restore(),++Q<Y.length?T(Y[Q]):I}}}function B(W,z){W.resolveAll&&!i.includes(W)&&i.push(W),W.resolve&&Nr(h.events,z,h.events.length-z,W.resolve(h.events.slice(z),h)),W.resolveTo&&(h.events=W.resolveTo(h.events,h))}function q(){const W=b(),z=h.previous,K=h.currentConstruct,X=h.events.length,G=Array.from(c);return{from:X,restore:I};function I(){s=W,h.previous=z,h.currentConstruct=K,h.events.length=X,c=G,P()}}function P(){s.line in r&&s.column<2&&(s.column=r[s.line],s.offset+=r[s.line]-1)}}function Ehe(t,e){const n=e.start._index,s=e.start._bufferIndex,r=e.end._index,i=e.end._bufferIndex;let a;if(n===r)a=[t[n].slice(s,i)];else{if(a=t.slice(n,r),s>-1){const c=a[0];typeof c=="string"?a[0]=c.slice(s):a.shift()}i>0&&a.push(t[r].slice(0,i))}return a}function Ahe(t,e){let n=-1;const s=[];let r;for(;++n<t.length;){const i=t[n];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&r)continue;a=" ";break}default:a=String.fromCharCode(i)}r=i===-2,s.push(a)}return s.join("")}function jhe(t){const s={constructs:h$([Che,...(t||{}).extensions||[]]),content:r(Vce),defined:[],document:r(Kce),flow:r(uhe),lazy:{},string:r(fhe),text:r(phe)};return s;function r(i){return a;function a(c){return Nhe(s,i,c)}}}function The(t){for(;!g$(t););return t}const BM=/[\0\t\n\r]/g;function Rhe(){let t=1,e="",n=!0,s;return r;function r(i,a,c){const u=[];let h,m,p,y,v;for(i=e+(typeof i=="string"?i.toString():new TextDecoder(a||void 0).decode(i)),p=0,e="",n&&(i.charCodeAt(0)===65279&&p++,n=void 0);p<i.length;){if(BM.lastIndex=p,h=BM.exec(i),y=h&&h.index!==void 0?h.index:i.length,v=i.charCodeAt(y),!h){e=i.slice(p);break}if(v===10&&p===y&&s)u.push(-3),s=void 0;else switch(s&&(u.push(-5),s=void 0),p<y&&(u.push(i.slice(p,y)),t+=y-p),v){case 0:{u.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,u.push(-2);t++<m;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:s=!0,t=1}p=y+1}return c&&(s&&u.push(-5),e&&u.push(e),u.push(null)),u}}const Ohe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Mhe(t){return t.replace(Ohe,Dhe)}function Dhe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),i=r===120||r===88;return d$(n.slice(i?2:1),i?16:10)}return l4(n)||t}const w$={}.hasOwnProperty;function Bhe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Lhe(n)(The(jhe(n).document().write(Rhe()(t,e,!0))))}function Lhe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(qt),autolinkProtocol:q,autolinkEmail:q,atxHeading:i(Ot),blockQuote:i(Ge),characterEscape:q,characterReference:q,codeFenced:i($e),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i($e,a),codeText:i(it,a),codeTextData:q,data:q,codeFlowValue:q,definition:i(qe),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(Qe),hardBreakEscape:i(jt),hardBreakTrailing:i(jt),htmlFlow:i(an,a),htmlFlowData:q,htmlText:i(an,a),htmlTextData:q,image:i(on),label:a,link:i(qt),listItem:i(Ye),listItemValue:y,listOrdered:i(Zt,p),listUnordered:i(Zt),paragraph:i(tt),reference:T,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(Ot),strong:i(je),thematicBreak:i(Ct)},exit:{atxHeading:u(),atxHeadingSequence:O,autolink:u(),autolinkEmail:Se,autolinkProtocol:ke,blockQuote:u(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:ne,characterReferenceMarkerNumeric:ne,characterReferenceValue:Z,characterReference:oe,codeFenced:u(S),codeFencedFence:x,codeFencedFenceInfo:v,codeFencedFenceMeta:b,codeFlowValue:P,codeIndented:u(k),codeText:u(G),codeTextData:P,data:P,definition:u(),definitionDestinationString:R,definitionLabelString:C,definitionTitleString:N,emphasis:u(),hardBreakEscape:u(z),hardBreakTrailing:u(z),htmlFlow:u(K),htmlFlowData:P,htmlText:u(X),htmlTextData:P,image:u(Y),label:$,labelText:Q,lineEnding:W,link:u(I),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:J,resourceDestinationString:A,resourceTitleString:M,resource:H,setextHeading:u(B),setextHeadingLineSequence:D,setextHeadingText:E,strong:u(),thematicBreak:u()}};S$(e,(t||{}).mdastExtensions||[]);const n={};return s;function s(fe){let xe={type:"root",children:[]};const Ze={stack:[xe],tokenStack:[],config:e,enter:c,exit:h,buffer:a,resume:m,data:n},rt=[];let pt=-1;for(;++pt<fe.length;)if(fe[pt][1].type==="listOrdered"||fe[pt][1].type==="listUnordered")if(fe[pt][0]==="enter")rt.push(pt);else{const ln=rt.pop();pt=r(fe,ln,pt)}for(pt=-1;++pt<fe.length;){const ln=e[fe[pt][0]];w$.call(ln,fe[pt][1].type)&&ln[fe[pt][1].type].call(Object.assign({sliceSerialize:fe[pt][2].sliceSerialize},Ze),fe[pt][1])}if(Ze.tokenStack.length>0){const ln=Ze.tokenStack[Ze.tokenStack.length-1];(ln[1]||LM).call(Ze,void 0,ln[0])}for(xe.position={start:vo(fe.length>0?fe[0][1].start:{line:1,column:1,offset:0}),end:vo(fe.length>0?fe[fe.length-2][1].end:{line:1,column:1,offset:0})},pt=-1;++pt<e.transforms.length;)xe=e.transforms[pt](xe)||xe;return xe}function r(fe,xe,Ze){let rt=xe-1,pt=-1,ln=!1,re,ae,de,Ce;for(;++rt<=Ze;){const me=fe[rt];switch(me[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{me[0]==="enter"?pt++:pt--,Ce=void 0;break}case"lineEndingBlank":{me[0]==="enter"&&(re&&!Ce&&!pt&&!de&&(de=rt),Ce=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ce=void 0}if(!pt&&me[0]==="enter"&&me[1].type==="listItemPrefix"||pt===-1&&me[0]==="exit"&&(me[1].type==="listUnordered"||me[1].type==="listOrdered")){if(re){let Ue=rt;for(ae=void 0;Ue--;){const lt=fe[Ue];if(lt[1].type==="lineEnding"||lt[1].type==="lineEndingBlank"){if(lt[0]==="exit")continue;ae&&(fe[ae][1].type="lineEndingBlank",ln=!0),lt[1].type="lineEnding",ae=Ue}else if(!(lt[1].type==="linePrefix"||lt[1].type==="blockQuotePrefix"||lt[1].type==="blockQuotePrefixWhitespace"||lt[1].type==="blockQuoteMarker"||lt[1].type==="listItemIndent"))break}de&&(!ae||de<ae)&&(re._spread=!0),re.end=Object.assign({},ae?fe[ae][1].start:me[1].end),fe.splice(ae||rt,0,["exit",re,me[2]]),rt++,Ze++}if(me[1].type==="listItemPrefix"){const Ue={type:"listItem",_spread:!1,start:Object.assign({},me[1].start),end:void 0};re=Ue,fe.splice(rt,0,["enter",Ue,me[2]]),rt++,Ze++,de=void 0,Ce=!0}}}return fe[xe][1]._spread=ln,Ze}function i(fe,xe){return Ze;function Ze(rt){c.call(this,fe(rt),rt),xe&&xe.call(this,rt)}}function a(){this.stack.push({type:"fragment",children:[]})}function c(fe,xe,Ze){this.stack[this.stack.length-1].children.push(fe),this.stack.push(fe),this.tokenStack.push([xe,Ze||void 0]),fe.position={start:vo(xe.start),end:void 0}}function u(fe){return xe;function xe(Ze){fe&&fe.call(this,Ze),h.call(this,Ze)}}function h(fe,xe){const Ze=this.stack.pop(),rt=this.tokenStack.pop();if(rt)rt[0].type!==fe.type&&(xe?xe.call(this,fe,rt[0]):(rt[1]||LM).call(this,fe,rt[0]));else throw new Error("Cannot close `"+fe.type+"` ("+Zf({start:fe.start,end:fe.end})+"): its not open");Ze.position.end=vo(fe.end)}function m(){return o4(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function y(fe){if(this.data.expectingFirstListItemValue){const xe=this.stack[this.stack.length-2];xe.start=Number.parseInt(this.sliceSerialize(fe),10),this.data.expectingFirstListItemValue=void 0}}function v(){const fe=this.resume(),xe=this.stack[this.stack.length-1];xe.lang=fe}function b(){const fe=this.resume(),xe=this.stack[this.stack.length-1];xe.meta=fe}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const fe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=fe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const fe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=fe.replace(/(\r?\n|\r)$/g,"")}function C(fe){const xe=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=xe,Ze.identifier=fi(this.sliceSerialize(fe)).toLowerCase()}function N(){const fe=this.resume(),xe=this.stack[this.stack.length-1];xe.title=fe}function R(){const fe=this.resume(),xe=this.stack[this.stack.length-1];xe.url=fe}function O(fe){const xe=this.stack[this.stack.length-1];if(!xe.depth){const Ze=this.sliceSerialize(fe).length;xe.depth=Ze}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function D(fe){const xe=this.stack[this.stack.length-1];xe.depth=this.sliceSerialize(fe).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function q(fe){const Ze=this.stack[this.stack.length-1].children;let rt=Ze[Ze.length-1];(!rt||rt.type!=="text")&&(rt=Le(),rt.position={start:vo(fe.start),end:void 0},Ze.push(rt)),this.stack.push(rt)}function P(fe){const xe=this.stack.pop();xe.value+=this.sliceSerialize(fe),xe.position.end=vo(fe.end)}function W(fe){const xe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ze=xe.children[xe.children.length-1];Ze.position.end=vo(fe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(xe.type)&&(q.call(this,fe),P.call(this,fe))}function z(){this.data.atHardBreak=!0}function K(){const fe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=fe}function X(){const fe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=fe}function G(){const fe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=fe}function I(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=xe,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function Y(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=xe,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function Q(fe){const xe=this.sliceSerialize(fe),Ze=this.stack[this.stack.length-2];Ze.label=Mhe(xe),Ze.identifier=fi(xe).toLowerCase()}function $(){const fe=this.stack[this.stack.length-1],xe=this.resume(),Ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ze.type==="link"){const rt=fe.children;Ze.children=rt}else Ze.alt=xe}function A(){const fe=this.resume(),xe=this.stack[this.stack.length-1];xe.url=fe}function M(){const fe=this.resume(),xe=this.stack[this.stack.length-1];xe.title=fe}function H(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function J(fe){const xe=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=xe,Ze.identifier=fi(this.sliceSerialize(fe)).toLowerCase(),this.data.referenceType="full"}function ne(fe){this.data.characterReferenceType=fe.type}function Z(fe){const xe=this.sliceSerialize(fe),Ze=this.data.characterReferenceType;let rt;Ze?(rt=d$(xe,Ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):rt=l4(xe);const pt=this.stack[this.stack.length-1];pt.value+=rt}function oe(fe){const xe=this.stack.pop();xe.position.end=vo(fe.end)}function ke(fe){P.call(this,fe);const xe=this.stack[this.stack.length-1];xe.url=this.sliceSerialize(fe)}function Se(fe){P.call(this,fe);const xe=this.stack[this.stack.length-1];xe.url="mailto:"+this.sliceSerialize(fe)}function Ge(){return{type:"blockquote",children:[]}}function $e(){return{type:"code",lang:null,meta:null,value:""}}function it(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Qe(){return{type:"emphasis",children:[]}}function Ot(){return{type:"heading",depth:0,children:[]}}function jt(){return{type:"break"}}function an(){return{type:"html",value:""}}function on(){return{type:"image",title:null,url:"",alt:null}}function qt(){return{type:"link",title:null,url:"",children:[]}}function Zt(fe){return{type:"list",ordered:fe.type==="listOrdered",start:null,spread:fe._spread,children:[]}}function Ye(fe){return{type:"listItem",spread:fe._spread,checked:null,children:[]}}function tt(){return{type:"paragraph",children:[]}}function je(){return{type:"strong",children:[]}}function Le(){return{type:"text",value:""}}function Ct(){return{type:"thematicBreak"}}}function vo(t){return{line:t.line,column:t.column,offset:t.offset}}function S$(t,e){let n=-1;for(;++n<e.length;){const s=e[n];Array.isArray(s)?S$(t,s):Ihe(t,s)}}function Ihe(t,e){let n;for(n in e)if(w$.call(e,n))switch(n){case"canContainEols":{const s=e[n];s&&t[n].push(...s);break}case"transforms":{const s=e[n];s&&t[n].push(...s);break}case"enter":case"exit":{const s=e[n];s&&Object.assign(t[n],s);break}}}function LM(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Zf({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Zf({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Zf({start:e.start,end:e.end})+") is still open")}function Phe(t){const e=this;e.parser=n;function n(s){return Bhe(s,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function $he(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function zhe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Uhe(t,e){const n=e.value?e.value+`
`:"",s={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(s.className=["language-"+r[0]]);let i={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function Hhe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Fhe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Vhe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=String(e.identifier).toUpperCase(),r=Mh(s.toLowerCase()),i=t.footnoteOrder.indexOf(s);let a,c=t.footnoteCounts.get(s);c===void 0?(c=0,t.footnoteOrder.push(s),a=t.footnoteOrder.length):a=i+1,c+=1,t.footnoteCounts.set(s,c);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,u);const h={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,h),t.applyData(e,h)}function qhe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Khe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function k$(t,e){const n=e.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+s}];const r=t.all(e),i=r[0];i&&i.type==="text"?i.value="["+i.value:r.unshift({type:"text",value:"["});const a=r[r.length-1];return a&&a.type==="text"?a.value+=s:r.push({type:"text",value:s}),r}function Whe(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return k$(t,e);const r={src:Mh(s.url||""),alt:e.alt};s.title!==null&&s.title!==void 0&&(r.title=s.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,i),t.applyData(e,i)}function Ghe(t,e){const n={src:Mh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,s),t.applyData(e,s)}function Yhe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,s),t.applyData(e,s)}function Zhe(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return k$(t,e);const r={href:Mh(s.url||"")};s.title!==null&&s.title!==void 0&&(r.title=s.title);const i={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function Xhe(t,e){const n={href:Mh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Jhe(t,e,n){const s=t.all(e),r=n?Qhe(n):C$(e),i={},a=[];if(typeof e.checked=="boolean"){const m=s[0];let p;m&&m.type==="element"&&m.tagName==="p"?p=m:(p={type:"element",tagName:"p",properties:{},children:[]},s.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let c=-1;for(;++c<s.length;){const m=s[c];(r||c!==0||m.type!=="element"||m.tagName!=="p")&&a.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!r?a.push(...m.children):a.push(m)}const u=s[s.length-1];u&&(r||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:i,children:a};return t.patch(e,h),t.applyData(e,h)}function Qhe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let s=-1;for(;!e&&++s<n.length;)e=C$(n[s])}return e}function C$(t){const e=t.spread;return e??t.children.length>1}function ede(t,e){const n={},s=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<s.length;){const a=s[r];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(s,!0)};return t.patch(e,i),t.applyData(e,i)}function tde(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function nde(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function sde(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rde(t,e){const n=t.all(e),s=n.shift(),r=[];if(s){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([s],!0)};t.patch(e.children[0],a),r.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=s4(e.children[1]),u=r$(e.children[e.children.length-1]);c&&u&&(a.position={start:c,end:u}),r.push(a)}const i={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,i),t.applyData(e,i)}function ide(t,e,n){const s=n?n.children:void 0,i=(s?s.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,c=a?a.length:e.children.length;let u=-1;const h=[];for(;++u<c;){const p=e.children[u],y={},v=a?a[u]:void 0;v&&(y.align=v);let b={type:"element",tagName:i,properties:y,children:[]};p&&(b.children=t.all(p),t.patch(p,b),b=t.applyData(p,b)),h.push(b)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,m),t.applyData(e,m)}function ade(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const IM=9,PM=32;function ode(t){const e=String(t),n=/\r?\n|\r/g;let s=n.exec(e),r=0;const i=[];for(;s;)i.push($M(e.slice(r,s.index),r>0,!0),s[0]),r=s.index+s[0].length,s=n.exec(e);return i.push($M(e.slice(r),r>0,!1)),i.join("")}function $M(t,e,n){let s=0,r=t.length;if(e){let i=t.codePointAt(s);for(;i===IM||i===PM;)s++,i=t.codePointAt(s)}if(n){let i=t.codePointAt(r-1);for(;i===IM||i===PM;)r--,i=t.codePointAt(r-1)}return r>s?t.slice(s,r):""}function lde(t,e){const n={type:"text",value:ode(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function cde(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const ude={blockquote:$he,break:zhe,code:Uhe,delete:Hhe,emphasis:Fhe,footnoteReference:Vhe,heading:qhe,html:Khe,imageReference:Whe,image:Ghe,inlineCode:Yhe,linkReference:Zhe,link:Xhe,listItem:Jhe,list:ede,paragraph:tde,root:nde,strong:sde,table:rde,tableCell:ade,tableRow:ide,text:lde,thematicBreak:cde,toml:u0,yaml:u0,definition:u0,footnoteDefinition:u0};function u0(){}const N$=-1,Hb=0,Jf=1,ov=2,u4=3,h4=4,d4=5,f4=6,E$=7,A$=8,zM=typeof self=="object"?self:globalThis,hde=(t,e)=>{const n=(r,i)=>(t.set(i,r),r),s=r=>{if(t.has(r))return t.get(r);const[i,a]=e[r];switch(i){case Hb:case N$:return n(a,r);case Jf:{const c=n([],r);for(const u of a)c.push(s(u));return c}case ov:{const c=n({},r);for(const[u,h]of a)c[s(u)]=s(h);return c}case u4:return n(new Date(a),r);case h4:{const{source:c,flags:u}=a;return n(new RegExp(c,u),r)}case d4:{const c=n(new Map,r);for(const[u,h]of a)c.set(s(u),s(h));return c}case f4:{const c=n(new Set,r);for(const u of a)c.add(s(u));return c}case E$:{const{name:c,message:u}=a;return n(new zM[c](u),r)}case A$:return n(BigInt(a),r);case"BigInt":return n(Object(BigInt(a)),r);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:c}=new Uint8Array(a);return n(new DataView(c),a)}}return n(new zM[i](a),r)};return s},UM=t=>hde(new Map,t)(0),du="",{toString:dde}={},{keys:fde}=Object,Vd=t=>{const e=typeof t;if(e!=="object"||!t)return[Hb,e];const n=dde.call(t).slice(8,-1);switch(n){case"Array":return[Jf,du];case"Object":return[ov,du];case"Date":return[u4,du];case"RegExp":return[h4,du];case"Map":return[d4,du];case"Set":return[f4,du];case"DataView":return[Jf,n]}return n.includes("Array")?[Jf,n]:n.includes("Error")?[E$,n]:[ov,n]},h0=([t,e])=>t===Hb&&(e==="function"||e==="symbol"),pde=(t,e,n,s)=>{const r=(a,c)=>{const u=s.push(a)-1;return n.set(c,u),u},i=a=>{if(n.has(a))return n.get(a);let[c,u]=Vd(a);switch(c){case Hb:{let m=a;switch(u){case"bigint":c=A$,m=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);m=null;break;case"undefined":return r([N$],a)}return r([c,m],a)}case Jf:{if(u){let y=a;return u==="DataView"?y=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(y=new Uint8Array(a)),r([u,[...y]],a)}const m=[],p=r([c,m],a);for(const y of a)m.push(i(y));return p}case ov:{if(u)switch(u){case"BigInt":return r([u,a.toString()],a);case"Boolean":case"Number":case"String":return r([u,a.valueOf()],a)}if(e&&"toJSON"in a)return i(a.toJSON());const m=[],p=r([c,m],a);for(const y of fde(a))(t||!h0(Vd(a[y])))&&m.push([i(y),i(a[y])]);return p}case u4:return r([c,a.toISOString()],a);case h4:{const{source:m,flags:p}=a;return r([c,{source:m,flags:p}],a)}case d4:{const m=[],p=r([c,m],a);for(const[y,v]of a)(t||!(h0(Vd(y))||h0(Vd(v))))&&m.push([i(y),i(v)]);return p}case f4:{const m=[],p=r([c,m],a);for(const y of a)(t||!h0(Vd(y)))&&m.push(i(y));return p}}const{message:h}=a;return r([c,{name:u,message:h}],a)};return i},HM=(t,{json:e,lossy:n}={})=>{const s=[];return pde(!(e||n),!!e,new Map,s)(t),s},lv=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?UM(HM(t,e)):structuredClone(t):(t,e)=>UM(HM(t,e));function mde(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function gde(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function yde(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||mde,s=t.options.footnoteBackLabel||gde,r=t.options.footnoteLabel||"Footnotes",i=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let u=-1;for(;++u<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[u]);if(!h)continue;const m=t.all(h),p=String(h.identifier).toUpperCase(),y=Mh(p.toLowerCase());let v=0;const b=[],x=t.footnoteCounts.get(p);for(;x!==void 0&&++v<=x;){b.length>0&&b.push({type:"text",value:" "});let C=typeof n=="string"?n:n(u,v);typeof C=="string"&&(C={type:"text",value:C}),b.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(u,v),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const S=m[m.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const C=S.children[S.children.length-1];C&&C.type==="text"?C.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...b)}else m.push(...b);const k={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:t.wrap(m,!0)};t.patch(h,k),c.push(k)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...lv(a),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const Fb=(function(t){if(t==null)return xde;if(typeof t=="function")return Vb(t);if(typeof t=="object")return Array.isArray(t)?vde(t):bde(t);if(typeof t=="string")return _de(t);throw new Error("Expected function, string, or object as test")});function vde(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Fb(t[n]);return Vb(s);function s(...r){let i=-1;for(;++i<e.length;)if(e[i].apply(this,r))return!0;return!1}}function bde(t){const e=t;return Vb(n);function n(s){const r=s;let i;for(i in t)if(r[i]!==e[i])return!1;return!0}}function _de(t){return Vb(e);function e(n){return n&&n.type===t}}function Vb(t){return e;function e(n,s,r){return!!(wde(n)&&t.call(this,n,typeof s=="number"?s:void 0,r||void 0))}}function xde(){return!0}function wde(t){return t!==null&&typeof t=="object"&&"type"in t}const j$=[],Sde=!0,O2=!1,kde="skip";function T$(t,e,n,s){let r;typeof e=="function"&&typeof n!="function"?(s=n,n=e):r=e;const i=Fb(r),a=s?-1:1;c(t,void 0,[])();function c(u,h,m){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(u.type+(v?"<"+v+">":""))+")"})}return y;function y(){let v=j$,b,x,S;if((!e||i(u,h,m[m.length-1]||void 0))&&(v=Cde(n(u,m)),v[0]===O2))return v;if("children"in u&&u.children){const k=u;if(k.children&&v[0]!==kde)for(x=(s?k.children.length:-1)+a,S=m.concat(k);x>-1&&x<k.children.length;){const C=k.children[x];if(b=c(C,x,S)(),b[0]===O2)return b;x=typeof b[1]=="number"?b[1]:x+a}}return v}}}function Cde(t){return Array.isArray(t)?t:typeof t=="number"?[Sde,t]:t==null?j$:[t]}function p4(t,e,n,s){let r,i,a;typeof e=="function"&&typeof n!="function"?(i=void 0,a=e,r=n):(i=e,a=n,r=s),T$(t,i,c,r);function c(u,h){const m=h[h.length-1],p=m?m.children.indexOf(u):void 0;return a(u,p,m)}}const M2={}.hasOwnProperty,Nde={};function Ede(t,e){const n=e||Nde,s=new Map,r=new Map,i=new Map,a={...ude,...n.handlers},c={all:h,applyData:jde,definitionById:s,footnoteById:r,footnoteCounts:i,footnoteOrder:[],handlers:a,one:u,options:n,patch:Ade,wrap:Rde};return p4(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const p=m.type==="definition"?s:r,y=String(m.identifier).toUpperCase();p.has(y)||p.set(y,m)}}),c;function u(m,p){const y=m.type,v=c.handlers[y];if(M2.call(c.handlers,y)&&v)return v(c,m,p);if(c.options.passThrough&&c.options.passThrough.includes(y)){if("children"in m){const{children:x,...S}=m,k=lv(S);return k.children=c.all(m),k}return lv(m)}return(c.options.unknownHandler||Tde)(c,m,p)}function h(m){const p=[];if("children"in m){const y=m.children;let v=-1;for(;++v<y.length;){const b=c.one(y[v],m);if(b){if(v&&y[v-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=FM(b.value)),!Array.isArray(b)&&b.type==="element")){const x=b.children[0];x&&x.type==="text"&&(x.value=FM(x.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function Ade(t,e){t.position&&(e.position=gce(t))}function jde(t,e){let n=e;if(t&&t.data){const s=t.data.hName,r=t.data.hChildren,i=t.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const a="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:a}}n.type==="element"&&i&&Object.assign(n.properties,lv(i)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function Tde(t,e){const n=e.data||{},s="value"in e&&!(M2.call(n,"hProperties")||M2.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Rde(t,e){const n=[];let s=-1;for(e&&n.push({type:"text",value:`
`});++s<t.length;)s&&n.push({type:"text",value:`
`}),n.push(t[s]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function FM(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function VM(t,e){const n=Ede(t,e),s=n.one(t,void 0),r=yde(n),i=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return r&&i.children.push({type:"text",value:`
`},r),i}function Ode(t,e){return t&&"run"in t?async function(n,s){const r=VM(n,{file:s,...e});await t.run(r,s)}:function(n,s){return VM(n,{file:s,...t||e})}}function qM(t){if(t)throw t}var jw,KM;function Mde(){if(KM)return jw;KM=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,r=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},i=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var m=t.call(h,"constructor"),p=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!p)return!1;var y;for(y in h);return typeof y>"u"||t.call(h,y)},a=function(h,m){n&&m.name==="__proto__"?n(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},c=function(h,m){if(m==="__proto__")if(t.call(h,m)){if(s)return s(h,m).value}else return;return h[m]};return jw=function u(){var h,m,p,y,v,b,x=arguments[0],S=1,k=arguments.length,C=!1;for(typeof x=="boolean"&&(C=x,x=arguments[1]||{},S=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});S<k;++S)if(h=arguments[S],h!=null)for(m in h)p=c(x,m),y=c(h,m),x!==y&&(C&&y&&(i(y)||(v=r(y)))?(v?(v=!1,b=p&&r(p)?p:[]):b=p&&i(p)?p:{},a(x,{name:m,newValue:u(C,b,y)})):typeof y<"u"&&a(x,{name:m,newValue:y}));return x},jw}var Dde=Mde();const Tw=uv(Dde);function D2(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Bde(){const t=[],e={run:n,use:s};return e;function n(...r){let i=-1;const a=r.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);c(null,...r);function c(u,...h){const m=t[++i];let p=-1;if(u){a(u);return}for(;++p<r.length;)(h[p]===null||h[p]===void 0)&&(h[p]=r[p]);r=h,m?Lde(m,c)(...h):a(null,...h)}}function s(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function Lde(t,e){let n;return s;function s(...a){const c=t.length>a.length;let u;c&&a.push(r);try{u=t.apply(this,a)}catch(h){const m=h;if(c&&n)throw m;return r(m)}c||(u&&u.then&&typeof u.then=="function"?u.then(i,r):u instanceof Error?r(u):i(u))}function r(a,...c){n||(n=!0,e(a,...c))}function i(a){r(null,a)}}const Ti={basename:Ide,dirname:Pde,extname:$de,join:zde,sep:"/"};function Ide(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');dm(t);let n=0,s=-1,r=t.length,i;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.codePointAt(r)===47){if(i){n=r+1;break}}else s<0&&(i=!0,s=r+1);return s<0?"":t.slice(n,s)}if(e===t)return"";let a=-1,c=e.length-1;for(;r--;)if(t.codePointAt(r)===47){if(i){n=r+1;break}}else a<0&&(i=!0,a=r+1),c>-1&&(t.codePointAt(r)===e.codePointAt(c--)?c<0&&(s=r):(c=-1,s=a));return n===s?s=a:s<0&&(s=t.length),t.slice(n,s)}function Pde(t){if(dm(t),t.length===0)return".";let e=-1,n=t.length,s;for(;--n;)if(t.codePointAt(n)===47){if(s){e=n;break}}else s||(s=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function $de(t){dm(t);let e=t.length,n=-1,s=0,r=-1,i=0,a;for(;e--;){const c=t.codePointAt(e);if(c===47){if(a){s=e+1;break}continue}n<0&&(a=!0,n=e+1),c===46?r<0?r=e:i!==1&&(i=1):r>-1&&(i=-1)}return r<0||n<0||i===0||i===1&&r===n-1&&r===s+1?"":t.slice(r,n)}function zde(...t){let e=-1,n;for(;++e<t.length;)dm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Ude(n)}function Ude(t){dm(t);const e=t.codePointAt(0)===47;let n=Hde(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Hde(t,e){let n="",s=0,r=-1,i=0,a=-1,c,u;for(;++a<=t.length;){if(a<t.length)c=t.codePointAt(a);else{if(c===47)break;c=47}if(c===47){if(!(r===a-1||i===1))if(r!==a-1&&i===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",s=0):(n=n.slice(0,u),s=n.length-1-n.lastIndexOf("/")),r=a,i=0;continue}}else if(n.length>0){n="",s=0,r=a,i=0;continue}}e&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+t.slice(r+1,a):n=t.slice(r+1,a),s=a-r-1;r=a,i=0}else c===46&&i>-1?i++:i=-1}return n}function dm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Fde={cwd:Vde};function Vde(){return"/"}function B2(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function qde(t){if(typeof t=="string")t=new URL(t);else if(!B2(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Kde(t)}function Kde(t){if(t.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const s=e.codePointAt(n+2);if(s===70||s===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const Rw=["history","path","basename","stem","extname","dirname"];class R${constructor(e){let n;e?B2(e)?n={path:e}:typeof e=="string"||Wde(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Fde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<Rw.length;){const i=Rw[s];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let r;for(r in n)Rw.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?Ti.basename(this.path):void 0}set basename(e){Mw(e,"basename"),Ow(e,"basename"),this.path=Ti.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ti.dirname(this.path):void 0}set dirname(e){WM(this.basename,"dirname"),this.path=Ti.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ti.extname(this.path):void 0}set extname(e){if(Ow(e,"extname"),WM(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ti.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){B2(e)&&(e=qde(e)),Mw(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ti.basename(this.path,this.extname):void 0}set stem(e){Mw(e,"stem"),Ow(e,"stem"),this.path=Ti.join(this.dirname||"",e+(this.extname||""))}fail(e,n,s){const r=this.message(e,n,s);throw r.fatal=!0,r}info(e,n,s){const r=this.message(e,n,s);return r.fatal=void 0,r}message(e,n,s){const r=new Es(e,n,s);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Ow(t,e){if(t&&t.includes(Ti.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ti.sep+"`")}function Mw(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function WM(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Wde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Gde=(function(t){const s=this.constructor.prototype,r=s[t],i=function(){return r.apply(i,arguments)};return Object.setPrototypeOf(i,s),i}),Yde={}.hasOwnProperty;class m4 extends Gde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Bde()}copy(){const e=new m4;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];e.use(...s)}return e.data(Tw(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Lw("data",this.frozen),this.namespace[e]=n,this):Yde.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Lw("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const r=n.call(e,...s);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=d0(e),s=this.parser||this.Parser;return Dw("parse",s),s(String(n),n)}process(e,n){const s=this;return this.freeze(),Dw("process",this.parser||this.Parser),Bw("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(i,a){const c=d0(e),u=s.parse(c);s.run(u,c,function(m,p,y){if(m||!p||!y)return h(m);const v=p,b=s.stringify(v,y);Jde(b)?y.value=b:y.result=b,h(m,y)});function h(m,p){m||!p?a(m):i?i(p):n(void 0,p)}}}processSync(e){let n=!1,s;return this.freeze(),Dw("processSync",this.parser||this.Parser),Bw("processSync",this.compiler||this.Compiler),this.process(e,r),YM("processSync","process",n),s;function r(i,a){n=!0,qM(i),s=a}}run(e,n,s){GM(e),this.freeze();const r=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?i(void 0,s):new Promise(i);function i(a,c){const u=d0(n);r.run(e,u,h);function h(m,p,y){const v=p||e;m?c(m):a?a(v):s(void 0,v,y)}}}runSync(e,n){let s=!1,r;return this.run(e,n,i),YM("runSync","run",s),r;function i(a,c){qM(a),r=c,s=!0}}stringify(e,n){this.freeze();const s=d0(n),r=this.compiler||this.Compiler;return Bw("stringify",r),GM(e),r(e,s)}use(e,...n){const s=this.attachers,r=this.namespace;if(Lw("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function i(h){if(typeof h=="function")u(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[m,...p]=h;u(m,p)}else a(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function a(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(r.settings=Tw(!0,r.settings,h.settings))}function c(h){let m=-1;if(h!=null)if(Array.isArray(h))for(;++m<h.length;){const p=h[m];i(p)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function u(h,m){let p=-1,y=-1;for(;++p<s.length;)if(s[p][0]===h){y=p;break}if(y===-1)s.push([h,...m]);else if(m.length>0){let[v,...b]=m;const x=s[y][1];D2(x)&&D2(v)&&(v=Tw(!0,x,v)),s[y]=[h,v,...b]}}}}const Zde=new m4().freeze();function Dw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Bw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Lw(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function GM(t){if(!D2(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function YM(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function d0(t){return Xde(t)?t:new R$(t)}function Xde(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Jde(t){return typeof t=="string"||Qde(t)}function Qde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const efe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ZM=[],XM={allowDangerousHtml:!0},tfe=/^(https?|ircs?|mailto|xmpp)$/i,nfe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function sfe(t){const e=rfe(t),n=ife(t);return afe(e.runSync(e.parse(n),n),t)}function rfe(t){const e=t.rehypePlugins||ZM,n=t.remarkPlugins||ZM,s=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...XM}:XM;return Zde().use(Phe).use(n).use(Ode,s).use(e)}function ife(t){const e=t.children||"",n=new R$;return typeof e=="string"&&(n.value=e),n}function afe(t,e){const n=e.allowedElements,s=e.allowElement,r=e.components,i=e.disallowedElements,a=e.skipHtml,c=e.unwrapDisallowed,u=e.urlTransform||ofe;for(const m of nfe)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+efe+m.id,void 0);return p4(t,h),xce(t,{Fragment:f.Fragment,components:r,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function h(m,p,y){if(m.type==="raw"&&y&&typeof p=="number")return a?y.children.splice(p,1):y.children[p]={type:"text",value:m.value},p;if(m.type==="element"){let v;for(v in Nw)if(Object.hasOwn(Nw,v)&&Object.hasOwn(m.properties,v)){const b=m.properties[v],x=Nw[v];(x===null||x.includes(m.tagName))&&(m.properties[v]=u(String(b||""),v,m))}}if(m.type==="element"){let v=n?!n.includes(m.tagName):i?i.includes(m.tagName):!1;if(!v&&s&&typeof p=="number"&&(v=!s(m,p,y)),v&&y&&typeof p=="number")return c&&m.children?y.children.splice(p,1,...m.children):y.children.splice(p,1),p}}}function ofe(t){const e=t.indexOf(":"),n=t.indexOf("?"),s=t.indexOf("#"),r=t.indexOf("/");return e===-1||r!==-1&&e>r||n!==-1&&e>n||s!==-1&&e>s||tfe.test(t.slice(0,e))?t:""}function JM(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let s=0,r=n.indexOf(e);for(;r!==-1;)s++,r=n.indexOf(e,r+e.length);return s}function lfe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function O$(t,e,n){const r=Fb((n||{}).ignore||[]),i=cfe(e);let a=-1;for(;++a<i.length;)T$(t,"text",c);function c(h,m){let p=-1,y;for(;++p<m.length;){const v=m[p],b=y?y.children:void 0;if(r(v,b?b.indexOf(v):void 0,y))return;y=v}if(y)return u(h,m)}function u(h,m){const p=m[m.length-1],y=i[a][0],v=i[a][1];let b=0;const S=p.children.indexOf(h);let k=!1,C=[];y.lastIndex=0;let N=y.exec(h.value);for(;N;){const R=N.index,O={index:N.index,input:N.input,stack:[...m,h]};let E=v(...N,O);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?y.lastIndex=R+1:(b!==R&&C.push({type:"text",value:h.value.slice(b,R)}),Array.isArray(E)?C.push(...E):E&&C.push(E),b=R+N[0].length,k=!0),!y.global)break;N=y.exec(h.value)}return k?(b<h.value.length&&C.push({type:"text",value:h.value.slice(b)}),p.children.splice(S,1,...C)):C=[h],S+C.length}}function cfe(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let s=-1;for(;++s<n.length;){const r=n[s];e.push([ufe(r[0]),hfe(r[1])])}return e}function ufe(t){return typeof t=="string"?new RegExp(lfe(t),"g"):t}function hfe(t){return typeof t=="function"?t:function(){return t}}const Iw="phrasing",Pw=["autolink","link","image","label"];function dfe(){return{transforms:[bfe],enter:{literalAutolink:pfe,literalAutolinkEmail:$w,literalAutolinkHttp:$w,literalAutolinkWww:$w},exit:{literalAutolink:vfe,literalAutolinkEmail:yfe,literalAutolinkHttp:mfe,literalAutolinkWww:gfe}}}function ffe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Iw,notInConstruct:Pw},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Iw,notInConstruct:Pw},{character:":",before:"[ps]",after:"\\/",inConstruct:Iw,notInConstruct:Pw}]}}function pfe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function $w(t){this.config.enter.autolinkProtocol.call(this,t)}function mfe(t){this.config.exit.autolinkProtocol.call(this,t)}function gfe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function yfe(t){this.config.exit.autolinkEmail.call(this,t)}function vfe(t){this.exit(t)}function bfe(t){O$(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,_fe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),xfe]],{ignore:["link","linkReference"]})}function _fe(t,e,n,s,r){let i="";if(!M$(r)||(/^w/i.test(e)&&(n=e+n,e="",i="http://"),!wfe(n)))return!1;const a=Sfe(n+s);if(!a[0])return!1;const c={type:"link",title:null,url:i+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[c,{type:"text",value:a[1]}]:c}function xfe(t,e,n,s){return!M$(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function wfe(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Sfe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],s=n.indexOf(")");const r=JM(t,"(");let i=JM(t,")");for(;s!==-1&&r>i;)t+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),i++;return[t,n]}function M$(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||ic(n)||zb(n))&&(!e||n!==47)}D$.peek=Ofe;function kfe(){this.buffer()}function Cfe(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Nfe(){this.buffer()}function Efe(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Afe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=fi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function jfe(t){this.exit(t)}function Tfe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=fi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Rfe(t){this.exit(t)}function Ofe(){return"["}function D$(t,e,n,s){const r=n.createTracker(s);let i=r.move("[^");const a=n.enter("footnoteReference"),c=n.enter("reference");return i+=r.move(n.safe(n.associationId(t),{after:"]",before:i})),c(),a(),i+=r.move("]"),i}function Mfe(){return{enter:{gfmFootnoteCallString:kfe,gfmFootnoteCall:Cfe,gfmFootnoteDefinitionLabelString:Nfe,gfmFootnoteDefinition:Efe},exit:{gfmFootnoteCallString:Afe,gfmFootnoteCall:jfe,gfmFootnoteDefinitionLabelString:Tfe,gfmFootnoteDefinition:Rfe}}}function Dfe(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:D$},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,r,i,a){const c=i.createTracker(a);let u=c.move("[^");const h=i.enter("footnoteDefinition"),m=i.enter("label");return u+=c.move(i.safe(i.associationId(s),{before:u,after:"]"})),m(),u+=c.move("]:"),s.children&&s.children.length>0&&(c.shift(4),u+=c.move((e?`
`:" ")+i.indentLines(i.containerFlow(s,c.current()),e?B$:Bfe))),h(),u}}function Bfe(t,e,n){return e===0?t:B$(t,e,n)}function B$(t,e,n){return(n?"":"    ")+t}const Lfe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];L$.peek=Ufe;function Ife(){return{canContainEols:["delete"],enter:{strikethrough:$fe},exit:{strikethrough:zfe}}}function Pfe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Lfe}],handlers:{delete:L$}}}function $fe(t){this.enter({type:"delete",children:[]},t)}function zfe(t){this.exit(t)}function L$(t,e,n,s){const r=n.createTracker(s),i=n.enter("strikethrough");let a=r.move("~~");return a+=n.containerPhrasing(t,{...r.current(),before:a,after:"~"}),a+=r.move("~~"),i(),a}function Ufe(){return"~"}function Hfe(t){return t.length}function Ffe(t,e){const n=e||{},s=(n.align||[]).concat(),r=n.stringLength||Hfe,i=[],a=[],c=[],u=[];let h=0,m=-1;for(;++m<t.length;){const x=[],S=[];let k=-1;for(t[m].length>h&&(h=t[m].length);++k<t[m].length;){const C=Vfe(t[m][k]);if(n.alignDelimiters!==!1){const N=r(C);S[k]=N,(u[k]===void 0||N>u[k])&&(u[k]=N)}x.push(C)}a[m]=x,c[m]=S}let p=-1;if(typeof s=="object"&&"length"in s)for(;++p<h;)i[p]=QM(s[p]);else{const x=QM(s);for(;++p<h;)i[p]=x}p=-1;const y=[],v=[];for(;++p<h;){const x=i[p];let S="",k="";x===99?(S=":",k=":"):x===108?S=":":x===114&&(k=":");let C=n.alignDelimiters===!1?1:Math.max(1,u[p]-S.length-k.length);const N=S+"-".repeat(C)+k;n.alignDelimiters!==!1&&(C=S.length+C+k.length,C>u[p]&&(u[p]=C),v[p]=C),y[p]=N}a.splice(1,0,y),c.splice(1,0,v),m=-1;const b=[];for(;++m<a.length;){const x=a[m],S=c[m];p=-1;const k=[];for(;++p<h;){const C=x[p]||"";let N="",R="";if(n.alignDelimiters!==!1){const O=u[p]-(S[p]||0),E=i[p];E===114?N=" ".repeat(O):E===99?O%2?(N=" ".repeat(O/2+.5),R=" ".repeat(O/2-.5)):(N=" ".repeat(O/2),R=N):R=" ".repeat(O)}n.delimiterStart!==!1&&!p&&k.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&C==="")&&(n.delimiterStart!==!1||p)&&k.push(" "),n.alignDelimiters!==!1&&k.push(N),k.push(C),n.alignDelimiters!==!1&&k.push(R),n.padding!==!1&&k.push(" "),(n.delimiterEnd!==!1||p!==h-1)&&k.push("|")}b.push(n.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return b.join(`
`)}function Vfe(t){return t==null?"":String(t)}function QM(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function qfe(t,e,n,s){const r=n.enter("blockquote"),i=n.createTracker(s);i.move("> "),i.shift(2);const a=n.indentLines(n.containerFlow(t,i.current()),Kfe);return r(),a}function Kfe(t,e,n){return">"+(n?"":" ")+t}function Wfe(t,e){return e6(t,e.inConstruct,!0)&&!e6(t,e.notInConstruct,!1)}function e6(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let s=-1;for(;++s<e.length;)if(t.includes(e[s]))return!0;return!1}function t6(t,e,n,s){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&Wfe(n.stack,n.unsafe[r]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function Gfe(t,e){const n=String(t);let s=n.indexOf(e),r=s,i=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===r?++i>a&&(a=i):i=1,r=s+e.length,s=n.indexOf(e,r);return a}function Yfe(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Zfe(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Xfe(t,e,n,s){const r=Zfe(n),i=t.value||"",a=r==="`"?"GraveAccent":"Tilde";if(Yfe(t,n)){const p=n.enter("codeIndented"),y=n.indentLines(i,Jfe);return p(),y}const c=n.createTracker(s),u=r.repeat(Math.max(Gfe(i,r)+1,3)),h=n.enter("codeFenced");let m=c.move(u);if(t.lang){const p=n.enter(`codeFencedLang${a}`);m+=c.move(n.safe(t.lang,{before:m,after:" ",encode:["`"],...c.current()})),p()}if(t.lang&&t.meta){const p=n.enter(`codeFencedMeta${a}`);m+=c.move(" "),m+=c.move(n.safe(t.meta,{before:m,after:`
`,encode:["`"],...c.current()})),p()}return m+=c.move(`
`),i&&(m+=c.move(i+`
`)),m+=c.move(u),h(),m}function Jfe(t,e,n){return(n?"":"    ")+t}function g4(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Qfe(t,e,n,s){const r=g4(n),i=r==='"'?"Quote":"Apostrophe",a=n.enter("definition");let c=n.enter("label");const u=n.createTracker(s);let h=u.move("[");return h+=u.move(n.safe(n.associationId(t),{before:h,after:"]",...u.current()})),h+=u.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=u.move("<"),h+=u.move(n.safe(t.url,{before:h,after:">",...u.current()})),h+=u.move(">")):(c=n.enter("destinationRaw"),h+=u.move(n.safe(t.url,{before:h,after:t.title?" ":`
`,...u.current()}))),c(),t.title&&(c=n.enter(`title${i}`),h+=u.move(" "+r),h+=u.move(n.safe(t.title,{before:h,after:r,...u.current()})),h+=u.move(r),c()),a(),h}function epe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Ap(t){return"&#x"+t.toString(16).toUpperCase()+";"}function cv(t,e,n){const s=ih(t),r=ih(e);return s===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}I$.peek=tpe;function I$(t,e,n,s){const r=epe(n),i=n.enter("emphasis"),a=n.createTracker(s),c=a.move(r);let u=a.move(n.containerPhrasing(t,{after:r,before:c,...a.current()}));const h=u.charCodeAt(0),m=cv(s.before.charCodeAt(s.before.length-1),h,r);m.inside&&(u=Ap(h)+u.slice(1));const p=u.charCodeAt(u.length-1),y=cv(s.after.charCodeAt(0),p,r);y.inside&&(u=u.slice(0,-1)+Ap(p));const v=a.move(r);return i(),n.attentionEncodeSurroundingInfo={after:y.outside,before:m.outside},c+u+v}function tpe(t,e,n){return n.options.emphasis||"*"}function npe(t,e){let n=!1;return p4(t,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,O2}),!!((!t.depth||t.depth<3)&&o4(t)&&(e.options.setext||n))}function spe(t,e,n,s){const r=Math.max(Math.min(6,t.depth||1),1),i=n.createTracker(s);if(npe(t,n)){const m=n.enter("headingSetext"),p=n.enter("phrasing"),y=n.containerPhrasing(t,{...i.current(),before:`
`,after:`
`});return p(),m(),y+`
`+(r===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}const a="#".repeat(r),c=n.enter("headingAtx"),u=n.enter("phrasing");i.move(a+" ");let h=n.containerPhrasing(t,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(h)&&(h=Ap(h.charCodeAt(0))+h.slice(1)),h=h?a+" "+h:a,n.options.closeAtx&&(h+=" "+a),u(),c(),h}P$.peek=rpe;function P$(t){return t.value||""}function rpe(){return"<"}$$.peek=ipe;function $$(t,e,n,s){const r=g4(n),i=r==='"'?"Quote":"Apostrophe",a=n.enter("image");let c=n.enter("label");const u=n.createTracker(s);let h=u.move("![");return h+=u.move(n.safe(t.alt,{before:h,after:"]",...u.current()})),h+=u.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=u.move("<"),h+=u.move(n.safe(t.url,{before:h,after:">",...u.current()})),h+=u.move(">")):(c=n.enter("destinationRaw"),h+=u.move(n.safe(t.url,{before:h,after:t.title?" ":")",...u.current()}))),c(),t.title&&(c=n.enter(`title${i}`),h+=u.move(" "+r),h+=u.move(n.safe(t.title,{before:h,after:r,...u.current()})),h+=u.move(r),c()),h+=u.move(")"),a(),h}function ipe(){return"!"}z$.peek=ape;function z$(t,e,n,s){const r=t.referenceType,i=n.enter("imageReference");let a=n.enter("label");const c=n.createTracker(s);let u=c.move("![");const h=n.safe(t.alt,{before:u,after:"]",...c.current()});u+=c.move(h+"]["),a();const m=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(t),{before:u,after:"]",...c.current()});return a(),n.stack=m,i(),r==="full"||!h||h!==p?u+=c.move(p+"]"):r==="shortcut"?u=u.slice(0,-1):u+=c.move("]"),u}function ape(){return"!"}U$.peek=ope;function U$(t,e,n){let s=t.value||"",r="`",i=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(s);)r+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++i<n.unsafe.length;){const a=n.unsafe[i],c=n.compilePattern(a);let u;if(a.atBreak)for(;u=c.exec(s);){let h=u.index;s.charCodeAt(h)===10&&s.charCodeAt(h-1)===13&&h--,s=s.slice(0,h)+" "+s.slice(u.index+1)}}return r+s+r}function ope(){return"`"}function H$(t,e){const n=o4(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}F$.peek=lpe;function F$(t,e,n,s){const r=g4(n),i=r==='"'?"Quote":"Apostrophe",a=n.createTracker(s);let c,u;if(H$(t,n)){const m=n.stack;n.stack=[],c=n.enter("autolink");let p=a.move("<");return p+=a.move(n.containerPhrasing(t,{before:p,after:">",...a.current()})),p+=a.move(">"),c(),n.stack=m,p}c=n.enter("link"),u=n.enter("label");let h=a.move("[");return h+=a.move(n.containerPhrasing(t,{before:h,after:"](",...a.current()})),h+=a.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),h+=a.move("<"),h+=a.move(n.safe(t.url,{before:h,after:">",...a.current()})),h+=a.move(">")):(u=n.enter("destinationRaw"),h+=a.move(n.safe(t.url,{before:h,after:t.title?" ":")",...a.current()}))),u(),t.title&&(u=n.enter(`title${i}`),h+=a.move(" "+r),h+=a.move(n.safe(t.title,{before:h,after:r,...a.current()})),h+=a.move(r),u()),h+=a.move(")"),c(),h}function lpe(t,e,n){return H$(t,n)?"<":"["}V$.peek=cpe;function V$(t,e,n,s){const r=t.referenceType,i=n.enter("linkReference");let a=n.enter("label");const c=n.createTracker(s);let u=c.move("[");const h=n.containerPhrasing(t,{before:u,after:"]",...c.current()});u+=c.move(h+"]["),a();const m=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(t),{before:u,after:"]",...c.current()});return a(),n.stack=m,i(),r==="full"||!h||h!==p?u+=c.move(p+"]"):r==="shortcut"?u=u.slice(0,-1):u+=c.move("]"),u}function cpe(){return"["}function y4(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function upe(t){const e=y4(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function hpe(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function q$(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function dpe(t,e,n,s){const r=n.enter("list"),i=n.bulletCurrent;let a=t.ordered?hpe(n):y4(n);const c=t.ordered?a==="."?")":".":upe(n);let u=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const m=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),q$(n)===a&&m){let p=-1;for(;++p<t.children.length;){const y=t.children[p];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=c),n.bulletCurrent=a;const h=n.containerFlow(t,s);return n.bulletLastUsed=a,n.bulletCurrent=i,r(),h}function fpe(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function ppe(t,e,n,s){const r=fpe(n);let i=n.bulletCurrent||y4(n);e&&e.type==="list"&&e.ordered&&(i=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+i);let a=i.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const c=n.createTracker(s);c.move(i+" ".repeat(a-i.length)),c.shift(a);const u=n.enter("listItem"),h=n.indentLines(n.containerFlow(t,c.current()),m);return u(),h;function m(p,y,v){return y?(v?"":" ".repeat(a))+p:(v?i:i+" ".repeat(a-i.length))+p}}function mpe(t,e,n,s){const r=n.enter("paragraph"),i=n.enter("phrasing"),a=n.containerPhrasing(t,s);return i(),r(),a}const gpe=Fb(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ype(t,e,n,s){return(t.children.some(function(a){return gpe(a)})?n.containerPhrasing:n.containerFlow).call(n,t,s)}function vpe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}K$.peek=bpe;function K$(t,e,n,s){const r=vpe(n),i=n.enter("strong"),a=n.createTracker(s),c=a.move(r+r);let u=a.move(n.containerPhrasing(t,{after:r,before:c,...a.current()}));const h=u.charCodeAt(0),m=cv(s.before.charCodeAt(s.before.length-1),h,r);m.inside&&(u=Ap(h)+u.slice(1));const p=u.charCodeAt(u.length-1),y=cv(s.after.charCodeAt(0),p,r);y.inside&&(u=u.slice(0,-1)+Ap(p));const v=a.move(r+r);return i(),n.attentionEncodeSurroundingInfo={after:y.outside,before:m.outside},c+u+v}function bpe(t,e,n){return n.options.strong||"*"}function _pe(t,e,n,s){return n.safe(t.value,s)}function xpe(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function wpe(t,e,n){const s=(q$(n)+(n.options.ruleSpaces?" ":"")).repeat(xpe(n));return n.options.ruleSpaces?s.slice(0,-1):s}const W$={blockquote:qfe,break:t6,code:Xfe,definition:Qfe,emphasis:I$,hardBreak:t6,heading:spe,html:P$,image:$$,imageReference:z$,inlineCode:U$,link:F$,linkReference:V$,list:dpe,listItem:ppe,paragraph:mpe,root:ype,strong:K$,text:_pe,thematicBreak:wpe};function Spe(){return{enter:{table:kpe,tableData:n6,tableHeader:n6,tableRow:Npe},exit:{codeText:Epe,table:Cpe,tableData:zw,tableHeader:zw,tableRow:zw}}}function kpe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Cpe(t){this.exit(t),this.data.inTable=void 0}function Npe(t){this.enter({type:"tableRow",children:[]},t)}function zw(t){this.exit(t)}function n6(t){this.enter({type:"tableCell",children:[]},t)}function Epe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Ape));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function Ape(t,e){return e==="|"?e:t}function jpe(t){const e=t||{},n=e.tableCellPadding,s=e.tablePipeAlign,r=e.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:y,table:a,tableCell:u,tableRow:c}};function a(v,b,x,S){return h(m(v,x,S),v.align)}function c(v,b,x,S){const k=p(v,x,S),C=h([k]);return C.slice(0,C.indexOf(`
`))}function u(v,b,x,S){const k=x.enter("tableCell"),C=x.enter("phrasing"),N=x.containerPhrasing(v,{...S,before:i,after:i});return C(),k(),N}function h(v,b){return Ffe(v,{align:b,alignDelimiters:s,padding:n,stringLength:r})}function m(v,b,x){const S=v.children;let k=-1;const C=[],N=b.enter("table");for(;++k<S.length;)C[k]=p(S[k],b,x);return N(),C}function p(v,b,x){const S=v.children;let k=-1;const C=[],N=b.enter("tableRow");for(;++k<S.length;)C[k]=u(S[k],v,b,x);return N(),C}function y(v,b,x){let S=W$.inlineCode(v,b,x);return x.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function Tpe(){return{exit:{taskListCheckValueChecked:s6,taskListCheckValueUnchecked:s6,paragraph:Ope}}}function Rpe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Mpe}}}function s6(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Ope(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const s=n.children[0];if(s&&s.type==="text"){const r=e.children;let i=-1,a;for(;++i<r.length;){const c=r[i];if(c.type==="paragraph"){a=c;break}}a===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(t)}function Mpe(t,e,n,s){const r=t.children[0],i=typeof t.checked=="boolean"&&r&&r.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",c=n.createTracker(s);i&&c.move(a);let u=W$.listItem(t,e,n,{...s,...c.current()});return i&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),u;function h(m){return m+a}}function Dpe(){return[dfe(),Mfe(),Ife(),Spe(),Tpe()]}function Bpe(t){return{extensions:[ffe(),Dfe(t),Pfe(),jpe(t),Rpe()]}}const Lpe={tokenize:Hpe,partial:!0},G$={tokenize:Fpe,partial:!0},Y$={tokenize:Vpe,partial:!0},Z$={tokenize:qpe,partial:!0},Ipe={tokenize:Kpe,partial:!0},X$={name:"wwwAutolink",tokenize:zpe,previous:Q$},J$={name:"protocolAutolink",tokenize:Upe,previous:ez},za={name:"emailAutolink",tokenize:$pe,previous:tz},Yi={};function Ppe(){return{text:Yi}}let fl=48;for(;fl<123;)Yi[fl]=za,fl++,fl===58?fl=65:fl===91&&(fl=97);Yi[43]=za;Yi[45]=za;Yi[46]=za;Yi[95]=za;Yi[72]=[za,J$];Yi[104]=[za,J$];Yi[87]=[za,X$];Yi[119]=[za,X$];function $pe(t,e,n){const s=this;let r,i;return a;function a(p){return!L2(p)||!tz.call(s,s.previous)||v4(s.events)?n(p):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),c(p))}function c(p){return L2(p)?(t.consume(p),c):p===64?(t.consume(p),u):n(p)}function u(p){return p===46?t.check(Ipe,m,h)(p):p===45||p===95||Ss(p)?(i=!0,t.consume(p),u):m(p)}function h(p){return t.consume(p),r=!0,u}function m(p){return i&&r&&Ds(s.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(p)):n(p)}}function zpe(t,e,n){const s=this;return r;function r(a){return a!==87&&a!==119||!Q$.call(s,s.previous)||v4(s.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Lpe,t.attempt(G$,t.attempt(Y$,i),n),n)(a))}function i(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function Upe(t,e,n){const s=this;let r="",i=!1;return a;function a(p){return(p===72||p===104)&&ez.call(s,s.previous)&&!v4(s.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),r+=String.fromCodePoint(p),t.consume(p),c):n(p)}function c(p){if(Ds(p)&&r.length<5)return r+=String.fromCodePoint(p),t.consume(p),c;if(p===58){const y=r.toLowerCase();if(y==="http"||y==="https")return t.consume(p),u}return n(p)}function u(p){return p===47?(t.consume(p),i?h:(i=!0,u)):n(p)}function h(p){return p===null||av(p)||Jt(p)||ic(p)||zb(p)?n(p):t.attempt(G$,t.attempt(Y$,m),n)(p)}function m(p){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(p)}}function Hpe(t,e,n){let s=0;return r;function r(a){return(a===87||a===119)&&s<3?(s++,t.consume(a),r):a===46&&s===3?(t.consume(a),i):n(a)}function i(a){return a===null?n(a):e(a)}}function Fpe(t,e,n){let s,r,i;return a;function a(h){return h===46||h===95?t.check(Z$,u,c)(h):h===null||Jt(h)||ic(h)||h!==45&&zb(h)?u(h):(i=!0,t.consume(h),a)}function c(h){return h===95?s=!0:(r=s,s=void 0),t.consume(h),a}function u(h){return r||s||!i?n(h):e(h)}}function Vpe(t,e){let n=0,s=0;return r;function r(a){return a===40?(n++,t.consume(a),r):a===41&&s<n?i(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(Z$,e,i)(a):a===null||Jt(a)||ic(a)?e(a):(t.consume(a),r)}function i(a){return a===41&&s++,t.consume(a),r}}function qpe(t,e,n){return s;function s(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(t.consume(c),s):c===38?(t.consume(c),i):c===93?(t.consume(c),r):c===60||c===null||Jt(c)||ic(c)?e(c):n(c)}function r(c){return c===null||c===40||c===91||Jt(c)||ic(c)?e(c):s(c)}function i(c){return Ds(c)?a(c):n(c)}function a(c){return c===59?(t.consume(c),s):Ds(c)?(t.consume(c),a):n(c)}}function Kpe(t,e,n){return s;function s(i){return t.consume(i),r}function r(i){return Ss(i)?n(i):e(i)}}function Q$(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Jt(t)}function ez(t){return!Ds(t)}function tz(t){return!(t===47||L2(t))}function L2(t){return t===43||t===45||t===46||t===95||Ss(t)}function v4(t){let e=t.length,n=!1;for(;e--;){const s=t[e][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Wpe={tokenize:tme,partial:!0};function Gpe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Jpe,continuation:{tokenize:Qpe},exit:eme}},text:{91:{name:"gfmFootnoteCall",tokenize:Xpe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Ype,resolveTo:Zpe}}}}function Ype(t,e,n){const s=this;let r=s.events.length;const i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let a;for(;r--;){const u=s.events[r][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return c;function c(u){if(!a||!a._balanced)return n(u);const h=fi(s.sliceSerialize({start:a.end,end:s.now()}));return h.codePointAt(0)!==94||!i.includes(h.slice(1))?n(u):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),e(u))}}function Zpe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},c=[t[n+1],t[n+2],["enter",s,e],t[n+3],t[n+4],["enter",r,e],["exit",r,e],["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e],t[t.length-2],t[t.length-1],["exit",s,e]];return t.splice(n,t.length-n+1,...c),t}function Xpe(t,e,n){const s=this,r=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let i=0,a;return c;function c(p){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),u}function u(p){return p!==94?n(p):(t.enter("gfmFootnoteCallMarker"),t.consume(p),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",h)}function h(p){if(i>999||p===93&&!a||p===null||p===91||Jt(p))return n(p);if(p===93){t.exit("chunkString");const y=t.exit("gfmFootnoteCallString");return r.includes(fi(s.sliceSerialize(y)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(p)}return Jt(p)||(a=!0),i++,t.consume(p),p===92?m:h}function m(p){return p===91||p===92||p===93?(t.consume(p),i++,h):h(p)}}function Jpe(t,e,n){const s=this,r=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let i,a=0,c;return u;function u(b){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(b),t.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(b){return b===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(b),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",m):n(b)}function m(b){if(a>999||b===93&&!c||b===null||b===91||Jt(b))return n(b);if(b===93){t.exit("chunkString");const x=t.exit("gfmFootnoteDefinitionLabelString");return i=fi(s.sliceSerialize(x)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(b),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),y}return Jt(b)||(c=!0),a++,t.consume(b),b===92?p:m}function p(b){return b===91||b===92||b===93?(t.consume(b),a++,m):m(b)}function y(b){return b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),r.includes(i)||r.push(i),Dt(t,v,"gfmFootnoteDefinitionWhitespace")):n(b)}function v(b){return e(b)}}function Qpe(t,e,n){return t.check(hm,e,t.attempt(Wpe,e,n))}function eme(t){t.exit("gfmFootnoteDefinition")}function tme(t,e,n){const s=this;return Dt(t,r,"gfmFootnoteDefinitionIndent",5);function r(i){const a=s.events[s.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(i):n(i)}}function nme(t){let n=(t||{}).singleTilde;const s={name:"strikethrough",tokenize:i,resolveAll:r};return n==null&&(n=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function r(a,c){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let h=u;for(;h--;)if(a[h][0]==="exit"&&a[h][1].type==="strikethroughSequenceTemporary"&&a[h][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[h][1].end.offset-a[h][1].start.offset){a[u][1].type="strikethroughSequence",a[h][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},a[h][1].start),end:Object.assign({},a[u][1].end)},p={type:"strikethroughText",start:Object.assign({},a[h][1].end),end:Object.assign({},a[u][1].start)},y=[["enter",m,c],["enter",a[h][1],c],["exit",a[h][1],c],["enter",p,c]],v=c.parser.constructs.insideSpan.null;v&&Nr(y,y.length,0,Ub(v,a.slice(h+1,u),c)),Nr(y,y.length,0,[["exit",p,c],["enter",a[u][1],c],["exit",a[u][1],c],["exit",m,c]]),Nr(a,h-1,u-h+3,y),u=h+y.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function i(a,c,u){const h=this.previous,m=this.events;let p=0;return y;function y(b){return h===126&&m[m.length-1][1].type!=="characterEscape"?u(b):(a.enter("strikethroughSequenceTemporary"),v(b))}function v(b){const x=ih(h);if(b===126)return p>1?u(b):(a.consume(b),p++,v);if(p<2&&!n)return u(b);const S=a.exit("strikethroughSequenceTemporary"),k=ih(b);return S._open=!k||k===2&&!!x,S._close=!x||x===2&&!!k,c(b)}}}class sme{constructor(){this.map=[]}add(e,n,s){rme(this,e,n,s)}consume(e){if(this.map.sort(function(i,a){return i[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const s=[];for(;n>0;)n-=1,s.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];s.push(e.slice()),e.length=0;let r=s.pop();for(;r;){for(const i of r)e.push(i);r=s.pop()}this.map.length=0}}function rme(t,e,n,s){let r=0;if(!(n===0&&s.length===0)){for(;r<t.map.length;){if(t.map[r][0]===e){t.map[r][1]+=n,t.map[r][2].push(...s);return}r+=1}t.map.push([e,n,s])}}function ime(t,e){let n=!1;const s=[];for(;e<t.length;){const r=t[e];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&s.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const i=s.length-1;s[i]=s[i]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return s}function ame(){return{flow:{null:{name:"table",tokenize:ome,resolveAll:lme}}}}function ome(t,e,n){const s=this;let r=0,i=0,a;return c;function c(P){let W=s.events.length-1;for(;W>-1;){const X=s.events[W][1].type;if(X==="lineEnding"||X==="linePrefix")W--;else break}const z=W>-1?s.events[W][1].type:null,K=z==="tableHead"||z==="tableRow"?E:u;return K===E&&s.parser.lazy[s.now().line]?n(P):K(P)}function u(P){return t.enter("tableHead"),t.enter("tableRow"),h(P)}function h(P){return P===124||(a=!0,i+=1),m(P)}function m(P){return P===null?n(P):at(P)?i>1?(i=0,s.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),v):n(P):At(P)?Dt(t,m,"whitespace")(P):(i+=1,a&&(a=!1,r+=1),P===124?(t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),a=!0,m):(t.enter("data"),p(P)))}function p(P){return P===null||P===124||Jt(P)?(t.exit("data"),m(P)):(t.consume(P),P===92?y:p)}function y(P){return P===92||P===124?(t.consume(P),p):p(P)}function v(P){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(P):(t.enter("tableDelimiterRow"),a=!1,At(P)?Dt(t,b,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):b(P))}function b(P){return P===45||P===58?S(P):P===124?(a=!0,t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),x):O(P)}function x(P){return At(P)?Dt(t,S,"whitespace")(P):S(P)}function S(P){return P===58?(i+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(P),t.exit("tableDelimiterMarker"),k):P===45?(i+=1,k(P)):P===null||at(P)?R(P):O(P)}function k(P){return P===45?(t.enter("tableDelimiterFiller"),C(P)):O(P)}function C(P){return P===45?(t.consume(P),C):P===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(P),t.exit("tableDelimiterMarker"),N):(t.exit("tableDelimiterFiller"),N(P))}function N(P){return At(P)?Dt(t,R,"whitespace")(P):R(P)}function R(P){return P===124?b(P):P===null||at(P)?!a||r!==i?O(P):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(P)):O(P)}function O(P){return n(P)}function E(P){return t.enter("tableRow"),D(P)}function D(P){return P===124?(t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),D):P===null||at(P)?(t.exit("tableRow"),e(P)):At(P)?Dt(t,D,"whitespace")(P):(t.enter("data"),B(P))}function B(P){return P===null||P===124||Jt(P)?(t.exit("data"),D(P)):(t.consume(P),P===92?q:B)}function q(P){return P===92||P===124?(t.consume(P),B):B(P)}}function lme(t,e){let n=-1,s=!0,r=0,i=[0,0,0,0],a=[0,0,0,0],c=!1,u=0,h,m,p;const y=new sme;for(;++n<t.length;){const v=t[n],b=v[1];v[0]==="enter"?b.type==="tableHead"?(c=!1,u!==0&&(r6(y,e,u,h,m),m=void 0,u=0),h={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},y.add(n,0,[["enter",h,e]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(s=!0,p=void 0,i=[0,0,0,0],a=[0,n+1,0,0],c&&(c=!1,m={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},y.add(n,0,[["enter",m,e]])),r=b.type==="tableDelimiterRow"?2:m?3:1):r&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(s=!1,a[2]===0&&(i[1]!==0&&(a[0]=a[1],p=f0(y,e,i,r,void 0,p),i=[0,0,0,0]),a[2]=n)):b.type==="tableCellDivider"&&(s?s=!1:(i[1]!==0&&(a[0]=a[1],p=f0(y,e,i,r,void 0,p)),i=a,a=[i[1],n,0,0])):b.type==="tableHead"?(c=!0,u=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(u=n,i[1]!==0?(a[0]=a[1],p=f0(y,e,i,r,n,p)):a[1]!==0&&(p=f0(y,e,a,r,n,p)),r=0):r&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&r6(y,e,u,h,m),y.consume(e.events),n=-1;++n<e.events.length;){const v=e.events[n];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=ime(e.events,n))}return t}function f0(t,e,n,s,r,i){const a=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(i.end=Object.assign({},_u(e.events,n[0])),t.add(n[0],0,[["exit",i,e]]));const u=_u(e.events,n[1]);if(i={type:a,start:Object.assign({},u),end:Object.assign({},u)},t.add(n[1],0,[["enter",i,e]]),n[2]!==0){const h=_u(e.events,n[2]),m=_u(e.events,n[3]),p={type:c,start:Object.assign({},h),end:Object.assign({},m)};if(t.add(n[2],0,[["enter",p,e]]),s!==2){const y=e.events[n[2]],v=e.events[n[3]];if(y[1].end=Object.assign({},v[1].end),y[1].type="chunkText",y[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,x=n[3]-n[2]-1;t.add(b,x,[])}}t.add(n[3]+1,0,[["exit",p,e]])}return r!==void 0&&(i.end=Object.assign({},_u(e.events,r)),t.add(r,0,[["exit",i,e]]),i=void 0),i}function r6(t,e,n,s,r){const i=[],a=_u(e.events,n);r&&(r.end=Object.assign({},a),i.push(["exit",r,e])),s.end=Object.assign({},a),i.push(["exit",s,e]),t.add(n+1,0,i)}function _u(t,e){const n=t[e],s=n[0]==="enter"?"start":"end";return n[1][s]}const cme={name:"tasklistCheck",tokenize:hme};function ume(){return{text:{91:cme}}}function hme(t,e,n){const s=this;return r;function r(u){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?n(u):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),i)}function i(u){return Jt(u)?(t.enter("taskListCheckValueUnchecked"),t.consume(u),t.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(t.enter("taskListCheckValueChecked"),t.consume(u),t.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),c):n(u)}function c(u){return at(u)?e(u):At(u)?t.check({tokenize:dme},e,n)(u):n(u)}}function dme(t,e,n){return Dt(t,s,"whitespace");function s(r){return r===null?n(r):e(r)}}function fme(t){return h$([Ppe(),Gpe(),nme(t),ame(),ume()])}const pme={};function mme(t){const e=this,n=t||pme,s=e.data(),r=s.micromarkExtensions||(s.micromarkExtensions=[]),i=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),a=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);r.push(fme(n)),i.push(Dpe()),a.push(Bpe(n))}function gme(t){O$(t,[/\r?\n|\r/g,yme])}function yme(){return{type:"break"}}function vme(){return function(t){gme(t)}}const bme={pre:({children:t})=>f.jsx(f.Fragment,{children:t}),li:({children:t,...e})=>f.jsx("li",{className:"py-0.5 ml-0",...e,children:t}),ul:({children:t,...e})=>f.jsx("ul",{className:"list-disc list-outside ml-5 pl-0 my-2",...e,children:t}),ol:({children:t,...e})=>f.jsx("ol",{className:"list-decimal list-outside ml-5 pl-0 my-2",...e,children:t}),strong:({children:t,...e})=>f.jsx("span",{className:"font-semibold",...e,children:t}),a:({children:t,href:e,...n})=>{let s=e||"";return s&&!s.startsWith("http")&&!s.startsWith("#")&&(s=`https://${s}`),f.jsx("a",{className:"text-sky-400 hover:underline",href:s,target:"_blank",rel:"noreferrer noopener",...n,children:t})},h1:({children:t,...e})=>f.jsx("h1",{className:"text-xl font-semibold mt-4 mb-2",...e,children:t}),h2:({children:t,...e})=>f.jsx("h2",{className:"text-lg font-semibold mt-4 mb-2",...e,children:t}),h3:({children:t,...e})=>f.jsx("h3",{className:"text-base font-semibold mt-3 mb-1",...e,children:t}),h4:({children:t,...e})=>f.jsx("h4",{className:"text-sm font-semibold mt-3 mb-1",...e,children:t}),h5:({children:t,...e})=>f.jsx("h5",{className:"text-sm font-semibold mt-2 mb-1",...e,children:t}),h6:({children:t,...e})=>f.jsx("h6",{className:"text-xs font-semibold mt-2 mb-1",...e,children:t}),p:({children:t,...e})=>f.jsx("p",{className:"my-2 leading-relaxed",...e,children:t}),table:({children:t,...e})=>f.jsx("div",{className:"overflow-x-auto my-3",children:f.jsx("table",{className:"w-full border-collapse border border-neutral-600 text-xs",...e,children:t})}),thead:({children:t,...e})=>f.jsx("thead",{className:"bg-neutral-700",...e,children:t}),tbody:({children:t,...e})=>f.jsx("tbody",{...e,children:t}),tr:({children:t,...e})=>f.jsx("tr",{className:"border-b border-neutral-600",...e,children:t}),th:({children:t,...e})=>f.jsx("th",{className:"p-2 text-left font-semibold border-r last:border-r-0 border-neutral-600",...e,children:t}),td:({children:t,...e})=>f.jsx("td",{className:"p-2 border-r last:border-r-0 border-neutral-600",...e,children:t}),blockquote:({children:t,...e})=>f.jsx("blockquote",{className:"border-l-4 border-neutral-500 pl-3 py-1 my-2 italic text-neutral-300",...e,children:t}),hr:({...t})=>f.jsx("hr",{className:"my-4 border-neutral-600",...t}),code({children:t,className:e,...n}){const s=/language-(\w+)/.exec(e||""),r=String(t).replace(/\n$/,""),i=r.includes(`
`);if(!s&&!i)return f.jsx("code",{...n,className:`${e||""} bg-neutral-700 px-1.5 py-0.5 rounded text-xs font-mono text-sky-300`,children:t});const a=s?.[1]||"text";return f.jsxs("div",{className:"my-3",children:[f.jsx("div",{className:"flex items-center justify-between bg-neutral-700 px-3 py-1 rounded-t text-xs text-neutral-400",children:f.jsx("span",{children:a})}),f.jsx("pre",{className:"bg-neutral-800 p-3 rounded-b overflow-x-auto",children:f.jsx("code",{className:"text-xs font-mono text-neutral-200",children:r})})]})}},_me=[mme,vme],xme=t=>{const e=De.c(6),{children:n}=t;if(!n)return null;let s=n,r;if(e[0]!==s){s=s.replace(/^(#{1,6}\s+.+)\n```/gm,"$1\n\n```");let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=/```\n(#{1,6}\s+)/gm,e[3]=a):a=e[3],r=s.replace(a,"```\n\n$1"),e[0]=s,e[1]=r,e[2]=s}else r=e[1],s=e[2];s=r;let i;return e[4]!==s?(i=f.jsx(sfe,{remarkPlugins:_me,components:bme,children:s}),e[4]=s,e[5]=i):i=e[5],i},wme=V.memo(xme,(t,e)=>t.children===e.children);function nz({isOpen:t,onClose:e,otherPanelOpen:n=!1,adapter:s,environment:r}){const[i,a]=V.useState([]),[c,u]=V.useState([]),[h,m]=V.useState(""),[p,y]=V.useState(!1),v=V.useRef(null),b=V.useRef(null),x=V.useRef(s.id);V.useEffect(()=>{x.current!==s.id&&(a([]),u([]),x.current=s.id)},[s.id]),V.useEffect(()=>{v.current?.scrollIntoView({behavior:"smooth"})},[i]),V.useEffect(()=>{t&&b.current?.focus()},[t]);const S=async N=>{if(N.preventDefault(),!h.trim()||p)return;const R={id:Date.now().toString(),role:"user",content:h.trim()},O=(Date.now()+1).toString();a(E=>[...E,R]),m(""),y(!0),a(E=>[...E,{id:O,role:"assistant",content:"",isStreaming:!0}]);try{const E=$i().ai?.model||"",D=s.buildInstructions(r);let q=[...c,{role:xl.User,content:R.content}],P=0;const W=10;for(;P<W;){P++;const z=await Kle(E,D,q,s.tools,(K,X)=>{a(G=>G.map(I=>I.id===O?{...I,content:X}:I))});if(!z.toolCalls||z.toolCalls.length===0){u([...q,z]),a(K=>K.map(X=>X.id===O?{...X,content:z.content,isStreaming:!1}:X));break}q=[...q,z];for(const K of z.toolCalls){console.log("Tool call:",K.name,JSON.parse(K.arguments));const X=await s.executeTool(K,r);q.push({role:xl.Tool,content:"",toolResult:X})}}}catch(E){console.error("Chat error:",E),a(D=>D.map(B=>B.id===O?{...B,content:"Sorry, I encountered an error. Please try again.",isStreaming:!1}:B))}finally{y(!1)}},k=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),S(N))},C=()=>{a([]),u([])};return f.jsxs("div",{className:`fixed top-0 right-0 h-screen bg-white border-l border-neutral-200 dark:bg-neutral-900 dark:border-neutral-800 flex flex-col transition-all duration-300 ease-in-out z-30 ${t?"opacity-100 translate-x-0":"opacity-0 translate-x-full pointer-events-none"}`,style:{width:n?"28rem":"40rem"},children:[f.jsxs("div",{className:"shrink-0 h-16 px-4 flex items-center justify-between border-b border-neutral-200 dark:border-neutral-800",children:[f.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:s.name}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:C,className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 rounded-md transition-colors",title:"Clear chat",children:f.jsx(Bp,{size:18})}),f.jsx("button",{onClick:e,className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 rounded-md transition-colors",children:f.jsx(Sv,{size:18})})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[i.map(N=>f.jsx("div",{className:`text-sm ${N.role==="user"?"bg-neutral-100 dark:bg-neutral-800/50 -mx-4 px-4 py-3 border-l-2 border-sky-500":""}`,children:f.jsx("div",{className:N.role==="user"?"text-neutral-900 dark:text-neutral-100":"text-neutral-800 dark:text-neutral-200",children:N.content?N.role==="assistant"?f.jsx(wme,{children:N.content}):f.jsx("span",{className:"whitespace-pre-wrap",children:N.content}):N.isStreaming&&f.jsxs("span",{className:"flex items-center gap-2 text-neutral-400",children:[f.jsx(Sa,{size:14,className:"animate-spin"}),"Thinking..."]})})},N.id)),f.jsx("div",{ref:v})]}),f.jsx("form",{onSubmit:S,className:"shrink-0 p-4 border-t border-neutral-200 dark:border-neutral-800",children:f.jsxs("div",{className:"flex items-end gap-2",children:[f.jsx("textarea",{ref:b,value:h,onChange:N=>m(N.target.value),onKeyDown:k,placeholder:s.placeholder,rows:1,disabled:p,className:"flex-1 px-4 py-2.5 bg-neutral-50 border border-neutral-300 dark:bg-neutral-800 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 text-sm placeholder-neutral-500 resize-none focus:outline-none focus:ring-2 focus:ring-sky-600 focus:border-transparent disabled:opacity-50",style:{maxHeight:"120px"}}),f.jsx("button",{type:"submit",disabled:!h.trim()||p,className:"p-2.5 bg-sky-600 hover:bg-sky-500 disabled:bg-neutral-300 dark:disabled:bg-neutral-700 disabled:text-neutral-500 text-white rounded-xl transition-colors",children:p?f.jsx(Sa,{size:18,className:"animate-spin"}):f.jsx(nY,{size:18})})]})})]})}const Sme=[{name:"list_resources",description:"List Kubernetes resources of a specific type in a namespace or cluster-wide",parameters:{type:"object",properties:{resource:{type:"string",description:"The type of resource to list (e.g., pods, deployments, services, configmaps, secrets, ingresses, gateways, httproutes, grpcroutes, tcproutes, udproutes, tlsroutes, jobs, cronjobs, daemonsets, statefulsets, replicasets, nodes, namespaces, persistentvolumes, persistentvolumeclaims, events)"},namespace:{type:"string",description:'The namespace to list resources from. Use "all" for all namespaces, or omit for cluster-scoped resources'}},required:["resource"]}},{name:"get_resource",description:"Get detailed information about a specific Kubernetes resource",parameters:{type:"object",properties:{resource:{type:"string",description:"The type of resource (e.g., pod, deployment, service)"},name:{type:"string",description:"The name of the resource"},namespace:{type:"string",description:"The namespace of the resource (required for namespaced resources)"}},required:["resource","name"]}},{name:"get_pod_logs",description:"Get logs from a specific pod",parameters:{type:"object",properties:{name:{type:"string",description:"The name of the pod"},namespace:{type:"string",description:"The namespace of the pod"},container:{type:"string",description:"The container name (optional, defaults to first container)"},tailLines:{type:"string",description:"Number of lines to return from the end of the logs (default: 100)"}},required:["name","namespace"]}},{name:"describe_resource",description:"Get events and status conditions for a Kubernetes resource",parameters:{type:"object",properties:{resource:{type:"string",description:"The type of resource (e.g., pod, deployment, service)"},name:{type:"string",description:"The name of the resource"},namespace:{type:"string",description:"The namespace of the resource"}},required:["resource","name","namespace"]}}];async function Uw(t,e){const n=e.toLowerCase(),s=await $o(t,n);return s?{config:s,plural:s.name}:null}async function kme(t,e,n){switch(e){case"list_resources":{const s=await Uw(t,n.resource);if(!s)return{error:`Unknown resource type: ${n.resource}`};const{config:r,plural:i}=s,a=Ml(r);let c;r.namespaced&&n.namespace&&n.namespace!=="all"?c=`${a}/namespaces/${n.namespace}/${i}`:c=`${a}/${i}`;const u=await fetch(`/contexts/${t}${c}`);if(!u.ok)return{error:`Failed to list ${i}: ${u.status} ${u.statusText}`};const h=await u.json();return{kind:h.kind,items:h.items?.map(m=>({name:m.metadata?.name,namespace:m.metadata?.namespace,createdAt:m.metadata?.creationTimestamp,status:m.status}))||[]}}case"get_resource":{const s=await Uw(t,n.resource);if(!s)return{error:`Unknown resource type: ${n.resource}`};const{config:r,plural:i}=s,a=Ml(r);let c;r.namespaced&&n.namespace?c=`${a}/namespaces/${n.namespace}/${i}/${n.name}`:c=`${a}/${i}/${n.name}`;const u=await fetch(`/contexts/${t}${c}`);return u.ok?u.json():{error:`Failed to get ${n.resource} ${n.name}: ${u.status} ${u.statusText}`}}case"get_pod_logs":{const s=n.tailLines||"100";let r=`/api/v1/namespaces/${n.namespace}/pods/${n.name}/log?tailLines=${s}`;n.container&&(r+=`&container=${n.container}`);const i=await fetch(`/contexts/${t}${r}`);return i.ok?{logs:await i.text()||"(no logs available)"}:{error:`Failed to get logs: ${i.status} ${i.statusText}`}}case"describe_resource":{const s=await Uw(t,n.resource);if(!s)return{error:`Unknown resource type: ${n.resource}`};const{config:r,plural:i}=s,a=Ml(r);let c;r.namespaced&&n.namespace?c=`${a}/namespaces/${n.namespace}/${i}/${n.name}`:c=`${a}/${i}/${n.name}`;const u=await fetch(`/contexts/${t}${c}`);if(!u.ok)return{error:`Failed to get ${n.resource} ${n.name}: ${u.status}`};const h=await u.json(),m=`/api/v1/namespaces/${n.namespace}/events?fieldSelector=involvedObject.name=${n.name}`,p=await fetch(`/contexts/${t}${m}`);let y=[];return p.ok&&(y=(await p.json()).items?.map(b=>({type:b.type,reason:b.reason,message:b.message,lastTimestamp:b.lastTimestamp}))||[]),{metadata:h.metadata,spec:h.spec,status:h.status,events:y}}default:return{error:`Unknown tool: ${e}`}}}function Cme(){return{id:"kubernetes",name:"Kubernetes Assistant",placeholder:"Ask about your Kubernetes resources...",tools:Sme,async executeTool(t,e){const n=e,s=JSON.parse(t.arguments),r=await kme(n.currentContext,t.name,s);return{id:t.id,data:r}},buildInstructions(t){const e=t;let n="";const s=[];return e.currentNamespace&&s.push(`- Current namespace: ${e.currentNamespace}`),e.selectedResourceKind&&s.push(`- Currently viewing resource type: ${e.selectedResourceKind}`),e.selectedResourceName&&s.push(`- Currently selected resource: ${e.selectedResourceName}`),s.length>0&&(n=`

The user is currently viewing:
${s.join(`
`)}

Use this context to provide more relevant answers. When the user asks about resources without specifying a namespace, use the current namespace.`),`You are a helpful Kubernetes assistant. You can help users understand and manage their Kubernetes clusters.
When users ask about resources, use the available tools to fetch real data from the cluster.
Provide clear, concise explanations and highlight any issues or warnings you find.
Format your responses using markdown for better readability.${n}`}}}const Hw="ai";function Nme(t){const e=De.c(46),{resource:n,context:s,namespace:r,selectedItem:i,onSelectItem:a}=t,{isOpen:c,toggle:u,close:h}=RN();let m;e[0]!==c?(m=c(Hw),e[0]=c,e[1]=m):m=e[1];const p=m;let y;e[2]!==s||e[3]!==r||e[4]!==n.group||e[5]!==n.name?(y=["kubernetes","resources",s,n.group,n.name,r],e[2]=s,e[3]=r,e[4]=n.group,e[5]=n.name,e[6]=y):y=e[6];let v;e[7]!==s||e[8]!==r||e[9]!==n?(v=()=>CD(s,n,r),e[7]=s,e[8]=r,e[9]=n,e[10]=v):v=e[10];const{data:b,loading:x,error:S,refetch:k,isRefetching:C}=yP(y,v);let N;e[11]!==n.group||e[12]!==n.kind||e[13]!==n.version?(N=Y=>Y.object.metadata?{name:Y.object.metadata.name||"",namespace:Y.object.metadata.namespace,uid:Y.object.metadata.uid||"",resourceVersion:Y.object.metadata.resourceVersion||"",kind:n.kind,apiVersion:n.group?`${n.group}/${n.version}`:n.version||""}:null,e[11]=n.group,e[12]=n.kind,e[13]=n.version,e[14]=N):N=e[14];const R=N;let O;e[15]===Symbol.for("react.memo_cache_sentinel")?(O=Cme(),e[15]=O):O=e[15];const E=O;let D;e[16]!==s||e[17]!==r||e[18]!==n.group||e[19]!==n.kind||e[20]!==n.version?(D=Y=>({currentContext:s,currentNamespace:Y?.object.metadata?.namespace||r||"all namespaces",selectedResourceKind:n.group?`${n.kind} (${n.group}/${n.version})`:`${n.kind} (${n.version})`,selectedResourceName:Y?.object.metadata?.name}),e[16]=s,e[17]=r,e[18]=n.group,e[19]=n.kind,e[20]=n.version,e[21]=D):D=e[21];const B=D;let q;e[22]!==p||e[23]!==u?(q=()=>$i().ai?f.jsx("button",{onClick:()=>u(Hw),className:`p-2 rounded-md transition-colors ${p?"text-sky-400 hover:text-sky-300 hover:bg-neutral-100 dark:hover:bg-neutral-800":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800"}`,title:"AI Assistant",children:f.jsx(xD,{size:18})}):null,e[22]=p,e[23]=u,e[24]=q):q=e[24];const P=q;let W;e[25]!==h||e[26]!==B||e[27]!==p?(W=(Y,Q)=>{const $=B(Y);return f.jsx(nz,{isOpen:p,onClose:()=>h(Hw),otherPanelOpen:Q,adapter:E,environment:$})},e[25]=h,e[26]=B,e[27]=p,e[28]=W):W=e[28];const z=W;let K;e[29]!==s||e[30]!==R||e[31]!==p?(K=(Y,Q,$)=>{const A=R(Y);return f.jsx(mP,{context:s,isOpen:!0,onClose:Q,otherPanelOpen:$||p,resource:A})},e[29]=s,e[30]=R,e[31]=p,e[32]=K):K=e[32];const X=K,G=Eme;let I;return e[33]!==b||e[34]!==S||e[35]!==C||e[36]!==x||e[37]!==r||e[38]!==a||e[39]!==k||e[40]!==X||e[41]!==z||e[42]!==P||e[43]!==n||e[44]!==i?(I=f.jsx(vP,{config:n,title:n.kind,namespace:r,data:b,loading:x,error:S,refetch:k,isRefetching:C,renderDetailPanel:X,renderHeaderActions:P,renderExtraPanels:z,selectedItemName:i,onSelectItemName:a,getItemName:G}),e[33]=b,e[34]=S,e[35]=C,e[36]=x,e[37]=r,e[38]=a,e[39]=k,e[40]=X,e[41]=z,e[42]=P,e[43]=n,e[44]=i,e[45]=I):I=e[45],I}function Eme(t){return t.object.metadata?.name||""}const Ame=new Set(["apps","batch","networking.k8s.io","storage.k8s.io","rbac.authorization.k8s.io","policy","autoscaling","coordination.k8s.io","discovery.k8s.io","events.k8s.io","node.k8s.io","scheduling.k8s.io"]),jme=t=>{const e=t.group||"";return e===""||Ame.has(e)};function Tme(){const t=De.c(80);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={strict:!1},t[0]=e):e=t[0];const{context:n,resourceType:s,name:r}=jp(e);let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i={from:Wb.id},t[1]=i):i=t[1];const a=mv(i),c=oh();let u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=$i(),t[2]=u):u=t[2];const h=u,[m,p]=V.useState(!1),[y,v]=V.useState(null);let b;t[3]===Symbol.for("react.memo_cache_sentinel")?(b=h.kubernetes?.contexts||[],t[3]=b):b=t[3];const x=b;let S;t[4]===Symbol.for("react.memo_cache_sentinel")?(S=h.docker?.contexts||[],t[4]=S):S=t[4];const k=S;let C,N;t[5]!==n?(C=["kubernetes","namespaces",n],N=()=>n?jY(n):Promise.resolve({items:[]}),t[5]=n,t[6]=C,t[7]=N):(C=t[6],N=t[7]);const R=!!n;let O;t[8]!==R?(O={enabled:R},t[8]=R,t[9]=O):O=t[9];const{data:E}=yP(C,N,O);let D;t[10]!==E?.items?(D=E?.items||[],t[10]=E?.items,t[11]=D):D=t[11];const B=D;let q,P;t[12]!==n?(q=()=>{n&&EY(n)},P=[n],t[12]=n,t[13]=q,t[14]=P):(q=t[13],P=t[14]),V.useEffect(q,P);let W,z;t[15]!==n||t[16]!==s?(W=()=>{n&&s&&$o(n,s).then(je=>{if(je)v(je);else if(s.includes("."))return kD(n,s);return null}).then(je=>{je&&v(je)}).catch(()=>{v(null)})},z=[n,s],t[15]=n,t[16]=s,t[17]=W,t[18]=z):(W=t[17],z=t[18]),V.useEffect(W,z);const K=s?y:null;let X;t[19]!==n||t[20]!==c||t[21]!==s||t[22]!==a.namespace?(X=je=>{n&&(kY(n),DY(n)),s?$o(je,s).then(Le=>{c(Le?{to:"/cluster/$context/$resourceType",params:{context:je,resourceType:s},search:{namespace:a.namespace}}:{to:"/cluster/$context",params:{context:je}})}).catch(()=>{c({to:"/cluster/$context",params:{context:je}})}):c({to:"/cluster/$context",params:{context:je},search:Le=>({...Le,namespace:a.namespace})})},t[19]=n,t[20]=c,t[21]=s,t[22]=a.namespace,t[23]=X):X=t[23];const G=X;let I;t[24]!==c?(I=je=>{c({to:".",search:Le=>({...Le,namespace:je})})},t[24]=c,t[25]=I):I=t[25];const Y=I;let Q;t[26]!==n||t[27]!==c?(Q=je=>{if(je){const Le=jme(je)?je.name:`${je.name}.${je.group}`;c({to:"/cluster/$context/$resourceType",params:{context:n,resourceType:Le},search:Lme})}else c({to:"/cluster/$context/$resourceType",params:{context:n,resourceType:"overview"},search:Bme})},t[26]=n,t[27]=c,t[28]=Q):Q=t[28];const $=Q;let A;t[29]!==n||t[30]!==c||t[31]!==s?(A=je=>{je&&s?c({to:"/cluster/$context/$resourceType/$name",params:{context:n,resourceType:s,name:je},search:Dme}):s&&c({to:"/cluster/$context/$resourceType",params:{context:n,resourceType:s},search:Mme})},t[29]=n,t[30]=c,t[31]=s,t[32]=A):A=t[32];const M=A;let H;t[33]!==c?(H=je=>{c({to:"/docker/$context/$resourceType",params:{context:je,resourceType:"containers"}})},t[33]=c,t[34]=H):H=t[34];const T=H;let J;t[35]===Symbol.for("react.memo_cache_sentinel")?(J=()=>{p(!1)},t[35]=J):J=t[35];const ne=J;let Z;t[36]!==n||t[37]!==c||t[38]!==a.namespace?(Z=(je,Le,Ct)=>{Ct&&Ct!==a.namespace?c({to:"/cluster/$context/$resourceType/$name",params:{context:n,resourceType:je,name:Le},search:{namespace:Ct}}):c({to:"/cluster/$context/$resourceType/$name",params:{context:n,resourceType:je,name:Le},search:Ome})},t[36]=n,t[37]=c,t[38]=a.namespace,t[39]=Z):Z=t[39];const oe=Z,ke=n||"";let Se;t[40]!==B||t[41]!==oe||t[42]!==a.namespace||t[43]!==Y||t[44]!==$||t[45]!==ke?(Se=YY({context:ke,namespace:a.namespace,namespaces:B,setNamespace:Y,setSelectedResource:$,setSelectedItem:oe,onClose:ne}),t[40]=B,t[41]=oe,t[42]=a.namespace,t[43]=Y,t[44]=$,t[45]=ke,t[46]=Se):Se=t[46];const Ge=Se;let $e,it;t[47]===Symbol.for("react.memo_cache_sentinel")?($e=()=>{const je=Le=>{(Le.metaKey||Le.ctrlKey)&&Le.key==="k"&&(Le.preventDefault(),p(Rme))};return document.addEventListener("keydown",je),()=>document.removeEventListener("keydown",je)},it=[],t[47]=$e,t[48]=it):($e=t[47],it=t[48]),V.useEffect($e,it);const qe=s==="overview",Qe=!s,Ot=n||"";let jt;t[49]!==G||t[50]!==T||t[51]!==Ot?(jt=f.jsx("div",{className:"shrink-0 px-3 pt-3 pb-2",children:f.jsx(ND,{mode:"cluster",contexts:x,selectedContext:Ot,onSelectContext:G,dockerContexts:k,selectedDockerContext:"",onSelectDockerContext:T})}),t[49]=G,t[50]=T,t[51]=Ot,t[52]=jt):jt=t[52];const an=n||"";let on;t[53]!==qe||t[54]!==Qe||t[55]!==B||t[56]!==y||t[57]!==a.namespace||t[58]!==Y||t[59]!==$||t[60]!==an?(on=f.jsx($Y,{context:an,namespace:a.namespace,namespaces:B,selectedResource:y,onSelectResource:$,onSelectNamespace:Y,isOverviewSelected:qe,isWelcome:Qe}),t[53]=qe,t[54]=Qe,t[55]=B,t[56]=y,t[57]=a.namespace,t[58]=Y,t[59]=$,t[60]=an,t[61]=on):on=t[61];let qt;t[62]!==jt||t[63]!==on?(qt=f.jsx("div",{className:"py-2 pl-2 shrink-0 h-full",children:f.jsxs("aside",{className:"w-56 h-full shrink-0 bg-white dark:bg-black/40 backdrop-blur-xl flex flex-col rounded-xl border border-neutral-300/50 dark:border-neutral-700/50",children:[jt,on]})}),t[62]=jt,t[63]=on,t[64]=qt):qt=t[64];let Zt;t[65]!==n||t[66]!==K||t[67]!==qe||t[68]!==Qe||t[69]!==r||t[70]!==a.namespace||t[71]!==M?(Zt=Qe?f.jsx("main",{className:"flex-1 flex flex-col h-full min-w-0 items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-48 h-48 mx-auto dark:hidden"}),f.jsx("img",{src:"/logo_dark.png",alt:"Logo",className:"w-48 h-48 mx-auto hidden dark:block"}),f.jsxs("p",{className:"mt-4 text-sm text-neutral-500 dark:text-neutral-400",children:["Select a resource from the sidebar or press ",f.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-700 text-xs",children:"K"})," to search"]})]})}):qe?f.jsxs("main",{className:"flex-1 flex flex-col h-full min-w-0",children:[f.jsxs("header",{className:"shrink-0 h-14 flex items-center justify-between px-5 mt-2",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsx("h2",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:"Overview"})}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("button",{onClick:()=>p(!0),className:"p-2 rounded-md text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 transition-colors",title:"Command Palette (K)",children:f.jsx(dC,{size:18})})})]}),f.jsx("section",{className:"flex-1 overflow-hidden min-h-0",children:f.jsx(goe,{context:n||"",namespace:a.namespace})})]}):K?f.jsx(Nme,{context:n||"",namespace:a.namespace,resource:K,selectedItem:r,onSelectItem:M},`${K.group||""}/${K.name}`):f.jsx("div",{className:"flex-1 flex items-center justify-center text-neutral-500",children:"Loading resource..."}),t[65]=n,t[66]=K,t[67]=qe,t[68]=Qe,t[69]=r,t[70]=a.namespace,t[71]=M,t[72]=Zt):Zt=t[72];let Ye;t[73]!==Ge||t[74]!==m?(Ye=f.jsx(ED,{isOpen:m,onClose:ne,adapter:Ge}),t[73]=Ge,t[74]=m,t[75]=Ye):Ye=t[75];let tt;return t[76]!==qt||t[77]!==Zt||t[78]!==Ye?(tt=f.jsxs("div",{className:"flex h-screen overflow-hidden bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[qt,Zt,Ye]}),t[76]=qt,t[77]=Zt,t[78]=Ye,t[79]=tt):tt=t[79],tt}function Rme(t){return!t}function Ome(t){return t}function Mme(t){return t}function Dme(t){return t}function Bme(t){return t}function Lme(t){return t}const Ime=[{id:"containers",label:"Containers",icon:yi},{id:"images",label:"Images",icon:pi},{id:"volumes",label:"Volumes",icon:Ns},{id:"networks",label:"Networks",icon:Vn}];function Pme(t){const e=De.c(6),{selectedResource:n,onSelectResource:s,isWelcome:r}=t;let i;e[0]!==r||e[1]!==s||e[2]!==n?(i=Ime.map(c=>{const u=!r&&n===c.id;return f.jsx("li",{children:f.jsxs("button",{className:`flex items-center w-full px-3 py-2 text-sm rounded-lg transition-colors ${u?"bg-white/90 text-neutral-900 shadow-sm dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-white/50 hover:text-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-800/50 dark:hover:text-neutral-200"}`,onClick:()=>s(c.id),children:[f.jsx(c.icon,{size:16,className:"mr-2.5 shrink-0 opacity-70"}),f.jsx("span",{className:"truncate",children:c.label})]})},c.id)}),e[0]=r,e[1]=s,e[2]=n,e[3]=i):i=e[3];let a;return e[4]!==i?(a=f.jsx("nav",{className:"flex-1 py-1 overflow-y-auto overflow-x-hidden min-h-0",children:f.jsx("ul",{className:"px-2",children:i})}),e[4]=i,e[5]=a):a=e[5],a}async function gc(t,e){const n=await fetch(`/contexts/${e}${t}`);if(!n.ok)throw new Error(`Docker API request failed: ${n.status} ${n.statusText}`);return n.json()}async function Qf(t,e=!0){return gc(`/containers/json?all=${e}`,t)}async function I2(t,e){return gc(`/containers/${e}/json`,t)}async function b4(t){return gc("/images/json",t)}async function $me(t,e,n=!1){return qb(`/images/${e}?force=${n}`,t)}async function zme(t){return(await gc("/volumes",t)).Volumes??[]}async function i6(t,e){return gc(`/volumes/${encodeURIComponent(e)}`,t)}async function Ume(t,e,n=!1){return qb(`/volumes/${encodeURIComponent(e)}?force=${n}`,t)}async function Hme(t){return gc("/networks",t)}async function a6(t,e){return gc(`/networks/${e}`,t)}async function Fme(t,e){return qb(`/networks/${e}`,t)}async function fm(t,e){const n=await fetch(`/contexts/${e}${t}`,{method:"POST"});if(!n.ok){const s=await n.text();throw new Error(s||`Docker API request failed: ${n.status} ${n.statusText}`)}}async function qb(t,e){const n=await fetch(`/contexts/${e}${t}`,{method:"DELETE"});if(!n.ok){const s=await n.text();throw new Error(s||`Docker API request failed: ${n.status} ${n.statusText}`)}}async function Vme(t,e){return fm(`/containers/${e}/start`,t)}async function qme(t,e){return fm(`/containers/${e}/stop`,t)}async function Kme(t,e){return fm(`/containers/${e}/restart`,t)}async function Wme(t,e){return fm(`/containers/${e}/pause`,t)}async function Gme(t,e){return fm(`/containers/${e}/unpause`,t)}async function Yme(t,e,n=!1){return qb(`/containers/${e}?force=${n}`,t)}function sz(t,e,n={}){const s=new URLSearchParams;return s.set("stdout",String(n.stdout??!0)),s.set("stderr",String(n.stderr??!0)),s.set("timestamps",String(n.timestamps??!0)),n.follow&&s.set("follow","true"),n.tail!==void 0&&s.set("tail",String(n.tail)),n.since!==void 0&&s.set("since",String(n.since)),n.until!==void 0&&s.set("until",String(n.until)),`/contexts/${t}/containers/${e}/logs?${s.toString()}`}async function Zme(t,e,n={}){const s=sz(t,e,{...n,follow:!1}),r=await fetch(s);if(!r.ok)throw new Error(`Failed to fetch logs: ${r.status} ${r.statusText}`);return r.text()}async function Xme(t,e,n,s,r){const i=sz(t,e,{...n,follow:!0}),a=await fetch(i,{signal:r});if(!a.ok)throw new Error(`Failed to stream logs: ${a.status} ${a.statusText}`);const c=a.body?.getReader();if(!c)throw new Error("No response body");const u=new TextDecoder;let h=[],m="",p=null;const y=x=>{m+=x;const S=m.split(`
`);m=S.pop()||"";for(const k of S)k.trim()&&s(k)},v=x=>{const S=u.decode(x,{stream:!0});y(S)},b=()=>{for(;h.length>=8;){const x=h[4]<<24|h[5]<<16|h[6]<<8|h[7];if(h.length<8+x)break;const S=new Uint8Array(h.slice(8,8+x));h=h.slice(8+x);const k=u.decode(S,{stream:!0});y(k)}};try{for(;;){const{done:x,value:S}=await c.read();if(x)break;if(p===null&&S.length>0){const k=S[0];S.length>=4&&k<=2&&S[1]===0&&S[2]===0&&S[3]===0?p=!0:p=!1}p?(h.push(...S),b()):v(S)}m.trim()&&s(m)}finally{c.releaseLock()}}function Po(t){return!t||t.length===0?"unnamed":t[0].replace(/^\//,"")}function Jme(t){if(t==="<none>:<none>")return{repository:"<none>",tag:"<none>"};if(t.includes("@")){const[r,i]=t.split("@");return{repository:r,tag:i}}const e=t.lastIndexOf("/"),s=(e>=0?t.substring(e+1):t).lastIndexOf(":");if(s>=0){const r=e>=0?e+1+s:s;return{repository:t.substring(0,r),tag:t.substring(r+1)}}return{repository:t,tag:"latest"}}function U0(t){return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:t<1024*1024*1024?`${(t/(1024*1024)).toFixed(1)} MB`:`${(t/(1024*1024*1024)).toFixed(2)} GB`}function Qme(t){return!t||t.length===0?"-":t.filter(e=>e.PublicPort).map(e=>`${e.PublicPort}:${e.PrivatePort}/${e.Type}`).join(", ")||"-"}function rz(t){if(!t||t<=0)return"-";const e=new Date(t*1e3),s=new Date().getTime()-e.getTime(),r=Math.floor(s/1e3),i=Math.floor(r/60),a=Math.floor(i/60),c=Math.floor(a/24);return c>0?`${c}d`:a>0?`${a}h`:i>0?`${i}m`:`${r}s`}function iz(t){const e=[{name:"Name",type:"string",format:"",description:"Container name",priority:0},{name:"Image",type:"string",format:"",description:"Container image",priority:0},{name:"Status",type:"string",format:"",description:"Container status",priority:0},{name:"State",type:"string",format:"",description:"Container state",priority:1},{name:"Ports",type:"string",format:"",description:"Published ports",priority:1},{name:"Age",type:"string",format:"",description:"Time since created",priority:1}],n=t.map(s=>({cells:[Po(s.Names??[]),s.Image??"",s.Status??"",s.State??"",Qme(s.Ports??[]),rz(s.Created??0)],object:s}));return{columnDefinitions:e,rows:n}}function az(t){const e=[{name:"Repository",type:"string",format:"",description:"Image repository",priority:0},{name:"Tag",type:"string",format:"",description:"Image tag",priority:0},{name:"Image ID",type:"string",format:"",description:"Image identifier",priority:0},{name:"Size",type:"string",format:"",description:"Image size",priority:1},{name:"Age",type:"string",format:"",description:"Time since created",priority:1}],n=t.map(s=>{const r=s.RepoTags?.[0]||"<none>:<none>",{repository:i,tag:a}=Jme(r);return{cells:[i||"<none>",a||"<none>",s.Id?.replace("sha256:","").substring(0,12)??"<none>",U0(s.Size),rz(s.Created??0)],object:s}});return{columnDefinitions:e,rows:n}}function oz(t){const e=[{name:"Name",type:"string",format:"",description:"Volume name",priority:0},{name:"Driver",type:"string",format:"",description:"Volume driver",priority:0},{name:"Scope",type:"string",format:"",description:"Volume scope",priority:1},{name:"Mountpoint",type:"string",format:"",description:"Mount location",priority:2}],n=t.map(s=>({cells:[s.Name??"",s.Driver??"local",s.Scope??"local",s.Mountpoint??""],object:s}));return{columnDefinitions:e,rows:n}}function lz(t){const e=[{name:"Name",type:"string",format:"",description:"Network name",priority:0},{name:"Driver",type:"string",format:"",description:"Network driver",priority:0},{name:"Scope",type:"string",format:"",description:"Network scope",priority:1},{name:"ID",type:"string",format:"",description:"Network identifier",priority:2}],n=t.map(s=>({cells:[s.Name??"",s.Driver??"bridge",s.Scope??"local",s.Id?.substring(0,12)??""],object:s}));return{columnDefinitions:e,rows:n}}function qd(t){return t.toLowerCase().replace(/[-_.]/g,"")}const o6=[{kind:"containers",label:"Containers",icon:yi,category:"Docker"},{kind:"images",label:"Images",icon:pi,category:"Docker"}];function ege(t){const{context:e,onSelectResource:n,onSelectItem:s,onClose:r}=t;return{id:"docker",resourceTypes:o6,supportsNamespaces:!1,searchModePrefixes:[{prefix:">",mode:"resources"}],async initialize(){},getAvailableResourceTypes(){return o6},getNamespaces(){return[]},resourceTypeToSearchResult(a){return{id:`type-${a.kind}`,type:"resource-type",label:a.label,sublabel:a.category,icon:a.icon,category:a.category,data:{dockerResourceType:a.kind}}},async searchResources(a){if(!a||a.length<2)return[];const c=[],u=qd(a);try{const[h,m]=await Promise.all([Qf(e,!0),b4(e)]);for(const p of h){const v=(p.Names||[])[0]?.replace(/^\//,"")||p.Id?.substring(0,12)||"",b=v;qd(v).includes(u)&&c.push({id:`container/${p.Id}`,type:"resource",label:v,sublabel:`Container  ${p.State||"unknown"}`,icon:yi,category:"Docker",data:{dockerResourceType:"containers",resourceName:b}})}for(const p of m){const v=(p.RepoTags||[])[0]||p.Id?.substring(7,19)||"",b=v.replace(/:/g,"-");qd(v).includes(u)&&c.push({id:`image/${p.Id}`,type:"resource",label:v,sublabel:"Image",icon:pi,category:"Docker",data:{dockerResourceType:"images",resourceName:b}})}}catch{}return c.sort((h,m)=>{const p=qd(h.label)===u,y=qd(m.label)===u;return p&&!y?-1:!p&&y?1:h.label.localeCompare(m.label)}),c.slice(0,50)},handleSelect(a){if(a.type==="resource-type"){const c=a.data.dockerResourceType;c&&n(c)}else if(a.type==="resource"){const c=a.data.dockerResourceType,u=a.data.resourceName;c&&u?s(c,u):c&&n(c)}r()},getPlaceholder(a){return a==="resources"?"Search resource types...":"Search containers and images... (> types)"},getHelpItems(){return[{prefix:">",label:"Resource types"}]},getCurrentScopeLabel(){return null}}}const tge=[{name:"list_containers",description:"List all Docker containers (running and stopped)",parameters:{type:"object",properties:{all:{type:"string",description:"Whether to include stopped containers (default: true)"}},required:[]}},{name:"list_images",description:"List all Docker images on the system",parameters:{type:"object",properties:{},required:[]}},{name:"inspect_container",description:"Get detailed information about a specific container",parameters:{type:"object",properties:{container:{type:"string",description:"The container name or ID"}},required:["container"]}},{name:"get_container_logs",description:"Get logs from a specific container",parameters:{type:"object",properties:{container:{type:"string",description:"The container name or ID"},tail:{type:"string",description:"Number of lines to return from the end of the logs (default: 100)"}},required:["container"]}}];async function nge(t,e,n){switch(e){case"list_containers":{const s=n.all!=="false";return{containers:(await Qf(t,s)).map(i=>({id:i.Id?.substring(0,12),name:Po(i.Names??[]),image:i.Image,state:i.State,status:i.Status,ports:i.Ports?.filter(a=>a.PublicPort).map(a=>`${a.PublicPort}:${a.PrivatePort}/${a.Type}`)}))}}case"list_images":return{images:(await b4(t)).map(r=>{const i=r.RepoTags?.[0]||"<none>:<none>",[a,c]=i.split(":");return{id:r.Id.replace("sha256:","").substring(0,12),repository:a,tag:c,size:sge(r.Size),created:new Date(r.Created*1e3).toISOString()}})};case"inspect_container":try{const r=(await Qf(t,!0)).find(a=>a.Id?.startsWith(n.container)||Po(a.Names??[]).toLowerCase()===n.container.toLowerCase());if(!r?.Id)return{error:`Container not found: ${n.container}`};const i=await I2(t,r.Id);return{id:i.Id?.substring(0,12),name:i.Name?.replace(/^\//,""),image:i.Config?.Image,state:{status:i.State?.Status,running:i.State?.Running,startedAt:i.State?.StartedAt,finishedAt:i.State?.FinishedAt,exitCode:i.State?.ExitCode},config:{env:i.Config?.Env,cmd:i.Config?.Cmd,workingDir:i.Config?.WorkingDir,exposedPorts:i.Config?.ExposedPorts?Object.keys(i.Config.ExposedPorts):[]},hostConfig:{portBindings:i.HostConfig?.PortBindings,binds:i.HostConfig?.Binds,networkMode:i.HostConfig?.NetworkMode,restartPolicy:i.HostConfig?.RestartPolicy},networkSettings:{ipAddress:i.NetworkSettings?.IPAddress,networks:i.NetworkSettings?.Networks?Object.keys(i.NetworkSettings.Networks):[]},mounts:i.Mounts?.map(a=>({type:a.Type,source:a.Source,destination:a.Destination,mode:a.Mode}))}}catch(s){return{error:`Failed to inspect container: ${s}`}}case"get_container_logs":try{const r=(await Qf(t,!0)).find(c=>c.Id?.startsWith(n.container)||Po(c.Names??[]).toLowerCase()===n.container.toLowerCase());if(!r?.Id)return{error:`Container not found: ${n.container}`};const i=parseInt(n.tail||"100",10);return{logs:await Zme(t,r.Id,{tail:i})||"(no logs available)"}}catch(s){return{error:`Failed to get logs: ${s}`}}default:return{error:`Unknown tool: ${e}`}}}function sge(t){return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:t<1024*1024*1024?`${(t/(1024*1024)).toFixed(1)} MB`:`${(t/(1024*1024*1024)).toFixed(2)} GB`}function rge(){return{id:"docker",name:"Docker Assistant",placeholder:"Ask about your containers and images...",tools:tge,async executeTool(t,e){const n=e,s=JSON.parse(t.arguments),r=await nge(n.context,t.name,s);return{id:t.id,data:r}},buildInstructions(t){const e=t;let n="";const s=[];return e.selectedResourceType&&s.push(`- Currently viewing: ${e.selectedResourceType}`),e.selectedContainerName&&s.push(`- Currently selected container: ${e.selectedContainerName}`),s.length>0&&(n=`

The user is currently viewing:
${s.join(`
`)}

Use this context to provide more relevant answers.`),`You are a helpful Docker assistant. You can help users understand and manage their Docker containers and images.
When users ask about containers or images, use the available tools to fetch real data from the Docker daemon.
Provide clear, concise explanations and highlight any issues or warnings you find.
Format your responses using markdown for better readability.${n}`}}}function ige(t){switch(t?.toLowerCase()){case"running":return"running";case"paused":return"paused";case"exited":return"exited";case"created":return"created";case"dead":return"dead";case"removing":return"removing";case"restarting":return"restarting";default:return}}function age(t){switch(t?.toLowerCase()){case"running":return"success";case"paused":return"warning";case"restarting":return"warning";case"exited":case"dead":return"error";default:return"neutral"}}const oge={types:["container"],adapt(t){const e=[],n=t.State,s=t.Config,r=t.NetworkSettings,i=[{label:"Status",value:n?.Status??"Unknown",status:age(n?.Status),icon:n?.Running?V.createElement(Mu,{size:14}):n?.Paused?V.createElement(ip,{size:14}):V.createElement(Aj,{size:14})}];n?.Running&&i.push({label:"PID",value:n.Pid??0,status:"neutral"}),n?.ExitCode!==void 0&&n.ExitCode!==0&&i.push({label:"Exit Code",value:n.ExitCode,status:"error"}),e.push({id:"status",data:{type:"status-cards",items:i}});const a=[{label:"ID",value:t.Id?.substring(0,12)},{label:"Name",value:t.Name?.replace(/^\//,"")},{label:"Image",value:s?.Image},{label:"Created",value:t.Created?new Date(t.Created).toLocaleString():void 0},{label:"Platform",value:t.Platform},{label:"Driver",value:t.Driver}];n?.StartedAt&&n.StartedAt!=="0001-01-01T00:00:00Z"&&a.push({label:"Started",value:new Date(n.StartedAt).toLocaleString()}),n?.FinishedAt&&n.FinishedAt!=="0001-01-01T00:00:00Z"&&a.push({label:"Finished",value:new Date(n.FinishedAt).toLocaleString()}),e.push({id:"info",title:"Container",data:{type:"info-grid",items:a,columns:2}});const c=(s?.Env??[]).map(h=>{const[m,...p]=h.split("=");return{name:m,value:p.join("=")}}),u=[{name:t.Name?.replace(/^\//,"")??"container",image:s?.Image??"",state:ige(n?.Status),stateReason:n?.Error||void 0,command:s?.Cmd??void 0,args:void 0,ports:Object.entries(s?.ExposedPorts??{}).map(([h])=>{const[m,p]=h.split("/");return{containerPort:parseInt(m,10),protocol:p?.toUpperCase()}}),mounts:t.Mounts?.map(h=>({name:h.Name??h.Type??"mount",mountPath:h.Destination??"",readOnly:!h.RW})),env:c.length>0?c:void 0}];if(e.push({id:"containers",title:"Configuration",data:{type:"containers",items:u}}),r?.Networks&&Object.keys(r.Networks).length>0){const h=[],m=[];for(const[p,y]of Object.entries(r.Networks))y.IPAddress&&h.push({type:`${p} IP`,address:y.IPAddress}),y.Gateway&&h.push({type:`${p} Gateway`,address:y.Gateway}),y.MacAddress&&m.push({label:`${p} MAC`,value:y.MacAddress});h.length>0&&e.push({id:"network-addresses",title:"Network",data:{type:"addresses",addresses:h}}),m.length>0&&e.push({id:"network-info",data:{type:"info-grid",items:m,columns:2}})}if(r?.Ports&&Object.keys(r.Ports).length>0){const h=[];for(const[m,p]of Object.entries(r.Ports))if(p&&p.length>0)for(const y of p)h.push({label:m,value:`${y.HostIp||"0.0.0.0"}:${y.HostPort}`});else h.push({label:m,value:"not published"});e.push({id:"ports",title:"Ports",data:{type:"info-grid",items:h,columns:2}})}if(t.Mounts&&t.Mounts.length>0){const h=t.Mounts.map(m=>({name:m.Name??m.Source??"volume",type:m.Type??"unknown",source:m.Source??"",extra:m.Driver?{Driver:m.Driver}:void 0,mounts:[{container:t.Name?.replace(/^\//,"")??"container",mountPath:m.Destination??"",readOnly:!m.RW}]}));e.push({id:"volumes",title:"Mounts",data:{type:"volumes",items:h}})}return s?.Labels&&Object.keys(s.Labels).length>0&&e.push({id:"labels",data:{type:"labels",labels:s.Labels}}),{sections:e}},actions:[{id:"start",label:"Start",icon:V.createElement(Mu,{size:14}),variant:"primary",execute:async(t,e)=>{await Vme(t,e.Id)},isVisible:t=>!t.State?.Running},{id:"stop",label:"Stop",icon:V.createElement(Aj,{size:14}),variant:"warning",execute:async(t,e)=>{await qme(t,e.Id)},isVisible:t=>t.State?.Running===!0},{id:"restart",label:"Restart",icon:V.createElement(Ln,{size:14}),variant:"secondary",execute:async(t,e)=>{await Kme(t,e.Id)},isVisible:t=>t.State?.Running===!0},{id:"pause",label:"Pause",icon:V.createElement(ip,{size:14}),variant:"secondary",execute:async(t,e)=>{await Wme(t,e.Id)},isVisible:t=>{const e=t;return e.State?.Running===!0&&!e.State?.Paused}},{id:"unpause",label:"Unpause",icon:V.createElement(Mu,{size:14}),variant:"secondary",execute:async(t,e)=>{await Gme(t,e.Id)},isVisible:t=>t.State?.Paused===!0},{id:"delete",label:"Delete",icon:V.createElement(Bp,{size:14}),variant:"danger",confirm:{title:"Delete Container",message:"Are you sure you want to delete this container? This action cannot be undone.",confirmLabel:"Delete"},execute:async(t,e)=>{await Yme(t,e.Id)},isVisible:t=>!t.State?.Running}]};function lge(t){return t?new Date(t*1e3).toLocaleString():"Unknown"}function l6(t){if(!t||t==="<none>:<none>")return{repository:"<none>",tag:"<none>"};if(t.includes("@")){const[r,i]=t.split("@");return{repository:r,tag:i}}const e=t.lastIndexOf("/"),s=(e>=0?t.substring(e+1):t).lastIndexOf(":");if(s>=0){const r=e>=0?e+1+s:s;return{repository:t.substring(0,r),tag:t.substring(r+1)}}return{repository:t,tag:"latest"}}const cge={types:["image"],adapt(t){const e=[],n=t.RepoTags??[],s=t.RepoDigests??[],r=n[0]||"<none>:<none>",{repository:i,tag:a}=l6(r),c=[{label:"Size",value:U0(t.Size),status:"neutral",icon:V.createElement(pi,{size:14})}];n.length>0&&c.push({label:"Tags",value:n.length,status:"neutral",icon:V.createElement(wD,{size:14})}),t.Containers!==void 0&&t.Containers>=0&&c.push({label:"Containers",value:t.Containers,status:t.Containers>0?"success":"neutral"}),e.push({id:"status",data:{type:"status-cards",items:c}});const u=[{label:"Repository",value:i!=="<none>"?i:void 0},{label:"Tag",value:a!=="<none>"?a:void 0},{label:"Image ID",value:t.Id?.replace("sha256:","").substring(0,12)},{label:"Full ID",value:t.Id?.replace("sha256:","")},{label:"Size",value:U0(t.Size)},{label:"Virtual Size",value:t.VirtualSize?U0(t.VirtualSize):void 0},{label:"Created",value:lge(t.Created)}];if(t.ParentId&&u.push({label:"Parent",value:t.ParentId.replace("sha256:","").substring(0,12)}),e.push({id:"info",title:"Information",data:{type:"info-grid",items:u.filter(m=>m.value)}}),n.length>1){const m=n.map(p=>{const y=l6(p);return{label:y.repository,value:y.tag}});e.push({id:"tags",title:"Tags",data:{type:"info-grid",items:m}})}if(s.length>0){const m=s.map(p=>{const[y,v]=p.split("@");return{label:y,value:v?.substring(7,19)+"..."}});e.push({id:"digests",title:"Digests",data:{type:"info-grid",items:m}})}const h=t.Labels;return h&&Object.keys(h).length>0&&e.push({id:"labels",data:{type:"labels",labels:h}}),{sections:e}},actions:[{id:"delete",label:"Delete",icon:V.createElement(Bp,{size:14}),variant:"danger",confirm:{title:"Delete Image",message:"Are you sure you want to delete this image? This action cannot be undone.",confirmLabel:"Delete"},execute:async(t,e)=>{await $me(t,e.Id)},isDisabled:t=>{const e=t;return e.Containers&&e.Containers>0?"Image is used by containers":!1}}]};function uge(t){if(t==null||t<0)return"Unknown";if(t===0)return"0 B";const e=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(t)/Math.log(1024));return`${(t/Math.pow(1024,n)).toFixed(n>0?1:0)} ${e[n]}`}const hge={types:["volume"],adapt(t){const e=[],n=[{label:"Driver",value:t.Driver??"local",status:"neutral",icon:V.createElement(Ns,{size:14})}];t.UsageData?.Size!==void 0&&t.UsageData.Size>=0&&n.push({label:"Size",value:uge(t.UsageData.Size),status:"neutral"}),t.UsageData?.RefCount!==void 0&&t.UsageData.RefCount>=0&&n.push({label:"Containers",value:t.UsageData.RefCount,status:t.UsageData.RefCount>0?"success":"neutral"}),e.push({id:"status",data:{type:"status-cards",items:n}});const s=[{label:"Name",value:t.Name},{label:"Driver",value:t.Driver},{label:"Scope",value:t.Scope},{label:"Mountpoint",value:t.Mountpoint}];t.CreatedAt&&s.push({label:"Created",value:new Date(t.CreatedAt).toLocaleString()}),e.push({id:"info",title:"Information",data:{type:"info-grid",items:s.filter(a=>a.value)}});const r=t.Labels;r&&Object.keys(r).length>0&&e.push({id:"labels",data:{type:"labels",labels:r}});const i=t.Options;if(i&&Object.keys(i).length>0){const a=Object.entries(i).map(([c,u])=>({label:c,value:u}));e.push({id:"options",title:"Driver Options",data:{type:"info-grid",items:a}})}return{sections:e}},actions:[{id:"delete",label:"Delete",icon:V.createElement(Bp,{size:14}),variant:"danger",confirm:{title:"Delete Volume",message:"Are you sure you want to delete this volume? This action cannot be undone and all data will be lost.",confirmLabel:"Delete"},execute:async(t,e)=>{await Ume(t,e.Name)},isDisabled:t=>{const e=t;return e.UsageData?.RefCount&&e.UsageData.RefCount>0?"Volume is in use by containers":!1}}]},c6=["bridge","host","none"],dge={types:["network"],adapt(t){const e=[],n=t.IPAM,s=t.Containers,r=[{label:"Driver",value:t.Driver??"bridge",status:"neutral",icon:V.createElement(Vn,{size:14})},{label:"Scope",value:t.Scope??"local",status:"neutral",icon:V.createElement(Cr,{size:14})}];t.Internal&&r.push({label:"Internal",value:"Yes",status:"warning",icon:V.createElement(Dp,{size:14})});const i=s?Object.keys(s).length:0;r.push({label:"Containers",value:i,status:i>0?"success":"neutral"}),e.push({id:"status",data:{type:"status-cards",items:r}});const a=[{label:"Name",value:t.Name},{label:"ID",value:t.Id?.substring(0,12)},{label:"Driver",value:t.Driver},{label:"Scope",value:t.Scope}];if(t.Created&&a.push({label:"Created",value:new Date(t.Created).toLocaleString()}),t.EnableIPv6&&a.push({label:"IPv6",value:"Enabled"}),t.Internal&&a.push({label:"Internal",value:"Yes"}),t.Attachable&&a.push({label:"Attachable",value:"Yes"}),t.Ingress&&a.push({label:"Ingress",value:"Yes"}),e.push({id:"info",title:"Information",data:{type:"info-grid",items:a.filter(u=>u.value)}}),n?.Config&&n.Config.length>0){const u=[];u.push({label:"Driver",value:n.Driver??"default"}),n.Config.forEach((h,m)=>{const p=n.Config.length>1?`[${m+1}] `:"";h.Subnet&&u.push({label:`${p}Subnet`,value:h.Subnet}),h.Gateway&&u.push({label:`${p}Gateway`,value:h.Gateway}),h.IPRange&&u.push({label:`${p}IP Range`,value:h.IPRange})}),e.push({id:"ipam",title:"IPAM Configuration",data:{type:"info-grid",items:u}})}if(s&&Object.keys(s).length>0){const u=Object.entries(s).map(([h,m])=>({label:m.Name||h.substring(0,12),value:m.IPv4Address||m.IPv6Address||"No IP"}));e.push({id:"containers",title:"Connected Containers",data:{type:"info-grid",items:u}})}const c=t.Labels;return c&&Object.keys(c).length>0&&e.push({id:"labels",data:{type:"labels",labels:c}}),{sections:e}},actions:[{id:"delete",label:"Delete",icon:V.createElement(Bp,{size:14}),variant:"danger",confirm:{title:"Delete Network",message:"Are you sure you want to delete this network? This action cannot be undone.",confirmLabel:"Delete"},execute:async(t,e)=>{await Fme(t,e.Id)},isDisabled:t=>{const e=t;return e.Name&&c6.includes(e.Name)?"Cannot delete built-in network":e.Containers&&Object.keys(e.Containers).length>0?"Network has connected containers":!1},isVisible:t=>{const e=t;return!e.Name||!c6.includes(e.Name)}}]},fge=[oge,cge,hge,dge],_4=new Map;fge.forEach(t=>{t.types.forEach(e=>{_4.set(e.toLowerCase(),t)})});function cz(t){return _4.get(t.toLowerCase())??null}function pge(t){return _4.has(t.toLowerCase())}function mge(t,e){const n=cz(e);return n?n.adapt(t):null}function uz(t,e="container"){const n=cz(e);return n?.actions?n.actions.filter(s=>!s.isVisible||s.isVisible(t)):[]}function gge(t){return"Config"in t&&"State"in t?"container":"RepoTags"in t||"RepoDigests"in t?"image":"Mountpoint"in t&&"Driver"in t&&!("IPAM"in t)?"volume":"IPAM"in t?"network":"container"}function yge(t){const e=De.c(13),{context:n,resource:s,onActionComplete:r,hideActions:i}=t,a=i===void 0?!1:i;let c,u,h,m;if(e[0]!==n||e[1]!==a||e[2]!==r||e[3]!==s){m=Symbol.for("react.early_return_sentinel");e:{const y=gge(s),v=mge(s,y),b=uz(s,y);if(!v||v.sections.length===0){let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=f.jsx("div",{className:"text-neutral-500 text-sm",children:"No visualization available"}),e[8]=x):x=e[8],m=x;break e}c="space-y-4",u=!a&&b.length>0&&f.jsx(jL,{context:n,actions:b,resource:s,onActionComplete:r}),h=v.sections.map(vge)}e[0]=n,e[1]=a,e[2]=r,e[3]=s,e[4]=c,e[5]=u,e[6]=h,e[7]=m}else c=e[4],u=e[5],h=e[6],m=e[7];if(m!==Symbol.for("react.early_return_sentinel"))return m;let p;return e[9]!==c||e[10]!==u||e[11]!==h?(p=f.jsxs("div",{className:c,children:[u,h]}),e[9]=c,e[10]=u,e[11]=h,e[12]=p):p=e[12],p}function vge(t){return f.jsx(TL,{section:t},t.id)}const bge=1e3;function _ge(t){const e=t.replace(/\r/g,""),n=e.match(/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?Z)\s*(.*)$/);if(n){const[,s,r]=n;return{timestamp:s,message:r}}return{message:e}}function xge(t){const e=De.c(21),{context:n,container:s,tailLines:r}=t,i=r===void 0?bge:r;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[0]=a):a=e[0];const[c,u]=V.useState(a),[h,m]=V.useState(null),p=V.useRef(null),y=s.Id;let v;e[1]!==s.Names?(v=s.Names??[],e[1]=s.Names,e[2]=v):v=e[2];let b;e[3]!==v?(b=Po(v),e[3]=v,e[4]=b):b=e[4];const x=b,S=s.State==="running";let k,C;e[5]!==y||e[6]!==x||e[7]!==n||e[8]!==S||e[9]!==i?(k=()=>{if(!S||!y)return;const D=new AbortController;return p.current=D,Xme(n,y,{follow:!0,stdout:!0,stderr:!0,timestamps:!0,tail:i},B=>{const q=_ge(B),P={timestamp:q.timestamp,message:q.message,source:x};u(W=>[...W,P])},D.signal).catch(B=>{B.name!=="AbortError"&&m(B.message)}),()=>{D.abort()}},C=[n,y,x,S,i],e[5]=y,e[6]=x,e[7]=n,e[8]=S,e[9]=i,e[10]=k,e[11]=C):(k=e[10],C=e[11]),V.useEffect(k,C);const N=S,R=S?void 0:"Container is not running. Start the container to view logs.";let O;e[12]!==x||e[13]!==N?(O=N?[x]:[],e[12]=x,e[13]=N,e[14]=O):O=e[14];let E;return e[15]!==h||e[16]!==N||e[17]!==c||e[18]!==O||e[19]!==R?(E={logs:c,sources:O,isLoading:!1,error:h,isAvailable:N,unavailableMessage:R},e[15]=h,e[16]=N,e[17]=c,e[18]=O,e[19]=R,e[20]=E):E=e[20],E}function wge(t){const e=De.c(10),{context:n,container:s,toolbarRef:r}=t;let i;e[0]!==s||e[1]!==n?(i={context:n,container:s},e[0]=s,e[1]=n,e[2]=i):i=e[2];const{logs:a,sources:c,isLoading:u,error:h,unavailableMessage:m}=xge(i);let p;return e[3]!==h||e[4]!==u||e[5]!==a||e[6]!==c||e[7]!==r||e[8]!==m?(p=f.jsx(RL,{logs:a,sources:c,isLoading:u,error:h,emptyMessage:"Waiting for logs...",unavailableMessage:m,toolbarRef:r}),e[3]=h,e[4]=u,e[5]=a,e[6]=c,e[7]=r,e[8]=m,e[9]=p):p=e[9],p}function Sge(t){const e=De.c(4),{context:n,container:s,toolbarRef:r}=t;let i;return e[0]!==s||e[1]!==n||e[2]!==r?(i=f.jsx(wge,{context:n,container:s,toolbarRef:r},s.Id),e[0]=s,e[1]=n,e[2]=r,e[3]=i):i=e[3],i}function kge({context:t,isOpen:e,onClose:n,otherPanelOpen:s=!1,resource:r,resourceType:i="containers"}){const[a,c]=V.useState(null),[u,h]=V.useState(!1),[m,p]=V.useState(null),[y,v]=V.useState("overview"),[b,x]=V.useState(null),[S,k]=V.useState(null),C=V.useRef(null),N=5e3,O=V.useCallback(I=>I?i==="containers"||i==="images"?I.Id??"":i==="volumes"?I.Name??"":i==="networks"?I.Id??"":"":"",[i])(r),D=V.useCallback(I=>{if(!I)return"";if(i==="containers")return Po(I.Names??[]);if(i==="images"){const Y=I,Q=Y.RepoTags?.[0];return Q||(Y.Id?.replace("sha256:","").substring(0,12)??"")}return i==="volumes"||i==="networks"?I.Name??"":""},[i])(r),B=V.useCallback(async()=>{if(O)try{let I;if(i==="containers")I=await I2(t,O);else{if(i==="images")return;i==="volumes"?I=await i6(t,O):i==="networks"&&(I=await a6(t,O))}I&&c(I)}catch{}},[O,i,t]);V.useEffect(()=>{if(!e||!O||!a||i==="images")return;const I=setInterval(()=>{B()},N);return()=>clearInterval(I)},[e,O,a,B,i]),V.useEffect(()=>{if(v("overview"),!O){c(null),p(null);return}if(i==="images"){c(r);return}(async()=>{h(!0),p(null);try{let Y;i==="containers"?Y=await I2(t,O):i==="volumes"?Y=await i6(t,O):i==="networks"&&(Y=await a6(t,O)),Y&&c(Y)}catch(Y){p(Y instanceof Error?Y.message:"Failed to fetch resource details")}finally{h(!1)}})()},[O,i,r,t]);const q=i==="containers"?"container":i==="images"?"image":i==="volumes"?"volume":"network",P=a?uz(a,q).filter(I=>!(I.isVisible&&!I.isVisible(a))):[],W=async I=>{if(I.confirm){k(I);return}await z(I)},z=async I=>{if(a){x(I.id),k(null);try{await I.execute(t,a),await B()}catch(Y){console.error("Action failed:",Y)}finally{x(null)}}};if(!e)return null;const X=i==="containers"?[{id:"overview",label:"Overview"},{id:"logs",label:"Logs"}]:[{id:"overview",label:"Overview"}],G=pge(q);return f.jsxs("div",{className:`fixed right-0 top-0 h-full bg-white dark:bg-neutral-900 border-l border-neutral-200 dark:border-neutral-700 shadow-xl z-30 flex flex-col transition-all duration-300 ${s?"w-md":"w-xl"}`,children:[f.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-4 border-b border-neutral-200 dark:border-neutral-800",children:[f.jsx("div",{className:"flex items-center gap-3 min-w-0",children:f.jsxs("div",{className:"min-w-0",children:[f.jsx("h2",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-100 truncate",children:D||"Resource"}),r&&f.jsx("span",{className:"text-xs text-neutral-400 font-mono mt-0.5",children:O.substring(0,12)})]})}),f.jsx("div",{className:"flex items-center gap-1",children:f.jsx("button",{onClick:n,className:"p-2 rounded-lg text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 transition-colors",title:"Close",children:f.jsx(Sv,{size:16})})})]}),f.jsxs("div",{className:"shrink-0 border-b border-neutral-200 dark:border-neutral-800 flex items-center",children:[f.jsx("div",{className:"flex",children:X.filter(I=>I.id!=="overview"||G).map(I=>f.jsx("button",{onClick:()=>v(I.id),className:`px-4 py-2.5 text-sm font-medium transition-colors ${y===I.id?"text-neutral-900 dark:text-neutral-100 border-b-2 border-neutral-900 dark:border-neutral-100":"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:I.label},I.id))}),f.jsxs("div",{className:"ml-auto pr-4 flex items-center gap-1",children:[f.jsx("div",{ref:C,className:"flex items-center gap-1"}),y==="overview"&&P.map(I=>{const Y=I.isDisabled?.(a),Q=Y===!0||typeof Y=="string",$=typeof Y=="string"?Y:void 0,A=b===I.id;return f.jsx("button",{onClick:()=>W(I),disabled:Q||A,title:$||I.label,className:`
                  flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded transition-colors
                  ${Q||A?"opacity-50 cursor-not-allowed":""}
                  ${I.variant==="primary"?"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":I.variant==="warning"?"text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":I.variant==="danger"?"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-neutral-200 dark:hover:bg-neutral-800":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-800"}
                `,children:A?f.jsx(Sa,{size:14,className:"animate-spin"}):I.icon},I.id)})]})]}),S&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:S.confirm?.title}),f.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-6",children:S.confirm?.message}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>k(null),className:"px-4 py-2 text-sm font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:()=>z(S),className:`px-4 py-2 text-sm font-medium rounded transition-colors ${S.variant==="danger"?"bg-red-600 hover:bg-red-700 text-white":S.variant==="warning"?"bg-amber-600 hover:bg-amber-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:S.confirm?.confirmLabel||"Confirm"})]})]})}),f.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:u&&!a?f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsx(Sa,{className:"w-6 h-6 text-neutral-400 animate-spin"})}):m?f.jsx("div",{className:"p-4 text-red-500 text-sm",children:m}):r?f.jsxs(f.Fragment,{children:[y==="overview"&&a&&f.jsx("div",{className:"h-full overflow-auto p-4",children:f.jsx(yge,{context:t,resource:a,onActionComplete:B,hideActions:!0})}),y==="logs"&&i==="containers"&&r&&f.jsx(Sge,{context:t,container:r,toolbarRef:C})]}):f.jsx("div",{className:"p-4 text-neutral-500 text-sm",children:"No resource selected"})})]})}const Fw="ai";function u6(t,e){switch(e){case"containers":return t.Id??"";case"images":return t.Id??"";case"volumes":return t.Name??"";case"networks":return t.Id??"";default:return""}}function Cge(t,e){switch(e){case"containers":{const n=t;return n.Names?Po(n.Names):n.Id?.substring(0,12)??""}case"images":{const n=t;return n.RepoTags?.[0]?.replace(/:/g,"-")??n.Id?.substring(7,19)??""}case"volumes":return t.Name??"";case"networks":return t.Name??"";default:return""}}async function Nge(t,e){let n;switch(e){case"containers":{const s=await Qf(t,!0);n=iz(s);break}case"images":{const s=await b4(t);n=az(s);break}case"volumes":{const s=await zme(t);n=oz(s);break}case"networks":{const s=await Hme(t);n=lz(s);break}}return[...n.rows].sort((s,r)=>{const i=u6(s.object,e),a=u6(r.object,e);return i.localeCompare(a)})}function Ege(t){const e=De.c(51),{resourceType:n,context:s,selectedItem:r,onSelectItem:i}=t,{isOpen:a,toggle:c,close:u}=RN();let h;e[0]!==a?(h=a(Fw),e[0]=a,e[1]=h):h=e[1];const m=h;let p;e[2]!==s||e[3]!==n?(p={queryKey:["docker",s,n],queryFn:()=>Nge(s,n),refetchInterval:5e3},e[2]=s,e[3]=n,e[4]=p):p=e[4];const{data:y,isLoading:v,error:b,refetch:x,isFetching:S}=J0(p);let k;e[5]!==y?(k=y===void 0?[]:y,e[5]=y,e[6]=k):k=e[6];const C=k,N=S&&!v;let R;e[7]===Symbol.for("react.memo_cache_sentinel")?(R=rge(),e[7]=R):R=e[7];const O=R;let E;e[8]!==n?(E={name:n,namespaced:!1},e[8]=n,e[9]=E):E=e[9];const D=E;let B;e:{switch(n){case"containers":{let Z;e[10]!==C?(Z=iz(C.map(Rge)),e[10]=C,e[11]=Z):Z=e[11],B=Z;break e}case"images":{let Z;e[12]!==C?(Z=az(C.map(Tge)),e[12]=C,e[13]=Z):Z=e[13],B=Z;break e}case"volumes":{let Z;e[14]!==C?(Z=oz(C.map(jge)),e[14]=C,e[15]=Z):Z=e[15],B=Z;break e}case"networks":{let Z;e[16]!==C?(Z=lz(C.map(Age)),e[16]=C,e[17]=Z):Z=e[17],B=Z;break e}}B=void 0}const q=B;let P;e[18]===Symbol.for("react.memo_cache_sentinel")?(P={containers:"Containers",images:"Images",volumes:"Volumes",networks:"Networks"},e[18]=P):P=e[18];const z=P[n];let K;e[19]!==s||e[20]!==n?(K=Z=>{const oe=Z?.object;return{context:s,selectedResourceType:n,selectedContainerId:n==="containers"?oe?.Id?.substring(0,12):void 0,selectedContainerName:n==="containers"&&oe?.Names?Po(oe.Names):void 0}},e[19]=s,e[20]=n,e[21]=K):K=e[21];const X=K;let G;e[22]!==m||e[23]!==c?(G=()=>$i().ai?f.jsx("button",{onClick:()=>c(Fw),className:`p-2 rounded-md transition-colors ${m?"text-sky-400 hover:text-sky-300 hover:bg-neutral-100 dark:hover:bg-neutral-800":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-500 dark:hover:text-neutral-300 dark:hover:bg-neutral-800"}`,title:"AI Assistant",children:f.jsx(xD,{size:18})}):null,e[22]=m,e[23]=c,e[24]=G):G=e[24];const I=G;let Y;e[25]!==u||e[26]!==X||e[27]!==m?(Y=(Z,oe)=>{const ke=X(Z);return f.jsx(nz,{isOpen:m,onClose:()=>u(Fw),otherPanelOpen:oe,adapter:O,environment:ke})},e[25]=u,e[26]=X,e[27]=m,e[28]=Y):Y=e[28];const Q=Y,$=n==="containers"||n==="images"||n==="volumes"||n==="networks";let A;e[29]!==s||e[30]!==m||e[31]!==n||e[32]!==$?(A=$?(Z,oe,ke)=>f.jsx(kge,{context:s,isOpen:!0,onClose:oe,otherPanelOpen:ke||m,resource:Z.object,resourceType:n}):void 0,e[29]=s,e[30]=m,e[31]=n,e[32]=$,e[33]=A):A=e[33];const M=A;let H;e[34]!==n?(H=Z=>Cge(Z.object,n),e[34]=n,e[35]=H):H=e[35];const T=H,J=q;let ne;return e[36]!==D||e[37]!==b||e[38]!==T||e[39]!==N||e[40]!==v||e[41]!==i||e[42]!==x||e[43]!==M||e[44]!==Q||e[45]!==I||e[46]!==r||e[47]!==$||e[48]!==J||e[49]!==z?(ne=f.jsx(vP,{config:D,title:z,data:J,loading:v,error:b,refetch:x,isRefetching:N,showDetailPanel:$,renderDetailPanel:M,renderHeaderActions:I,renderExtraPanels:Q,selectedItemName:r,onSelectItemName:i,getItemName:T}),e[36]=D,e[37]=b,e[38]=T,e[39]=N,e[40]=v,e[41]=i,e[42]=x,e[43]=M,e[44]=Q,e[45]=I,e[46]=r,e[47]=$,e[48]=J,e[49]=z,e[50]=ne):ne=e[50],ne}function Age(t){return t.object}function jge(t){return t.object}function Tge(t){return t.object}function Rge(t){return t.object}const Oge=["containers","images","volumes","networks"];function Mge(t){return Oge.includes(t)}function Dge(){const t=De.c(52);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={strict:!1},t[0]=e):e=t[0];const{context:n,resourceType:s,name:r}=jp(e),i=oh();let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=$i(),t[1]=a):a=t[1];const c=a,[u,h]=V.useState(!1);let m;t[2]===Symbol.for("react.memo_cache_sentinel")?(m=c.kubernetes?.contexts||[],t[2]=m):m=t[2];const p=m;let y;t[3]===Symbol.for("react.memo_cache_sentinel")?(y=c.docker?.contexts||[],t[3]=y):y=t[3];const v=y,b=!s;let x;t[4]!==s?(x=s&&Mge(s)?s:null,t[4]=s,t[5]=x):x=t[5];const S=x;let k;t[6]!==S||t[7]!==i?(k=ne=>{i(S?{to:"/docker/$context/$resourceType",params:{context:ne,resourceType:S}}:{to:"/docker/$context",params:{context:ne}})},t[6]=S,t[7]=i,t[8]=k):k=t[8];const C=k;let N;t[9]!==n||t[10]!==i?(N=ne=>{i({to:"/docker/$context/$resourceType",params:{context:n,resourceType:ne}})},t[9]=n,t[10]=i,t[11]=N):N=t[11];const R=N;let O;t[12]!==n||t[13]!==S||t[14]!==i?(O=ne=>{S&&i(ne?{to:"/docker/$context/$resourceType/$name",params:{context:n,resourceType:S,name:ne}}:{to:"/docker/$context/$resourceType",params:{context:n,resourceType:S}})},t[12]=n,t[13]=S,t[14]=i,t[15]=O):O=t[15];const E=O;let D;t[16]!==i?(D=ne=>{i({to:"/cluster/$context",params:{context:ne}})},t[16]=i,t[17]=D):D=t[17];const B=D;let q;t[18]===Symbol.for("react.memo_cache_sentinel")?(q=()=>{h(!1)},t[18]=q):q=t[18];const P=q;let W;t[19]!==n||t[20]!==i?(W=(ne,Z)=>{i({to:"/docker/$context/$resourceType/$name",params:{context:n,resourceType:ne,name:Z}})},t[19]=n,t[20]=i,t[21]=W):W=t[21];const z=W,K=n||"";let X;t[22]!==z||t[23]!==R||t[24]!==K?(X=ege({context:K,onSelectResource:R,onSelectItem:z,onClose:P}),t[22]=z,t[23]=R,t[24]=K,t[25]=X):X=t[25];const G=X;let I,Y;t[26]===Symbol.for("react.memo_cache_sentinel")?(I=()=>{const ne=Z=>{(Z.metaKey||Z.ctrlKey)&&Z.key==="k"&&(Z.preventDefault(),h(Bge))};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},Y=[],t[26]=I,t[27]=Y):(I=t[26],Y=t[27]),V.useEffect(I,Y);const Q=n||"";let $;t[28]!==B||t[29]!==C||t[30]!==Q?($=f.jsx("div",{className:"shrink-0 px-3 pt-3 pb-2",children:f.jsx(ND,{mode:"docker",contexts:p,selectedContext:"",onSelectContext:B,dockerContexts:v,selectedDockerContext:Q,onSelectDockerContext:C})}),t[28]=B,t[29]=C,t[30]=Q,t[31]=$):$=t[31];let A;t[32]!==S||t[33]!==b||t[34]!==R?(A=f.jsx(Pme,{selectedResource:S,onSelectResource:R,isWelcome:b}),t[32]=S,t[33]=b,t[34]=R,t[35]=A):A=t[35];let M;t[36]!==$||t[37]!==A?(M=f.jsx("div",{className:"py-2 pl-2 shrink-0 h-full",children:f.jsxs("aside",{className:"w-56 h-full shrink-0 bg-white dark:bg-black/40 backdrop-blur-xl flex flex-col rounded-xl border border-neutral-300/50 dark:border-neutral-700/50",children:[$,A]})}),t[36]=$,t[37]=A,t[38]=M):M=t[38];let H;t[39]!==n||t[40]!==S||t[41]!==b||t[42]!==r||t[43]!==E?(H=b?f.jsx("main",{className:"flex-1 flex flex-col h-full min-w-0 items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-48 h-48 mx-auto dark:hidden"}),f.jsx("img",{src:"/logo_dark.png",alt:"Logo",className:"w-48 h-48 mx-auto hidden dark:block"}),f.jsxs("p",{className:"mt-4 text-sm text-neutral-500 dark:text-neutral-400",children:["Select a resource from the sidebar or press ",f.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-neutral-200 dark:bg-neutral-700 text-xs",children:"K"})," to search"]})]})}):S?f.jsx(Ege,{context:n||"",resourceType:S,selectedItem:r,onSelectItem:E},S):null,t[39]=n,t[40]=S,t[41]=b,t[42]=r,t[43]=E,t[44]=H):H=t[44];let T;t[45]!==G||t[46]!==u?(T=f.jsx(ED,{isOpen:u,onClose:P,adapter:G}),t[45]=G,t[46]=u,t[47]=T):T=t[47];let J;return t[48]!==M||t[49]!==H||t[50]!==T?(J=f.jsxs("div",{className:"flex h-screen overflow-hidden bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[M,H,T]}),t[48]=M,t[49]=H,t[50]=T,t[51]=J):J=t[51],J}function Bge(t){return!t}function Lge(){const t=De.c(14);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=$i(),t[0]=e):e=t[0];const n=e,s=oh();n.kubernetes?.contexts;let r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r=n.kubernetes?.contexts||[],t[1]=r):r=t[1];const i=r;let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=()=>n.docker?.contexts||[],t[2]=a):a=t[2],n.docker?.contexts;let c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c=a(),t[3]=c):c=t[3];const u=c,h=i.length>0,m=u.length>0;let p;t[4]!==s?(p=()=>{if(h){const b=n.kubernetes?.defaultContext||i[0];s({to:"/cluster/$context",params:{context:b},replace:!0});return}if(m){const b=n.docker?.defaultContext||u[0];s({to:"/docker/$context",params:{context:b},replace:!0});return}},t[4]=s,t[5]=p):p=t[5];let y;if(t[6]!==s?(y=[h,m,n.kubernetes?.defaultContext,n.docker?.defaultContext,i,u,s],t[6]=s,t[7]=y):y=t[7],V.useEffect(p,y),!h&&!m){let b,x,S;t[8]===Symbol.for("react.memo_cache_sentinel")?(b=f.jsxs("div",{className:"mb-6",children:[f.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-32 h-32 mx-auto dark:hidden opacity-50"}),f.jsx("img",{src:"/logo_dark.png",alt:"Logo",className:"w-32 h-32 mx-auto hidden dark:block opacity-50"})]}),x=f.jsx("h1",{className:"text-xl font-semibold text-neutral-700 dark:text-neutral-300 mb-3",children:"No Contexts Available"}),S=f.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:"No Kubernetes or Docker contexts were found. Make sure your kubeconfig or Docker configuration is set up correctly."}),t[8]=b,t[9]=x,t[10]=S):(b=t[8],x=t[9],S=t[10]);let k;t[11]===Symbol.for("react.memo_cache_sentinel")?(k=f.jsx("p",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:"Quick setup:"}),t[11]=k):k=t[11];let C;return t[12]===Symbol.for("react.memo_cache_sentinel")?(C=f.jsx("div",{className:"flex h-screen overflow-hidden bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:f.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:f.jsxs("div",{className:"max-w-md mx-auto px-8 text-center",children:[b,x,S,f.jsxs("div",{className:"text-left text-xs text-neutral-400 dark:text-neutral-500 space-y-2 bg-neutral-100 dark:bg-neutral-800/50 rounded-lg p-4",children:[k,f.jsxs("p",{children:[" For Kubernetes: ensure ",f.jsx("code",{className:"bg-neutral-200 dark:bg-neutral-700 px-1 rounded",children:"~/.kube/config"})," exists"]}),f.jsx("p",{children:" For Docker: ensure Docker Desktop or Docker Engine is running"})]})]})})}),t[12]=C):C=t[12],C}let v;return t[13]===Symbol.for("react.memo_cache_sentinel")?(v=f.jsx("div",{className:"flex h-screen overflow-hidden bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:f.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:f.jsxs("div",{className:"mb-8",children:[f.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-32 h-32 mx-auto dark:hidden opacity-50"}),f.jsx("img",{src:"/logo_dark.png",alt:"Logo",className:"w-32 h-32 mx-auto hidden dark:block opacity-50"})]})})}),t[13]=v):v=t[13],v}const Ige=uD({namespace:kK().optional(),panel:iC(["ai"]).optional()}),Pge=uD({panel:iC(["ai"]).optional()}),Kb=tH({component:()=>f.jsx(UH,{client:gW,children:f.jsx(T6,{})})}),$ge=Fi({getParentRoute:()=>Kb,path:"/",component:Lge}),Wb=Fi({getParentRoute:()=>Kb,path:"cluster/$context",validateSearch:Ige,component:Tme,beforeLoad:({params:t})=>{if(!($i().kubernetes?.contexts||[]).includes(t.context))throw H2({to:"/"})}}),zge=Fi({getParentRoute:()=>Wb,path:"/"}),hz=Fi({getParentRoute:()=>Wb,path:"$resourceType"}),Uge=Fi({getParentRoute:()=>hz,path:"$name"}),x4=Fi({getParentRoute:()=>Kb,path:"docker/$context",validateSearch:Pge,component:Dge,beforeLoad:({params:t})=>{if(!($i().docker?.contexts||[]).includes(t.context))throw H2({to:"/"})}}),Hge=Fi({getParentRoute:()=>x4,path:"/"}),dz=Fi({getParentRoute:()=>x4,path:"$resourceType"}),Fge=Fi({getParentRoute:()=>dz,path:"$name"}),Vge=Kb.addChildren([$ge,Wb.addChildren([zge,hz.addChildren([Uge])]),x4.addChildren([Hge,dz.addChildren([Fge])])]),qge=uH({routeTree:Vge,defaultPreload:"intent"});pH().then(()=>{O9.createRoot(document.getElementById("root")).render(f.jsx(V.StrictMode,{children:f.jsx(fH,{router:qge})}))});
